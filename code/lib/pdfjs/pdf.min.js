(function(d,b){"object"===typeof exports&&"object"===typeof module?module.exports=b():"function"===typeof define&&define.amd?define("pdfjs-dist/build/pdf",[],b):"object"===typeof exports?exports["pdfjs-dist/build/pdf"]=b():d["pdfjs-dist/build/pdf"]=d.pdfjsLib=b()})(this,function(){return function(d){function b(h){if(a[h])return a[h].exports;var j=a[h]={i:h,l:!1,exports:{}};d[h].call(j.exports,j,j.exports,b);j.l=!0;return j.exports}var a={};b.m=d;b.c=a;b.d=function(a,j,g){b.o(a,j)||Object.defineProperty(a,
j,{enumerable:!0,get:g})};b.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"});Object.defineProperty(a,"__esModule",{value:!0})};b.t=function(a,j){j&1&&(a=b(a));if(j&8||j&4&&"object"===typeof a&&a&&a.__esModule)return a;var g=Object.create(null);b.r(g);Object.defineProperty(g,"default",{enumerable:!0,value:a});if(j&2&&"string"!=typeof a)for(var t in a)b.d(g,t,function(g){return a[g]}.bind(null,t));return g};b.n=function(a){var j=
a&&a.__esModule?function(){return a["default"]}:function(){return a};b.d(j,"a",j);return j};b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};b.p="";return b(b.s=0)}([function(d,b,a){var d=a(1),h=a(122),j=a(138),g=a(139),t=a(123),o=a(140),u=a(128),k=a(125);if(a(4)()){var s=a(141).PDFNodeStream;h.setPDFNetworkStreamFactory(function(a){return new s(a)})}else if("undefined"!==typeof Response&&"body"in Response.prototype&&"undefined"!==typeof ReadableStream){var v=a(144).PDFFetchStream;
h.setPDFNetworkStreamFactory(function(a){return new v(a)})}else{var n=a(145).PDFNetworkStream;h.setPDFNetworkStreamFactory(function(a){return new n(a)})}b.build=h.build;b.version=h.version;b.getDocument=h.getDocument;b.LoopbackPort=h.LoopbackPort;b.PDFDataRangeTransport=h.PDFDataRangeTransport;b.PDFWorker=h.PDFWorker;b.renderTextLayer=j.renderTextLayer;b.AnnotationLayer=g.AnnotationLayer;b.createPromiseCapability=d.createPromiseCapability;b.PasswordResponses=d.PasswordResponses;b.InvalidPDFException=
d.InvalidPDFException;b.MissingPDFException=d.MissingPDFException;b.SVGGraphics=o.SVGGraphics;b.NativeImageDecoding=d.NativeImageDecoding;b.UnexpectedResponseException=d.UnexpectedResponseException;b.OPS=d.OPS;b.VerbosityLevel=d.VerbosityLevel;b.UNSUPPORTED_FEATURES=d.UNSUPPORTED_FEATURES;b.createValidAbsoluteUrl=d.createValidAbsoluteUrl;b.createObjectURL=d.createObjectURL;b.removeNullCharacters=d.removeNullCharacters;b.shadow=d.shadow;b.Util=d.Util;b.ReadableStream=d.ReadableStream;b.URL=d.URL;b.RenderingCancelledException=
t.RenderingCancelledException;b.getFilenameFromUrl=t.getFilenameFromUrl;b.LinkTarget=t.LinkTarget;b.addLinkAttributes=t.addLinkAttributes;b.loadScript=t.loadScript;b.GlobalWorkerOptions=u.GlobalWorkerOptions;b.apiCompatibilityParams=k.apiCompatibilityParams},function(d,b,a){function h(c){v>=s.WARNINGS&&console.log("Warning: "+c)}function j(c){throw Error(c);}function g(c,e){c||j(e)}function t(c){g("string"===typeof c,"Invalid argument for stringToBytes");for(var e=c.length,f=new Uint8Array(e),a=0;a<
e;++a)f[a]=c.charCodeAt(a)&255;return f}function o(c){if(void 0!==c.length)return c.length;g(void 0!==c.byteLength);return c.byteLength}Object.defineProperty(b,"__esModule",{value:!0});b.unreachable=b.warn=b.utf8StringToString=b.stringToUTF8String=b.stringToPDFString=b.stringToBytes=b.string32=b.shadow=b.setVerbosityLevel=b.URL=b.ReadableStream=b.removeNullCharacters=b.readUint32=b.readUint16=b.readInt8=b.log2=b.isEvalSupported=b.isLittleEndian=b.createValidAbsoluteUrl=b.isSameOrigin=b.isSpace=b.isString=
b.isNum=b.isEmptyObj=b.isBool=b.isArrayBuffer=b.info=b.getVerbosityLevel=b.getLookupTableFactory=b.getInheritableProperty=b.deprecated=b.createObjectURL=b.createPromiseCapability=b.bytesToString=b.assert=b.arraysToBytes=b.arrayByteLength=b.FormatError=b.XRefParseException=b.toRomanNumerals=b.Util=b.UnknownErrorException=b.UnexpectedResponseException=b.TextRenderingMode=b.StreamType=b.PermissionFlag=b.PasswordResponses=b.PasswordException=b.NativeImageDecoding=b.MissingPDFException=b.MissingDataException=
b.InvalidPDFException=b.AbortException=b.CMapCompressionType=b.ImageKind=b.FontType=b.AnnotationType=b.AnnotationFlag=b.AnnotationFieldFlag=b.AnnotationBorderStyleType=b.UNSUPPORTED_FEATURES=b.VerbosityLevel=b.OPS=b.IDENTITY_MATRIX=b.FONT_IDENTITY_MATRIX=void 0;var u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c};a(2);var d=a(118),k=a(120),s=
{ERRORS:0,WARNINGS:1,INFOS:5},v=s.WARNINGS,a=function(){function c(x,e){this.name="PasswordException";this.message=x;this.code=e}c.prototype=Error();return c.constructor=c}(),n=function(){function c(e,x){this.name="UnknownErrorException";this.message=e;this.details=x}c.prototype=Error();return c.constructor=c}(),i=function(){function c(e){this.name="InvalidPDFException";this.message=e}c.prototype=Error();return c.constructor=c}(),c=function(){function c(e){this.name="MissingPDFException";this.message=
e}c.prototype=Error();return c.constructor=c}(),f=function(){function c(e,f){this.name="UnexpectedResponseException";this.message=e;this.status=f}c.prototype=Error();return c.constructor=c}(),l=function(){function c(e,f){this.begin=e;this.end=f;this.message="Missing data ["+e+", "+f+")"}c.prototype=Error();c.prototype.name="MissingDataException";return c.constructor=c}(),e=function(){function c(e){this.message=e}c.prototype=Error();c.prototype.name="XRefParseException";return c.constructor=c}(),q=
function(){function c(e){this.message=e}c.prototype=Error();c.prototype.name="FormatError";return c.constructor=c}(),m=function(){function c(e){this.name="AbortException";this.message=e}c.prototype=Error();return c.constructor=c}(),r=/\x00/g,z=function(){function c(){}var e=["rgb(",0,",",0,",",0,")"];c.makeCssRgb=function(c,f,a){e[1]=c;e[3]=f;e[5]=a;return e.join("")};c.transform=function(c,e){return[c[0]*e[0]+c[2]*e[1],c[1]*e[0]+c[3]*e[1],c[0]*e[2]+c[2]*e[3],c[1]*e[2]+c[3]*e[3],c[0]*e[4]+c[2]*e[5]+
c[4],c[1]*e[4]+c[3]*e[5]+c[5]]};c.applyTransform=function(c,e){return[c[0]*e[0]+c[1]*e[2]+e[4],c[0]*e[1]+c[1]*e[3]+e[5]]};c.applyInverseTransform=function(c,e){var f=e[0]*e[3]-e[1]*e[2];return[(c[0]*e[3]-c[1]*e[2]+e[2]*e[5]-e[4]*e[3])/f,(-c[0]*e[1]+c[1]*e[0]+e[4]*e[1]-e[5]*e[0])/f]};c.getAxialAlignedBoundingBox=function(e,f){var a=c.applyTransform(e,f),i=c.applyTransform(e.slice(2,4),f),l=c.applyTransform([e[0],e[3]],f),g=c.applyTransform([e[2],e[1]],f);return[Math.min(a[0],i[0],l[0],g[0]),Math.min(a[1],
i[1],l[1],g[1]),Math.max(a[0],i[0],l[0],g[0]),Math.max(a[1],i[1],l[1],g[1])]};c.inverseTransform=function(c){var e=c[0]*c[3]-c[1]*c[2];return[c[3]/e,-c[1]/e,-c[2]/e,c[0]/e,(c[2]*c[5]-c[4]*c[3])/e,(c[4]*c[1]-c[5]*c[0])/e]};c.apply3dTransform=function(c,e){return[c[0]*e[0]+c[1]*e[1]+c[2]*e[2],c[3]*e[0]+c[4]*e[1]+c[5]*e[2],c[6]*e[0]+c[7]*e[1]+c[8]*e[2]]};c.singularValueDecompose2dScale=function(c){var e=[c[0],c[2],c[1],c[3]],f=c[0]*e[0]+c[1]*e[2],a=c[2]*e[1]+c[3]*e[3],x=(f+a)/2,c=Math.sqrt((f+a)*(f+
a)-4*(f*a-(c[2]*e[0]+c[3]*e[2])*(c[0]*e[1]+c[1]*e[3])))/2,e=x-c||1;return[Math.sqrt(x+c||1),Math.sqrt(e)]};c.normalizeRect=function(c){var e=c.slice(0);c[0]>c[2]&&(e[0]=c[2],e[2]=c[0]);c[1]>c[3]&&(e[1]=c[3],e[3]=c[1]);return e};c.intersect=function(e,f){function a(c,e){return c-e}var i=[e[0],e[2],f[0],f[2]].sort(a),l=[e[1],e[3],f[1],f[3]].sort(a),g=[],e=c.normalizeRect(e),f=c.normalizeRect(f);if(i[0]===e[0]&&i[1]===f[0]||i[0]===f[0]&&i[1]===e[0])g[0]=i[1],g[2]=i[2];else return!1;if(l[0]===e[1]&&l[1]===
f[1]||l[0]===f[1]&&l[1]===e[1])g[1]=l[1],g[3]=l[2];else return!1;return g};return c}(),w=" C CC CCC CD D DC DCC DCCC CM  X XX XXX XL L LX LXX LXXX XC  I II III IV V VI VII VIII IX".split(" "),p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,
8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],y=function(){return function(c,e){if((!(2<arguments.length&&void 0!==arguments[2])||!arguments[2])&&k.URL.createObjectURL){var f=new Blob([c],{type:e});return k.URL.createObjectURL(f)}for(var f="data:"+e+";base64,",a=0,i=c.length;a<i;a+=3)var l=c[a]&255,g=c[a+1]&255,m=c[a+2]&255,f=f+("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[l>>2]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[(l&
3)<<4|g>>4]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[a+1<i?(g&15)<<2|m>>6:64]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[a+2<i?m&63:64]);return f}}();b.FONT_IDENTITY_MATRIX=[0.001,0,0,0.001,0,0];b.IDENTITY_MATRIX=[1,0,0,1,0,0];b.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,
closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,
setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,
endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};b.VerbosityLevel=s;b.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"};b.AnnotationBorderStyleType={SOLID:1,
DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};b.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};b.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};
b.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};b.FontType={UNKNOWN:0,TYPE1:1,TYPE1C:2,CIDFONTTYPE0:3,CIDFONTTYPE0C:4,TRUETYPE:5,CIDFONTTYPE2:6,TYPE3:7,OPENTYPE:8,TYPE0:9,MMTYPE1:10};b.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};b.CMapCompressionType=
{NONE:0,BINARY:1,STREAM:2};b.AbortException=m;b.InvalidPDFException=i;b.MissingDataException=l;b.MissingPDFException=c;b.NativeImageDecoding={NONE:"none",DECODE:"decode",DISPLAY:"display"};b.PasswordException=a;b.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};b.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};b.StreamType={UNKNOWN:0,FLATE:1,LZW:2,DCT:3,JPX:4,JBIG:5,A85:6,AHX:7,
CCF:8,RL:9};b.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};b.UnexpectedResponseException=f;b.UnknownErrorException=n;b.Util=z;b.toRomanNumerals=function(c){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;g(Number.isInteger(c)&&0<c,"The number should be a positive integer.");for(var f=void 0,a=[];1E3<=c;)c-=1E3,a.push("M");f=c/100|0;c%=100;a.push(w[f]);
f=c/10|0;c%=10;a.push(w[10+f]);a.push(w[20+c]);f=a.join("");return e?f.toLowerCase():f};b.XRefParseException=e;b.FormatError=q;b.arrayByteLength=o;b.arraysToBytes=function(c){if(1===c.length&&c[0]instanceof Uint8Array)return c[0];var e=0,f,a=c.length,i,l;for(f=0;f<a;f++)i=c[f],l=o(i),e+=l;var g=0,e=new Uint8Array(e);for(f=0;f<a;f++)i=c[f],i instanceof Uint8Array||(i="string"===typeof i?t(i):new Uint8Array(i)),l=i.byteLength,e.set(i,g),g+=l;return e};b.assert=g;b.bytesToString=function(c){g(null!==
c&&"object"===("undefined"===typeof c?"undefined":u(c))&&void 0!==c.length,"Invalid argument for bytesToString");var e=c.length;if(8192>e)return String.fromCharCode.apply(null,c);for(var f=[],a=0;a<e;a+=8192){var i=Math.min(a+8192,e),i=c.subarray(a,i);f.push(String.fromCharCode.apply(null,i))}return f.join("")};b.createPromiseCapability=function(){var c={};c.promise=new Promise(function(e,f){c.resolve=e;c.reject=f});return c};b.createObjectURL=y;b.deprecated=function(c){console.log("Deprecated API usage: "+
c)};b.getInheritableProperty=function(c){for(var e=c.dict,f=c.key,a=c.getArray,a=void 0===a?!1:a,c=c.stopWhenFound,c=void 0===c?!0:c,i=0,l=void 0;e;){var g=a?e.getArray(f):e.get(f);if(void 0!==g){if(c)return g;l||(l=[]);l.push(g)}if(100<++i){h('getInheritableProperty: maximum loop count exceeded for "'+f+'"');break}e=e.get("Parent")}return l};b.getLookupTableFactory=function(c){var e;return function(){c&&(e=Object.create(null),c(e),c=null);return e}};b.getVerbosityLevel=function(){return v};b.info=
function(c){v>=s.INFOS&&console.log("Info: "+c)};b.isArrayBuffer=function(c){return"object"===("undefined"===typeof c?"undefined":u(c))&&null!==c&&void 0!==c.byteLength};b.isBool=function(c){return"boolean"===typeof c};b.isEmptyObj=function(c){for(var e in c)return!1;return!0};b.isNum=function(c){return"number"===typeof c};b.isString=function(c){return"string"===typeof c};b.isSpace=function(c){return 32===c||9===c||13===c||10===c};b.isSameOrigin=function(c,e){try{var f=new k.URL(c);if(!f.origin||
"null"===f.origin)return!1}catch(a){return!1}var i=new k.URL(e,f);return f.origin===i.origin};b.createValidAbsoluteUrl=function(c,e){if(!c)return null;try{var f=e?new k.URL(c,e):new k.URL(c),a;a:if(f)switch(f.protocol){case "http:":case "https:":case "ftp:":case "mailto:":case "tel:":a=!0;break a;default:a=!1}else a=!1;if(a)return f}catch(i){}return null};b.isLittleEndian=function(){var c=new Uint8Array(4);c[0]=1;return 1===(new Uint32Array(c.buffer,0,1))[0]};b.isEvalSupported=function(){try{return new Function(""),
!0}catch(c){return!1}};b.log2=function(c){return 0>=c?0:Math.ceil(Math.log2(c))};b.readInt8=function(c,e){return c[e]<<24>>24};b.readUint16=function(c,e){return c[e]<<8|c[e+1]};b.readUint32=function(c,e){return(c[e]<<24|c[e+1]<<16|c[e+2]<<8|c[e+3])>>>0};b.removeNullCharacters=function(c){return"string"!==typeof c?(h("The argument for removeNullCharacters must be a string."),c):c.replace(r,"")};b.ReadableStream=d.ReadableStream;b.URL=k.URL;b.setVerbosityLevel=function(c){Number.isInteger(c)&&(v=c)};
b.shadow=function(c,e,f){Object.defineProperty(c,e,{value:f,enumerable:!0,configurable:!0,writable:!1});return f};b.string32=function(c){return String.fromCharCode(c>>24&255,c>>16&255,c>>8&255,c&255)};b.stringToBytes=t;b.stringToPDFString=function(c){var e,f=c.length,a=[];if("\u00fe"===c[0]&&"\u00ff"===c[1])for(e=2;e<f;e+=2)a.push(String.fromCharCode(c.charCodeAt(e)<<8|c.charCodeAt(e+1)));else for(e=0;e<f;++e){var i=p[c.charCodeAt(e)];a.push(i?String.fromCharCode(i):c.charAt(e))}return a.join("")};
b.stringToUTF8String=function(c){return decodeURIComponent(escape(c))};b.utf8StringToString=function(c){return unescape(encodeURIComponent(c))};b.warn=h;b.unreachable=j},function(d,b,a){var d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=a(3);if(!h._pdfjsCompatibilityChecked){h._pdfjsCompatibilityChecked=!0;var j=a(4),g="object"===("undefined"===
typeof window?"undefined":d(window))&&"object"===("undefined"===typeof document?"undefined":d(document));(function(){!h.btoa&&j()&&(h.btoa=function(a){return Buffer.from(a,"binary").toString("base64")})})();(function(){!h.atob&&j()&&(h.atob=function(a){return Buffer.from(a,"base64").toString("binary")})})();(function(){g&&("currentScript"in document||Object.defineProperty(document,"currentScript",{get:function(){var a=document.getElementsByTagName("script");return a[a.length-1]},enumerable:!0,configurable:!0}))})();
(function(){g&&"undefined"===typeof Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})})();String.prototype.includes||a(5);Array.prototype.includes||a(33);Object.assign||a(42);Math.log2||(Math.log2=a(52));Number.isNaN||(Number.isNaN=a(54));Number.isInteger||(Number.isInteger=a(56));h.Promise||(h.Promise=a(59));h.WeakMap||(h.WeakMap=a(94));String.codePointAt||(String.codePointAt=a(111));String.fromCodePoint||(String.fromCodePoint=a(113));
Object.values||(Object.values=a(115))}},function(d){d.exports="undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof global&&global.Math===Math?global:"undefined"!==typeof self&&self.Math===Math?self:{}},function(d){var b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};d.exports=function(){return"object"===("undefined"===
typeof process?"undefined":b(process))&&"[object process]"===process+""}},function(d,b,a){a(6);d.exports=a(9).String.includes},function(d,b,a){var d=a(7),h=a(25);d(d.P+d.F*a(32)("includes"),"String",{includes:function(a){return!!~h(this,a,"includes").indexOf(a,1<arguments.length?arguments[1]:void 0)}})},function(d,b,a){var h=a(8),j=a(9),g=a(10),t=a(20),o=a(23),b=function k(a,b,n){var i=a&k.F,c=a&k.G,f=a&k.S,l=a&k.P,e=a&k.B,f=c?h:f?h[b]||(h[b]={}):(h[b]||{}).prototype,q=c?j:j[b]||(j[b]={}),m=q.prototype||
(q.prototype={}),r;c&&(n=b);for(r in n)c=!i&&f&&void 0!==f[r],b=(c?f:n)[r],c=e&&c?o(b,h):l&&"function"==typeof b?o(Function.call,b):b,f&&t(f,r,b,a&k.U),q[r]!=b&&g(q,r,c),l&&m[r]!=b&&(m[r]=b)};h.core=j;b.F=1;b.G=2;b.S=4;b.P=8;b.B=16;b.W=32;b.U=64;b.R=128;d.exports=b},function(d){d=d.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=d)},function(d){d=d.exports={version:"2.5.7"};"number"==typeof __e&&
(__e=d)},function(d,b,a){var h=a(11),j=a(19);d.exports=a(15)?function(a,b,o){return h.f(a,b,j(1,o))}:function(a,b,o){a[b]=o;return a}},function(d,b,a){var h=a(12),j=a(14),g=a(18),t=Object.defineProperty;b.f=a(15)?Object.defineProperty:function(a,b,k){h(a);b=g(b,!0);h(k);if(j)try{return t(a,b,k)}catch(s){}if("get"in k||"set"in k)throw TypeError("Accessors not supported!");"value"in k&&(a[b]=k.value);return a}},function(d,b,a){var h=a(13);d.exports=function(a){if(!h(a))throw TypeError(a+" is not an object!");
return a}},function(d){var b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};d.exports=function(a){return"object"===("undefined"===typeof a?"undefined":b(a))?null!==a:"function"===typeof a}},function(d,b,a){d.exports=!a(15)&&!a(16)(function(){return 7!=Object.defineProperty(a(17)("div"),"a",{get:function(){return 7}}).a})},function(d,b,a){d.exports=
!a(16)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(d){d.exports=function(b){try{return!!b()}catch(a){return!0}}},function(d,b,a){var b=a(13),h=a(8).document,j=b(h)&&b(h.createElement);d.exports=function(a){return j?h.createElement(a):{}}},function(d,b,a){var h=a(13);d.exports=function(a,g){if(!h(a))return a;var b,o;if(g&&"function"==typeof(b=a.toString)&&!h(o=b.call(a))||"function"==typeof(b=a.valueOf)&&!h(o=b.call(a))||!g&&"function"==typeof(b=a.toString)&&
!h(o=b.call(a)))return o;throw TypeError("Can't convert object to primitive value");}},function(d){d.exports=function(b,a){return{enumerable:!(b&1),configurable:!(b&2),writable:!(b&4),value:a}}},function(d,b,a){var h=a(8),j=a(10),g=a(21),t=a(22)("src"),o=Function.toString,u=(""+o).split("toString");a(9).inspectSource=function(a){return o.call(a)};(d.exports=function(a,b,o,n){var i="function"==typeof o;i&&(g(o,"name")||j(o,"name",b));a[b]!==o&&(i&&(g(o,t)||j(o,t,a[b]?""+a[b]:u.join(""+b))),a===h?a[b]=
o:n?a[b]?a[b]=o:j(a,b,o):(delete a[b],j(a,b,o)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[t]||o.call(this)})},function(d){var b={}.hasOwnProperty;d.exports=function(a,h){return b.call(a,h)}},function(d){var b=0,a=Math.random();d.exports=function(h){return"Symbol(".concat(void 0===h?"":h,")_",(++b+a).toString(36))}},function(d,b,a){var h=a(24);d.exports=function(a,b,d){h(a);if(void 0===b)return a;switch(d){case 1:return function(o){return a.call(b,o)};case 2:return function(o,
h){return a.call(b,o,h)};case 3:return function(o,h,k){return a.call(b,o,h,k)}}return function(){return a.apply(b,arguments)}}},function(d){d.exports=function(b){if("function"!=typeof b)throw TypeError(b+" is not a function!");return b}},function(d,b,a){var h=a(26),j=a(31);d.exports=function(a,b,o){if(h(b))throw TypeError("String#"+o+" doesn't accept regex!");return""+j(a)}},function(d,b,a){var h=a(13),j=a(27),g=a(28)("match");d.exports=function(a){var b;return h(a)&&(void 0!==(b=a[g])?!!b:"RegExp"==
j(a))}},function(d){var b={}.toString;d.exports=function(a){return b.call(a).slice(8,-1)}},function(d,b,a){var h=a(29)("wks"),j=a(22),g=a(8).Symbol,t="function"==typeof g;(d.exports=function(a){return h[a]||(h[a]=t&&g[a]||(t?g:j)("Symbol."+a))}).store=h},function(d,b,a){var b=a(9),h=a(8),j=h["__core-js_shared__"]||(h["__core-js_shared__"]={});(d.exports=function(a,b){return j[a]||(j[a]=void 0!==b?b:{})})("versions",[]).push({version:b.version,mode:a(30)?"pure":"global",copyright:"\u00a9 2018 Denis Pushkarev (zloirock.ru)"})},
function(d){d.exports=!1},function(d){d.exports=function(b){if(void 0==b)throw TypeError("Can't call method on  "+b);return b}},function(d,b,a){var h=a(28)("match");d.exports=function(a){var b=/./;try{"/./"[a](b)}catch(d){try{return b[h]=!1,!"/./"[a](b)}catch(o){}}return!0}},function(d,b,a){a(34);d.exports=a(9).Array.includes},function(d,b,a){var d=a(7),h=a(35)(!0);d(d.P,"Array",{includes:function(a){return h(this,a,1<arguments.length?arguments[1]:void 0)}});a(41)("includes")},function(d,b,a){var h=
a(36),j=a(38),g=a(40);d.exports=function(a){return function(b,d,k){var b=h(b),s=j(b.length),k=g(k,s);if(a&&d!=d)for(;s>k;){if(d=b[k++],d!=d)return!0}else for(;s>k;k++)if((a||k in b)&&b[k]===d)return a||k||0;return!a&&-1}}},function(d,b,a){var h=a(37),j=a(31);d.exports=function(a){return h(j(a))}},function(d,b,a){var h=a(27);d.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==h(a)?a.split(""):Object(a)}},function(d,b,a){var h=a(39),j=Math.min;d.exports=function(a){return 0<
a?j(h(a),9007199254740991):0}},function(d){var b=Math.ceil,a=Math.floor;d.exports=function(d){return isNaN(d=+d)?0:(0<d?a:b)(d)}},function(d,b,a){var h=a(39),j=Math.max,g=Math.min;d.exports=function(a,b){a=h(a);return 0>a?j(a+b,0):g(a,b)}},function(d,b,a){var h=a(28)("unscopables"),j=Array.prototype;void 0==j[h]&&a(10)(j,h,{});d.exports=function(a){j[h][a]=!0}},function(d,b,a){a(43);d.exports=a(9).Object.assign},function(d,b,a){d=a(7);d(d.S+d.F,"Object",{assign:a(44)})},function(d,b,a){var h=a(45),
j=a(49),g=a(50),t=a(51),o=a(37),u=Object.assign;d.exports=!u||a(16)(function(){var a={},b={},g=Symbol();a[g]=7;"abcdefghijklmnopqrst".split("").forEach(function(a){b[a]=a});return 7!=u({},a)[g]||"abcdefghijklmnopqrst"!=Object.keys(u({},b)).join("")})?function(a,b){for(var d=t(a),n=arguments.length,i=1,c=j.f,f=g.f;n>i;)for(var l=o(arguments[i++]),e=c?h(l).concat(c(l)):h(l),q=e.length,m=0,r;q>m;)if(f.call(l,r=e[m++]))d[r]=l[r];return d}:u},function(d,b,a){var h=a(46),j=a(48);d.exports=Object.keys||
function(a){return h(a,j)}},function(d,b,a){var h=a(21),j=a(36),g=a(35)(!1),t=a(47)("IE_PROTO");d.exports=function(a,b){var k=j(a),s=0,d=[],n;for(n in k)n!=t&&h(k,n)&&d.push(n);for(;b.length>s;)if(h(k,n=b[s++]))~g(d,n)||d.push(n);return d}},function(d,b,a){var h=a(29)("keys"),j=a(22);d.exports=function(a){return h[a]||(h[a]=j(a))}},function(d){d.exports="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ")},function(d,b){b.f=Object.getOwnPropertySymbols},
function(d,b){b.f={}.propertyIsEnumerable},function(d,b,a){var h=a(31);d.exports=function(a){return Object(h(a))}},function(d,b,a){a(53);d.exports=a(9).Math.log2},function(d,b,a){d=a(7);d(d.S,"Math",{log2:function(a){return Math.log(a)/Math.LN2}})},function(d,b,a){a(55);d.exports=a(9).Number.isNaN},function(d,b,a){d=a(7);d(d.S,"Number",{isNaN:function(a){return a!=a}})},function(d,b,a){a(57);d.exports=a(9).Number.isInteger},function(d,b,a){d=a(7);d(d.S,"Number",{isInteger:a(58)})},function(d,b,a){var h=
a(13),j=Math.floor;d.exports=function(a){return!h(a)&&isFinite(a)&&j(a)===a}},function(d,b,a){a(60);a(62);a(72);a(75);a(92);a(93);d.exports=a(9).Promise},function(d,b,a){var h=a(61),d={};d[a(28)("toStringTag")]="z";"[object z]"!=d+""&&a(20)(Object.prototype,"toString",function(){return"[object "+h(this)+"]"},!0)},function(d,b,a){var h=a(27),j=a(28)("toStringTag"),g="Arguments"==h(function(){return arguments}());d.exports=function(a){var b,d;if(void 0===a)b="Undefined";else{var k;if(null===a)k="Null";
else{var s=a=Object(a);try{k=s[j]}catch(v){}k="string"==typeof(b=k)?b:g?h(a):"Object"==(d=h(a))&&"function"==typeof a.callee?"Arguments":d}b=k}return b}},function(d,b,a){var h=a(63)(!0);a(64)(String,"String",function(a){this._t=""+a;this._i=0},function(){var a=this._t,b=this._i;if(b>=a.length)return{value:void 0,done:!0};a=h(a,b);this._i+=a.length;return{value:a,done:!1}})},function(d,b,a){var h=a(39),j=a(31);d.exports=function(a){return function(b,o){var d=""+j(b),k=h(o),s=d.length,v,n;if(0>k||k>=
s)return a?"":void 0;v=d.charCodeAt(k);return 55296>v||56319<v||k+1===s||56320>(n=d.charCodeAt(k+1))||57343<n?a?d.charAt(k):v:a?d.slice(k,k+2):(v-55296<<10)+(n-56320)+65536}}},function(d,b,a){var h=a(30),j=a(7),g=a(20),t=a(10),o=a(65),u=a(66),k=a(70),s=a(71),v=a(28)("iterator"),n=!([].keys&&"next"in[].keys()),i=function(){return this};d.exports=function(c,a,b,e,q,m,r){u(b,a,e);var e=function(c){return!n&&c in y?y[c]:function(){return new b(this,c)}},d=a+" Iterator",w="values"==q,p=!1,y=c.prototype,
x=y[v]||y["@@iterator"]||q&&y[q],L=x||e(q),I=q?!w?L:e("entries"):void 0,E="Array"==a?y.entries||x:x,B,C;E&&(c=s(E.call(new c)),c!==Object.prototype&&c.next&&(k(c,d,!0),!h&&"function"!=typeof c[v]&&t(c,v,i)));w&&(x&&"values"!==x.name)&&(p=!0,L=function(){return x.call(this)});(!h||r)&&(n||p||!y[v])&&t(y,v,L);o[a]=L;o[d]=i;if(q)if(B={values:w?L:e("values"),keys:m?L:e("keys"),entries:I},r)for(C in B)C in y||g(y,C,B[C]);else j(j.P+j.F*(n||p),a,B);return B}},function(d){d.exports={}},function(d,b,a){var h=
a(67),j=a(19),g=a(70),t={};a(10)(t,a(28)("iterator"),function(){return this});d.exports=function(a,b,k){a.prototype=h(t,{next:j(1,k)});g(a,b+" Iterator")}},function(d,b,a){var h=a(12),j=a(68),g=a(48),t=a(47)("IE_PROTO"),o=function(){},u=function(){var b=a(17)("iframe"),o=g.length;b.style.display="none";a(69).appendChild(b);b.src="javascript:";b=b.contentWindow.document;b.open();b.write("<script>document.F=Object<\/script>");b.close();for(u=b.F;o--;)delete u.prototype[g[o]];return u()};d.exports=Object.create||
function(a,b){var g;null!==a?(o.prototype=h(a),g=new o,o.prototype=null,g[t]=a):g=u();return void 0===b?g:j(g,b)}},function(d,b,a){var h=a(11),j=a(12),g=a(45);d.exports=a(15)?Object.defineProperties:function(a,b){j(a);for(var d=g(b),k=d.length,s=0,v;k>s;)h.f(a,v=d[s++],b[v]);return a}},function(d,b,a){b=a(8).document;d.exports=b&&b.documentElement},function(d,b,a){var h=a(11).f,j=a(21),g=a(28)("toStringTag");d.exports=function(a,b,d){a&&!j(a=d?a:a.prototype,g)&&h(a,g,{configurable:!0,value:b})}},
function(d,b,a){var h=a(21),j=a(51),g=a(47)("IE_PROTO"),t=Object.prototype;d.exports=Object.getPrototypeOf||function(a){a=j(a);return h(a,g)?a[g]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?t:null}},function(d,b,a){for(var d=a(73),h=a(45),b=a(20),j=a(8),g=a(10),t=a(65),o=a(28),a=o("iterator"),o=o("toStringTag"),u=t.Array,k={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,
DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=h(k),s=0;s<h.length;s++){var v=h[s],n=k[v],i=j[v],i=i&&i.prototype,c;if(i&&(i[a]||g(i,a,
u),i[o]||g(i,o,v),t[v]=u,n))for(c in d)i[c]||b(i,c,d[c],!0)}},function(d,b,a){var b=a(41),h=a(74),j=a(65),g=a(36);d.exports=a(64)(Array,"Array",function(a,b){this._t=g(a);this._i=0;this._k=b},function(){var a=this._t,b=this._k,g=this._i++;return!a||g>=a.length?(this._t=void 0,h(1)):"keys"==b?h(0,g):"values"==b?h(0,a[g]):h(0,[g,a[g]])},"values");j.Arguments=j.Array;b("keys");b("values");b("entries")},function(d){d.exports=function(b,a){return{value:a,done:!!b}}},function(d,b,a){var h=a(30),j=a(8),
g=a(23),t=a(61),d=a(7),o=a(13),u=a(24),k=a(76),s=a(77),v=a(81),n=a(82).set,i=a(84)(),b=a(85),c=a(86),f=a(87),l=a(88),e=j.TypeError,q=j.process,m=q&&q.versions,r=m&&m.v8||"",z=j.Promise,w="process"==t(q),p=function(){},y,x,L,I,E=x=b.f,t=!!function(){try{var c=z.resolve(1),e=(c.constructor={})[a(28)("species")]=function(c){c(p,p)};return(w||"function"==typeof PromiseRejectionEvent)&&c.then(p)instanceof e&&0!==r.indexOf("6.6")&&-1===f.indexOf("Chrome/66")}catch(b){}}(),B=function(c){var a;return o(c)&&
"function"==typeof(a=c.then)?a:!1},C=function(c,a){if(!c._n){c._n=!0;var f=c._c;i(function(){for(var b=c._v,i=1==c._s,l=0;f.length>l;){var m=f[l++],g=i?m.ok:m.fail,q=m.resolve,x=m.reject,y=m.domain,o=void 0,n=void 0,s=void 0;try{g?(i||(2==c._h&&J(c),c._h=1),!0===g?o=b:(y&&y.enter(),o=g(b),y&&(y.exit(),s=!0)),o===m.promise?x(e("Promise-chain cycle")):(n=B(o))?n.call(o,q,x):q(o)):x(b)}catch(d){y&&!s&&y.exit(),x(d)}}c._c=[];c._n=!1;a&&!c._h&&G(c)})}},G=function(a){n.call(j,function(){var e=a._v,f=1!==
a._h&&0===(a._a||a._c).length,b,i,l;f&&(b=c(function(){w?q.emit("unhandledRejection",e,a):(i=j.onunhandledrejection)?i({promise:a,reason:e}):(l=j.console)&&l.error&&l.error("Unhandled promise rejection",e)}),a._h=w||1!==a._h&&0===(a._a||a._c).length?2:1);a._a=void 0;if(f&&b.e)throw b.v;})},J=function(c){n.call(j,function(){var a;w?q.emit("rejectionHandled",c):(a=j.onrejectionhandled)&&a({promise:c,reason:c._v})})},H=function(c){var a=this;a._d||(a._d=!0,a=a._w||a,a._v=c,a._s=2,a._a||(a._a=a._c.slice()),
C(a,!0))},K=function A(c){var a=this,f;if(!a._d){a._d=!0;a=a._w||a;try{if(a===c)throw e("Promise can't be resolved itself");(f=B(c))?i(function(){var e={_w:a,_d:!1};try{f.call(c,g(A,e,1),g(H,e,1))}catch(b){H.call(e,b)}}):(a._v=c,a._s=1,C(a,!1))}catch(b){H.call({_w:a,_d:!1},b)}}};t||(z=function(c){k(this,z,"Promise","_h");u(c);y.call(this);try{c(g(K,this,1),g(H,this,1))}catch(a){H.call(this,a)}},y=function(){this._c=[];this._a=void 0;this._s=0;this._d=!1;this._v=void 0;this._h=0;this._n=!1},y.prototype=
a(89)(z.prototype,{then:function(c,a){var e=E(v(this,z));e.ok="function"==typeof c?c:!0;e.fail="function"==typeof a&&a;e.domain=w?q.domain:void 0;this._c.push(e);this._a&&this._a.push(e);this._s&&C(this,!1);return e.promise},"catch":function(c){return this.then(void 0,c)}}),L=function(){var c=new y;this.promise=c;this.resolve=g(K,c,1);this.reject=g(H,c,1)},b.f=E=function(c){return c===z||c===I?new L(c):x(c)});d(d.G+d.W+d.F*!t,{Promise:z});a(70)(z,"Promise");a(90)("Promise");I=a(9).Promise;d(d.S+d.F*
!t,"Promise",{reject:function(c){var a=E(this),e=a.reject;e(c);return a.promise}});d(d.S+d.F*(h||!t),"Promise",{resolve:function(c){return l(h&&this===I?z:this,c)}});d(d.S+d.F*!(t&&a(91)(function(c){z.all(c)["catch"](p)})),"Promise",{all:function(a){var e=this,f=E(e),b=f.resolve,i=f.reject,l=c(function(){var c=[],f=0,l=1;s(a,false,function(a){var A=f++,m=false;c.push(void 0);l++;e.resolve(a).then(function(a){if(!m){m=true;c[A]=a;--l||b(c)}},i)});--l||b(c)});l.e&&i(l.v);return f.promise},race:function(a){var e=
this,f=E(e),b=f.reject,i=c(function(){s(a,false,function(c){e.resolve(c).then(f.resolve,b)})});i.e&&b(i.v);return f.promise}})},function(d){d.exports=function(b,a,d,j){if(!(b instanceof a)||void 0!==j&&j in b)throw TypeError(d+": incorrect invocation!");return b}},function(d,b,a){var h=a(23),j=a(78),g=a(79),t=a(12),o=a(38),u=a(80),k={},s={},d=d.exports=function(a,b,i,c,f){var f=f?function(){return a}:u(a),i=h(i,c,b?2:1),c=0,l,e;if("function"!=typeof f)throw TypeError(a+" is not iterable!");if(g(f))for(l=
o(a.length);l>c;c++){if(f=b?i(t(e=a[c])[0],e[1]):i(a[c]),f===k||f===s)return f}else for(c=f.call(a);!(e=c.next()).done;)if(f=j(c,i,e.value,b),f===k||f===s)return f};d.BREAK=k;d.RETURN=s},function(d,b,a){var h=a(12);d.exports=function(a,b,d,o){try{return o?b(h(d)[0],d[1]):b(d)}catch(u){throw b=a["return"],void 0!==b&&h(b.call(a)),u;}}},function(d,b,a){var h=a(65),j=a(28)("iterator"),g=Array.prototype;d.exports=function(a){return void 0!==a&&(h.Array===a||g[j]===a)}},function(d,b,a){var h=a(61),j=a(28)("iterator"),
g=a(65);d.exports=a(9).getIteratorMethod=function(a){if(void 0!=a)return a[j]||a["@@iterator"]||g[h(a)]}},function(d,b,a){var h=a(12),j=a(24),g=a(28)("species");d.exports=function(a,b){var d=h(a).constructor,k;return void 0===d||void 0==(k=h(d)[g])?b:j(k)}},function(d,b,a){var h=a(23),j=a(83),g=a(69),t=a(17),o=a(8),u=o.process,b=o.setImmediate,k=o.clearImmediate,s=o.MessageChannel,v=o.Dispatch,n=0,i={},c,f=function(){var c=+this;if(i.hasOwnProperty(c)){var a=i[c];delete i[c];a()}},l=function(c){f.call(c.data)};
if(!b||!k)b=function(a){for(var f=[],b=1;arguments.length>b;)f.push(arguments[b++]);i[++n]=function(){j("function"==typeof a?a:Function(a),f)};c(n);return n},k=function(c){delete i[c]},"process"==a(27)(u)?c=function(c){u.nextTick(h(f,c,1))}:v&&v.now?c=function(c){v.now(h(f,c,1))}:s?(a=new s,s=a.port2,a.port1.onmessage=l,c=h(s.postMessage,s,1)):o.addEventListener&&"function"==typeof postMessage&&!o.importScripts?(c=function(c){o.postMessage(c+"","*")},o.addEventListener("message",l,!1)):c="onreadystatechange"in
t("script")?function(c){g.appendChild(t("script")).onreadystatechange=function(){g.removeChild(this);f.call(c)}}:function(c){setTimeout(h(f,c,1),0)};d.exports={set:b,clear:k}},function(d){d.exports=function(b,a,d){var j=void 0===d;switch(a.length){case 0:return j?b():b.call(d);case 1:return j?b(a[0]):b.call(d,a[0]);case 2:return j?b(a[0],a[1]):b.call(d,a[0],a[1]);case 3:return j?b(a[0],a[1],a[2]):b.call(d,a[0],a[1],a[2]);case 4:return j?b(a[0],a[1],a[2],a[3]):b.call(d,a[0],a[1],a[2],a[3])}return b.apply(d,
a)}},function(d,b,a){var h=a(8),j=a(82).set,g=h.MutationObserver||h.WebKitMutationObserver,t=h.process,o=h.Promise,u="process"==a(27)(t);d.exports=function(){var a,b,d,n=function(){var c,e;for(u&&(c=t.domain)&&c.exit();a;){e=a.fn;a=a.next;try{e()}catch(f){throw a?d():b=void 0,f;}}b=void 0;c&&c.enter()};if(u)d=function(){t.nextTick(n)};else if(g&&(!h.navigator||!h.navigator.standalone)){var i=!0,c=document.createTextNode("");(new g(n)).observe(c,{characterData:!0});d=function(){c.data=i=!i}}else if(o&&
o.resolve){var f=o.resolve(void 0);d=function(){f.then(n)}}else d=function(){j.call(h,n)};return function(c){c={fn:c,next:void 0};b&&(b.next=c);a||(a=c,d());b=c}}},function(d,b,a){function h(a){var b,o;this.promise=new a(function(a,g){if(void 0!==b||void 0!==o)throw TypeError("Bad Promise constructor");b=a;o=g});this.resolve=j(b);this.reject=j(o)}var j=a(24);d.exports.f=function(a){return new h(a)}},function(d){d.exports=function(b){try{return{e:!1,v:b()}}catch(a){return{e:!0,v:a}}}},function(d,b,
a){b=a(8).navigator;d.exports=b&&b.userAgent||""},function(d,b,a){var h=a(12),j=a(13),g=a(85);d.exports=function(a,b){h(a);if(j(b)&&b.constructor===a)return b;var d=g.f(a),k=d.resolve;k(b);return d.promise}},function(d,b,a){var h=a(20);d.exports=function(a,b,d){for(var o in b)h(a,o,b[o],d);return a}},function(d,b,a){var h=a(8),j=a(11),g=a(15),t=a(28)("species");d.exports=function(a){a=h[a];g&&(a&&!a[t])&&j.f(a,t,{configurable:!0,get:function(){return this}})}},function(d,b,a){var h=a(28)("iterator"),
j=!1;try{var g=[7][h]();g["return"]=function(){j=!0};Array.from(g,function(){throw 2;})}catch(t){}d.exports=function(a,b){if(!b&&!j)return!1;var g=!1;try{var d=[7],v=d[h]();v.next=function(){return{done:g=!0}};d[h]=function(){return v};a(d)}catch(n){}return g}},function(d,b,a){var d=a(7),h=a(9),j=a(8),g=a(81),t=a(88);d(d.P+d.R,"Promise",{"finally":function(a){var b=g(this,h.Promise||j.Promise),d="function"==typeof a;return this.then(d?function(g){return t(b,a()).then(function(){return g})}:a,d?function(g){return t(b,
a()).then(function(){throw g;})}:a)}})},function(d,b,a){var d=a(7),h=a(85),j=a(86);d(d.S,"Promise",{"try":function(a){var b=h.f(this),a=j(a);(a.e?b.reject:b.resolve)(a.v);return b.promise}})},function(d,b,a){a(60);a(72);a(95);a(107);a(109);d.exports=a(9).WeakMap},function(d,b,a){var b=a(96)(0),h=a(20),j=a(100),g=a(44),t=a(101),o=a(13),u=a(16),k=a(102),s=j.getWeak,v=Object.isExtensible,n=t.ufstore,i={},c,f=function(c){return function(){return c(this,0<arguments.length?arguments[0]:void 0)}},l={get:function(c){if(o(c)){var a=
s(c);return!0===a?n(k(this,"WeakMap")).get(c):a?a[this._i]:void 0}},set:function(c,a){return t.def(k(this,"WeakMap"),c,a)}},e=d.exports=a(103)("WeakMap",f,l,t,!0,!0);u(function(){return 7!=(new e).set((Object.freeze||Object)(i),7).get(i)})&&(c=t.getConstructor(f,"WeakMap"),g(c.prototype,l),j.NEED=!0,b(["delete","has","get","set"],function(a){var f=e.prototype,b=f[a];h(f,a,function(e,f){if(o(e)&&!v(e)){this._f||(this._f=new c);var i=this._f[a](e,f);return"set"==a?this:i}return b.call(this,e,f)})}))},
function(d,b,a){var h=a(23),j=a(37),g=a(51),t=a(38),o=a(97);d.exports=function(a,b){var d=1==a,v=2==a,n=3==a,i=4==a,c=6==a,f=5==a||c,l=b||o;return function(e,b,m){for(var o=g(e),k=j(o),b=h(b,m,3),m=t(k.length),w=0,e=d?l(e,m):v?l(e,0):void 0,p,y;m>w;w++)if(f||w in k)if(p=k[w],y=b(p,w,o),a)if(d)e[w]=y;else if(y)switch(a){case 3:return!0;case 5:return p;case 6:return w;case 2:e.push(p)}else if(i)return!1;return c?-1:n||i?i:e}}},function(d,b,a){var h=a(98);d.exports=function(a,b){return new (h(a))(b)}},
function(d,b,a){var h=a(13),j=a(99),g=a(28)("species");d.exports=function(a){var b;if(j(a)){b=a.constructor;if("function"==typeof b&&(b===Array||j(b.prototype)))b=void 0;h(b)&&(b=b[g],null===b&&(b=void 0))}return void 0===b?Array:b}},function(d,b,a){var h=a(27);d.exports=Array.isArray||function(a){return"Array"==h(a)}},function(d,b,a){var h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&
a!==Symbol.prototype?"symbol":typeof a},j=a(22)("meta"),g=a(13),t=a(21),o=a(11).f,u=0,k=Object.isExtensible||function(){return!0},s=!a(16)(function(){return k(Object.preventExtensions({}))}),v=function(a){o(a,j,{value:{i:"O"+ ++u,w:{}}})},n=d.exports={KEY:j,NEED:!1,fastKey:function(a,c){if(!g(a))return"symbol"==("undefined"===typeof a?"undefined":h(a))?a:("string"==typeof a?"S":"P")+a;if(!t(a,j)){if(!k(a))return"F";if(!c)return"E";v(a)}return a[j].i},getWeak:function(a,c){if(!t(a,j)){if(!k(a))return!0;
if(!c)return!1;v(a)}return a[j].w},onFreeze:function(a){s&&(n.NEED&&k(a)&&!t(a,j))&&v(a);return a}}},function(d,b,a){var h=a(89),j=a(100).getWeak,g=a(12),t=a(13),o=a(76),u=a(77),b=a(96),k=a(21),s=a(102),v=b(5),n=b(6),i=0,c=function(c){return c._l||(c._l=new f)},f=function(){this.a=[]},l=function(c,a){return v(c.a,function(c){return c[0]===a})};f.prototype={get:function(c){if(c=l(this,c))return c[1]},has:function(c){return!!l(this,c)},set:function(c,a){var f=l(this,c);f?f[1]=a:this.a.push([c,a])},
"delete":function(c){var a=n(this.a,function(a){return a[0]===c});~a&&this.a.splice(a,1);return!!~a}};d.exports={getConstructor:function(a,f,b,l){var g=a(function(c,a){o(c,g,f,"_i");c._t=f;c._i=i++;c._l=void 0;void 0!=a&&u(a,b,c[l],c)});h(g.prototype,{"delete":function(a){if(!t(a))return!1;var e=j(a);return!0===e?c(s(this,f))["delete"](a):e&&k(e,this._i)&&delete e[this._i]},has:function(a){if(!t(a))return!1;var e=j(a);return!0===e?c(s(this,f)).has(a):e&&k(e,this._i)}});return g},def:function(a,f,
b){var i=j(g(f),!0);!0===i?c(a).set(f,b):i[a._i]=b;return a},ufstore:c}},function(d,b,a){var h=a(13);d.exports=function(a,b){if(!h(a)||a._t!==b)throw TypeError("Incompatible receiver, "+b+" required!");return a}},function(d,b,a){var h=a(8),j=a(7),g=a(20),t=a(89),o=a(100),u=a(77),k=a(76),s=a(13),v=a(16),n=a(91),i=a(70),c=a(104);d.exports=function(a,b,e,q,m,d){var z=h[a],w=z,p=m?"set":"add",y=w&&w.prototype,x={},L=function(c){var a=y[c];g(y,c,"delete"==c?function(c){return d&&!s(c)?!1:a.call(this,0===
c?0:c)}:"has"==c?function(c){return d&&!s(c)?!1:a.call(this,0===c?0:c)}:"get"==c?function(c){return d&&!s(c)?void 0:a.call(this,0===c?0:c)}:"add"==c?function(c){a.call(this,0===c?0:c);return this}:function(c,e){a.call(this,0===c?0:c,e);return this})};if("function"!=typeof w||!(d||y.forEach&&!v(function(){(new w).entries().next()})))w=q.getConstructor(b,a,m,p),t(w.prototype,e),o.NEED=!0;else{var I=new w,e=I[p](d?{}:-0.0,1)!=I,E=v(function(){I.has(1)}),B=n(function(c){new w(c)}),C=!d&&v(function(){for(var c=
new w,a=5;a--;)c[p](a,a);return!c.has(-0.0)});B||(w=b(function(e,b){k(e,w,a);var i=c(new z,e,w);void 0!=b&&u(b,m,i[p],i);return i}),w.prototype=y,y.constructor=w);if(E||C)L("delete"),L("has"),m&&L("get");(C||e)&&L(p);d&&y.clear&&delete y.clear}i(w,a);x[a]=w;j(j.G+j.W+j.F*(w!=z),x);d||q.setStrong(w,a,m);return w}},function(d,b,a){var h=a(13),j=a(105).set;d.exports=function(a,b,d){var b=b.constructor,u;b!==d&&("function"==typeof b&&(u=b.prototype)!==d.prototype&&h(u)&&j)&&j(a,u);return a}},function(d,
b,a){var h=a(13),j=a(12),g=function(a,b){j(a);if(!h(b)&&null!==b)throw TypeError(b+": can't set as prototype!");};d.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(b,d,j){try{j=a(23)(Function.call,a(106).f(Object.prototype,"__proto__").set,2),j(b,[]),d=!(b instanceof Array)}catch(k){d=!0}return function(a,b){g(a,b);d?a.__proto__=b:j(a,b);return a}}({},!1):void 0),check:g}},function(d,b,a){var h=a(50),j=a(19),g=a(36),t=a(18),o=a(21),u=a(14),k=Object.getOwnPropertyDescriptor;b.f=a(15)?
k:function(a,b){a=g(a);b=t(b,!0);if(u)try{return k(a,b)}catch(d){}if(o(a,b))return j(!h.f.call(a,b),a[b])}},function(d,b,a){a(108)("WeakMap")},function(d,b,a){var h=a(7);d.exports=function(a){h(h.S,a,{of:function(){for(var a=arguments.length,b=Array(a);a--;)b[a]=arguments[a];return new this(b)}})}},function(d,b,a){a(110)("WeakMap")},function(d,b,a){var h=a(7),j=a(24),g=a(23),t=a(77);d.exports=function(a){h(h.S,a,{from:function(a,b,d){var o,n,i,c;j(this);(o=void 0!==b)&&j(b);if(void 0==a)return new this;
n=[];o?(i=0,c=g(b,d,2),t(a,!1,function(a){n.push(c(a,i++))})):t(a,!1,n.push,n);return new this(n)}})}},function(d,b,a){a(112);d.exports=a(9).String.codePointAt},function(d,b,a){var d=a(7),h=a(63)(!1);d(d.P,"String",{codePointAt:function(a){return h(this,a)}})},function(d,b,a){a(114);d.exports=a(9).String.fromCodePoint},function(d,b,a){var d=a(7),h=a(40),j=String.fromCharCode,a=String.fromCodePoint;d(d.S+d.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(a){for(var b=[],d=arguments.length,u=0,
k;d>u;){k=+arguments[u++];if(h(k,1114111)!==k)throw RangeError(k+" is not a valid code point");b.push(65536>k?j(k):j(((k-=65536)>>10)+55296,k%1024+56320))}return b.join("")}})},function(d,b,a){a(116);d.exports=a(9).Object.values},function(d,b,a){var d=a(7),h=a(117)(!1);d(d.S,"Object",{values:function(a){return h(a)}})},function(d,b,a){var h=a(45),j=a(36),g=a(50).f;d.exports=function(a){return function(b){for(var b=j(b),d=h(b),k=d.length,s=0,v=[],n;k>s;)if(g.call(b,n=d[s++]))v.push(a?[n,b[n]]:b[n]);
return v}}},function(d,b,a){d=!1;if("undefined"!==typeof ReadableStream)try{new ReadableStream({start:function(a){a.close()}}),d=!0}catch(h){}b.ReadableStream=d?ReadableStream:a(119).ReadableStream},function(d,b){var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};(function(a,b){for(var g in b)a[g]=b[g]})(b,function(a){function b(d){if(g[d])return g[d].exports;
var o=g[d]={i:d,l:!1,exports:{}};a[d].call(o.exports,o,o.exports,b);o.l=!0;return o.exports}var g={};b.m=a;b.c=g;b.i=function(a){return a};b.d=function(a,g,d){b.o(a,g)||Object.defineProperty(a,g,{configurable:!1,enumerable:!0,get:d})};b.n=function(a){var g=a&&a.__esModule?function(){return a["default"]}:function(){return a};b.d(g,"a",g);return g};b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};b.p="";return b(b.s=7)}([function(b,d,g){function t(a){return"string"===typeof a||"symbol"===
("undefined"===typeof a?"undefined":u(a))}function o(a,b,g){if("function"!==typeof a)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(a,b,g)}var u="function"===typeof Symbol&&"symbol"===a(Symbol.iterator)?function(b){return"undefined"===typeof b?"undefined":a(b)}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":"undefined"===typeof b?"undefined":a(b)},k=g(1).assert;d.typeIsObject=function(a){return"object"===
("undefined"===typeof a?"undefined":u(a))&&null!==a||"function"===typeof a};d.createDataProperty=function(a,b,g){k(d.typeIsObject(a));Object.defineProperty(a,b,{value:g,writable:!0,enumerable:!0,configurable:!0})};d.createArrayFromList=function(a){return a.slice()};d.ArrayBufferCopy=function(a,b,g,i,c){(new Uint8Array(a)).set(new Uint8Array(g,i,c),b)};d.CreateIterResultObject=function(a,b){k("boolean"===typeof b);var g={};Object.defineProperty(g,"value",{value:a,enumerable:!0,writable:!0,configurable:!0});
Object.defineProperty(g,"done",{value:b,enumerable:!0,writable:!0,configurable:!0});return g};d.IsFiniteNonNegativeNumber=function(a){return Number.isNaN(a)||Infinity===a||0>a?!1:!0};d.InvokeOrNoop=function(a,b,g){k(void 0!==a);k(t(b));k(Array.isArray(g));b=a[b];return void 0===b?void 0:o(b,a,g)};d.PromiseInvokeOrNoop=function(a,b,g){k(void 0!==a);k(t(b));k(Array.isArray(g));try{return Promise.resolve(d.InvokeOrNoop(a,b,g))}catch(i){return Promise.reject(i)}};d.PromiseInvokeOrPerformFallback=function(a,
b,g,i,c){k(void 0!==a);k(t(b));k(Array.isArray(g));k(Array.isArray(c));var f=void 0;try{f=a[b]}catch(l){return Promise.reject(l)}if(void 0===f)return i.apply(null,c);try{return Promise.resolve(o(f,a,g))}catch(e){return Promise.reject(e)}};d.TransferArrayBuffer=function(a){return a.slice()};d.ValidateAndNormalizeHighWaterMark=function(a){a=Number(a);if(Number.isNaN(a)||0>a)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return a};d.ValidateAndNormalizeQueuingStrategy=
function(a,b){if(void 0!==a&&"function"!==typeof a)throw new TypeError("size property of a queuing strategy must be a function");b=d.ValidateAndNormalizeHighWaterMark(b);return{size:a,highWaterMark:b}}},function(a){function b(a){this.name="AssertionError";this.message=a||"";this.stack=Error().stack}b.prototype=Object.create(Error.prototype);b.prototype.constructor=b;a.exports={rethrowAssertionErrorRejection:function(a){a&&a.constructor===b&&setTimeout(function(){throw a;},0)},AssertionError:b,assert:function(a,
d){if(!a)throw new b(d);}}},function(a,b,g){function d(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function o(a){return new pa(a)}function u(a){return!S(a)||!Object.prototype.hasOwnProperty.call(a,"_writableStreamController")?!1:!0}function k(a){D(!0===u(a),"IsWritableStreamLocked should only be used on known writable streams");return void 0===a._writer?!1:!0}function s(a,c){var b=a._state;if("closed"===b)return Promise.resolve(void 0);if("errored"===b)return Promise.reject(a._storedError);
var e=new TypeError("Requested to abort");if(void 0!==a._pendingAbortRequest)return Promise.reject(e);D("writable"===b||"erroring"===b,"state must be writable or erroring");var f=!1;"erroring"===b&&(f=!0,c=void 0);b=new Promise(function(b,e){a._pendingAbortRequest={_resolve:b,_reject:e,_reason:c,_wasAlreadyErroring:f}});!1===f&&i(a,e);return b}function v(a){D(!0===k(a));D("writable"===a._state);return new Promise(function(c,b){a._writeRequests.push({_resolve:c,_reject:b})})}function n(a,b){var e=
a._state;"writable"===e?i(a,b):(D("erroring"===e),c(a))}function i(a,b){D(void 0===a._storedError,"stream._storedError === undefined");D("writable"===a._state,"state must be writable");var e=a._writableStreamController;D(void 0!==e,"controller must not be undefined");a._state="erroring";a._storedError=b;var f=a._writer;void 0!==f&&y(f,b);!1===l(a)&&!0===e._started&&c(a)}function c(a){D("erroring"===a._state,"stream._state === erroring");D(!1===l(a),"WritableStreamHasOperationMarkedInFlight(stream) === false");
a._state="errored";a._writableStreamController.__errorSteps();for(var c=a._storedError,b=0;b<a._writeRequests.length;b++)a._writeRequests[b]._reject(c);a._writeRequests=[];if(void 0===a._pendingAbortRequest)m(a);else{var e=a._pendingAbortRequest;a._pendingAbortRequest=void 0;!0===e._wasAlreadyErroring?(e._reject(c),m(a)):a._writableStreamController.__abortSteps(e._reason).then(function(){e._resolve();m(a)},function(c){e._reject(c);m(a)})}}function f(a){return void 0===a._closeRequest&&void 0===a._inFlightCloseRequest?
!1:!0}function l(a){return void 0===a._inFlightWriteRequest&&void 0===a._inFlightCloseRequest?!1:!0}function e(a){D(void 0===a._inFlightCloseRequest);D(void 0!==a._closeRequest);a._inFlightCloseRequest=a._closeRequest;a._closeRequest=void 0}function q(a){D(void 0===a._inFlightWriteRequest,"there must be no pending write request");D(0!==a._writeRequests.length,"writeRequests must not be empty");a._inFlightWriteRequest=a._writeRequests.shift()}function m(a){D("errored"===a._state,'_stream_.[[state]] is `"errored"`');
void 0!==a._closeRequest&&(D(void 0===a._inFlightCloseRequest),a._closeRequest._reject(a._storedError),a._closeRequest=void 0);var c=a._writer;void 0!==c&&(A(c,a._storedError),c._closedPromise.catch(function(){}))}function r(a,c){D("writable"===a._state);D(!1===f(a));var b=a._writer;void 0!==b&&c!==a._backpressure&&(!0===c?ia(b):(D(!1===c),Z(b)));a._backpressure=c}function z(a){return!S(a)||!Object.prototype.hasOwnProperty.call(a,"_ownerWritableStream")?!1:!0}function w(a){var c=a._ownerWritableStream;
D(void 0!==c);var b=c._state;if("closed"===b||"errored"===b)return Promise.reject(new TypeError("The stream (in "+b+" state) is not in the writable state and cannot be closed"));D("writable"===b||"erroring"===b);D(!1===f(c));var e=new Promise(function(a,b){c._closeRequest={_resolve:a,_reject:b}});!0===c._backpressure&&"writable"===b&&Z(a);I(c._writableStreamController);return e}function p(a,c){"pending"===a._closedPromiseState?A(a,c):R(a,c);a._closedPromise.catch(function(){})}function y(a,c){"pending"===
a._readyPromiseState?ha(a,c):ja(a,c);a._readyPromise.catch(function(){})}function x(a){var c=a._ownerWritableStream;D(void 0!==c);D(c._writer===a);var b=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");y(a,b);p(a,b);c._writer=void 0;a._ownerWritableStream=void 0}function L(a,c){var b=a._ownerWritableStream;D(void 0!==b);var e=b._writableStreamController,A;var i=e._strategySize;if(void 0===i)A=1;else try{A=i(c)}catch(l){"writable"===e._controlledWritableStream._state&&
G(e,l),A=1}if(b!==a._ownerWritableStream)return Promise.reject(K("write to"));i=b._state;if("errored"===i)return Promise.reject(b._storedError);if(!0===f(b)||"closed"===i)return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===i)return Promise.reject(b._storedError);D("writable"===i);b=v(b);a:{i={chunk:c};try{$(e,i,A)}catch(M){"writable"===e._controlledWritableStream._state&&G(e,M);break a}A=e._controlledWritableStream;!1===f(A)&&"writable"===
A._state&&r(A,0>=e._strategyHWM-e._queueTotalSize);E(e)}return b}function I(a){$(a,"close",0);E(a)}function E(a){var b=a._controlledWritableStream;if(!1!==a._started&&void 0===b._inFlightWriteRequest){var e=b._state;"closed"===e||"errored"===e||("erroring"===e?c(b):0!==a._queue.length&&(b=ca(a),"close"===b?B(a):C(a,b.chunk)))}}function B(a){var c=a._controlledWritableStream;e(c);W(a);D(0===a._queue.length,"queue must be empty once the final write record is dequeued");U(a._underlyingSink,"close",[]).then(function(){D(void 0!==
c._inFlightCloseRequest);c._inFlightCloseRequest._resolve(void 0);c._inFlightCloseRequest=void 0;var a=c._state;D("writable"===a||"erroring"===a);"erroring"===a&&(c._storedError=void 0,void 0!==c._pendingAbortRequest&&(c._pendingAbortRequest._resolve(),c._pendingAbortRequest=void 0));c._state="closed";a=c._writer;void 0!==a&&(D(void 0!==a._closedPromise_resolve,"writer._closedPromise_resolve !== undefined"),D(void 0!==a._closedPromise_reject,"writer._closedPromise_reject !== undefined"),D("pending"===
a._closedPromiseState,"writer._closedPromiseState is pending"),a._closedPromise_resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="resolved");D(void 0===c._pendingAbortRequest,"stream._pendingAbortRequest === undefined");D(void 0===c._storedError,"stream._storedError === undefined")},function(a){D(void 0!==c._inFlightCloseRequest);c._inFlightCloseRequest._reject(a);c._inFlightCloseRequest=void 0;D("writable"===c._state||"erroring"===c._state);void 0!==
c._pendingAbortRequest&&(c._pendingAbortRequest._reject(a),c._pendingAbortRequest=void 0);n(c,a)}).catch(O)}function C(a,c){var b=a._controlledWritableStream;q(b);U(a._underlyingSink,"write",[c,a]).then(function(){D(void 0!==b._inFlightWriteRequest);b._inFlightWriteRequest._resolve(void 0);b._inFlightWriteRequest=void 0;var c=b._state;D("writable"===c||"erroring"===c);W(a);!1===f(b)&&"writable"===c&&r(b,0>=a._strategyHWM-a._queueTotalSize);E(a)},function(a){D(void 0!==b._inFlightWriteRequest);b._inFlightWriteRequest._reject(a);
b._inFlightWriteRequest=void 0;D("writable"===b._state||"erroring"===b._state);n(b,a)}).catch(O)}function G(a,c){var b=a._controlledWritableStream;D("writable"===b._state);i(b,c)}function J(a){return new TypeError("WritableStream.prototype."+a+" can only be used on a WritableStream")}function H(a){return new TypeError("WritableStreamDefaultWriter.prototype."+a+" can only be used on a WritableStreamDefaultWriter")}function K(a){return new TypeError("Cannot "+a+" a stream using a released writer")}
function M(a){a._closedPromise=new Promise(function(c,b){a._closedPromise_resolve=c;a._closedPromise_reject=b;a._closedPromiseState="pending"})}function A(a,c){D(void 0!==a._closedPromise_resolve,"writer._closedPromise_resolve !== undefined");D(void 0!==a._closedPromise_reject,"writer._closedPromise_reject !== undefined");D("pending"===a._closedPromiseState,"writer._closedPromiseState is pending");a._closedPromise_reject(c);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0;a._closedPromiseState=
"rejected"}function R(a,c){D(void 0===a._closedPromise_resolve,"writer._closedPromise_resolve === undefined");D(void 0===a._closedPromise_reject,"writer._closedPromise_reject === undefined");D("pending"!==a._closedPromiseState,"writer._closedPromiseState is not pending");a._closedPromise=Promise.reject(c);a._closedPromiseState="rejected"}function P(a){a._readyPromise=new Promise(function(c,b){a._readyPromise_resolve=c;a._readyPromise_reject=b});a._readyPromiseState="pending"}function ea(a,c){a._readyPromise=
Promise.reject(c);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState="rejected"}function Y(a){a._readyPromise=Promise.resolve(void 0);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState="fulfilled"}function ha(a,c){D(void 0!==a._readyPromise_resolve,"writer._readyPromise_resolve !== undefined");D(void 0!==a._readyPromise_reject,"writer._readyPromise_reject !== undefined");a._readyPromise_reject(c);a._readyPromise_resolve=void 0;a._readyPromise_reject=
void 0;a._readyPromiseState="rejected"}function ia(a){D(void 0===a._readyPromise_resolve,"writer._readyPromise_resolve === undefined");D(void 0===a._readyPromise_reject,"writer._readyPromise_reject === undefined");a._readyPromise=new Promise(function(c,b){a._readyPromise_resolve=c;a._readyPromise_reject=b});a._readyPromiseState="pending"}function ja(a,c){D(void 0===a._readyPromise_resolve,"writer._readyPromise_resolve === undefined");D(void 0===a._readyPromise_reject,"writer._readyPromise_reject === undefined");
a._readyPromise=Promise.reject(c);a._readyPromiseState="rejected"}function Z(a){D(void 0!==a._readyPromise_resolve,"writer._readyPromise_resolve !== undefined");D(void 0!==a._readyPromise_reject,"writer._readyPromise_reject !== undefined");a._readyPromise_resolve(void 0);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState="fulfilled"}var T=function(){function a(c,b){for(var e=0;e<b.length;e++){var f=b[e];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=
!0);Object.defineProperty(c,f.key,f)}}return function(c,b,e){b&&a(c.prototype,b);e&&a(c,e);return c}}(),b=g(0),Q=b.InvokeOrNoop,U=b.PromiseInvokeOrNoop,N=b.ValidateAndNormalizeQueuingStrategy,S=b.typeIsObject,b=g(1),D=b.assert,O=b.rethrowAssertionErrorRejection,g=g(3),W=g.DequeueValue,$=g.EnqueueValueWithSize,ca=g.PeekQueueValue,ma=g.ResetQueue,g=function(){function a(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=b.size,
b=b.highWaterMark,b=void 0===b?1:b;d(this,a);this._state="writable";this._writableStreamController=this._writer=this._storedError=void 0;this._writeRequests=[];this._pendingAbortRequest=this._inFlightCloseRequest=this._closeRequest=this._inFlightWriteRequest=void 0;this._backpressure=!1;if(void 0!==c.type)throw new RangeError("Invalid type is specified");this._writableStreamController=new qa(this,c,e,b);this._writableStreamController.__startSteps()}T(a,[{key:"abort",value:function(a){return!1===u(this)?
Promise.reject(J("abort")):!0===k(this)?Promise.reject(new TypeError("Cannot abort a stream that already has a writer")):s(this,a)}},{key:"getWriter",value:function(){if(!1===u(this))throw J("getWriter");return o(this)}},{key:"locked",get:function(){if(!1===u(this))throw J("locked");return k(this)}}]);return a}();a.exports={AcquireWritableStreamDefaultWriter:o,IsWritableStream:u,IsWritableStreamLocked:k,WritableStream:g,WritableStreamAbort:s,WritableStreamDefaultControllerError:G,WritableStreamDefaultWriterCloseWithErrorPropagation:function(a){var c=
a._ownerWritableStream;D(void 0!==c);var b=c._state;if(!0===f(c)||"closed"===b)return Promise.resolve();if("errored"===b)return Promise.reject(c._storedError);D("writable"===b||"erroring"===b);return w(a)},WritableStreamDefaultWriterRelease:x,WritableStreamDefaultWriterWrite:L,WritableStreamCloseQueuedOrInFlight:f};var pa=function(){function a(c){d(this,a);if(!1===u(c))throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===k(c))throw new TypeError("This stream has already been locked for exclusive writing by another writer");
this._ownerWritableStream=c;c._writer=this;var b=c._state;"writable"===b?(!1===f(c)&&!0===c._backpressure?P(this):Y(this),M(this)):"erroring"===b?(ea(this,c._storedError),this._readyPromise.catch(function(){}),M(this)):"closed"===b?(Y(this),this._closedPromise=Promise.resolve(void 0),this._closedPromise_reject=this._closedPromise_resolve=void 0,this._closedPromiseState="resolved"):(D("errored"===b,"state must be errored"),c=c._storedError,ea(this,c),this._readyPromise.catch(function(){}),this._closedPromise=
Promise.reject(c),this._closedPromise_reject=this._closedPromise_resolve=void 0,this._closedPromiseState="rejected",this._closedPromise.catch(function(){}))}T(a,[{key:"abort",value:function(a){if(!1===z(this))return Promise.reject(H("abort"));if(void 0===this._ownerWritableStream)return Promise.reject(K("abort"));var c=this._ownerWritableStream;D(void 0!==c);return s(c,a)}},{key:"close",value:function(){if(!1===z(this))return Promise.reject(H("close"));var a=this._ownerWritableStream;return void 0===
a?Promise.reject(K("close")):!0===f(a)?Promise.reject(new TypeError("cannot close an already-closing stream")):w(this)}},{key:"releaseLock",value:function(){if(!1===z(this))throw H("releaseLock");var a=this._ownerWritableStream;void 0!==a&&(D(void 0!==a._writer),x(this))}},{key:"write",value:function(a){return!1===z(this)?Promise.reject(H("write")):void 0===this._ownerWritableStream?Promise.reject(K("write to")):L(this,a)}},{key:"closed",get:function(){return!1===z(this)?Promise.reject(H("closed")):
this._closedPromise}},{key:"desiredSize",get:function(){if(!1===z(this))throw H("desiredSize");if(void 0===this._ownerWritableStream)throw K("desiredSize");var a;a=this._ownerWritableStream;var c=a._state;a="errored"===c||"erroring"===c?null:"closed"===c?0:a._writableStreamController._strategyHWM-a._writableStreamController._queueTotalSize;return a}},{key:"ready",get:function(){return!1===z(this)?Promise.reject(H("ready")):this._readyPromise}}]);return a}(),qa=function(){function a(c,b,e,f){d(this,
a);if(!1===u(c))throw new TypeError("WritableStreamDefaultController can only be constructed with a WritableStream instance");if(void 0!==c._writableStreamController)throw new TypeError("WritableStreamDefaultController instances can only be created by the WritableStream constructor");this._controlledWritableStream=c;this._underlyingSink=b;this._queueTotalSize=this._queue=void 0;ma(this);this._started=!1;b=N(e,f);this._strategySize=b.size;this._strategyHWM=b.highWaterMark;r(c,0>=this._strategyHWM-
this._queueTotalSize)}T(a,[{key:"error",value:function(a){var c;c=S(this)?Object.prototype.hasOwnProperty.call(this,"_underlyingSink")?!0:!1:!1;if(!1===c)throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this._controlledWritableStream._state&&G(this,a)}},{key:"__abortSteps",value:function(a){return U(this._underlyingSink,"abort",[a])}},{key:"__errorSteps",value:function(){ma(this)}},{key:"__startSteps",value:function(){var a=
this,c=Q(this._underlyingSink,"start",[this]),b=this._controlledWritableStream;Promise.resolve(c).then(function(){D("writable"===b._state||"erroring"===b._state);a._started=!0;E(a)},function(c){D("writable"===b._state||"erroring"===b._state);a._started=!0;n(b,c)}).catch(O)}}]);return a}()},function(a,b,g){var d=g(0).IsFiniteNonNegativeNumber,o=g(1).assert;b.DequeueValue=function(a){o("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: DequeueValue should only be used on containers with [[queue]] and [[queueTotalSize]].");
o(0<a._queue.length,"Spec-level failure: should never dequeue from an empty queue.");var b=a._queue.shift();a._queueTotalSize-=b.size;0>a._queueTotalSize&&(a._queueTotalSize=0);return b.value};b.EnqueueValueWithSize=function(a,b,g){o("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: EnqueueValueWithSize should only be used on containers with [[queue]] and [[queueTotalSize]].");g=Number(g);if(!d(g))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");a._queue.push({value:b,
size:g});a._queueTotalSize+=g};b.PeekQueueValue=function(a){o("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: PeekQueueValue should only be used on containers with [[queue]] and [[queueTotalSize]].");o(0<a._queue.length,"Spec-level failure: should never peek at an empty queue.");return a._queue[0].value};b.ResetQueue=function(a){o("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: ResetQueue should only be used on containers with [[queue]] and [[queueTotalSize]].");a._queue=[];a._queueTotalSize=
0}},function(a,b,g){function d(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function o(a){return!aa(a)||!Object.prototype.hasOwnProperty.call(a,"_readableStreamController")?!1:!0}function u(a){F(!0===o(a),"IsReadableStreamLocked should only be used on known readable streams");return void 0===a._reader?!1:!0}function k(a,c){F(!0===o(a));F("boolean"===typeof c);var b=new ra(a),e={closedOrErrored:!1,canceled1:!1,canceled2:!1,reason1:void 0,reason2:void 0};e.promise=
new Promise(function(a){e._resolve=a});var f=s();f._reader=b;f._teeState=e;f._cloneForBranch2=c;var A=v();A._stream=a;A._teeState=e;var i=n();i._stream=a;i._teeState=e;var l=Object.create(Object.prototype);na(l,"pull",f);na(l,"cancel",A);A=new sa(l);l=Object.create(Object.prototype);na(l,"pull",f);na(l,"cancel",i);i=new sa(l);f._branch1=A._readableStreamController;f._branch2=i._readableStreamController;b._closedPromise.catch(function(a){!0!==e.closedOrErrored&&(J(f._branch1,a),J(f._branch2,a),e.closedOrErrored=
!0)});return[A,i]}function s(){function a(){var c=a._branch1,b=a._branch2,e=a._teeState;return L(a._reader).then(function(a){F(aa(a));var f=a.value,a=a.done;F("boolean"===typeof a);!0===a&&!1===e.closedOrErrored&&(!1===e.canceled1&&C(c),!1===e.canceled2&&C(b),e.closedOrErrored=!0);!0!==e.closedOrErrored&&(!1===e.canceled1&&G(c,f),!1===e.canceled2&&G(b,f))})}return a}function v(){function a(c){var b=a._stream,e=a._teeState;e.canceled1=!0;e.reason1=c;!0===e.canceled2&&(c=ta([e.reason1,e.reason2]),b=
f(b,c),e._resolve(b));return e.promise}return a}function n(){function a(c){var b=a._stream,e=a._teeState;e.canceled2=!0;e.reason2=c;!0===e.canceled1&&(c=ta([e.reason1,e.reason2]),b=f(b,c),e._resolve(b));return e.promise}return a}function i(a){F(!0===z(a._reader));F("readable"===a._state||"closed"===a._state);return new Promise(function(c,b){a._reader._readIntoRequests.push({_resolve:c,_reject:b})})}function c(a){F(!0===w(a._reader));F("readable"===a._state);return new Promise(function(c,b){a._reader._readRequests.push({_resolve:c,
_reject:b})})}function f(a,c){a._disturbed=!0;if("closed"===a._state)return Promise.resolve(void 0);if("errored"===a._state)return Promise.reject(a._storedError);l(a);return a._readableStreamController.__cancelSteps(c).then(function(){})}function l(a){F("readable"===a._state);a._state="closed";a=a._reader;if(void 0!==a){if(!0===w(a)){for(var c=0;c<a._readRequests.length;c++){var b=a._readRequests[c]._resolve;b(X(void 0,!0))}a._readRequests=[]}F(void 0!==a._closedPromise_resolve);F(void 0!==a._closedPromise_reject);
a._closedPromise_resolve(void 0);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}}function e(a,c){F(!0===o(a),"stream must be ReadableStream");F("readable"===a._state,"state must be readable");a._state="errored";a._storedError=c;var b=a._reader;if(void 0!==b){if(!0===w(b)){for(var e=0;e<b._readRequests.length;e++)b._readRequests[e]._reject(c);b._readRequests=[]}else{F(z(b),"reader must be ReadableStreamBYOBReader");for(e=0;e<b._readIntoRequests.length;e++)b._readIntoRequests[e]._reject(c);
b._readIntoRequests=[]}va(b,c);b._closedPromise.catch(function(){})}}function q(a,c,b){a=a._reader;F(0<a._readRequests.length);a._readRequests.shift()._resolve(X(c,b))}function m(a){a=a._reader;return void 0===a||!1===z(a)?!1:!0}function r(a){a=a._reader;return void 0===a||!1===w(a)?!1:!0}function z(a){return!aa(a)||!Object.prototype.hasOwnProperty.call(a,"_readIntoRequests")?!1:!0}function w(a){return!aa(a)||!Object.prototype.hasOwnProperty.call(a,"_readRequests")?!1:!0}function p(a,c){a._ownerReadableStream=
c;c._reader=a;"readable"===c._state?ma(a):"closed"===c._state?qa(a):(F("errored"===c._state,"state must be errored"),pa(a,c._storedError),a._closedPromise.catch(function(){}))}function y(a,c){var b=a._ownerReadableStream;F(void 0!==b);return f(b,c)}function x(a){F(void 0!==a._ownerReadableStream);F(a._ownerReadableStream._reader===a);"readable"===a._ownerReadableStream._state?va(a,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):ya(a,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"));
a._closedPromise.catch(function(){});a._ownerReadableStream._reader=void 0;a._ownerReadableStream=void 0}function L(a){a=a._ownerReadableStream;F(void 0!==a);a._disturbed=!0;if("closed"===a._state)return Promise.resolve(X(void 0,!0));if("errored"===a._state)return Promise.reject(a._storedError);F("readable"===a._state);return a._readableStreamController.__pullSteps()}function I(a){return!aa(a)||!Object.prototype.hasOwnProperty.call(a,"_underlyingSource")?!1:!0}function E(a){!1!==B(a)&&(!0===a._pulling?
a._pullAgain=!0:(F(!1===a._pullAgain),a._pulling=!0,oa(a._underlyingSource,"pull",[a]).then(function(){a._pulling=!1;if(!0===a._pullAgain)return a._pullAgain=!1,E(a)},function(c){H(a,c)}).catch(V)))}function B(a){var c=a._controlledReadableStream;return"closed"===c._state||"errored"===c._state||!0===a._closeRequested||!1===a._started?!1:!0===u(c)&&0<c._reader._readRequests.length||0<K(a)?!0:!1}function C(a){var c=a._controlledReadableStream;F(!1===a._closeRequested);F("readable"===c._state);a._closeRequested=
!0;0===a._queue.length&&l(c)}function G(a,c){var b=a._controlledReadableStream;F(!1===a._closeRequested);F("readable"===b._state);if(!0===u(b)&&0<b._reader._readRequests.length)q(b,c,!1);else{b=1;if(void 0!==a._strategySize){var e=a._strategySize;try{b=e(c)}catch(f){throw H(a,f),f;}}try{Aa(a,c,b)}catch(A){throw H(a,A),A;}}E(a)}function J(a,c){var b=a._controlledReadableStream;F("readable"===b._state);da(a);e(b,c)}function H(a,c){"readable"===a._controlledReadableStream._state&&J(a,c)}function K(a){var c=
a._controlledReadableStream._state;return"errored"===c?null:"closed"===c?0:a._strategyHWM-a._queueTotalSize}function M(a){return!aa(a)||!Object.prototype.hasOwnProperty.call(a,"_underlyingByteSource")?!1:!0}function A(a){return!aa(a)||!Object.prototype.hasOwnProperty.call(a,"_associatedReadableByteStreamController")?!1:!0}function R(a){!1!==S(a)&&(!0===a._pulling?a._pullAgain=!0:(F(!1===a._pullAgain),a._pulling=!0,oa(a._underlyingByteSource,"pull",[a]).then(function(){a._pulling=!1;!0===a._pullAgain&&
(a._pullAgain=!1,R(a))},function(c){"readable"===a._controlledReadableStream._state&&D(a,c)}).catch(V)))}function P(a,c){F("errored"!==a._state,"state must not be errored");var b=!1;"closed"===a._state&&(F(0===c.bytesFilled),b=!0);var e=ea(c);if("default"===c.readerType)q(a,e,b);else{F("byob"===c.readerType);var f=a._reader;F(0<f._readIntoRequests.length);f._readIntoRequests.shift()._resolve(X(e,b))}}function ea(a){var c=a.bytesFilled,b=a.elementSize;F(c<=a.byteLength);F(0===c%b);return new a.ctor(a.buffer,
a.byteOffset,c/b)}function Y(a,c,b,e){a._queue.push({buffer:c,byteOffset:b,byteLength:e});a._queueTotalSize+=e}function ha(a,c){var b=c.elementSize,e=c.bytesFilled-c.bytesFilled%b,f=Math.min(a._queueTotalSize,c.byteLength-c.bytesFilled),A=c.bytesFilled+f,A=A-A%b,b=!1;A>e&&(f=A-c.bytesFilled,b=!0);for(e=a._queue;0<f;){var A=e[0],i=Math.min(f,A.byteLength);Ba(c.buffer,c.byteOffset+c.bytesFilled,A.buffer,A.byteOffset,i);A.byteLength===i?e.shift():(A.byteOffset+=i,A.byteLength-=i);a._queueTotalSize-=
i;ia(a,i,c);f-=i}!1===b&&(F(0===a._queueTotalSize,"queue must be empty"),F(0<c.bytesFilled),F(c.bytesFilled<c.elementSize));return b}function ia(a,c,b){F(0===a._pendingPullIntos.length||a._pendingPullIntos[0]===b);Z(a);b.bytesFilled+=c}function ja(a){F("readable"===a._controlledReadableStream._state);0===a._queueTotalSize&&!0===a._closeRequested?l(a._controlledReadableStream):R(a)}function Z(a){void 0!==a._byobRequest&&(a._byobRequest._associatedReadableByteStreamController=void 0,a._byobRequest._view=
void 0,a._byobRequest=void 0)}function T(a){for(F(!1===a._closeRequested);0<a._pendingPullIntos.length&&0!==a._queueTotalSize;){var c=a._pendingPullIntos[0];!0===ha(a,c)&&(N(a),P(a._controlledReadableStream,c))}}function Q(a,c){var b=a._controlledReadableStream,e=1;c.constructor!==DataView&&(e=c.constructor.BYTES_PER_ELEMENT);e={buffer:c.buffer,byteOffset:c.byteOffset,byteLength:c.byteLength,bytesFilled:0,elementSize:e,ctor:c.constructor,readerType:"byob"};if(0<a._pendingPullIntos.length)return e.buffer=
ga(e.buffer),a._pendingPullIntos.push(e),i(b);if("closed"===b._state)return b=new c.constructor(e.buffer,e.byteOffset,0),Promise.resolve(X(b,!0));if(0<a._queueTotalSize){if(!0===ha(a,e))return b=ea(e),ja(a),Promise.resolve(X(b,!1));if(!0===a._closeRequested)return b=new TypeError("Insufficient bytes to fill elements in the given buffer"),D(a,b),Promise.reject(b)}e.buffer=ga(e.buffer);a._pendingPullIntos.push(e);b=i(b);R(a);return b}function U(a,c){var b=a._pendingPullIntos[0],e=a._controlledReadableStream;
if("closed"===e._state){if(0!==c)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");b.buffer=ga(b.buffer);F(0===b.bytesFilled,"bytesFilled must be 0");b=a._controlledReadableStream;if(!0===m(b))for(;0<b._reader._readIntoRequests.length;)e=N(a),P(b,e)}else{F("readable"===e._state);if(b.bytesFilled+c>b.byteLength)throw new RangeError("bytesWritten out of range");ia(a,c,b);if(!(b.bytesFilled<b.elementSize)){N(a);e=b.bytesFilled%b.elementSize;if(0<e){var f=b.byteOffset+
b.bytesFilled,f=b.buffer.slice(f-e,f);Y(a,f,0,f.byteLength)}b.buffer=ga(b.buffer);b.bytesFilled-=e;P(a._controlledReadableStream,b);T(a)}}}function N(a){var c=a._pendingPullIntos.shift();Z(a);return c}function S(a){var c=a._controlledReadableStream;return"readable"!==c._state||!0===a._closeRequested||!1===a._started?!1:!0===r(c)&&0<c._reader._readRequests.length||!0===m(c)&&0<c._reader._readIntoRequests.length||0<O(a)?!0:!1}function D(a,c){var b=a._controlledReadableStream;F("readable"===b._state);
Z(a);a._pendingPullIntos=[];da(a);e(b,c)}function O(a){var c=a._controlledReadableStream._state;return"errored"===c?null:"closed"===c?0:a._strategyHWM-a._queueTotalSize}function W(a){return new TypeError("ReadableStream.prototype."+a+" can only be used on a ReadableStream")}function $(a){return new TypeError("Cannot "+a+" a stream using a released reader")}function ca(a){return new TypeError("ReadableStreamDefaultReader.prototype."+a+" can only be used on a ReadableStreamDefaultReader")}function ma(a){a._closedPromise=
new Promise(function(c,b){a._closedPromise_resolve=c;a._closedPromise_reject=b})}function pa(a,c){a._closedPromise=Promise.reject(c);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}function qa(a){a._closedPromise=Promise.resolve(void 0);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}function va(a,c){F(void 0!==a._closedPromise_resolve);F(void 0!==a._closedPromise_reject);a._closedPromise_reject(c);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}function ya(a,
c){F(void 0===a._closedPromise_resolve);F(void 0===a._closedPromise_reject);a._closedPromise=Promise.reject(c)}function ka(a){return new TypeError("ReadableStreamBYOBReader.prototype."+a+" can only be used on a ReadableStreamBYOBReader")}function la(a){return new TypeError("ReadableStreamDefaultController.prototype."+a+" can only be used on a ReadableStreamDefaultController")}function wa(a){return new TypeError("ReadableStreamBYOBRequest.prototype."+a+" can only be used on a ReadableStreamBYOBRequest")}
function fa(a){return new TypeError("ReadableByteStreamController.prototype."+a+" can only be used on a ReadableByteStreamController")}function za(a){try{Promise.prototype.then.call(a,void 0,function(){})}catch(c){}}var ba=function(){function a(c,b){for(var e=0;e<b.length;e++){var f=b[e];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(c,f.key,f)}}return function(c,b,e){b&&a(c.prototype,b);e&&a(c,e);return c}}(),b=g(0),Ba=b.ArrayBufferCopy,X=b.CreateIterResultObject,
Ca=b.IsFiniteNonNegativeNumber,xa=b.InvokeOrNoop,oa=b.PromiseInvokeOrNoop,ga=b.TransferArrayBuffer,Da=b.ValidateAndNormalizeQueuingStrategy,Ea=b.ValidateAndNormalizeHighWaterMark,b=g(0),ta=b.createArrayFromList,na=b.createDataProperty,aa=b.typeIsObject,b=g(1),F=b.assert,V=b.rethrowAssertionErrorRejection,b=g(3),Fa=b.DequeueValue,Aa=b.EnqueueValueWithSize,da=b.ResetQueue,g=g(2),Ga=g.AcquireWritableStreamDefaultWriter,Ha=g.IsWritableStream,Ia=g.IsWritableStreamLocked,Ja=g.WritableStreamAbort,Ka=g.WritableStreamDefaultWriterCloseWithErrorPropagation,
La=g.WritableStreamDefaultWriterRelease,Ma=g.WritableStreamDefaultWriterWrite,ua=g.WritableStreamCloseQueuedOrInFlight,sa=function(){function a(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=b.size,b=b.highWaterMark;d(this,a);this._state="readable";this._storedError=this._reader=void 0;this._disturbed=!1;this._readableStreamController=void 0;var f=c.type;if("bytes"===""+f)void 0===b&&(b=0),this._readableStreamController=
new Na(this,c,b);else if(void 0===f)void 0===b&&(b=1),this._readableStreamController=new Oa(this,c,e,b);else throw new RangeError("Invalid type is specified");}ba(a,[{key:"cancel",value:function(a){return!1===o(this)?Promise.reject(W("cancel")):!0===u(this)?Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")):f(this,a)}},{key:"getReader",value:function(){var a=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).mode;if(!1===o(this))throw W("getReader");if(void 0===
a)return new ra(this);if("byob"===""+a)return new Pa(this);throw new RangeError("Invalid mode is specified");}},{key:"pipeThrough",value:function(a,c){var b=a.readable,e=this.pipeTo(a.writable,c);za(e);return b}},{key:"pipeTo",value:function(a){var c=this,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=b.preventClose,A=b.preventAbort,i=b.preventCancel;if(!1===o(this))return Promise.reject(W("pipeTo"));if(!1===Ha(a))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));
e=Boolean(e);A=Boolean(A);i=Boolean(i);if(!0===u(this))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"));if(!0===Ia(a))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"));var l=new ra(this),M=Ga(a),g=!1,d=Promise.resolve();return new Promise(function(b,m){function q(){d=Promise.resolve();return!0===g?Promise.resolve():M._readyPromise.then(function(){return L(l).then(function(a){var c=
a.value;!0!==a.done&&(d=Ma(M,c).catch(function(){}))})}).then(q)}function y(){var a=d;return d.then(function(){return a!==d?y():void 0})}function R(a,c,b){"errored"===a._state?b(a._storedError):c.catch(b).catch(V)}function n(c,b,e){function f(){c().then(function(){return r(b,e)},function(a){return r(!0,a)}).catch(V)}!0!==g&&(g=!0,"writable"===a._state&&!1===ua(a)?y().then(f):f())}function o(c,b){!0!==g&&(g=!0,"writable"===a._state&&!1===ua(a)?y().then(function(){return r(c,b)}).catch(V):r(c,b))}function r(a,
c){La(M);x(l);a?m(c):b(void 0)}R(c,l._closedPromise,function(c){!1===A?n(function(){return Ja(a,c)},!0,c):o(!0,c)});R(a,M._closedPromise,function(a){!1===i?n(function(){return f(c,a)},!0,a):o(!0,a)});(function(a,c,b){"closed"===a._state?b():c.then(b).catch(V)})(c,l._closedPromise,function(){!1===e?n(function(){return Ka(M)}):o()});if(!0===ua(a)||"closed"===a._state){var p=new TypeError("the destination writable stream closed before all data could be piped to it");!1===i?n(function(){return f(c,p)},
!0,p):o(!0,p)}q().catch(function(a){d=Promise.resolve();V(a)})})}},{key:"tee",value:function(){if(!1===o(this))throw W("tee");var a=k(this,!1);return ta(a)}},{key:"locked",get:function(){if(!1===o(this))throw W("locked");return u(this)}}]);return a}();a.exports={ReadableStream:sa,IsReadableStreamDisturbed:function(a){F(!0===o(a),"IsReadableStreamDisturbed should only be used on known readable streams");return a._disturbed},ReadableStreamDefaultControllerClose:C,ReadableStreamDefaultControllerEnqueue:G,
ReadableStreamDefaultControllerError:J,ReadableStreamDefaultControllerGetDesiredSize:K};var ra=function(){function a(c){d(this,a);if(!1===o(c))throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===u(c))throw new TypeError("This stream has already been locked for exclusive reading by another reader");p(this,c);this._readRequests=[]}ba(a,[{key:"cancel",value:function(a){return!1===w(this)?Promise.reject(ca("cancel")):void 0===this._ownerReadableStream?
Promise.reject($("cancel")):y(this,a)}},{key:"read",value:function(){return!1===w(this)?Promise.reject(ca("read")):void 0===this._ownerReadableStream?Promise.reject($("read from")):L(this)}},{key:"releaseLock",value:function(){if(!1===w(this))throw ca("releaseLock");if(void 0!==this._ownerReadableStream){if(0<this._readRequests.length)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");x(this)}}},{key:"closed",get:function(){return!1===w(this)?
Promise.reject(ca("closed")):this._closedPromise}}]);return a}(),Pa=function(){function a(c){d(this,a);if(!o(c))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===M(c._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(u(c))throw new TypeError("This stream has already been locked for exclusive reading by another reader");p(this,
c);this._readIntoRequests=[]}ba(a,[{key:"cancel",value:function(a){return!z(this)?Promise.reject(ka("cancel")):void 0===this._ownerReadableStream?Promise.reject($("cancel")):y(this,a)}},{key:"read",value:function(a){if(!z(this))return Promise.reject(ka("read"));if(void 0===this._ownerReadableStream)return Promise.reject($("read from"));if(!ArrayBuffer.isView(a))return Promise.reject(new TypeError("view must be an array buffer view"));if(0===a.byteLength)return Promise.reject(new TypeError("view must have non-zero byteLength"));
var c=this._ownerReadableStream;F(void 0!==c);c._disturbed=!0;a="errored"===c._state?Promise.reject(c._storedError):Q(c._readableStreamController,a);return a}},{key:"releaseLock",value:function(){if(!z(this))throw ka("releaseLock");if(void 0!==this._ownerReadableStream){if(0<this._readIntoRequests.length)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");x(this)}}},{key:"closed",get:function(){return!z(this)?Promise.reject(ka("closed")):this._closedPromise}}]);
return a}(),Oa=function(){function a(c,b,e,f){d(this,a);if(!1===o(c))throw new TypeError("ReadableStreamDefaultController can only be constructed with a ReadableStream instance");if(void 0!==c._readableStreamController)throw new TypeError("ReadableStreamDefaultController instances can only be created by the ReadableStream constructor");this._controlledReadableStream=c;this._underlyingSource=b;this._queueTotalSize=this._queue=void 0;da(this);this._pulling=this._pullAgain=this._closeRequested=this._started=
!1;c=Da(e,f);this._strategySize=c.size;this._strategyHWM=c.highWaterMark;var A=this,b=xa(b,"start",[this]);Promise.resolve(b).then(function(){A._started=!0;F(!1===A._pulling);F(!1===A._pullAgain);E(A)},function(a){H(A,a)}).catch(V)}ba(a,[{key:"close",value:function(){if(!1===I(this))throw la("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var a=this._controlledReadableStream._state;if("readable"!==a)throw new TypeError("The stream (in "+
a+" state) is not in the readable state and cannot be closed");C(this)}},{key:"enqueue",value:function(a){if(!1===I(this))throw la("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var c=this._controlledReadableStream._state;if("readable"!==c)throw new TypeError("The stream (in "+c+" state) is not in the readable state and cannot be enqueued to");return G(this,a)}},{key:"error",value:function(a){if(!1===I(this))throw la("error");var c=this._controlledReadableStream;
if("readable"!==c._state)throw new TypeError("The stream is "+c._state+" and so cannot be errored");J(this,a)}},{key:"__cancelSteps",value:function(a){da(this);return oa(this._underlyingSource,"cancel",[a])}},{key:"__pullSteps",value:function(){var a=this._controlledReadableStream;if(0<this._queue.length){var b=Fa(this);!0===this._closeRequested&&0===this._queue.length?l(a):E(this);return Promise.resolve(X(b,!1))}a=c(a);E(this);return a}},{key:"desiredSize",get:function(){if(!1===I(this))throw la("desiredSize");
return K(this)}}]);return a}(),Qa=function(){function a(c,b){d(this,a);this._associatedReadableByteStreamController=c;this._view=b}ba(a,[{key:"respond",value:function(a){if(!1===A(this))throw wa("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");var c=this._associatedReadableByteStreamController,a=Number(a);if(!1===Ca(a))throw new RangeError("bytesWritten must be a finite");F(0<c._pendingPullIntos.length);U(c,a)}},{key:"respondWithNewView",
value:function(a){if(!1===A(this))throw wa("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(a))throw new TypeError("You can only respond with array buffer views");var c=this._associatedReadableByteStreamController;F(0<c._pendingPullIntos.length);var b=c._pendingPullIntos[0];if(b.byteOffset+b.bytesFilled!==a.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");
if(b.byteLength!==a.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");b.buffer=a.buffer;U(c,a.byteLength)}},{key:"view",get:function(){return this._view}}]);return a}(),Na=function(){function a(c,b,e){d(this,a);if(!1===o(c))throw new TypeError("ReadableByteStreamController can only be constructed with a ReadableStream instance given a byte source");if(void 0!==c._readableStreamController)throw new TypeError("ReadableByteStreamController instances can only be created by the ReadableStream constructor given a byte source");
this._controlledReadableStream=c;this._underlyingByteSource=b;this._pulling=this._pullAgain=!1;Z(this);this._pendingPullIntos=[];this._queue=this._queueTotalSize=void 0;da(this);this._started=this._closeRequested=!1;this._strategyHWM=Ea(e);e=b.autoAllocateChunkSize;if(void 0!==e&&(!1===Number.isInteger(e)||0>=e))throw new RangeError("autoAllocateChunkSize must be a positive integer");this._autoAllocateChunkSize=e;this._pendingPullIntos=[];var f=this,b=xa(b,"start",[this]);Promise.resolve(b).then(function(){f._started=
!0;F(!1===f._pulling);F(!1===f._pullAgain);R(f)},function(a){"readable"===c._state&&D(f,a)}).catch(V)}ba(a,[{key:"close",value:function(){if(!1===M(this))throw fa("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var a=this._controlledReadableStream._state;if("readable"!==a)throw new TypeError("The stream (in "+a+" state) is not in the readable state and cannot be closed");a=this._controlledReadableStream;F(!1===this._closeRequested);
F("readable"===a._state);if(0<this._queueTotalSize)this._closeRequested=!0;else{if(0<this._pendingPullIntos.length&&0<this._pendingPullIntos[0].bytesFilled)throw a=new TypeError("Insufficient bytes to fill elements in the given buffer"),D(this,a),a;l(a)}}},{key:"enqueue",value:function(a){if(!1===M(this))throw fa("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var c=this._controlledReadableStream._state;if("readable"!==c)throw new TypeError("The stream (in "+
c+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(a))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");c=this._controlledReadableStream;F(!1===this._closeRequested);F("readable"===c._state);var b=a.byteOffset,e=a.byteLength,a=ga(a.buffer);!0===r(c)?0===c._reader._readRequests.length?Y(this,a,b,e):(F(0===this._queue.length),a=new Uint8Array(a,b,e),q(c,a,!1)):!0===m(c)?(Y(this,a,b,e),T(this)):(F(!1===u(c),
"stream must not be locked"),Y(this,a,b,e))}},{key:"error",value:function(a){if(!1===M(this))throw fa("error");var c=this._controlledReadableStream;if("readable"!==c._state)throw new TypeError("The stream is "+c._state+" and so cannot be errored");D(this,a)}},{key:"__cancelSteps",value:function(a){0<this._pendingPullIntos.length&&(this._pendingPullIntos[0].bytesFilled=0);da(this);return oa(this._underlyingByteSource,"cancel",[a])}},{key:"__pullSteps",value:function(){var a=this._controlledReadableStream;
F(!0===r(a));if(0<this._queueTotalSize){F(0===a._reader._readRequests.length);a=this._queue.shift();this._queueTotalSize-=a.byteLength;ja(this);var b=void 0;try{b=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)}catch(e){return Promise.reject(e)}return Promise.resolve(X(b,!1))}b=this._autoAllocateChunkSize;if(void 0!==b){var f=void 0;try{f=new ArrayBuffer(b)}catch(A){return Promise.reject(A)}this._pendingPullIntos.push({buffer:f,byteOffset:0,byteLength:b,bytesFilled:0,elementSize:1,ctor:Uint8Array,
readerType:"default"})}a=c(a);R(this);return a}},{key:"byobRequest",get:function(){if(!1===M(this))throw fa("byobRequest");if(void 0===this._byobRequest&&0<this._pendingPullIntos.length){var a=this._pendingPullIntos[0],a=new Uint8Array(a.buffer,a.byteOffset+a.bytesFilled,a.byteLength-a.bytesFilled);this._byobRequest=new Qa(this,a)}return this._byobRequest}},{key:"desiredSize",get:function(){if(!1===M(this))throw fa("desiredSize");return O(this)}}]);return a}()},function(a,b,g){var a=g(6),d=g(4),g=
g(2);b.TransformStream=a.TransformStream;b.ReadableStream=d.ReadableStream;b.IsReadableStreamDisturbed=d.IsReadableStreamDisturbed;b.ReadableStreamDefaultControllerClose=d.ReadableStreamDefaultControllerClose;b.ReadableStreamDefaultControllerEnqueue=d.ReadableStreamDefaultControllerEnqueue;b.ReadableStreamDefaultControllerError=d.ReadableStreamDefaultControllerError;b.ReadableStreamDefaultControllerGetDesiredSize=d.ReadableStreamDefaultControllerGetDesiredSize;b.AcquireWritableStreamDefaultWriter=
g.AcquireWritableStreamDefaultWriter;b.IsWritableStream=g.IsWritableStream;b.IsWritableStreamLocked=g.IsWritableStreamLocked;b.WritableStream=g.WritableStream;b.WritableStreamAbort=g.WritableStreamAbort;b.WritableStreamDefaultControllerError=g.WritableStreamDefaultControllerError;b.WritableStreamDefaultWriterCloseWithErrorPropagation=g.WritableStreamDefaultWriterCloseWithErrorPropagation;b.WritableStreamDefaultWriterRelease=g.WritableStreamDefaultWriterRelease;b.WritableStreamDefaultWriterWrite=g.WritableStreamDefaultWriterWrite},
function(a,b,g){function d(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function o(a,c){if(!0===a._errored)throw new TypeError("TransformStream is already errored");if(!0===a._readableClosed)throw new TypeError("Readable side is already closed");var b=a._readableController;try{I(b,c)}catch(e){throw a._readableClosed=!0,k(a,e),a._storedError;}!0===0>=B(b)&&!1===a._backpressure&&n(a,!0)}function u(a){r(!1===a._errored);r(!1===a._readableClosed);try{L(a._readableController)}catch(c){r(!1)}a._readableClosed=
!0}function k(a,c){!1===a._errored&&s(a,c)}function s(a,c){r(!1===a._errored);a._errored=!0;a._storedError=c;!1===a._writableDone&&G(a._writableController,c);!1===a._readableClosed&&E(a._readableController,c)}function v(a){r(void 0!==a._backpressureChangePromise,"_backpressureChangePromise should have been initialized");if(!1===a._backpressure)return Promise.resolve();r(!0===a._backpressure,"_backpressure should have been initialized");return a._backpressureChangePromise}function n(a,c){r(a._backpressure!==
c,"TransformStreamSetBackpressure() should be called only when backpressure is changed");void 0!==a._backpressureChangePromise&&a._backpressureChangePromise_resolve(c);a._backpressureChangePromise=new Promise(function(c){a._backpressureChangePromise_resolve=c});a._backpressureChangePromise.then(function(a){r(a!==c,"_backpressureChangePromise should be fulfilled only when backpressure is changed")});a._backpressure=c}function i(a,c){o(c._controlledTransformStream,a);return Promise.resolve()}function c(a,
c){r(!1===a._errored);r(!1===a._transforming);r(!1===a._backpressure);a._transforming=!0;var b=a._transformStreamController;return w(a._transformer,"transform",[c,b],i,[c,b]).then(function(){a._transforming=!1;return v(a)},function(c){k(a,c);return Promise.reject(c)})}function f(a){return!y(a)||!Object.prototype.hasOwnProperty.call(a,"_controlledTransformStream")?!1:!0}function l(a){return!y(a)||!Object.prototype.hasOwnProperty.call(a,"_transformStreamController")?!1:!0}function e(a){return new TypeError("TransformStreamDefaultController.prototype."+
a+" can only be used on a TransformStreamDefaultController")}function q(a){return new TypeError("TransformStream.prototype."+a+" can only be used on a TransformStream")}var m=function(){function a(c,b){for(var e=0;e<b.length;e++){var f=b[e];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(c,f.key,f)}}return function(c,b,e){b&&a(c.prototype,b);e&&a(c,e);return c}}(),r=g(1).assert,b=g(0),z=b.InvokeOrNoop,w=b.PromiseInvokeOrPerformFallback,p=b.PromiseInvokeOrNoop,
y=b.typeIsObject,b=g(4),x=b.ReadableStream,L=b.ReadableStreamDefaultControllerClose,I=b.ReadableStreamDefaultControllerEnqueue,E=b.ReadableStreamDefaultControllerError,B=b.ReadableStreamDefaultControllerGetDesiredSize,g=g(2),C=g.WritableStream,G=g.WritableStreamDefaultControllerError,J=function(){function a(c,b){d(this,a);this._transformStream=c;this._startPromise=b}m(a,[{key:"start",value:function(a){var c=this._transformStream;c._writableController=a;return this._startPromise.then(function(){return v(c)})}},
{key:"write",value:function(a){return c(this._transformStream,a)}},{key:"abort",value:function(){var a=this._transformStream;a._writableDone=!0;s(a,new TypeError("Writable side aborted"))}},{key:"close",value:function(){var a=this._transformStream;r(!1===a._transforming);a._writableDone=!0;return p(a._transformer,"flush",[a._transformStreamController]).then(function(){if(!0===a._errored)return Promise.reject(a._storedError);!1===a._readableClosed&&u(a);return Promise.resolve()}).catch(function(c){k(a,
c);return Promise.reject(a._storedError)})}}]);return a}(),H=function(){function a(c,b){d(this,a);this._transformStream=c;this._startPromise=b}m(a,[{key:"start",value:function(a){var c=this._transformStream;c._readableController=a;return this._startPromise.then(function(){r(void 0!==c._backpressureChangePromise,"_backpressureChangePromise should have been initialized");if(!0===c._backpressure)return Promise.resolve();r(!1===c._backpressure,"_backpressure should have been initialized");return c._backpressureChangePromise})}},
{key:"pull",value:function(){var a=this._transformStream;r(!0===a._backpressure,"pull() should be never called while _backpressure is false");r(void 0!==a._backpressureChangePromise,"_backpressureChangePromise should have been initialized");n(a,!1);return a._backpressureChangePromise}},{key:"cancel",value:function(){var a=this._transformStream;a._readableClosed=!0;s(a,new TypeError("Readable side canceled"))}}]);return a}(),K=function(){function a(c){d(this,a);if(!1===l(c))throw new TypeError("TransformStreamDefaultController can only be constructed with a TransformStream instance");
if(void 0!==c._transformStreamController)throw new TypeError("TransformStreamDefaultController instances can only be created by the TransformStream constructor");this._controlledTransformStream=c}m(a,[{key:"enqueue",value:function(a){if(!1===f(this))throw e("enqueue");o(this._controlledTransformStream,a)}},{key:"close",value:function(){if(!1===f(this))throw e("close");var a=this._controlledTransformStream;if(!0===a._errored)throw new TypeError("TransformStream is already errored");if(!0===a._readableClosed)throw new TypeError("Readable side is already closed");
u(a)}},{key:"error",value:function(a){if(!1===f(this))throw e("error");var c=this._controlledTransformStream;if(!0===c._errored)throw new TypeError("TransformStream is already errored");s(c,a)}},{key:"desiredSize",get:function(){if(!1===f(this))throw e("desiredSize");return B(this._controlledTransformStream._readableController)}}]);return a}(),g=function(){function a(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};d(this,a);this._transformer=c;var b=c.readableStrategy,e=c.writableStrategy;
this._errored=this._transforming=!1;this._transformStreamController=this._readableController=this._writableController=this._storedError=void 0;this._readableClosed=this._writableDone=!1;this._backpressureChangePromise_resolve=this._backpressureChangePromise=this._backpressure=void 0;this._transformStreamController=new K(this);var f=void 0,i=new Promise(function(a){f=a}),l=new H(this,i);this._readable=new x(l,b);b=new J(this,i);this._writable=new C(b,e);r(void 0!==this._writableController);r(void 0!==
this._readableController);e=B(this._readableController);n(this,0>=e);var g=this,c=z(c,"start",[g._transformStreamController]);f(c);i.catch(function(a){!1===g._errored&&(g._errored=!0,g._storedError=a)})}m(a,[{key:"readable",get:function(){if(!1===l(this))throw q("readable");return this._readable}},{key:"writable",get:function(){if(!1===l(this))throw q("writable");return this._writable}}]);return a}();a.exports={TransformStream:g}},function(a,b,g){a.exports=g(5)}]))},function(d,b,a){var d="function"===
typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=!1;try{if("function"===typeof URL&&"object"===d(URL.prototype)&&"origin"in URL.prototype){var j=new URL("b","http://a");j.pathname="c%20d";h="http://a/c%20d"===j.href}}catch(g){}if(h)b.URL=URL;else{var j=a(121).URL,t=a(3).URL;t&&(j.createObjectURL=function(a){return t.createObjectURL.apply(t,arguments)},j.revokeObjectURL=
function(a){t.revokeObjectURL(a)});b.URL=j}},function(d,b){(function(){function a(a){""===a&&(t.call(this),this._isInvalid=!0);return a.toLowerCase()}function d(a){var c=a.charCodeAt(0);return 32<c&&127>c&&-1===[34,35,60,62,63,96].indexOf(c)?a:encodeURIComponent(a)}function j(a){var c=a.charCodeAt(0);return 32<c&&127>c&&-1===[34,35,60,62,96].indexOf(c)?a:encodeURIComponent(a)}function g(b,c,f){function l(a){w.push(a)}var e=c||"scheme start",g=0,m="",r=!1,o=!1,w=[];a:for(;(b[g-1]!==s||0===g)&&!this._isInvalid;){var p=
b[g];switch(e){case "scheme start":if(p&&v.test(p))m+=p.toLowerCase(),e="scheme";else if(c){l("Invalid scheme.");break a}else{m="";e="no scheme";continue}break;case "scheme":if(p&&n.test(p))m+=p.toLowerCase();else if(":"===p){this._scheme=m;m="";if(c)break a;void 0!==u[this._scheme]&&(this._isRelative=!0);e="file"===this._scheme?"relative":this._isRelative&&f&&f._scheme===this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}else if(c){p!==s&&l("Code point not allowed in scheme: "+
p);break a}else{m="";g=0;e="no scheme";continue}break;case "scheme data":"?"===p?(this._query="?",e="query"):"#"===p?(this._fragment="#",e="fragment"):p!==s&&("\t"!==p&&"\n"!==p&&"\r"!==p)&&(this._schemeData+=d(p));break;case "no scheme":if(!f||void 0===u[f._scheme])l("Missing scheme."),t.call(this),this._isInvalid=!0;else{e="relative";continue}break;case "relative or authority":if("/"===p&&"/"===b[g+1])e="authority ignore slashes";else{l("Expected /, got: "+p);e="relative";continue}break;case "relative":this._isRelative=
!0;"file"!==this._scheme&&(this._scheme=f._scheme);if(p===s){this._host=f._host;this._port=f._port;this._path=f._path.slice();this._query=f._query;this._username=f._username;this._password=f._password;break a}else if("/"===p||"\\"===p)"\\"===p&&l("\\ is an invalid code point."),e="relative slash";else if("?"===p)this._host=f._host,this._port=f._port,this._path=f._path.slice(),this._query="?",this._username=f._username,this._password=f._password,e="query";else if("#"===p)this._host=f._host,this._port=
f._port,this._path=f._path.slice(),this._query=f._query,this._fragment="#",this._username=f._username,this._password=f._password,e="fragment";else{var e=b[g+1],y=b[g+2];if("file"!==this._scheme||!v.test(p)||":"!==e&&"|"!==e||y!==s&&"/"!==y&&"\\"!==y&&"?"!==y&&"#"!==y)this._host=f._host,this._port=f._port,this._username=f._username,this._password=f._password,this._path=f._path.slice(),this._path.pop();e="relative path";continue}break;case "relative slash":if("/"===p||"\\"===p)"\\"===p&&l("\\ is an invalid code point."),
e="file"===this._scheme?"file host":"authority ignore slashes";else{"file"!==this._scheme&&(this._host=f._host,this._port=f._port,this._username=f._username,this._password=f._password);e="relative path";continue}break;case "authority first slash":if("/"===p)e="authority second slash";else{l("Expected '/', got: "+p);e="authority ignore slashes";continue}break;case "authority second slash":e="authority ignore slashes";if("/"!==p){l("Expected '/', got: "+p);continue}break;case "authority ignore slashes":if("/"!==
p&&"\\"!==p){e="authority";continue}else l("Expected authority, got: "+p);break;case "authority":if("@"===p){r&&(l("@ already seen."),m+="%40");r=!0;for(p=0;p<m.length;p++)y=m[p],"\t"===y||"\n"===y||"\r"===y?l("Invalid whitespace in authority."):":"===y&&null===this._password?this._password="":(y=d(y),null!==this._password?this._password+=y:this._username+=y);m=""}else if(p===s||"/"===p||"\\"===p||"?"===p||"#"===p){g-=m.length;m="";e="host";continue}else m+=p;break;case "file host":if(p===s||"/"===
p||"\\"===p||"?"===p||"#"===p){2===m.length&&v.test(m[0])&&(":"===m[1]||"|"===m[1])?e="relative path":(0!==m.length&&(this._host=a.call(this,m),m=""),e="relative path start");continue}else"\t"===p||"\n"===p||"\r"===p?l("Invalid whitespace in file host."):m+=p;break;case "host":case "hostname":if(":"===p&&!o){if(this._host=a.call(this,m),m="",e="port","hostname"===c)break a}else if(p===s||"/"===p||"\\"===p||"?"===p||"#"===p){this._host=a.call(this,m);m="";e="relative path start";if(c)break a;continue}else"\t"!==
p&&"\n"!==p&&"\r"!==p?("["===p?o=!0:"]"===p&&(o=!1),m+=p):l("Invalid code point in host/hostname: "+p);break;case "port":if(/[0-9]/.test(p))m+=p;else if(p===s||"/"===p||"\\"===p||"?"===p||"#"===p||c){""!==m&&(m=parseInt(m,10),m!==u[this._scheme]&&(this._port=m+""),m="");if(c)break a;e="relative path start";continue}else"\t"===p||"\n"===p||"\r"===p?l("Invalid code point in port: "+p):(t.call(this),this._isInvalid=!0);break;case "relative path start":"\\"===p&&l("'\\' not allowed in path.");e="relative path";
if("/"!==p&&"\\"!==p)continue;break;case "relative path":if(p===s||"/"===p||"\\"===p||!c&&("?"===p||"#"===p)){"\\"===p&&l("\\ not allowed in relative path.");if(y=k[m.toLowerCase()])m=y;".."===m?(this._path.pop(),"/"!==p&&"\\"!==p&&this._path.push("")):"."===m&&"/"!==p&&"\\"!==p?this._path.push(""):"."!==m&&("file"===this._scheme&&(0===this._path.length&&2===m.length&&v.test(m[0])&&"|"===m[1])&&(m=m[0]+":"),this._path.push(m));m="";"?"===p?(this._query="?",e="query"):"#"===p&&(this._fragment="#",
e="fragment")}else"\t"!==p&&("\n"!==p&&"\r"!==p)&&(m+=d(p));break;case "query":!c&&"#"===p?(this._fragment="#",e="fragment"):p!==s&&("\t"!==p&&"\n"!==p&&"\r"!==p)&&(this._query+=j(p));break;case "fragment":p!==s&&("\t"!==p&&"\n"!==p&&"\r"!==p)&&(this._fragment+=p)}g++}}function t(){this._username=this._schemeData=this._scheme="";this._password=null;this._port=this._host="";this._path=[];this._fragment=this._query="";this._isRelative=this._isInvalid=!1}function o(a,c){void 0!==c&&!(c instanceof o)&&
(c=new o(""+c));this._url=a;t.call(this);var b=a.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");g.call(this,b,null,c)}var u=Object.create(null);u.ftp=21;u.file=0;u.gopher=70;u.http=80;u.https=443;u.ws=80;u.wss=443;var k=Object.create(null);k["%2e"]=".";k[".%2e"]="..";k["%2e."]="..";k["%2e%2e"]="..";var s,v=/[a-zA-Z]/,n=/[a-zA-Z0-9\+\-\.]/;o.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var a="";if(""!==this._username||null!==this._password)a=this._username+
(null!==this._password?":"+this._password:"")+"@";return this.protocol+(this._isRelative?"//"+a+this.host:"")+this.pathname+this._query+this._fragment},set href(a){t.call(this);g.call(this,a)},get protocol(){return this._scheme+":"},set protocol(a){this._isInvalid||g.call(this,a+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(a){!this._isInvalid&&this._isRelative&&g.call(this,a,"host")},get hostname(){return this._host},set hostname(a){!this._isInvalid&&
this._isRelative&&g.call(this,a,"hostname")},get port(){return this._port},set port(a){!this._isInvalid&&this._isRelative&&g.call(this,a,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(a){!this._isInvalid&&this._isRelative&&(this._path=[],g.call(this,a,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"===this._query?"":this._query},set search(a){!this._isInvalid&&this._isRelative&&(this._query=
"?","?"===a[0]&&(a=a.slice(1)),g.call(this,a,"query"))},get hash(){return this._isInvalid||!this._fragment||"#"===this._fragment?"":this._fragment},set hash(a){this._isInvalid||(this._fragment="#","#"===a[0]&&(a=a.slice(1)),g.call(this,a,"fragment"))},get origin(){var a;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case "data":case "file":case "javascript":case "mailto":return"null";case "blob":try{return(new o(this._schemeData)).origin||"null"}catch(c){}return"null"}a=this.host;
return!a?"":this._scheme+"://"+a}};b.URL=o})()},function(d,b,a){function h(a){if(Array.isArray(a)){for(var c=0,b=Array(a.length);c<a.length;c++)b[c]=a[c];return b}return Array.from(a)}function j(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function g(a,c,b,e){if(a.destroyed)return Promise.reject(Error("Worker was destroyed"));b&&(c.length=b.length,c.initialData=b.initialData);return a.messageHandler.sendWithPromise("GetDocRequest",{docId:e,apiVersion:"2.0.866",
source:{data:c.data,url:c.url,password:c.password,disableAutoFetch:c.disableAutoFetch,rangeChunkSize:c.rangeChunkSize,length:c.length},maxImageSize:c.maxImageSize,disableFontFace:c.disableFontFace,disableCreateObjectURL:c.disableCreateObjectURL,postMessageTransfers:a.postMessageTransfers,docBaseUrl:c.docBaseUrl,nativeImageDecoderSupport:c.nativeImageDecoderSupport,ignoreErrors:c.ignoreErrors,isEvalSupported:c.isEvalSupported}).then(function(c){if(a.destroyed)throw Error("Worker was destroyed");return c})}
Object.defineProperty(b,"__esModule",{value:!0});b.build=b.version=b.setPDFNetworkStreamFactory=b.PDFPageProxy=b.PDFDocumentProxy=b.PDFWorker=b.PDFDataRangeTransport=b.LoopbackPort=b.getDocument=void 0;var t=function(){return function(a,c){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var b=[],e=!0,f=!1,l=void 0;try{for(var i=a[Symbol.iterator](),g;!(e=(g=i.next()).done)&&!(b.push(g.value),c&&b.length===c);e=!0);}catch(d){f=!0,l=d}finally{try{if(!e&&i["return"])i["return"]()}finally{if(f)throw l;
}}return b}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),o=function(){function a(c,b){for(var e=0;e<b.length;e++){var f=b[e];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(c,f.key,f)}}return function(c,b,e){b&&a(c.prototype,b);e&&a(c,e);return c}}(),u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&
a!==Symbol.prototype?"symbol":typeof a},k=a(1),s=a(123),v=a(124),n=a(125),i=a(126),c=(d=a(3))&&d.__esModule?d:{"default":d},f=a(128),l=a(129),e=a(134),q=a(136),m=a(137),r=!1,z=void 0,w="undefined"!==typeof document&&document.currentScript?document.currentScript.src:null,p=null,a=!1;"undefined"===typeof window?(r=!0,"undefined"===typeof require.ensure&&(require.ensure=require("node-ensure")),a=!0):"undefined"!==typeof require&&"function"===typeof require.ensure&&(a=!0);"undefined"!==typeof requirejs&&
requirejs.toUrl&&(z=requirejs.toUrl("pdfjs-dist/build/pdf.worker.js"));var d="undefined"!==typeof requirejs&&requirejs.load,p=a?function(a){require.ensure([],function(){var c;c=require("./pdf.worker.js");a(c.WorkerMessageHandler)},null,"pdfjsWorker")}:d?function(a){requirejs(["pdfjs-dist/build/pdf.worker"],function(c){a(c.WorkerMessageHandler)})}:null,y,x=function(){function a(){this._capability=(0,k.createPromiseCapability)();this._worker=this._transport=null;this.docId="d"+c++;this.destroyed=false;
this.onUnsupportedFeature=this.onProgress=this.onPassword=null}var c=0;a.prototype={get promise(){return this._capability.promise},destroy:function(){var a=this;this.destroyed=true;return(!this._transport?Promise.resolve():this._transport.destroy()).then(function(){a._transport=null;if(a._worker){a._worker.destroy();a._worker=null}})},then:function(a,c){return this.promise.then.apply(this.promise,arguments)}};return a}(),L=function(){function a(c,b){this.length=c;this.initialData=b;this._rangeListeners=
[];this._progressListeners=[];this._progressiveReadListeners=[];this._readyCapability=(0,k.createPromiseCapability)()}a.prototype={addRangeListener:function(a){this._rangeListeners.push(a)},addProgressListener:function(a){this._progressListeners.push(a)},addProgressiveReadListener:function(a){this._progressiveReadListeners.push(a)},onDataRange:function(a,c){for(var b=this._rangeListeners,e=0,f=b.length;e<f;++e)b[e](a,c)},onDataProgress:function(a){var c=this;this._readyCapability.promise.then(function(){for(var b=
c._progressListeners,e=0,f=b.length;e<f;++e)b[e](a)})},onDataProgressiveRead:function(a){var c=this;this._readyCapability.promise.then(function(){for(var b=c._progressiveReadListeners,e=0,f=b.length;e<f;++e)b[e](a)})},transportReady:function(){this._readyCapability.resolve()},requestDataRange:function(){(0,k.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")},abort:function(){}};return a}(),I=function(){function a(c,b,e){j(this,a);this.loadingTask=e;this._pdfInfo=c;this._transport=
b}o(a,[{key:"getPage",value:function(a){return this._transport.getPage(a)}},{key:"getPageIndex",value:function(a){return this._transport.getPageIndex(a)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(a){return this._transport.getDestination(a)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},
{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function(){return this._transport.getStats()}},
{key:"cleanup",value:function(){this._transport.startCleanup()}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprint",get:function(){return this._pdfInfo.fingerprint}},{key:"loadingParams",get:function(){return this._transport.loadingParams}}]);return a}(),E=function(){function a(c,b,e){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:false;this.pageIndex=c;this._pageInfo=b;this.transport=
e;this._stats=f?new s.StatTimer:s.DummyStatTimer;this._pdfBug=f;this.commonObjs=e.commonObjs;this.objs=new J;this.pendingCleanup=this.cleanupAfterRender=false;this.intentStates=Object.create(null);this.destroyed=false}a.prototype={get pageNumber(){return this.pageIndex+1},get rotate(){return this._pageInfo.rotate},get ref(){return this._pageInfo.ref},get userUnit(){return this._pageInfo.userUnit},get view(){return this._pageInfo.view},getViewport:function(a){return new s.PageViewport({viewBox:this.view,
scale:a,rotation:arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.rotate,dontFlip:arguments.length>2&&arguments[2]!==void 0?arguments[2]:false})},getAnnotations:function(a){a=a&&a.intent||null;if(!this.annotationsPromise||this.annotationsIntent!==a){this.annotationsPromise=this.transport.getAnnotations(this.pageIndex,a);this.annotationsIntent=a}return this.annotationsPromise},render:function(a){var c=this,b=this._stats;b.time("Overall");this.pendingCleanup=false;var e=a.intent==="print"?
"print":"display",f=a.canvasFactory||new s.DOMCanvasFactory,l=new m.WebGLContext({enable:a.enableWebGL});this.intentStates[e]||(this.intentStates[e]=Object.create(null));var i=this.intentStates[e];if(!i.displayReadyCapability){i.receivingOperatorList=true;i.displayReadyCapability=(0,k.createPromiseCapability)();i.operatorList={fnArray:[],argsArray:[],lastChunk:false};b.time("Page Request");this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1,intent:e,renderInteractiveForms:a.renderInteractiveForms===
true})}var g=function(a){var e=i.renderTasks.indexOf(d);e>=0&&i.renderTasks.splice(e,1);if(c.cleanupAfterRender)c.pendingCleanup=true;c._tryCleanup();a?d.capability.reject(a):d.capability.resolve();b.timeEnd("Rendering");b.timeEnd("Overall")},d=new K(g,a,this.objs,this.commonObjs,i.operatorList,this.pageNumber,f,l,this._pdfBug);d.useRequestAnimationFrame=e!=="print";if(!i.renderTasks)i.renderTasks=[];i.renderTasks.push(d);a=d.task;i.displayReadyCapability.promise.then(function(a){if(c.pendingCleanup)g();
else{b.time("Rendering");d.initializeGraphics(a);d.operatorListChanged()}}).catch(g);return a},getOperatorList:function(){function a(){if(c.operatorList.lastChunk){c.opListReadCapability.resolve(c.operatorList);var e=c.renderTasks.indexOf(b);e>=0&&c.renderTasks.splice(e,1)}}this.intentStates.oplist||(this.intentStates.oplist=Object.create(null));var c=this.intentStates.oplist,b;if(!c.opListReadCapability){b={};b.operatorListChanged=a;c.receivingOperatorList=true;c.opListReadCapability=(0,k.createPromiseCapability)();
c.renderTasks=[];c.renderTasks.push(b);c.operatorList={fnArray:[],argsArray:[],lastChunk:false};this._stats.time("Page Request");this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageIndex,intent:"oplist"})}return c.opListReadCapability.promise},streamTextContent:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this.pageNumber-1,normalizeWhitespace:a.normalizeWhitespace===
true,combineTextItems:a.disableCombineTextItems!==true},{highWaterMark:100,size:function(a){return a.items.length}})},getTextContent:function(a){var a=a||{},c=this.streamTextContent(a);return new Promise(function(a,b){function e(){f.read().then(function(c){var b,f=c.value;if(c.done)a(l);else{Object.assign(l.styles,f.styles);(b=l.items).push.apply(b,h(f.items));e()}},b)}var f=c.getReader(),l={items:[],styles:Object.create(null)};e()})},_destroy:function(){this.destroyed=true;this.transport.pageCache[this.pageIndex]=
null;var a=[];Object.keys(this.intentStates).forEach(function(c){c!=="oplist"&&this.intentStates[c].renderTasks.forEach(function(c){var b=c.capability.promise.catch(function(){});a.push(b);c.cancel()})},this);this.objs.clear();this.annotationsPromise=null;this.pendingCleanup=false;return Promise.all(a)},cleanup:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:false;this.pendingCleanup=true;this._tryCleanup(a)},_tryCleanup:function(){var a=arguments.length>0&&arguments[0]!==
void 0?arguments[0]:false;if(this.pendingCleanup&&!Object.keys(this.intentStates).some(function(a){a=this.intentStates[a];return a.renderTasks.length!==0||a.receivingOperatorList},this)){Object.keys(this.intentStates).forEach(function(a){delete this.intentStates[a]},this);this.objs.clear();this.annotationsPromise=null;if(a&&this._stats instanceof s.StatTimer)this._stats=new s.StatTimer;this.pendingCleanup=false}},_startRenderPage:function(a,c){var b=this.intentStates[c];b.displayReadyCapability&&
b.displayReadyCapability.resolve(a)},_renderPageChunk:function(a,c){var b=this.intentStates[c],e,f;e=0;for(f=a.length;e<f;e++){b.operatorList.fnArray.push(a.fnArray[e]);b.operatorList.argsArray.push(a.argsArray[e])}b.operatorList.lastChunk=a.lastChunk;for(e=0;e<b.renderTasks.length;e++)b.renderTasks[e].operatorListChanged();if(a.lastChunk){b.receivingOperatorList=false;this._tryCleanup()}},get stats(){return this._stats instanceof s.StatTimer?this._stats:null}};return a}(),B=function(){function a(){var c=
arguments.length>0&&arguments[0]!==void 0?arguments[0]:true;j(this,a);this._listeners=[];this._defer=c;this._deferred=Promise.resolve(void 0)}o(a,[{key:"postMessage",value:function(a,c){function b(a){if((typeof a==="undefined"?"undefined":u(a))!=="object"||a===null)return a;if(f.has(a))return f.get(a);var e;if((e=a.buffer)&&(0,k.isArrayBuffer)(e)){var l=c&&c.includes(e);e=a===e?a:l?new a.constructor(e,a.byteOffset,a.byteLength):new a.constructor(a);f.set(a,e);return e}e=Array.isArray(a)?[]:{};f.set(a,
e);for(l in a){for(var i,g=a;!(i=Object.getOwnPropertyDescriptor(g,l));)g=Object.getPrototypeOf(g);typeof i.value==="undefined"||typeof i.value==="function"||(e[l]=b(i.value))}return e}var e=this;if(this._defer){var f=new WeakMap,l={data:b(a)};this._deferred.then(function(){e._listeners.forEach(function(a){a.call(this,l)},e)})}else this._listeners.forEach(function(c){c.call(this,{data:a})},this)}},{key:"addEventListener",value:function(a,c){this._listeners.push(c)}},{key:"removeEventListener",value:function(a,
c){this._listeners.splice(this._listeners.indexOf(c),1)}},{key:"terminate",value:function(){this._listeners=[]}}]);return a}(),C=function(){function a(){if(f.GlobalWorkerOptions.workerSrc)return f.GlobalWorkerOptions.workerSrc;if(typeof z!=="undefined")return z;if(w)return w.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2");throw Error('No "GlobalWorkerOptions.workerSrc" specified.');}function c(){return typeof window==="undefined"?null:window.pdfjsWorker&&window.pdfjsWorker.WorkerMessageHandler}
function b(){if(d)return d.promise;d=(0,k.createPromiseCapability)();var e=c();if(e){d.resolve(e);return d.promise}(p||function(c){(0,s.loadScript)(a()).then(function(){c(window.pdfjsWorker.WorkerMessageHandler)})})(d.resolve);return d.promise}function e(a){return k.URL.createObjectURL(new Blob(["importScripts('"+a+"');"]))}function i(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=a.name,c=c===void 0?null:c,b=a.port,b=b===void 0?null:b,e=a.postMessageTransfers,e=e===void 0?true:
e,a=a.verbosity,a=a===void 0?(0,k.getVerbosityLevel)():a;if(b&&m.has(b))throw Error("Cannot use more than one PDFWorker per port");this.name=c;this.destroyed=false;this.postMessageTransfers=e!==false;this.verbosity=a;this._readyCapability=(0,k.createPromiseCapability)();this._messageHandler=this._webWorker=this._port=null;if(b){m.set(b,this);this._initializeFromPort(b)}else this._initialize()}var g=0,d=void 0,m=new WeakMap;i.prototype={get promise(){return this._readyCapability.promise},get port(){return this._port},
get messageHandler(){return this._messageHandler},_initializeFromPort:function(a){this._port=a;this._messageHandler=new l.MessageHandler("main","worker",a);this._messageHandler.on("ready",function(){});this._readyCapability.resolve()},_initialize:function(){var b=this;if(typeof Worker!=="undefined"&&!r&&!c()){var f=a();try{if(!(0,k.isSameOrigin)(window.location.href,f))f=e((new k.URL(f,window.location)).href);var i=new Worker(f),g=new l.MessageHandler("main","worker",i),d=function(){i.removeEventListener("error",
m);g.destroy();i.terminate();b.destroyed?b._readyCapability.reject(Error("Worker was destroyed")):b._setupFakeWorker()},m=function(){b._webWorker||d()};i.addEventListener("error",m);g.on("test",function(a){i.removeEventListener("error",m);if(b.destroyed)d();else if(a&&a.supportTypedArray){b._messageHandler=g;b._port=i;b._webWorker=i;if(!a.supportTransfers)b.postMessageTransfers=false;b._readyCapability.resolve();g.send("configure",{verbosity:b.verbosity})}else{b._setupFakeWorker();g.destroy();i.terminate()}});
g.on("ready",function(){i.removeEventListener("error",m);if(b.destroyed)d();else try{y()}catch(a){b._setupFakeWorker()}});var y=function(){var a=new Uint8Array([b.postMessageTransfers?255:0]);try{g.send("test",a,[a.buffer])}catch(c){(0,k.info)("Cannot use postMessage transfers");a[0]=0;g.send("test",a)}};y();return}catch(x){(0,k.info)("The worker has been disabled.")}}this._setupFakeWorker()},_setupFakeWorker:function(){var a=this;if(!r){(0,k.warn)("Setting up fake worker.");r=true}b().then(function(c){if(a.destroyed)a._readyCapability.reject(Error("Worker was destroyed"));
else{var b=new B;a._port=b;var e="fake"+g++,f=new l.MessageHandler(e+"_worker",e,b);c.setup(f,b);c=new l.MessageHandler(e,e+"_worker",b);a._messageHandler=c;a._readyCapability.resolve()}})},destroy:function(){this.destroyed=true;if(this._webWorker){this._webWorker.terminate();this._webWorker=null}m.delete(this._port);this._port=null;if(this._messageHandler){this._messageHandler.destroy();this._messageHandler=null}}};i.fromPort=function(a){if(!a||!a.port)throw Error("PDFWorker.fromPort - invalid method signature.");
return m.has(a.port)?m.get(a.port):new i(a)};i.getWorkerSrc=function(){return a()};return i}(),G=function(){function a(c,b,e,f){j(this,a);this.messageHandler=c;this.loadingTask=b;this.commonObjs=new J;this.fontLoader=new v.FontLoader(b.docId);this._params=f;this.CMapReaderFactory=new f.CMapReaderFactory({baseUrl:f.cMapUrl,isCompressed:f.cMapPacked});this.destroyed=false;this._passwordCapability=this.destroyCapability=null;this._networkStream=e;this._lastProgress=this._fullReader=null;this.pageCache=
[];this.pagePromises=[];this.downloadInfoCapability=(0,k.createPromiseCapability)();this.setupMessageHandler()}o(a,[{key:"destroy",value:function(){var a=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=true;this.destroyCapability=(0,k.createPromiseCapability)();this._passwordCapability&&this._passwordCapability.reject(Error("Worker was destroyed during onPassword callback"));var c=[];this.pageCache.forEach(function(a){a&&c.push(a._destroy())});this.pageCache=[];
this.pagePromises=[];var b=this.messageHandler.sendWithPromise("Terminate",null);c.push(b);Promise.all(c).then(function(){a.fontLoader.clear();a._networkStream&&a._networkStream.cancelAllRequests();if(a.messageHandler){a.messageHandler.destroy();a.messageHandler=null}a.destroyCapability.resolve()},this.destroyCapability.reject);return this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var a=this.messageHandler,b=this.loadingTask;a.on("GetReader",function(a,c){var b=this;
(0,k.assert)(this._networkStream);this._fullReader=this._networkStream.getFullReader();this._fullReader.onProgress=function(a){b._lastProgress={loaded:a.loaded,total:a.total}};c.onPull=function(){b._fullReader.read().then(function(a){var b=a.value;if(a.done)c.close();else{(0,k.assert)((0,k.isArrayBuffer)(b));c.enqueue(new Uint8Array(b),1,[b])}}).catch(function(a){c.error(a)})};c.onCancel=function(a){b._fullReader.cancel(a)}},this);a.on("ReaderHeadersReady",function(){var a=this,c=(0,k.createPromiseCapability)(),
e=this._fullReader;e.headersReady.then(function(){if(!e.isStreamingSupported||!e.isRangeSupported){if(a._lastProgress&&b.onProgress)b.onProgress(a._lastProgress);e.onProgress=function(a){if(b.onProgress)b.onProgress({loaded:a.loaded,total:a.total})}}c.resolve({isStreamingSupported:e.isStreamingSupported,isRangeSupported:e.isRangeSupported,contentLength:e.contentLength})},c.reject);return c.promise},this);a.on("GetRangeReader",function(a,c){(0,k.assert)(this._networkStream);var b=this._networkStream.getRangeReader(a.begin,
a.end);c.onPull=function(){b.read().then(function(a){var b=a.value;if(a.done)c.close();else{(0,k.assert)((0,k.isArrayBuffer)(b));c.enqueue(new Uint8Array(b),1,[b])}}).catch(function(a){c.error(a)})};c.onCancel=function(a){b.cancel(a)}},this);a.on("GetDoc",function(a){a=a.pdfInfo;this.numPages=a.numPages;this.pdfDocument=new I(a,this,b);b._capability.resolve(this.pdfDocument)},this);a.on("PasswordRequest",function(a){var c=this;this._passwordCapability=(0,k.createPromiseCapability)();if(b.onPassword){var e=
function(a){c._passwordCapability.resolve({password:a})};try{b.onPassword(e,a.code)}catch(f){this._passwordCapability.reject(f)}}else this._passwordCapability.reject(new k.PasswordException(a.message,a.code));return this._passwordCapability.promise},this);a.on("PasswordException",function(a){b._capability.reject(new k.PasswordException(a.message,a.code))},this);a.on("InvalidPDF",function(a){b._capability.reject(new k.InvalidPDFException(a.message))},this);a.on("MissingPDF",function(a){b._capability.reject(new k.MissingPDFException(a.message))},
this);a.on("UnexpectedResponse",function(a){b._capability.reject(new k.UnexpectedResponseException(a.message,a.status))},this);a.on("UnknownError",function(a){b._capability.reject(new k.UnknownErrorException(a.message,a.details))},this);a.on("DataLoaded",function(a){this.downloadInfoCapability.resolve(a)},this);a.on("StartRenderPage",function(a){if(!this.destroyed){var c=this.pageCache[a.pageIndex];c._stats.timeEnd("Page Request");c._startRenderPage(a.transparency,a.intent)}},this);a.on("RenderPageChunk",
function(a){this.destroyed||this.pageCache[a.pageIndex]._renderPageChunk(a.operatorList,a.intent)},this);a.on("commonobj",function(a){var b=this;if(!this.destroyed){var a=t(a,3),e=a[0],f=a[1],a=a[2];if(!this.commonObjs.hasData(e))switch(f){case "Font":f=this._params;if("error"in a){a=a.error;(0,k.warn)("Error during font loading: "+a);this.commonObjs.resolve(e,a);break}var i=null;f.pdfBug&&(c.default.FontInspector&&c.default.FontInspector.enabled)&&(i={registerFont:function(a,b){c.default.FontInspector.fontAdded(a,
b)}});var l=new v.FontFaceObject(a,{isEvalSupported:f.isEvalSupported,disableFontFace:f.disableFontFace,ignoreErrors:f.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:i});this.fontLoader.bind([l],function(){b.commonObjs.resolve(e,l)});break;case "FontPath":this.commonObjs.resolve(e,a);break;default:throw Error("Got unknown common object type "+f);}}},this);a.on("obj",function(a){if(!this.destroyed){var a=t(a,4),c=a[0],b=a[2],e=a[3],f=this.pageCache[a[1]];if(!f.objs.hasData(c))switch(b){case "JpegStream":return(new Promise(function(a,
c){var b=new Image;b.onload=function(){a(b)};b.onerror=function(){c(Error("Error during JPEG image loading"))};b.src=e})).then(function(a){f.objs.resolve(c,a)});case "Image":f.objs.resolve(c,e);if(e&&"data"in e&&e.data.length>8E6)f.cleanupAfterRender=true;break;default:throw Error("Got unknown object type "+b);}}},this);a.on("DocProgress",function(a){if(!this.destroyed&&b.onProgress)b.onProgress({loaded:a.loaded,total:a.total})},this);a.on("PageError",function(a){if(!this.destroyed){var c=this.pageCache[a.pageNum-
1].intentStates[a.intent];if(c.displayReadyCapability)c.displayReadyCapability.reject(a.error);else throw Error(a.error);if(c.operatorList){c.operatorList.lastChunk=true;for(a=0;a<c.renderTasks.length;a++)c.renderTasks[a].operatorListChanged()}}},this);a.on("UnsupportedFeature",this._onUnsupportedFeature,this);a.on("JpegDecode",function(a){if(this.destroyed)return Promise.reject(Error("Worker was destroyed"));if(typeof document==="undefined")return Promise.reject(Error('"document" is not defined.'));
var a=t(a,2),c=a[0],b=a[1];return b!==3&&b!==1?Promise.reject(Error("Only 3 components or 1 component can be returned")):new Promise(function(a,e){var f=new Image;f.onload=function(){var c=f.width,e=f.height,i=c*e,l=i*4,i=new Uint8ClampedArray(i*b),g=document.createElement("canvas");g.width=c;g.height=e;g=g.getContext("2d");g.drawImage(f,0,0);g=g.getImageData(0,0,c,e).data;if(b===3)for(var d=0,m=0;d<l;d=d+4,m=m+3){i[m]=g[d];i[m+1]=g[d+1];i[m+2]=g[d+2]}else if(b===1)for(m=d=0;d<l;d=d+4,m++)i[m]=g[d];
a({data:i,width:c,height:e})};f.onerror=function(){e(Error("JpegDecode failed to load image"))};f.src=c})},this);a.on("FetchBuiltInCMap",function(a){return this.destroyed?Promise.reject(Error("Worker was destroyed")):this.CMapReaderFactory.fetch({name:a.name})},this)}},{key:"_onUnsupportedFeature",value:function(a){a=a.featureId;if(!this.destroyed&&this.loadingTask.onUnsupportedFeature)this.loadingTask.onUnsupportedFeature(a)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",
null)}},{key:"getPage",value:function(a){var c=this;if(!Number.isInteger(a)||a<=0||a>this.numPages)return Promise.reject(Error("Invalid page request"));var b=a-1;if(b in this.pagePromises)return this.pagePromises[b];a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:b}).then(function(a){if(c.destroyed)throw Error("Transport destroyed");a=new E(b,a,c,c._params.pdfBug);return c.pageCache[b]=a});return this.pagePromises[b]=a}},{key:"getPageIndex",value:function(a){return this.messageHandler.sendWithPromise("GetPageIndex",
{ref:a}).catch(function(a){return Promise.reject(Error(a))})}},{key:"getAnnotations",value:function(a,c){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:c})}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(a){return typeof a!=="string"?Promise.reject(Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:a})}},{key:"getPageLabels",
value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getPermissions",
value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var a=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(c){return{info:c[0],metadata:c[1]?new e.Metadata(c[1]):null,contentDispositionFilename:a._fullReader?a._fullReader.filename:null}})}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:function(){var a=this;this.messageHandler.sendWithPromise("Cleanup",
null).then(function(){for(var c=0,b=a.pageCache.length;c<b;c++){var e=a.pageCache[c];e&&e.cleanup()}a.commonObjs.clear();a.fontLoader.clear()})}},{key:"loadingParams",get:function(){var a=this._params;return(0,k.shadow)(this,"loadingParams",{disableAutoFetch:a.disableAutoFetch,disableCreateObjectURL:a.disableCreateObjectURL,disableFontFace:a.disableFontFace,nativeImageDecoderSupport:a.nativeImageDecoderSupport})}}]);return a}(),J=function(){function a(){this.objs=Object.create(null)}a.prototype={ensureObj:function(a){if(this.objs[a])return this.objs[a];
var c={capability:(0,k.createPromiseCapability)(),data:null,resolved:false};return this.objs[a]=c},get:function(a,c){if(c){this.ensureObj(a).capability.promise.then(c);return null}var b=this.objs[a];if(!b||!b.resolved)throw Error("Requesting object that isn't resolved yet "+a);return b.data},resolve:function(a,c){var b=this.ensureObj(a);b.resolved=true;b.data=c;b.capability.resolve(c)},isResolved:function(a){var c=this.objs;return!c[a]?false:c[a].resolved},hasData:function(a){return this.isResolved(a)},
getData:function(a){var c=this.objs;return!c[a]||!c[a].resolved?null:c[a].data},clear:function(){this.objs=Object.create(null)}};return a}(),H=function(){function a(c){this._internalRenderTask=c;this.onContinue=null}a.prototype={get promise(){return this._internalRenderTask.capability.promise},cancel:function(){this._internalRenderTask.cancel()},then:function(a,c){return this.promise.then.apply(this.promise,arguments)}};return a}(),K=function(){function a(c,b,e,f,i,l,g,d){var m=arguments.length>8&&
arguments[8]!==void 0?arguments[8]:false;this.callback=c;this.params=b;this.objs=e;this.commonObjs=f;this.operatorListIdx=null;this.operatorList=i;this.pageNumber=l;this.canvasFactory=g;this.webGLContext=d;this._pdfBug=m;this.running=false;this.graphicsReadyCallback=null;this.cancelled=this.useRequestAnimationFrame=this.graphicsReady=false;this.capability=(0,k.createPromiseCapability)();this.task=new H(this);this._continueBound=this._continue.bind(this);this._scheduleNextBound=this._scheduleNext.bind(this);
this._nextBound=this._next.bind(this);this._canvas=b.canvasContext.canvas}var b=new WeakMap;a.prototype={initializeGraphics:function(a){if(!this.cancelled){if(this._canvas){if(b.has(this._canvas))throw Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");b.set(this._canvas,this)}if(this._pdfBug&&c.default.StepperManager&&c.default.StepperManager.enabled){this.stepper=c.default.StepperManager.create(this.pageNumber-
1);this.stepper.init(this.operatorList);this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint()}var e=this.params;this.gfx=new i.CanvasGraphics(e.canvasContext,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,e.imageLayer);this.gfx.beginDrawing({transform:e.transform,viewport:e.viewport,transparency:a,background:e.background});this.operatorListIdx=0;this.graphicsReady=true;this.graphicsReadyCallback&&this.graphicsReadyCallback()}},cancel:function(){this.running=false;this.cancelled=
true;this._canvas&&b.delete(this._canvas);this.callback(new s.RenderingCancelledException("Rendering cancelled, page "+this.pageNumber,"canvas"))},operatorListChanged:function(){if(this.graphicsReady){this.stepper&&this.stepper.updateOperatorList(this.operatorList);this.running||this._continue()}else if(!this.graphicsReadyCallback)this.graphicsReadyCallback=this._continueBound},_continue:function(){this.running=true;if(!this.cancelled)if(this.task.onContinue)this.task.onContinue(this._scheduleNextBound);
else this._scheduleNext()},_scheduleNext:function(){var a=this;this.useRequestAnimationFrame&&typeof window!=="undefined"?window.requestAnimationFrame(function(){a._nextBound().catch(a.callback)}):Promise.resolve().then(this._nextBound).catch(this.callback)},_next:function(){var a=this;return new Promise(function(){if(!a.cancelled){a.operatorListIdx=a.gfx.executeOperatorList(a.operatorList,a.operatorListIdx,a._continueBound,a.stepper);if(a.operatorListIdx===a.operatorList.argsArray.length){a.running=
false;if(a.operatorList.lastChunk){a.gfx.endDrawing();a._canvas&&b.delete(a._canvas);a.callback()}}}})}};return a}();b.version="2.0.866";b.build="0e41eb16";b.getDocument=function(a){var c=new x;if(typeof a==="string")a={url:a};else if((0,k.isArrayBuffer)(a))a={data:a};else if(a instanceof L)a={range:a};else{if((typeof a==="undefined"?"undefined":u(a))!=="object")throw Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!a.url&&!a.data&&!a.range)throw Error("Invalid parameter object: need either .data, .range or .url");
}var b=Object.create(null),e=null,i=null,d;for(d in a)if(d==="url"&&typeof window!=="undefined")b[d]=(new k.URL(a[d],window.location)).href;else if(d==="range")e=a[d];else if(d==="worker")i=a[d];else if(d==="data"&&!(a[d]instanceof Uint8Array)){var m=a[d];if(typeof m==="string")b[d]=(0,k.stringToBytes)(m);else if((typeof m==="undefined"?"undefined":u(m))==="object"&&m!==null&&!isNaN(m.length))b[d]=new Uint8Array(m);else if((0,k.isArrayBuffer)(m))b[d]=new Uint8Array(m);else throw Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");
}else b[d]=a[d];b.rangeChunkSize=b.rangeChunkSize||65536;b.CMapReaderFactory=b.CMapReaderFactory||s.DOMCMapReaderFactory;b.ignoreErrors=b.stopAtErrors!==true;b.pdfBug=b.pdfBug===true;d=Object.values(k.NativeImageDecoding);if(b.nativeImageDecoderSupport===void 0||!d.includes(b.nativeImageDecoderSupport))b.nativeImageDecoderSupport=n.apiCompatibilityParams.nativeImageDecoderSupport||k.NativeImageDecoding.DECODE;if(!Number.isInteger(b.maxImageSize))b.maxImageSize=-1;if(typeof b.isEvalSupported!=="boolean")b.isEvalSupported=
true;if(typeof b.disableFontFace!=="boolean")b.disableFontFace=n.apiCompatibilityParams.disableFontFace||false;if(typeof b.disableRange!=="boolean")b.disableRange=false;if(typeof b.disableStream!=="boolean")b.disableStream=false;if(typeof b.disableAutoFetch!=="boolean")b.disableAutoFetch=false;if(typeof b.disableCreateObjectURL!=="boolean")b.disableCreateObjectURL=n.apiCompatibilityParams.disableCreateObjectURL||false;(0,k.setVerbosityLevel)(b.verbosity);if(!i){d={postMessageTransfers:b.postMessageTransfers,
verbosity:b.verbosity};if(a=f.GlobalWorkerOptions.workerPort){d.port=a;i=C.fromPort(d)}else i=new C(d);c._worker=i}var r=c.docId;i.promise.then(function(){if(c.destroyed)throw Error("Loading aborted");return g(i,b,e,r).then(function(a){if(c.destroyed)throw Error("Loading aborted");var f=void 0;e?f=new q.PDFDataTransportStream({length:b.length,initialData:b.initialData,disableRange:b.disableRange,disableStream:b.disableStream},e):b.data||(f=y({url:b.url,length:b.length,httpHeaders:b.httpHeaders,withCredentials:b.withCredentials,
rangeChunkSize:b.rangeChunkSize,disableRange:b.disableRange,disableStream:b.disableStream}));a=new l.MessageHandler(r,a,i.port);a.postMessageTransfers=i.postMessageTransfers;f=new G(a,c,f,b);c._transport=f;a.send("Ready",null)})}).catch(c._capability.reject);return c};b.LoopbackPort=B;b.PDFDataRangeTransport=L;b.PDFWorker=C;b.PDFDocumentProxy=I;b.PDFPageProxy=E;b.setPDFNetworkStreamFactory=function(a){y=a};b.version="2.0.866";b.build="0e41eb16"},function(d,b,a){function h(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");
}Object.defineProperty(b,"__esModule",{value:!0});b.loadScript=b.DummyStatTimer=b.StatTimer=b.DOMSVGFactory=b.DOMCMapReaderFactory=b.DOMCanvasFactory=b.DEFAULT_LINK_REL=b.LinkTarget=b.getFilenameFromUrl=b.addLinkAttributes=b.RenderingCancelledException=b.PageViewport=void 0;var j=function(){function a(c,b){for(var i=0;i<b.length;i++){var e=b[i];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,l){b&&a(c.prototype,b);
l&&a(c,l);return c}}(),g=a(1),d=function(){function a(){h(this,a)}j(a,[{key:"create",value:function(a,b){if(0>=a||0>=b)throw Error("invalid canvas size");var i=document.createElement("canvas"),e=i.getContext("2d");i.width=a;i.height=b;return{canvas:i,context:e}}},{key:"reset",value:function(a,b,i){if(!a.canvas)throw Error("canvas is not specified");if(0>=b||0>=i)throw Error("invalid canvas size");a.canvas.width=b;a.canvas.height=i}},{key:"destroy",value:function(a){if(!a.canvas)throw Error("canvas is not specified");
a.canvas.width=0;a.canvas.height=0;a.canvas=null;a.context=null}}]);return a}(),a=function(){function a(c){var b=c.baseUrl,b=void 0===b?null:b,c=c.isCompressed,c=void 0===c?!1:c;h(this,a);this.baseUrl=b;this.isCompressed=c}j(a,[{key:"fetch",value:function(a){var b=this,i=a.name;return!this.baseUrl?Promise.reject(Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.')):!i?Promise.reject(Error("CMap name must be specified.")):
new Promise(function(a,c){var d=b.baseUrl+i+(b.isCompressed?".bcmap":""),n=new XMLHttpRequest;n.open("GET",d,!0);b.isCompressed&&(n.responseType="arraybuffer");n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE){if(n.status===200||n.status===0){var i=void 0;b.isCompressed&&n.response?i=new Uint8Array(n.response):!b.isCompressed&&n.responseText&&(i=(0,g.stringToBytes)(n.responseText));if(i){a({cMapData:i,compressionType:b.isCompressed?g.CMapCompressionType.BINARY:g.CMapCompressionType.NONE});
return}}c(Error("Unable to load "+(b.isCompressed?"binary ":"")+"CMap at: "+d))}};n.send(null)})}}]);return a}(),t=function(){function a(){h(this,a)}j(a,[{key:"create",value:function(a,b){(0,g.assert)(0<a&&0<b,"Invalid SVG dimensions");var i=document.createElementNS("http://www.w3.org/2000/svg","svg:svg");i.setAttribute("version","1.1");i.setAttribute("width",a+"px");i.setAttribute("height",b+"px");i.setAttribute("preserveAspectRatio","none");i.setAttribute("viewBox","0 0 "+a+" "+b);return i}},{key:"createElement",
value:function(a){(0,g.assert)("string"===typeof a,"Invalid SVG element type");return document.createElementNS("http://www.w3.org/2000/svg",a)}}]);return a}(),o=function(){function a(c){var b=c.viewBox,l=c.scale,e=c.rotation,d=c.offsetX,d=void 0===d?0:d,g=c.offsetY,g=void 0===g?0:g,c=c.dontFlip,n=void 0===c?!1:c;h(this,a);this.viewBox=b;this.scale=l;this.rotation=e;this.offsetX=d;this.offsetY=g;var c=(b[2]+b[0])/2,o=(b[3]+b[1])/2,k=void 0,p=void 0,y=void 0,x=void 0,e=e%360;switch(0>e?e+360:e){case 180:k=
-1;y=p=0;x=1;break;case 90:k=0;y=p=1;x=0;break;case 270:k=0;y=p=-1;x=0;break;default:k=1,y=p=0,x=-1}n&&(y=-y,x=-x);var s=n=e=void 0,v=void 0;0===k?(e=Math.abs(o-b[1])*l+d,n=Math.abs(c-b[0])*l+g,s=Math.abs(b[3]-b[1])*l,v=Math.abs(b[2]-b[0])*l):(e=Math.abs(c-b[0])*l+d,n=Math.abs(o-b[1])*l+g,s=Math.abs(b[2]-b[0])*l,v=Math.abs(b[3]-b[1])*l);this.transform=[k*l,p*l,y*l,x*l,e-k*l*c-y*l*o,n-p*l*c-x*l*o];this.width=s;this.height=v}j(a,[{key:"clone",value:function(){var c=0<arguments.length&&void 0!==arguments[0]?
arguments[0]:{},b=c.scale,b=void 0===b?this.scale:b,l=c.rotation,l=void 0===l?this.rotation:l,c=c.dontFlip,c=void 0===c?!1:c;return new a({viewBox:this.viewBox.slice(),scale:b,rotation:l,offsetX:this.offsetX,offsetY:this.offsetY,dontFlip:c})}},{key:"convertToViewportPoint",value:function(a,b){return g.Util.applyTransform([a,b],this.transform)}},{key:"convertToViewportRectangle",value:function(a){var b=g.Util.applyTransform([a[0],a[1]],this.transform),a=g.Util.applyTransform([a[2],a[3]],this.transform);
return[b[0],b[1],a[0],a[1]]}},{key:"convertToPdfPoint",value:function(a,b){return g.Util.applyInverseTransform([a,b],this.transform)}}]);return a}(),u=function(){function a(c,b){this.message=c;this.type=b}a.prototype=Error();a.prototype.name="RenderingCancelledException";return a.constructor=a}(),k={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4},s=["","_self","_blank","_parent","_top"],v=function(){function a(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!0;h(this,a);this.enabled=!!c;this.started=
Object.create(null);this.times=[]}j(a,[{key:"time",value:function(a){this.enabled&&(a in this.started&&(0,g.warn)("Timer is already running for "+a),this.started[a]=Date.now())}},{key:"timeEnd",value:function(a){this.enabled&&(a in this.started||(0,g.warn)("Timer has not been started for "+a),this.times.push({name:a,start:this.started[a],end:Date.now()}),delete this.started[a])}},{key:"toString",value:function(){for(var a=this.times,b="",i=0,e=0,d=a.length;e<d;++e){var g=a[e].name;g.length>i&&(i=
g.length)}e=0;for(d=a.length;e<d;++e)var g=a[e],n=g.end-g.start,b=b+(g.name.padEnd(i)+" "+n+"ms\n");return b}}]);return a}(),n=function(){function a(){h(this,a);(0,g.unreachable)("Cannot initialize DummyStatTimer.")}j(a,null,[{key:"time",value:function(){}},{key:"timeEnd",value:function(){}},{key:"toString",value:function(){return""}}]);return a}();b.PageViewport=o;b.RenderingCancelledException=u;b.addLinkAttributes=function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},b=c.url,
d=c.target,c=c.rel;a.href=a.title=b?(0,g.removeNullCharacters)(b):"";b&&(b=Object.values(k).includes(d)?d:k.NONE,a.target=s[b],a.rel="string"===typeof c?c:"noopener noreferrer nofollow")};b.getFilenameFromUrl=function(a){var c=a.indexOf("#"),b=a.indexOf("?"),c=Math.min(0<c?c:a.length,0<b?b:a.length);return a.substring(a.lastIndexOf("/",c)+1,c)};b.LinkTarget=k;b.DEFAULT_LINK_REL="noopener noreferrer nofollow";b.DOMCanvasFactory=d;b.DOMCMapReaderFactory=a;b.DOMSVGFactory=t;b.StatTimer=v;b.DummyStatTimer=
n;b.loadScript=function(a){return new Promise(function(c,b){var d=document.createElement("script");d.src=a;d.onload=c;d.onerror=function(){b(Error("Cannot load script at: "+d.src))};(document.head||document.documentElement).appendChild(d)})}},function(d,b,a){function h(a){this.docId=a;this.styleElement=null;this.nativeFontFaces=[];this.loadTestFontId=0;this.loadingContext={requests:[],nextRequestId:0}}Object.defineProperty(b,"__esModule",{value:!0});b.FontLoader=b.FontFaceObject=void 0;var j=a(1);
h.prototype={insertRule:function(a){var b=this.styleElement;b||(b=this.styleElement=document.createElement("style"),b.id="PDFJS_FONT_STYLE_TAG_"+this.docId,document.documentElement.getElementsByTagName("head")[0].appendChild(b));b=b.sheet;b.insertRule(a,b.cssRules.length)},clear:function(){this.styleElement&&(this.styleElement.remove(),this.styleElement=null);this.nativeFontFaces.forEach(function(a){document.fonts.delete(a)});this.nativeFontFaces.length=0}};Object.defineProperty(h.prototype,"loadTestFont",
{get:function(){return(0,j.shadow)(this,"loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))},
configurable:!0});h.prototype.addNativeFontFace=function(a){this.nativeFontFaces.push(a);document.fonts.add(a)};h.prototype.bind=function(a,b){for(var d=[],g=[],s=[],v=function(a){return a.loaded.catch(function(c){(0,j.warn)('Failed to load font "'+a.family+'": '+c)})},n=h.isFontLoadingAPISupported&&!h.isSyncFontLoadingSupported,i=0,c=a.length;i<c;i++){var f=a[i];if(!(f.attached||!1===f.loading))if(f.attached=!0,n){if(f=f.createNativeFontFace())this.addNativeFontFace(f),s.push(v(f))}else{var l=f.createFontFaceRule();
l&&(this.insertRule(l),d.push(l),g.push(f))}}var e=this.queueLoadingCallback(b);n?Promise.all(s).then(function(){e.complete()}):0<d.length&&!h.isSyncFontLoadingSupported?this.prepareFontLoadEvent(d,g,e):e.complete()};h.prototype.queueLoadingCallback=function(a){var b=this.loadingContext,d={id:"pdfjs-font-loading-"+b.nextRequestId++,complete:function(){(0,j.assert)(!d.end,"completeRequest() cannot be called twice");for(d.end=Date.now();0<b.requests.length&&b.requests[0].end;){var a=b.requests.shift();
setTimeout(a.callback,0)}},callback:a,started:Date.now()};b.requests.push(d);return d};h.prototype.prepareFontLoadEvent=function(a,b,d){function g(a,c){return a.charCodeAt(c)<<24|a.charCodeAt(c+1)<<16|a.charCodeAt(c+2)<<8|a.charCodeAt(c+3)&255}function h(a,c,b,e){var f=a.substr(0,c),a=a.substr(c+b);return f+e+a}function v(a,b){f++;30<f?((0,j.warn)("Load test font never loaded."),b()):(c.font="30px "+a,c.fillText(".",0,20),0<c.getImageData(0,0,1,1).data[3]?b():setTimeout(v.bind(null,a,b)))}var n,i,
a=document.createElement("canvas");a.width=1;a.height=1;var c=a.getContext("2d"),f=0,a="lt"+Date.now()+this.loadTestFontId++,l=this.loadTestFont,l=h(l,976,a.length,a),e=g(l,16);n=0;for(i=a.length-3;n<i;n+=4)e=e-1482184792+g(a,n)|0;n<a.length&&(e=e-1482184792+g(a+"XXX",n)|0);l=h(l,16,4,(0,j.string32)(e));n="url(data:font/opentype;base64,"+btoa(l)+");";this.insertRule('@font-face { font-family:"'+a+'";src:'+n+"}");l=[];n=0;for(i=b.length;n<i;n++)l.push(b[n].loadedName);l.push(a);var q=document.createElement("div");
q.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");n=0;for(i=l.length;n<i;++n)b=document.createElement("span"),b.textContent="Hi",b.style.fontFamily=l[n],q.appendChild(b);document.body.appendChild(q);v(a,function(){document.body.removeChild(q);d.complete()})};h.isFontLoadingAPISupported="undefined"!==typeof document&&!!document.fonts;Object.defineProperty(h,"isSyncFontLoadingSupported",{get:function(){var a=(0,j.shadow),b;if("undefined"===
typeof navigator)b=!0;else{b=!1;var d=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);d&&14<=d[1]&&(b=!0)}return a(h,"isSyncFontLoadingSupported",b)},enumerable:!0,configurable:!0});var g={get value(){return(0,j.shadow)(this,"value",(0,j.isEvalSupported)())}},d=function(){function a(b,d){var g=d.isEvalSupported,g=void 0===g?!0:g,h=d.disableFontFace,h=void 0===h?!1:h,v=d.ignoreErrors,v=void 0===v?!1:v,n=d.onUnsupportedFeature,n=void 0===n?null:n,i=d.fontRegistry,i=void 0===i?null:i;this.compiledGlyphs=
Object.create(null);for(var c in b)this[c]=b[c];this.isEvalSupported=!1!==g;this.disableFontFace=!0===h;this.ignoreErrors=!0===v;this._onUnsupportedFeature=n;this.fontRegistry=i}a.prototype={createNativeFontFace:function(){if(!this.data||this.disableFontFace)return null;var a=new FontFace(this.loadedName,this.data,{});this.fontRegistry&&this.fontRegistry.registerFont(this);return a},createFontFaceRule:function(){if(!this.data||this.disableFontFace)return null;var a=(0,j.bytesToString)(new Uint8Array(this.data)),
b=this.loadedName,a="url(data:"+this.mimetype+";base64,"+btoa(a)+");",b='@font-face { font-family:"'+b+'";src:'+a+"}";this.fontRegistry&&this.fontRegistry.registerFont(this,a);return b},getPathGenerator:function(a,b){if(void 0!==this.compiledGlyphs[b])return this.compiledGlyphs[b];var d=void 0,h=void 0;try{d=a.get(this.loadedName+"_path_"+b)}catch(v){if(!this.ignoreErrors)throw v;this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:j.UNSUPPORTED_FEATURES.font});(0,j.warn)('getPathGenerator - ignoring character: "'+
v+'".');return this.compiledGlyphs[b]=function(){}}if(this.isEvalSupported&&g.value){for(var n=void 0,i="",c=0,f=d.length;c<f;c++)h=d[c],n=void 0!==h.args?h.args.join(","):"",i+="c."+h.cmd+"("+n+");\n";return this.compiledGlyphs[b]=new Function("c","size",i)}return this.compiledGlyphs[b]=function(a,c){for(var b=0,f=d.length;b<f;b++)h=d[b],"scale"===h.cmd&&(h.args=[c,-c]),a[h.cmd].apply(a,h.args)}}};return a}();b.FontFaceObject=d;b.FontLoader=h},function(d,b,a){var d=Object.create(null),a=a(4),h="undefined"!==
typeof navigator&&navigator.userAgent||"",j=/Trident/.test(h),h=/CriOS/.test(h);if(j||h)d.disableCreateObjectURL=!0;a()&&(d.disableFontFace=!0,d.nativeImageDecoderSupport="none");b.apiCompatibilityParams=Object.freeze(d)},function(d,b,a){function h(a){a.mozCurrentTransform||(a._originalSave=a.save,a._originalRestore=a.restore,a._originalRotate=a.rotate,a._originalScale=a.scale,a._originalTranslate=a.translate,a._originalTransform=a.transform,a._originalSetTransform=a.setTransform,a._transformMatrix=
a._transformMatrix||[1,0,0,1,0,0],a._transformStack=[],Object.defineProperty(a,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(a,"mozCurrentTransformInverse",{get:function(){var a=this._transformMatrix,b=a[0],c=a[1],f=a[2],d=a[3],e=a[4],a=a[5],g=b*d-c*f,m=c*f-b*d;return[d/g,c/m,f/m,b/g,(d*e-f*a)/m,(c*e-b*a)/g]}}),a.save=function(){var a=this._transformMatrix;this._transformStack.push(a);this._transformMatrix=a.slice(0,6);this._originalSave()},a.restore=
function(){var a=this._transformStack.pop();a&&(this._transformMatrix=a,this._originalRestore())},a.translate=function(a,b){var c=this._transformMatrix;c[4]=c[0]*a+c[2]*b+c[4];c[5]=c[1]*a+c[3]*b+c[5];this._originalTranslate(a,b)},a.scale=function(a,b){var c=this._transformMatrix;c[0]*=a;c[1]*=a;c[2]*=b;c[3]*=b;this._originalScale(a,b)},a.transform=function(b,d,c,f,g,e){var q=this._transformMatrix;this._transformMatrix=[q[0]*b+q[2]*d,q[1]*b+q[3]*d,q[0]*c+q[2]*f,q[1]*c+q[3]*f,q[0]*g+q[2]*e+q[4],q[1]*
g+q[3]*e+q[5]];a._originalTransform(b,d,c,f,g,e)},a.setTransform=function(b,d,c,f,g,e){this._transformMatrix=[b,d,c,f,g,e];a._originalSetTransform(b,d,c,f,g,e)},a.rotate=function(a){var b=Math.cos(a),c=Math.sin(a),f=this._transformMatrix;this._transformMatrix=[f[0]*b+f[2]*c,f[1]*b+f[3]*c,f[0]*-c+f[2]*b,f[1]*-c+f[3]*b,f[4],f[5]];this._originalRotate(a)})}function j(a){var b=a.width,d=a.height,c,f,g=b+1,e=new Uint8Array(g*(d+1)),q=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),m=b+7&-8,r=a.data,
k=new Uint8Array(m*d),o=0,a=0;for(c=r.length;a<c;a++){f=128;for(var p=r[a];0<f;)k[o++]=p&f?0:255,f>>=1}o=r=0;0!==k[o]&&(e[0]=1,++r);for(c=1;c<b;c++)k[o]!==k[o+1]&&(e[c]=k[o]?2:1,++r),o++;0!==k[o]&&(e[c]=2,++r);for(a=1;a<d;a++){o=a*m;f=a*g;k[o-m]!==k[o]&&(e[f]=k[o]?1:8,++r);p=(k[o]?4:0)+(k[o-m]?8:0);for(c=1;c<b;c++)p=(p>>2)+(k[o+1]?4:0)+(k[o-m+1]?8:0),q[p]&&(e[f+c]=q[p],++r),o++;k[o-m]!==k[o]&&(e[f+c]=k[o]?2:4,++r);if(1E3<r)return null}o=m*(d-1);f=a*g;0!==k[o]&&(e[f]=8,++r);for(c=1;c<b;c++)k[o]!==
k[o+1]&&(e[f+c]=k[o]?4:8,++r),o++;0!==k[o]&&(e[f+c]=4,++r);if(1E3<r)return null;for(var q=new Int32Array([0,g,-1,0,-g,0,0,0,1]),y=[],a=0;r&&a<=d;a++){m=a*g;for(k=m+b;m<k&&!e[m];)m++;if(m!==k){k=[m%g,a];o=e[m];c=m;do{f=q[o];do m+=f;while(!e[m]);f=e[m];5!==f&&10!==f?(o=f,e[m]=0):(o=f&51*o>>4,e[m]&=o>>2|o<<2);k.push(m%g);k.push(m/g|0);--r}while(c!==m);y.push(k);--a}}return function(a){a.save();a.scale(1/b,-1/d);a.translate(0,-d);a.beginPath();for(var c=0,e=y.length;c<e;c++){var f=y[c];a.moveTo(f[0],
f[1]);for(var g=2,l=f.length;g<l;g=g+2)a.lineTo(f[g],f[g+1])}a.fill();a.beginPath();a.restore()}}Object.defineProperty(b,"__esModule",{value:!0});b.CanvasGraphics=void 0;var g=a(1),t=a(127),o=16,u={get value(){return(0,g.shadow)(u,"value",(0,g.isLittleEndian)())}},k=function(){function a(b){this.canvasFactory=b;this.cache=Object.create(null)}a.prototype={getCanvas:function(a,b,c,f){var d;void 0!==this.cache[a]?(d=this.cache[a],this.canvasFactory.reset(d,b,c),d.context.setTransform(1,0,0,1,0,0)):(d=
this.canvasFactory.create(b,c),this.cache[a]=d);f&&h(d.context);return d},clear:function(){for(var a in this.cache)this.canvasFactory.destroy(this.cache[a]),delete this.cache[a]}};return a}(),s=function(){function a(){this.alphaIsShape=!1;this.fontSize=0;this.fontSizeScale=1;this.textMatrix=g.IDENTITY_MATRIX;this.textMatrixScale=1;this.fontMatrix=g.FONT_IDENTITY_MATRIX;this.wordSpacing=this.charSpacing=this.lineY=this.lineX=this.y=this.x=this.leading=0;this.textHScale=1;this.textRenderingMode=g.TextRenderingMode.FILL;
this.textRise=0;this.strokeColor=this.fillColor="#000000";this.patternFill=!1;this.lineWidth=this.strokeAlpha=this.fillAlpha=1;this.resumeSMaskCtx=this.activeSMask=null}a.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(a,b){this.x=a;this.y=b}};return a}(),d=function(){function a(c,b,e,f,d,g){this.ctx=c;this.current=new s;this.stateStack=[];this.pendingClip=null;this.pendingEOFill=!1;this.xobjs=this.res=null;this.commonObjs=b;this.objs=e;this.canvasFactory=f;this.webGLContext=
d;this.imageLayer=g;this.groupStack=[];this.baseTransform=this.processingType3=null;this.baseTransformStack=[];this.groupLevel=0;this.smaskStack=[];this.smaskCounter=0;this.tempSMask=null;this.cachedCanvases=new k(this.canvasFactory);c&&h(c);this._cachedGetSinglePixelWidth=null}function b(a,c){if("undefined"!==typeof ImageData&&c instanceof ImageData)a.putImageData(c,0,0);else{var e=c.height,f=c.width,d=e%o,e=(e-d)/o,i=0===d?e:e+1,l=a.createImageData(f,o),m=0,q,k=c.data,n=l.data,p,A,r;if(c.kind===
g.ImageKind.GRAYSCALE_1BPP){var h=k.byteLength,n=new Uint32Array(n.buffer,0,n.byteLength>>2),s=n.length,z=f+7>>3,j=u.value?4278190080:255;for(p=0;p<i;p++){r=p<e?o:d;for(A=q=0;A<r;A++){for(var w=h-m,v=0,w=w>z?f:8*w-7,t=w&-8,T=0,Q=0;v<t;v+=8)Q=k[m++],n[q++]=Q&128?4294967295:j,n[q++]=Q&64?4294967295:j,n[q++]=Q&32?4294967295:j,n[q++]=Q&16?4294967295:j,n[q++]=Q&8?4294967295:j,n[q++]=Q&4?4294967295:j,n[q++]=Q&2?4294967295:j,n[q++]=Q&1?4294967295:j;for(;v<w;v++)0===T&&(Q=k[m++],T=128),n[q++]=Q&T?4294967295:
j,T>>=1}for(;q<s;)n[q++]=0;a.putImageData(l,0,p*o)}}else if(c.kind===g.ImageKind.RGBA_32BPP){A=0;r=4*f*o;for(p=0;p<e;p++)n.set(k.subarray(m,m+r)),m+=r,a.putImageData(l,0,A),A+=o;p<i&&(n.set(k.subarray(m,m+4*f*d)),a.putImageData(l,0,A))}else if(c.kind===g.ImageKind.RGB_24BPP){r=o;r*=f;for(p=0;p<i;p++){p>=e&&(r=d,r*=f);q=0;for(A=r;A--;)n[q++]=k[m++],n[q++]=k[m++],n[q++]=k[m++],n[q++]=255;a.putImageData(l,0,p*o)}}else throw Error("bad image kind: "+c.kind);}}function d(a,c){for(var b=c.height,e=c.width,
f=b%o,b=(b-f)/o,g=0===f?b:b+1,i=a.createImageData(e,o),l=0,m=c.data,q=i.data,n=0;n<g;n++){for(var k=n<b?o:f,A=3,p=0;p<k;p++)for(var r=0,h=0;h<e;h++){if(!r)var s=m[l++],r=128;q[A]=s&r?0:255;A+=4;r>>=1}a.putImageData(i,0,n*o)}}function c(a,c){for(var b="strokeStyle fillStyle fillRule globalAlpha lineWidth lineCap lineJoin miterLimit globalCompositeOperation font".split(" "),e=0,f=b.length;e<f;e++){var d=b[e];void 0!==a[d]&&(c[d]=a[d])}void 0!==a.setLineDash&&(c.setLineDash(a.getLineDash()),c.lineDashOffset=
a.lineDashOffset)}function f(a){a.strokeStyle="#000000";a.fillStyle="#000000";a.fillRule="nonzero";a.globalAlpha=1;a.lineWidth=1;a.lineCap="butt";a.lineJoin="miter";a.miterLimit=10;a.globalCompositeOperation="source-over";a.font="10px sans-serif";void 0!==a.setLineDash&&(a.setLineDash([]),a.lineDashOffset=0)}function l(a,c,b){for(var e=a.length,f=1/255,d=3;d<e;d+=4)c[d]=c[d]*(b?b[a[d]]:a[d])*f|0}function e(a,c,b){for(var e=a.length,f=3;f<e;f+=4){var d=77*a[f-3]+152*a[f-2]+28*a[f-1];c[f]=b?c[f]*b[d>>
8]>>8:c[f]*d>>16}}function q(a,c,b,f){var d=c.canvas,g=c.context;a.setTransform(c.scaleX,0,0,c.scaleY,c.offsetX,c.offsetY);var i=c.backdrop||null;if(!c.transferMap&&f.isEnabled)b=f.composeSMask({layer:b.canvas,mask:d,properties:{subtype:c.subtype,backdrop:i}}),a.setTransform(1,0,0,1,0,0),a.drawImage(b,c.offsetX,c.offsetY);else{for(var f=d.width,m=d.height,q=c.transferMap,n=!!i,k=n?i[0]:0,p=n?i[1]:0,i=n?i[2]:0,c="Luminosity"===c.subtype?e:l,A=Math.min(m,Math.ceil(1048576/f)),o=0;o<m;o+=A){var r=Math.min(A,
m-o),h=g.getImageData(0,o,f,r),r=b.getImageData(0,o,f,r);if(n)for(var s=h.data,z=k,j=p,w=i,v=s.length,u=3;u<v;u+=4){var t=s[u];if(0===t)s[u-3]=z,s[u-2]=j,s[u-1]=w;else if(255>t){var U=255-t;s[u-3]=s[u-3]*t+z*U>>8;s[u-2]=s[u-2]*t+j*U>>8;s[u-1]=s[u-1]*t+w*U>>8}}c(h.data,r.data,q);g.putImageData(r,0,o)}a.drawImage(d,0,0)}}var m=["butt","round","square"],r=["miter","round","bevel"],z={},w={};a.prototype={beginDrawing:function(a){var c=a.transform,b=a.viewport,e=a.transparency,a=a.background,a=void 0===
a?null:a,d=this.ctx.canvas.width,g=this.ctx.canvas.height;this.ctx.save();this.ctx.fillStyle=a||"rgb(255, 255, 255)";this.ctx.fillRect(0,0,d,g);this.ctx.restore();e&&(e=this.cachedCanvases.getCanvas("transparent",d,g,!0),this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform));this.ctx.save();f(this.ctx);c&&this.ctx.transform.apply(this.ctx,c);this.ctx.transform.apply(this.ctx,b.transform);
this.baseTransform=this.ctx.mozCurrentTransform.slice();this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(a,c,b,e){var f=a.argsArray,a=a.fnArray,c=c||0,d=f.length;if(d===c)return c;for(var i=10<d-c&&"function"===typeof b,l=i?Date.now()+15:0,m=0,q=this.commonObjs,n=this.objs,k;;){if(void 0!==e&&c===e.nextBreakPoint)return e.breakIt(c,b),c;k=a[c];if(k!==g.OPS.dependency)this[k].apply(this,f[c]);else{k=f[c];for(var A=0,o=k.length;A<o;A++){var p=k[A],r="g"===p[0]&&"_"===p[1]?
q:n;if(!r.isResolved(p))return r.get(p,b),c}}c++;if(c===d)return c;if(i&&10<++m){if(Date.now()>l)return b(),c;m=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup();this.ctx.restore();this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null);this.cachedCanvases.clear();this.webGLContext.clear();this.imageLayer&&this.imageLayer.endLayout()},
setLineWidth:function(a){this.current.lineWidth=a;this.ctx.lineWidth=a},setLineCap:function(a){this.ctx.lineCap=m[a]},setLineJoin:function(a){this.ctx.lineJoin=r[a]},setMiterLimit:function(a){this.ctx.miterLimit=a},setDash:function(a,c){var b=this.ctx;void 0!==b.setLineDash&&(b.setLineDash(a),b.lineDashOffset=c)},setRenderingIntent:function(){},setFlatness:function(){},setGState:function(a){for(var c=0,b=a.length;c<b;c++){var e=a[c],f=e[1];switch(e[0]){case "LW":this.setLineWidth(f);break;case "LC":this.setLineCap(f);
break;case "LJ":this.setLineJoin(f);break;case "ML":this.setMiterLimit(f);break;case "D":this.setDash(f[0],f[1]);break;case "RI":this.setRenderingIntent(f);break;case "FL":this.setFlatness(f);break;case "Font":this.setFont(f[0],f[1]);break;case "CA":this.current.strokeAlpha=e[1];break;case "ca":this.current.fillAlpha=e[1];this.ctx.globalAlpha=e[1];break;case "BM":this.ctx.globalCompositeOperation=f;break;case "SMask":this.current.activeSMask&&(0<this.stateStack.length&&this.stateStack[this.stateStack.length-
1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=f?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var a=this.current.activeSMask,b=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,a.canvas.width,a.canvas.height,!0),e=this.ctx,f=e.mozCurrentTransform;this.ctx.save();b=b.context;b.scale(1/a.scaleX,1/a.scaleY);b.translate(-a.offsetX,-a.offsetY);b.transform.apply(b,
f);a.startTransformInverse=b.mozCurrentTransformInverse;c(e,b);this.ctx=b;this.setGState([["BM","source-over"],["ca",1],["CA",1]]);this.groupStack.push(e);this.groupLevel++},suspendSMaskGroup:function(){var a=this.ctx;this.groupLevel--;this.ctx=this.groupStack.pop();q(this.ctx,this.current.activeSMask,a,this.webGLContext);this.ctx.restore();this.ctx.save();c(a,this.ctx);this.current.resumeSMaskCtx=a;this.ctx.transform.apply(this.ctx,g.Util.transform(this.current.activeSMask.startTransformInverse,
a.mozCurrentTransform));a.save();a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,a.canvas.width,a.canvas.height);a.restore()},resumeSMaskGroup:function(){var a=this.ctx;this.ctx=this.current.resumeSMaskCtx;this.groupStack.push(a);this.groupLevel++},endSMaskGroup:function(){var a=this.ctx;this.groupLevel--;this.ctx=this.groupStack.pop();q(this.ctx,this.current.activeSMask,a,this.webGLContext);this.ctx.restore();c(a,this.ctx);this.ctx.transform.apply(this.ctx,g.Util.transform(this.current.activeSMask.startTransformInverse,
a.mozCurrentTransform))},save:function(){this.ctx.save();var a=this.current;this.stateStack.push(a);this.current=a.clone();this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup();null!==this.current.activeSMask&&(0===this.stateStack.length||this.stateStack[this.stateStack.length-1].activeSMask!==this.current.activeSMask)&&this.endSMaskGroup();0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this._cachedGetSinglePixelWidth=
this.pendingClip=null)},transform:function(a,c,b,e,f,d){this.ctx.transform(a,c,b,e,f,d);this._cachedGetSinglePixelWidth=null},constructPath:function(a,c){for(var b=this.ctx,e=this.current,f=e.x,d=e.y,i=0,l=0,m=a.length;i<m;i++)switch(a[i]|0){case g.OPS.rectangle:var f=c[l++],d=c[l++],q=c[l++],n=c[l++];0===q&&(q=this.getSinglePixelWidth());0===n&&(n=this.getSinglePixelWidth());q=f+q;n=d+n;this.ctx.moveTo(f,d);this.ctx.lineTo(q,d);this.ctx.lineTo(q,n);this.ctx.lineTo(f,n);this.ctx.lineTo(f,d);this.ctx.closePath();
break;case g.OPS.moveTo:f=c[l++];d=c[l++];b.moveTo(f,d);break;case g.OPS.lineTo:f=c[l++];d=c[l++];b.lineTo(f,d);break;case g.OPS.curveTo:f=c[l+4];d=c[l+5];b.bezierCurveTo(c[l],c[l+1],c[l+2],c[l+3],f,d);l+=6;break;case g.OPS.curveTo2:b.bezierCurveTo(f,d,c[l],c[l+1],c[l+2],c[l+3]);f=c[l+2];d=c[l+3];l+=4;break;case g.OPS.curveTo3:f=c[l+2];d=c[l+3];b.bezierCurveTo(c[l],c[l+1],f,d,f,d);l+=4;break;case g.OPS.closePath:b.closePath()}e.setCurrentPoint(f,d)},closePath:function(){this.ctx.closePath()},stroke:function(a){var a=
"undefined"!==typeof a?a:!0,c=this.ctx,b=this.current.strokeColor;c.lineWidth=Math.max(0.65*this.getSinglePixelWidth(),this.current.lineWidth);c.globalAlpha=this.current.strokeAlpha;b&&b.hasOwnProperty("type")&&"Pattern"===b.type?(c.save(),c.strokeStyle=b.getPattern(c,this),c.stroke(),c.restore()):c.stroke();a&&this.consumePath();c.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath();this.stroke()},fill:function(a){var a="undefined"!==typeof a?a:!0,c=this.ctx,b=this.current.fillColor,
e=!1;this.current.patternFill&&(c.save(),this.baseTransform&&c.setTransform.apply(c,this.baseTransform),c.fillStyle=b.getPattern(c,this),e=!0);this.pendingEOFill?(c.fill("evenodd"),this.pendingEOFill=!1):c.fill();e&&c.restore();a&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0;this.fill()},fillStroke:function(){this.fill(!1);this.stroke(!1);this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0;this.fillStroke()},closeFillStroke:function(){this.closePath();this.fillStroke()},
closeEOFillStroke:function(){this.pendingEOFill=!0;this.closePath();this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=z},eoClip:function(){this.pendingClip=w},beginText:function(){this.current.textMatrix=g.IDENTITY_MATRIX;this.current.textMatrixScale=1;this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},endText:function(){var a=this.pendingTextPaths,c=this.ctx;if(void 0===a)c.beginPath();else{c.save();c.beginPath();for(var b=0;b<a.length;b++){var e=
a[b];c.setTransform.apply(c,e.transform);c.translate(e.x,e.y);e.addToPath(c,e.fontSize)}c.restore();c.clip();c.beginPath();delete this.pendingTextPaths}},setCharSpacing:function(a){this.current.charSpacing=a},setWordSpacing:function(a){this.current.wordSpacing=a},setHScale:function(a){this.current.textHScale=a/100},setLeading:function(a){this.current.leading=-a},setFont:function(a,c){var b=this.commonObjs.get(a),e=this.current;if(!b)throw Error("Can't find font for "+a);e.fontMatrix=b.fontMatrix?
b.fontMatrix:g.FONT_IDENTITY_MATRIX;if(0===e.fontMatrix[0]||0===e.fontMatrix[3])(0,g.warn)("Invalid font matrix for font "+a);0>c?(c=-c,e.fontDirection=-1):e.fontDirection=1;this.current.font=b;this.current.fontSize=c;if(!b.isType3Font){var e=b.black?"900":b.bold?"bold":"normal",f=b.italic?"italic":"normal",b='"'+(b.loadedName||"sans-serif")+'", '+b.fallbackName,d=16>c?16:100<c?100:c;this.current.fontSizeScale=c/d;this.ctx.font=f+" "+e+" "+d+"px "+b}},setTextRenderingMode:function(a){this.current.textRenderingMode=
a},setTextRise:function(a){this.current.textRise=a},moveText:function(a,c){this.current.x=this.current.lineX+=a;this.current.y=this.current.lineY+=c},setLeadingMoveText:function(a,c){this.setLeading(-c);this.moveText(a,c)},setTextMatrix:function(a,c,b,e,f,d){this.current.textMatrix=[a,c,b,e,f,d];this.current.textMatrixScale=Math.sqrt(a*a+c*c);this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(a,c,b,
e){var f=this.ctx,d=this.current,i=d.font,l=d.textRenderingMode,m=d.fontSize/d.fontSizeScale,q=l&g.TextRenderingMode.FILL_STROKE_MASK,l=!!(l&g.TextRenderingMode.ADD_TO_PATH_FLAG),d=d.patternFill&&i.data,n;if(i.disableFontFace||l||d)n=i.getPathGenerator(this.commonObjs,a);i.disableFontFace||d?(f.save(),f.translate(c,b),f.beginPath(),n(f,m),e&&f.setTransform.apply(f,e),(q===g.TextRenderingMode.FILL||q===g.TextRenderingMode.FILL_STROKE)&&f.fill(),(q===g.TextRenderingMode.STROKE||q===g.TextRenderingMode.FILL_STROKE)&&
f.stroke(),f.restore()):((q===g.TextRenderingMode.FILL||q===g.TextRenderingMode.FILL_STROKE)&&f.fillText(a,c,b),(q===g.TextRenderingMode.STROKE||q===g.TextRenderingMode.FILL_STROKE)&&f.strokeText(a,c,b));l&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:f.mozCurrentTransform,x:c,y:b,fontSize:m,addToPath:n})},get isFontSubpixelAAEnabled(){var a=this.canvasFactory.create(10,10).context;a.scale(1.5,1);a.fillText("I",0,10);for(var a=a.getImageData(0,0,10,10).data,c=!1,b=3;b<a.length;b+=
4)if(0<a[b]&&255>a[b]){c=!0;break}return(0,g.shadow)(this,"isFontSubpixelAAEnabled",c)},showText:function(a){var c=this.current,b=c.font;if(b.isType3Font)return this.showType3Text(a);var e=c.fontSize;if(0!==e){var f=this.ctx,d=c.fontSizeScale,i=c.charSpacing,l=c.wordSpacing,m=c.fontDirection,q=c.textHScale*m,n=a.length,k=b.vertical,A=k?1:-1,o=b.defaultVMetrics,p=e*c.fontMatrix[0],r=c.textRenderingMode===g.TextRenderingMode.FILL&&!b.disableFontFace&&!c.patternFill;f.save();var h=void 0;if(c.patternFill){f.save();
var s=c.fillColor.getPattern(f,this),h=f.mozCurrentTransform;f.restore();f.fillStyle=s}f.transform.apply(f,c.textMatrix);f.translate(c.x,c.y+c.textRise);0<m?f.scale(q,-1):f.scale(q,1);var s=c.lineWidth,z=c.textMatrixScale;if(0===z||0===s){if(z=c.textRenderingMode&g.TextRenderingMode.FILL_STROKE_MASK,z===g.TextRenderingMode.STROKE||z===g.TextRenderingMode.FILL_STROKE)this._cachedGetSinglePixelWidth=null,s=0.65*this.getSinglePixelWidth()}else s/=z;1!==d&&(f.scale(d,d),s/=d);f.lineWidth=s;for(z=s=0;z<
n;++z){var j=a[z];if((0,g.isNum)(j))s+=A*j*e/1E3;else{var w=!1,v=(j.isSpace?l:0)+i,u=j.fontChar,t=j.accent,N,S,D=j.width;if(k){var O;N=j.vmetric||o;O=j.vmetric?N[1]:0.5*D;O=-O*p;S=N[2]*p;D=N?-N[0]:D;N=O/d;S=(s+S)/d}else N=s/d,S=0;b.remeasure&&0<D&&(O=1E3*f.measureText(u).width/e*d,D<O&&this.isFontSubpixelAAEnabled?(O=D/O,w=!0,f.save(),f.scale(O,1),N/=O):D!==O&&(N+=(D-O)/2E3*e/d));if(j.isInFont||b.missingFile)r&&!t?f.fillText(u,N,S):(this.paintChar(u,N,S,h),t&&(j=N+t.offset.x/d,u=S-t.offset.y/d,this.paintChar(t.fontChar,
j,u,h)));s+=D*p+v*m;w&&f.restore()}}k?c.y-=s*q:c.x+=s*q;f.restore()}},showType3Text:function(a){var c=this.ctx,b=this.current,e=b.font,f=b.fontSize,d=b.fontDirection,i=e.vertical?1:-1,l=b.charSpacing,m=b.wordSpacing,q=b.textHScale*d,n=b.fontMatrix||g.FONT_IDENTITY_MATRIX,k=a.length,A;if(!(b.textRenderingMode===g.TextRenderingMode.INVISIBLE||0===f)){this._cachedGetSinglePixelWidth=null;c.save();c.transform.apply(c,b.textMatrix);c.translate(b.x,b.y);c.scale(q,d);for(d=0;d<k;++d)if(A=a[d],(0,g.isNum)(A))A=
i*A*f/1E3,this.ctx.translate(A,0),b.x+=A*q;else{var p=(A.isSpace?m:0)+l,o=e.charProcOperatorList[A.operatorListId];o?(this.processingType3=A,this.save(),c.scale(f,f),c.transform.apply(c,n),this.executeOperatorList(o),this.restore(),A=g.Util.applyTransform([A.width,0],n)[0]*f+p,c.translate(A,0),b.x+=A*q):(0,g.warn)('Type3 character "'+A.operatorListId+'" is not available.')}c.restore();this.processingType3=null}},setCharWidth:function(){},setCharWidthAndBounds:function(a,c,b,e,f,d){this.ctx.rect(b,
e,f-b,d-e);this.clip();this.endPath()},getColorN_Pattern:function(c){var b=this;if("TilingPattern"===c[0])var e=c[1],f=this.baseTransform||this.ctx.mozCurrentTransform.slice(),c=new t.TilingPattern(c,e,this.ctx,{createCanvasGraphics:function(c){return new a(c,b.commonObjs,b.objs,b.canvasFactory,b.webGLContext)}},f);else c=(0,t.getShadingPatternFromIR)(c);return c},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=
this.getColorN_Pattern(arguments);this.current.patternFill=!0},setStrokeRGBColor:function(a,c,b){a=g.Util.makeCssRgb(a,c,b);this.ctx.strokeStyle=a;this.current.strokeColor=a},setFillRGBColor:function(a,c,b){a=g.Util.makeCssRgb(a,c,b);this.ctx.fillStyle=a;this.current.fillColor=a;this.current.patternFill=!1},shadingFill:function(a){var c=this.ctx;this.save();a=(0,t.getShadingPatternFromIR)(a);c.fillStyle=a.getPattern(c,this,!0);var b=c.mozCurrentTransformInverse;if(b){var c=c.canvas,e=c.width,f=c.height,
c=g.Util.applyTransform([0,0],b),a=g.Util.applyTransform([0,f],b),d=g.Util.applyTransform([e,0],b),i=g.Util.applyTransform([e,f],b),b=Math.min(c[0],a[0],d[0],i[0]),e=Math.min(c[1],a[1],d[1],i[1]),f=Math.max(c[0],a[0],d[0],i[0]),c=Math.max(c[1],a[1],d[1],i[1]);this.ctx.fillRect(b,e,f-b,c-e)}else this.ctx.fillRect(-1E10,-1E10,2E10,2E10);this.restore()},beginInlineImage:function(){(0,g.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,g.unreachable)("Should not call beginImageData")},
paintFormXObjectBegin:function(a,c){this.save();this.baseTransformStack.push(this.baseTransform);Array.isArray(a)&&6===a.length&&this.transform.apply(this,a);this.baseTransform=this.ctx.mozCurrentTransform;Array.isArray(c)&&4===c.length&&(this.ctx.rect(c[0],c[1],c[2]-c[0],c[3]-c[1]),this.clip(),this.endPath())},paintFormXObjectEnd:function(){this.restore();this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(a){this.save();var b=this.ctx;a.isolated||(0,g.info)("TODO: Support non-isolated groups.");
a.knockout&&(0,g.warn)("Knockout groups not supported.");var e=b.mozCurrentTransform;a.matrix&&b.transform.apply(b,a.matrix);if(!a.bbox)throw Error("Bounding box is required.");var f=g.Util.getAxialAlignedBoundingBox(a.bbox,b.mozCurrentTransform),f=g.Util.intersect(f,[0,0,b.canvas.width,b.canvas.height])||[0,0,0,0],d=Math.floor(f[0]),i=Math.floor(f[1]),l=Math.max(Math.ceil(f[2])-d,1),m=Math.max(Math.ceil(f[3])-i,1),q=f=1;4096<l&&(f=l/4096,l=4096);4096<m&&(q=m/4096,m=4096);var n="groupAt"+this.groupLevel;
a.smask&&(n+="_smask_"+this.smaskCounter++%2);l=this.cachedCanvases.getCanvas(n,l,m,!0);m=l.context;m.scale(1/f,1/q);m.translate(-d,-i);m.transform.apply(m,e);a.smask?this.smaskStack.push({canvas:l.canvas,context:m,offsetX:d,offsetY:i,scaleX:f,scaleY:q,subtype:a.smask.subtype,backdrop:a.smask.backdrop,transferMap:a.smask.transferMap||null,startTransformInverse:null}):(b.setTransform(1,0,0,1,0,0),b.translate(d,i),b.scale(f,q));c(b,m);this.ctx=m;this.setGState([["BM","source-over"],["ca",1],["CA",1]]);
this.groupStack.push(b);this.groupLevel++;this.current.activeSMask=null},endGroup:function(a){this.groupLevel--;var c=this.ctx;this.ctx=this.groupStack.pop();void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1;a.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(c.canvas,0,0);this.restore()},beginAnnotations:function(){this.save();this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},
beginAnnotation:function(a,c,b){this.save();f(this.ctx);this.current=new s;Array.isArray(a)&&4===a.length&&(this.ctx.rect(a[0],a[1],a[2]-a[0],a[3]-a[1]),this.clip(),this.endPath());this.transform.apply(this,c);this.transform.apply(this,b)},endAnnotation:function(){this.restore()},paintJpegXObject:function(a,c,b){var e=this.objs.get(a);if(e){this.save();var f=this.ctx;f.scale(1/c,-1/b);f.drawImage(e,0,0,e.width,e.height,0,-b,c,b);this.imageLayer&&(e=f.mozCurrentTransformInverse,f=this.getCanvasPosition(0,
0),this.imageLayer.appendImage({objId:a,left:f[0],top:f[1],width:c/e[0],height:b/e[3]}));this.restore()}else(0,g.warn)("Dependent image isn't ready yet")},paintImageMaskXObject:function(a){var c=this.ctx,b=a.width,e=a.height,f=this.current.fillColor,g=this.current.patternFill,l=this.processingType3;l&&void 0===l.compiled&&(l.compiled=1E3>=b&&1E3>=e?j({data:a.data,width:b,height:e}):null);l&&l.compiled?l.compiled(c):(c=this.cachedCanvases.getCanvas("maskCanvas",b,e),l=c.context,l.save(),d(l,a),l.globalCompositeOperation=
"source-in",l.fillStyle=g?f.getPattern(l,this):f,l.fillRect(0,0,b,e),l.restore(),this.paintInlineImageXObject(c.canvas))},paintImageMaskXObjectRepeat:function(a,c,b,e){var f=a.width,g=a.height,l=this.current.fillColor,m=this.current.patternFill,q=this.cachedCanvases.getCanvas("maskCanvas",f,g),n=q.context;n.save();d(n,a);n.globalCompositeOperation="source-in";n.fillStyle=m?l.getPattern(n,this):l;n.fillRect(0,0,f,g);n.restore();a=this.ctx;l=0;for(m=e.length;l<m;l+=2)a.save(),a.transform(c,0,0,b,e[l],
e[l+1]),a.scale(1,-1),a.drawImage(q.canvas,0,0,f,g,0,-1,1,1),a.restore()},paintImageMaskXObjectGroup:function(a){for(var c=this.ctx,b=this.current.fillColor,e=this.current.patternFill,f=0,g=a.length;f<g;f++){var l=a[f],m=l.width,q=l.height,n=this.cachedCanvases.getCanvas("maskCanvas",m,q),k=n.context;k.save();d(k,l);k.globalCompositeOperation="source-in";k.fillStyle=e?b.getPattern(k,this):b;k.fillRect(0,0,m,q);k.restore();c.save();c.transform.apply(c,l.transform);c.scale(1,-1);c.drawImage(n.canvas,
0,0,m,q,0,-1,1,1);c.restore()}},paintImageXObject:function(a){(a=this.objs.get(a))?this.paintInlineImageXObject(a):(0,g.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(a,c,b,e){if(a=this.objs.get(a)){for(var f=a.width,d=a.height,l=[],i=0,m=e.length;i<m;i+=2)l.push({transform:[c,0,0,b,e[i],e[i+1]],x:0,y:0,w:f,h:d});this.paintInlineImageXObjectGroup(a,l)}else(0,g.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(a){var c=a.width,e=a.height,f=this.ctx;
this.save();f.scale(1/c,-1/e);var d=f.mozCurrentTransformInverse,g=d[0],l=d[1],g=Math.max(Math.sqrt(g*g+l*l),1),l=d[2],i=d[3],l=Math.max(Math.sqrt(l*l+i*i),1),m;if("function"===typeof HTMLElement&&a instanceof HTMLElement||!a.data)i=a;else{m=this.cachedCanvases.getCanvas("inlineImage",c,e);var q=m.context;b(q,a);i=m.canvas}for(var k=c,o=e,p="prescale1";2<g&&1<k||2<l&&1<o;){var r=k,h=o;2<g&&1<k&&(r=Math.ceil(k/2),g/=k/r);2<l&&1<o&&(h=Math.ceil(o/2),l/=o/h);m=this.cachedCanvases.getCanvas(p,r,h);q=
m.context;q.clearRect(0,0,r,h);q.drawImage(i,0,0,k,o,0,0,r,h);i=m.canvas;k=r;o=h;p="prescale1"===p?"prescale2":"prescale1"}f.drawImage(i,0,0,k,o,0,-e,c,e);this.imageLayer&&(f=this.getCanvasPosition(0,-e),this.imageLayer.appendImage({imgData:a,left:f[0],top:f[1],width:c/d[0],height:e/d[3]}));this.restore()},paintInlineImageXObjectGroup:function(a,c){var e=this.ctx,f=a.width,d=a.height,l=this.cachedCanvases.getCanvas("inlineImage",f,d);b(l.context,a);for(var g=0,i=c.length;g<i;g++){var m=c[g];e.save();
e.transform.apply(e,m.transform);e.scale(1,-1);e.drawImage(l.canvas,m.x,m.y,m.w,m.h,0,-1,1,1);this.imageLayer&&(m=this.getCanvasPosition(m.x,m.y),this.imageLayer.appendImage({imgData:a,left:m[0],top:m[1],width:f,height:d}));e.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,g.warn)("Unsupported 'paintXObject' command.")},markPoint:function(){},markPointProps:function(){},beginMarkedContent:function(){},beginMarkedContentProps:function(){},endMarkedContent:function(){},
beginCompat:function(){},endCompat:function(){},consumePath:function(){var a=this.ctx;this.pendingClip&&(this.pendingClip===w?a.clip("evenodd"):a.clip(),this.pendingClip=null);a.beginPath()},getSinglePixelWidth:function(){if(null===this._cachedGetSinglePixelWidth){var a=this.ctx.mozCurrentTransformInverse;this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3]))}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(a,c){var b=this.ctx.mozCurrentTransform;
return[b[0]*a+b[2]*c+b[4],b[1]*a+b[3]*c+b[5]]}};for(var p in g.OPS)a.prototype[g.OPS[p]]=a.prototype[p];return a}();b.CanvasGraphics=d},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.TilingPattern=b.getShadingPatternFromIR=void 0;var h=a(1),j={RadialAxial:{fromIR:function(a){var b=a[1],d=a[2],g=a[3],h=a[4],j=a[5],n=a[6];return{type:"Pattern",getPattern:function(a){var c;"axial"===b?c=a.createLinearGradient(g[0],g[1],h[0],h[1]):"radial"===b&&(c=a.createRadialGradient(g[0],g[1],
j,h[0],h[1],n));for(var a=0,f=d.length;a<f;++a){var l=d[a];c.addColorStop(l[0],l[1])}return c}}}}},g=function(){function a(b,d,g,h,j,n,i,c){var f=d.coords,l=d.colors,e=b.data,b=4*b.width,q;f[g+1]>f[h+1]&&(q=g,g=h,h=q,q=n,n=i,i=q);f[h+1]>f[j+1]&&(q=h,h=j,j=q,q=i,i=c,c=q);f[g+1]>f[h+1]&&(q=g,g=h,h=q,q=n,n=i,i=q);q=(f[g]+d.offsetX)*d.scaleX;var g=(f[g+1]+d.offsetY)*d.scaleY,m=(f[h]+d.offsetX)*d.scaleX,h=(f[h+1]+d.offsetY)*d.scaleY,r=(f[j]+d.offsetX)*d.scaleX,d=(f[j+1]+d.offsetY)*d.scaleY;if(!(g>=d))for(var j=
l[n],f=l[n+1],n=l[n+2],z=l[i],w=l[i+1],i=l[i+2],p=l[c],y=l[c+1],c=l[c+2],x=Math.round(g),l=Math.round(d),t,I,E,B,C,G,J,H,K=x;K<=l;K++){K<h?(H=K<g?0:g===h?1:(g-K)/(g-h),x=q-(q-m)*H,t=j-(j-z)*H,I=f-(f-w)*H,E=n-(n-i)*H):(H=K>d?1:h===d?0:(h-K)/(h-d),x=m-(m-r)*H,t=z-(z-p)*H,I=w-(w-y)*H,E=i-(i-c)*H);H=K<g?0:K>d?1:(g-K)/(g-d);B=q-(q-r)*H;C=j-(j-p)*H;G=f-(f-y)*H;J=n-(n-c)*H;H=Math.round(Math.min(x,B));for(var M=Math.round(Math.max(x,B)),A=b*K+4*H,R=H;R<=M;R++)H=(x-R)/(x-B),H=0>H?0:1<H?1:H,e[A++]=t-(t-C)*
H|0,e[A++]=I-(I-G)*H|0,e[A++]=E-(E-J)*H|0,e[A++]=255}}return function(b,d,g,h,j,n,i,c){var f=Math.floor(b[0]),l=Math.floor(b[1]),e=Math.ceil(b[2])-f,b=Math.ceil(b[3])-l,q=Math.min(Math.ceil(Math.abs(1.1*e*d[0])),3E3),d=Math.min(Math.ceil(Math.abs(1.1*b*d[1])),3E3),e=e/q,b=b/d,g={coords:g,colors:h,offsetX:-f,offsetY:-l,scaleX:1/e,scaleY:1/b},h=q+4,m=d+4;if(c.isEnabled)j=c.drawFigures({width:q,height:d,backgroundColor:n,figures:j,context:g}),i=i.getCanvas("mesh",h,m,!1),i.context.drawImage(j,2,2);else{i=
i.getCanvas("mesh",h,m,!1);c=i.context;d=c.createImageData(q,d);if(n){m=d.data;q=0;for(h=m.length;q<h;q+=4)m[q]=n[0],m[q+1]=n[1],m[q+2]=n[2],m[q+3]=255}for(q=0;q<j.length;q++){var n=d,r=j[q],h=g,m=r.coords,z=r.colors,w=void 0,p=void 0;switch(r.type){case "lattice":for(var r=r.verticesPerRow,p=Math.floor(m.length/r)-1,y=r-1,w=0;w<p;w++)for(var x=w*r,L=0;L<y;L++,x++)a(n,h,m[x],m[x+1],m[x+r],z[x],z[x+1],z[x+r]),a(n,h,m[x+r+1],m[x+1],m[x+r],z[x+r+1],z[x+1],z[x+r]);break;case "triangles":w=0;for(p=m.length;w<
p;w+=3)a(n,h,m[w],m[w+1],m[w+2],z[w],z[w+1],z[w+2]);break;default:throw Error("illegal figure");}}c.putImageData(d,2,2)}j=i.canvas;return{canvas:j,offsetX:f-2*e,offsetY:l-2*b,scaleX:e,scaleY:b}}}();j.Mesh={fromIR:function(a){var b=a[2],d=a[3],k=a[4],j=a[5],v=a[6],n=a[8];return{type:"Pattern",getPattern:function(a,c,f){var l;if(f)l=h.Util.singularValueDecompose2dScale(a.mozCurrentTransform);else if(l=h.Util.singularValueDecompose2dScale(c.baseTransform),v){var e=h.Util.singularValueDecompose2dScale(v);
l=[l[0]*e[0],l[1]*e[1]]}l=g(j,l,b,d,k,f?null:n,c.cachedCanvases,c.webGLContext);f||(a.setTransform.apply(a,c.baseTransform),v&&a.transform.apply(a,v));a.translate(l.offsetX,l.offsetY);a.scale(l.scaleX,l.scaleY);return a.createPattern(l.canvas,"no-repeat")}}}};j.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};d=function(){function a(b,d,g,h,j){this.operatorList=b[2];this.matrix=b[3]||[1,0,0,1,0,0];this.bbox=b[4];this.xstep=b[5];this.ystep=b[6];this.paintType=
b[7];this.tilingType=b[8];this.color=d;this.canvasGraphicsFactory=h;this.baseTransform=j;this.type="Pattern";this.ctx=g}a.prototype={createPatternCanvas:function(a){var b=this.operatorList,d=this.bbox,g=this.xstep,j=this.ystep,n=this.paintType,i=this.tilingType,c=this.color,f=this.canvasGraphicsFactory;(0,h.info)("TilingType: "+i);var i=d[0],l=d[1],e=d[2],q=d[3],m=[i,l],r=[i+g,l+j],z=r[0]-m[0],r=r[1]-m[1],w=h.Util.singularValueDecompose2dScale(this.matrix),p=h.Util.singularValueDecompose2dScale(this.baseTransform),
w=[w[0]*p[0],w[1]*p[1]],z=Math.min(Math.ceil(Math.abs(z*w[0])),3E3),r=Math.min(Math.ceil(Math.abs(r*w[1])),3E3),w=a.cachedCanvases.getCanvas("pattern",z,r,!0),f=f.createCanvasGraphics(w.context);f.groupLevel=a.groupLevel;this.setFillAndStrokeStyleToContext(f,n,c);this.setScale(z,r,g,j);this.transformToScale(f);f.transform.apply(f,[1,0,0,1,-m[0],-m[1]]);this.clipBbox(f,d,i,l,e,q);f.executeOperatorList(b);return w.canvas},setScale:function(a,b,d,g){this.scale=[a/d,b/g]},transformToScale:function(a){var b=
this.scale;a.transform.apply(a,[b[0],0,0,b[1],0,0])},scaleToContext:function(){var a=this.scale;this.ctx.scale(1/a[0],1/a[1])},clipBbox:function(a,b,d,g,h,n){Array.isArray(b)&&4===b.length&&(a.ctx.rect(d,g,h-d,n-g),a.clip(),a.endPath())},setFillAndStrokeStyleToContext:function(a,b,d){var g=a.ctx,a=a.current;switch(b){case 1:b=this.ctx;g.fillStyle=b.fillStyle;g.strokeStyle=b.strokeStyle;a.fillColor=b.fillStyle;a.strokeColor=b.strokeStyle;break;case 2:b=h.Util.makeCssRgb(d[0],d[1],d[2]);g.fillStyle=
b;g.strokeStyle=b;a.fillColor=b;a.strokeColor=b;break;default:throw new h.FormatError("Unsupported paint type: "+b);}},getPattern:function(a,b){var d=this.createPatternCanvas(b),a=this.ctx;a.setTransform.apply(a,this.baseTransform);a.transform.apply(a,this.matrix);this.scaleToContext();return a.createPattern(d,"repeat")}};return a}();b.getShadingPatternFromIR=function(a){var b=j[a[0]];if(!b)throw Error("Unknown IR type: "+a[0]);return b.fromIR(a)};b.TilingPattern=d},function(d,b){Object.defineProperty(b,
"__esModule",{value:!0});var a=Object.create(null);a.workerPort=void 0===a.workerPort?null:a.workerPort;a.workerSrc=void 0===a.workerSrc?"":a.workerSrc;b.GlobalWorkerOptions=a},function(d,b,a){function h(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,f){function d(e,g){try{var m=b[e](g),n=m.value}catch(h){f(h);return}if(m.done)a(n);else return Promise.resolve(n).then(function(a){d("next",a)},function(a){d("throw",a)})}return d("next")})}}function j(a){if("object"!==
("undefined"===typeof a?"undefined":k(a)))return a;switch(a.name){case "AbortException":return new v.AbortException(a.message);case "MissingPDFException":return new v.MissingPDFException(a.message);case "UnexpectedResponseException":return new v.UnexpectedResponseException(a.message,a.status);default:return new v.UnknownErrorException(a.message,a.details)}}function g(a,b,c){b?a.resolve():a.reject(c)}function t(a){return Promise.resolve(a).catch(function(){})}function o(a,b,c){var f=this;this.sourceName=
a;this.targetName=b;this.comObj=c;this.streamId=this.callbackId=1;this.postMessageTransfers=!0;this.streamSinks=Object.create(null);this.streamControllers=Object.create(null);var d=this.callbacksCapabilities=Object.create(null),e=this.actionHandler=Object.create(null);this._onComObjOnMessage=function(a){var b=a.data;if(b.targetName===f.sourceName)if(b.stream)f._processStreamMessage(b);else if(b.isReply)if(a=b.callbackId,b.callbackId in d){var g=d[a];delete d[a];"error"in b?g.reject(j(b.error)):g.resolve(b.data)}else throw Error("Cannot resolve callback "+
a);else if(b.action in e){var i=e[b.action];if(b.callbackId){var n=f.sourceName,p=b.sourceName;Promise.resolve().then(function(){return i[0].call(i[1],b.data)}).then(function(a){c.postMessage({sourceName:n,targetName:p,isReply:!0,callbackId:b.callbackId,data:a})},function(a){c.postMessage({sourceName:n,targetName:p,isReply:!0,callbackId:b.callbackId,error:!(a instanceof Error)||a instanceof v.AbortException||a instanceof v.MissingPDFException||a instanceof v.UnexpectedResponseException||a instanceof
v.UnknownErrorException?a:new v.UnknownErrorException(a.message,a.toString())})})}else b.streamId?f._createStreamSink(b):i[0].call(i[1],b.data)}else throw Error("Unknown action from worker: "+b.action);};c.addEventListener("message",this._onComObjOnMessage)}Object.defineProperty(b,"__esModule",{value:!0});b.MessageHandler=void 0;var u=(d=a(130))&&d.__esModule?d:{"default":d},k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===
typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},s=function(){var a=h(u.default.mark(function c(a,b){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return u.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(a){c.next=2;break}return c.abrupt("return");case 2:return c.abrupt("return",a.apply(e,b));case 3:case "end":return c.stop()}},c,this)}));return function(c,b){return a.apply(this,arguments)}}(),v=a(1);o.prototype={on:function(a,b,c){var f=
this.actionHandler;if(f[a])throw Error('There is already an actionName called "'+a+'"');f[a]=[b,c]},send:function(a,b,c){this.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:a,data:b},c)},sendWithPromise:function(a,b,c){var f=this.callbackId++,a={sourceName:this.sourceName,targetName:this.targetName,action:a,data:b,callbackId:f},b=(0,v.createPromiseCapability)();this.callbacksCapabilities[f]=b;try{this.postMessage(a,c)}catch(d){b.reject(d)}return b.promise},sendWithStream:function(a,
b,c){var f=this,d=this.streamId++,e=this.sourceName,g=this.targetName;return new v.ReadableStream({start:function(c){var h=(0,v.createPromiseCapability)();f.streamControllers[d]={controller:c,startCall:h,isClosed:!1};f.postMessage({sourceName:e,targetName:g,action:a,streamId:d,data:b,desiredSize:c.desiredSize});return h.promise},pull:function(a){var c=(0,v.createPromiseCapability)();f.streamControllers[d].pullCall=c;f.postMessage({sourceName:e,targetName:g,stream:"pull",streamId:d,desiredSize:a.desiredSize});
return c.promise},cancel:function(a){var c=(0,v.createPromiseCapability)();f.streamControllers[d].cancelCall=c;f.streamControllers[d].isClosed=!0;f.postMessage({sourceName:e,targetName:g,stream:"cancel",reason:a,streamId:d});return c.promise}},c)},_createStreamSink:function(a){var b=this,c=this,f=this.actionHandler[a.action],d=a.streamId,e=a.desiredSize,g=this.sourceName,m=a.sourceName,h=function(a){b.postMessage({sourceName:g,targetName:m,stream:a.stream,streamId:d,chunk:a.chunk,success:a.success,
reason:a.reason},a.transfers)},e={enqueue:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,b=arguments[2];if(!this.isCancelled){var e=this.desiredSize;this.desiredSize-=c;0<e&&0>=this.desiredSize&&(this.sinkCapability=(0,v.createPromiseCapability)(),this.ready=this.sinkCapability.promise);h({stream:"enqueue",chunk:a,transfers:b})}},close:function(){this.isCancelled||(this.isCancelled=!0,h({stream:"close"}),delete c.streamSinks[d])},error:function(a){this.isCancelled||(this.isCancelled=
!0,h({stream:"error",reason:a}))},sinkCapability:(0,v.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e,ready:null};e.sinkCapability.resolve();e.ready=e.sinkCapability.promise;this.streamSinks[d]=e;s(f[0],[a.data,e],f[1]).then(function(){h({stream:"start_complete",success:!0})},function(a){h({stream:"start_complete",success:!1,reason:a})})},_processStreamMessage:function(a){var b=this,c=this.sourceName,f=a.sourceName,d=a.streamId,e=function(a){b.comObj.postMessage({sourceName:c,
targetName:f,stream:a.stream,success:a.success,streamId:d,reason:a.reason})},q=function(){Promise.all([b.streamControllers[a.streamId].startCall,b.streamControllers[a.streamId].pullCall,b.streamControllers[a.streamId].cancelCall].map(function(a){return a&&t(a.promise)})).then(function(){delete b.streamControllers[a.streamId]})};switch(a.stream){case "start_complete":g(this.streamControllers[a.streamId].startCall,a.success,j(a.reason));break;case "pull_complete":g(this.streamControllers[a.streamId].pullCall,
a.success,j(a.reason));break;case "pull":if(!this.streamSinks[a.streamId]){e({stream:"pull_complete",success:!0});break}0>=this.streamSinks[a.streamId].desiredSize&&0<a.desiredSize&&this.streamSinks[a.streamId].sinkCapability.resolve();this.streamSinks[a.streamId].desiredSize=a.desiredSize;s(this.streamSinks[a.streamId].onPull).then(function(){e({stream:"pull_complete",success:!0})},function(a){e({stream:"pull_complete",success:!1,reason:a})});break;case "enqueue":(0,v.assert)(this.streamControllers[a.streamId],
"enqueue should have stream controller");this.streamControllers[a.streamId].isClosed||this.streamControllers[a.streamId].controller.enqueue(a.chunk);break;case "close":(0,v.assert)(this.streamControllers[a.streamId],"close should have stream controller");if(this.streamControllers[a.streamId].isClosed)break;this.streamControllers[a.streamId].isClosed=!0;this.streamControllers[a.streamId].controller.close();q();break;case "error":(0,v.assert)(this.streamControllers[a.streamId],"error should have stream controller");
this.streamControllers[a.streamId].controller.error(j(a.reason));q();break;case "cancel_complete":g(this.streamControllers[a.streamId].cancelCall,a.success,j(a.reason));q();break;case "cancel":if(!this.streamSinks[a.streamId])break;s(this.streamSinks[a.streamId].onCancel,[j(a.reason)]).then(function(){e({stream:"cancel_complete",success:!0})},function(a){e({stream:"cancel_complete",success:!1,reason:a})});this.streamSinks[a.streamId].sinkCapability.reject(j(a.reason));this.streamSinks[a.streamId].isCancelled=
!0;delete this.streamSinks[a.streamId];break;default:throw Error("Unexpected stream case");}},postMessage:function(a,b){b&&this.postMessageTransfers?this.comObj.postMessage(a,b):this.comObj.postMessage(a)},destroy:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}};b.MessageHandler=o},function(d,b,a){d.exports=a(131)},function(d,b,a){var b=function(){return this}()||Function("return this")(),h=b.regeneratorRuntime&&0<=Object.getOwnPropertyNames(b).indexOf("regeneratorRuntime"),
j=h&&b.regeneratorRuntime;b.regeneratorRuntime=void 0;d.exports=a(132);if(h)b.regeneratorRuntime=j;else try{delete b.regeneratorRuntime}catch(g){b.regeneratorRuntime=void 0}},function(d,b,a){(function(a){var b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(d){function t(a,c,b,f){c=Object.create((c&&c.prototype instanceof u?c:u).prototype);
f=new e(f||[]);c._invoke=i(a,b,f);return c}function o(a,c,b){try{return{type:"normal",arg:a.call(c,b)}}catch(e){return{type:"throw",arg:e}}}function u(){}function k(){}function s(){}function v(a){["next","throw","return"].forEach(function(c){a[c]=function(a){return this._invoke(c,a)}})}function n(a){function c(e,f,d,g){e=o(a[e],a,f);if("throw"===e.type)g(e.arg);else{var l=e.arg;return(e=l.value)&&"object"===("undefined"===typeof e?"undefined":b(e))&&z.call(e,"__await")?Promise.resolve(e.__await).then(function(a){c("next",
a,d,g)},function(a){c("throw",a,d,g)}):Promise.resolve(e).then(function(a){l.value=a;d(l)},g)}}var e;this._invoke=function(a,b){function f(){return new Promise(function(e,f){c(a,b,e,f)})}return e=e?e.then(f,f):f()}}function i(a,b,e){var f=E;return function(d,g){if(f===C)throw Error("Generator is already running");if(f===G){if("throw"===d)throw g;return m()}e.method=d;for(e.arg=g;;){var l=e.delegate;if(l&&(l=c(l,e))){if(l===J)continue;return l}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===
e.method){if(f===E)throw f=G,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);f=C;l=o(a,b,e);if("normal"===l.type){if(f=e.done?G:B,l.arg!==J)return{value:l.arg,done:e.done}}else"throw"===l.type&&(f=G,e.method="throw",e.arg=l.arg)}}}function c(a,b){var e=a.iterator[b.method];if(e===w){b.delegate=null;if("throw"===b.method){if(a.iterator.return&&(b.method="return",b.arg=w,c(a,b),"throw"===b.method))return J;b.method="throw";b.arg=new TypeError("The iterator does not provide a 'throw' method")}return J}e=
o(e,a.iterator,b.arg);if("throw"===e.type)return b.method="throw",b.arg=e.arg,b.delegate=null,J;e=e.arg;if(!e)return b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,J;if(e.done)b[a.resultName]=e.value,b.next=a.nextLoc,"return"!==b.method&&(b.method="next",b.arg=w);else return e;b.delegate=null;return J}function f(a){var c={tryLoc:a[0]};1 in a&&(c.catchLoc=a[1]);2 in a&&(c.finallyLoc=a[2],c.afterLoc=a[3]);this.tryEntries.push(c)}function l(a){var c=a.completion||
{};c.type="normal";delete c.arg;a.completion=c}function e(a){this.tryEntries=[{tryLoc:"root"}];a.forEach(f,this);this.reset(!0)}function q(a){if(a){var c=a[y];if(c)return c.call(a);if("function"===typeof a.next)return a;if(!isNaN(a.length)){var b=-1,c=function P(){for(;++b<a.length;)if(z.call(a,b))return P.value=a[b],P.done=!1,P;P.value=w;P.done=!0;return P};return c.next=c}}return{next:m}}function m(){return{value:w,done:!0}}var r=Object.prototype,z=r.hasOwnProperty,w,p="function"===typeof Symbol?
Symbol:{},y=p.iterator||"@@iterator",x=p.asyncIterator||"@@asyncIterator",L=p.toStringTag||"@@toStringTag",p="object"===b(a),I=d.regeneratorRuntime;if(I)p&&(a.exports=I);else{I=d.regeneratorRuntime=p?a.exports:{};I.wrap=t;var E="suspendedStart",B="suspendedYield",C="executing",G="completed",J={},d={};d[y]=function(){return this};(p=(p=Object.getPrototypeOf)&&p(p(q([]))))&&(p!==r&&z.call(p,y))&&(d=p);var H=s.prototype=u.prototype=Object.create(d);k.prototype=H.constructor=s;s.constructor=k;s[L]=k.displayName=
"GeneratorFunction";I.isGeneratorFunction=function(a){return(a="function"===typeof a&&a.constructor)?a===k||"GeneratorFunction"===(a.displayName||a.name):!1};I.mark=function(a){Object.setPrototypeOf?Object.setPrototypeOf(a,s):(a.__proto__=s,L in a||(a[L]="GeneratorFunction"));a.prototype=Object.create(H);return a};I.awrap=function(a){return{__await:a}};v(n.prototype);n.prototype[x]=function(){return this};I.AsyncIterator=n;I.async=function(a,c,b,e){var f=new n(t(a,c,b,e));return I.isGeneratorFunction(c)?
f:f.next().then(function(a){return a.done?a.value:f.next()})};v(H);H[L]="Generator";H[y]=function(){return this};H.toString=function(){return"[object Generator]"};I.keys=function(a){var c=[],b;for(b in a)c.push(b);c.reverse();return function P(){for(;c.length;){var b=c.pop();if(b in a)return P.value=b,P.done=!1,P}P.done=!0;return P}};I.values=q;e.prototype={constructor:e,reset:function(a){this.next=this.prev=0;this.sent=this._sent=w;this.done=!1;this.delegate=null;this.method="next";this.arg=w;this.tryEntries.forEach(l);
if(!a)for(var c in this)"t"===c.charAt(0)&&(z.call(this,c)&&!isNaN(+c.slice(1)))&&(this[c]=w)},stop:function(){this.done=!0;var a=this.tryEntries[0].completion;if("throw"===a.type)throw a.arg;return this.rval},dispatchException:function(a){function c(e,f){d.type="throw";d.arg=a;b.next=e;f&&(b.method="next",b.arg=w);return!!f}if(this.done)throw a;for(var b=this,e=this.tryEntries.length-1;0<=e;--e){var f=this.tryEntries[e],d=f.completion;if("root"===f.tryLoc)return c("end");if(f.tryLoc<=this.prev){var g=
z.call(f,"catchLoc"),l=z.call(f,"finallyLoc");if(g&&l){if(this.prev<f.catchLoc)return c(f.catchLoc,!0);if(this.prev<f.finallyLoc)return c(f.finallyLoc)}else if(g){if(this.prev<f.catchLoc)return c(f.catchLoc,!0)}else if(l){if(this.prev<f.finallyLoc)return c(f.finallyLoc)}else throw Error("try statement without catch or finally");}}},abrupt:function(a,c){for(var b=this.tryEntries.length-1;0<=b;--b){var e=this.tryEntries[b];if(e.tryLoc<=this.prev&&z.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var f=
e;break}}if(f&&("break"===a||"continue"===a)&&f.tryLoc<=c&&c<=f.finallyLoc)f=null;b=f?f.completion:{};b.type=a;b.arg=c;return f?(this.method="next",this.next=f.finallyLoc,J):this.complete(b)},complete:function(a,c){if("throw"===a.type)throw a.arg;"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):"normal"===a.type&&c&&(this.next=c);return J},finish:function(a){for(var c=this.tryEntries.length-1;0<=c;--c){var b=this.tryEntries[c];
if(b.finallyLoc===a)return this.complete(b.completion,b.afterLoc),l(b),J}},"catch":function(a){for(var c=this.tryEntries.length-1;0<=c;--c){var b=this.tryEntries[c];if(b.tryLoc===a){a=b.completion;if("throw"===a.type){var e=a.arg;l(b)}return e}}throw Error("illegal catch attempt");},delegateYield:function(a,c,b){this.delegate={iterator:q(a),resultName:c,nextLoc:b};"next"===this.method&&(this.arg=w);return J}}}}(function(){return this}()||Function("return this")())}).call(this,a(133)(d))},function(d){d.exports=
function(b){b.webpackPolyfill||(b.deprecate=function(){},b.paths=[],b.children||(b.children=[]),Object.defineProperty(b,"loaded",{enumerable:!0,get:function(){return b.l}}),Object.defineProperty(b,"id",{enumerable:!0,get:function(){return b.i}}),b.webpackPolyfill=1);return b}},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Metadata=void 0;var h=function(){function a(b,d){for(var g=0;g<d.length;g++){var h=d[g];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=
!0);Object.defineProperty(b,h.key,h)}}return function(b,d,g){d&&a(b.prototype,d);g&&a(b,g);return b}}(),j=a(1),g=a(135),d=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");(0,j.assert)("string"===typeof b,"Metadata: input is not a string");b=this._repair(b);b=(new g.SimpleXMLParser).parseFromString(b);this._metadata=Object.create(null);b&&this._parse(b)}h(a,[{key:"_repair",value:function(a){return a.replace(/>\\376\\377([^<]+)/g,function(a,b){for(var d=
b.replace(/\\([0-3])([0-7])([0-7])/g,function(a,c,b,d){return String.fromCharCode(64*c+8*b+1*d)}).replace(/&(amp|apos|gt|lt|quot);/g,function(a,c){switch(c){case "amp":return"&";case "apos":return"'";case "gt":return">";case "lt":return"<";case "quot":return'"'}throw Error("_repair: "+c+" isn't defined.");}),g="",h=0,i=d.length;h<i;h+=2)var c=256*d.charCodeAt(h)+d.charCodeAt(h+1),g=32<=c&&127>c&&60!==c&&62!==c&&38!==c?g+String.fromCharCode(c):g+("&#x"+(65536+c).toString(16).substring(1)+";");return">"+
g})}},{key:"_parse",value:function(a){a=a.documentElement;if("rdf:rdf"!==a.nodeName.toLowerCase())for(a=a.firstChild;a&&"rdf:rdf"!==a.nodeName.toLowerCase();)a=a.nextSibling;var b=a?a.nodeName.toLowerCase():null;if(a&&"rdf:rdf"===b&&a.hasChildNodes())for(var a=a.childNodes,b=0,d=a.length;b<d;b++){var g=a[b];if("rdf:description"===g.nodeName.toLowerCase())for(var h=0,n=g.childNodes.length;h<n;h++)if("#text"!==g.childNodes[h].nodeName.toLowerCase()){var i=g.childNodes[h];this._metadata[i.nodeName.toLowerCase()]=
i.textContent.trim()}}}},{key:"get",value:function(a){return this._metadata[a]||null}},{key:"getAll",value:function(){return this._metadata}},{key:"has",value:function(a){return"undefined"!==typeof this._metadata[a]}}]);return a}();b.Metadata=d},function(d,b){var a;function h(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});
b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function j(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function g(a,b){var d=a[b];return" "===d||"\n"===d||"\r"===d||"\t"===d}Object.defineProperty(b,"__esModule",{value:!0});var t=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var d=[],c=!0,f=!1,g=void 0;try{for(var e=a[Symbol.iterator](),q;!(c=(q=e.next()).done)&&!(d.push(q.value),b&&d.length===
b);c=!0);}catch(m){f=!0,g=m}finally{try{if(!c&&e["return"])e["return"]()}finally{if(f)throw g;}}return d}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),o=function n(a,c,b){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,c);if(void 0===d)return a=Object.getPrototypeOf(a),null===a?void 0:n(a,c,b);if("value"in d)return d.value;c=d.get;return void 0===c?void 0:c.call(b)},u=function(){function a(b,c){for(var f=0;f<c.length;f++){var d=c[f];d.enumerable=
d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,c,f){c&&a(b.prototype,c);f&&a(b,f);return b}}();a=0;var k=function(){function a(){j(this,a)}u(a,[{key:"_resolveEntities",value:function(a){return a.replace(/&([^;]+);/g,function(a,b){if("#x"===b.substring(0,2))return String.fromCharCode(parseInt(b.substring(2),16));if("#"===b.substring(0,1))return String.fromCharCode(parseInt(b.substring(1),10));switch(b){case "lt":return"<";case "gt":return">";
case "amp":return"&";case "quot":return'"'}return this.onResolveEntity(b)})}},{key:"_parseContent",value:function(a,c){function b(){for(;d<a.length&&g(a,d);)++d}for(var d=c,e=void 0,q=[];d<a.length&&!g(a,d)&&">"!==a[d]&&"/"!==a[d];)++d;e=a.substring(c,d);for(b();d<a.length&&">"!==a[d]&&"/"!==a[d]&&"?"!==a[d];){b();for(var m="",h="";d<a.length&&!g(a,d)&&"="!==a[d];)m+=a[d],++d;b();if("="!==a[d])return null;++d;b();h=a[d];if('"'!==h&&"'"!==h)return null;var k=a.indexOf(h,++d);if(0>k)return null;h=a.substring(d,
k);q.push({name:m,value:this._resolveEntities(h)});d=k+1;b()}return{name:e,attributes:q,parsed:d-c}}},{key:"_parseProcessingInstruction",value:function(a,c){for(var b=c,d=void 0,e=void 0;b<a.length&&!g(a,b)&&">"!==a[b]&&"/"!==a[b];)++b;for(d=a.substring(c,b);b<a.length&&g(a,b);)++b;for(e=b;b<a.length&&("?"!==a[b]||">"!==a[b+1]);)++b;e=a.substring(e,b);return{name:d,value:e,parsed:b-c}}},{key:"parseXml",value:function(a){for(var c=0;c<a.length;){var b=c;if("<"===a[c])switch(++b,c=void 0,a[b]){case "/":++b;
c=a.indexOf(">",b);if(0>c){this.onError(-9);return}this.onEndElement(a.substring(b,c));b=c+1;break;case "?":++b;c=this._parseProcessingInstruction(a,b);if("?>"!==a.substring(b+c.parsed,b+c.parsed+2)){this.onError(-3);return}this.onPi(c.name,c.value);b+=c.parsed+2;break;case "!":if("--"===a.substring(b+1,b+3)){c=a.indexOf("--\>",b+3);if(0>c){this.onError(-5);return}this.onComment(a.substring(b+3,c));b=c+3}else if("[CDATA["===a.substring(b+1,b+8)){c=a.indexOf("]]\>",b+8);if(0>c){this.onError(-2);return}this.onCdata(a.substring(b+
8,c));b=c+3}else if("DOCTYPE"===a.substring(b+1,b+8)){var d=a.indexOf("[",b+8),e=!1,c=a.indexOf(">",b+8);if(0>c){this.onError(-4);return}if(0<d&&c>d){c=a.indexOf("]>",b+8);if(0>c){this.onError(-4);return}e=!0}this.onDoctype(a.substring(b+8,c+(e?1:0)));b=c+(e?2:1)}else{this.onError(-6);return}break;default:c=this._parseContent(a,b);if(null===c){this.onError(-6);return}d=!1;if("/>"===a.substring(b+c.parsed,b+c.parsed+2))d=!0;else if(">"!==a.substring(b+c.parsed,b+c.parsed+1)){this.onError(-9);return}this.onBeginElement(c.name,
c.attributes,d);b+=c.parsed+(d?2:1)}else{for(;b<a.length&&"<"!==a[b];)b++;this.onText(this._resolveEntities(a.substring(c,b)))}c=b}}},{key:"onResolveEntity",value:function(a){return"&"+a+";"}},{key:"onPi",value:function(){}},{key:"onComment",value:function(){}},{key:"onCdata",value:function(){}},{key:"onDoctype",value:function(){}},{key:"onText",value:function(){}},{key:"onBeginElement",value:function(){}},{key:"onEndElement",value:function(){}},{key:"onError",value:function(){}}]);return a}(),s=
function(){function a(b,c){j(this,a);this.nodeName=b;this.nodeValue=c;Object.defineProperty(this,"parentNode",{value:null,writable:!0})}u(a,[{key:"hasChildNodes",value:function(){return this.childNodes&&0<this.childNodes.length}},{key:"firstChild",get:function(){return this.childNodes[0]}},{key:"nextSibling",get:function(){return this.parentNode.childNodes[this.parentNode.childNodes.indexOf(this)+1]}},{key:"textContent",get:function(){return!this.childNodes?this.nodeValue||"":this.childNodes.map(function(a){return a.textContent}).join("")}}]);
return a}(),k=function(b){function d(){j(this,d);var c;c=(d.__proto__||Object.getPrototypeOf(d)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=c&&("object"===typeof c||"function"===typeof c)?c:this;c._currentFragment=null;c._stack=null;c._errorCode=a;return c}h(d,b);u(d,[{key:"parseFromString",value:function(c){this._currentFragment=[];this._stack=[];this._errorCode=a;this.parseXml(c);if(this._errorCode===a)return c=t(this._currentFragment,
1)[0],!c?void 0:{documentElement:c}}},{key:"onResolveEntity",value:function(a){switch(a){case "apos":return"'"}return o(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"onResolveEntity",this).call(this,a)}},{key:"onText",value:function(a){var b;a:{b=0;for(var d=a.length;b<d;b++)if(!g(a,b)){b=!1;break a}b=!0}b||this._currentFragment.push(new s("#text",a))}},{key:"onCdata",value:function(a){this._currentFragment.push(new s("#text",a))}},{key:"onBeginElement",value:function(a,b,d){a=new s(a);
a.childNodes=[];this._currentFragment.push(a);d||(this._stack.push(this._currentFragment),this._currentFragment=a.childNodes)}},{key:"onEndElement",value:function(){this._currentFragment=this._stack.pop();for(var a=this._currentFragment[this._currentFragment.length-1],b=0,d=a.childNodes.length;b<d;b++)a.childNodes[b].parentNode=a}},{key:"onError",value:function(a){this._errorCode=a}}]);return d}(k);b.SimpleXMLParser=k},function(d,b,a){function h(a){return function(){var b=a.apply(this,arguments);
return new Promise(function(a,d){function g(h,n){try{var i=b[h](n),c=i.value}catch(f){d(f);return}if(i.done)a(c);else return Promise.resolve(c).then(function(a){g("next",a)},function(a){g("throw",a)})}return g("next")})}}Object.defineProperty(b,"__esModule",{value:!0});b.PDFDataTransportStream=void 0;var j=(d=a(130))&&d.__esModule?d:{"default":d},g=a(1),a=function(){function a(b,d){var h=this;(0,g.assert)(d);this._queuedChunks=[];var n=b.initialData;n&&0<n.length&&this._queuedChunks.push((new Uint8Array(n)).buffer);
this._pdfDataRangeTransport=d;this._isStreamingSupported=!b.disableStream;this._isRangeSupported=!b.disableRange;this._contentLength=b.length;this._fullRequestReader=null;this._rangeReaders=[];this._pdfDataRangeTransport.addRangeListener(function(a,b){h._onReceiveData({begin:a,chunk:b})});this._pdfDataRangeTransport.addProgressListener(function(a){h._onProgress({loaded:a})});this._pdfDataRangeTransport.addProgressiveReadListener(function(a){h._onReceiveData({chunk:a})});this._pdfDataRangeTransport.transportReady()}
function b(a,d){this._stream=a;this._done=!1;this._filename=null;this._queuedChunks=d||[];this._requests=[];this._headersReady=Promise.resolve();a._fullRequestReader=this;this.onProgress=null}function d(a,b,g){this._stream=a;this._begin=b;this._end=g;this._queuedChunk=null;this._requests=[];this._done=!1;this.onProgress=null}a.prototype={_onReceiveData:function(a){var b=(new Uint8Array(a.chunk)).buffer;if(void 0===a.begin)this._fullRequestReader?this._fullRequestReader._enqueue(b):this._queuedChunks.push(b);
else{var d=this._rangeReaders.some(function(d){if(d._begin!==a.begin)return!1;d._enqueue(b);return!0});(0,g.assert)(d)}},_onProgress:function(a){if(0<this._rangeReaders.length){var b=this._rangeReaders[0];if(b.onProgress)b.onProgress({loaded:a.loaded})}},_removeRangeReader:function(a){a=this._rangeReaders.indexOf(a);0<=a&&this._rangeReaders.splice(a,1)},getFullReader:function(){(0,g.assert)(!this._fullRequestReader);var a=this._queuedChunks;this._queuedChunks=null;return new b(this,a)},getRangeReader:function(a,
b){var g=new d(this,a,b);this._pdfDataRangeTransport.requestDataRange(a,b);this._rangeReaders.push(g);return g},cancelAllRequests:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);this._rangeReaders.slice(0).forEach(function(b){b.cancel(a)});this._pdfDataRangeTransport.abort()}};b.prototype={_enqueue:function(a){this._done||(0<this._requests.length?this._requests.shift().resolve({value:a,done:!1}):this._queuedChunks.push(a))},get headersReady(){return this._headersReady},get filename(){return this._filename},
get isRangeSupported(){return this._stream._isRangeSupported},get isStreamingSupported(){return this._stream._isStreamingSupported},get contentLength(){return this._stream._contentLength},read:function(){var a=h(j.default.mark(function v(){var a,b;return j.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!(0<this._queuedChunks.length)){c.next=3;break}a=this._queuedChunks.shift();return c.abrupt("return",{value:a,done:!1});case 3:if(!this._done){c.next=5;break}return c.abrupt("return",
{value:void 0,done:!0});case 5:return b=(0,g.createPromiseCapability)(),this._requests.push(b),c.abrupt("return",b.promise);case 8:case "end":return c.stop()}},v,this)}));return function(){return a.apply(this,arguments)}}(),cancel:function(){this._done=!0;this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[]}};d.prototype={_enqueue:function(a){this._done||(0===this._requests.length?this._queuedChunk=a:(this._requests.shift().resolve({value:a,done:!1}),this._requests.forEach(function(a){a.resolve({value:void 0,
done:!0})}),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))},get isStreamingSupported(){return!1},read:function(){var a=h(j.default.mark(function v(){var a,b;return j.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this._queuedChunk){c.next=4;break}a=this._queuedChunk;this._queuedChunk=null;return c.abrupt("return",{value:a,done:!1});case 4:if(!this._done){c.next=6;break}return c.abrupt("return",{value:void 0,done:!0});case 6:return b=(0,g.createPromiseCapability)(),
this._requests.push(b),c.abrupt("return",b.promise);case 9:case "end":return c.stop()}},v,this)}));return function(){return a.apply(this,arguments)}}(),cancel:function(){this._done=!0;this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[];this._stream._removeRangeReader(this)}};return a}();b.PDFDataTransportStream=a},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.WebGLContext=void 0;var h=function(){function a(b,d){for(var g=0;g<d.length;g++){var h=
d[g];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(b,h.key,h)}}return function(b,d,g){d&&a(b.prototype,d);g&&a(b,g);return b}}(),j=a(1),d=function(){function a(b){b=b.enable;b=void 0===b?!1:b;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._enabled=!0===b}h(a,[{key:"composeSMask",value:function(a){return g.composeSMask(a.layer,a.mask,a.properties)}},{key:"drawFigures",value:function(a){return g.drawFigures(a.width,
a.height,a.backgroundColor,a.figures,a.context)}},{key:"clear",value:function(){g.cleanup()}},{key:"isEnabled",get:function(){var a=this._enabled;a&&(a=g.tryInitGL());return(0,j.shadow)(this,"isEnabled",a)}}]);return a}(),g=function(){function a(b,d,g){g=b.createShader(g);b.shaderSource(g,d);b.compileShader(g);if(!b.getShaderParameter(g,b.COMPILE_STATUS))throw b=b.getShaderInfoLog(g),Error("Error during shader compilation: "+b);return g}function b(a,d){for(var g=a.createProgram(),e=0,i=d.length;e<
i;++e)a.attachShader(g,d[e]);a.linkProgram(g);if(!a.getProgramParameter(g,a.LINK_STATUS))throw g=a.getProgramInfoLog(g),Error("Error during program linking: "+g);return g}function d(a,b,g){a.activeTexture(g);g=a.createTexture();a.bindTexture(a.TEXTURE_2D,g);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST);
a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,b);return g}function g(){h||(j=document.createElement("canvas"),h=j.getContext("webgl",{premultipliedalpha:!1}))}var h,j,n=null,i=null;return{tryInitGL:function(){try{return g(),!!h}catch(a){}return!1},composeSMask:function(c,f,l){var e=c.width,i=c.height;if(!n){var m,r;g();m=j;j=null;r=h;h=null;var z=a(r,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",
r.VERTEX_SHADER),w=a(r,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",
r.FRAGMENT_SHADER),p=b(r,[z,w]);r.useProgram(p);z={};z.gl=r;z.canvas=m;z.resolutionLocation=r.getUniformLocation(p,"u_resolution");z.positionLocation=r.getAttribLocation(p,"a_position");z.backdropLocation=r.getUniformLocation(p,"u_backdrop");z.subtypeLocation=r.getUniformLocation(p,"u_subtype");m=r.getAttribLocation(p,"a_texCoord");var w=r.getUniformLocation(p,"u_image"),p=r.getUniformLocation(p,"u_mask"),y=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,y);r.bufferData(r.ARRAY_BUFFER,new Float32Array([0,
0,1,0,0,1,0,1,1,0,1,1]),r.STATIC_DRAW);r.enableVertexAttribArray(m);r.vertexAttribPointer(m,2,r.FLOAT,!1,0,0);r.uniform1i(w,0);r.uniform1i(p,1);n=z}r=n;z=r.canvas;m=r.gl;z.width=e;z.height=i;m.viewport(0,0,m.drawingBufferWidth,m.drawingBufferHeight);m.uniform2f(r.resolutionLocation,e,i);l.backdrop?m.uniform4f(r.resolutionLocation,l.backdrop[0],l.backdrop[1],l.backdrop[2],1):m.uniform4f(r.resolutionLocation,0,0,0,0);m.uniform1i(r.subtypeLocation,"Luminosity"===l.subtype?1:0);c=d(m,c,m.TEXTURE0);f=
d(m,f,m.TEXTURE1);l=m.createBuffer();m.bindBuffer(m.ARRAY_BUFFER,l);m.bufferData(m.ARRAY_BUFFER,new Float32Array([0,0,e,0,0,i,0,i,e,0,e,i]),m.STATIC_DRAW);m.enableVertexAttribArray(r.positionLocation);m.vertexAttribPointer(r.positionLocation,2,m.FLOAT,!1,0,0);m.clearColor(0,0,0,0);m.enable(m.BLEND);m.blendFunc(m.ONE,m.ONE_MINUS_SRC_ALPHA);m.clear(m.COLOR_BUFFER_BIT);m.drawArrays(m.TRIANGLES,0,6);m.flush();m.deleteTexture(c);m.deleteTexture(f);m.deleteBuffer(l);return z},drawFigures:function(c,d,l,
e,q){if(!i){var m,r;g();m=j;j=null;r=h;h=null;var n=a(r,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",
r.VERTEX_SHADER),w=a(r,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",r.FRAGMENT_SHADER),n=b(r,[n,
w]);r.useProgram(n);w={};w.gl=r;w.canvas=m;w.resolutionLocation=r.getUniformLocation(n,"u_resolution");w.scaleLocation=r.getUniformLocation(n,"u_scale");w.offsetLocation=r.getUniformLocation(n,"u_offset");w.positionLocation=r.getAttribLocation(n,"a_position");w.colorLocation=r.getAttribLocation(n,"a_color");i=w}m=i;r=m.canvas;n=m.gl;r.width=c;r.height=d;n.viewport(0,0,n.drawingBufferWidth,n.drawingBufferHeight);n.uniform2f(m.resolutionLocation,c,d);var c=0,p,y,x;p=0;for(y=e.length;p<y;p++)switch(e[p].type){case "lattice":x=
e[p].coords.length/e[p].verticesPerRow|0;c+=6*(x-1)*(e[p].verticesPerRow-1);break;case "triangles":c+=e[p].coords.length}var w=new Float32Array(2*c),d=new Uint8Array(3*c),u=q.coords,I=q.colors,E=0,B=0;p=0;for(y=e.length;p<y;p++){x=e[p];var C=x.coords,G=x.colors;switch(x.type){case "lattice":var J=x.verticesPerRow;x=C.length/J|0;for(var H=1;H<x;H++)for(var K=H*J+1,M=1;M<J;M++,K++)w[E]=u[C[K-J-1]],w[E+1]=u[C[K-J-1]+1],w[E+2]=u[C[K-J]],w[E+3]=u[C[K-J]+1],w[E+4]=u[C[K-1]],w[E+5]=u[C[K-1]+1],d[B]=I[G[K-
J-1]],d[B+1]=I[G[K-J-1]+1],d[B+2]=I[G[K-J-1]+2],d[B+3]=I[G[K-J]],d[B+4]=I[G[K-J]+1],d[B+5]=I[G[K-J]+2],d[B+6]=I[G[K-1]],d[B+7]=I[G[K-1]+1],d[B+8]=I[G[K-1]+2],w[E+6]=w[E+2],w[E+7]=w[E+3],w[E+8]=w[E+4],w[E+9]=w[E+5],w[E+10]=u[C[K]],w[E+11]=u[C[K]+1],d[B+9]=d[B+3],d[B+10]=d[B+4],d[B+11]=d[B+5],d[B+12]=d[B+6],d[B+13]=d[B+7],d[B+14]=d[B+8],d[B+15]=I[G[K]],d[B+16]=I[G[K]+1],d[B+17]=I[G[K]+2],E+=12,B+=18;break;case "triangles":x=0;for(J=C.length;x<J;x++)w[E]=u[C[x]],w[E+1]=u[C[x]+1],d[B]=I[G[x]],d[B+1]=
I[G[x]+1],d[B+2]=I[G[x]+2],E+=2,B+=3}}l?n.clearColor(l[0]/255,l[1]/255,l[2]/255,1):n.clearColor(0,0,0,0);n.clear(n.COLOR_BUFFER_BIT);l=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,l);n.bufferData(n.ARRAY_BUFFER,w,n.STATIC_DRAW);n.enableVertexAttribArray(m.positionLocation);n.vertexAttribPointer(m.positionLocation,2,n.FLOAT,!1,0,0);e=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,e);n.bufferData(n.ARRAY_BUFFER,d,n.STATIC_DRAW);n.enableVertexAttribArray(m.colorLocation);n.vertexAttribPointer(m.colorLocation,
3,n.UNSIGNED_BYTE,!1,0,0);n.uniform2f(m.scaleLocation,q.scaleX,q.scaleY);n.uniform2f(m.offsetLocation,q.offsetX,q.offsetY);n.drawArrays(n.TRIANGLES,0,c);n.flush();n.deleteBuffer(l);n.deleteBuffer(e);return r},cleanup:function(){n&&n.canvas&&(n.canvas.width=0,n.canvas.height=0);i&&i.canvas&&(i.canvas.width=0,i.canvas.height=0);i=n=null}}}();b.WebGLContext=d},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.renderTextLayer=void 0;var h=a(1),j=(d=a(3))&&d.__esModule?d:{"default":d},
d=function(){function a(b){if(!b._canceled){var c=b._textDivs,d=b._capability,g=c.length;if(!(g>s)&&!b._textContentStream)for(var e=0;e<g;e++)b._layoutText(c[e]);b._renderingDone=!0;d.resolve()}}function b(a){for(var c=a._bounds,f=a._viewport,f=d(f.width,f.height,c),g=0;g<f.length;g++){var e=c[g].div,q=a._textDivProperties.get(e);if(0===q.angle)q.paddingLeft=c[g].left-f[g].left,q.paddingTop=c[g].top-f[g].top,q.paddingRight=f[g].right-c[g].right,q.paddingBottom=f[g].bottom-c[g].bottom;else{var m=f[g],
r=c[g],n=r.m,j=n[0],p=n[1],r=[[0,0],[0,r.size[1]],[r.size[0],0],r.size],k=new Float64Array(64);r.forEach(function(a,b){var c=h.Util.applyTransform(a,n);k[b+0]=j&&(m.left-c[0])/j;k[b+4]=p&&(m.top-c[1])/p;k[b+8]=j&&(m.right-c[0])/j;k[b+12]=p&&(m.bottom-c[1])/p;k[b+16]=p&&(m.left-c[0])/-p;k[b+20]=j&&(m.top-c[1])/j;k[b+24]=p&&(m.right-c[0])/-p;k[b+28]=j&&(m.bottom-c[1])/j;k[b+32]=j&&(m.left-c[0])/-j;k[b+36]=p&&(m.top-c[1])/-p;k[b+40]=j&&(m.right-c[0])/-j;k[b+44]=p&&(m.bottom-c[1])/-p;k[b+48]=p&&(m.left-
c[0])/p;k[b+52]=j&&(m.top-c[1])/-j;k[b+56]=p&&(m.right-c[0])/p;k[b+60]=j&&(m.bottom-c[1])/-j});var r=function(a,b,c){for(var e=0,d=0;d<c;d++){var f=a[b++];0<f&&(e=e?Math.min(f,e):f)}return e},s=1+Math.min(Math.abs(j),Math.abs(p));q.paddingLeft=r(k,32,16)/s;q.paddingTop=r(k,48,16)/s;q.paddingRight=r(k,0,16)/s;q.paddingBottom=r(k,16,16)/s}a._textDivProperties.set(e,q)}}function d(a,b,f){var g=f.map(function(a,b){return{x1:a.left,y1:a.top,x2:a.right,y2:a.bottom,index:b,x1New:void 0,x2New:void 0}});u(a,
g);var e=Array(f.length);g.forEach(function(a){e[a.index]={left:a.x1New,top:0,right:a.x2New,bottom:0}});f.map(function(b,c){var d=e[c],f=g[c];f.x1=b.top;f.y1=a-d.right;f.x2=b.bottom;f.y2=a-d.left;f.index=c;f.x1New=void 0;f.x2New=void 0});u(b,g);g.forEach(function(a){var b=a.index;e[b].top=a.x1New;e[b].bottom=a.x2New});return e}function u(a,b){b.sort(function(a,b){return a.x1-b.x1||a.index-b.index});var d=[{start:-Infinity,end:Infinity,boundary:{x1:-Infinity,y1:-Infinity,x2:0,y2:Infinity,index:-1,
x1New:0,x2New:0}}];b.forEach(function(a){for(var b=0;b<d.length&&d[b].end<=a.y1;)b++;for(var c=d.length-1;0<=c&&d[c].start>=a.y2;)c--;var g,i,h,n=-Infinity;for(h=b;h<=c;h++){g=d[h];i=g.boundary;var p;p=i.x2>a.x1?i.index>a.index?i.x1New:a.x1:void 0===i.x2New?(i.x2+a.x1)/2:i.x2New;p>n&&(n=p)}a.x1New=n;for(h=b;h<=c;h++)g=d[h],i=g.boundary,void 0===i.x2New?i.x2>a.x1?i.index>a.index&&(i.x2New=i.x2):i.x2New=n:i.x2New>n&&(i.x2New=Math.max(n,i.x2));p=[];var j=null;for(h=b;h<=c;h++)g=d[h],i=g.boundary,i=i.x2>
a.x2?i:a,j===i?p[p.length-1].end=g.end:(p.push({start:g.start,end:g.end,boundary:i}),j=i);d[b].start<a.y1&&(p[0].start=a.y1,p.unshift({start:d[b].start,end:a.y1,boundary:d[b].boundary}));a.y2<d[c].end&&(p[p.length-1].end=a.y2,p.push({start:a.y2,end:d[c].end,boundary:d[c].boundary}));for(h=b;h<=c;h++)if(g=d[h],i=g.boundary,void 0===i.x2New){g=!1;for(a=b-1;!g&&0<=a&&d[a].start>=i.y1;a--)g=d[a].boundary===i;for(a=c+1;!g&&a<d.length&&d[a].end<=i.y2;a++)g=d[a].boundary===i;for(a=0;!g&&a<p.length;a++)g=
p[a].boundary===i;g||(i.x2New=n)}Array.prototype.splice.apply(d,[b,c-b+1].concat(p))});d.forEach(function(b){b=b.boundary;void 0===b.x2New&&(b.x2New=Math.max(a,b.x2))})}function k(a){var b=a.textContentStream,d=a.container,g=a.viewport,e=a.textDivs,q=a.textContentItemsStr,m=a.enhanceTextSelection;this._textContent=a.textContent;this._textContentStream=b;this._container=d;this._viewport=g;this._textDivs=e||[];this._textContentItemsStr=q||[];this._enhanceTextSelection=!!m;this._fontInspectorEnabled=
!(!j.default.FontInspector||!j.default.FontInspector.enabled);this._layoutTextCtx=this._layoutTextLastFontFamily=this._layoutTextLastFontSize=this._reader=null;this._textDivProperties=new WeakMap;this._canceled=this._renderingDone=!1;this._capability=(0,h.createPromiseCapability)();this._renderTimer=null;this._bounds=[]}var s=1E5,v=/\S/,n=["left: ",0,"px; top: ",0,"px; font-size: ",0,"px; font-family: ","",";"];k.prototype={get promise(){return this._capability.promise},cancel:function(){this._reader&&
(this._reader.cancel(new h.AbortException("text layer task cancelled")),this._reader=null);this._canceled=!0;null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null);this._capability.reject("canceled")},_processItems:function(a,b){for(var d=0,g=a.length;d<g;d++){this._textContentItemsStr.push(a[d].str);var e=a[d],q=b,m=document.createElement("div"),j={style:null,angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,
scale:1};this._textDivs.push(m);if(v.test(e.str)){var k=h.Util.transform(this._viewport.transform,e.transform),o=Math.atan2(k[1],k[0]),p=q[e.fontName];p.vertical&&(o+=Math.PI/2);var s=Math.sqrt(k[2]*k[2]+k[3]*k[3]),x=s;p.ascent?x*=p.ascent:p.descent&&(x*=1+p.descent);var t=q=void 0;0===o?(q=k[4],t=k[5]-x):(q=k[4]+x*Math.sin(o),t=k[5]-x*Math.cos(o));n[1]=q;n[3]=t;n[5]=s;n[7]=p.fontFamily;j.style=n.join("");m.setAttribute("style",j.style);m.textContent=e.str;this._fontInspectorEnabled&&(m.dataset.fontName=
e.fontName);0!==o&&(j.angle=o*(180/Math.PI));1<e.str.length&&(j.canvasWidth=p.vertical?e.height*this._viewport.scale:e.width*this._viewport.scale);this._textDivProperties.set(m,j);this._textContentStream&&this._layoutText(m);this._enhanceTextSelection&&(j=1,k=0,0!==o&&(j=Math.cos(o),k=Math.sin(o)),e=(p.vertical?e.height:e.width)*this._viewport.scale,x=p=void 0,0!==o?(p=[j,k,-k,j,q,t],x=h.Util.getAxialAlignedBoundingBox([0,0,e,s],p)):x=[q,t,q+e,t+s],this._bounds.push({left:x[0],top:x[1],right:x[2],
bottom:x[3],div:m,size:[e,s],m:p}))}else j.isWhitespace=!0,this._textDivProperties.set(m,j)}},_layoutText:function(a){var b=this._container,d=this._textDivProperties.get(a);if(!d.isWhitespace){var g=a.style.fontSize,e=a.style.fontFamily;if(g!==this._layoutTextLastFontSize||e!==this._layoutTextLastFontFamily)this._layoutTextCtx.font=g+" "+e,this._layoutTextLastFontSize=g,this._layoutTextLastFontFamily=e;g=this._layoutTextCtx.measureText(a.textContent).width;e="";0!==d.canvasWidth&&0<g&&(d.scale=d.canvasWidth/
g,e="scaleX("+d.scale+")");0!==d.angle&&(e="rotate("+d.angle+"deg) "+e);""!==e&&(d.originalTransform=e,a.style.transform=e);this._textDivProperties.set(a,d);b.appendChild(a)}},_render:function(b){var c=this,d=(0,h.createPromiseCapability)(),l=Object.create(null),e=document.createElement("canvas");e.mozOpaque=!0;this._layoutTextCtx=e.getContext("2d",{alpha:!1});if(this._textContent)this._processItems(this._textContent.items,this._textContent.styles),d.resolve();else if(this._textContentStream)this._reader=
this._textContentStream.getReader(),function m(){c._reader.read().then(function(a){var b=a.value;a.done?d.resolve():(Object.assign(l,b.styles),c._processItems(b.items,l),m())},d.reject)}();else throw Error('Neither "textContent" nor "textContentStream" parameters specified.');d.promise.then(function(){l=null;b?c._renderTimer=setTimeout(function(){a(c);c._renderTimer=null},b):a(c)},this._capability.reject)},expandTextDivs:function(a){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&
(b(this),this._bounds=null);for(var c=0,d=this._textDivs.length;c<d;c++){var g=this._textDivs[c],e=this._textDivProperties.get(g);if(!e.isWhitespace)if(a){var h="",m="";1!==e.scale&&(h="scaleX("+e.scale+")");0!==e.angle&&(h="rotate("+e.angle+"deg) "+h);0!==e.paddingLeft&&(m+=" padding-left: "+e.paddingLeft/e.scale+"px;",h+=" translateX("+-e.paddingLeft/e.scale+"px)");0!==e.paddingTop&&(m+=" padding-top: "+e.paddingTop+"px;",h+=" translateY("+-e.paddingTop+"px)");0!==e.paddingRight&&(m+=" padding-right: "+
e.paddingRight/e.scale+"px;");0!==e.paddingBottom&&(m+=" padding-bottom: "+e.paddingBottom+"px;");""!==m&&g.setAttribute("style",e.style+m);""!==h&&(g.style.transform=h)}else g.style.padding=0,g.style.transform=e.originalTransform||""}}}};return function(a){var b=new k({textContent:a.textContent,textContentStream:a.textContentStream,container:a.container,viewport:a.viewport,textDivs:a.textDivs,textContentItemsStr:a.textContentItemsStr,enhanceTextSelection:a.enhanceTextSelection});b._render(a.timeout);
return b}}();b.renderTextLayer=d},function(d,b,a){function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"===typeof b||"function"===typeof b)?b:a}function j(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,
b):a.__proto__=b)}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(b,"__esModule",{value:!0});b.AnnotationLayer=void 0;var t=function K(a,b,c){null===a&&(a=Function.prototype);var e=Object.getOwnPropertyDescriptor(a,b);if(void 0===e)return a=Object.getPrototypeOf(a),null===a?void 0:K(a,b,c);if("value"in e)return e.value;b=e.get;return void 0===b?void 0:b.call(c)},o=function(){function a(b,c){for(var e=0;e<c.length;e++){var d=c[e];
d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),u=a(123),k=a(1),s=function(){function a(){g(this,a)}o(a,null,[{key:"create",value:function(a){switch(a.data.annotationType){case k.AnnotationType.LINK:return new n(a);case k.AnnotationType.TEXT:return new i(a);case k.AnnotationType.WIDGET:switch(a.data.fieldType){case "Tx":return new f(a);case "Btn":return a.data.radioButton?
new e(a):a.data.checkBox?new l(a):new q(a);case "Ch":return new m(a)}return new c(a);case k.AnnotationType.POPUP:return new r(a);case k.AnnotationType.LINE:return new w(a);case k.AnnotationType.SQUARE:return new p(a);case k.AnnotationType.CIRCLE:return new y(a);case k.AnnotationType.POLYLINE:return new x(a);case k.AnnotationType.POLYGON:return new L(a);case k.AnnotationType.HIGHLIGHT:return new I(a);case k.AnnotationType.UNDERLINE:return new E(a);case k.AnnotationType.SQUIGGLY:return new B(a);case k.AnnotationType.STRIKEOUT:return new C(a);
case k.AnnotationType.STAMP:return new G(a);case k.AnnotationType.FILEATTACHMENT:return new J(a);default:return new v(a)}}}]);return a}(),v=function(){function a(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;g(this,a);this.isRenderable=c;this.data=b.data;this.layer=b.layer;this.page=b.page;this.viewport=b.viewport;this.linkService=b.linkService;this.downloadManager=b.downloadManager;this.imageResourcesPath=b.imageResourcesPath;
this.renderInteractiveForms=b.renderInteractiveForms;this.svgFactory=b.svgFactory;c&&(this.container=this._createContainer(e))}o(a,[{key:"_createContainer",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,b=this.data,c=this.page,e=this.viewport,d=document.createElement("section"),f=b.rect[2]-b.rect[0],g=b.rect[3]-b.rect[1];d.setAttribute("data-annotation-id",b.id);c=k.Util.normalizeRect([b.rect[0],c.view[3]-b.rect[1]+c.view[1],b.rect[2],c.view[3]-b.rect[3]+c.view[1]]);
d.style.transform="matrix("+e.transform.join(",")+")";d.style.transformOrigin=-c[0]+"px "+-c[1]+"px";if(!a&&0<b.borderStyle.width){d.style.borderWidth=b.borderStyle.width+"px";b.borderStyle.style!==k.AnnotationBorderStyleType.UNDERLINE&&(f-=2*b.borderStyle.width,g-=2*b.borderStyle.width);a=b.borderStyle.horizontalCornerRadius;e=b.borderStyle.verticalCornerRadius;if(0<a||0<e)d.style.borderRadius=a+"px / "+e+"px";switch(b.borderStyle.style){case k.AnnotationBorderStyleType.SOLID:d.style.borderStyle=
"solid";break;case k.AnnotationBorderStyleType.DASHED:d.style.borderStyle="dashed";break;case k.AnnotationBorderStyleType.BEVELED:(0,k.warn)("Unimplemented border style: beveled");break;case k.AnnotationBorderStyleType.INSET:(0,k.warn)("Unimplemented border style: inset");break;case k.AnnotationBorderStyleType.UNDERLINE:d.style.borderBottomStyle="solid"}b.color?d.style.borderColor=k.Util.makeCssRgb(b.color[0]|0,b.color[1]|0,b.color[2]|0):d.style.borderWidth=0}d.style.left=c[0]+"px";d.style.top=c[1]+
"px";d.style.width=f+"px";d.style.height=g+"px";return d}},{key:"_createPopup",value:function(a,b,c){b||(b=document.createElement("div"),b.style.height=a.style.height,b.style.width=a.style.width,a.appendChild(b));b=(new z({container:a,trigger:b,color:c.color,title:c.title,contents:c.contents,hideWrapper:!0})).render();b.style.left=a.style.width;a.appendChild(b)}},{key:"render",value:function(){(0,k.unreachable)("Abstract method `AnnotationElement.render` called")}}]);return a}(),n=function(a){function b(a){g(this,
b);var c=!(!a.data.url&&!a.data.dest&&!a.data.action);return h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}j(b,a);o(b,[{key:"render",value:function(){this.container.className="linkAnnotation";var a=this.data,b=this.linkService,c=document.createElement("a");(0,u.addLinkAttributes)(c,{url:a.url,target:a.newWindow?u.LinkTarget.BLANK:b.externalLinkTarget,rel:b.externalLinkRel});a.url||(a.action?this._bindNamedAction(c,a.action):this._bindLink(c,a.dest));this.container.appendChild(c);
return this.container}},{key:"_bindLink",value:function(a,b){var c=this;a.href=this.linkService.getDestinationHash(b);a.onclick=function(){b&&c.linkService.navigateTo(b);return!1};b&&(a.className="internalLink")}},{key:"_bindNamedAction",value:function(a,b){var c=this;a.href=this.linkService.getAnchorUrl("");a.onclick=function(){c.linkService.executeNamedAction(b);return!1};a.className="internalLink"}}]);return b}(v),i=function(a){function b(a){g(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);
return h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}j(b,a);o(b,[{key:"render",value:function(){this.container.className="textAnnotation";var a=document.createElement("img");a.style.height=this.container.style.height;a.style.width=this.container.style.width;a.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg";a.alt="[{{type}} Annotation]";a.dataset.l10nId="text_annotation_type";a.dataset.l10nArgs=JSON.stringify({type:this.data.name});this.data.hasPopup||
this._createPopup(this.container,a,this.data);this.container.appendChild(a);return this.container}}]);return b}(v),c=function(a){function b(){g(this,b);return h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}j(b,a);o(b,[{key:"render",value:function(){return this.container}}]);return b}(v),f=function(a){function b(a){g(this,b);var c=a.renderInteractiveForms||!a.data.hasAppearance&&!!a.data.fieldValue;return h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}j(b,a);
o(b,[{key:"render",value:function(){var a=["left","center","right"];this.container.className="textWidgetAnnotation";var b=null;if(this.renderInteractiveForms){if(this.data.multiLine?(b=document.createElement("textarea"),b.textContent=this.data.fieldValue):(b=document.createElement("input"),b.type="text",b.setAttribute("value",this.data.fieldValue)),b.disabled=this.data.readOnly,null!==this.data.maxLen&&(b.maxLength=this.data.maxLen),this.data.comb){var c=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;
b.classList.add("comb");b.style.letterSpacing="calc("+c+"px - 1ch)"}}else b=document.createElement("div"),b.textContent=this.data.fieldValue,b.style.verticalAlign="middle",b.style.display="table-cell",c=null,this.data.fontRefName&&(c=this.page.commonObjs.getData(this.data.fontRefName)),this._setTextStyle(b,c);null!==this.data.textAlignment&&(b.style.textAlign=a[this.data.textAlignment]);this.container.appendChild(b);return this.container}},{key:"_setTextStyle",value:function(a,b){var c=a.style;c.fontSize=
this.data.fontSize+"px";c.direction=0>this.data.fontDirection?"rtl":"ltr";b&&(c.fontWeight=b.black?b.bold?"900":"bold":b.bold?"bold":"normal",c.fontStyle=b.italic?"italic":"normal",c.fontFamily=(b.loadedName?'"'+b.loadedName+'", ':"")+(b.fallbackName||"Helvetica, sans-serif"))}}]);return b}(c),l=function(a){function b(a){g(this,b);return h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,a.renderInteractiveForms))}j(b,a);o(b,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation checkBox";
var a=document.createElement("input");a.disabled=this.data.readOnly;a.type="checkbox";this.data.fieldValue&&"Off"!==this.data.fieldValue&&a.setAttribute("checked",!0);this.container.appendChild(a);return this.container}}]);return b}(c),e=function(a){function b(a){g(this,b);return h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,a.renderInteractiveForms))}j(b,a);o(b,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation radioButton";var a=document.createElement("input");
a.disabled=this.data.readOnly;a.type="radio";a.name=this.data.fieldName;this.data.fieldValue===this.data.buttonValue&&a.setAttribute("checked",!0);this.container.appendChild(a);return this.container}}]);return b}(c),q=function(a){function b(){g(this,b);return h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}j(b,a);o(b,[{key:"render",value:function(){var a=t(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"render",this).call(this);a.className="buttonWidgetAnnotation pushButton";
return a}}]);return b}(n),m=function(a){function b(a){g(this,b);return h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,a.renderInteractiveForms))}j(b,a);o(b,[{key:"render",value:function(){this.container.className="choiceWidgetAnnotation";var a=document.createElement("select");a.disabled=this.data.readOnly;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0));for(var b=0,c=this.data.options.length;b<c;b++){var e=this.data.options[b],d=document.createElement("option");
d.textContent=e.displayValue;d.value=e.exportValue;this.data.fieldValue.includes(e.displayValue)&&d.setAttribute("selected",!0);a.appendChild(d)}this.container.appendChild(a);return this.container}}]);return b}(c),r=function(a){function b(a){g(this,b);var c=!(!a.data.title&&!a.data.contents);return h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}j(b,a);o(b,[{key:"render",value:function(){this.container.className="popupAnnotation";if(["Line","Square","Circle","PolyLine","Polygon"].includes(this.data.parentType))return this.container;
var a=this.layer.querySelector('[data-annotation-id="'+this.data.parentId+'"]');if(!a)return this.container;var b=new z({container:this.container,trigger:a,color:this.data.color,title:this.data.title,contents:this.data.contents}),c=parseFloat(a.style.left),e=parseFloat(a.style.width);this.container.style.transformOrigin=-(c+e)+"px -"+a.style.top;this.container.style.left=c+e+"px";this.container.appendChild(b.render());return this.container}}]);return b}(v),z=function(){function a(b){g(this,a);this.container=
b.container;this.trigger=b.trigger;this.color=b.color;this.title=b.title;this.contents=b.contents;this.hideWrapper=b.hideWrapper||!1;this.pinned=!1}o(a,[{key:"render",value:function(){var a=document.createElement("div");a.className="popupWrapper";this.hideElement=this.hideWrapper?a:this.container;this.hideElement.setAttribute("hidden",!0);var b=document.createElement("div");b.className="popup";var c=this.color;c&&(b.style.backgroundColor=k.Util.makeCssRgb(0.7*(255-c[0])+c[0]|0,0.7*(255-c[1])+c[1]|
0,0.7*(255-c[2])+c[2]|0));var c=this._formatContents(this.contents),e=document.createElement("h1");e.textContent=this.title;this.trigger.addEventListener("click",this._toggle.bind(this));this.trigger.addEventListener("mouseover",this._show.bind(this,!1));this.trigger.addEventListener("mouseout",this._hide.bind(this,!1));b.addEventListener("click",this._hide.bind(this,!0));b.appendChild(e);b.appendChild(c);a.appendChild(b);return a}},{key:"_formatContents",value:function(a){for(var b=document.createElement("p"),
a=a.split(/(?:\r\n?|\n)/),c=0,e=a.length;c<e;++c)b.appendChild(document.createTextNode(a[c])),c<e-1&&b.appendChild(document.createElement("br"));return b}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&(this.pinned=!0);this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}},{key:"_hide",value:function(){if(0<arguments.length&&
void 0!==arguments[0]?arguments[0]:1)this.pinned=!1;!this.hideElement.hasAttribute("hidden")&&!this.pinned&&(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}]);return a}(),w=function(a){function b(a){g(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!0))}j(b,a);o(b,[{key:"render",value:function(){this.container.className="lineAnnotation";var a=this.data,b=this.svgFactory.create(a.rect[2]-
a.rect[0],a.rect[3]-a.rect[1]),c=this.svgFactory.createElement("svg:line");c.setAttribute("x1",a.rect[2]-a.lineCoordinates[0]);c.setAttribute("y1",a.rect[3]-a.lineCoordinates[1]);c.setAttribute("x2",a.rect[2]-a.lineCoordinates[2]);c.setAttribute("y2",a.rect[3]-a.lineCoordinates[3]);c.setAttribute("stroke-width",a.borderStyle.width);c.setAttribute("stroke","transparent");b.appendChild(c);this.container.append(b);this._createPopup(this.container,c,a);return this.container}}]);return b}(v),p=function(a){function b(a){g(this,
b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!0))}j(b,a);o(b,[{key:"render",value:function(){this.container.className="squareAnnotation";var a=this.data,b=a.rect[2]-a.rect[0],c=a.rect[3]-a.rect[1],e=this.svgFactory.create(b,c),d=a.borderStyle.width,f=this.svgFactory.createElement("svg:rect");f.setAttribute("x",d/2);f.setAttribute("y",d/2);f.setAttribute("width",b-d);f.setAttribute("height",c-d);f.setAttribute("stroke-width",
d);f.setAttribute("stroke","transparent");f.setAttribute("fill","none");e.appendChild(f);this.container.append(e);this._createPopup(this.container,f,a);return this.container}}]);return b}(v),y=function(a){function b(a){g(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!0))}j(b,a);o(b,[{key:"render",value:function(){this.container.className="circleAnnotation";var a=this.data,b=a.rect[2]-a.rect[0],c=a.rect[3]-a.rect[1],
e=this.svgFactory.create(b,c),d=a.borderStyle.width,f=this.svgFactory.createElement("svg:ellipse");f.setAttribute("cx",b/2);f.setAttribute("cy",c/2);f.setAttribute("rx",b/2-d/2);f.setAttribute("ry",c/2-d/2);f.setAttribute("stroke-width",d);f.setAttribute("stroke","transparent");f.setAttribute("fill","none");e.appendChild(f);this.container.append(e);this._createPopup(this.container,f,a);return this.container}}]);return b}(v),x=function(a){function b(a){g(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&
!a.data.contents),a=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!0));a.containerClassName="polylineAnnotation";a.svgElementName="svg:polyline";return a}j(b,a);o(b,[{key:"render",value:function(){this.container.className=this.containerClassName;for(var a=this.data,b=this.svgFactory.create(a.rect[2]-a.rect[0],a.rect[3]-a.rect[1]),c=a.vertices,e=[],d=0,f=c.length;d<f;d++)e.push(c[d].x-a.rect[0]+","+(a.rect[3]-c[d].y));e=e.join(" ");c=a.borderStyle.width;d=this.svgFactory.createElement(this.svgElementName);
d.setAttribute("points",e);d.setAttribute("stroke-width",c);d.setAttribute("stroke","transparent");d.setAttribute("fill","none");b.appendChild(d);this.container.append(b);this._createPopup(this.container,d,a);return this.container}}]);return b}(v),L=function(a){function b(a){g(this,b);a=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));a.containerClassName="polygonAnnotation";a.svgElementName="svg:polygon";return a}j(b,a);return b}(x),I=function(a){function b(a){g(this,b);var c=!(!a.data.hasPopup&&
!a.data.title&&!a.data.contents);return h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!0))}j(b,a);o(b,[{key:"render",value:function(){this.container.className="highlightAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return b}(v),E=function(a){function b(a){g(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!0))}j(b,a);o(b,[{key:"render",value:function(){this.container.className=
"underlineAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return b}(v),B=function(a){function b(a){g(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!0))}j(b,a);o(b,[{key:"render",value:function(){this.container.className="squigglyAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return b}(v),C=function(a){function b(a){g(this,
b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!0))}j(b,a);o(b,[{key:"render",value:function(){this.container.className="strikeoutAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return b}(v),G=function(a){function b(a){g(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!0))}
j(b,a);o(b,[{key:"render",value:function(){this.container.className="stampAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return b}(v),J=function(a){function b(a){g(this,b);var a=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,!0)),c=a.data.file;a.filename=(0,u.getFilenameFromUrl)(c.filename);a.content=c.content;a.linkService.onFileAttachmentAnnotation({id:(0,k.stringToPDFString)(c.filename),filename:c.filename,content:c.content});
return a}j(b,a);o(b,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var a=document.createElement("div");a.style.height=this.container.style.height;a.style.width=this.container.style.width;a.addEventListener("dblclick",this._download.bind(this));!this.data.hasPopup&&(this.data.title||this.data.contents)&&this._createPopup(this.container,a,this.data);this.container.appendChild(a);return this.container}},{key:"_download",value:function(){this.downloadManager?this.downloadManager.downloadData(this.content,
this.filename,""):(0,k.warn)("Download cannot be started due to unavailable download manager")}}]);return b}(v),d=function(){function a(){g(this,a)}o(a,null,[{key:"render",value:function(a){for(var b=0,c=a.annotations.length;b<c;b++){var e=a.annotations[b];e&&(e=s.create({data:e,layer:a.div,page:a.page,viewport:a.viewport,linkService:a.linkService,downloadManager:a.downloadManager,imageResourcesPath:a.imageResourcesPath||"",renderInteractiveForms:a.renderInteractiveForms||!1,svgFactory:new u.DOMSVGFactory}),
e.isRenderable&&a.div.appendChild(e.render()))}}},{key:"update",value:function(a){for(var b=0,c=a.annotations.length;b<c;b++){var e=a.div.querySelector('[data-annotation-id="'+a.annotations[b].id+'"]');e&&(e.style.transform="matrix("+a.viewport.transform.join(",")+")")}a.div.removeAttribute("hidden")}}]);return a}();b.AnnotationLayer=d},function(d,b,a){var h,j;Object.defineProperty(b,"__esModule",{value:!0});b.SVGGraphics=void 0;var g=a(1),t=a(123),o=(d=a(4))&&d.__esModule?d:{"default":d},d=function(){throw Error("Not implemented: SVGGraphics");
};h="normal";j="#000000";var u=function(){function a(b,c,f,g){var i=g,h=c.length;f[i]=h>>24&255;f[i+1]=h>>16&255;f[i+2]=h>>8&255;f[i+3]=h&255;i+=4;f[i]=b.charCodeAt(0)&255;f[i+1]=b.charCodeAt(1)&255;f[i+2]=b.charCodeAt(2)&255;f[i+3]=b.charCodeAt(3)&255;i+=4;f.set(c,i);i+=c.length;b=-1;for(g+=4;g<i;g++)b=b>>>8^d[(b^f[g])&255];g=b^-1;f[i]=g>>24&255;f[i+1]=g>>16&255;f[i+2]=g>>8&255;f[i+3]=g&255}for(var b=new Uint8Array([137,80,78,71,13,10,26,10]),d=new Int32Array(256),i=0;256>i;i++){for(var c=i,f=0;8>
f;f++)c=c&1?3988292384^c>>1&2147483647:c>>1&2147483647;d[i]=c}return function(c,e,d){var f=void 0===c.kind?g.ImageKind.GRAYSCALE_1BPP:c.kind,i=c.width,h=c.height,n,p,j,k=c.data;switch(f){case g.ImageKind.GRAYSCALE_1BPP:p=0;n=1;j=i+7>>3;break;case g.ImageKind.RGB_24BPP:p=2;n=8;j=3*i;break;case g.ImageKind.RGBA_32BPP:p=6;n=8;j=4*i;break;default:throw Error("invalid format");}var c=new Uint8Array((1+j)*h),t=0,u=0,E;for(E=0;E<h;++E)c[t++]=0,c.set(k.subarray(u,u+j),t),u+=j,t+=j;if(f===g.ImageKind.GRAYSCALE_1BPP&&
d)for(E=t=0;E<h;E++){t++;for(d=0;d<j;d++)c[t++]^=255}var i=new Uint8Array([i>>24&255,i>>16&255,i>>8&255,i&255,h>>24&255,h>>16&255,h>>8&255,h&255,n,p,0,0,0]),B;a:{if((0,o.default)())try{var C;C=8<=parseInt(process.versions.node)?c:new Buffer(c);var G=require("zlib").deflateSync(C,{level:9});B=G instanceof Uint8Array?G:new Uint8Array(G);break a}catch(J){(0,g.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+J)}G=c.length;B=Math.ceil(G/65535);B=new Uint8Array(2+G+5*B+4);C=0;B[C++]=
120;B[C++]=156;for(h=0;65535<G;)B[C++]=0,B[C++]=255,B[C++]=255,B[C++]=0,B[C++]=0,B.set(c.subarray(h,h+65535),C),C+=65535,h+=65535,G-=65535;B[C++]=1;B[C++]=G&255;B[C++]=G>>8&255;B[C++]=~G&255;B[C++]=(~G&65535)>>8&255;B.set(c.subarray(h),C);C+=c.length-h;G=1;for(d=h=0;d<c.length;++d)G=(G+(c[d]&255))%65521,h=(h+G)%65521;c=h<<16|G;B[C++]=c>>24&255;B[C++]=c>>16&255;B[C++]=c>>8&255;B[C++]=c&255}c=new Uint8Array(b.length+36+i.length+B.length);C=0;c.set(b,C);C+=b.length;a("IHDR",i,c,C);C+=12+i.length;a("IDATA",
B,c,C);C+=12+B.length;a("IEND",new Uint8Array(0),c,C);return(0,g.createObjectURL)(c,"image/png",e)}}(),k=function(){function a(){this.fontSizeScale=1;this.fontWeight=h;this.fontSize=0;this.textMatrix=g.IDENTITY_MATRIX;this.fontMatrix=g.FONT_IDENTITY_MATRIX;this.leading=0;this.textRenderingMode=g.TextRenderingMode.FILL;this.wordSpacing=this.charSpacing=this.lineY=this.lineX=this.y=this.x=0;this.textHScale=1;this.textRise=0;this.fillColor=j;this.strokeColor="#000000";this.lineWidth=this.strokeAlpha=
this.fillAlpha=1;this.lineCap=this.lineJoin="";this.miterLimit=0;this.dashArray=[];this.dashPhase=0;this.dependencies=[];this.clipGroup=this.activeClipUrl=null;this.maskId=""}a.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(a,b){this.x=a;this.y=b}};return a}();b.SVGGraphics=d=function(){function a(b){if(Number.isInteger(b))return b.toString();var b=b.toFixed(10),c=b.length-1;if("0"!==b[c])return b;do c--;while("0"===b[c]);return b.substr(0,"."===b[c]?c:c+1)}function b(c){if(0===
c[4]&&0===c[5]){if(0===c[1]&&0===c[2])return 1===c[0]&&1===c[3]?"":"scale("+a(c[0])+" "+a(c[3])+")";if(c[0]===c[3]&&c[1]===-c[2])return c=180*Math.acos(c[0])/Math.PI,"rotate("+a(c)+")"}else if(1===c[0]&&0===c[1]&&0===c[2]&&1===c[3])return"translate("+a(c[4])+" "+a(c[5])+")";return"matrix("+a(c[0])+" "+a(c[1])+" "+a(c[2])+" "+a(c[3])+" "+a(c[4])+" "+a(c[5])+")"}function d(a,b,c){this.svgFactory=new t.DOMSVGFactory;this.current=new k;this.transformMatrix=g.IDENTITY_MATRIX;this.transformStack=[];this.extraStack=
[];this.commonObjs=a;this.objs=b;this.pendingClip=null;this.embedFonts=this.pendingEOFill=!1;this.embeddedFonts=Object.create(null);this.cssStyle=null;this.forceDataSchema=!!c}var i=["butt","round","square"],c=["miter","round","bevel"],f=0,l=0;d.prototype={save:function(){this.transformStack.push(this.transformMatrix);var a=this.current;this.extraStack.push(a);this.current=a.clone()},restore:function(){this.transformMatrix=this.transformStack.pop();this.current=this.extraStack.pop();this.tgrp=this.pendingClip=
null},group:function(a){this.save();this.executeOpTree(a);this.restore()},loadDependencies:function(a){for(var b=this,c=a.fnArray,d=c.length,a=a.argsArray,f=0;f<d;f++)if(g.OPS.dependency===c[f])for(var i=a[f],h=0,l=i.length;h<l;h++){var n=i[h];this.current.dependencies.push("g_"===n.substring(0,2)?new Promise(function(a){b.commonObjs.get(n,a)}):new Promise(function(a){b.objs.get(n,a)}))}return Promise.all(this.current.dependencies)},transform:function(a,b,c,d,f,i){this.transformMatrix=g.Util.transform(this.transformMatrix,
[a,b,c,d,f,i]);this.tgrp=null},getSVG:function(a,b){var c=this;this.viewport=b;var d=this._initialize(b);return this.loadDependencies(a).then(function(){c.transformMatrix=g.IDENTITY_MATRIX;var b=c.convertOpList(a);c.executeOpTree(b);return d})},convertOpList:function(a){var b=a.argsArray,c=a.fnArray,d=c.length,f=[],a=[],i;for(i in g.OPS)f[g.OPS[i]]=i;for(i=0;i<d;i++){var h=c[i];a.push({fnId:h,fn:f[h],args:b[i]})}b=[];c=[];d=a.length;for(f=0;f<d;f++)"save"===a[f].fn?(b.push({fnId:92,fn:"group",items:[]}),
c.push(b),b=b[b.length-1].items):"restore"===a[f].fn?b=c.pop():b.push(a[f]);return b},executeOpTree:function(a){for(var b=a.length,c=0;c<b;c++){var d=a[c].fn,f=a[c].args;switch(a[c].fnId|0){case g.OPS.beginText:this.beginText();break;case g.OPS.dependency:break;case g.OPS.setLeading:this.setLeading(f);break;case g.OPS.setLeadingMoveText:this.setLeadingMoveText(f[0],f[1]);break;case g.OPS.setFont:this.setFont(f);break;case g.OPS.showText:this.showText(f[0]);break;case g.OPS.showSpacedText:this.showText(f[0]);
break;case g.OPS.endText:this.endText();break;case g.OPS.moveText:this.moveText(f[0],f[1]);break;case g.OPS.setCharSpacing:this.setCharSpacing(f[0]);break;case g.OPS.setWordSpacing:this.setWordSpacing(f[0]);break;case g.OPS.setHScale:this.setHScale(f[0]);break;case g.OPS.setTextMatrix:this.setTextMatrix(f[0],f[1],f[2],f[3],f[4],f[5]);break;case g.OPS.setTextRise:this.setTextRise(f[0]);break;case g.OPS.setTextRenderingMode:this.setTextRenderingMode(f[0]);break;case g.OPS.setLineWidth:this.setLineWidth(f[0]);
break;case g.OPS.setLineJoin:this.setLineJoin(f[0]);break;case g.OPS.setLineCap:this.setLineCap(f[0]);break;case g.OPS.setMiterLimit:this.setMiterLimit(f[0]);break;case g.OPS.setFillRGBColor:this.setFillRGBColor(f[0],f[1],f[2]);break;case g.OPS.setStrokeRGBColor:this.setStrokeRGBColor(f[0],f[1],f[2]);break;case g.OPS.setDash:this.setDash(f[0],f[1]);break;case g.OPS.setGState:this.setGState(f[0]);break;case g.OPS.fill:this.fill();break;case g.OPS.eoFill:this.eoFill();break;case g.OPS.stroke:this.stroke();
break;case g.OPS.fillStroke:this.fillStroke();break;case g.OPS.eoFillStroke:this.eoFillStroke();break;case g.OPS.clip:this.clip("nonzero");break;case g.OPS.eoClip:this.clip("evenodd");break;case g.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case g.OPS.paintJpegXObject:this.paintJpegXObject(f[0],f[1],f[2]);break;case g.OPS.paintImageXObject:this.paintImageXObject(f[0]);break;case g.OPS.paintInlineImageXObject:this.paintInlineImageXObject(f[0]);break;case g.OPS.paintImageMaskXObject:this.paintImageMaskXObject(f[0]);
break;case g.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(f[0],f[1]);break;case g.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case g.OPS.closePath:this.closePath();break;case g.OPS.closeStroke:this.closeStroke();break;case g.OPS.closeFillStroke:this.closeFillStroke();break;case g.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case g.OPS.nextLine:this.nextLine();break;case g.OPS.transform:this.transform(f[0],f[1],f[2],f[3],f[4],f[5]);break;case g.OPS.constructPath:this.constructPath(f[0],
f[1]);break;case g.OPS.endPath:this.endPath();break;case 92:this.group(a[c].items);break;default:(0,g.warn)("Unimplemented operator "+d)}}},setWordSpacing:function(a){this.current.wordSpacing=a},setCharSpacing:function(a){this.current.charSpacing=a},nextLine:function(){this.moveText(0,this.current.leading)},setTextMatrix:function(b,c,d,f,g,i){var h=this.current;this.current.textMatrix=this.current.lineMatrix=[b,c,d,f,g,i];this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0;h.xcoords=
[];h.tspan=this.svgFactory.createElement("svg:tspan");h.tspan.setAttributeNS(null,"font-family",h.fontFamily);h.tspan.setAttributeNS(null,"font-size",a(h.fontSize)+"px");h.tspan.setAttributeNS(null,"y",a(-h.y));h.txtElement=this.svgFactory.createElement("svg:text");h.txtElement.appendChild(h.tspan)},beginText:function(){this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0;this.current.textMatrix=g.IDENTITY_MATRIX;this.current.lineMatrix=g.IDENTITY_MATRIX;this.current.tspan=this.svgFactory.createElement("svg:tspan");
this.current.txtElement=this.svgFactory.createElement("svg:text");this.current.txtgrp=this.svgFactory.createElement("svg:g");this.current.xcoords=[]},moveText:function(b,c){var d=this.current;this.current.x=this.current.lineX+=b;this.current.y=this.current.lineY+=c;d.xcoords=[];d.tspan=this.svgFactory.createElement("svg:tspan");d.tspan.setAttributeNS(null,"font-family",d.fontFamily);d.tspan.setAttributeNS(null,"font-size",a(d.fontSize)+"px");d.tspan.setAttributeNS(null,"y",a(-d.y))},showText:function(c){var d=
this.current,f=d.font,i=d.fontSize;if(0!==i){var l=d.charSpacing,n=d.wordSpacing,p=d.fontDirection,k=d.textHScale*p,o=c.length,t=f.vertical,u=i*d.fontMatrix[0],E=0,B;for(B=0;B<o;++B){var C=c[B];if(null===C)E+=p*n;else if((0,g.isNum)(C))E+=0.001*-C*i;else{var G=C.fontChar,J=C.width*u+((C.isSpace?n:0)+l)*p;if(C.isInFont||f.missingFile)d.xcoords.push(d.x+E*k),d.tspan.textContent+=G;E+=J}}t?d.y-=E*k:d.x+=E*k;d.tspan.setAttributeNS(null,"x",d.xcoords.map(a).join(" "));d.tspan.setAttributeNS(null,"y",a(-d.y));
d.tspan.setAttributeNS(null,"font-family",d.fontFamily);d.tspan.setAttributeNS(null,"font-size",a(d.fontSize)+"px");"normal"!==d.fontStyle&&d.tspan.setAttributeNS(null,"font-style",d.fontStyle);d.fontWeight!==h&&d.tspan.setAttributeNS(null,"font-weight",d.fontWeight);c=d.textRenderingMode&g.TextRenderingMode.FILL_STROKE_MASK;c===g.TextRenderingMode.FILL||c===g.TextRenderingMode.FILL_STROKE?(d.fillColor!==j&&d.tspan.setAttributeNS(null,"fill",d.fillColor),1>d.fillAlpha&&d.tspan.setAttributeNS(null,
"fill-opacity",d.fillAlpha)):d.textRenderingMode===g.TextRenderingMode.ADD_TO_PATH?d.tspan.setAttributeNS(null,"fill","transparent"):d.tspan.setAttributeNS(null,"fill","none");(c===g.TextRenderingMode.STROKE||c===g.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(d.tspan);c=d.textMatrix;0!==d.textRise&&(c=c.slice(),c[5]+=d.textRise);d.txtElement.setAttributeNS(null,"transform",b(c)+" scale(1, -1)");d.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve");
d.txtElement.appendChild(d.tspan);d.txtgrp.appendChild(d.txtElement);this._ensureTransformGroup().appendChild(d.txtElement)}},setLeadingMoveText:function(a,b){this.setLeading(-b);this.moveText(a,b)},addFontStyle:function(a){this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var b=(0,g.createObjectURL)(a.data,a.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'+
a.loadedName+'"; src: url('+b+"); }\n"},setFont:function(b){var c=this.current,d=this.commonObjs.get(b[0]),b=b[1];this.current.font=d;this.embedFonts&&(d.data&&!this.embeddedFonts[d.loadedName])&&(this.addFontStyle(d),this.embeddedFonts[d.loadedName]=d);c.fontMatrix=d.fontMatrix?d.fontMatrix:g.FONT_IDENTITY_MATRIX;var f=d.black?d.bold?"bolder":"bold":d.bold?"bold":"normal",i=d.italic?"italic":"normal";0>b?(b=-b,c.fontDirection=-1):c.fontDirection=1;c.fontSize=b;c.fontFamily=d.loadedName;c.fontWeight=
f;c.fontStyle=i;c.tspan=this.svgFactory.createElement("svg:tspan");c.tspan.setAttributeNS(null,"y",a(-c.y));c.xcoords=[]},endText:function(){var a=this.current;a.textRenderingMode&g.TextRenderingMode.ADD_TO_PATH_FLAG&&(a.txtElement&&a.txtElement.hasChildNodes())&&(a.element=a.txtElement,this.clip("nonzero"),this.endPath())},setLineWidth:function(a){this.current.lineWidth=a},setLineCap:function(a){this.current.lineCap=i[a]},setLineJoin:function(a){this.current.lineJoin=c[a]},setMiterLimit:function(a){this.current.miterLimit=
a},setStrokeAlpha:function(a){this.current.strokeAlpha=a},setStrokeRGBColor:function(a,b,c){this.current.strokeColor=g.Util.makeCssRgb(a,b,c)},setFillAlpha:function(a){this.current.fillAlpha=a},setFillRGBColor:function(a,b,c){this.current.fillColor=g.Util.makeCssRgb(a,b,c);this.current.tspan=this.svgFactory.createElement("svg:tspan");this.current.xcoords=[]},setDash:function(a,b){this.current.dashArray=a;this.current.dashPhase=b},constructPath:function(b,c){var d=this.current,f=d.x,i=d.y;d.path=this.svgFactory.createElement("svg:path");
for(var h=[],l=b.length,n=0,j=0;n<l;n++)switch(b[n]|0){case g.OPS.rectangle:var f=c[j++],i=c[j++],k=c[j++],o=c[j++],k=f+k,o=i+o;h.push("M",a(f),a(i),"L",a(k),a(i),"L",a(k),a(o),"L",a(f),a(o),"Z");break;case g.OPS.moveTo:f=c[j++];i=c[j++];h.push("M",a(f),a(i));break;case g.OPS.lineTo:f=c[j++];i=c[j++];h.push("L",a(f),a(i));break;case g.OPS.curveTo:f=c[j+4];i=c[j+5];h.push("C",a(c[j]),a(c[j+1]),a(c[j+2]),a(c[j+3]),a(f),a(i));j+=6;break;case g.OPS.curveTo2:f=c[j+2];i=c[j+3];h.push("C",a(f),a(i),a(c[j]),
a(c[j+1]),a(c[j+2]),a(c[j+3]));j+=4;break;case g.OPS.curveTo3:f=c[j+2];i=c[j+3];h.push("C",a(c[j]),a(c[j+1]),a(f),a(i),a(f),a(i));j+=4;break;case g.OPS.closePath:h.push("Z")}d.path.setAttributeNS(null,"d",h.join(" "));d.path.setAttributeNS(null,"fill","none");this._ensureTransformGroup().appendChild(d.path);d.element=d.path;d.setCurrentPoint(f,i)},endPath:function(){if(this.pendingClip){var a=this.current,c="clippath"+f;f++;var d=this.svgFactory.createElement("svg:clipPath");d.setAttributeNS(null,
"id",c);d.setAttributeNS(null,"transform",b(this.transformMatrix));var g=a.element.cloneNode(!0);"evenodd"===this.pendingClip?g.setAttributeNS(null,"clip-rule","evenodd"):g.setAttributeNS(null,"clip-rule","nonzero");this.pendingClip=null;d.appendChild(g);this.defs.appendChild(d);a.activeClipUrl&&(a.clipGroup=null,this.extraStack.forEach(function(a){a.clipGroup=null}),d.setAttributeNS(null,"clip-path",a.activeClipUrl));a.activeClipUrl="url(#"+c+")";this.tgrp=null}},clip:function(a){this.pendingClip=
a},closePath:function(){var a=this.current;if(a.path){var b=a.path.getAttributeNS(null,"d");a.path.setAttributeNS(null,"d",b+"Z")}},setLeading:function(a){this.current.leading=-a},setTextRise:function(a){this.current.textRise=a},setTextRenderingMode:function(a){this.current.textRenderingMode=a},setHScale:function(a){this.current.textHScale=a/100},setGState:function(a){for(var b=0,c=a.length;b<c;b++){var d=a[b],f=d[0],d=d[1];switch(f){case "LW":this.setLineWidth(d);break;case "LC":this.setLineCap(d);
break;case "LJ":this.setLineJoin(d);break;case "ML":this.setMiterLimit(d);break;case "D":this.setDash(d[0],d[1]);break;case "Font":this.setFont(d);break;case "CA":this.setStrokeAlpha(d);break;case "ca":this.setFillAlpha(d);break;default:(0,g.warn)("Unimplemented graphic state "+f)}}},fill:function(){var a=this.current;a.element&&(a.element.setAttributeNS(null,"fill",a.fillColor),a.element.setAttributeNS(null,"fill-opacity",a.fillAlpha),this.endPath())},stroke:function(){var a=this.current;a.element&&
(this._setStrokeAttributes(a.element),a.element.setAttributeNS(null,"fill","none"),this.endPath())},_setStrokeAttributes:function(b){var c=this.current;b.setAttributeNS(null,"stroke",c.strokeColor);b.setAttributeNS(null,"stroke-opacity",c.strokeAlpha);b.setAttributeNS(null,"stroke-miterlimit",a(c.miterLimit));b.setAttributeNS(null,"stroke-linecap",c.lineCap);b.setAttributeNS(null,"stroke-linejoin",c.lineJoin);b.setAttributeNS(null,"stroke-width",a(c.lineWidth)+"px");b.setAttributeNS(null,"stroke-dasharray",
c.dashArray.map(a).join(" "));b.setAttributeNS(null,"stroke-dashoffset",a(c.dashPhase)+"px")},eoFill:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd");this.fill()},fillStroke:function(){this.stroke();this.fill()},eoFillStroke:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd");this.fillStroke()},closeStroke:function(){this.closePath();this.stroke()},closeFillStroke:function(){this.closePath();this.fillStroke()},
closeEOFillStroke:function(){this.closePath();this.eoFillStroke()},paintSolidColorImageMask:function(){var a=this.current,b=this.svgFactory.createElement("svg:rect");b.setAttributeNS(null,"x","0");b.setAttributeNS(null,"y","0");b.setAttributeNS(null,"width","1px");b.setAttributeNS(null,"height","1px");b.setAttributeNS(null,"fill",a.fillColor);this._ensureTransformGroup().appendChild(b)},paintJpegXObject:function(b,c,d){var b=this.objs.get(b),f=this.svgFactory.createElement("svg:image");f.setAttributeNS("http://www.w3.org/1999/xlink",
"xlink:href",b.src);f.setAttributeNS(null,"width",a(c));f.setAttributeNS(null,"height",a(d));f.setAttributeNS(null,"x","0");f.setAttributeNS(null,"y",a(-d));f.setAttributeNS(null,"transform","scale("+a(1/c)+" "+a(-1/d)+")");this._ensureTransformGroup().appendChild(f)},paintImageXObject:function(a){(a=this.objs.get(a))?this.paintInlineImageXObject(a):(0,g.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(b,c){var d=b.width,f=b.height,g=u(b,this.forceDataSchema,!!c),i=this.svgFactory.createElement("svg:rect");
i.setAttributeNS(null,"x","0");i.setAttributeNS(null,"y","0");i.setAttributeNS(null,"width",a(d));i.setAttributeNS(null,"height",a(f));this.current.element=i;this.clip("nonzero");i=this.svgFactory.createElement("svg:image");i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);i.setAttributeNS(null,"x","0");i.setAttributeNS(null,"y",a(-f));i.setAttributeNS(null,"width",a(d)+"px");i.setAttributeNS(null,"height",a(f)+"px");i.setAttributeNS(null,"transform","scale("+a(1/d)+" "+a(-1/f)+")");
c?c.appendChild(i):this._ensureTransformGroup().appendChild(i)},paintImageMaskXObject:function(b){var c=this.current,d=b.width,f=b.height,g=c.fillColor;c.maskId="mask"+l++;var i=this.svgFactory.createElement("svg:mask");i.setAttributeNS(null,"id",c.maskId);var h=this.svgFactory.createElement("svg:rect");h.setAttributeNS(null,"x","0");h.setAttributeNS(null,"y","0");h.setAttributeNS(null,"width",a(d));h.setAttributeNS(null,"height",a(f));h.setAttributeNS(null,"fill",g);h.setAttributeNS(null,"mask",
"url(#"+c.maskId+")");this.defs.appendChild(i);this._ensureTransformGroup().appendChild(h);this.paintInlineImageXObject(b,i)},paintFormXObjectBegin:function(b,c){Array.isArray(b)&&6===b.length&&this.transform(b[0],b[1],b[2],b[3],b[4],b[5]);if(Array.isArray(c)&&4===c.length){var d=c[2]-c[0],f=c[3]-c[1],g=this.svgFactory.createElement("svg:rect");g.setAttributeNS(null,"x",c[0]);g.setAttributeNS(null,"y",c[1]);g.setAttributeNS(null,"width",a(d));g.setAttributeNS(null,"height",a(f));this.current.element=
g;this.clip("nonzero");this.endPath()}},paintFormXObjectEnd:function(){},_initialize:function(a){var c=this.svgFactory.create(a.width,a.height),d=this.svgFactory.createElement("svg:defs");c.appendChild(d);this.defs=d;d=this.svgFactory.createElement("svg:g");d.setAttributeNS(null,"transform",b(a.transform));c.appendChild(d);this.svg=d;return c},_ensureClipGroup:function(){if(!this.current.clipGroup){var a=this.svgFactory.createElement("svg:g");a.setAttributeNS(null,"clip-path",this.current.activeClipUrl);
this.svg.appendChild(a);this.current.clipGroup=a}return this.current.clipGroup},_ensureTransformGroup:function(){this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",b(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp));return this.tgrp}};return d}();b.SVGGraphics=d},function(d,b,a){function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return b&&("object"===typeof b||"function"===typeof b)?b:a}function j(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function g(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(e,f){try{var g=b[e](f),
i=g.value}catch(h){c(h);return}if(g.done)a(i);else return Promise.resolve(i).then(function(a){d("next",a)},function(a){d("throw",a)})}return d("next")})}}function t(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function o(a,b){return{protocol:a.protocol,auth:a.auth,host:a.hostname,port:a.port,path:a.path,method:"GET",headers:b}}Object.defineProperty(b,"__esModule",{value:!0});b.PDFNodeStream=void 0;var u=(d=a(130))&&d.__esModule?d:{"default":d},k=function(){function a(b,
c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),s=a(1),v=a(142),n=require("fs"),i=require("http"),c=require("https"),f=require("url"),l=/^file:\/\/\/[a-zA-Z]:\//,a=function(){function a(b){t(this,a);this.source=b;var c;c=b.url;var d=f.parse(c);"file:"===d.protocol||d.host?c=d:/^[a-z]:[/\\]/i.test(c)?c=f.parse("file:///"+c):(d.host||
(d.protocol="file:"),c=d);this.url=c;this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol;this.isFsUrl="file:"===this.url.protocol;this.httpHeaders=this.isHttp&&b.httpHeaders||{};this._fullRequest=null;this._rangeRequestReaders=[]}k(a,[{key:"getFullReader",value:function(){(0,s.assert)(!this._fullRequest);return this._fullRequest=this.isFsUrl?new r(this):new q(this)}},{key:"getRangeReader",value:function(a,b){var c=this.isFsUrl?new z(this,a,b):new m(this,a,b);this._rangeRequestReaders.push(c);
return c}},{key:"cancelAllRequests",value:function(a){this._fullRequest&&this._fullRequest.cancel(a);this._rangeRequestReaders.slice(0).forEach(function(b){b.cancel(a)})}}]);return a}(),d=function(){function a(b){t(this,a);this._url=b.url;this._done=!1;this.onProgress=this._storedError=null;b=b.source;this._contentLength=b.length;this._loaded=0;this._filename=null;this._disableRange=b.disableRange||!1;this._rangeChunkSize=b.rangeChunkSize;!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=
!0);this._isStreamingSupported=!b.disableStream;this._isRangeSupported=!b.disableRange;this._readableStream=null;this._readCapability=(0,s.createPromiseCapability)();this._headersCapability=(0,s.createPromiseCapability)()}k(a,[{key:"read",value:function(){var a=g(u.default.mark(function x(){var a,b;return u.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this._readCapability.promise;case 2:if(!this._done){c.next=4;break}return c.abrupt("return",{value:void 0,done:!0});
case 4:if(!this._storedError){c.next=6;break}throw this._storedError;case 6:a=this._readableStream.read();if(null!==a){c.next=10;break}this._readCapability=(0,s.createPromiseCapability)();return c.abrupt("return",this.read());case 10:this._loaded+=a.length;if(this.onProgress)this.onProgress({loaded:this._loaded,total:this._contentLength});b=(new Uint8Array(a)).buffer;return c.abrupt("return",{value:b,done:!1});case 14:case "end":return c.stop()}},x,this)}));return function(){return a.apply(this,arguments)}}()},
{key:"cancel",value:function(a){this._readableStream?this._readableStream.destroy(a):this._error(a)}},{key:"_error",value:function(a){this._storedError=a;this._readCapability.resolve()}},{key:"_setReadableStream",value:function(a){var b=this;this._readableStream=a;a.on("readable",function(){b._readCapability.resolve()});a.on("end",function(){a.destroy();b._done=!0;b._readCapability.resolve()});a.on("error",function(a){b._error(a)});!this._isStreamingSupported&&this._isRangeSupported&&this._error(new s.AbortException("streaming is disabled"));
this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return a}(),e=function(){function a(b){t(this,a);this._url=b.url;this._done=!1;this.onProgress=
this._storedError=null;this._loaded=0;this._readableStream=null;this._readCapability=(0,s.createPromiseCapability)();this._isStreamingSupported=!b.source.disableStream}k(a,[{key:"read",value:function(){var a=g(u.default.mark(function x(){var a,b;return u.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this._readCapability.promise;case 2:if(!this._done){c.next=4;break}return c.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){c.next=6;break}throw this._storedError;
case 6:a=this._readableStream.read();if(null!==a){c.next=10;break}this._readCapability=(0,s.createPromiseCapability)();return c.abrupt("return",this.read());case 10:this._loaded+=a.length;if(this.onProgress)this.onProgress({loaded:this._loaded});b=(new Uint8Array(a)).buffer;return c.abrupt("return",{value:b,done:!1});case 14:case "end":return c.stop()}},x,this)}));return function(){return a.apply(this,arguments)}}()},{key:"cancel",value:function(a){this._readableStream?this._readableStream.destroy(a):
this._error(a)}},{key:"_error",value:function(a){this._storedError=a;this._readCapability.resolve()}},{key:"_setReadableStream",value:function(a){var b=this;this._readableStream=a;a.on("readable",function(){b._readCapability.resolve()});a.on("end",function(){a.destroy();b._done=!0;b._readCapability.resolve()});a.on("error",function(a){b._error(a)});this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);
return a}(),q=function(a){function b(a){t(this,b);var d=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),e=function(b){if(404===b.statusCode)b=new s.MissingPDFException('Missing PDF "'+d._url+'".'),d._storedError=b,d._headersCapability.reject(b);else{d._headersCapability.resolve();d._setReadableStream(b);var b=function(a){return d._readableStream.headers[a.toLowerCase()]},c=(0,v.validateRangeRequestCapabilities)({getResponseHeader:b,isHttp:a.isHttp,rangeChunkSize:d._rangeChunkSize,disableRange:d._disableRange}),
e=c.suggestedLength;d._isRangeSupported=c.allowRangeRequests;d._contentLength=e||d._contentLength;d._filename=(0,v.extractFilenameFromHeader)(b)}};d._request=null;d._request="http:"===d._url.protocol?i.request(o(d._url,a.httpHeaders),e):c.request(o(d._url,a.httpHeaders),e);d._request.on("error",function(a){d._storedError=a;d._headersCapability.reject(a)});d._request.end();return d}j(b,a);return b}(d),m=function(a){function b(a,d,e){t(this,b);var f=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,
a));f._httpHeaders={};for(var g in a.httpHeaders){var l=a.httpHeaders[g];"undefined"!==typeof l&&(f._httpHeaders[g]=l)}f._httpHeaders.Range="bytes="+d+"-"+(e-1);a=function(a){404===a.statusCode?(a=new s.MissingPDFException('Missing PDF "'+f._url+'".'),f._storedError=a):f._setReadableStream(a)};f._request=null;f._request="http:"===f._url.protocol?i.request(o(f._url,f._httpHeaders),a):c.request(o(f._url,f._httpHeaders),a);f._request.on("error",function(a){f._storedError=a});f._request.end();return f}
j(b,a);return b}(e),r=function(a){function b(a){t(this,b);var c=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),d=decodeURIComponent(c._url.path);l.test(c._url.href)&&(d=d.replace(/^\//,""));n.lstat(d,function(a,b){a?("ENOENT"===a.code&&(a=new s.MissingPDFException('Missing PDF "'+d+'".')),c._storedError=a,c._headersCapability.reject(a)):(c._contentLength=b.size,c._setReadableStream(n.createReadStream(d)),c._headersCapability.resolve())});return c}j(b,a);return b}(d),z=function(a){function b(a,
c,d){t(this,b);var a=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),e=decodeURIComponent(a._url.path);l.test(a._url.href)&&(e=e.replace(/^\//,""));a._setReadableStream(n.createReadStream(e,{start:c,end:d-1}));return a}j(b,a);return b}(e);b.PDFNodeStream=a},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.validateResponseStatus=b.validateRangeRequestCapabilities=b.extractFilenameFromHeader=b.createResponseStatusError=void 0;var h=a(1),j=a(143);b.createResponseStatusError=
function(a,b){return 404===a||0===a&&/^file:/.test(b)?new h.MissingPDFException('Missing PDF "'+b+'".'):new h.UnexpectedResponseException("Unexpected server response ("+a+') while retrieving PDF "'+b+'".',a)};b.extractFilenameFromHeader=function(a){if(a=a("Content-Disposition"))if(a=(0,j.getFilenameFromContentDispositionHeader)(a),/\.pdf$/i.test(a))return a;return null};b.validateRangeRequestCapabilities=function(a){var b=a.getResponseHeader,d=a.isHttp,j=a.rangeChunkSize,k=a.disableRange;(0,h.assert)(0<
j,"Range chunk size must be larger than zero");a={allowRangeRequests:!1,suggestedLength:void 0};if(k||!d||"bytes"!==b("Accept-Ranges")||"identity"!==(b("Content-Encoding")||"identity"))return a;b=parseInt(b("Content-Length"),10);if(!Number.isInteger(b))return a;a.suggestedLength=b;if(b<=2*j)return a;a.allowRangeRequests=!0;return a};b.validateResponseStatus=function(a){return 200===a||206===a}},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});var a=function(){return function(a,b){if(Array.isArray(a))return a;
if(Symbol.iterator in Object(a)){var d=[],t=!0,o=!1,u=void 0;try{for(var k=a[Symbol.iterator](),s;!(t=(s=k.next()).done)&&!(d.push(s.value),b&&d.length===b);t=!0);}catch(v){o=!0,u=v}finally{try{if(!t&&k["return"])k["return"]()}finally{if(o)throw u;}}return d}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();b.getFilenameFromContentDispositionHeader=function(b){function d(a,b){return RegExp("(?:^|;)\\s*"+a+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',b)}function g(a,
b){if(a){if(!/^[\x00-\xFF]+$/.test(b))return b;try{for(var c=new TextDecoder(a,{fatal:!0}),d=Array(b.length),g=0;g<b.length;++g)d[g]=b.charCodeAt(g);b=c.decode(new Uint8Array(d));s=!1}catch(e){if(/^utf-?8$/i.test(a))try{b=decodeURIComponent(escape(b)),s=!1}catch(h){}}}return b}function t(a){s&&/[\x80-\xff]/.test(a)&&(a=g("utf-8",a),s&&(a=g("iso-8859-1",a)));return a}function o(a){if('"'===a.charAt(0)){for(var a=a.slice(1).split('\\"'),b=0;b<a.length;++b){var c=a[b].indexOf('"');-1!==c&&(a[b]=a[b].slice(0,
c),a.length=b+1);a[b]=a[b].replace(/\\(.)/g,"$1")}a=a.join('"')}return a}function u(a){var b=a.indexOf("'");if(-1===b)return a;var c=a.slice(0,b),a=a.slice(b+1).replace(/^[^']*'/,"");return g(c,a)}function k(a){return"=?"!==a.slice(0,2)||/[\x00-\x19\x80-\xff]/.test(a)?a:a.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(a,b,d,h){if("q"===d||"Q"===d)return h=h.replace(/_/g," "),h=h.replace(/=([0-9a-fA-F]{2})/g,function(a,b){return String.fromCharCode(parseInt(b,16))}),g(b,h);try{h=
atob(h)}catch(e){}return g(b,h)})}var s=!0,v=d("filename\\*","i").exec(b);return v?(v=v[1],b=o(v),b=unescape(b),b=u(b),b=k(b),t(b)):(v=function(b){for(var g=[],c=void 0,f=d("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(c=f.exec(b));){var h=a(c,4),c=h[1],e=h[2],h=h[3],c=parseInt(c,10);if(c in g){if(0===c)break}else g[c]=[e,h]}b=[];for(f=0;f<g.length&&f in g;++f)e=a(g[f],2),c=e[0],e=e[1],e=o(e),c&&(e=unescape(e),0===f&&(e=u(e))),b.push(e);return b.join("")}(b))?(b=k(v),t(b)):(v=d("filename","i").exec(b))?
(v=v[1],b=o(v),b=k(b),t(b)):""}},function(d,b,a){function h(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,d){function g(e,h){try{var m=b[e](h),j=m.value}catch(k){d(k);return}if(m.done)a(j);else return Promise.resolve(j).then(function(a){g("next",a)},function(a){g("throw",a)})}return g("next")})}}function j(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function g(a,b,c){return{method:"GET",headers:a,signal:c&&c.signal,mode:"cors",
credentials:b?"include":"same-origin",redirect:"follow"}}Object.defineProperty(b,"__esModule",{value:!0});b.PDFFetchStream=void 0;var t=(d=a(130))&&d.__esModule?d:{"default":d},o=function(){function a(b,c){for(var d=0;d<c.length;d++){var g=c[d];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(b,g.key,g)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),u=a(1),k=a(142),a=function(){function a(b){j(this,a);this.source=b;this.httpHeaders=
(this.isHttp=/^https?:/i.test(b.url))&&b.httpHeaders||{};this._fullRequestReader=null;this._rangeRequestReaders=[]}o(a,[{key:"getFullReader",value:function(){(0,u.assert)(!this._fullRequestReader);return this._fullRequestReader=new s(this)}},{key:"getRangeReader",value:function(a,b){var d=new v(this,a,b);this._rangeRequestReaders.push(d);return d}},{key:"cancelAllRequests",value:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);this._rangeRequestReaders.slice(0).forEach(function(b){b.cancel(a)})}}]);
return a}(),s=function(){function a(b){var c=this;j(this,a);this._stream=b;this._reader=null;this._loaded=0;this._filename=null;b=b.source;this._withCredentials=b.withCredentials;this._contentLength=b.length;this._headersCapability=(0,u.createPromiseCapability)();this._disableRange=b.disableRange||!1;this._rangeChunkSize=b.rangeChunkSize;!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0);"undefined"!==typeof AbortController&&(this._abortController=new AbortController);this._isStreamingSupported=
!b.disableStream;this._isRangeSupported=!b.disableRange;this._headers=new Headers;for(var d in this._stream.httpHeaders){var h=this._stream.httpHeaders[d];"undefined"!==typeof h&&this._headers.append(d,h)}var e=b.url;fetch(e,g(this._headers,this._withCredentials,this._abortController)).then(function(a){if(!(0,k.validateResponseStatus)(a.status))throw(0,k.createResponseStatusError)(a.status,e);c._reader=a.body.getReader();c._headersCapability.resolve();var b=function(b){return a.headers.get(b)},d=
(0,k.validateRangeRequestCapabilities)({getResponseHeader:b,isHttp:c._stream.isHttp,rangeChunkSize:c._rangeChunkSize,disableRange:c._disableRange}),f=d.suggestedLength;c._isRangeSupported=d.allowRangeRequests;c._contentLength=f||c._contentLength;c._filename=(0,k.extractFilenameFromHeader)(b);!c._isStreamingSupported&&c._isRangeSupported&&c.cancel(new u.AbortException("streaming is disabled"))}).catch(this._headersCapability.reject);this.onProgress=null}o(a,[{key:"read",value:function(){var a=h(t.default.mark(function f(){var a,
b,d,g;return t.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,this._headersCapability.promise;case 2:return f.next=4,this._reader.read();case 4:a=f.sent;b=a.value;d=a.done;if(!d){f.next=9;break}return f.abrupt("return",{value:b,done:d});case 9:this._loaded+=b.byteLength;if(this.onProgress)this.onProgress({loaded:this._loaded,total:this._contentLength});g=(new Uint8Array(b)).buffer;return f.abrupt("return",{value:g,done:!1});case 13:case "end":return f.stop()}},f,this)}));
return function(){return a.apply(this,arguments)}}()},{key:"cancel",value:function(a){this._reader&&this._reader.cancel(a);this._abortController&&this._abortController.abort()}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);
return a}(),v=function(){function a(b,c,d){var h=this;j(this,a);this._stream=b;this._reader=null;this._loaded=0;b=b.source;this._withCredentials=b.withCredentials;this._readCapability=(0,u.createPromiseCapability)();this._isStreamingSupported=!b.disableStream;"undefined"!==typeof AbortController&&(this._abortController=new AbortController);this._headers=new Headers;for(var e in this._stream.httpHeaders){var o=this._stream.httpHeaders[e];"undefined"!==typeof o&&this._headers.append(e,o)}this._headers.append("Range",
"bytes="+(c+"-"+(d-1)));var m=b.url;fetch(m,g(this._headers,this._withCredentials,this._abortController)).then(function(a){if(!(0,k.validateResponseStatus)(a.status))throw(0,k.createResponseStatusError)(a.status,m);h._readCapability.resolve();h._reader=a.body.getReader()});this.onProgress=null}o(a,[{key:"read",value:function(){var a=h(t.default.mark(function f(){var a,b,d,g;return t.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,this._readCapability.promise;case 2:return f.next=
4,this._reader.read();case 4:a=f.sent;b=a.value;d=a.done;if(!d){f.next=9;break}return f.abrupt("return",{value:b,done:d});case 9:this._loaded+=b.byteLength;if(this.onProgress)this.onProgress({loaded:this._loaded});g=(new Uint8Array(b)).buffer;return f.abrupt("return",{value:g,done:!1});case 13:case "end":return f.stop()}},f,this)}));return function(){return a.apply(this,arguments)}}()},{key:"cancel",value:function(a){this._reader&&this._reader.cancel(a);this._abortController&&this._abortController.abort()}},
{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return a}();b.PDFFetchStream=a},function(d,b,a){function h(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(g,h){try{var i=b[g](h),j=i.value}catch(k){c(k);return}if(i.done)a(j);else return Promise.resolve(j).then(function(a){d("next",a)},function(a){d("throw",a)})}return d("next")})}}function j(a,b){this.url=a;b=b||{};this.httpHeaders=(this.isHttp=/^https?:/i.test(a))&&b.httpHeaders||
{};this.withCredentials=b.withCredentials||!1;this.getXhr=b.getXhr||function(){return new XMLHttpRequest};this.currXhrId=0;this.pendingRequests=Object.create(null);this.loadedRequests=Object.create(null)}function g(a){a=a.response;return"string"!==typeof a?a:(0,s.stringToBytes)(a).buffer}function t(a){this._source=a;this._manager=new j(a.url,{httpHeaders:a.httpHeaders,withCredentials:a.withCredentials});this._rangeChunkSize=a.rangeChunkSize;this._fullRequestReader=null;this._rangeRequestReaders=[]}
function o(a,b){this._manager=a;var d={onHeadersReceived:this._onHeadersReceived.bind(this),onProgressiveData:b.disableStream?null:this._onProgressiveData.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=b.url;this._fullRequestId=a.requestFull(d);this._headersReceivedCapability=(0,s.createPromiseCapability)();this._disableRange=b.disableRange||!1;this._contentLength=b.length;this._rangeChunkSize=b.rangeChunkSize;!this._rangeChunkSize&&
!this._disableRange&&(this._disableRange=!0);this._isRangeSupported=this._isStreamingSupported=!1;this._cachedChunks=[];this._requests=[];this._done=!1;this._storedError=void 0;this.onProgress=this._filename=null}function u(a,b,d){this._manager=a;var e={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=a.requestRange(b,d,e);this._requests=[];this._queuedChunk=null;this._done=!1;this.onClosed=this.onProgress=null}Object.defineProperty(b,"__esModule",{value:!0});
b.NetworkManager=b.PDFNetworkStream=void 0;var k=(d=a(130))&&d.__esModule?d:{"default":d},s=a(1),v=a(142),n=(a=a(3))&&a.__esModule?a:{"default":a},i=function(){try{var a=new XMLHttpRequest;a.open("GET",n.default.location.href);a.responseType="moz-chunked-arraybuffer";return"moz-chunked-arraybuffer"===a.responseType}catch(b){return!1}}();j.prototype={requestRange:function(a,b,d){var a={begin:a,end:b},e;for(e in d)a[e]=d[e];return this.request(a)},requestFull:function(a){return this.request(a)},request:function(a){var b=
this.getXhr(),d=this.currXhrId++,e=this.pendingRequests[d]={xhr:b};b.open("GET",this.url);b.withCredentials=this.withCredentials;for(var g in this.httpHeaders){var h=this.httpHeaders[g];"undefined"!==typeof h&&b.setRequestHeader(g,h)}this.isHttp&&"begin"in a&&"end"in a?(b.setRequestHeader("Range","bytes="+(a.begin+"-"+(a.end-1))),e.expectedStatus=206):e.expectedStatus=200;i&&a.onProgressiveData?(b.responseType="moz-chunked-arraybuffer",e.onProgressiveData=a.onProgressiveData,e.mozChunked=!0):b.responseType=
"arraybuffer";a.onError&&(b.onerror=function(){a.onError(b.status)});b.onreadystatechange=this.onStateChange.bind(this,d);b.onprogress=this.onProgress.bind(this,d);e.onHeadersReceived=a.onHeadersReceived;e.onDone=a.onDone;e.onError=a.onError;e.onProgress=a.onProgress;b.send(null);return d},onProgress:function(a,b){var d=this.pendingRequests[a];if(d){if(d.mozChunked){var e=g(d.xhr);d.onProgressiveData(e)}(d=d.onProgress)&&d(b)}},onStateChange:function(a){var b=this.pendingRequests[a];if(b){var d=b.xhr;
2<=d.readyState&&b.onHeadersReceived&&(b.onHeadersReceived(),delete b.onHeadersReceived);if(4===d.readyState&&a in this.pendingRequests)if(delete this.pendingRequests[a],0===d.status&&this.isHttp){if(b.onError)b.onError(d.status)}else{var e=d.status||200;if(!(200===e&&206===b.expectedStatus)&&e!==b.expectedStatus){if(b.onError)b.onError(d.status)}else if(this.loadedRequests[a]=!0,a=g(d),206===e)d=/bytes (\d+)-(\d+)\/(\d+)/.exec(d.getResponseHeader("Content-Range")),d=parseInt(d[1],10),b.onDone({begin:d,
chunk:a});else if(b.onProgressiveData)b.onDone(null);else if(a)b.onDone({begin:0,chunk:a});else if(b.onError)b.onError(d.status)}}},hasPendingRequests:function(){for(var a in this.pendingRequests)return!0;return!1},getRequestXhr:function(a){return this.pendingRequests[a].xhr},isStreamingRequest:function(a){return!!this.pendingRequests[a].onProgressiveData},isPendingRequest:function(a){return a in this.pendingRequests},isLoadedRequest:function(a){return a in this.loadedRequests},abortAllRequests:function(){for(var a in this.pendingRequests)this.abortRequest(a|
0)},abortRequest:function(a){var b=this.pendingRequests[a].xhr;delete this.pendingRequests[a];b.abort()}};t.prototype={_onRangeRequestReaderClosed:function(a){a=this._rangeRequestReaders.indexOf(a);0<=a&&this._rangeRequestReaders.splice(a,1)},getFullReader:function(){(0,s.assert)(!this._fullRequestReader);return this._fullRequestReader=new o(this._manager,this._source)},getRangeReader:function(a,b){var d=new u(this._manager,a,b);d.onClosed=this._onRangeRequestReaderClosed.bind(this);this._rangeRequestReaders.push(d);
return d},cancelAllRequests:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);this._rangeRequestReaders.slice(0).forEach(function(b){b.cancel(a)})}};o.prototype={_onHeadersReceived:function(){var a=this._fullRequestId,b=this._manager.getRequestXhr(a),d=function(a){return b.getResponseHeader(a)},e=(0,v.validateRangeRequestCapabilities)({getResponseHeader:d,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),g=e.suggestedLength;e.allowRangeRequests&&
(this._isRangeSupported=!0);this._contentLength=g||this._contentLength;this._filename=(0,v.extractFilenameFromHeader)(d);d=this._manager;d.isStreamingRequest(a)?this._isStreamingSupported=!0:this._isRangeSupported&&d.abortRequest(a);this._headersReceivedCapability.resolve()},_onProgressiveData:function(a){0<this._requests.length?this._requests.shift().resolve({value:a,done:!1}):this._cachedChunks.push(a)},_onDone:function(a){a&&this._onProgressiveData(a.chunk);this._done=!0;0<this._cachedChunks.length||
(this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[])},_onError:function(a){var b=this._url,d=(0,v.createResponseStatusError)(a,b);this._storedError=d;this._headersReceivedCapability.reject(d);this._requests.forEach(function(a){a.reject(d)});this._requests=[];this._cachedChunks=[]},_onProgress:function(a){if(this.onProgress)this.onProgress({loaded:a.loaded,total:a.lengthComputable?a.total:this._contentLength})},get filename(){return this._filename},get isRangeSupported(){return this._isRangeSupported},
get isStreamingSupported(){return this._isStreamingSupported},get contentLength(){return this._contentLength},get headersReady(){return this._headersReceivedCapability.promise},read:function(){var a=h(k.default.mark(function l(){var a,b;return k.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this._storedError){c.next=2;break}throw this._storedError;case 2:if(!(0<this._cachedChunks.length)){c.next=5;break}a=this._cachedChunks.shift();return c.abrupt("return",{value:a,done:!1});case 5:if(!this._done){c.next=
7;break}return c.abrupt("return",{value:void 0,done:!0});case 7:return b=(0,s.createPromiseCapability)(),this._requests.push(b),c.abrupt("return",b.promise);case 10:case "end":return c.stop()}},l,this)}));return function(){return a.apply(this,arguments)}}(),cancel:function(a){this._done=!0;this._headersReceivedCapability.reject(a);this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[];this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId);
this._fullRequestReader=null}};u.prototype={_close:function(){if(this.onClosed)this.onClosed(this)},_onDone:function(a){a=a.chunk;0<this._requests.length?this._requests.shift().resolve({value:a,done:!1}):this._queuedChunk=a;this._done=!0;this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[];this._close()},_onProgress:function(a){if(!this.isStreamingSupported&&this.onProgress)this.onProgress({loaded:a.loaded})},get isStreamingSupported(){return!1},read:function(){var a=
h(k.default.mark(function l(){var a,b;return k.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(null===this._queuedChunk){c.next=4;break}a=this._queuedChunk;this._queuedChunk=null;return c.abrupt("return",{value:a,done:!1});case 4:if(!this._done){c.next=6;break}return c.abrupt("return",{value:void 0,done:!0});case 6:return b=(0,s.createPromiseCapability)(),this._requests.push(b),c.abrupt("return",b.promise);case 9:case "end":return c.stop()}},l,this)}));return function(){return a.apply(this,
arguments)}}(),cancel:function(){this._done=!0;this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[];this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId);this._close()}};b.PDFNetworkStream=t;b.NetworkManager=j}])});
