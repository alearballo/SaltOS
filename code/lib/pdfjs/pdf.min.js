(function(g,d){"object"===typeof exports&&"object"===typeof module?module.exports=d():"function"===typeof define&&define.amd?define("pdfjs-dist/build/pdf",[],d):"object"===typeof exports?exports["pdfjs-dist/build/pdf"]=d():g["pdfjs-dist/build/pdf"]=g.pdfjsDistBuildPdf=d()})(this,function(){return function(g){function d(k){if(b[k])return b[k].exports;var j=b[k]={i:k,l:!1,exports:{}};g[k].call(j.exports,j,j.exports,d);j.l=!0;return j.exports}var b={};d.m=g;d.c=b;d.d=function(b,j,e){d.o(b,j)||Object.defineProperty(b,
j,{configurable:!1,enumerable:!0,get:e})};d.n=function(b){var j=b&&b.__esModule?function(){return b["default"]}:function(){return b};d.d(j,"a",j);return j};d.o=function(b,d){return Object.prototype.hasOwnProperty.call(b,d)};d.p="";return d(d.s=62)}([function(g,d,b){function k(c){v>=i.warnings&&console.log("Warning: "+c)}function j(c){throw Error(c);}function e(c,B){c||j(B)}function m(c){e("string"===typeof c,"Invalid argument for stringToBytes");for(var B=c.length,f=new Uint8Array(B),p=0;p<B;++p)f[p]=
c.charCodeAt(p)&255;return f}function a(c){if(void 0!==c.length)return c.length;e(void 0!==c.byteLength);return c.byteLength}function n(){var c={};c.promise=new Promise(function(f,a){c.resolve=f;c.reject=a});return c}function h(c,f){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return!c?Promise.resolve(void 0):new Promise(function(p){p(c.apply(a,f))})}function u(a){if("object"!==("undefined"===typeof a?"undefined":q(a)))return a;switch(a.name){case "AbortException":return new A(a.message);
case "MissingPDFException":return new c(a.message);case "UnexpectedResponseException":return new f(a.message,a.status);default:return new w(a.message,a.details)}}function t(c,a,f){a?c.resolve():c.reject(f)}function l(c){return Promise.resolve(c).catch(function(){})}function r(a,B,i){var p=this;this.sourceName=a;this.targetName=B;this.comObj=i;this.streamId=this.callbackId=1;this.postMessageTransfers=!0;this.streamSinks=Object.create(null);this.streamControllers=Object.create(null);var J=this.callbacksCapabilities=
Object.create(null),y=this.actionHandler=Object.create(null);this._onComObjOnMessage=function(a){var B=a.data;if(B.targetName===p.sourceName)if(B.stream)p._processStreamMessage(B);else if(B.isReply)if(a=B.callbackId,B.callbackId in J){var b=J[a];delete J[a];"error"in B?b.reject(u(B.error)):b.resolve(B.data)}else throw Error("Cannot resolve callback "+a);else if(B.action in y){var N=y[B.action];if(B.callbackId){var h=p.sourceName,e=B.sourceName;Promise.resolve().then(function(){return N[0].call(N[1],
B.data)}).then(function(p){i.postMessage({sourceName:h,targetName:e,isReply:!0,callbackId:B.callbackId,data:p})},function(p){i.postMessage({sourceName:h,targetName:e,isReply:!0,callbackId:B.callbackId,error:!(p instanceof Error)||p instanceof A||p instanceof c||p instanceof f||p instanceof w?p:new w(p.message,p.toString())})})}else B.streamId?p._createStreamSink(B):N[0].call(N[1],B.data)}else throw Error("Unknown action from worker: "+B.action);};i.addEventListener("message",this._onComObjOnMessage)}
Object.defineProperty(d,"__esModule",{value:!0});d.unreachable=d.warn=d.utf8StringToString=d.stringToUTF8String=d.stringToPDFString=d.stringToBytes=d.string32=d.shadow=d.setVerbosityLevel=d.ReadableStream=d.removeNullCharacters=d.readUint32=d.readUint16=d.readInt8=d.log2=d.loadJpegStream=d.isEvalSupported=d.isLittleEndian=d.createValidAbsoluteUrl=d.isSameOrigin=d.isNodeJS=d.isSpace=d.isString=d.isNum=d.isEmptyObj=d.isBool=d.isArrayBuffer=d.info=d.getVerbosityLevel=d.getLookupTableFactory=d.deprecated=
d.createObjectURL=d.createPromiseCapability=d.createBlob=d.bytesToString=d.assert=d.arraysToBytes=d.arrayByteLength=d.FormatError=d.XRefParseException=d.Util=d.UnknownErrorException=d.UnexpectedResponseException=d.TextRenderingMode=d.StreamType=d.PasswordResponses=d.PasswordException=d.PageViewport=d.NotImplementedException=d.NativeImageDecoding=d.MissingPDFException=d.MissingDataException=d.MessageHandler=d.InvalidPDFException=d.AbortException=d.CMapCompressionType=d.ImageKind=d.FontType=d.AnnotationType=
d.AnnotationFlag=d.AnnotationFieldFlag=d.AnnotationBorderStyleType=d.UNSUPPORTED_FEATURES=d.VERBOSITY_LEVELS=d.OPS=d.IDENTITY_MATRIX=d.FONT_IDENTITY_MATRIX=void 0;var q="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c};b(63);var o=b(112),i={errors:0,warnings:1,infos:5},v=i.warnings,g=function(){function c(a,f){this.name="PasswordException";this.message=
a;this.code=f}c.prototype=Error();return c.constructor=c}(),w=function(){function c(a,f){this.name="UnknownErrorException";this.message=a;this.details=f}c.prototype=Error();return c.constructor=c}(),b=function(){function c(a){this.name="InvalidPDFException";this.message=a}c.prototype=Error();return c.constructor=c}(),c=function(){function c(a){this.name="MissingPDFException";this.message=a}c.prototype=Error();return c.constructor=c}(),f=function(){function c(a,f){this.name="UnexpectedResponseException";
this.message=a;this.status=f}c.prototype=Error();return c.constructor=c}(),x=function(){function c(a){this.message=a}c.prototype=Error();c.prototype.name="NotImplementedException";return c.constructor=c}(),z=function(){function c(a,f){this.begin=a;this.end=f;this.message="Missing data ["+a+", "+f+")"}c.prototype=Error();c.prototype.name="MissingDataException";return c.constructor=c}(),C=function(){function c(a){this.message=a}c.prototype=Error();c.prototype.name="XRefParseException";return c.constructor=
c}(),s=function(){function c(a){this.message=a}c.prototype=Error();c.prototype.name="FormatError";return c.constructor=c}(),A=function(){function c(a){this.name="AbortException";this.message=a}c.prototype=Error();return c.constructor=c}(),H=/\x00/g,I=function(){function c(){}var a=["rgb(",0,",",0,",",0,")"];c.makeCssRgb=function(p,c,f){a[1]=p;a[3]=c;a[5]=f;return a.join("")};c.transform=function(p,c){return[p[0]*c[0]+p[2]*c[1],p[1]*c[0]+p[3]*c[1],p[0]*c[2]+p[2]*c[3],p[1]*c[2]+p[3]*c[3],p[0]*c[4]+
p[2]*c[5]+p[4],p[1]*c[4]+p[3]*c[5]+p[5]]};c.applyTransform=function(p,c){return[p[0]*c[0]+p[1]*c[2]+c[4],p[0]*c[1]+p[1]*c[3]+c[5]]};c.applyInverseTransform=function(p,c){var a=c[0]*c[3]-c[1]*c[2];return[(p[0]*c[3]-p[1]*c[2]+c[2]*c[5]-c[4]*c[3])/a,(-p[0]*c[1]+p[1]*c[0]+c[4]*c[1]-c[5]*c[0])/a]};c.getAxialAlignedBoundingBox=function(p,J){var a=c.applyTransform(p,J),f=c.applyTransform(p.slice(2,4),J),B=c.applyTransform([p[0],p[3]],J),i=c.applyTransform([p[2],p[1]],J);return[Math.min(a[0],f[0],B[0],i[0]),
Math.min(a[1],f[1],B[1],i[1]),Math.max(a[0],f[0],B[0],i[0]),Math.max(a[1],f[1],B[1],i[1])]};c.inverseTransform=function(p){var c=p[0]*p[3]-p[1]*p[2];return[p[3]/c,-p[1]/c,-p[2]/c,p[0]/c,(p[2]*p[5]-p[4]*p[3])/c,(p[4]*p[1]-p[5]*p[0])/c]};c.apply3dTransform=function(p,c){return[p[0]*c[0]+p[1]*c[1]+p[2]*c[2],p[3]*c[0]+p[4]*c[1]+p[5]*c[2],p[6]*c[0]+p[7]*c[1]+p[8]*c[2]]};c.singularValueDecompose2dScale=function(c){var a=[c[0],c[2],c[1],c[3]],f=c[0]*a[0]+c[1]*a[2],B=c[2]*a[1]+c[3]*a[3],i=(f+B)/2,c=Math.sqrt((f+
B)*(f+B)-4*(f*B-(c[2]*a[0]+c[3]*a[2])*(c[0]*a[1]+c[1]*a[3])))/2,a=i-c||1;return[Math.sqrt(i+c||1),Math.sqrt(a)]};c.normalizeRect=function(c){var a=c.slice(0);c[0]>c[2]&&(a[0]=c[2],a[2]=c[0]);c[1]>c[3]&&(a[1]=c[3],a[3]=c[1]);return a};c.intersect=function(p,a){function f(c,p){return c-p}var B=[p[0],p[2],a[0],a[2]].sort(f),i=[p[1],p[3],a[1],a[3]].sort(f),b=[],p=c.normalizeRect(p),a=c.normalizeRect(a);if(B[0]===p[0]&&B[1]===a[0]||B[0]===a[0]&&B[1]===p[0])b[0]=B[1],b[2]=B[2];else return!1;if(i[0]===p[1]&&
i[1]===a[1]||i[0]===a[1]&&i[1]===p[1])b[1]=i[1],b[3]=i[2];else return!1;return b};var f=" C CC CCC CD D DC DCC DCCC CM  X XX XXX XL L LX LXX LXXX XC  I II III IV V VI VII VIII IX".split(" ");c.toRoman=function(c,a){e(Number.isInteger(c)&&0<c,"The number should be a positive integer.");for(var B,i=[];1E3<=c;)c-=1E3,i.push("M");B=c/100|0;c%=100;i.push(f[B]);B=c/10|0;c%=10;i.push(f[10+B]);i.push(f[20+c]);B=i.join("");return a?B.toLowerCase():B};c.appendToArray=function(c,a){Array.prototype.push.apply(c,
a)};c.prependToArray=function(c,a){Array.prototype.unshift.apply(c,a)};c.extendObj=function(c,a){for(var f in a)c[f]=a[f]};c.getInheritableProperty=function(c,a,f){for(;c&&!c.has(a);)c=c.get("Parent");return!c?null:f?c.getArray(a):c.get(a)};c.inherit=function(c,a,f){c.prototype=Object.create(a.prototype);c.prototype.constructor=c;for(var B in f)c.prototype[B]=f[B]};c.loadScript=function(c,a){var f=document.createElement("script"),B=!1;f.setAttribute("src",c);a&&(f.onload=function(){B||a();B=!0});
document.getElementsByTagName("head")[0].appendChild(f)};return c}(),K=function(){function c(a,f,p,i,b,h){this.viewBox=a;this.scale=f;this.rotation=p;this.offsetX=i;this.offsetY=b;var e=(a[2]+a[0])/2,v=(a[3]+a[1])/2,d,s,l,p=p%360;switch(0>p?p+360:p){case 180:p=-1;s=d=0;l=1;break;case 90:p=0;s=d=1;l=0;break;case 270:p=0;s=d=-1;l=0;break;default:p=1,s=d=0,l=-1}h&&(s=-s,l=-l);0===p?(i=Math.abs(v-a[1])*f+i,b=Math.abs(e-a[0])*f+b,h=Math.abs(a[3]-a[1])*f,a=Math.abs(a[2]-a[0])*f):(i=Math.abs(e-a[0])*f+i,
b=Math.abs(v-a[1])*f+b,h=Math.abs(a[2]-a[0])*f,a=Math.abs(a[3]-a[1])*f);this.transform=[p*f,d*f,s*f,l*f,i-p*f*e-s*f*v,b-d*f*e-l*f*v];this.width=h;this.height=a;this.fontScale=f}c.prototype={clone:function(a){var a=a||{},f="scale"in a?a.scale:this.scale,p="rotation"in a?a.rotation:this.rotation;return new c(this.viewBox.slice(),f,p,this.offsetX,this.offsetY,a.dontFlip)},convertToViewportPoint:function(c,a){return I.applyTransform([c,a],this.transform)},convertToViewportRectangle:function(c){var a=
I.applyTransform([c[0],c[1]],this.transform),c=I.applyTransform([c[2],c[3]],this.transform);return[a[0],a[1],c[0],c[1]]},convertToPdfPoint:function(c,a){return I.applyInverseTransform([c,a],this.transform)}};return c}(),E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,
8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],G=function(c,a){if("undefined"!==typeof Blob)return new Blob([c],{type:a});throw Error('The "Blob" constructor is not supported.');},L=function(){return function(c,a){if((!(2<arguments.length&&void 0!==arguments[2])||!arguments[2])&&URL.createObjectURL){var f=G(c,a);return URL.createObjectURL(f)}for(var f="data:"+a+";base64,",p=0,i=c.length;p<i;p+=3)var b=
c[p]&255,h=c[p+1]&255,e=c[p+2]&255,f=f+("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[b>>2]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[(b&3)<<4|h>>4]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[p+1<i?(h&15)<<2|e>>6:64]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[p+2<i?e&63:64]);return f}}();r.prototype={on:function(c,a,f){var p=this.actionHandler;if(p[c])throw Error('There is already an actionName called "'+
c+'"');p[c]=[a,f]},send:function(c,a,f){this.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:c,data:a},f)},sendWithPromise:function(c,a,f){var p=this.callbackId++,c={sourceName:this.sourceName,targetName:this.targetName,action:c,data:a,callbackId:p},a=n();this.callbacksCapabilities[p]=a;try{this.postMessage(c,f)}catch(i){a.reject(i)}return a.promise},sendWithStream:function(c,a,f){var p=this,i=this.streamId++,b=this.sourceName,h=this.targetName;return new o.ReadableStream({start:function(f){var e=
n();p.streamControllers[i]={controller:f,startCall:e,isClosed:!1};p.postMessage({sourceName:b,targetName:h,action:c,streamId:i,data:a,desiredSize:f.desiredSize});return e.promise},pull:function(c){var a=n();p.streamControllers[i].pullCall=a;p.postMessage({sourceName:b,targetName:h,stream:"pull",streamId:i,desiredSize:c.desiredSize});return a.promise},cancel:function(c){var a=n();p.streamControllers[i].cancelCall=a;p.streamControllers[i].isClosed=!0;p.postMessage({sourceName:b,targetName:h,stream:"cancel",
reason:c,streamId:i});return a.promise}},f)},_createStreamSink:function(c){var a=this,f=this,p=this.actionHandler[c.action],i=c.streamId,b=c.desiredSize,e=this.sourceName,d=c.sourceName,v=function(c){a.postMessage({sourceName:e,targetName:d,stream:c.stream,streamId:i,chunk:c.chunk,success:c.success,reason:c.reason},c.transfers)},b={enqueue:function(c){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,p=arguments[2];if(!this.isCancelled){var f=this.desiredSize;this.desiredSize-=a;0<f&&
0>=this.desiredSize&&(this.sinkCapability=n(),this.ready=this.sinkCapability.promise);v({stream:"enqueue",chunk:c,transfers:p})}},close:function(){this.isCancelled||(this.isCancelled=!0,v({stream:"close"}),delete f.streamSinks[i])},error:function(c){this.isCancelled||(this.isCancelled=!0,v({stream:"error",reason:c}))},sinkCapability:n(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:b,ready:null};b.sinkCapability.resolve();b.ready=b.sinkCapability.promise;this.streamSinks[i]=b;h(p[0],[c.data,
b],p[1]).then(function(){v({stream:"start_complete",success:!0})},function(c){v({stream:"start_complete",success:!1,reason:c})})},_processStreamMessage:function(c){var a=this,f=this.sourceName,p=c.sourceName,i=c.streamId,b=function(c){a.comObj.postMessage({sourceName:f,targetName:p,stream:c.stream,success:c.success,streamId:i,reason:c.reason})},v=function(){Promise.all([a.streamControllers[c.streamId].startCall,a.streamControllers[c.streamId].pullCall,a.streamControllers[c.streamId].cancelCall].map(function(c){return c&&
l(c.promise)})).then(function(){delete a.streamControllers[c.streamId]})};switch(c.stream){case "start_complete":t(this.streamControllers[c.streamId].startCall,c.success,u(c.reason));break;case "pull_complete":t(this.streamControllers[c.streamId].pullCall,c.success,u(c.reason));break;case "pull":if(!this.streamSinks[c.streamId]){b({stream:"pull_complete",success:!0});break}0>=this.streamSinks[c.streamId].desiredSize&&0<c.desiredSize&&this.streamSinks[c.streamId].sinkCapability.resolve();this.streamSinks[c.streamId].desiredSize=
c.desiredSize;h(this.streamSinks[c.streamId].onPull).then(function(){b({stream:"pull_complete",success:!0})},function(c){b({stream:"pull_complete",success:!1,reason:c})});break;case "enqueue":e(this.streamControllers[c.streamId],"enqueue should have stream controller");this.streamControllers[c.streamId].isClosed||this.streamControllers[c.streamId].controller.enqueue(c.chunk);break;case "close":e(this.streamControllers[c.streamId],"close should have stream controller");if(this.streamControllers[c.streamId].isClosed)break;
this.streamControllers[c.streamId].isClosed=!0;this.streamControllers[c.streamId].controller.close();v();break;case "error":e(this.streamControllers[c.streamId],"error should have stream controller");this.streamControllers[c.streamId].controller.error(u(c.reason));v();break;case "cancel_complete":t(this.streamControllers[c.streamId].cancelCall,c.success,u(c.reason));v();break;case "cancel":if(!this.streamSinks[c.streamId])break;h(this.streamSinks[c.streamId].onCancel,[u(c.reason)]).then(function(){b({stream:"cancel_complete",
success:!0})},function(c){b({stream:"cancel_complete",success:!1,reason:c})});this.streamSinks[c.streamId].sinkCapability.reject(u(c.reason));this.streamSinks[c.streamId].isCancelled=!0;delete this.streamSinks[c.streamId];break;default:throw Error("Unexpected stream case");}},postMessage:function(c,a){a&&this.postMessageTransfers?this.comObj.postMessage(c,a):this.comObj.postMessage(c)},destroy:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}};d.FONT_IDENTITY_MATRIX=[0.001,
0,0,0.001,0,0];d.IDENTITY_MATRIX=[1,0,0,1,0,0];d.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,
setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,
beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,
paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};d.VERBOSITY_LEVELS=i;d.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"};d.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};d.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,
MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};d.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};d.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,
SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};d.FontType={UNKNOWN:0,TYPE1:1,TYPE1C:2,CIDFONTTYPE0:3,CIDFONTTYPE0C:4,TRUETYPE:5,CIDFONTTYPE2:6,TYPE3:7,OPENTYPE:8,TYPE0:9,MMTYPE1:10};d.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};d.CMapCompressionType={NONE:0,BINARY:1,STREAM:2};d.AbortException=A;d.InvalidPDFException=b;d.MessageHandler=r;d.MissingDataException=z;d.MissingPDFException=c;d.NativeImageDecoding={NONE:"none",DECODE:"decode",DISPLAY:"display"};d.NotImplementedException=
x;d.PageViewport=K;d.PasswordException=g;d.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};d.StreamType={UNKNOWN:0,FLATE:1,LZW:2,DCT:3,JPX:4,JBIG:5,A85:6,AHX:7,CCF:8,RL:9};d.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};d.UnexpectedResponseException=f;d.UnknownErrorException=w;d.Util=I;d.XRefParseException=C;d.FormatError=s;d.arrayByteLength=a;d.arraysToBytes=
function(c){if(1===c.length&&c[0]instanceof Uint8Array)return c[0];var f=0,i,p=c.length,b,h;for(i=0;i<p;i++)b=c[i],h=a(b),f+=h;var e=0,f=new Uint8Array(f);for(i=0;i<p;i++)b=c[i],b instanceof Uint8Array||(b="string"===typeof b?m(b):new Uint8Array(b)),h=b.byteLength,f.set(b,e),e+=h;return f};d.assert=e;d.bytesToString=function(c){e(null!==c&&"object"===("undefined"===typeof c?"undefined":q(c))&&void 0!==c.length,"Invalid argument for bytesToString");var a=c.length;if(8192>a)return String.fromCharCode.apply(null,
c);for(var f=[],p=0;p<a;p+=8192){var i=Math.min(p+8192,a),i=c.subarray(p,i);f.push(String.fromCharCode.apply(null,i))}return f.join("")};d.createBlob=G;d.createPromiseCapability=n;d.createObjectURL=L;d.deprecated=function(c){console.log("Deprecated API usage: "+c)};d.getLookupTableFactory=function(c){var a;return function(){c&&(a=Object.create(null),c(a),c=null);return a}};d.getVerbosityLevel=function(){return v};d.info=function(c){v>=i.infos&&console.log("Info: "+c)};d.isArrayBuffer=function(c){return"object"===
("undefined"===typeof c?"undefined":q(c))&&null!==c&&void 0!==c.byteLength};d.isBool=function(c){return"boolean"===typeof c};d.isEmptyObj=function(c){for(var a in c)return!1;return!0};d.isNum=function(c){return"number"===typeof c};d.isString=function(c){return"string"===typeof c};d.isSpace=function(c){return 32===c||9===c||13===c||10===c};d.isNodeJS=function(){return"object"===("undefined"===typeof process?"undefined":q(process))&&"[object process]"===process+""};d.isSameOrigin=function(c,a){try{var f=
new URL(c);if(!f.origin||"null"===f.origin)return!1}catch(p){return!1}var i=new URL(a,f);return f.origin===i.origin};d.createValidAbsoluteUrl=function(c,a){if(!c)return null;try{var f=a?new URL(c,a):new URL(c),p;a:if(f)switch(f.protocol){case "http:":case "https:":case "ftp:":case "mailto:":case "tel:":p=!0;break a;default:p=!1}else p=!1;if(p)return f}catch(i){}return null};d.isLittleEndian=function(){var c=new Uint8Array(4);c[0]=1;return 1===(new Uint32Array(c.buffer,0,1))[0]};d.isEvalSupported=
function(){try{return new Function(""),!0}catch(c){return!1}};d.loadJpegStream=function(c,a,f){var p=new Image;p.onload=function(){f.resolve(c,p)};p.onerror=function(){f.resolve(c,null);k("Error during JPEG image loading")};p.src=a};d.log2=function(c){return 0>=c?0:Math.ceil(Math.log2(c))};d.readInt8=function(c,a){return c[a]<<24>>24};d.readUint16=function(c,a){return c[a]<<8|c[a+1]};d.readUint32=function(c,a){return(c[a]<<24|c[a+1]<<16|c[a+2]<<8|c[a+3])>>>0};d.removeNullCharacters=function(c){return"string"!==
typeof c?(k("The argument for removeNullCharacters must be a string."),c):c.replace(H,"")};d.ReadableStream=o.ReadableStream;d.setVerbosityLevel=function(c){v=c};d.shadow=function(c,a,f){Object.defineProperty(c,a,{value:f,enumerable:!0,configurable:!0,writable:!1});return f};d.string32=function(c){return String.fromCharCode(c>>24&255,c>>16&255,c>>8&255,c&255)};d.stringToBytes=m;d.stringToPDFString=function(c){var a,f=c.length,p=[];if("\u00fe"===c[0]&&"\u00ff"===c[1])for(a=2;a<f;a+=2)p.push(String.fromCharCode(c.charCodeAt(a)<<
8|c.charCodeAt(a+1)));else for(a=0;a<f;++a){var i=E[c.charCodeAt(a)];p.push(i?String.fromCharCode(i):c.charAt(a))}return p.join("")};d.stringToUTF8String=function(c){return decodeURIComponent(escape(c))};d.utf8StringToString=function(c){return unescape(encodeURIComponent(c))};d.warn=k;d.unreachable=j},function(g){var d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?
"symbol":typeof b};g.exports=function(b){return"object"===("undefined"===typeof b?"undefined":d(b))?null!==b:"function"===typeof b}},function(g,d,b){var k=b(42)("wks"),j=b(20),e=b(3).Symbol,m="function"==typeof e;(g.exports=function(a){return k[a]||(k[a]=m&&e[a]||(m?e:j)("Symbol."+a))}).store=k},function(g){g=g.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=g)},function(g,d,b){var k=b(3),
j=b(5),e=b(11),m=b(8),a=b(9),d=function h(b,d,l){var r=b&h.F,q=b&h.G,o=b&h.S,i=b&h.P,v=b&h.B,o=q?k:o?k[d]||(k[d]={}):(k[d]||{}).prototype,w=q?j:j[d]||(j[d]={}),c=w.prototype||(w.prototype={}),f;q&&(l=d);for(f in l)q=!r&&o&&void 0!==o[f],d=(q?o:l)[f],q=v&&q?a(d,k):i&&"function"==typeof d?a(Function.call,d):d,o&&m(o,f,d,b&h.U),w[f]!=d&&e(w,f,q),i&&c[f]!=d&&(c[f]=d)};k.core=j;d.F=1;d.G=2;d.S=4;d.P=8;d.B=16;d.W=32;d.U=64;d.R=128;g.exports=d},function(g){g=g.exports={version:"2.5.1"};"number"==typeof __e&&
(__e=g)},function(g,d,b){var k=b(1);g.exports=function(b){if(!k(b))throw TypeError(b+" is not an object!");return b}},function(g){var d={}.hasOwnProperty;g.exports=function(b,k){return d.call(b,k)}},function(g,d,b){var k=b(3),j=b(11),e=b(7),m=b(20)("src"),a=Function.toString,n=(""+a).split("toString");b(5).inspectSource=function(b){return a.call(b)};(g.exports=function(a,b,d,l){var r="function"==typeof d;r&&(e(d,"name")||j(d,"name",b));a[b]!==d&&(r&&(e(d,m)||j(d,m,a[b]?""+a[b]:n.join(""+b))),a===
k?a[b]=d:l?a[b]?a[b]=d:j(a,b,d):(delete a[b],j(a,b,d)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[m]||a.call(this)})},function(g,d,b){var k=b(16);g.exports=function(b,d,m){k(b);if(void 0===d)return b;switch(m){case 1:return function(a){return b.call(d,a)};case 2:return function(a,m){return b.call(d,a,m)};case 3:return function(a,m,h){return b.call(d,a,m,h)}}return function(){return b.apply(d,arguments)}}},function(g,d,b){function k(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");
}function j(b){var c=a.default.PDFJS;switch(b){case "pdfBug":return c?c.pdfBug:!1;case "disableAutoFetch":return c?c.disableAutoFetch:!1;case "disableStream":return c?c.disableStream:!1;case "disableRange":return c?c.disableRange:!1;case "disableFontFace":return c?c.disableFontFace:!1;case "disableCreateObjectURL":return c?c.disableCreateObjectURL:!1;case "disableWebGL":return c?c.disableWebGL:!0;case "cMapUrl":return c?c.cMapUrl:null;case "cMapPacked":return c?c.cMapPacked:!1;case "postMessageTransfers":return c?
c.postMessageTransfers:!0;case "workerPort":return c?c.workerPort:null;case "workerSrc":return c?c.workerSrc:null;case "disableWorker":return c?c.disableWorker:!1;case "maxImageSize":return c?c.maxImageSize:-1;case "imageResourcesPath":return c?c.imageResourcesPath:"";case "isEvalSupported":return c?c.isEvalSupported:!0;case "externalLinkTarget":if(!c)return q.NONE;switch(c.externalLinkTarget){case q.NONE:case q.SELF:case q.BLANK:case q.PARENT:case q.TOP:return c.externalLinkTarget}(0,m.warn)("PDFJS.externalLinkTarget is invalid: "+
c.externalLinkTarget);return c.externalLinkTarget=q.NONE;case "externalLinkRel":return c?c.externalLinkRel:n;case "enableStats":return!(!c||!c.enableStats);default:throw Error("Unknown default setting: "+b);}}Object.defineProperty(d,"__esModule",{value:!0});d.DummyStatTimer=d.StatTimer=d.SimpleXMLParser=d.DOMSVGFactory=d.DOMCMapReaderFactory=d.DOMCanvasFactory=d.DEFAULT_LINK_REL=d.getDefaultSetting=d.LinkTarget=d.getFilenameFromUrl=d.isExternalLinkTargetSet=d.addLinkAttributes=d.RenderingCancelledException=
d.CustomStyle=void 0;var e=function(){function a(c,f){for(var b=0;b<f.length;b++){var i=f[b];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(c,i.key,i)}}return function(c,f,b){f&&a(c.prototype,f);b&&a(c,b);return c}}(),m=b(0),a=(g=b(14))&&g.__esModule?g:{"default":g},n="noopener noreferrer nofollow",g=function(){function a(){k(this,a)}e(a,[{key:"create",value:function(c,a){if(0>=c||0>=a)throw Error("invalid canvas size");var b=document.createElement("canvas"),
i=b.getContext("2d");b.width=c;b.height=a;return{canvas:b,context:i}}},{key:"reset",value:function(c,a,b){if(!c.canvas)throw Error("canvas is not specified");if(0>=a||0>=b)throw Error("invalid canvas size");c.canvas.width=a;c.canvas.height=b}},{key:"destroy",value:function(c){if(!c.canvas)throw Error("canvas is not specified");c.canvas.width=0;c.canvas.height=0;c.canvas=null;c.context=null}}]);return a}(),b=function(){function a(c){var f=c.baseUrl,f=void 0===f?null:f,c=c.isCompressed,c=void 0===c?
!1:c;k(this,a);this.baseUrl=f;this.isCompressed=c}e(a,[{key:"fetch",value:function(c){var a=this,b=c.name;return!this.baseUrl?Promise.reject(Error('CMap baseUrl must be specified, see "PDFJS.cMapUrl" (and also "PDFJS.cMapPacked").')):!b?Promise.reject(Error("CMap name must be specified.")):new Promise(function(c,i){var d=a.baseUrl+b+(a.isCompressed?".bcmap":""),h=new XMLHttpRequest;h.open("GET",d,!0);a.isCompressed&&(h.responseType="arraybuffer");h.onreadystatechange=function(){if(h.readyState===
XMLHttpRequest.DONE){if(h.status===200||h.status===0){var b=void 0;a.isCompressed&&h.response?b=new Uint8Array(h.response):!a.isCompressed&&h.responseText&&(b=(0,m.stringToBytes)(h.responseText));if(b){c({cMapData:b,compressionType:a.isCompressed?m.CMapCompressionType.BINARY:m.CMapCompressionType.NONE});return}}i(Error("Unable to load "+(a.isCompressed?"binary ":"")+"CMap at: "+d))}};h.send(null)})}}]);return a}(),h=function(){function a(){k(this,a)}e(a,[{key:"create",value:function(c,a){(0,m.assert)(0<
c&&0<a,"Invalid SVG dimensions");var b=document.createElementNS("http://www.w3.org/2000/svg","svg:svg");b.setAttribute("version","1.1");b.setAttribute("width",c+"px");b.setAttribute("height",a+"px");b.setAttribute("preserveAspectRatio","none");b.setAttribute("viewBox","0 0 "+c+" "+a);return b}},{key:"createElement",value:function(c){(0,m.assert)("string"===typeof c,"Invalid SVG element type");return document.createElementNS("http://www.w3.org/2000/svg",c)}}]);return a}(),u=function(){function a(c,
f){k(this,a);this.nodeName=c;this.nodeValue=f;Object.defineProperty(this,"parentNode",{value:null,writable:!0})}e(a,[{key:"hasChildNodes",value:function(){return this.childNodes&&0<this.childNodes.length}},{key:"firstChild",get:function(){return this.childNodes[0]}},{key:"nextSibling",get:function(){return this.parentNode.childNodes[this.parentNode.childNodes.indexOf(this)+1]}},{key:"textContent",get:function(){return!this.childNodes?this.nodeValue||"":this.childNodes.map(function(c){return c.textContent}).join("")}}]);
return a}(),t=function(){function a(){k(this,a)}e(a,[{key:"parseFromString",value:function(c){var a=this,b=[],c=c.replace(/<\?[\s\S]*?\?>|<\!--[\s\S]*?--\>/g,"").trim(),c=c.replace(/<!DOCTYPE[^>\[]+(\[[^\]]+)?[^>]+>/g,"").trim(),c=c.replace(/>([^<][\s\S]*?)</g,function(c,i){var d=b.length,h=new u("#text",a._decodeXML(i));b.push(h);return 0===h.textContent.trim().length?"><":">"+d+",<"}),c=c.replace(/<!\[CDATA\[([\s\S]*?)\]\]>/g,function(c,a){var f=b.length,i=new u("#text",a);b.push(i);return f+","}),
i=/<([\w\:]+)((?:[\s\w:=]|'[^']*'|"[^"]*")*)(?:\/>|>([\d,]*)<\/[^>]+>)/g,d=void 0;do d=b.length,c=c.replace(i,function(c,a,f,i){var c=b.length,d=new u(a),h=[];i&&(i=i.split(","),i.pop(),i.forEach(function(c){c=b[+c];c.parentNode=d;h.push(c)}));d.childNodes=h;b.push(d);return c+","});while(d<b.length);return{documentElement:b.pop()}}},{key:"_decodeXML",value:function(c){return 0>c.indexOf("&")?c:c.replace(/&(#(x[0-9a-f]+|\d+)|\w+);/gi,function(c,a,b){if(b)return b="x"===b[0]?parseInt(b.substring(1),
16):+b,String.fromCharCode(b);switch(a){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';case "apos":return"'"}return"&"+a+";"})}}]);return a}(),l=function(){function a(){}var c=["ms","Moz","Webkit","O"],b=Object.create(null);a.getProp=function(a,i){if(1===arguments.length&&"string"===typeof b[a])return b[a];var i=i||document.documentElement,d=i.style,h,v;if("string"===typeof d[a])return b[a]=a;v=a.charAt(0).toUpperCase()+a.slice(1);for(var e=0,l=c.length;e<l;e++)if(h=
c[e]+v,"string"===typeof d[h])return b[a]=h;return b[a]="undefined"};a.setProp=function(c,a,b){c=this.getProp(c);"undefined"!==c&&(a.style[c]=b)};return a}(),r=function(){function a(c,b){this.message=c;this.type=b}a.prototype=Error();a.prototype.name="RenderingCancelledException";return a.constructor=a}(),q={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4},o=["","_self","_blank","_parent","_top"],i=function(){function a(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!0;k(this,a);this.enabled=
!!c;this.reset()}e(a,[{key:"reset",value:function(){this.started=Object.create(null);this.times=[]}},{key:"time",value:function(c){this.enabled&&(c in this.started&&(0,m.warn)("Timer is already running for "+c),this.started[c]=Date.now())}},{key:"timeEnd",value:function(c){this.enabled&&(c in this.started||(0,m.warn)("Timer has not been started for "+c),this.times.push({name:c,start:this.started[c],end:Date.now()}),delete this.started[c])}},{key:"toString",value:function(){for(var c=this.times,a=
"",b=0,i=0,d=c.length;i<d;++i){var h=c[i].name;h.length>b&&(b=h.length)}i=0;for(d=c.length;i<d;++i)var h=c[i],e=h.end-h.start,a=a+(h.name.padEnd(b)+" "+e+"ms\n");return a}}]);return a}(),v=function(){function a(){k(this,a);(0,m.unreachable)("Cannot initialize DummyStatTimer.")}e(a,null,[{key:"reset",value:function(){}},{key:"time",value:function(){}},{key:"timeEnd",value:function(){}},{key:"toString",value:function(){return""}}]);return a}();d.CustomStyle=l;d.RenderingCancelledException=r;d.addLinkAttributes=
function(a,c){var b=c&&c.url;a.href=a.title=b?(0,m.removeNullCharacters)(b):"";b&&(b=c.target,"undefined"===typeof b&&(b=j("externalLinkTarget")),a.target=o[b],b=c.rel,"undefined"===typeof b&&(b=j("externalLinkRel")),a.rel=b)};d.isExternalLinkTargetSet=function(){switch(j("externalLinkTarget")){case q.NONE:return!1;case q.SELF:case q.BLANK:case q.PARENT:case q.TOP:return!0}};d.getFilenameFromUrl=function(a){var c=a.indexOf("#"),b=a.indexOf("?"),c=Math.min(0<c?c:a.length,0<b?b:a.length);return a.substring(a.lastIndexOf("/",
c)+1,c)};d.LinkTarget=q;d.getDefaultSetting=j;d.DEFAULT_LINK_REL=n;d.DOMCanvasFactory=g;d.DOMCMapReaderFactory=b;d.DOMSVGFactory=h;d.SimpleXMLParser=t;d.StatTimer=i;d.DummyStatTimer=v},function(g,d,b){var k=b(15),j=b(25);g.exports=b(12)?function(b,d,a){return k.f(b,d,j(1,a))}:function(b,d,a){b[d]=a;return b}},function(g,d,b){g.exports=!b(13)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(g){g.exports=function(d){try{return!!d()}catch(b){return!0}}},function(g){g.exports=
"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof global&&global.Math===Math?global:"undefined"!==typeof self&&self.Math===Math?self:{}},function(g,d,b){var k=b(6),j=b(39),e=b(40),m=Object.defineProperty;d.f=b(12)?Object.defineProperty:function(a,b,d){k(a);b=e(b,!0);k(d);if(j)try{return m(a,b,d)}catch(u){}if("get"in d||"set"in d)throw TypeError("Accessors not supported!");"value"in d&&(a[b]=d.value);return a}},function(g){g.exports=function(d){if("function"!=typeof d)throw TypeError(d+
" is not a function!");return d}},function(g,d,b){var k=b(26),j=b(27);g.exports=function(b){return k(j(b))}},function(g){var d={}.toString;g.exports=function(b){return d.call(b).slice(8,-1)}},function(g){g.exports={}},function(g){var d=0,b=Math.random();g.exports=function(k){return"Symbol(".concat(void 0===k?"":k,")_",(++d+b).toString(36))}},function(g,d,b){var k=b(67),j=b(43);g.exports=Object.keys||function(b){return k(b,j)}},function(g,d,b){var k=b(15).f,j=b(7),e=b(2)("toStringTag");g.exports=function(b,
a,d){b&&!j(b=d?b:b.prototype,e)&&k(b,e,{configurable:!0,value:a})}},function(g,d,b){var k=b(9),j=b(88),e=b(89),m=b(6),a=b(28),n=b(90),h={},u={},g=g.exports=function(b,d,r,q,o){var o=o?function(){return b}:n(b),r=k(r,q,d?2:1),q=0,i,v;if("function"!=typeof o)throw TypeError(b+" is not iterable!");if(e(o))for(i=a(b.length);i>q;q++){if(o=d?r(m(v=b[q])[0],v[1]):r(b[q]),o===h||o===u)return o}else for(q=o.call(b);!(v=q.next()).done;)if(o=j(q,r,v.value,d),o===h||o===u)return o};g.BREAK=h;g.RETURN=u},function(g,
d,b){var d=b(1),k=b(3).document,j=d(k)&&d(k.createElement);g.exports=function(b){return j?k.createElement(b):{}}},function(g){g.exports=function(d,b){return{enumerable:!(d&1),configurable:!(d&2),writable:!(d&4),value:b}}},function(g,d,b){var k=b(18);g.exports=Object("z").propertyIsEnumerable(0)?Object:function(b){return"String"==k(b)?b.split(""):Object(b)}},function(g){g.exports=function(d){if(void 0==d)throw TypeError("Can't call method on  "+d);return d}},function(g,d,b){var k=b(29),j=Math.min;
g.exports=function(b){return 0<b?j(k(b),9007199254740991):0}},function(g){var d=Math.ceil,b=Math.floor;g.exports=function(k){return isNaN(k=+k)?0:(0<k?b:d)(k)}},function(g,d,b){var k=b(42)("keys"),j=b(20);g.exports=function(b){return k[b]||(k[b]=j(b))}},function(g,d){d.f={}.propertyIsEnumerable},function(g,d,b){var k=b(18),j=b(2)("toStringTag"),e="Arguments"==k(function(){return arguments}());g.exports=function(b){var a,d;if(void 0===b)a="Undefined";else{var h;if(null===b)h="Null";else{var u=b=Object(b);
try{h=u[j]}catch(t){}h="string"==typeof(a=h)?a:e?k(b):"Object"==(d=k(b))&&"function"==typeof b.callee?"Arguments":d}a=h}return a}},function(g,d,b){var k=b(27);g.exports=function(b){return Object(k(b))}},function(g){g.exports=function(d,b,k,j){if(!(d instanceof b)||void 0!==j&&j in d)throw TypeError(k+": incorrect invocation!");return d}},function(g,d,b){function k(b){var d,a;this.promise=new b(function(b,h){if(void 0!==d||void 0!==a)throw TypeError("Bad Promise constructor");d=b;a=h});this.resolve=
j(d);this.reject=j(a)}var j=b(16);g.exports.f=function(b){return new k(b)}},function(g,d,b){var k=b(8);g.exports=function(b,d,m){for(var a in d)k(b,a,d[a],m);return b}},function(g,d,b){var k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},j=b(20)("meta"),e=b(1),m=b(7),a=b(15).f,n=0,h=Object.isExtensible||function(){return!0},u=!b(13)(function(){return h(Object.preventExtensions({}))}),
t=function(b){a(b,j,{value:{i:"O"+ ++n,w:{}}})},l=g.exports={KEY:j,NEED:!1,fastKey:function(a,b){if(!e(a))return"symbol"==("undefined"===typeof a?"undefined":k(a))?a:("string"==typeof a?"S":"P")+a;if(!m(a,j)){if(!h(a))return"F";if(!b)return"E";t(a)}return a[j].i},getWeak:function(a,b){if(!m(a,j)){if(!h(a))return!0;if(!b)return!1;t(a)}return a[j].w},onFreeze:function(a){u&&(l.NEED&&h(a)&&!m(a,j))&&t(a);return a}}},function(g,d,b){Object.defineProperty(d,"__esModule",{value:!0});d.validateResponseStatus=
d.validateRangeRequestCapabilities=d.createResponseStatusError=void 0;var k=b(0);d.createResponseStatusError=function(b,d){return 404===b||0===b&&/^file:/.test(d)?new k.MissingPDFException('Missing PDF "'+d+'".'):new k.UnexpectedResponseException("Unexpected server response ("+b+') while retrieving PDF "'+d+'".',b)};d.validateRangeRequestCapabilities=function(b){var d=b.getResponseHeader,m=b.isHttp,a=b.rangeChunkSize,n=b.disableRange;(0,k.assert)(0<a);b={allowRangeRequests:!1,suggestedLength:void 0};
if(n||!m||"bytes"!==d("Accept-Ranges")||"identity"!==(d("Content-Encoding")||"identity"))return b;d=parseInt(d("Content-Length"),10);if(!Number.isInteger(d))return b;b.suggestedLength=d;if(d<=2*a)return b;b.allowRangeRequests=!0;return b};d.validateResponseStatus=function(b){return 200===b||206===b}},function(g,d,b){g.exports=!b(12)&&!b(13)(function(){return 7!=Object.defineProperty(b(24)("div"),"a",{get:function(){return 7}}).a})},function(g,d,b){var k=b(1);g.exports=function(b,d){if(!k(b))return b;
var m,a;if(d&&"function"==typeof(m=b.toString)&&!k(a=m.call(b))||"function"==typeof(m=b.valueOf)&&!k(a=m.call(b))||!d&&"function"==typeof(m=b.toString)&&!k(a=m.call(b)))return a;throw TypeError("Can't convert object to primitive value");}},function(g,d,b){var k=b(17),j=b(28),e=b(68);g.exports=function(b){return function(a,d,h){var a=k(a),u=j(a.length),h=e(h,u);if(b&&d!=d)for(;u>h;){if(d=a[h++],d!=d)return!0}else for(;u>h;h++)if((b||h in a)&&a[h]===d)return b||h||0;return!b&&-1}}},function(g,d,b){var d=
b(3),k=d["__core-js_shared__"]||(d["__core-js_shared__"]={});g.exports=function(b){return k[b]||(k[b]={})}},function(g){g.exports="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ")},function(g,d,b){var k=b(2)("unscopables"),j=Array.prototype;void 0==j[k]&&b(11)(j,k,{});g.exports=function(b){j[k][b]=!0}},function(g,d,b){var k=b(32),g={};g[b(2)("toStringTag")]="z";"[object z]"!=g+""&&b(8)(Object.prototype,"toString",function(){return"[object "+
k(this)+"]"},!0)},function(g,d,b){var k=b(47),j=b(4),e=b(8),m=b(11),a=b(7),n=b(19),h=b(81),u=b(22),t=b(84),l=b(2)("iterator"),r=!([].keys&&"next"in[].keys()),q=function(){return this};g.exports=function(b,i,d,w,c,f,g){h(d,i,w);var w=function(c){return!r&&c in A?A[c]:function(){return new d(this,c)}},z=i+" Iterator",C="values"==c,s=!1,A=b.prototype,H=A[l]||A["@@iterator"]||c&&A[c],I=H||w(c),K=c?!C?I:w("entries"):void 0,E="Array"==i?A.entries||H:H,G,L;E&&(b=t(E.call(new b)),b!==Object.prototype&&b.next&&
(u(b,z,!0),!k&&!a(b,l)&&m(b,l,q)));C&&(H&&"values"!==H.name)&&(s=!0,I=function(){return H.call(this)});(!k||g)&&(r||s||!A[l])&&m(A,l,I);n[i]=I;n[z]=q;if(c)if(G={values:C?I:w("values"),keys:f?I:w("keys"),entries:K},g)for(L in G)L in A||e(A,L,G[L]);else j(j.P+j.F*(r||s),i,G);return G}},function(g){g.exports=!1},function(g,d,b){d=b(3).document;g.exports=d&&d.documentElement},function(g,d,b){for(var g=b(85),k=b(21),d=b(8),j=b(3),e=b(11),m=b(19),a=b(2),b=a("iterator"),a=a("toStringTag"),n=m.Array,h={CSSRuleList:!0,
CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,
TouchList:!1},k=k(h),u=0;u<k.length;u++){var t=k[u],l=h[t],r=j[t],r=r&&r.prototype,q;if(r&&(r[b]||e(r,b,n),r[a]||e(r,a,t),m[t]=n,l))for(q in g)r[q]||d(r,q,g[q],!0)}},function(g,d,b){var k=b(6),j=b(16),e=b(2)("species");g.exports=function(b,a){var d=k(b).constructor,h;return void 0===d||void 0==(h=k(d)[e])?a:j(h)}},function(g,d,b){var k=b(9),j=b(91),e=b(48),m=b(24),a=b(3),n=a.process,d=a.setImmediate,h=a.clearImmediate,u=a.MessageChannel,t=a.Dispatch,l=0,r={},q,o=function(){var a=+this;if(r.hasOwnProperty(a)){var b=
r[a];delete r[a];b()}},i=function(a){o.call(a.data)};if(!d||!h)d=function(a){for(var b=[],c=1;arguments.length>c;)b.push(arguments[c++]);r[++l]=function(){j("function"==typeof a?a:Function(a),b)};q(l);return l},h=function(a){delete r[a]},"process"==b(18)(n)?q=function(a){n.nextTick(k(o,a,1))}:t&&t.now?q=function(a){t.now(k(o,a,1))}:u?(b=new u,u=b.port2,b.port1.onmessage=i,q=k(u.postMessage,u,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts?(q=function(b){a.postMessage(b+"",
"*")},a.addEventListener("message",i,!1)):q="onreadystatechange"in m("script")?function(a){e.appendChild(m("script")).onreadystatechange=function(){e.removeChild(this);o.call(a)}}:function(a){setTimeout(k(o,a,1),0)};g.exports={set:d,clear:h}},function(g){g.exports=function(d){try{return{e:!1,v:d()}}catch(b){return{e:!0,v:b}}}},function(g,d,b){var k=b(6),j=b(1),e=b(35);g.exports=function(b,a){k(b);if(j(a)&&a.constructor===b)return a;var d=e.f(b),h=d.resolve;h(a);return d.promise}},function(g,d,b){var k=
b(2)("iterator"),j=!1;try{var e=[7][k]();e["return"]=function(){j=!0};Array.from(e,function(){throw 2;})}catch(m){}g.exports=function(a,b){if(!b&&!j)return!1;var d=!1;try{var e=[7],m=e[k]();m.next=function(){return{done:d=!0}};e[k]=function(){return m};a(e)}catch(l){}return d}},function(g,d,b){var k=b(9),j=b(26),e=b(33),m=b(28),a=b(98);g.exports=function(b,d){var u=1==b,t=2==b,l=3==b,r=4==b,q=6==b,o=5==b||q,i=d||a;return function(a,d,c){for(var f=e(a),h=j(f),d=k(d,c,3),c=m(h.length),g=0,a=u?i(a,c):
t?i(a,0):void 0,C,s;c>g;g++)if(o||g in h)if(C=h[g],s=d(C,g,f),b)if(u)a[g]=s;else if(s)switch(b){case 3:return!0;case 5:return C;case 6:return g;case 2:a.push(C)}else if(r)return!1;return q?-1:l||r?r:a}}},function(g,d,b){var k=b(1);g.exports=function(b,d){if(!k(b)||b._t!==d)throw TypeError("Incompatible receiver, "+d+" required!");return b}},function(g,d,b){function k(c,b,f,d){if(c.destroyed)return Promise.reject(Error("Worker was destroyed"));b.disableRange=(0,a.getDefaultSetting)("disableRange");
b.disableAutoFetch=(0,a.getDefaultSetting)("disableAutoFetch");b.disableStream=(0,a.getDefaultSetting)("disableStream");f&&(b.length=f.length,b.initialData=f.initialData);return c.messageHandler.sendWithPromise("GetDocRequest",{docId:d,apiVersion:"2.0.211",source:{data:b.data,url:b.url,password:b.password,disableAutoFetch:b.disableAutoFetch,rangeChunkSize:b.rangeChunkSize,length:b.length},maxImageSize:(0,a.getDefaultSetting)("maxImageSize"),disableFontFace:(0,a.getDefaultSetting)("disableFontFace"),
disableCreateObjectURL:(0,a.getDefaultSetting)("disableCreateObjectURL"),postMessageTransfers:(0,a.getDefaultSetting)("postMessageTransfers")&&!i,docBaseUrl:b.docBaseUrl,nativeImageDecoderSupport:b.nativeImageDecoderSupport,ignoreErrors:b.ignoreErrors,isEvalSupported:(0,a.getDefaultSetting)("isEvalSupported")}).then(function(a){if(c.destroyed)throw Error("Worker was destroyed");return a})}Object.defineProperty(d,"__esModule",{value:!0});d.build=d.version=d.setPDFNetworkStreamClass=d.PDFPageProxy=
d.PDFDocumentProxy=d.PDFWorker=d.PDFDataRangeTransport=d.LoopbackPort=d.getDocument=void 0;var j=function(){function c(a,b){for(var i=0;i<b.length;i++){var f=b[i];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(a,f.key,f)}}return function(a,b,i){b&&c(a.prototype,b);i&&c(a,i);return a}}(),e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&
c!==Symbol.prototype?"symbol":typeof c},m=b(0),a=b(10),n=b(115),h=b(116),u=(g=b(14))&&g.__esModule?g:{"default":g},t=b(58),l=b(118),r=b(119),q=!1,o,i=!1,v="undefined"!==typeof document&&document.currentScript?document.currentScript.src:null,w=null,b=!1;"undefined"===typeof window?(q=!0,"undefined"===typeof require.ensure&&(require.ensure=require("node-ensure")),b=!0):"undefined"!==typeof require&&"function"===typeof require.ensure&&(b=!0);"undefined"!==typeof requirejs&&requirejs.toUrl&&(o=requirejs.toUrl("pdfjs-dist/build/pdf.worker.js"));
var g="undefined"!==typeof requirejs&&requirejs.load,w=b?function(c){require.ensure([],function(){var a;a=require("./pdf.worker.js");c(a.WorkerMessageHandler)})}:g?function(c){requirejs(["pdfjs-dist/build/pdf.worker"],function(a){c(a.WorkerMessageHandler)})}:null,c,f=function(){function c(){this._capability=(0,m.createPromiseCapability)();this._worker=this._transport=null;this.docId="d"+a++;this.destroyed=false;this.onUnsupportedFeature=this.onProgress=this.onPassword=null}var a=0;c.prototype={get promise(){return this._capability.promise},
destroy:function(){var c=this;this.destroyed=true;return(!this._transport?Promise.resolve():this._transport.destroy()).then(function(){c._transport=null;if(c._worker){c._worker.destroy();c._worker=null}})},then:function(c,a){return this.promise.then.apply(this.promise,arguments)}};return c}(),x=function(){function c(a,b){this.length=a;this.initialData=b;this._rangeListeners=[];this._progressListeners=[];this._progressiveReadListeners=[];this._readyCapability=(0,m.createPromiseCapability)()}c.prototype=
{addRangeListener:function(c){this._rangeListeners.push(c)},addProgressListener:function(c){this._progressListeners.push(c)},addProgressiveReadListener:function(c){this._progressiveReadListeners.push(c)},onDataRange:function(c,a){for(var b=this._rangeListeners,i=0,p=b.length;i<p;++i)b[i](c,a)},onDataProgress:function(c){var a=this;this._readyCapability.promise.then(function(){for(var b=a._progressListeners,i=0,p=b.length;i<p;++i)b[i](c)})},onDataProgressiveRead:function(c){var a=this;this._readyCapability.promise.then(function(){for(var b=
a._progressiveReadListeners,i=0,p=b.length;i<p;++i)b[i](c)})},transportReady:function(){this._readyCapability.resolve()},requestDataRange:function(){(0,m.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")},abort:function(){}};return c}(),z=function(){function c(a,b,i){this.pdfInfo=a;this.transport=b;this.loadingTask=i}c.prototype={get numPages(){return this.pdfInfo.numPages},get fingerprint(){return this.pdfInfo.fingerprint},getPage:function(c){return this.transport.getPage(c)},
getPageIndex:function(c){return this.transport.getPageIndex(c)},getDestinations:function(){return this.transport.getDestinations()},getDestination:function(c){return this.transport.getDestination(c)},getPageLabels:function(){return this.transport.getPageLabels()},getPageMode:function(){return this.transport.getPageMode()},getAttachments:function(){return this.transport.getAttachments()},getJavaScript:function(){return this.transport.getJavaScript()},getOutline:function(){return this.transport.getOutline()},
getMetadata:function(){return this.transport.getMetadata()},getData:function(){return this.transport.getData()},getDownloadInfo:function(){return this.transport.downloadInfoCapability.promise},getStats:function(){return this.transport.getStats()},cleanup:function(){this.transport.startCleanup()},destroy:function(){return this.loadingTask.destroy()}};return c}(),C=function(){function c(b,i,f){this.pageIndex=b;this.pageInfo=i;this.transport=f;this._stats=(0,a.getDefaultSetting)("enableStats")?new a.StatTimer:
a.DummyStatTimer;this.commonObjs=f.commonObjs;this.objs=new I;this.pendingCleanup=this.cleanupAfterRender=false;this.intentStates=Object.create(null);this.destroyed=false}c.prototype={get pageNumber(){return this.pageIndex+1},get rotate(){return this.pageInfo.rotate},get ref(){return this.pageInfo.ref},get userUnit(){return this.pageInfo.userUnit},get view(){return this.pageInfo.view},getViewport:function(c,a){if(arguments.length<2)a=this.rotate;return new m.PageViewport(this.view,c,a,0,0)},getAnnotations:function(c){c=
c&&c.intent||null;if(!this.annotationsPromise||this.annotationsIntent!==c){this.annotationsPromise=this.transport.getAnnotations(this.pageIndex,c);this.annotationsIntent=c}return this.annotationsPromise},render:function(c){var b=this,i=this._stats;i.time("Overall");this.pendingCleanup=false;var f=c.intent==="print"?"print":"display",p=c.canvasFactory||new a.DOMCanvasFactory,d=new r.WebGLContext({enable:!(0,a.getDefaultSetting)("disableWebGL")});this.intentStates[f]||(this.intentStates[f]=Object.create(null));
var h=this.intentStates[f];if(!h.displayReadyCapability){h.receivingOperatorList=true;h.displayReadyCapability=(0,m.createPromiseCapability)();h.operatorList={fnArray:[],argsArray:[],lastChunk:false};i.time("Page Request");this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1,intent:f,renderInteractiveForms:c.renderInteractiveForms===true})}var v=function(c){var a=h.renderTasks.indexOf(e);a>=0&&h.renderTasks.splice(a,1);if(b.cleanupAfterRender)b.pendingCleanup=true;b._tryCleanup();
c?e.capability.reject(c):e.capability.resolve();i.timeEnd("Rendering");i.timeEnd("Overall")},e=new E(v,c,this.objs,this.commonObjs,h.operatorList,this.pageNumber,p,d);e.useRequestAnimationFrame=f!=="print";if(!h.renderTasks)h.renderTasks=[];h.renderTasks.push(e);c=e.task;h.displayReadyCapability.promise.then(function(c){if(b.pendingCleanup)v();else{i.time("Rendering");e.initializeGraphics(c);e.operatorListChanged()}}).catch(v);return c},getOperatorList:function(){function c(){if(a.operatorList.lastChunk){a.opListReadCapability.resolve(a.operatorList);
var i=a.renderTasks.indexOf(b);i>=0&&a.renderTasks.splice(i,1)}}this.intentStates.oplist||(this.intentStates.oplist=Object.create(null));var a=this.intentStates.oplist,b;if(!a.opListReadCapability){b={};b.operatorListChanged=c;a.receivingOperatorList=true;a.opListReadCapability=(0,m.createPromiseCapability)();a.renderTasks=[];a.renderTasks.push(b);a.operatorList={fnArray:[],argsArray:[],lastChunk:false};this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageIndex,intent:"oplist"})}return a.opListReadCapability.promise},
streamTextContent:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this.pageNumber-1,normalizeWhitespace:c.normalizeWhitespace===true,combineTextItems:c.disableCombineTextItems!==true},{highWaterMark:100,size:function(c){return c.items.length}})},getTextContent:function(c){var c=c||{},a=this.streamTextContent(c);return new Promise(function(c,b){function i(){f.read().then(function(a){var b=a.value;
if(a.done)c(d);else{m.Util.extendObj(d.styles,b.styles);m.Util.appendToArray(d.items,b.items);i()}},b)}var f=a.getReader(),d={items:[],styles:Object.create(null)};i()})},_destroy:function(){this.destroyed=true;this.transport.pageCache[this.pageIndex]=null;var c=[];Object.keys(this.intentStates).forEach(function(a){a!=="oplist"&&this.intentStates[a].renderTasks.forEach(function(a){var b=a.capability.promise.catch(function(){});c.push(b);a.cancel()})},this);this.objs.clear();this.annotationsPromise=
null;this.pendingCleanup=false;return Promise.all(c)},cleanup:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:false;this.pendingCleanup=true;this._tryCleanup(c)},_tryCleanup:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:false;if(this.pendingCleanup&&!Object.keys(this.intentStates).some(function(c){c=this.intentStates[c];return c.renderTasks.length!==0||c.receivingOperatorList},this)){Object.keys(this.intentStates).forEach(function(c){delete this.intentStates[c]},
this);this.objs.clear();this.annotationsPromise=null;c&&this._stats.reset();this.pendingCleanup=false}},_startRenderPage:function(c,a){var b=this.intentStates[a];b.displayReadyCapability&&b.displayReadyCapability.resolve(c)},_renderPageChunk:function(c,a){var b=this.intentStates[a],i,p;i=0;for(p=c.length;i<p;i++){b.operatorList.fnArray.push(c.fnArray[i]);b.operatorList.argsArray.push(c.argsArray[i])}b.operatorList.lastChunk=c.lastChunk;for(i=0;i<b.renderTasks.length;i++)b.renderTasks[i].operatorListChanged();
if(c.lastChunk){b.receivingOperatorList=false;this._tryCleanup()}},get stats(){return this._stats instanceof a.StatTimer?this._stats:null}};return c}(),s=function(){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this._listeners=[];this._defer=a;this._deferred=Promise.resolve(void 0)}j(c,[{key:"postMessage",value:function(c,a){function b(c){if((typeof c==="undefined"?"undefined":e(c))!=="object"||c===null)return c;if(p.has(c))return p.get(c);var i;if((i=
c.buffer)&&(0,m.isArrayBuffer)(i)){var f=a&&a.indexOf(i)>=0;i=c===i?c:f?new c.constructor(i,c.byteOffset,c.byteLength):new c.constructor(c);p.set(c,i);return i}i=Array.isArray(c)?[]:{};p.set(c,i);for(f in c){for(var d,h=c;!(d=Object.getOwnPropertyDescriptor(h,f));)h=Object.getPrototypeOf(h);typeof d.value==="undefined"||typeof d.value==="function"||(i[f]=b(d.value))}return i}var i=this;if(this._defer){var p=new WeakMap,f={data:b(c)};this._deferred.then(function(){i._listeners.forEach(function(c){c.call(this,
f)},i)})}else this._listeners.forEach(function(a){a.call(this,{data:c})},this)}},{key:"addEventListener",value:function(c,a){this._listeners.push(a)}},{key:"removeEventListener",value:function(c,a){this._listeners.splice(this._listeners.indexOf(a),1)}},{key:"terminate",value:function(){this._listeners=[]}}]);return c}(),A=function(){function c(){if(typeof o!=="undefined")return o;if((0,a.getDefaultSetting)("workerSrc"))return(0,a.getDefaultSetting)("workerSrc");if(v)return v.replace(/(\.(?:min\.)?js)(\?.*)?$/i,
".worker$1$2");throw Error("No PDFJS.workerSrc specified");}function b(){if(p)return p.promise;p=(0,m.createPromiseCapability)();(w||function(a){m.Util.loadScript(c(),function(){a(window.pdfjsDistBuildPdfWorker.WorkerMessageHandler)})})(p.resolve);return p.promise}function f(c){return URL.createObjectURL(new Blob(["importScripts('"+c+"');"]))}function d(c,a){if(a&&J.has(a))throw Error("Cannot use more than one PDFWorker per port");this.name=c;this.destroyed=false;this.postMessageTransfers=true;this._readyCapability=
(0,m.createPromiseCapability)();this._messageHandler=this._webWorker=this._port=null;if(a){J.set(a,this);this._initializeFromPort(a)}else this._initialize()}var h=0,p=void 0,J=new WeakMap;d.prototype={get promise(){return this._readyCapability.promise},get port(){return this._port},get messageHandler(){return this._messageHandler},_initializeFromPort:function(c){this._port=c;this._messageHandler=new m.MessageHandler("main","worker",c);this._messageHandler.on("ready",function(){});this._readyCapability.resolve()},
_initialize:function(){var b=this;if(!q&&!(0,a.getDefaultSetting)("disableWorker")&&typeof Worker!=="undefined"){var p=c();try{if(!(0,m.isSameOrigin)(window.location.href,p))p=f((new URL(p,window.location)).href);var d=new Worker(p),h=new m.MessageHandler("main","worker",d),J=function(){d.removeEventListener("error",v);h.destroy();d.terminate();b.destroyed?b._readyCapability.reject(Error("Worker was destroyed")):b._setupFakeWorker()},v=function(){b._webWorker||J()};d.addEventListener("error",v);h.on("test",
function(c){d.removeEventListener("error",v);if(b.destroyed)J();else if(c&&c.supportTypedArray){b._messageHandler=h;b._port=d;b._webWorker=d;if(!c.supportTransfers){b.postMessageTransfers=false;i=true}b._readyCapability.resolve();h.send("configure",{verbosity:(0,m.getVerbosityLevel)()})}else{b._setupFakeWorker();h.destroy();d.terminate()}});h.on("ready",function(){d.removeEventListener("error",v);if(b.destroyed)J();else try{e()}catch(c){b._setupFakeWorker()}});var e=function(){var c=(0,a.getDefaultSetting)("postMessageTransfers")&&
!i,c=new Uint8Array([c?255:0]);try{h.send("test",c,[c.buffer])}catch(b){(0,m.info)("Cannot use postMessage transfers");c[0]=0;h.send("test",c)}};e();return}catch(l){(0,m.info)("The worker has been disabled.")}}this._setupFakeWorker()},_setupFakeWorker:function(){var c=this;if(!q&&!(0,a.getDefaultSetting)("disableWorker")){(0,m.warn)("Setting up fake worker.");q=true}b().then(function(a){if(c.destroyed)c._readyCapability.reject(Error("Worker was destroyed"));else{var b=new s(Uint8Array!==Float32Array);
c._port=b;var i="fake"+h++,p=new m.MessageHandler(i+"_worker",i,b);a.setup(p,b);a=new m.MessageHandler(i,i+"_worker",b);c._messageHandler=a;c._readyCapability.resolve()}})},destroy:function(){this.destroyed=true;if(this._webWorker){this._webWorker.terminate();this._webWorker=null}J.delete(this._port);this._port=null;if(this._messageHandler){this._messageHandler.destroy();this._messageHandler=null}}};d.fromPort=function(c){return J.has(c)?J.get(c):new d(null,c)};return d}(),H=function(){function c(b,
i,f,d){this.messageHandler=b;this.loadingTask=i;this.commonObjs=new I;this.fontLoader=new n.FontLoader(i.docId);this.CMapReaderFactory=new d({baseUrl:(0,a.getDefaultSetting)("cMapUrl"),isCompressed:(0,a.getDefaultSetting)("cMapPacked")});this.destroyed=false;this._passwordCapability=this.destroyCapability=null;this._networkStream=f;this._lastProgress=this._fullReader=null;this.pageCache=[];this.pagePromises=[];this.downloadInfoCapability=(0,m.createPromiseCapability)();this.setupMessageHandler()}
c.prototype={destroy:function(){var c=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=true;this.destroyCapability=(0,m.createPromiseCapability)();this._passwordCapability&&this._passwordCapability.reject(Error("Worker was destroyed during onPassword callback"));var a=[];this.pageCache.forEach(function(c){c&&a.push(c._destroy())});this.pageCache=[];this.pagePromises=[];var b=this.messageHandler.sendWithPromise("Terminate",null);a.push(b);Promise.all(a).then(function(){c.fontLoader.clear();
c._networkStream&&c._networkStream.cancelAllRequests();if(c.messageHandler){c.messageHandler.destroy();c.messageHandler=null}c.destroyCapability.resolve()},this.destroyCapability.reject);return this.destroyCapability.promise},setupMessageHandler:function(){var c=this.messageHandler,b=this.loadingTask;c.on("GetReader",function(c,a){var b=this;(0,m.assert)(this._networkStream);this._fullReader=this._networkStream.getFullReader();this._fullReader.onProgress=function(c){b._lastProgress={loaded:c.loaded,
total:c.total}};a.onPull=function(){b._fullReader.read().then(function(c){var b=c.value;if(c.done)a.close();else{(0,m.assert)((0,m.isArrayBuffer)(b));a.enqueue(new Uint8Array(b),1,[b])}}).catch(function(c){a.error(c)})};a.onCancel=function(c){b._fullReader.cancel(c)}},this);c.on("ReaderHeadersReady",function(){var c=this,a=(0,m.createPromiseCapability)(),b=this._fullReader;b.headersReady.then(function(){if(!b.isStreamingSupported||!b.isRangeSupported){if(c._lastProgress){var i=c.loadingTask;if(i.onProgress)i.onProgress(c._lastProgress)}b.onProgress=
function(a){var b=c.loadingTask;if(b.onProgress)b.onProgress({loaded:a.loaded,total:a.total})}}a.resolve({isStreamingSupported:b.isStreamingSupported,isRangeSupported:b.isRangeSupported,contentLength:b.contentLength})},a.reject);return a.promise},this);c.on("GetRangeReader",function(c,a){(0,m.assert)(this._networkStream);var b=this._networkStream.getRangeReader(c.begin,c.end);a.onPull=function(){b.read().then(function(c){var b=c.value;if(c.done)a.close();else{(0,m.assert)((0,m.isArrayBuffer)(b));
a.enqueue(new Uint8Array(b),1,[b])}}).catch(function(c){a.error(c)})};a.onCancel=function(c){b.cancel(c)}},this);c.on("GetDoc",function(c){var a=c.pdfInfo;this.numPages=c.pdfInfo.numPages;c=this.loadingTask;this.pdfDocument=a=new z(a,this,c);c._capability.resolve(a)},this);c.on("PasswordRequest",function(c){var a=this;this._passwordCapability=(0,m.createPromiseCapability)();if(b.onPassword)b.onPassword(function(c){a._passwordCapability.resolve({password:c})},c.code);else this._passwordCapability.reject(new m.PasswordException(c.message,
c.code));return this._passwordCapability.promise},this);c.on("PasswordException",function(c){b._capability.reject(new m.PasswordException(c.message,c.code))},this);c.on("InvalidPDF",function(c){this.loadingTask._capability.reject(new m.InvalidPDFException(c.message))},this);c.on("MissingPDF",function(c){this.loadingTask._capability.reject(new m.MissingPDFException(c.message))},this);c.on("UnexpectedResponse",function(c){this.loadingTask._capability.reject(new m.UnexpectedResponseException(c.message,
c.status))},this);c.on("UnknownError",function(c){this.loadingTask._capability.reject(new m.UnknownErrorException(c.message,c.details))},this);c.on("DataLoaded",function(c){this.downloadInfoCapability.resolve(c)},this);c.on("PDFManagerReady",function(){},this);c.on("StartRenderPage",function(c){if(!this.destroyed){var a=this.pageCache[c.pageIndex];a._stats.timeEnd("Page Request");a._startRenderPage(c.transparency,c.intent)}},this);c.on("RenderPageChunk",function(c){this.destroyed||this.pageCache[c.pageIndex]._renderPageChunk(c.operatorList,
c.intent)},this);c.on("commonobj",function(c){var b=this;if(!this.destroyed){var i=c[0],f=c[1];if(!this.commonObjs.hasData(i))switch(f){case "Font":c=c[2];if("error"in c){c=c.error;(0,m.warn)("Error during font loading: "+c);this.commonObjs.resolve(i,c);break}f=null;if((0,a.getDefaultSetting)("pdfBug")&&u.default.FontInspector&&u.default.FontInspector.enabled)f={registerFont:function(c,a){u.default.FontInspector.fontAdded(c,a)}};var d=new n.FontFaceObject(c,{isEvalSupported:(0,a.getDefaultSetting)("isEvalSupported"),
disableFontFace:(0,a.getDefaultSetting)("disableFontFace"),fontRegistry:f});this.fontLoader.bind([d],function(){b.commonObjs.resolve(i,d)});break;case "FontPath":this.commonObjs.resolve(i,c[2]);break;default:throw Error("Got unknown common object type "+f);}}},this);c.on("obj",function(c){if(!this.destroyed){var a=c[0],b=c[2],i=this.pageCache[c[1]];if(!i.objs.hasData(a))switch(b){case "JpegStream":c=c[3];(0,m.loadJpegStream)(a,c,i.objs);break;case "Image":c=c[3];i.objs.resolve(a,c);if(c&&"data"in
c&&c.data.length>8E6)i.cleanupAfterRender=true;break;default:throw Error("Got unknown object type "+b);}}},this);c.on("DocProgress",function(c){if(!this.destroyed){var a=this.loadingTask;if(a.onProgress)a.onProgress({loaded:c.loaded,total:c.total})}},this);c.on("PageError",function(c){if(!this.destroyed){var a=this.pageCache[c.pageNum-1].intentStates[c.intent];if(a.displayReadyCapability)a.displayReadyCapability.reject(c.error);else throw Error(c.error);if(a.operatorList){a.operatorList.lastChunk=
true;for(c=0;c<a.renderTasks.length;c++)a.renderTasks[c].operatorListChanged()}}},this);c.on("UnsupportedFeature",function(c){if(!this.destroyed){var a=this.loadingTask;if(a.onUnsupportedFeature)a.onUnsupportedFeature(c.featureId)}},this);c.on("JpegDecode",function(c){if(this.destroyed)return Promise.reject(Error("Worker was destroyed"));if(typeof document==="undefined")return Promise.reject(Error('"document" is not defined.'));var a=c[0],b=c[1];return b!==3&&b!==1?Promise.reject(Error("Only 3 components or 1 component can be returned")):
new Promise(function(c,i){var f=new Image;f.onload=function(){var a=f.width,i=f.height,d=a*i,h=d*4,d=new Uint8Array(d*b),v=document.createElement("canvas");v.width=a;v.height=i;v=v.getContext("2d");v.drawImage(f,0,0);var v=v.getImageData(0,0,a,i).data,e,l;if(b===3)for(l=e=0;e<h;e=e+4,l=l+3){d[l]=v[e];d[l+1]=v[e+1];d[l+2]=v[e+2]}else if(b===1)for(l=e=0;e<h;e=e+4,l++)d[l]=v[e];c({data:d,width:a,height:i})};f.onerror=function(){i(Error("JpegDecode failed to load image"))};f.src=a})},this);c.on("FetchBuiltInCMap",
function(c){return this.destroyed?Promise.reject(Error("Worker was destroyed")):this.CMapReaderFactory.fetch({name:c.name})},this)},getData:function(){return this.messageHandler.sendWithPromise("GetData",null)},getPage:function(c){var a=this;if(!Number.isInteger(c)||c<=0||c>this.numPages)return Promise.reject(Error("Invalid page request"));var b=c-1;if(b in this.pagePromises)return this.pagePromises[b];c=this.messageHandler.sendWithPromise("GetPage",{pageIndex:b}).then(function(c){if(a.destroyed)throw Error("Transport destroyed");
c=new C(b,c,a);return a.pageCache[b]=c});return this.pagePromises[b]=c},getPageIndex:function(c){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:c}).catch(function(c){return Promise.reject(Error(c))})},getAnnotations:function(c,a){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:c,intent:a})},getDestinations:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)},getDestination:function(c){return this.messageHandler.sendWithPromise("GetDestination",
{id:c})},getPageLabels:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)},getPageMode:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)},getAttachments:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)},getJavaScript:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)},getOutline:function(){return this.messageHandler.sendWithPromise("GetOutline",null)},getMetadata:function(){return this.messageHandler.sendWithPromise("GetMetadata",
null).then(function(c){return{info:c[0],metadata:c[1]?new t.Metadata(c[1]):null}})},getStats:function(){return this.messageHandler.sendWithPromise("GetStats",null)},startCleanup:function(){var c=this;this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var a=0,b=c.pageCache.length;a<b;a++){var i=c.pageCache[a];i&&i.cleanup()}c.commonObjs.clear();c.fontLoader.clear()})}};return c}(),I=function(){function c(){this.objs=Object.create(null)}c.prototype={ensureObj:function(c){if(this.objs[c])return this.objs[c];
var a={capability:(0,m.createPromiseCapability)(),data:null,resolved:false};return this.objs[c]=a},get:function(c,a){if(a){this.ensureObj(c).capability.promise.then(a);return null}var b=this.objs[c];if(!b||!b.resolved)throw Error("Requesting object that isn't resolved yet "+c);return b.data},resolve:function(c,a){var b=this.ensureObj(c);b.resolved=true;b.data=a;b.capability.resolve(a)},isResolved:function(c){var a=this.objs;return!a[c]?false:a[c].resolved},hasData:function(c){return this.isResolved(c)},
getData:function(c){var a=this.objs;return!a[c]||!a[c].resolved?null:a[c].data},clear:function(){this.objs=Object.create(null)}};return c}(),K=function(){function c(a){this._internalRenderTask=a;this.onContinue=null}c.prototype={get promise(){return this._internalRenderTask.capability.promise},cancel:function(){this._internalRenderTask.cancel()},then:function(c,a){return this.promise.then.apply(this.promise,arguments)}};return c}(),E=function(){function c(a,b,i,f,d,h,v,e){this.callback=a;this.params=
b;this.objs=i;this.commonObjs=f;this.operatorListIdx=null;this.operatorList=d;this.pageNumber=h;this.canvasFactory=v;this.webGLContext=e;this.running=false;this.graphicsReadyCallback=null;this.cancelled=this.useRequestAnimationFrame=this.graphicsReady=false;this.capability=(0,m.createPromiseCapability)();this.task=new K(this);this._continueBound=this._continue.bind(this);this._scheduleNextBound=this._scheduleNext.bind(this);this._nextBound=this._next.bind(this);this._canvas=b.canvasContext.canvas}
var b=new WeakMap;c.prototype={initializeGraphics:function(c){if(this._canvas){if(b.has(this._canvas))throw Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");b.set(this._canvas,this)}if(!this.cancelled){if((0,a.getDefaultSetting)("pdfBug")&&u.default.StepperManager&&u.default.StepperManager.enabled){this.stepper=u.default.StepperManager.create(this.pageNumber-1);this.stepper.init(this.operatorList);
this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint()}var i=this.params;this.gfx=new h.CanvasGraphics(i.canvasContext,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,i.imageLayer);this.gfx.beginDrawing({transform:i.transform,viewport:i.viewport,transparency:c,background:i.background});this.operatorListIdx=0;this.graphicsReady=true;this.graphicsReadyCallback&&this.graphicsReadyCallback()}},cancel:function(){this.running=false;this.cancelled=true;this._canvas&&b.delete(this._canvas);
this.callback(new a.RenderingCancelledException("Rendering cancelled, page "+this.pageNumber,"canvas"))},operatorListChanged:function(){if(this.graphicsReady){this.stepper&&this.stepper.updateOperatorList(this.operatorList);this.running||this._continue()}else if(!this.graphicsReadyCallback)this.graphicsReadyCallback=this._continueBound},_continue:function(){this.running=true;if(!this.cancelled)if(this.task.onContinue)this.task.onContinue(this._scheduleNextBound);else this._scheduleNext()},_scheduleNext:function(){this.useRequestAnimationFrame&&
typeof window!=="undefined"?window.requestAnimationFrame(this._nextBound):Promise.resolve(void 0).then(this._nextBound)},_next:function(){if(!this.cancelled){this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper);if(this.operatorListIdx===this.operatorList.argsArray.length){this.running=false;if(this.operatorList.lastChunk){this.gfx.endDrawing();this._canvas&&b.delete(this._canvas);this.callback()}}}}};return c}();d.version="2.0.211";
d.build="6bbe9107";d.getDocument=function(b){var i=new f;if(typeof b==="string")b={url:b};else if((0,m.isArrayBuffer)(b))b={data:b};else if(b instanceof x)b={range:b};else{if((typeof b==="undefined"?"undefined":e(b))!=="object")throw Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!b.url&&!b.data&&!b.range)throw Error("Invalid parameter object: need either .data, .range or .url");}var d={},h=null,v=null,p=a.DOMCMapReaderFactory,J;for(J in b)if(J===
"url"&&typeof window!=="undefined")d[J]=(new URL(b[J],window.location)).href;else if(J==="range")h=b[J];else if(J==="worker")v=b[J];else if(J==="data"&&!(b[J]instanceof Uint8Array)){var s=b[J];if(typeof s==="string")d[J]=(0,m.stringToBytes)(s);else if((typeof s==="undefined"?"undefined":e(s))==="object"&&s!==null&&!isNaN(s.length))d[J]=new Uint8Array(s);else if((0,m.isArrayBuffer)(s))d[J]=new Uint8Array(s);else throw Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");
}else J==="CMapReaderFactory"?p=b[J]:d[J]=b[J];d.rangeChunkSize=d.rangeChunkSize||65536;d.ignoreErrors=d.stopAtErrors!==true;J=Object.values(m.NativeImageDecoding);if(d.nativeImageDecoderSupport===void 0||!J.includes(d.nativeImageDecoderSupport))d.nativeImageDecoderSupport=m.NativeImageDecoding.DECODE;if(!v){v=(J=(0,a.getDefaultSetting)("workerPort"))?A.fromPort(J):new A;i._worker=v}var q=i.docId;v.promise.then(function(){if(i.destroyed)throw Error("Loading aborted");return k(v,d,h,q).then(function(a){if(i.destroyed)throw Error("Loading aborted");
var b=void 0;h?b=new l.PDFDataTransportStream(d,h):d.data||(b=new c(d));a=new m.MessageHandler(q,a,v.port);a.postMessageTransfers=v.postMessageTransfers;b=new H(a,i,b,p);i._transport=b;a.send("Ready",null)})}).catch(i._capability.reject);return i};d.LoopbackPort=s;d.PDFDataRangeTransport=x;d.PDFWorker=A;d.PDFDocumentProxy=z;d.PDFPageProxy=C;d.setPDFNetworkStreamClass=function(a){c=a};d.version="2.0.211";d.build="6bbe9107"},function(g,d,b){Object.defineProperty(d,"__esModule",{value:!0});d.Metadata=
void 0;var k=function(){function b(a,d){for(var h=0;h<d.length;h++){var e=d[h];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(a,d,h){d&&b(a.prototype,d);h&&b(a,h);return a}}(),j=b(0),e=b(10),g=function(){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");(0,j.assert)("string"===typeof a,"Metadata: input is not a string");a=this._repair(a);a=(new e.SimpleXMLParser).parseFromString(a);
this._metadata=Object.create(null);this._parse(a)}k(b,[{key:"_repair",value:function(a){return a.replace(/>\\376\\377([^<]+)/g,function(a,b){for(var d=b.replace(/\\([0-3])([0-7])([0-7])/g,function(a,b,d,h){return String.fromCharCode(64*b+8*d+1*h)}).replace(/&(amp|apos|gt|lt|quot);/g,function(a,b){switch(b){case "amp":return"&";case "apos":return"'";case "gt":return">";case "lt":return"<";case "quot":return'"'}throw Error("_repair: "+b+" isn't defined.");}),e="",l=0,j=d.length;l<j;l+=2)var q=256*d.charCodeAt(l)+
d.charCodeAt(l+1),e=32<=q&&127>q&&60!==q&&62!==q&&38!==q?e+String.fromCharCode(q):e+("&#x"+(65536+q).toString(16).substring(1)+";");return">"+e})}},{key:"_parse",value:function(a){a=a.documentElement;if("rdf:rdf"!==a.nodeName.toLowerCase())for(a=a.firstChild;a&&"rdf:rdf"!==a.nodeName.toLowerCase();)a=a.nextSibling;var b=a?a.nodeName.toLowerCase():null;if(a&&"rdf:rdf"===b&&a.hasChildNodes())for(var a=a.childNodes,b=0,d=a.length;b<d;b++){var e=a[b];if("rdf:description"===e.nodeName.toLowerCase())for(var j=
0,l=e.childNodes.length;j<l;j++)if("#text"!==e.childNodes[j].nodeName.toLowerCase()){var m=e.childNodes[j];this._metadata[m.nodeName.toLowerCase()]=m.textContent.trim()}}}},{key:"get",value:function(a){return this._metadata[a]||null}},{key:"getAll",value:function(){return this._metadata}},{key:"has",value:function(a){return"undefined"!==typeof this._metadata[a]}}]);return b}();d.Metadata=g},function(g,d,b){function k(c,a){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return a&&("object"===typeof a||"function"===typeof a)?a:c}function j(c,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}function e(c,a){if(!(c instanceof a))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(d,"__esModule",
{value:!0});d.AnnotationLayer=void 0;var m=function M(c,a,b){null===c&&(c=Function.prototype);var i=Object.getOwnPropertyDescriptor(c,a);if(void 0===i)return c=Object.getPrototypeOf(c),null===c?void 0:M(c,a,b);if("value"in i)return i.value;a=i.get;return void 0===a?void 0:a.call(b)},a=function(){function c(a,b){for(var i=0;i<b.length;i++){var d=b[i];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(a,b,i){b&&c(a.prototype,
b);i&&c(a,i);return a}}(),n=b(10),h=b(0),u=function(){function b(){e(this,b)}a(b,null,[{key:"create",value:function(a){switch(a.data.annotationType){case h.AnnotationType.LINK:return new l(a);case h.AnnotationType.TEXT:return new r(a);case h.AnnotationType.WIDGET:switch(a.data.fieldType){case "Tx":return new o(a);case "Btn":return a.data.radioButton?new v(a):a.data.checkBox?new i(a):new w(a);case "Ch":return new c(a)}return new q(a);case h.AnnotationType.POPUP:return new f(a);case h.AnnotationType.LINE:return new z(a);
case h.AnnotationType.SQUARE:return new C(a);case h.AnnotationType.CIRCLE:return new s(a);case h.AnnotationType.POLYLINE:return new A(a);case h.AnnotationType.POLYGON:return new H(a);case h.AnnotationType.HIGHLIGHT:return new I(a);case h.AnnotationType.UNDERLINE:return new K(a);case h.AnnotationType.SQUIGGLY:return new E(a);case h.AnnotationType.STRIKEOUT:return new G(a);case h.AnnotationType.STAMP:return new L(a);case h.AnnotationType.FILEATTACHMENT:return new N(a);default:return new t(a)}}}]);return b}(),
t=function(){function c(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;e(this,c);this.isRenderable=b;this.data=a.data;this.layer=a.layer;this.page=a.page;this.viewport=a.viewport;this.linkService=a.linkService;this.downloadManager=a.downloadManager;this.imageResourcesPath=a.imageResourcesPath;this.renderInteractiveForms=a.renderInteractiveForms;this.svgFactory=a.svgFactory;b&&(this.container=this._createContainer(i))}
a(c,[{key:"_createContainer",value:function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,a=this.data,b=this.page,i=this.viewport,d=document.createElement("section"),f=a.rect[2]-a.rect[0],e=a.rect[3]-a.rect[1];d.setAttribute("data-annotation-id",a.id);b=h.Util.normalizeRect([a.rect[0],b.view[3]-a.rect[1]+b.view[1],a.rect[2],b.view[3]-a.rect[3]+b.view[1]]);n.CustomStyle.setProp("transform",d,"matrix("+i.transform.join(",")+")");n.CustomStyle.setProp("transformOrigin",d,-b[0]+"px "+
-b[1]+"px");if(!c&&0<a.borderStyle.width){d.style.borderWidth=a.borderStyle.width+"px";a.borderStyle.style!==h.AnnotationBorderStyleType.UNDERLINE&&(f-=2*a.borderStyle.width,e-=2*a.borderStyle.width);c=a.borderStyle.horizontalCornerRadius;i=a.borderStyle.verticalCornerRadius;(0<c||0<i)&&n.CustomStyle.setProp("borderRadius",d,c+"px / "+i+"px");switch(a.borderStyle.style){case h.AnnotationBorderStyleType.SOLID:d.style.borderStyle="solid";break;case h.AnnotationBorderStyleType.DASHED:d.style.borderStyle=
"dashed";break;case h.AnnotationBorderStyleType.BEVELED:(0,h.warn)("Unimplemented border style: beveled");break;case h.AnnotationBorderStyleType.INSET:(0,h.warn)("Unimplemented border style: inset");break;case h.AnnotationBorderStyleType.UNDERLINE:d.style.borderBottomStyle="solid"}a.color?d.style.borderColor=h.Util.makeCssRgb(a.color[0]|0,a.color[1]|0,a.color[2]|0):d.style.borderWidth=0}d.style.left=b[0]+"px";d.style.top=b[1]+"px";d.style.width=f+"px";d.style.height=e+"px";return d}},{key:"_createPopup",
value:function(c,a,b){a||(a=document.createElement("div"),a.style.height=c.style.height,a.style.width=c.style.width,c.appendChild(a));a=(new x({container:c,trigger:a,color:b.color,title:b.title,contents:b.contents,hideWrapper:!0})).render();a.style.left=c.style.width;c.appendChild(a)}},{key:"render",value:function(){(0,h.unreachable)("Abstract method `AnnotationElement.render` called")}}]);return c}(),l=function(c){function b(c){e(this,b);var a=!(!c.data.url&&!c.data.dest&&!c.data.action);return k(this,
(b.__proto__||Object.getPrototypeOf(b)).call(this,c,a))}j(b,c);a(b,[{key:"render",value:function(){this.container.className="linkAnnotation";var c=document.createElement("a");(0,n.addLinkAttributes)(c,{url:this.data.url,target:this.data.newWindow?n.LinkTarget.BLANK:void 0});this.data.url||(this.data.action?this._bindNamedAction(c,this.data.action):this._bindLink(c,this.data.dest));this.container.appendChild(c);return this.container}},{key:"_bindLink",value:function(c,a){var b=this;c.href=this.linkService.getDestinationHash(a);
c.onclick=function(){a&&b.linkService.navigateTo(a);return!1};a&&(c.className="internalLink")}},{key:"_bindNamedAction",value:function(c,a){var b=this;c.href=this.linkService.getAnchorUrl("");c.onclick=function(){b.linkService.executeNamedAction(a);return!1};c.className="internalLink"}}]);return b}(t),r=function(c){function b(c){e(this,b);var a=!(!c.data.hasPopup&&!c.data.title&&!c.data.contents);return k(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c,a))}j(b,c);a(b,[{key:"render",value:function(){this.container.className=
"textAnnotation";var c=document.createElement("img");c.style.height=this.container.style.height;c.style.width=this.container.style.width;c.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg";c.alt="[{{type}} Annotation]";c.dataset.l10nId="text_annotation_type";c.dataset.l10nArgs=JSON.stringify({type:this.data.name});this.data.hasPopup||this._createPopup(this.container,c,this.data);this.container.appendChild(c);return this.container}}]);return b}(t),q=function(c){function b(){e(this,
b);return k(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}j(b,c);a(b,[{key:"render",value:function(){return this.container}}]);return b}(t),o=function(c){function b(c){e(this,b);var a=c.renderInteractiveForms||!c.data.hasAppearance&&!!c.data.fieldValue;return k(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c,a))}j(b,c);a(b,[{key:"render",value:function(){var c=["left","center","right"];this.container.className="textWidgetAnnotation";var a=null;if(this.renderInteractiveForms){if(this.data.multiLine?
(a=document.createElement("textarea"),a.textContent=this.data.fieldValue):(a=document.createElement("input"),a.type="text",a.setAttribute("value",this.data.fieldValue)),a.disabled=this.data.readOnly,null!==this.data.maxLen&&(a.maxLength=this.data.maxLen),this.data.comb){var b=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;a.classList.add("comb");a.style.letterSpacing="calc("+b+"px - 1ch)"}}else a=document.createElement("div"),a.textContent=this.data.fieldValue,a.style.verticalAlign="middle",
a.style.display="table-cell",b=null,this.data.fontRefName&&(b=this.page.commonObjs.getData(this.data.fontRefName)),this._setTextStyle(a,b);null!==this.data.textAlignment&&(a.style.textAlign=c[this.data.textAlignment]);this.container.appendChild(a);return this.container}},{key:"_setTextStyle",value:function(c,a){var b=c.style;b.fontSize=this.data.fontSize+"px";b.direction=0>this.data.fontDirection?"rtl":"ltr";a&&(b.fontWeight=a.black?a.bold?"900":"bold":a.bold?"bold":"normal",b.fontStyle=a.italic?
"italic":"normal",b.fontFamily=(a.loadedName?'"'+a.loadedName+'", ':"")+(a.fallbackName||"Helvetica, sans-serif"))}}]);return b}(q),i=function(c){function b(c){e(this,b);return k(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c,c.renderInteractiveForms))}j(b,c);a(b,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation checkBox";var c=document.createElement("input");c.disabled=this.data.readOnly;c.type="checkbox";this.data.fieldValue&&"Off"!==this.data.fieldValue&&
c.setAttribute("checked",!0);this.container.appendChild(c);return this.container}}]);return b}(q),v=function(c){function b(c){e(this,b);return k(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c,c.renderInteractiveForms))}j(b,c);a(b,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation radioButton";var c=document.createElement("input");c.disabled=this.data.readOnly;c.type="radio";c.name=this.data.fieldName;this.data.fieldValue===this.data.buttonValue&&c.setAttribute("checked",
!0);this.container.appendChild(c);return this.container}}]);return b}(q),w=function(c){function b(){e(this,b);return k(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}j(b,c);a(b,[{key:"render",value:function(){var c=m(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"render",this).call(this);c.className="buttonWidgetAnnotation pushButton";return c}}]);return b}(l),c=function(c){function b(c){e(this,b);return k(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c,c.renderInteractiveForms))}
j(b,c);a(b,[{key:"render",value:function(){this.container.className="choiceWidgetAnnotation";var c=document.createElement("select");c.disabled=this.data.readOnly;this.data.combo||(c.size=this.data.options.length,this.data.multiSelect&&(c.multiple=!0));for(var a=0,b=this.data.options.length;a<b;a++){var i=this.data.options[a],d=document.createElement("option");d.textContent=i.displayValue;d.value=i.exportValue;0<=this.data.fieldValue.indexOf(i.displayValue)&&d.setAttribute("selected",!0);c.appendChild(d)}this.container.appendChild(c);
return this.container}}]);return b}(q),f=function(c){function b(c){e(this,b);var a=!(!c.data.title&&!c.data.contents);return k(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c,a))}j(b,c);a(b,[{key:"render",value:function(){this.container.className="popupAnnotation";if(0<=["Line","Square","Circle","PolyLine","Polygon"].indexOf(this.data.parentType))return this.container;var c=this.layer.querySelector('[data-annotation-id="'+this.data.parentId+'"]');if(!c)return this.container;var a=new x({container:this.container,
trigger:c,color:this.data.color,title:this.data.title,contents:this.data.contents}),b=parseFloat(c.style.left),i=parseFloat(c.style.width);n.CustomStyle.setProp("transformOrigin",this.container,-(b+i)+"px -"+c.style.top);this.container.style.left=b+i+"px";this.container.appendChild(a.render());return this.container}}]);return b}(t),x=function(){function c(a){e(this,c);this.container=a.container;this.trigger=a.trigger;this.color=a.color;this.title=a.title;this.contents=a.contents;this.hideWrapper=
a.hideWrapper||!1;this.pinned=!1}a(c,[{key:"render",value:function(){var c=document.createElement("div");c.className="popupWrapper";this.hideElement=this.hideWrapper?c:this.container;this.hideElement.setAttribute("hidden",!0);var a=document.createElement("div");a.className="popup";var b=this.color;b&&(a.style.backgroundColor=h.Util.makeCssRgb(0.7*(255-b[0])+b[0]|0,0.7*(255-b[1])+b[1]|0,0.7*(255-b[2])+b[2]|0));var b=this._formatContents(this.contents),i=document.createElement("h1");i.textContent=this.title;
this.trigger.addEventListener("click",this._toggle.bind(this));this.trigger.addEventListener("mouseover",this._show.bind(this,!1));this.trigger.addEventListener("mouseout",this._hide.bind(this,!1));a.addEventListener("click",this._hide.bind(this,!0));a.appendChild(i);a.appendChild(b);c.appendChild(a);return c}},{key:"_formatContents",value:function(c){for(var a=document.createElement("p"),c=c.split(/(?:\r\n?|\n)/),b=0,i=c.length;b<i;++b)a.appendChild(document.createTextNode(c[b])),b<i-1&&a.appendChild(document.createElement("br"));
return a}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&(this.pinned=!0);this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}},{key:"_hide",value:function(){if(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1)this.pinned=!1;!this.hideElement.hasAttribute("hidden")&&!this.pinned&&(this.hideElement.setAttribute("hidden",
!0),this.container.style.zIndex-=1)}}]);return c}(),z=function(c){function b(c){e(this,b);var a=!(!c.data.hasPopup&&!c.data.title&&!c.data.contents);return k(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c,a,!0))}j(b,c);a(b,[{key:"render",value:function(){this.container.className="lineAnnotation";var c=this.data,a=this.svgFactory.create(c.rect[2]-c.rect[0],c.rect[3]-c.rect[1]),b=this.svgFactory.createElement("svg:line");b.setAttribute("x1",c.rect[2]-c.lineCoordinates[0]);b.setAttribute("y1",
c.rect[3]-c.lineCoordinates[1]);b.setAttribute("x2",c.rect[2]-c.lineCoordinates[2]);b.setAttribute("y2",c.rect[3]-c.lineCoordinates[3]);b.setAttribute("stroke-width",c.borderStyle.width);b.setAttribute("stroke","transparent");a.appendChild(b);this.container.append(a);this._createPopup(this.container,b,c);return this.container}}]);return b}(t),C=function(c){function b(c){e(this,b);var a=!(!c.data.hasPopup&&!c.data.title&&!c.data.contents);return k(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,
c,a,!0))}j(b,c);a(b,[{key:"render",value:function(){this.container.className="squareAnnotation";var c=this.data,a=c.rect[2]-c.rect[0],b=c.rect[3]-c.rect[1],i=this.svgFactory.create(a,b),d=c.borderStyle.width,f=this.svgFactory.createElement("svg:rect");f.setAttribute("x",d/2);f.setAttribute("y",d/2);f.setAttribute("width",a-d);f.setAttribute("height",b-d);f.setAttribute("stroke-width",d);f.setAttribute("stroke","transparent");f.setAttribute("fill","none");i.appendChild(f);this.container.append(i);
this._createPopup(this.container,f,c);return this.container}}]);return b}(t),s=function(c){function b(c){e(this,b);var a=!(!c.data.hasPopup&&!c.data.title&&!c.data.contents);return k(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c,a,!0))}j(b,c);a(b,[{key:"render",value:function(){this.container.className="circleAnnotation";var c=this.data,a=c.rect[2]-c.rect[0],b=c.rect[3]-c.rect[1],i=this.svgFactory.create(a,b),d=c.borderStyle.width,f=this.svgFactory.createElement("svg:ellipse");f.setAttribute("cx",
a/2);f.setAttribute("cy",b/2);f.setAttribute("rx",a/2-d/2);f.setAttribute("ry",b/2-d/2);f.setAttribute("stroke-width",d);f.setAttribute("stroke","transparent");f.setAttribute("fill","none");i.appendChild(f);this.container.append(i);this._createPopup(this.container,f,c);return this.container}}]);return b}(t),A=function(c){function b(c){e(this,b);var a=!(!c.data.hasPopup&&!c.data.title&&!c.data.contents),c=k(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c,a,!0));c.containerClassName="polylineAnnotation";
c.svgElementName="svg:polyline";return c}j(b,c);a(b,[{key:"render",value:function(){this.container.className=this.containerClassName;for(var c=this.data,a=this.svgFactory.create(c.rect[2]-c.rect[0],c.rect[3]-c.rect[1]),b=c.vertices,i=[],d=0,f=b.length;d<f;d++)i.push(b[d].x-c.rect[0]+","+(c.rect[3]-b[d].y));i=i.join(" ");b=c.borderStyle.width;d=this.svgFactory.createElement(this.svgElementName);d.setAttribute("points",i);d.setAttribute("stroke-width",b);d.setAttribute("stroke","transparent");d.setAttribute("fill",
"none");a.appendChild(d);this.container.append(a);this._createPopup(this.container,d,c);return this.container}}]);return b}(t),H=function(c){function a(c){e(this,a);c=k(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,c));c.containerClassName="polygonAnnotation";c.svgElementName="svg:polygon";return c}j(a,c);return a}(A),I=function(c){function b(c){e(this,b);var a=!(!c.data.hasPopup&&!c.data.title&&!c.data.contents);return k(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c,a,!0))}j(b,
c);a(b,[{key:"render",value:function(){this.container.className="highlightAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return b}(t),K=function(c){function b(c){e(this,b);var a=!(!c.data.hasPopup&&!c.data.title&&!c.data.contents);return k(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c,a,!0))}j(b,c);a(b,[{key:"render",value:function(){this.container.className="underlineAnnotation";this.data.hasPopup||this._createPopup(this.container,
null,this.data);return this.container}}]);return b}(t),E=function(c){function b(c){e(this,b);var a=!(!c.data.hasPopup&&!c.data.title&&!c.data.contents);return k(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c,a,!0))}j(b,c);a(b,[{key:"render",value:function(){this.container.className="squigglyAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return b}(t),G=function(c){function b(c){e(this,b);var a=!(!c.data.hasPopup&&!c.data.title&&
!c.data.contents);return k(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c,a,!0))}j(b,c);a(b,[{key:"render",value:function(){this.container.className="strikeoutAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return b}(t),L=function(c){function b(c){e(this,b);var a=!(!c.data.hasPopup&&!c.data.title&&!c.data.contents);return k(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c,a,!0))}j(b,c);a(b,[{key:"render",value:function(){this.container.className=
"stampAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return b}(t),N=function(c){function b(c){e(this,b);var c=k(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c,!0)),a=c.data.file;c.filename=(0,n.getFilenameFromUrl)(a.filename);c.content=a.content;c.linkService.onFileAttachmentAnnotation({id:(0,h.stringToPDFString)(a.filename),filename:a.filename,content:a.content});return c}j(b,c);a(b,[{key:"render",value:function(){this.container.className=
"fileAttachmentAnnotation";var c=document.createElement("div");c.style.height=this.container.style.height;c.style.width=this.container.style.width;c.addEventListener("dblclick",this._download.bind(this));!this.data.hasPopup&&(this.data.title||this.data.contents)&&this._createPopup(this.container,c,this.data);this.container.appendChild(c);return this.container}},{key:"_download",value:function(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,h.warn)("Download cannot be started due to unavailable download manager")}}]);
return b}(t),g=function(){function c(){e(this,c)}a(c,null,[{key:"render",value:function(c){for(var a=0,b=c.annotations.length;a<b;a++){var i=c.annotations[a];i&&(i=u.create({data:i,layer:c.div,page:c.page,viewport:c.viewport,linkService:c.linkService,downloadManager:c.downloadManager,imageResourcesPath:c.imageResourcesPath||(0,n.getDefaultSetting)("imageResourcesPath"),renderInteractiveForms:c.renderInteractiveForms||!1,svgFactory:new n.DOMSVGFactory}),i.isRenderable&&c.div.appendChild(i.render()))}}},
{key:"update",value:function(c){for(var a=0,b=c.annotations.length;a<b;a++){var i=c.div.querySelector('[data-annotation-id="'+c.annotations[a].id+'"]');i&&n.CustomStyle.setProp("transform",i,"matrix("+c.viewport.transform.join(",")+")")}c.div.removeAttribute("hidden")}}]);return c}();d.AnnotationLayer=g},function(g,d,b){Object.defineProperty(d,"__esModule",{value:!0});d.renderTextLayer=void 0;var k=b(0),j=b(10),g=function(){function b(a){if(!a._canceled){var d=a._textDivs,h=a._capability,i=d.length;
if(!(i>u)&&!a._textContentStream)for(var e=0;e<i;e++)a._layoutText(d[e]);a._renderingDone=!0;h.resolve()}}function d(b){for(var h=b._bounds,e=b._viewport,e=a(e.width,e.height,h),i=0;i<e.length;i++){var v=h[i].div,l=b._textDivProperties.get(v);if(0===l.angle)l.paddingLeft=h[i].left-e[i].left,l.paddingTop=h[i].top-e[i].top,l.paddingRight=e[i].right-h[i].right,l.paddingBottom=e[i].bottom-h[i].bottom;else{var c=e[i],f=h[i],j=f.m,m=j[0],g=j[1],f=[[0,0],[0,f.size[1]],[f.size[0],0],f.size],s=new Float64Array(64);
f.forEach(function(a,b){var i=k.Util.applyTransform(a,j);s[b+0]=m&&(c.left-i[0])/m;s[b+4]=g&&(c.top-i[1])/g;s[b+8]=m&&(c.right-i[0])/m;s[b+12]=g&&(c.bottom-i[1])/g;s[b+16]=g&&(c.left-i[0])/-g;s[b+20]=m&&(c.top-i[1])/m;s[b+24]=g&&(c.right-i[0])/-g;s[b+28]=m&&(c.bottom-i[1])/m;s[b+32]=m&&(c.left-i[0])/-m;s[b+36]=g&&(c.top-i[1])/-g;s[b+40]=m&&(c.right-i[0])/-m;s[b+44]=g&&(c.bottom-i[1])/-g;s[b+48]=g&&(c.left-i[0])/g;s[b+52]=m&&(c.top-i[1])/-m;s[b+56]=g&&(c.right-i[0])/g;s[b+60]=m&&(c.bottom-i[1])/-m});
var f=function(c,a,b){for(var i=0,d=0;d<b;d++){var f=c[a++];0<f&&(i=i?Math.min(f,i):f)}return i},A=1+Math.min(Math.abs(m),Math.abs(g));l.paddingLeft=f(s,32,16)/A;l.paddingTop=f(s,48,16)/A;l.paddingRight=f(s,0,16)/A;l.paddingBottom=f(s,16,16)/A}b._textDivProperties.set(v,l)}}function a(a,b,d){var i=d.map(function(a,c){return{x1:a.left,y1:a.top,x2:a.right,y2:a.bottom,index:c,x1New:void 0,x2New:void 0}});g(a,i);var h=Array(d.length);i.forEach(function(a){h[a.index]={left:a.x1New,top:0,right:a.x2New,
bottom:0}});d.map(function(b,c){var d=h[c],e=i[c];e.x1=b.top;e.y1=a-d.right;e.x2=b.bottom;e.y2=a-d.left;e.index=c;e.x1New=void 0;e.x2New=void 0});g(b,i);i.forEach(function(a){var c=a.index;h[c].top=a.x1New;h[c].bottom=a.x2New});return h}function g(a,b){b.sort(function(a,b){return a.x1-b.x1||a.index-b.index});var d=[{start:-Infinity,end:Infinity,boundary:{x1:-Infinity,y1:-Infinity,x2:0,y2:Infinity,index:-1,x1New:0,x2New:0}}];b.forEach(function(a){for(var b=0;b<d.length&&d[b].end<=a.y1;)b++;for(var h=
d.length-1;0<=h&&d[h].start>=a.y2;)h--;var c,f,e,l=-Infinity;for(e=b;e<=h;e++){c=d[e];f=c.boundary;var j;j=f.x2>a.x1?f.index>a.index?f.x1New:a.x1:void 0===f.x2New?(f.x2+a.x1)/2:f.x2New;j>l&&(l=j)}a.x1New=l;for(e=b;e<=h;e++)c=d[e],f=c.boundary,void 0===f.x2New?f.x2>a.x1?f.index>a.index&&(f.x2New=f.x2):f.x2New=l:f.x2New>l&&(f.x2New=Math.max(l,f.x2));j=[];var s=null;for(e=b;e<=h;e++)c=d[e],f=c.boundary,f=f.x2>a.x2?f:a,s===f?j[j.length-1].end=c.end:(j.push({start:c.start,end:c.end,boundary:f}),s=f);d[b].start<
a.y1&&(j[0].start=a.y1,j.unshift({start:d[b].start,end:a.y1,boundary:d[b].boundary}));a.y2<d[h].end&&(j[j.length-1].end=a.y2,j.push({start:a.y2,end:d[h].end,boundary:d[h].boundary}));for(e=b;e<=h;e++)if(c=d[e],f=c.boundary,void 0===f.x2New){c=!1;for(a=b-1;!c&&0<=a&&d[a].start>=f.y1;a--)c=d[a].boundary===f;for(a=h+1;!c&&a<d.length&&d[a].end<=f.y2;a++)c=d[a].boundary===f;for(a=0;!c&&a<j.length;a++)c=j[a].boundary===f;c||(f.x2New=l)}Array.prototype.splice.apply(d,[b,h-b+1].concat(j))});d.forEach(function(b){b=
b.boundary;void 0===b.x2New&&(b.x2New=Math.max(a,b.x2))})}function h(a){var b=a.textContentStream,d=a.container,i=a.viewport,h=a.textDivs,e=a.textContentItemsStr,c=a.enhanceTextSelection;this._textContent=a.textContent;this._textContentStream=b;this._container=d;this._viewport=i;this._textDivs=h||[];this._textContentItemsStr=e||[];this._enhanceTextSelection=!!c;this._layoutTextCtx=this._layoutTextLastFontFamily=this._layoutTextLastFontSize=this._reader=null;this._textDivProperties=new WeakMap;this._canceled=
this._renderingDone=!1;this._capability=(0,k.createPromiseCapability)();this._renderTimer=null;this._bounds=[]}var u=1E5,t=/\S/,l=["left: ",0,"px; top: ",0,"px; font-size: ",0,"px; font-family: ","",";"];h.prototype={get promise(){return this._capability.promise},cancel:function(){this._reader&&(this._reader.cancel(new k.AbortException("text layer task cancelled")),this._reader=null);this._canceled=!0;null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null);this._capability.reject("canceled")},
_processItems:function(a,b){for(var d=0,i=a.length;d<i;d++){this._textContentItemsStr.push(a[d].str);var h=a[d],e=b,c=document.createElement("div"),f={style:null,angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};this._textDivs.push(c);if(t.test(h.str)){var m=k.Util.transform(this._viewport.transform,h.transform),g=Math.atan2(m[1],m[0]),u=e[h.fontName];u.vertical&&(g+=Math.PI/2);var s=Math.sqrt(m[2]*m[2]+m[3]*m[3]),A=s;u.ascent?
A*=u.ascent:u.descent&&(A*=1+u.descent);var n=e=void 0;0===g?(e=m[4],n=m[5]-A):(e=m[4]+A*Math.sin(g),n=m[5]-A*Math.cos(g));l[1]=e;l[3]=n;l[5]=s;l[7]=u.fontFamily;f.style=l.join("");c.setAttribute("style",f.style);c.textContent=h.str;if((0,j.getDefaultSetting)("pdfBug"))c.dataset.fontName=h.fontName;0!==g&&(f.angle=g*(180/Math.PI));1<h.str.length&&(f.canvasWidth=u.vertical?h.height*this._viewport.scale:h.width*this._viewport.scale);this._textDivProperties.set(c,f);this._textContentStream&&this._layoutText(c);
this._enhanceTextSelection&&(f=1,m=0,0!==g&&(f=Math.cos(g),m=Math.sin(g)),h=(u.vertical?h.height:h.width)*this._viewport.scale,A=u=void 0,0!==g?(u=[f,m,-m,f,e,n],A=k.Util.getAxialAlignedBoundingBox([0,0,h,s],u)):A=[e,n,e+h,n+s],this._bounds.push({left:A[0],top:A[1],right:A[2],bottom:A[3],div:c,size:[h,s],m:u}))}else f.isWhitespace=!0,this._textDivProperties.set(c,f)}},_layoutText:function(a){var b=this._container,d=this._textDivProperties.get(a);if(!d.isWhitespace){var i=a.style.fontSize,h=a.style.fontFamily;
if(i!==this._layoutTextLastFontSize||h!==this._layoutTextLastFontFamily)this._layoutTextCtx.font=i+" "+h,this._lastFontSize=i,this._lastFontFamily=h;i=this._layoutTextCtx.measureText(a.textContent).width;h="";0!==d.canvasWidth&&0<i&&(d.scale=d.canvasWidth/i,h="scaleX("+d.scale+")");0!==d.angle&&(h="rotate("+d.angle+"deg) "+h);""!==h&&(d.originalTransform=h,j.CustomStyle.setProp("transform",a,h));this._textDivProperties.set(a,d);b.appendChild(a)}},_render:function(a){var d=this,h=(0,k.createPromiseCapability)(),
i=Object.create(null),l=document.createElement("canvas");l.mozOpaque=!0;this._layoutTextCtx=l.getContext("2d",{alpha:!1});if(this._textContent)this._processItems(this._textContent.items,this._textContent.styles),h.resolve();else if(this._textContentStream)this._reader=this._textContentStream.getReader(),function c(){d._reader.read().then(function(a){var b=a.value;a.done?h.resolve():(k.Util.extendObj(i,b.styles),d._processItems(b.items,i),c())},h.reject)}();else throw Error('Neither "textContent" nor "textContentStream" parameters specified.');
h.promise.then(function(){i=null;a?d._renderTimer=setTimeout(function(){b(d);d._renderTimer=null},a):b(d)},this._capability.reject)},expandTextDivs:function(a){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(d(this),this._bounds=null);for(var b=0,h=this._textDivs.length;b<h;b++){var i=this._textDivs[b],e=this._textDivProperties.get(i);if(!e.isWhitespace)if(a){var l="",c="";1!==e.scale&&(l="scaleX("+e.scale+")");0!==e.angle&&(l="rotate("+e.angle+"deg) "+l);0!==e.paddingLeft&&
(c+=" padding-left: "+e.paddingLeft/e.scale+"px;",l+=" translateX("+-e.paddingLeft/e.scale+"px)");0!==e.paddingTop&&(c+=" padding-top: "+e.paddingTop+"px;",l+=" translateY("+-e.paddingTop+"px)");0!==e.paddingRight&&(c+=" padding-right: "+e.paddingRight/e.scale+"px;");0!==e.paddingBottom&&(c+=" padding-bottom: "+e.paddingBottom+"px;");""!==c&&i.setAttribute("style",e.style+c);""!==l&&j.CustomStyle.setProp("transform",i,l)}else i.style.padding=0,j.CustomStyle.setProp("transform",i,e.originalTransform||
"")}}}};return function(a){var b=new h({textContent:a.textContent,textContentStream:a.textContentStream,container:a.container,viewport:a.viewport,textDivs:a.textDivs,textContentItemsStr:a.textContentItemsStr,enhanceTextSelection:a.enhanceTextSelection});b._render(a.timeout);return b}}();d.renderTextLayer=g},function(g,d,b){var k,j;Object.defineProperty(d,"__esModule",{value:!0});d.SVGGraphics=void 0;var e=b(0),m=b(10),g=function(){throw Error("Not implemented: SVGGraphics");};k="normal";j="#000000";
var a=function(){function a(b,i,h,e){var c=e,f=i.length;h[c]=f>>24&255;h[c+1]=f>>16&255;h[c+2]=f>>8&255;h[c+3]=f&255;c+=4;h[c]=b.charCodeAt(0)&255;h[c+1]=b.charCodeAt(1)&255;h[c+2]=b.charCodeAt(2)&255;h[c+3]=b.charCodeAt(3)&255;c+=4;h.set(i,c);c+=i.length;b=-1;for(e+=4;e<c;e++)b=b>>>8^d[(b^h[e])&255];e=b^-1;h[c]=e>>24&255;h[c+1]=e>>16&255;h[c+2]=e>>8&255;h[c+3]=e&255}for(var b=new Uint8Array([137,80,78,71,13,10,26,10]),d=new Int32Array(256),l=0;256>l;l++){for(var j=l,m=0;8>m;m++)j=j&1?3988292384^
j>>1&2147483647:j>>1&2147483647;d[l]=j}return function(d,i,l){var j=void 0===d.kind?e.ImageKind.GRAYSCALE_1BPP:d.kind,c=d.width,f=d.height,m,g,q,s=d.data;switch(j){case e.ImageKind.GRAYSCALE_1BPP:g=0;m=1;q=c+7>>3;break;case e.ImageKind.RGB_24BPP:g=2;m=8;q=3*c;break;case e.ImageKind.RGBA_32BPP:g=6;m=8;q=4*c;break;default:throw Error("invalid format");}var d=new Uint8Array((1+q)*f),A=0,k=0,t;for(t=0;t<f;++t)d[A++]=0,d.set(s.subarray(k,k+q),A),k+=q,A+=q;if(j===e.ImageKind.GRAYSCALE_1BPP&&l)for(t=A=0;t<
f;t++){A++;for(l=0;l<q;l++)d[A++]^=255}var c=new Uint8Array([c>>24&255,c>>16&255,c>>8&255,c&255,f>>24&255,f>>16&255,f>>8&255,f&255,m,g,0,0,0]),n;a:{if((0,e.isNodeJS)())try{var r;r=8<=parseInt(process.versions.node)?d:new Buffer(d);var G=require("zlib").deflateSync(r,{level:9});n=G instanceof Uint8Array?G:new Uint8Array(G);break a}catch(L){(0,e.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+L)}G=d.length;n=Math.ceil(G/65535);n=new Uint8Array(2+G+5*n+4);r=0;n[r++]=120;n[r++]=
156;for(f=0;65535<G;)n[r++]=0,n[r++]=255,n[r++]=255,n[r++]=0,n[r++]=0,n.set(d.subarray(f,f+65535),r),r+=65535,f+=65535,G-=65535;n[r++]=1;n[r++]=G&255;n[r++]=G>>8&255;n[r++]=~G&255;n[r++]=(~G&65535)>>8&255;n.set(d.subarray(f),r);r+=d.length-f;G=1;for(l=f=0;l<d.length;++l)G=(G+(d[l]&255))%65521,f=(f+G)%65521;d=f<<16|G;n[r++]=d>>24&255;n[r++]=d>>16&255;n[r++]=d>>8&255;n[r++]=d&255}d=new Uint8Array(b.length+36+c.length+n.length);r=0;d.set(b,r);r+=b.length;a("IHDR",c,d,r);r+=12+c.length;a("IDATA",n,d,
r);r+=12+n.length;a("IEND",new Uint8Array(0),d,r);return(0,e.createObjectURL)(d,"image/png",i)}}(),n=function(){function a(){this.fontSizeScale=1;this.fontWeight=k;this.fontSize=0;this.textMatrix=e.IDENTITY_MATRIX;this.fontMatrix=e.FONT_IDENTITY_MATRIX;this.wordSpacing=this.charSpacing=this.lineY=this.lineX=this.y=this.x=this.leading=0;this.textHScale=1;this.textRise=0;this.fillColor=j;this.strokeColor="#000000";this.lineWidth=this.strokeAlpha=this.fillAlpha=1;this.lineCap=this.lineJoin="";this.miterLimit=
0;this.dashArray=[];this.dashPhase=0;this.dependencies=[];this.clipGroup=this.activeClipUrl=null;this.maskId=""}a.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(a,b){this.x=a;this.y=b}};return a}();d.SVGGraphics=g=function(){function b(a){if(Number.isInteger(a))return a.toString();var a=a.toFixed(10),d=a.length-1;if("0"!==a[d])return a;do d--;while("0"===a[d]);return a.substr(0,"."===a[d]?d:d+1)}function d(a){if(0===a[4]&&0===a[5]){if(0===a[1]&&0===a[2])return 1===
a[0]&&1===a[3]?"":"scale("+b(a[0])+" "+b(a[3])+")";if(a[0]===a[3]&&a[1]===-a[2])return a=180*Math.acos(a[0])/Math.PI,"rotate("+b(a)+")"}else if(1===a[0]&&0===a[1]&&0===a[2]&&1===a[3])return"translate("+b(a[4])+" "+b(a[5])+")";return"matrix("+b(a[0])+" "+b(a[1])+" "+b(a[2])+" "+b(a[3])+" "+b(a[4])+" "+b(a[5])+")"}function g(a,b,d){this.svgFactory=new m.DOMSVGFactory;this.current=new n;this.transformMatrix=e.IDENTITY_MATRIX;this.transformStack=[];this.extraStack=[];this.commonObjs=a;this.objs=b;this.pendingClip=
null;this.embedFonts=this.pendingEOFill=!1;this.embeddedFonts=Object.create(null);this.cssStyle=null;this.forceDataSchema=!!d}var l=["butt","round","square"],r=["miter","round","bevel"],q=0,o=0;g.prototype={save:function(){this.transformStack.push(this.transformMatrix);var a=this.current;this.extraStack.push(a);this.current=a.clone()},restore:function(){this.transformMatrix=this.transformStack.pop();this.current=this.extraStack.pop();this.tgrp=this.pendingClip=null},group:function(a){this.save();
this.executeOpTree(a);this.restore()},loadDependencies:function(a){for(var b=this,d=a.fnArray,c=d.length,a=a.argsArray,f=0;f<c;f++)if(e.OPS.dependency===d[f])for(var h=a[f],l=0,j=h.length;l<j;l++){var s=h[l];this.current.dependencies.push("g_"===s.substring(0,2)?new Promise(function(c){b.commonObjs.get(s,c)}):new Promise(function(c){b.objs.get(s,c)}))}return Promise.all(this.current.dependencies)},transform:function(a,b,d,c,f,h){this.transformMatrix=e.Util.transform(this.transformMatrix,[a,b,d,c,
f,h]);this.tgrp=null},getSVG:function(a,b){var d=this;this.viewport=b;var c=this._initialize(b);return this.loadDependencies(a).then(function(){d.transformMatrix=e.IDENTITY_MATRIX;var b=d.convertOpList(a);d.executeOpTree(b);return c})},convertOpList:function(a){var b=a.argsArray,d=a.fnArray,c=d.length,f=[],a=[],h;for(h in e.OPS)f[e.OPS[h]]=h;for(h=0;h<c;h++){var l=d[h];a.push({fnId:l,fn:f[l],args:b[h]})}b=[];d=[];c=a.length;for(f=0;f<c;f++)"save"===a[f].fn?(b.push({fnId:92,fn:"group",items:[]}),d.push(b),
b=b[b.length-1].items):"restore"===a[f].fn?b=d.pop():b.push(a[f]);return b},executeOpTree:function(a){for(var b=a.length,d=0;d<b;d++){var c=a[d].fn,f=a[d].args;switch(a[d].fnId|0){case e.OPS.beginText:this.beginText();break;case e.OPS.setLeading:this.setLeading(f);break;case e.OPS.setLeadingMoveText:this.setLeadingMoveText(f[0],f[1]);break;case e.OPS.setFont:this.setFont(f);break;case e.OPS.showText:this.showText(f[0]);break;case e.OPS.showSpacedText:this.showText(f[0]);break;case e.OPS.endText:this.endText();
break;case e.OPS.moveText:this.moveText(f[0],f[1]);break;case e.OPS.setCharSpacing:this.setCharSpacing(f[0]);break;case e.OPS.setWordSpacing:this.setWordSpacing(f[0]);break;case e.OPS.setHScale:this.setHScale(f[0]);break;case e.OPS.setTextMatrix:this.setTextMatrix(f[0],f[1],f[2],f[3],f[4],f[5]);break;case e.OPS.setTextRise:this.setTextRise(f[0]);break;case e.OPS.setLineWidth:this.setLineWidth(f[0]);break;case e.OPS.setLineJoin:this.setLineJoin(f[0]);break;case e.OPS.setLineCap:this.setLineCap(f[0]);
break;case e.OPS.setMiterLimit:this.setMiterLimit(f[0]);break;case e.OPS.setFillRGBColor:this.setFillRGBColor(f[0],f[1],f[2]);break;case e.OPS.setStrokeRGBColor:this.setStrokeRGBColor(f[0],f[1],f[2]);break;case e.OPS.setDash:this.setDash(f[0],f[1]);break;case e.OPS.setGState:this.setGState(f[0]);break;case e.OPS.fill:this.fill();break;case e.OPS.eoFill:this.eoFill();break;case e.OPS.stroke:this.stroke();break;case e.OPS.fillStroke:this.fillStroke();break;case e.OPS.eoFillStroke:this.eoFillStroke();
break;case e.OPS.clip:this.clip("nonzero");break;case e.OPS.eoClip:this.clip("evenodd");break;case e.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case e.OPS.paintJpegXObject:this.paintJpegXObject(f[0],f[1],f[2]);break;case e.OPS.paintImageXObject:this.paintImageXObject(f[0]);break;case e.OPS.paintInlineImageXObject:this.paintInlineImageXObject(f[0]);break;case e.OPS.paintImageMaskXObject:this.paintImageMaskXObject(f[0]);break;case e.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(f[0],
f[1]);break;case e.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case e.OPS.closePath:this.closePath();break;case e.OPS.closeStroke:this.closeStroke();break;case e.OPS.closeFillStroke:this.closeFillStroke();break;case e.OPS.nextLine:this.nextLine();break;case e.OPS.transform:this.transform(f[0],f[1],f[2],f[3],f[4],f[5]);break;case e.OPS.constructPath:this.constructPath(f[0],f[1]);break;case e.OPS.endPath:this.endPath();break;case 92:this.group(a[d].items);break;default:(0,e.warn)("Unimplemented operator "+
c)}}},setWordSpacing:function(a){this.current.wordSpacing=a},setCharSpacing:function(a){this.current.charSpacing=a},nextLine:function(){this.moveText(0,this.current.leading)},setTextMatrix:function(a,d,e,c,f,l){var j=this.current;this.current.textMatrix=this.current.lineMatrix=[a,d,e,c,f,l];this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0;j.xcoords=[];j.tspan=this.svgFactory.createElement("svg:tspan");j.tspan.setAttributeNS(null,"font-family",j.fontFamily);j.tspan.setAttributeNS(null,
"font-size",b(j.fontSize)+"px");j.tspan.setAttributeNS(null,"y",b(-j.y));j.txtElement=this.svgFactory.createElement("svg:text");j.txtElement.appendChild(j.tspan)},beginText:function(){this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0;this.current.textMatrix=e.IDENTITY_MATRIX;this.current.lineMatrix=e.IDENTITY_MATRIX;this.current.tspan=this.svgFactory.createElement("svg:tspan");this.current.txtElement=this.svgFactory.createElement("svg:text");this.current.txtgrp=this.svgFactory.createElement("svg:g");
this.current.xcoords=[]},moveText:function(a,d){var e=this.current;this.current.x=this.current.lineX+=a;this.current.y=this.current.lineY+=d;e.xcoords=[];e.tspan=this.svgFactory.createElement("svg:tspan");e.tspan.setAttributeNS(null,"font-family",e.fontFamily);e.tspan.setAttributeNS(null,"font-size",b(e.fontSize)+"px");e.tspan.setAttributeNS(null,"y",b(-e.y))},showText:function(a){var l=this.current,m=l.font,c=l.fontSize;if(0!==c){var f=l.charSpacing,g=l.wordSpacing,q=l.fontDirection,r=l.textHScale*
q,s=a.length,A=m.vertical,n=c*l.fontMatrix[0],t=0,o;for(o=0;o<s;++o){var E=a[o];if(null===E)t+=q*g;else if((0,e.isNum)(E))t+=0.001*-E*c;else{var G=E.fontChar,L=E.width*n+((E.isSpace?g:0)+f)*q;if(E.isInFont||m.missingFile)l.xcoords.push(l.x+t*r),l.tspan.textContent+=G;t+=L}}A?l.y-=t*r:l.x+=t*r;l.tspan.setAttributeNS(null,"x",l.xcoords.map(b).join(" "));l.tspan.setAttributeNS(null,"y",b(-l.y));l.tspan.setAttributeNS(null,"font-family",l.fontFamily);l.tspan.setAttributeNS(null,"font-size",b(l.fontSize)+
"px");"normal"!==l.fontStyle&&l.tspan.setAttributeNS(null,"font-style",l.fontStyle);l.fontWeight!==k&&l.tspan.setAttributeNS(null,"font-weight",l.fontWeight);l.fillColor!==j&&l.tspan.setAttributeNS(null,"fill",l.fillColor);a=l.textMatrix;0!==l.textRise&&(a=a.slice(),a[5]+=l.textRise);l.txtElement.setAttributeNS(null,"transform",d(a)+" scale(1, -1)");l.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve");l.txtElement.appendChild(l.tspan);l.txtgrp.appendChild(l.txtElement);
this._ensureTransformGroup().appendChild(l.txtElement)}},setLeadingMoveText:function(a,b){this.setLeading(-b);this.moveText(a,b)},addFontStyle:function(a){this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var b=(0,e.createObjectURL)(a.data,a.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'+a.loadedName+'"; src: url('+b+"); }\n"},setFont:function(a){var d=
this.current,l=this.commonObjs.get(a[0]),a=a[1];this.current.font=l;this.embedFonts&&(l.data&&!this.embeddedFonts[l.loadedName])&&(this.addFontStyle(l),this.embeddedFonts[l.loadedName]=l);d.fontMatrix=l.fontMatrix?l.fontMatrix:e.FONT_IDENTITY_MATRIX;var c=l.black?l.bold?"bolder":"bold":l.bold?"bold":"normal",f=l.italic?"italic":"normal";0>a?(a=-a,d.fontDirection=-1):d.fontDirection=1;d.fontSize=a;d.fontFamily=l.loadedName;d.fontWeight=c;d.fontStyle=f;d.tspan=this.svgFactory.createElement("svg:tspan");
d.tspan.setAttributeNS(null,"y",b(-d.y));d.xcoords=[]},endText:function(){},setLineWidth:function(a){this.current.lineWidth=a},setLineCap:function(a){this.current.lineCap=l[a]},setLineJoin:function(a){this.current.lineJoin=r[a]},setMiterLimit:function(a){this.current.miterLimit=a},setStrokeAlpha:function(a){this.current.strokeAlpha=a},setStrokeRGBColor:function(a,b,d){this.current.strokeColor=e.Util.makeCssRgb(a,b,d)},setFillAlpha:function(a){this.current.fillAlpha=a},setFillRGBColor:function(a,b,
d){this.current.fillColor=e.Util.makeCssRgb(a,b,d);this.current.tspan=this.svgFactory.createElement("svg:tspan");this.current.xcoords=[]},setDash:function(a,b){this.current.dashArray=a;this.current.dashPhase=b},constructPath:function(a,d){var l=this.current,c=l.x,f=l.y;l.path=this.svgFactory.createElement("svg:path");for(var j=[],m=a.length,g=0,s=0;g<m;g++)switch(a[g]|0){case e.OPS.rectangle:var c=d[s++],f=d[s++],A=d[s++],q=d[s++],A=c+A,q=f+q;j.push("M",b(c),b(f),"L",b(A),b(f),"L",b(A),b(q),"L",b(c),
b(q),"Z");break;case e.OPS.moveTo:c=d[s++];f=d[s++];j.push("M",b(c),b(f));break;case e.OPS.lineTo:c=d[s++];f=d[s++];j.push("L",b(c),b(f));break;case e.OPS.curveTo:c=d[s+4];f=d[s+5];j.push("C",b(d[s]),b(d[s+1]),b(d[s+2]),b(d[s+3]),b(c),b(f));s+=6;break;case e.OPS.curveTo2:c=d[s+2];f=d[s+3];j.push("C",b(c),b(f),b(d[s]),b(d[s+1]),b(d[s+2]),b(d[s+3]));s+=4;break;case e.OPS.curveTo3:c=d[s+2];f=d[s+3];j.push("C",b(d[s]),b(d[s+1]),b(c),b(f),b(c),b(f));s+=4;break;case e.OPS.closePath:j.push("Z")}l.path.setAttributeNS(null,
"d",j.join(" "));l.path.setAttributeNS(null,"fill","none");this._ensureTransformGroup().appendChild(l.path);l.element=l.path;l.setCurrentPoint(c,f)},endPath:function(){if(this.pendingClip){var a=this.current,b="clippath"+q;q++;var e=this.svgFactory.createElement("svg:clipPath");e.setAttributeNS(null,"id",b);e.setAttributeNS(null,"transform",d(this.transformMatrix));var c=a.element.cloneNode();"evenodd"===this.pendingClip?c.setAttributeNS(null,"clip-rule","evenodd"):c.setAttributeNS(null,"clip-rule",
"nonzero");this.pendingClip=null;e.appendChild(c);this.defs.appendChild(e);a.activeClipUrl&&(a.clipGroup=null,this.extraStack.forEach(function(c){c.clipGroup=null}));a.activeClipUrl="url(#"+b+")";this.tgrp=null}},clip:function(a){this.pendingClip=a},closePath:function(){var a=this.current;if(a.path){var b=a.path.getAttributeNS(null,"d");a.path.setAttributeNS(null,"d",b+"Z")}},setLeading:function(a){this.current.leading=-a},setTextRise:function(a){this.current.textRise=a},setHScale:function(a){this.current.textHScale=
a/100},setGState:function(a){for(var b=0,d=a.length;b<d;b++){var c=a[b],f=c[0],c=c[1];switch(f){case "LW":this.setLineWidth(c);break;case "LC":this.setLineCap(c);break;case "LJ":this.setLineJoin(c);break;case "ML":this.setMiterLimit(c);break;case "D":this.setDash(c[0],c[1]);break;case "Font":this.setFont(c);break;case "CA":this.setStrokeAlpha(c);break;case "ca":this.setFillAlpha(c);break;default:(0,e.warn)("Unimplemented graphic state "+f)}}},fill:function(){var a=this.current;a.element&&(a.element.setAttributeNS(null,
"fill",a.fillColor),a.element.setAttributeNS(null,"fill-opacity",a.fillAlpha))},stroke:function(){var a=this.current;a.element&&(a.element.setAttributeNS(null,"stroke",a.strokeColor),a.element.setAttributeNS(null,"stroke-opacity",a.strokeAlpha),a.element.setAttributeNS(null,"stroke-miterlimit",b(a.miterLimit)),a.element.setAttributeNS(null,"stroke-linecap",a.lineCap),a.element.setAttributeNS(null,"stroke-linejoin",a.lineJoin),a.element.setAttributeNS(null,"stroke-width",b(a.lineWidth)+"px"),a.element.setAttributeNS(null,
"stroke-dasharray",a.dashArray.map(b).join(" ")),a.element.setAttributeNS(null,"stroke-dashoffset",b(a.dashPhase)+"px"),a.element.setAttributeNS(null,"fill","none"))},eoFill:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd");this.fill()},fillStroke:function(){this.stroke();this.fill()},eoFillStroke:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd");this.fillStroke()},closeStroke:function(){this.closePath();
this.stroke()},closeFillStroke:function(){this.closePath();this.fillStroke()},paintSolidColorImageMask:function(){var a=this.current,b=this.svgFactory.createElement("svg:rect");b.setAttributeNS(null,"x","0");b.setAttributeNS(null,"y","0");b.setAttributeNS(null,"width","1px");b.setAttributeNS(null,"height","1px");b.setAttributeNS(null,"fill",a.fillColor);this._ensureTransformGroup().appendChild(b)},paintJpegXObject:function(a,d,e){var a=this.objs.get(a),c=this.svgFactory.createElement("svg:image");
c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.src);c.setAttributeNS(null,"width",b(d));c.setAttributeNS(null,"height",b(e));c.setAttributeNS(null,"x","0");c.setAttributeNS(null,"y",b(-e));c.setAttributeNS(null,"transform","scale("+b(1/d)+" "+b(-1/e)+")");this._ensureTransformGroup().appendChild(c)},paintImageXObject:function(a){(a=this.objs.get(a))?this.paintInlineImageXObject(a):(0,e.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(d,e){var l=d.width,c=
d.height,f=a(d,this.forceDataSchema,!!e),j=this.svgFactory.createElement("svg:rect");j.setAttributeNS(null,"x","0");j.setAttributeNS(null,"y","0");j.setAttributeNS(null,"width",b(l));j.setAttributeNS(null,"height",b(c));this.current.element=j;this.clip("nonzero");j=this.svgFactory.createElement("svg:image");j.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);j.setAttributeNS(null,"x","0");j.setAttributeNS(null,"y",b(-c));j.setAttributeNS(null,"width",b(l)+"px");j.setAttributeNS(null,"height",
b(c)+"px");j.setAttributeNS(null,"transform","scale("+b(1/l)+" "+b(-1/c)+")");e?e.appendChild(j):this._ensureTransformGroup().appendChild(j)},paintImageMaskXObject:function(a){var d=this.current,e=a.width,c=a.height,f=d.fillColor;d.maskId="mask"+o++;var l=this.svgFactory.createElement("svg:mask");l.setAttributeNS(null,"id",d.maskId);var j=this.svgFactory.createElement("svg:rect");j.setAttributeNS(null,"x","0");j.setAttributeNS(null,"y","0");j.setAttributeNS(null,"width",b(e));j.setAttributeNS(null,
"height",b(c));j.setAttributeNS(null,"fill",f);j.setAttributeNS(null,"mask","url(#"+d.maskId+")");this.defs.appendChild(l);this._ensureTransformGroup().appendChild(j);this.paintInlineImageXObject(a,l)},paintFormXObjectBegin:function(a,d){Array.isArray(a)&&6===a.length&&this.transform(a[0],a[1],a[2],a[3],a[4],a[5]);if(Array.isArray(d)&&4===d.length){var e=d[2]-d[0],c=d[3]-d[1],f=this.svgFactory.createElement("svg:rect");f.setAttributeNS(null,"x",d[0]);f.setAttributeNS(null,"y",d[1]);f.setAttributeNS(null,
"width",b(e));f.setAttributeNS(null,"height",b(c));this.current.element=f;this.clip("nonzero");this.endPath()}},paintFormXObjectEnd:function(){},_initialize:function(a){var b=this.svgFactory.create(a.width,a.height),e=this.svgFactory.createElement("svg:defs");b.appendChild(e);this.defs=e;e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"transform",d(a.transform));b.appendChild(e);this.svg=e;return b},_ensureClipGroup:function(){if(!this.current.clipGroup){var a=this.svgFactory.createElement("svg:g");
a.setAttributeNS(null,"clip-path",this.current.activeClipUrl);this.svg.appendChild(a);this.current.clipGroup=a}return this.current.clipGroup},_ensureTransformGroup:function(){this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",d(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp));return this.tgrp}};return g}();d.SVGGraphics=g},function(g,d,b){var g=b(0),k=b(114),j=b(57),
e=b(60),m=b(59),a=b(10),n=b(61),b=g.isNodeJS()?b(120).PDFNodeStream:"undefined"!==typeof Response&&"body"in Response.prototype&&"undefined"!==typeof ReadableStream?b(121).PDFFetchStream:b(122).PDFNetworkStream;j.setPDFNetworkStreamClass(b);d.PDFJS=k.PDFJS;d.build=j.build;d.version=j.version;d.getDocument=j.getDocument;d.LoopbackPort=j.LoopbackPort;d.PDFDataRangeTransport=j.PDFDataRangeTransport;d.PDFWorker=j.PDFWorker;d.renderTextLayer=e.renderTextLayer;d.AnnotationLayer=m.AnnotationLayer;d.CustomStyle=
a.CustomStyle;d.createPromiseCapability=g.createPromiseCapability;d.PasswordResponses=g.PasswordResponses;d.InvalidPDFException=g.InvalidPDFException;d.MissingPDFException=g.MissingPDFException;d.SVGGraphics=n.SVGGraphics;d.NativeImageDecoding=g.NativeImageDecoding;d.UnexpectedResponseException=g.UnexpectedResponseException;d.OPS=g.OPS;d.UNSUPPORTED_FEATURES=g.UNSUPPORTED_FEATURES;d.createValidAbsoluteUrl=g.createValidAbsoluteUrl;d.createObjectURL=g.createObjectURL;d.removeNullCharacters=g.removeNullCharacters;
d.shadow=g.shadow;d.createBlob=g.createBlob;d.RenderingCancelledException=a.RenderingCancelledException;d.getFilenameFromUrl=a.getFilenameFromUrl;d.addLinkAttributes=a.addLinkAttributes},function(g,d,b){var k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};if("undefined"===typeof PDFJS||!PDFJS.compatibilityChecked){var j=b(14),e="undefined"!==
typeof navigator&&navigator.userAgent||"",m=/Android/.test(e),a=/Android\s[0-4][^\d]/.test(e),n=0<=e.indexOf("Chrom"),g=0<=e.indexOf("CriOS"),d=0<=e.indexOf("Trident"),h=/\b(iPad|iPhone|iPod)(?=;)/.test(e),u=/Safari\//.test(e)&&!/(Chrome\/|Android\s)/.test(e),t="object"===("undefined"===typeof window?"undefined":k(window))&&"object"===("undefined"===typeof document?"undefined":k(document));"undefined"===typeof PDFJS&&(j.PDFJS={});PDFJS.compatibilityChecked=!0;j.URL||(j.URL=j.webkitURL);(function(){if(typeof XMLHttpRequest!==
"undefined"){var a=XMLHttpRequest.prototype,b=new XMLHttpRequest;"overrideMimeType"in b||Object.defineProperty(a,"overrideMimeType",{value:function(){}});if(!("responseType"in b)){Object.defineProperty(a,"responseType",{get:function(){return this._responseType||"text"},set:function(a){if(a==="text"||a==="arraybuffer"){this._responseType=a;a==="arraybuffer"&&typeof this.overrideMimeType==="function"&&this.overrideMimeType("text/plain; charset=x-user-defined")}}});Object.defineProperty(a,"response",
{get:function(){if(this.responseType!=="arraybuffer")return this.responseText;var a=this.responseText,b,d=a.length,e=new Uint8Array(d);for(b=0;b<d;++b)e[b]=a.charCodeAt(b)&255;return e.buffer}})}}})();(function(){t&&("dataset"in document.createElement("div")||Object.defineProperty(HTMLElement.prototype,"dataset",{get:function(){if(this._dataset)return this._dataset;for(var a={},b=0,d=this.attributes.length;b<d;b++){var e=this.attributes[b];if(e.name.substring(0,5)==="data-"){var h=e.name.substring(5).replace(/\-([a-z])/g,
function(a,b){return b.toUpperCase()});a[h]=e.value}}Object.defineProperty(this,"_dataset",{value:a,writable:false,enumerable:false});return a},enumerable:true}))})();if(d||g)PDFJS.disableCreateObjectURL=!0;"undefined"!==typeof navigator&&!("language"in navigator)&&(PDFJS.locale=navigator.userLanguage||"en-US");if(u||h)PDFJS.disableRange=!0,PDFJS.disableStream=!0;(function(){if(t)if(window.CanvasPixelArray){if(typeof window.CanvasPixelArray.prototype.set!=="function")window.CanvasPixelArray.prototype.set=
function(a){for(var b=0,d=this.length;b<d;b++)this[b]=a[b]}}else{var b=false;if(n)b=(b=e.match(/Chrom(e|ium)\/([0-9]+)\./))&&parseInt(b[2])<21;else if(m)b=a;else if(u)b=(b=e.match(/Version\/([0-9]+)\.([0-9]+)\.([0-9]+) Safari\//))&&parseInt(b[1])<6;if(b){var b=window.CanvasRenderingContext2D.prototype,d=b.createImageData;b.createImageData=function(a,b){var e=d.call(this,a,b);e.data.set=function(a){for(var b=0,c=this.length;b<c;b++)this[b]=a[b]};return e};b=null}}})();if(h||m)PDFJS.maxCanvasPixels=
5242880;t&&(d&&window.parent!==window)&&(PDFJS.disableFullscreen=!0);(function(){t&&("currentScript"in document||Object.defineProperty(document,"currentScript",{get:function(){var a=document.getElementsByTagName("script");return a[a.length-1]},enumerable:true,configurable:true}))})();(function(){if(t){var a=document.createElement("input");try{a.type="number"}catch(b){var a=a.constructor.prototype,d=Object.getOwnPropertyDescriptor(a,"type");Object.defineProperty(a,"type",{get:function(){return d.get.call(this)},
set:function(a){d.set.call(this,a==="number"?"text":a)},enumerable:true,configurable:true})}}})();(function(){if(t&&document.attachEvent){var a=document.constructor.prototype,b=Object.getOwnPropertyDescriptor(a,"readyState");Object.defineProperty(a,"readyState",{get:function(){var a=b.get.call(this);return a==="interactive"?"loading":a},set:function(a){b.set.call(this,a)},enumerable:true,configurable:true})}})();(function(){if(t&&typeof Element.prototype.remove==="undefined")Element.prototype.remove=
function(){this.parentNode&&this.parentNode.removeChild(this)}})();Object.values||(Object.values=b(64));Array.prototype.includes||(Array.prototype.includes=b(69));Math.log2||(Math.log2=b(71));Number.isNaN||(Number.isNaN=b(73));Number.isInteger||(Number.isInteger=b(75));j.Promise||(j.Promise=b(78));j.WeakMap||(j.WeakMap=b(96));(function(){function a(c){if(c===""){h.call(this);this._isInvalid=true}return c.toLowerCase()}function b(c){var a=c.charCodeAt(0);return a>32&&a<127&&[34,35,60,62,63,96].indexOf(a)===
-1?c:encodeURIComponent(c)}function d(c){var a=c.charCodeAt(0);return a>32&&a<127&&[34,35,60,62,96].indexOf(a)===-1?c:encodeURIComponent(c)}function e(c,f,j){function m(c){v.push(c)}var g=f||"scheme start",k=0,o="",H=false,p=false,v=[];a:for(;(c[k-1]!==u||k===0)&&!this._isInvalid;){var y=c[k];switch(g){case "scheme start":if(y&&s.test(y)){o=o+y.toLowerCase();g="scheme"}else if(f){m("Invalid scheme.");break a}else{o="";g="no scheme";continue}break;case "scheme":if(y&&A.test(y))o=o+y.toLowerCase();
else if(y===":"){this._scheme=o;o="";if(f)break a;if(t[this._scheme]!==void 0)this._isRelative=true;g=this._scheme==="file"?"relative":this._isRelative&&j&&j._scheme===this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}else if(f){y!==u&&m("Code point not allowed in scheme: "+y);break a}else{o="";k=0;g="no scheme";continue}break;case "scheme data":if(y==="?"){this._query="?";g="query"}else if(y==="#"){this._fragment="#";g="fragment"}else if(y!==u&&y!=="\t"&&
y!=="\n"&&y!=="\r")this._schemeData=this._schemeData+b(y);break;case "no scheme":if(!j||t[j._scheme]===void 0){m("Missing scheme.");h.call(this);this._isInvalid=true}else{g="relative";continue}break;case "relative or authority":if(y==="/"&&c[k+1]==="/")g="authority ignore slashes";else{m("Expected /, got: "+y);g="relative";continue}break;case "relative":this._isRelative=true;if(this._scheme!=="file")this._scheme=j._scheme;if(y===u){this._host=j._host;this._port=j._port;this._path=j._path.slice();
this._query=j._query;this._username=j._username;this._password=j._password;break a}else if(y==="/"||y==="\\"){y==="\\"&&m("\\ is an invalid code point.");g="relative slash"}else if(y==="?"){this._host=j._host;this._port=j._port;this._path=j._path.slice();this._query="?";this._username=j._username;this._password=j._password;g="query"}else if(y==="#"){this._host=j._host;this._port=j._port;this._path=j._path.slice();this._query=j._query;this._fragment="#";this._username=j._username;this._password=j._password;
g="fragment"}else{var g=c[k+1],w=c[k+2];if(this._scheme!=="file"||!s.test(y)||g!==":"&&g!=="|"||w!==u&&w!=="/"&&w!=="\\"&&w!=="?"&&w!=="#"){this._host=j._host;this._port=j._port;this._username=j._username;this._password=j._password;this._path=j._path.slice();this._path.pop()}g="relative path";continue}break;case "relative slash":if(y==="/"||y==="\\"){y==="\\"&&m("\\ is an invalid code point.");g=this._scheme==="file"?"file host":"authority ignore slashes"}else{if(this._scheme!=="file"){this._host=
j._host;this._port=j._port;this._username=j._username;this._password=j._password}g="relative path";continue}break;case "authority first slash":if(y==="/")g="authority second slash";else{m("Expected '/', got: "+y);g="authority ignore slashes";continue}break;case "authority second slash":g="authority ignore slashes";if(y!=="/"){m("Expected '/', got: "+y);continue}break;case "authority ignore slashes":if(y!=="/"&&y!=="\\"){g="authority";continue}else m("Expected authority, got: "+y);break;case "authority":if(y===
"@"){if(H){m("@ already seen.");o=o+"%40"}H=true;for(y=0;y<o.length;y++){w=o[y];if(w==="\t"||w==="\n"||w==="\r")m("Invalid whitespace in authority.");else if(w===":"&&this._password===null)this._password="";else{w=b(w);this._password!==null?this._password=this._password+w:this._username=this._username+w}}o=""}else if(y===u||y==="/"||y==="\\"||y==="?"||y==="#"){k=k-o.length;o="";g="host";continue}else o=o+y;break;case "file host":if(y===u||y==="/"||y==="\\"||y==="?"||y==="#"){if(o.length===2&&s.test(o[0])&&
(o[1]===":"||o[1]==="|"))g="relative path";else{if(o.length!==0){this._host=a.call(this,o);o=""}g="relative path start"}continue}else y==="\t"||y==="\n"||y==="\r"?m("Invalid whitespace in file host."):o=o+y;break;case "host":case "hostname":if(y===":"&&!p){this._host=a.call(this,o);o="";g="port";if(f==="hostname")break a}else if(y===u||y==="/"||y==="\\"||y==="?"||y==="#"){this._host=a.call(this,o);o="";g="relative path start";if(f)break a;continue}else if(y!=="\t"&&y!=="\n"&&y!=="\r"){y==="["?p=true:
y==="]"&&(p=false);o=o+y}else m("Invalid code point in host/hostname: "+y);break;case "port":if(/[0-9]/.test(y))o=o+y;else if(y===u||y==="/"||y==="\\"||y==="?"||y==="#"||f){if(o!==""){o=parseInt(o,10);if(o!==t[this._scheme])this._port=o+"";o=""}if(f)break a;g="relative path start";continue}else if(y==="\t"||y==="\n"||y==="\r")m("Invalid code point in port: "+y);else{h.call(this);this._isInvalid=true}break;case "relative path start":y==="\\"&&m("'\\' not allowed in path.");g="relative path";if(y!==
"/"&&y!=="\\")continue;break;case "relative path":if(y===u||y==="/"||y==="\\"||!f&&(y==="?"||y==="#")){y==="\\"&&m("\\ not allowed in relative path.");if(w=n[o.toLowerCase()])o=w;if(o===".."){this._path.pop();y!=="/"&&y!=="\\"&&this._path.push("")}else if(o==="."&&y!=="/"&&y!=="\\")this._path.push("");else if(o!=="."){this._scheme==="file"&&(this._path.length===0&&o.length===2&&s.test(o[0])&&o[1]==="|")&&(o=o[0]+":");this._path.push(o)}o="";if(y==="?"){this._query="?";g="query"}else if(y==="#"){this._fragment=
"#";g="fragment"}}else y!=="\t"&&(y!=="\n"&&y!=="\r")&&(o=o+b(y));break;case "query":if(!f&&y==="#"){this._fragment="#";g="fragment"}else if(y!==u&&y!=="\t"&&y!=="\n"&&y!=="\r")this._query=this._query+d(y);break;case "fragment":if(y!==u&&y!=="\t"&&y!=="\n"&&y!=="\r")this._fragment=this._fragment+y}k++}}function h(){this._username=this._schemeData=this._scheme="";this._password=null;this._port=this._host="";this._path=[];this._fragment=this._query="";this._isRelative=this._isInvalid=false}function m(c,
a){a!==void 0&&!(a instanceof m)&&(a=new m(""+a));this._url=c;h.call(this);var b=c.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");e.call(this,b,null,a)}var g=false;try{if(typeof URL==="function"&&k(URL.prototype)==="object"&&"origin"in URL.prototype){var c=new URL("b","http://a");c.pathname="c%20d";g=c.href==="http://a/c%20d"}}catch(f){}if(!g){var t=Object.create(null);t.ftp=21;t.file=0;t.gopher=70;t.http=80;t.https=443;t.ws=80;t.wss=443;var n=Object.create(null);n["%2e"]=".";n[".%2e"]="..";n["%2e."]=
"..";n["%2e%2e"]="..";var u,s=/[a-zA-Z]/,A=/[a-zA-Z0-9\+\-\.]/;m.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var c="";if(this._username!==""||this._password!==null)c=this._username+(this._password!==null?":"+this._password:"")+"@";return this.protocol+(this._isRelative?"//"+c+this.host:"")+this.pathname+this._query+this._fragment},set href(c){h.call(this);e.call(this,c)},get protocol(){return this._scheme+":"},set protocol(c){this._isInvalid||e.call(this,
c+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(c){!this._isInvalid&&this._isRelative&&e.call(this,c,"host")},get hostname(){return this._host},set hostname(c){!this._isInvalid&&this._isRelative&&e.call(this,c,"hostname")},get port(){return this._port},set port(c){!this._isInvalid&&this._isRelative&&e.call(this,c,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(c){if(!this._isInvalid&&
this._isRelative){this._path=[];e.call(this,c,"relative path start")}},get search(){return this._isInvalid||!this._query||this._query==="?"?"":this._query},set search(c){if(!this._isInvalid&&this._isRelative){this._query="?";c[0]==="?"&&(c=c.slice(1));e.call(this,c,"query")}},get hash(){return this._isInvalid||!this._fragment||this._fragment==="#"?"":this._fragment},set hash(c){if(!this._isInvalid){this._fragment="#";c[0]==="#"&&(c=c.slice(1));e.call(this,c,"fragment")}},get origin(){var c;if(this._isInvalid||
!this._scheme)return"";switch(this._scheme){case "data":case "file":case "javascript":case "mailto":return"null";case "blob":try{return(new m(this._schemeData)).origin||"null"}catch(a){}return"null"}c=this.host;return!c?"":this._scheme+"://"+c}};var H=j.URL;if(H){m.createObjectURL=function(c){return H.createObjectURL.apply(H,arguments)};m.revokeObjectURL=function(c){H.revokeObjectURL(c)}}j.URL=m}})()}},function(g,d,b){b(65);g.exports=b(5).Object.values},function(g,d,b){var g=b(4),k=b(66)(!1);g(g.S,
"Object",{values:function(b){return k(b)}})},function(g,d,b){var k=b(21),j=b(17),e=b(31).f;g.exports=function(b){return function(a){for(var a=j(a),d=k(a),h=d.length,g=0,t=[],l;h>g;)if(e.call(a,l=d[g++]))t.push(b?[l,a[l]]:a[l]);return t}}},function(g,d,b){var k=b(7),j=b(17),e=b(41)(!1),m=b(30)("IE_PROTO");g.exports=function(a,b){var d=j(a),g=0,t=[],l;for(l in d)l!=m&&k(d,l)&&t.push(l);for(;b.length>g;)if(k(d,l=b[g++]))~e(t,l)||t.push(l);return t}},function(g,d,b){var k=b(29),j=Math.max,e=Math.min;
g.exports=function(b,a){b=k(b);return 0>b?j(b+a,0):e(b,a)}},function(g,d,b){b(70);g.exports=b(5).Array.includes},function(g,d,b){var g=b(4),k=b(41)(!0);g(g.P,"Array",{includes:function(b){return k(this,b,1<arguments.length?arguments[1]:void 0)}});b(44)("includes")},function(g,d,b){b(72);g.exports=b(5).Math.log2},function(g,d,b){g=b(4);g(g.S,"Math",{log2:function(b){return Math.log(b)/Math.LN2}})},function(g,d,b){b(74);g.exports=b(5).Number.isNaN},function(g,d,b){g=b(4);g(g.S,"Number",{isNaN:function(b){return b!=
b}})},function(g,d,b){b(76);g.exports=b(5).Number.isInteger},function(g,d,b){g=b(4);g(g.S,"Number",{isInteger:b(77)})},function(g,d,b){var k=b(1),j=Math.floor;g.exports=function(b){return!k(b)&&isFinite(b)&&j(b)===b}},function(g,d,b){b(45);b(79);b(49);b(87);b(94);b(95);g.exports=b(5).Promise},function(g,d,b){var k=b(80)(!0);b(46)(String,"String",function(b){this._t=""+b;this._i=0},function(){var b=this._t,d=this._i;if(d>=b.length)return{value:void 0,done:!0};b=k(b,d);this._i+=b.length;return{value:b,
done:!1}})},function(g,d,b){var k=b(29),j=b(27);g.exports=function(b){return function(d,a){var g=""+j(d),h=k(a),u=g.length,t,l;if(0>h||h>=u)return b?"":void 0;t=g.charCodeAt(h);return 55296>t||56319<t||h+1===u||56320>(l=g.charCodeAt(h+1))||57343<l?b?g.charAt(h):t:b?g.slice(h,h+2):(t-55296<<10)+(l-56320)+65536}}},function(g,d,b){var k=b(82),j=b(25),e=b(22),m={};b(11)(m,b(2)("iterator"),function(){return this});g.exports=function(a,b,d){a.prototype=k(m,{next:j(1,d)});e(a,b+" Iterator")}},function(g,
d,b){var k=b(6),j=b(83),e=b(43),m=b(30)("IE_PROTO"),a=function(){},n=function(){var a=b(24)("iframe"),d=e.length;a.style.display="none";b(48).appendChild(a);a.src="javascript:";a=a.contentWindow.document;a.open();a.write("<script>document.F=Object<\/script>");a.close();for(n=a.F;d--;)delete n.prototype[e[d]];return n()};g.exports=Object.create||function(b,d){var e;null!==b?(a.prototype=k(b),e=new a,a.prototype=null,e[m]=b):e=n();return void 0===d?e:j(e,d)}},function(g,d,b){var k=b(15),j=b(6),e=b(21);
g.exports=b(12)?Object.defineProperties:function(b,a){j(b);for(var d=e(a),h=d.length,g=0,t;h>g;)k.f(b,t=d[g++],a[t]);return b}},function(g,d,b){var k=b(7),j=b(33),e=b(30)("IE_PROTO"),m=Object.prototype;g.exports=Object.getPrototypeOf||function(a){a=j(a);return k(a,e)?a[e]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?m:null}},function(g,d,b){var d=b(44),k=b(86),j=b(19),e=b(17);g.exports=b(46)(Array,"Array",function(b,a){this._t=e(b);this._i=
0;this._k=a},function(){var b=this._t,a=this._k,d=this._i++;return!b||d>=b.length?(this._t=void 0,k(1)):"keys"==a?k(0,d):"values"==a?k(0,b[d]):k(0,[d,b[d]])},"values");j.Arguments=j.Array;d("keys");d("values");d("entries")},function(g){g.exports=function(d,b){return{value:b,done:!!d}}},function(g,d,b){var k=b(47),j=b(3),e=b(9),m=b(32),g=b(4),a=b(1),n=b(16),h=b(34),u=b(23),t=b(50),l=b(51).set,r=b(92)(),d=b(35),q=b(52),o=b(53),i=j.TypeError,v=j.process,w=j.Promise,c="process"==m(v),f=function(){},x,
z,C,s,A=z=d.f,m=!!function(){try{var a=w.resolve(1),d=(a.constructor={})[b(2)("species")]=function(c){c(f,f)};return(c||"function"==typeof PromiseRejectionEvent)&&a.then(f)instanceof d}catch(e){}}(),H=function(c){var b;return a(c)&&"function"==typeof(b=c.then)?b:!1},I=function(c,a){if(!c._n){c._n=!0;var b=c._c;r(function(){for(var d=c._v,f=1==c._s,e=0;b.length>e;){var h=b[e++],l=f?h.ok:h.fail,j=h.resolve,s=h.reject,g=h.domain,m=void 0,A=void 0;try{l?(f||(2==c._h&&G(c),c._h=1),!0===l?m=d:(g&&g.enter(),
m=l(d),g&&g.exit()),m===h.promise?s(i("Promise-chain cycle")):(A=H(m))?A.call(m,j,s):j(m)):s(d)}catch(k){s(k)}}c._c=[];c._n=!1;a&&!c._h&&K(c)})}},K=function(a){l.call(j,function(){var b=a._v,d=E(a),f,e,h;d&&(f=q(function(){c?v.emit("unhandledRejection",b,a):(e=j.onunhandledrejection)?e({promise:a,reason:b}):(h=j.console)&&h.error&&h.error("Unhandled promise rejection",b)}),a._h=c||E(a)?2:1);a._a=void 0;if(d&&f.e)throw f.v;})},E=function M(c){if(1==c._h)return!1;for(var c=c._a||c._c,a=0,b;c.length>
a;)if(b=c[a++],b.fail||!M(b.promise))return!1;return!0},G=function(a){l.call(j,function(){var b;c?v.emit("rejectionHandled",a):(b=j.onrejectionhandled)&&b({promise:a,reason:a._v})})},L=function(c){var a=this;a._d||(a._d=!0,a=a._w||a,a._v=c,a._s=2,a._a||(a._a=a._c.slice()),I(a,!0))},N=function p(c){var a=this,b;if(!a._d){a._d=!0;a=a._w||a;try{if(a===c)throw i("Promise can't be resolved itself");(b=H(c))?r(function(){var d={_w:a,_d:!1};try{b.call(c,e(p,d,1),e(L,d,1))}catch(f){L.call(d,f)}}):(a._v=c,
a._s=1,I(a,!1))}catch(d){L.call({_w:a,_d:!1},d)}}};m||(w=function(c){h(this,w,"Promise","_h");n(c);x.call(this);try{c(e(N,this,1),e(L,this,1))}catch(a){L.call(this,a)}},x=function(){this._c=[];this._a=void 0;this._s=0;this._d=!1;this._v=void 0;this._h=0;this._n=!1},x.prototype=b(36)(w.prototype,{then:function(a,b){var d=A(t(this,w));d.ok="function"==typeof a?a:!0;d.fail="function"==typeof b&&b;d.domain=c?v.domain:void 0;this._c.push(d);this._a&&this._a.push(d);this._s&&I(this,!1);return d.promise},
"catch":function(c){return this.then(void 0,c)}}),C=function(){var c=new x;this.promise=c;this.resolve=e(N,c,1);this.reject=e(L,c,1)},d.f=A=function(c){return c===w||c===s?new C(c):z(c)});g(g.G+g.W+g.F*!m,{Promise:w});b(22)(w,"Promise");b(93)("Promise");s=b(5).Promise;g(g.S+g.F*!m,"Promise",{reject:function(c){var a=A(this),b=a.reject;b(c);return a.promise}});g(g.S+g.F*(k||!m),"Promise",{resolve:function(c){return o(k&&this===s?w:this,c)}});g(g.S+g.F*!(m&&b(54)(function(c){w.all(c)["catch"](f)})),
"Promise",{all:function(c){var a=this,b=A(a),d=b.resolve,f=b.reject,e=q(function(){var b=[],e=0,h=1;u(c,false,function(c){var i=e++,l=false;b.push(void 0);h++;a.resolve(c).then(function(c){if(!l){l=true;b[i]=c;--h||d(b)}},f)});--h||d(b)});e.e&&f(e.v);return b.promise},race:function(c){var a=this,b=A(a),d=b.reject,f=q(function(){u(c,false,function(c){a.resolve(c).then(b.resolve,d)})});f.e&&d(f.v);return b.promise}})},function(g,d,b){var k=b(6);g.exports=function(b,d,g,a){try{return a?d(k(g)[0],g[1]):
d(g)}catch(n){throw d=b["return"],void 0!==d&&k(d.call(b)),n;}}},function(g,d,b){var k=b(19),j=b(2)("iterator"),e=Array.prototype;g.exports=function(b){return void 0!==b&&(k.Array===b||e[j]===b)}},function(g,d,b){var k=b(32),j=b(2)("iterator"),e=b(19);g.exports=b(5).getIteratorMethod=function(b){if(void 0!=b)return b[j]||b["@@iterator"]||e[k(b)]}},function(g){g.exports=function(d,b,g){var j=void 0===g;switch(b.length){case 0:return j?d():d.call(g);case 1:return j?d(b[0]):d.call(g,b[0]);case 2:return j?
d(b[0],b[1]):d.call(g,b[0],b[1]);case 3:return j?d(b[0],b[1],b[2]):d.call(g,b[0],b[1],b[2]);case 4:return j?d(b[0],b[1],b[2],b[3]):d.call(g,b[0],b[1],b[2],b[3])}return d.apply(g,b)}},function(g,d,b){var k=b(3),j=b(51).set,e=k.MutationObserver||k.WebKitMutationObserver,m=k.process,a=k.Promise,n="process"==b(18)(m);g.exports=function(){var b,d,g,l=function(){var a,e;for(n&&(a=m.domain)&&a.exit();b;){e=b.fn;b=b.next;try{e()}catch(l){throw b?g():d=void 0,l;}}d=void 0;a&&a.enter()};if(n)g=function(){m.nextTick(l)};
else if(e){var r=!0,q=document.createTextNode("");(new e(l)).observe(q,{characterData:!0});g=function(){q.data=r=!r}}else if(a&&a.resolve){var o=a.resolve();g=function(){o.then(l)}}else g=function(){j.call(k,l)};return function(a){a={fn:a,next:void 0};d&&(d.next=a);b||(b=a,g());d=a}}},function(g,d,b){var k=b(3),j=b(15),e=b(12),m=b(2)("species");g.exports=function(a){a=k[a];e&&(a&&!a[m])&&j.f(a,m,{configurable:!0,get:function(){return this}})}},function(g,d,b){var g=b(4),k=b(5),j=b(3),e=b(50),m=b(53);
g(g.P+g.R,"Promise",{"finally":function(a){var b=e(this,k.Promise||j.Promise),d="function"==typeof a;return this.then(d?function(d){return m(b,a()).then(function(){return d})}:a,d?function(d){return m(b,a()).then(function(){throw d;})}:a)}})},function(g,d,b){var g=b(4),k=b(35),j=b(52);g(g.S,"Promise",{"try":function(b){var d=k.f(this),b=j(b);(b.e?d.reject:d.resolve)(b.v);return d.promise}})},function(g,d,b){b(45);b(49);b(97);b(108);b(110);g.exports=b(5).WeakMap},function(g,d,b){var d=b(55)(0),k=b(8),
j=b(37),e=b(101),m=b(103),a=b(1),n=b(13),h=b(56),u=j.getWeak,t=Object.isExtensible,l=m.ufstore,r={},q,o=function(a){return function(){return a(this,0<arguments.length?arguments[0]:void 0)}},i={get:function(b){if(a(b)){var c=u(b);return!0===c?l(h(this,"WeakMap")).get(b):c?c[this._i]:void 0}},set:function(a,c){return m.def(h(this,"WeakMap"),a,c)}},v=g.exports=b(104)("WeakMap",o,i,m,!0,!0);n(function(){return 7!=(new v).set((Object.freeze||Object)(r),7).get(r)})&&(q=m.getConstructor(o,"WeakMap"),e(q.prototype,
i),j.NEED=!0,d(["delete","has","get","set"],function(b){var c=v.prototype,d=c[b];k(c,b,function(c,e){if(a(c)&&!t(c)){this._f||(this._f=new q);var h=this._f[b](c,e);return"set"==b?this:h}return d.call(this,c,e)})}))},function(g,d,b){var k=b(99);g.exports=function(b,d){return new (k(b))(d)}},function(g,d,b){var k=b(1),j=b(100),e=b(2)("species");g.exports=function(b){var a;if(j(b)){a=b.constructor;if("function"==typeof a&&(a===Array||j(a.prototype)))a=void 0;k(a)&&(a=a[e],null===a&&(a=void 0))}return void 0===
a?Array:a}},function(g,d,b){var k=b(18);g.exports=Array.isArray||function(b){return"Array"==k(b)}},function(g,d,b){var k=b(21),j=b(102),e=b(31),m=b(33),a=b(26),n=Object.assign;g.exports=!n||b(13)(function(){var a={},b={},d=Symbol();a[d]=7;"abcdefghijklmnopqrst".split("").forEach(function(a){b[a]=a});return 7!=n({},a)[d]||"abcdefghijklmnopqrst"!=Object.keys(n({},b)).join("")})?function(b,d){for(var g=m(b),l=arguments.length,r=1,q=j.f,o=e.f;l>r;)for(var i=a(arguments[r++]),n=q?k(i).concat(q(i)):k(i),
w=n.length,c=0,f;w>c;)if(o.call(i,f=n[c++]))g[f]=i[f];return g}:n},function(g,d){d.f=Object.getOwnPropertySymbols},function(g,d,b){var k=b(36),j=b(37).getWeak,e=b(6),m=b(1),a=b(34),n=b(23),d=b(55),h=b(7),u=b(56),t=d(5),l=d(6),r=0,q=function(a){return a._l||(a._l=new o)},o=function(){this.a=[]},i=function(a,b){return t(a.a,function(c){return c[0]===b})};o.prototype={get:function(a){if(a=i(this,a))return a[1]},has:function(a){return!!i(this,a)},set:function(a,b){var c=i(this,a);c?c[1]=b:this.a.push([a,
b])},"delete":function(a){var b=l(this.a,function(c){return c[0]===a});~b&&this.a.splice(b,1);return!!~b}};g.exports={getConstructor:function(b,d,c,f){var e=b(function(b,h){a(b,e,d,"_i");b._t=d;b._i=r++;b._l=void 0;void 0!=h&&n(h,c,b[f],b)});k(e.prototype,{"delete":function(c){if(!m(c))return!1;var a=j(c);return!0===a?q(u(this,d))["delete"](c):a&&h(a,this._i)&&delete a[this._i]},has:function(c){if(!m(c))return!1;var a=j(c);return!0===a?q(u(this,d)).has(c):a&&h(a,this._i)}});return e},def:function(a,
b,c){var d=j(e(b),!0);!0===d?q(a).set(b,c):d[a._i]=c;return a},ufstore:q}},function(g,d,b){var k=b(3),j=b(4),e=b(8),m=b(36),a=b(37),n=b(23),h=b(34),u=b(1),t=b(13),l=b(54),r=b(22),q=b(105);g.exports=function(b,d,g,w,c,f){var x=k[b],z=x,C=c?"set":"add",s=z&&z.prototype,A={},H=function(c){var a=s[c];e(s,c,"delete"==c?function(c){return f&&!u(c)?!1:a.call(this,0===c?0:c)}:"has"==c?function(c){return f&&!u(c)?!1:a.call(this,0===c?0:c)}:"get"==c?function(c){return f&&!u(c)?void 0:a.call(this,0===c?0:c)}:
"add"==c?function(c){a.call(this,0===c?0:c);return this}:function(c,b){a.call(this,0===c?0:c,b);return this})};if("function"!=typeof z||!(f||s.forEach&&!t(function(){(new z).entries().next()})))z=w.getConstructor(d,b,c,C),m(z.prototype,g),a.NEED=!0;else{var I=new z,g=I[C](f?{}:-0.0,1)!=I,K=t(function(){I.has(1)}),E=l(function(c){new z(c)}),G=!f&&t(function(){for(var c=new z,a=5;a--;)c[C](a,a);return!c.has(-0.0)});E||(z=d(function(a,d){h(a,z,b);var f=q(new x,a,z);void 0!=d&&n(d,c,f[C],f);return f}),
z.prototype=s,s.constructor=z);if(K||G)H("delete"),H("has"),c&&H("get");(G||g)&&H(C);f&&s.clear&&delete s.clear}r(z,b);A[b]=z;j(j.G+j.W+j.F*(z!=x),A);f||w.setStrong(z,b,c);return z}},function(g,d,b){var k=b(1),j=b(106).set;g.exports=function(b,d,a){var d=d.constructor,g;d!==a&&("function"==typeof d&&(g=d.prototype)!==a.prototype&&k(g)&&j)&&j(b,g);return b}},function(g,d,b){var k=b(1),j=b(6),e=function(b,a){j(b);if(!k(a)&&null!==a)throw TypeError(a+": can't set as prototype!");};g.exports={set:Object.setPrototypeOf||
("__proto__"in{}?function(d,a,j){try{j=b(9)(Function.call,b(107).f(Object.prototype,"__proto__").set,2),j(d,[]),a=!(d instanceof Array)}catch(h){a=!0}return function(b,d){e(b,d);a?b.__proto__=d:j(b,d);return b}}({},!1):void 0),check:e}},function(g,d,b){var k=b(31),j=b(25),e=b(17),m=b(40),a=b(7),n=b(39),h=Object.getOwnPropertyDescriptor;d.f=b(12)?h:function(b,d){b=e(b);d=m(d,!0);if(n)try{return h(b,d)}catch(l){}if(a(b,d))return j(!k.f.call(b,d),b[d])}},function(g,d,b){b(109)("WeakMap")},function(g,
d,b){var k=b(4);g.exports=function(b){k(k.S,b,{of:function(){for(var b=arguments.length,d=Array(b);b--;)d[b]=arguments[b];return new this(d)}})}},function(g,d,b){b(111)("WeakMap")},function(g,d,b){var k=b(4),j=b(16),e=b(9),m=b(23);g.exports=function(a){k(k.S,a,{from:function(a,b,d){var g,l,k,q;j(this);(g=void 0!==b)&&j(b);if(void 0==a)return new this;l=[];g?(k=0,q=e(b,d,2),m(a,!1,function(a){l.push(q(a,k++))})):m(a,!1,l.push,l);return new this(l)}})}},function(g,d,b){g=!1;if("undefined"!==typeof ReadableStream)try{new ReadableStream({start:function(b){b.close()}}),
g=!0}catch(k){}d.ReadableStream=g?ReadableStream:b(113).ReadableStream},function(g,d){var b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};(function(b,d){for(var e in d)b[e]=d[e]})(d,function(b){function d(g){if(e[g])return e[g].exports;var a=e[g]={i:g,l:!1,exports:{}};b[g].call(a.exports,a,a.exports,d);a.l=!0;return a.exports}var e={};d.m=b;
d.c=e;d.i=function(b){return b};d.d=function(b,a,e){d.o(b,a)||Object.defineProperty(b,a,{configurable:!1,enumerable:!0,get:e})};d.n=function(b){var a=b&&b.__esModule?function(){return b["default"]}:function(){return b};d.d(a,"a",a);return a};d.o=function(b,a){return Object.prototype.hasOwnProperty.call(b,a)};d.p="";return d(d.s=7)}([function(d,g,e){function m(a){return"string"===typeof a||"symbol"===("undefined"===typeof a?"undefined":n(a))}function a(a,b,d){if("function"!==typeof a)throw new TypeError("Argument is not a function");
return Function.prototype.apply.call(a,b,d)}var n="function"===typeof Symbol&&"symbol"===b(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":b(a)}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":b(a)},h=e(1).assert;g.typeIsObject=function(a){return"object"===("undefined"===typeof a?"undefined":n(a))&&null!==a||"function"===typeof a};g.createDataProperty=function(a,b,d){h(g.typeIsObject(a));
Object.defineProperty(a,b,{value:d,writable:!0,enumerable:!0,configurable:!0})};g.createArrayFromList=function(a){return a.slice()};g.ArrayBufferCopy=function(a,b,d,e,h){(new Uint8Array(a)).set(new Uint8Array(d,e,h),b)};g.CreateIterResultObject=function(a,b){h("boolean"===typeof b);var d={};Object.defineProperty(d,"value",{value:a,enumerable:!0,writable:!0,configurable:!0});Object.defineProperty(d,"done",{value:b,enumerable:!0,writable:!0,configurable:!0});return d};g.IsFiniteNonNegativeNumber=function(a){return Number.isNaN(a)||
Infinity===a||0>a?!1:!0};g.InvokeOrNoop=function(b,d,e){h(void 0!==b);h(m(d));h(Array.isArray(e));d=b[d];return void 0===d?void 0:a(d,b,e)};g.PromiseInvokeOrNoop=function(a,b,d){h(void 0!==a);h(m(b));h(Array.isArray(d));try{return Promise.resolve(g.InvokeOrNoop(a,b,d))}catch(e){return Promise.reject(e)}};g.PromiseInvokeOrPerformFallback=function(b,d,e,g,j){h(void 0!==b);h(m(d));h(Array.isArray(e));h(Array.isArray(j));var k=void 0;try{k=b[d]}catch(i){return Promise.reject(i)}if(void 0===k)return g.apply(null,
j);try{return Promise.resolve(a(k,b,e))}catch(n){return Promise.reject(n)}};g.TransferArrayBuffer=function(a){return a.slice()};g.ValidateAndNormalizeHighWaterMark=function(a){a=Number(a);if(Number.isNaN(a)||0>a)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return a};g.ValidateAndNormalizeQueuingStrategy=function(a,b){if(void 0!==a&&"function"!==typeof a)throw new TypeError("size property of a queuing strategy must be a function");b=g.ValidateAndNormalizeHighWaterMark(b);
return{size:a,highWaterMark:b}}},function(b){function d(b){this.name="AssertionError";this.message=b||"";this.stack=Error().stack}d.prototype=Object.create(Error.prototype);d.prototype.constructor=d;b.exports={rethrowAssertionErrorRejection:function(b){b&&b.constructor===d&&setTimeout(function(){throw b;},0)},AssertionError:d,assert:function(b,g){if(!b)throw new d(g);}}},function(b,d,e){function g(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function a(a){return new pa(a)}
function n(a){return!S(a)||!Object.prototype.hasOwnProperty.call(a,"_writableStreamController")?!1:!0}function h(a){D(!0===n(a),"IsWritableStreamLocked should only be used on known writable streams");return void 0===a._writer?!1:!0}function u(a,c){var b=a._state;if("closed"===b)return Promise.resolve(void 0);if("errored"===b)return Promise.reject(a._storedError);var d=new TypeError("Requested to abort");if(void 0!==a._pendingAbortRequest)return Promise.reject(d);D("writable"===b||"erroring"===b,"state must be writable or erroring");
var f=!1;"erroring"===b&&(f=!0,c=void 0);b=new Promise(function(b,d){a._pendingAbortRequest={_resolve:b,_reject:d,_reason:c,_wasAlreadyErroring:f}});!1===f&&r(a,d);return b}function t(a){D(!0===h(a));D("writable"===a._state);return new Promise(function(c,b){a._writeRequests.push({_resolve:c,_reject:b})})}function l(a,c){var b=a._state;"writable"===b?r(a,c):(D("erroring"===b),q(a))}function r(a,c){D(void 0===a._storedError,"stream._storedError === undefined");D("writable"===a._state,"state must be writable");
var b=a._writableStreamController;D(void 0!==b,"controller must not be undefined");a._state="erroring";a._storedError=c;var d=a._writer;void 0!==d&&s(d,c);!1===i(a)&&!0===b._started&&q(a)}function q(a){D("erroring"===a._state,"stream._state === erroring");D(!1===i(a),"WritableStreamHasOperationMarkedInFlight(stream) === false");a._state="errored";a._writableStreamController.__errorSteps();for(var b=a._storedError,d=0;d<a._writeRequests.length;d++)a._writeRequests[d]._reject(b);a._writeRequests=[];
if(void 0===a._pendingAbortRequest)c(a);else{var f=a._pendingAbortRequest;a._pendingAbortRequest=void 0;!0===f._wasAlreadyErroring?(f._reject(b),c(a)):a._writableStreamController.__abortSteps(f._reason).then(function(){f._resolve();c(a)},function(b){f._reject(b);c(a)})}}function o(a){return void 0===a._closeRequest&&void 0===a._inFlightCloseRequest?!1:!0}function i(a){return void 0===a._inFlightWriteRequest&&void 0===a._inFlightCloseRequest?!1:!0}function v(a){D(void 0===a._inFlightCloseRequest);
D(void 0!==a._closeRequest);a._inFlightCloseRequest=a._closeRequest;a._closeRequest=void 0}function w(a){D(void 0===a._inFlightWriteRequest,"there must be no pending write request");D(0!==a._writeRequests.length,"writeRequests must not be empty");a._inFlightWriteRequest=a._writeRequests.shift()}function c(a){D("errored"===a._state,'_stream_.[[state]] is `"errored"`');void 0!==a._closeRequest&&(D(void 0===a._inFlightCloseRequest),a._closeRequest._reject(a._storedError),a._closeRequest=void 0);var c=
a._writer;void 0!==c&&(J(c,a._storedError),c._closedPromise.catch(function(){}))}function f(a,c){D("writable"===a._state);D(!1===o(a));var b=a._writer;void 0!==b&&c!==a._backpressure&&(!0===c?ia(b):(D(!1===c),U(b)));a._backpressure=c}function x(a){return!S(a)||!Object.prototype.hasOwnProperty.call(a,"_ownerWritableStream")?!1:!0}function z(a){var c=a._ownerWritableStream;D(void 0!==c);var b=c._state;if("closed"===b||"errored"===b)return Promise.reject(new TypeError("The stream (in "+b+" state) is not in the writable state and cannot be closed"));
D("writable"===b||"erroring"===b);D(!1===o(c));var d=new Promise(function(a,b){c._closeRequest={_resolve:a,_reject:b}});!0===c._backpressure&&"writable"===b&&U(a);I(c._writableStreamController);return d}function C(a,c){"pending"===a._closedPromiseState?J(a,c):y(a,c);a._closedPromise.catch(function(){})}function s(a,c){"pending"===a._readyPromiseState?ha(a,c):ja(a,c);a._readyPromise.catch(function(){})}function A(a){var c=a._ownerWritableStream;D(void 0!==c);D(c._writer===a);var b=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");
s(a,b);C(a,b);c._writer=void 0;a._ownerWritableStream=void 0}function H(a,c){var b=a._ownerWritableStream;D(void 0!==b);var d=b._writableStreamController,e;var h=d._strategySize;if(void 0===h)e=1;else try{e=h(c)}catch(i){"writable"===d._controlledWritableStream._state&&L(d,i),e=1}if(b!==a._ownerWritableStream)return Promise.reject(M("write to"));h=b._state;if("errored"===h)return Promise.reject(b._storedError);if(!0===o(b)||"closed"===h)return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"));
if("erroring"===h)return Promise.reject(b._storedError);D("writable"===h);b=t(b);a:{h={chunk:c};try{Z(d,h,e)}catch(l){"writable"===d._controlledWritableStream._state&&L(d,l);break a}e=d._controlledWritableStream;!1===o(e)&&"writable"===e._state&&f(e,0>=d._strategyHWM-d._queueTotalSize);K(d)}return b}function I(a){Z(a,"close",0);K(a)}function K(a){var c=a._controlledWritableStream;if(!1!==a._started&&void 0===c._inFlightWriteRequest){var b=c._state;"closed"===b||"errored"===b||("erroring"===b?q(c):
0!==a._queue.length&&(c=ba(a),"close"===c?E(a):G(a,c.chunk)))}}function E(a){var c=a._controlledWritableStream;v(c);W(a);D(0===a._queue.length,"queue must be empty once the final write record is dequeued");R(a._underlyingSink,"close",[]).then(function(){D(void 0!==c._inFlightCloseRequest);c._inFlightCloseRequest._resolve(void 0);c._inFlightCloseRequest=void 0;var a=c._state;D("writable"===a||"erroring"===a);"erroring"===a&&(c._storedError=void 0,void 0!==c._pendingAbortRequest&&(c._pendingAbortRequest._resolve(),
c._pendingAbortRequest=void 0));c._state="closed";a=c._writer;void 0!==a&&(D(void 0!==a._closedPromise_resolve,"writer._closedPromise_resolve !== undefined"),D(void 0!==a._closedPromise_reject,"writer._closedPromise_reject !== undefined"),D("pending"===a._closedPromiseState,"writer._closedPromiseState is pending"),a._closedPromise_resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="resolved");D(void 0===c._pendingAbortRequest,"stream._pendingAbortRequest === undefined");
D(void 0===c._storedError,"stream._storedError === undefined")},function(a){D(void 0!==c._inFlightCloseRequest);c._inFlightCloseRequest._reject(a);c._inFlightCloseRequest=void 0;D("writable"===c._state||"erroring"===c._state);void 0!==c._pendingAbortRequest&&(c._pendingAbortRequest._reject(a),c._pendingAbortRequest=void 0);l(c,a)}).catch(Q)}function G(a,c){var b=a._controlledWritableStream;w(b);R(a._underlyingSink,"write",[c,a]).then(function(){D(void 0!==b._inFlightWriteRequest);b._inFlightWriteRequest._resolve(void 0);
b._inFlightWriteRequest=void 0;var c=b._state;D("writable"===c||"erroring"===c);W(a);!1===o(b)&&"writable"===c&&f(b,0>=a._strategyHWM-a._queueTotalSize);K(a)},function(a){D(void 0!==b._inFlightWriteRequest);b._inFlightWriteRequest._reject(a);b._inFlightWriteRequest=void 0;D("writable"===b._state||"erroring"===b._state);l(b,a)}).catch(Q)}function L(a,c){var b=a._controlledWritableStream;D("writable"===b._state);r(b,c)}function N(a){return new TypeError("WritableStream.prototype."+a+" can only be used on a WritableStream")}
function B(a){return new TypeError("WritableStreamDefaultWriter.prototype."+a+" can only be used on a WritableStreamDefaultWriter")}function M(a){return new TypeError("Cannot "+a+" a stream using a released writer")}function p(a){a._closedPromise=new Promise(function(c,b){a._closedPromise_resolve=c;a._closedPromise_reject=b;a._closedPromiseState="pending"})}function J(a,c){D(void 0!==a._closedPromise_resolve,"writer._closedPromise_resolve !== undefined");D(void 0!==a._closedPromise_reject,"writer._closedPromise_reject !== undefined");
D("pending"===a._closedPromiseState,"writer._closedPromiseState is pending");a._closedPromise_reject(c);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0;a._closedPromiseState="rejected"}function y(a,c){D(void 0===a._closedPromise_resolve,"writer._closedPromise_resolve === undefined");D(void 0===a._closedPromise_reject,"writer._closedPromise_reject === undefined");D("pending"!==a._closedPromiseState,"writer._closedPromiseState is not pending");a._closedPromise=Promise.reject(c);a._closedPromiseState=
"rejected"}function da(a){a._readyPromise=new Promise(function(c,b){a._readyPromise_resolve=c;a._readyPromise_reject=b});a._readyPromiseState="pending"}function ea(a,c){a._readyPromise=Promise.reject(c);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState="rejected"}function Y(a){a._readyPromise=Promise.resolve(void 0);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState="fulfilled"}function ha(a,c){D(void 0!==a._readyPromise_resolve,"writer._readyPromise_resolve !== undefined");
D(void 0!==a._readyPromise_reject,"writer._readyPromise_reject !== undefined");a._readyPromise_reject(c);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState="rejected"}function ia(a){D(void 0===a._readyPromise_resolve,"writer._readyPromise_resolve === undefined");D(void 0===a._readyPromise_reject,"writer._readyPromise_reject === undefined");a._readyPromise=new Promise(function(c,b){a._readyPromise_resolve=c;a._readyPromise_reject=b});a._readyPromiseState="pending"}function ja(a,
c){D(void 0===a._readyPromise_resolve,"writer._readyPromise_resolve === undefined");D(void 0===a._readyPromise_reject,"writer._readyPromise_reject === undefined");a._readyPromise=Promise.reject(c);a._readyPromiseState="rejected"}function U(a){D(void 0!==a._readyPromise_resolve,"writer._readyPromise_resolve !== undefined");D(void 0!==a._readyPromise_reject,"writer._readyPromise_reject !== undefined");a._readyPromise_resolve(void 0);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState=
"fulfilled"}var T=function(){function a(c,b){for(var d=0;d<b.length;d++){var f=b[d];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(c,f.key,f)}}return function(c,b,d){b&&a(c.prototype,b);d&&a(c,d);return c}}(),d=e(0),O=d.InvokeOrNoop,R=d.PromiseInvokeOrNoop,P=d.ValidateAndNormalizeQueuingStrategy,S=d.typeIsObject,d=e(1),D=d.assert,Q=d.rethrowAssertionErrorRejection,e=e(3),W=e.DequeueValue,Z=e.EnqueueValueWithSize,ba=e.PeekQueueValue,ma=e.ResetQueue,
e=function(){function c(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=b.size,b=b.highWaterMark,b=void 0===b?1:b;g(this,c);this._state="writable";this._writableStreamController=this._writer=this._storedError=void 0;this._writeRequests=[];this._pendingAbortRequest=this._inFlightCloseRequest=this._closeRequest=this._inFlightWriteRequest=void 0;this._backpressure=!1;if(void 0!==a.type)throw new RangeError("Invalid type is specified");
this._writableStreamController=new qa(this,a,d,b);this._writableStreamController.__startSteps()}T(c,[{key:"abort",value:function(a){return!1===n(this)?Promise.reject(N("abort")):!0===h(this)?Promise.reject(new TypeError("Cannot abort a stream that already has a writer")):u(this,a)}},{key:"getWriter",value:function(){if(!1===n(this))throw N("getWriter");return a(this)}},{key:"locked",get:function(){if(!1===n(this))throw N("locked");return h(this)}}]);return c}();b.exports={AcquireWritableStreamDefaultWriter:a,
IsWritableStream:n,IsWritableStreamLocked:h,WritableStream:e,WritableStreamAbort:u,WritableStreamDefaultControllerError:L,WritableStreamDefaultWriterCloseWithErrorPropagation:function(a){var c=a._ownerWritableStream;D(void 0!==c);var b=c._state;if(!0===o(c)||"closed"===b)return Promise.resolve();if("errored"===b)return Promise.reject(c._storedError);D("writable"===b||"erroring"===b);return z(a)},WritableStreamDefaultWriterRelease:A,WritableStreamDefaultWriterWrite:H,WritableStreamCloseQueuedOrInFlight:o};
var pa=function(){function a(c){g(this,a);if(!1===n(c))throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===h(c))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=c;c._writer=this;var b=c._state;"writable"===b?(!1===o(c)&&!0===c._backpressure?da(this):Y(this),p(this)):"erroring"===b?(ea(this,c._storedError),this._readyPromise.catch(function(){}),p(this)):"closed"===
b?(Y(this),this._closedPromise=Promise.resolve(void 0),this._closedPromise_reject=this._closedPromise_resolve=void 0,this._closedPromiseState="resolved"):(D("errored"===b,"state must be errored"),c=c._storedError,ea(this,c),this._readyPromise.catch(function(){}),this._closedPromise=Promise.reject(c),this._closedPromise_reject=this._closedPromise_resolve=void 0,this._closedPromiseState="rejected",this._closedPromise.catch(function(){}))}T(a,[{key:"abort",value:function(a){if(!1===x(this))return Promise.reject(B("abort"));
if(void 0===this._ownerWritableStream)return Promise.reject(M("abort"));var c=this._ownerWritableStream;D(void 0!==c);return u(c,a)}},{key:"close",value:function(){if(!1===x(this))return Promise.reject(B("close"));var a=this._ownerWritableStream;return void 0===a?Promise.reject(M("close")):!0===o(a)?Promise.reject(new TypeError("cannot close an already-closing stream")):z(this)}},{key:"releaseLock",value:function(){if(!1===x(this))throw B("releaseLock");var a=this._ownerWritableStream;void 0!==a&&
(D(void 0!==a._writer),A(this))}},{key:"write",value:function(a){return!1===x(this)?Promise.reject(B("write")):void 0===this._ownerWritableStream?Promise.reject(M("write to")):H(this,a)}},{key:"closed",get:function(){return!1===x(this)?Promise.reject(B("closed")):this._closedPromise}},{key:"desiredSize",get:function(){if(!1===x(this))throw B("desiredSize");if(void 0===this._ownerWritableStream)throw M("desiredSize");var a;a=this._ownerWritableStream;var c=a._state;a="errored"===c||"erroring"===c?
null:"closed"===c?0:a._writableStreamController._strategyHWM-a._writableStreamController._queueTotalSize;return a}},{key:"ready",get:function(){return!1===x(this)?Promise.reject(B("ready")):this._readyPromise}}]);return a}(),qa=function(){function a(c,b,d,e){g(this,a);if(!1===n(c))throw new TypeError("WritableStreamDefaultController can only be constructed with a WritableStream instance");if(void 0!==c._writableStreamController)throw new TypeError("WritableStreamDefaultController instances can only be created by the WritableStream constructor");
this._controlledWritableStream=c;this._underlyingSink=b;this._queueTotalSize=this._queue=void 0;ma(this);this._started=!1;b=P(d,e);this._strategySize=b.size;this._strategyHWM=b.highWaterMark;f(c,0>=this._strategyHWM-this._queueTotalSize)}T(a,[{key:"error",value:function(a){var c;c=S(this)?Object.prototype.hasOwnProperty.call(this,"_underlyingSink")?!0:!1:!1;if(!1===c)throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===
this._controlledWritableStream._state&&L(this,a)}},{key:"__abortSteps",value:function(a){return R(this._underlyingSink,"abort",[a])}},{key:"__errorSteps",value:function(){ma(this)}},{key:"__startSteps",value:function(){var a=this,c=O(this._underlyingSink,"start",[this]),b=this._controlledWritableStream;Promise.resolve(c).then(function(){D("writable"===b._state||"erroring"===b._state);a._started=!0;K(a)},function(c){D("writable"===b._state||"erroring"===b._state);a._started=!0;l(b,c)}).catch(Q)}}]);
return a}()},function(b,d,e){var g=e(0).IsFiniteNonNegativeNumber,a=e(1).assert;d.DequeueValue=function(b){a("_queue"in b&&"_queueTotalSize"in b,"Spec-level failure: DequeueValue should only be used on containers with [[queue]] and [[queueTotalSize]].");a(0<b._queue.length,"Spec-level failure: should never dequeue from an empty queue.");var d=b._queue.shift();b._queueTotalSize-=d.size;0>b._queueTotalSize&&(b._queueTotalSize=0);return d.value};d.EnqueueValueWithSize=function(b,d,e){a("_queue"in b&&
"_queueTotalSize"in b,"Spec-level failure: EnqueueValueWithSize should only be used on containers with [[queue]] and [[queueTotalSize]].");e=Number(e);if(!g(e))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");b._queue.push({value:d,size:e});b._queueTotalSize+=e};d.PeekQueueValue=function(b){a("_queue"in b&&"_queueTotalSize"in b,"Spec-level failure: PeekQueueValue should only be used on containers with [[queue]] and [[queueTotalSize]].");a(0<b._queue.length,"Spec-level failure: should never peek at an empty queue.");
return b._queue[0].value};d.ResetQueue=function(b){a("_queue"in b&&"_queueTotalSize"in b,"Spec-level failure: ResetQueue should only be used on containers with [[queue]] and [[queueTotalSize]].");b._queue=[];b._queueTotalSize=0}},function(b,d,e){function g(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function a(a){return!$(a)||!Object.prototype.hasOwnProperty.call(a,"_readableStreamController")?!1:!0}function n(c){F(!0===a(c),"IsReadableStreamLocked should only be used on known readable streams");
return void 0===c._reader?!1:!0}function h(c,b){F(!0===a(c));F("boolean"===typeof b);var d=new ra(c),f={closedOrErrored:!1,canceled1:!1,canceled2:!1,reason1:void 0,reason2:void 0};f.promise=new Promise(function(a){f._resolve=a});var e=u();e._reader=d;e._teeState=f;e._cloneForBranch2=b;var h=t();h._stream=c;h._teeState=f;var i=l();i._stream=c;i._teeState=f;var g=Object.create(Object.prototype);na(g,"pull",e);na(g,"cancel",h);h=new sa(g);g=Object.create(Object.prototype);na(g,"pull",e);na(g,"cancel",
i);i=new sa(g);e._branch1=h._readableStreamController;e._branch2=i._readableStreamController;d._closedPromise.catch(function(a){!0!==f.closedOrErrored&&(N(e._branch1,a),N(e._branch2,a),f.closedOrErrored=!0)});return[h,i]}function u(){function a(){var c=a._branch1,b=a._branch2,d=a._teeState;return H(a._reader).then(function(a){F($(a));var f=a.value,a=a.done;F("boolean"===typeof a);!0===a&&!1===d.closedOrErrored&&(!1===d.canceled1&&G(c),!1===d.canceled2&&G(b),d.closedOrErrored=!0);!0!==d.closedOrErrored&&
(!1===d.canceled1&&L(c,f),!1===d.canceled2&&L(b,f))})}return a}function t(){function a(c){var b=a._stream,d=a._teeState;d.canceled1=!0;d.reason1=c;!0===d.canceled2&&(c=ta([d.reason1,d.reason2]),b=o(b,c),d._resolve(b));return d.promise}return a}function l(){function a(c){var b=a._stream,d=a._teeState;d.canceled2=!0;d.reason2=c;!0===d.canceled1&&(c=ta([d.reason1,d.reason2]),b=o(b,c),d._resolve(b));return d.promise}return a}function r(a){F(!0===x(a._reader));F("readable"===a._state||"closed"===a._state);
return new Promise(function(c,b){a._reader._readIntoRequests.push({_resolve:c,_reject:b})})}function q(a){F(!0===z(a._reader));F("readable"===a._state);return new Promise(function(c,b){a._reader._readRequests.push({_resolve:c,_reject:b})})}function o(a,c){a._disturbed=!0;if("closed"===a._state)return Promise.resolve(void 0);if("errored"===a._state)return Promise.reject(a._storedError);i(a);return a._readableStreamController.__cancelSteps(c).then(function(){})}function i(a){F("readable"===a._state);
a._state="closed";a=a._reader;if(void 0!==a){if(!0===z(a)){for(var c=0;c<a._readRequests.length;c++){var b=a._readRequests[c]._resolve;b(X(void 0,!0))}a._readRequests=[]}F(void 0!==a._closedPromise_resolve);F(void 0!==a._closedPromise_reject);a._closedPromise_resolve(void 0);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}}function v(c,b){F(!0===a(c),"stream must be ReadableStream");F("readable"===c._state,"state must be readable");c._state="errored";c._storedError=b;var d=c._reader;
if(void 0!==d){if(!0===z(d)){for(var f=0;f<d._readRequests.length;f++)d._readRequests[f]._reject(b);d._readRequests=[]}else{F(x(d),"reader must be ReadableStreamBYOBReader");for(f=0;f<d._readIntoRequests.length;f++)d._readIntoRequests[f]._reject(b);d._readIntoRequests=[]}va(d,b);d._closedPromise.catch(function(){})}}function w(a,c,b){a=a._reader;F(0<a._readRequests.length);a._readRequests.shift()._resolve(X(c,b))}function c(a){a=a._reader;return void 0===a||!1===x(a)?!1:!0}function f(a){a=a._reader;
return void 0===a||!1===z(a)?!1:!0}function x(a){return!$(a)||!Object.prototype.hasOwnProperty.call(a,"_readIntoRequests")?!1:!0}function z(a){return!$(a)||!Object.prototype.hasOwnProperty.call(a,"_readRequests")?!1:!0}function C(a,c){a._ownerReadableStream=c;c._reader=a;"readable"===c._state?ma(a):"closed"===c._state?qa(a):(F("errored"===c._state,"state must be errored"),pa(a,c._storedError),a._closedPromise.catch(function(){}))}function s(a,c){var b=a._ownerReadableStream;F(void 0!==b);return o(b,
c)}function A(a){F(void 0!==a._ownerReadableStream);F(a._ownerReadableStream._reader===a);"readable"===a._ownerReadableStream._state?va(a,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):ya(a,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"));a._closedPromise.catch(function(){});a._ownerReadableStream._reader=void 0;a._ownerReadableStream=void 0}function H(a){a=a._ownerReadableStream;F(void 0!==a);a._disturbed=
!0;if("closed"===a._state)return Promise.resolve(X(void 0,!0));if("errored"===a._state)return Promise.reject(a._storedError);F("readable"===a._state);return a._readableStreamController.__pullSteps()}function I(a){return!$(a)||!Object.prototype.hasOwnProperty.call(a,"_underlyingSource")?!1:!0}function K(a){!1!==E(a)&&(!0===a._pulling?a._pullAgain=!0:(F(!1===a._pullAgain),a._pulling=!0,oa(a._underlyingSource,"pull",[a]).then(function(){a._pulling=!1;if(!0===a._pullAgain)return a._pullAgain=!1,K(a)},
function(c){B(a,c)}).catch(V)))}function E(a){var c=a._controlledReadableStream;return"closed"===c._state||"errored"===c._state||!0===a._closeRequested||!1===a._started?!1:!0===n(c)&&0<c._reader._readRequests.length||0<M(a)?!0:!1}function G(a){var c=a._controlledReadableStream;F(!1===a._closeRequested);F("readable"===c._state);a._closeRequested=!0;0===a._queue.length&&i(c)}function L(a,c){var b=a._controlledReadableStream;F(!1===a._closeRequested);F("readable"===b._state);if(!0===n(b)&&0<b._reader._readRequests.length)w(b,
c,!1);else{b=1;if(void 0!==a._strategySize){var d=a._strategySize;try{b=d(c)}catch(f){throw B(a,f),f;}}try{Aa(a,c,b)}catch(e){throw B(a,e),e;}}K(a)}function N(a,c){var b=a._controlledReadableStream;F("readable"===b._state);ca(a);v(b,c)}function B(a,c){"readable"===a._controlledReadableStream._state&&N(a,c)}function M(a){var c=a._controlledReadableStream._state;return"errored"===c?null:"closed"===c?0:a._strategyHWM-a._queueTotalSize}function p(a){return!$(a)||!Object.prototype.hasOwnProperty.call(a,
"_underlyingByteSource")?!1:!0}function J(a){return!$(a)||!Object.prototype.hasOwnProperty.call(a,"_associatedReadableByteStreamController")?!1:!0}function y(a){!1!==S(a)&&(!0===a._pulling?a._pullAgain=!0:(F(!1===a._pullAgain),a._pulling=!0,oa(a._underlyingByteSource,"pull",[a]).then(function(){a._pulling=!1;!0===a._pullAgain&&(a._pullAgain=!1,y(a))},function(c){"readable"===a._controlledReadableStream._state&&D(a,c)}).catch(V)))}function da(a,c){F("errored"!==a._state,"state must not be errored");
var b=!1;"closed"===a._state&&(F(0===c.bytesFilled),b=!0);var d=ea(c);if("default"===c.readerType)w(a,d,b);else{F("byob"===c.readerType);var f=a._reader;F(0<f._readIntoRequests.length);f._readIntoRequests.shift()._resolve(X(d,b))}}function ea(a){var c=a.bytesFilled,b=a.elementSize;F(c<=a.byteLength);F(0===c%b);return new a.ctor(a.buffer,a.byteOffset,c/b)}function Y(a,c,b,d){a._queue.push({buffer:c,byteOffset:b,byteLength:d});a._queueTotalSize+=d}function ha(a,c){var b=c.elementSize,d=c.bytesFilled-
c.bytesFilled%b,f=Math.min(a._queueTotalSize,c.byteLength-c.bytesFilled),e=c.bytesFilled+f,e=e-e%b,b=!1;e>d&&(f=e-c.bytesFilled,b=!0);for(d=a._queue;0<f;){var e=d[0],h=Math.min(f,e.byteLength);Ba(c.buffer,c.byteOffset+c.bytesFilled,e.buffer,e.byteOffset,h);e.byteLength===h?d.shift():(e.byteOffset+=h,e.byteLength-=h);a._queueTotalSize-=h;ia(a,h,c);f-=h}!1===b&&(F(0===a._queueTotalSize,"queue must be empty"),F(0<c.bytesFilled),F(c.bytesFilled<c.elementSize));return b}function ia(a,c,b){F(0===a._pendingPullIntos.length||
a._pendingPullIntos[0]===b);U(a);b.bytesFilled+=c}function ja(a){F("readable"===a._controlledReadableStream._state);0===a._queueTotalSize&&!0===a._closeRequested?i(a._controlledReadableStream):y(a)}function U(a){void 0!==a._byobRequest&&(a._byobRequest._associatedReadableByteStreamController=void 0,a._byobRequest._view=void 0,a._byobRequest=void 0)}function T(a){for(F(!1===a._closeRequested);0<a._pendingPullIntos.length&&0!==a._queueTotalSize;){var c=a._pendingPullIntos[0];!0===ha(a,c)&&(P(a),da(a._controlledReadableStream,
c))}}function O(a,c){var b=a._controlledReadableStream,d=1;c.constructor!==DataView&&(d=c.constructor.BYTES_PER_ELEMENT);d={buffer:c.buffer,byteOffset:c.byteOffset,byteLength:c.byteLength,bytesFilled:0,elementSize:d,ctor:c.constructor,readerType:"byob"};if(0<a._pendingPullIntos.length)return d.buffer=ga(d.buffer),a._pendingPullIntos.push(d),r(b);if("closed"===b._state)return b=new c.constructor(d.buffer,d.byteOffset,0),Promise.resolve(X(b,!0));if(0<a._queueTotalSize){if(!0===ha(a,d))return b=ea(d),
ja(a),Promise.resolve(X(b,!1));if(!0===a._closeRequested)return b=new TypeError("Insufficient bytes to fill elements in the given buffer"),D(a,b),Promise.reject(b)}d.buffer=ga(d.buffer);a._pendingPullIntos.push(d);b=r(b);y(a);return b}function R(a,b){var d=a._pendingPullIntos[0],f=a._controlledReadableStream;if("closed"===f._state){if(0!==b)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");d.buffer=ga(d.buffer);F(0===d.bytesFilled,"bytesFilled must be 0");d=a._controlledReadableStream;
if(!0===c(d))for(;0<d._reader._readIntoRequests.length;)f=P(a),da(d,f)}else{F("readable"===f._state);if(d.bytesFilled+b>d.byteLength)throw new RangeError("bytesWritten out of range");ia(a,b,d);if(!(d.bytesFilled<d.elementSize)){P(a);f=d.bytesFilled%d.elementSize;if(0<f){var e=d.byteOffset+d.bytesFilled,e=d.buffer.slice(e-f,e);Y(a,e,0,e.byteLength)}d.buffer=ga(d.buffer);d.bytesFilled-=f;da(a._controlledReadableStream,d);T(a)}}}function P(a){var c=a._pendingPullIntos.shift();U(a);return c}function S(a){var b=
a._controlledReadableStream;return"readable"!==b._state||!0===a._closeRequested||!1===a._started?!1:!0===f(b)&&0<b._reader._readRequests.length||!0===c(b)&&0<b._reader._readIntoRequests.length||0<Q(a)?!0:!1}function D(a,c){var b=a._controlledReadableStream;F("readable"===b._state);U(a);a._pendingPullIntos=[];ca(a);v(b,c)}function Q(a){var c=a._controlledReadableStream._state;return"errored"===c?null:"closed"===c?0:a._strategyHWM-a._queueTotalSize}function W(a){return new TypeError("ReadableStream.prototype."+
a+" can only be used on a ReadableStream")}function Z(a){return new TypeError("Cannot "+a+" a stream using a released reader")}function ba(a){return new TypeError("ReadableStreamDefaultReader.prototype."+a+" can only be used on a ReadableStreamDefaultReader")}function ma(a){a._closedPromise=new Promise(function(c,b){a._closedPromise_resolve=c;a._closedPromise_reject=b})}function pa(a,c){a._closedPromise=Promise.reject(c);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}function qa(a){a._closedPromise=
Promise.resolve(void 0);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}function va(a,c){F(void 0!==a._closedPromise_resolve);F(void 0!==a._closedPromise_reject);a._closedPromise_reject(c);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}function ya(a,c){F(void 0===a._closedPromise_resolve);F(void 0===a._closedPromise_reject);a._closedPromise=Promise.reject(c)}function ka(a){return new TypeError("ReadableStreamBYOBReader.prototype."+a+" can only be used on a ReadableStreamBYOBReader")}
function la(a){return new TypeError("ReadableStreamDefaultController.prototype."+a+" can only be used on a ReadableStreamDefaultController")}function wa(a){return new TypeError("ReadableStreamBYOBRequest.prototype."+a+" can only be used on a ReadableStreamBYOBRequest")}function fa(a){return new TypeError("ReadableByteStreamController.prototype."+a+" can only be used on a ReadableByteStreamController")}function za(a){try{Promise.prototype.then.call(a,void 0,function(){})}catch(c){}}var aa=function(){function a(c,
b){for(var d=0;d<b.length;d++){var f=b[d];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(c,f.key,f)}}return function(c,b,d){b&&a(c.prototype,b);d&&a(c,d);return c}}(),d=e(0),Ba=d.ArrayBufferCopy,X=d.CreateIterResultObject,Ca=d.IsFiniteNonNegativeNumber,xa=d.InvokeOrNoop,oa=d.PromiseInvokeOrNoop,ga=d.TransferArrayBuffer,Da=d.ValidateAndNormalizeQueuingStrategy,Ea=d.ValidateAndNormalizeHighWaterMark,d=e(0),ta=d.createArrayFromList,na=d.createDataProperty,
$=d.typeIsObject,d=e(1),F=d.assert,V=d.rethrowAssertionErrorRejection,d=e(3),Fa=d.DequeueValue,Aa=d.EnqueueValueWithSize,ca=d.ResetQueue,e=e(2),Ga=e.AcquireWritableStreamDefaultWriter,Ha=e.IsWritableStream,Ia=e.IsWritableStreamLocked,Ja=e.WritableStreamAbort,Ka=e.WritableStreamDefaultWriterCloseWithErrorPropagation,La=e.WritableStreamDefaultWriterRelease,Ma=e.WritableStreamDefaultWriterWrite,ua=e.WritableStreamCloseQueuedOrInFlight,sa=function(){function c(){var a=0<arguments.length&&void 0!==arguments[0]?
arguments[0]:{},b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=b.size,b=b.highWaterMark;g(this,c);this._state="readable";this._storedError=this._reader=void 0;this._disturbed=!1;this._readableStreamController=void 0;var f=a.type;if("bytes"===""+f)void 0===b&&(b=0),this._readableStreamController=new Na(this,a,b);else if(void 0===f)void 0===b&&(b=1),this._readableStreamController=new Oa(this,a,d,b);else throw new RangeError("Invalid type is specified");}aa(c,[{key:"cancel",value:function(c){return!1===
a(this)?Promise.reject(W("cancel")):!0===n(this)?Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")):o(this,c)}},{key:"getReader",value:function(){var c=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).mode;if(!1===a(this))throw W("getReader");if(void 0===c)return new ra(this);if("byob"===""+c)return new Pa(this);throw new RangeError("Invalid mode is specified");}},{key:"pipeThrough",value:function(a,c){var b=a.readable,d=this.pipeTo(a.writable,c);za(d);return b}},
{key:"pipeTo",value:function(c){var b=this,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},f=d.preventClose,e=d.preventAbort,h=d.preventCancel;if(!1===a(this))return Promise.reject(W("pipeTo"));if(!1===Ha(c))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));f=Boolean(f);e=Boolean(e);h=Boolean(h);if(!0===n(this))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"));
if(!0===Ia(c))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"));var i=new ra(this),l=Ga(c),g=!1,s=Promise.resolve();return new Promise(function(a,d){function j(){s=Promise.resolve();return!0===g?Promise.resolve():l._readyPromise.then(function(){return H(i).then(function(a){var c=a.value;!0!==a.done&&(s=Ma(l,c).catch(function(){}))})}).then(j)}function m(){var a=s;return s.then(function(){return a!==s?m():void 0})}function q(a,c,b){"errored"===
a._state?b(a._storedError):c.catch(b).catch(V)}function k(a,b,d){function f(){a().then(function(){return r(b,d)},function(a){return r(!0,a)}).catch(V)}!0!==g&&(g=!0,"writable"===c._state&&!1===ua(c)?m().then(f):f())}function p(a,b){!0!==g&&(g=!0,"writable"===c._state&&!1===ua(c)?m().then(function(){return r(a,b)}).catch(V):r(a,b))}function r(c,b){La(l);A(i);c?d(b):a(void 0)}q(b,i._closedPromise,function(a){!1===e?k(function(){return Ja(c,a)},!0,a):p(!0,a)});q(c,l._closedPromise,function(a){!1===h?
k(function(){return o(b,a)},!0,a):p(!0,a)});(function(a,c,b){"closed"===a._state?b():c.then(b).catch(V)})(b,i._closedPromise,function(){!1===f?k(function(){return Ka(l)}):p()});if(!0===ua(c)||"closed"===c._state){var t=new TypeError("the destination writable stream closed before all data could be piped to it");!1===h?k(function(){return o(b,t)},!0,t):p(!0,t)}j().catch(function(a){s=Promise.resolve();V(a)})})}},{key:"tee",value:function(){if(!1===a(this))throw W("tee");var c=h(this,!1);return ta(c)}},
{key:"locked",get:function(){if(!1===a(this))throw W("locked");return n(this)}}]);return c}();b.exports={ReadableStream:sa,IsReadableStreamDisturbed:function(c){F(!0===a(c),"IsReadableStreamDisturbed should only be used on known readable streams");return c._disturbed},ReadableStreamDefaultControllerClose:G,ReadableStreamDefaultControllerEnqueue:L,ReadableStreamDefaultControllerError:N,ReadableStreamDefaultControllerGetDesiredSize:M};var ra=function(){function c(b){g(this,c);if(!1===a(b))throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");
if(!0===n(b))throw new TypeError("This stream has already been locked for exclusive reading by another reader");C(this,b);this._readRequests=[]}aa(c,[{key:"cancel",value:function(a){return!1===z(this)?Promise.reject(ba("cancel")):void 0===this._ownerReadableStream?Promise.reject(Z("cancel")):s(this,a)}},{key:"read",value:function(){return!1===z(this)?Promise.reject(ba("read")):void 0===this._ownerReadableStream?Promise.reject(Z("read from")):H(this)}},{key:"releaseLock",value:function(){if(!1===z(this))throw ba("releaseLock");
if(void 0!==this._ownerReadableStream){if(0<this._readRequests.length)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");A(this)}}},{key:"closed",get:function(){return!1===z(this)?Promise.reject(ba("closed")):this._closedPromise}}]);return c}(),Pa=function(){function c(b){g(this,c);if(!a(b))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===p(b._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");
if(n(b))throw new TypeError("This stream has already been locked for exclusive reading by another reader");C(this,b);this._readIntoRequests=[]}aa(c,[{key:"cancel",value:function(a){return!x(this)?Promise.reject(ka("cancel")):void 0===this._ownerReadableStream?Promise.reject(Z("cancel")):s(this,a)}},{key:"read",value:function(a){if(!x(this))return Promise.reject(ka("read"));if(void 0===this._ownerReadableStream)return Promise.reject(Z("read from"));if(!ArrayBuffer.isView(a))return Promise.reject(new TypeError("view must be an array buffer view"));
if(0===a.byteLength)return Promise.reject(new TypeError("view must have non-zero byteLength"));var c=this._ownerReadableStream;F(void 0!==c);c._disturbed=!0;a="errored"===c._state?Promise.reject(c._storedError):O(c._readableStreamController,a);return a}},{key:"releaseLock",value:function(){if(!x(this))throw ka("releaseLock");if(void 0!==this._ownerReadableStream){if(0<this._readIntoRequests.length)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");
A(this)}}},{key:"closed",get:function(){return!x(this)?Promise.reject(ka("closed")):this._closedPromise}}]);return c}(),Oa=function(){function c(b,d,f,e){g(this,c);if(!1===a(b))throw new TypeError("ReadableStreamDefaultController can only be constructed with a ReadableStream instance");if(void 0!==b._readableStreamController)throw new TypeError("ReadableStreamDefaultController instances can only be created by the ReadableStream constructor");this._controlledReadableStream=b;this._underlyingSource=
d;this._queueTotalSize=this._queue=void 0;ca(this);this._pulling=this._pullAgain=this._closeRequested=this._started=!1;b=Da(f,e);this._strategySize=b.size;this._strategyHWM=b.highWaterMark;var h=this,d=xa(d,"start",[this]);Promise.resolve(d).then(function(){h._started=!0;F(!1===h._pulling);F(!1===h._pullAgain);K(h)},function(a){B(h,a)}).catch(V)}aa(c,[{key:"close",value:function(){if(!1===I(this))throw la("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");
var a=this._controlledReadableStream._state;if("readable"!==a)throw new TypeError("The stream (in "+a+" state) is not in the readable state and cannot be closed");G(this)}},{key:"enqueue",value:function(a){if(!1===I(this))throw la("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var c=this._controlledReadableStream._state;if("readable"!==c)throw new TypeError("The stream (in "+c+" state) is not in the readable state and cannot be enqueued to");return L(this,
a)}},{key:"error",value:function(a){if(!1===I(this))throw la("error");var c=this._controlledReadableStream;if("readable"!==c._state)throw new TypeError("The stream is "+c._state+" and so cannot be errored");N(this,a)}},{key:"__cancelSteps",value:function(a){ca(this);return oa(this._underlyingSource,"cancel",[a])}},{key:"__pullSteps",value:function(){var a=this._controlledReadableStream;if(0<this._queue.length){var c=Fa(this);!0===this._closeRequested&&0===this._queue.length?i(a):K(this);return Promise.resolve(X(c,
!1))}a=q(a);K(this);return a}},{key:"desiredSize",get:function(){if(!1===I(this))throw la("desiredSize");return M(this)}}]);return c}(),Qa=function(){function a(c,b){g(this,a);this._associatedReadableByteStreamController=c;this._view=b}aa(a,[{key:"respond",value:function(a){if(!1===J(this))throw wa("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");var c=this._associatedReadableByteStreamController,a=Number(a);if(!1===
Ca(a))throw new RangeError("bytesWritten must be a finite");F(0<c._pendingPullIntos.length);R(c,a)}},{key:"respondWithNewView",value:function(a){if(!1===J(this))throw wa("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(a))throw new TypeError("You can only respond with array buffer views");var c=this._associatedReadableByteStreamController;F(0<c._pendingPullIntos.length);var b=c._pendingPullIntos[0];
if(b.byteOffset+b.bytesFilled!==a.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(b.byteLength!==a.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");b.buffer=a.buffer;R(c,a.byteLength)}},{key:"view",get:function(){return this._view}}]);return a}(),Na=function(){function b(c,d,f){g(this,b);if(!1===a(c))throw new TypeError("ReadableByteStreamController can only be constructed with a ReadableStream instance given a byte source");
if(void 0!==c._readableStreamController)throw new TypeError("ReadableByteStreamController instances can only be created by the ReadableStream constructor given a byte source");this._controlledReadableStream=c;this._underlyingByteSource=d;this._pulling=this._pullAgain=!1;U(this);this._pendingPullIntos=[];this._queue=this._queueTotalSize=void 0;ca(this);this._started=this._closeRequested=!1;this._strategyHWM=Ea(f);f=d.autoAllocateChunkSize;if(void 0!==f&&(!1===Number.isInteger(f)||0>=f))throw new RangeError("autoAllocateChunkSize must be a positive integer");
this._autoAllocateChunkSize=f;this._pendingPullIntos=[];var e=this,d=xa(d,"start",[this]);Promise.resolve(d).then(function(){e._started=!0;F(!1===e._pulling);F(!1===e._pullAgain);y(e)},function(a){"readable"===c._state&&D(e,a)}).catch(V)}aa(b,[{key:"close",value:function(){if(!1===p(this))throw fa("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var a=this._controlledReadableStream._state;if("readable"!==a)throw new TypeError("The stream (in "+
a+" state) is not in the readable state and cannot be closed");a=this._controlledReadableStream;F(!1===this._closeRequested);F("readable"===a._state);if(0<this._queueTotalSize)this._closeRequested=!0;else{if(0<this._pendingPullIntos.length&&0<this._pendingPullIntos[0].bytesFilled)throw a=new TypeError("Insufficient bytes to fill elements in the given buffer"),D(this,a),a;i(a)}}},{key:"enqueue",value:function(a){if(!1===p(this))throw fa("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");
var b=this._controlledReadableStream._state;if("readable"!==b)throw new TypeError("The stream (in "+b+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(a))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");b=this._controlledReadableStream;F(!1===this._closeRequested);F("readable"===b._state);var d=a.byteOffset,e=a.byteLength,a=ga(a.buffer);!0===f(b)?0===b._reader._readRequests.length?Y(this,a,d,e):(F(0===
this._queue.length),a=new Uint8Array(a,d,e),w(b,a,!1)):!0===c(b)?(Y(this,a,d,e),T(this)):(F(!1===n(b),"stream must not be locked"),Y(this,a,d,e))}},{key:"error",value:function(a){if(!1===p(this))throw fa("error");var c=this._controlledReadableStream;if("readable"!==c._state)throw new TypeError("The stream is "+c._state+" and so cannot be errored");D(this,a)}},{key:"__cancelSteps",value:function(a){0<this._pendingPullIntos.length&&(this._pendingPullIntos[0].bytesFilled=0);ca(this);return oa(this._underlyingByteSource,
"cancel",[a])}},{key:"__pullSteps",value:function(){var a=this._controlledReadableStream;F(!0===f(a));if(0<this._queueTotalSize){F(0===a._reader._readRequests.length);a=this._queue.shift();this._queueTotalSize-=a.byteLength;ja(this);var c=void 0;try{c=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)}catch(b){return Promise.reject(b)}return Promise.resolve(X(c,!1))}c=this._autoAllocateChunkSize;if(void 0!==c){var d=void 0;try{d=new ArrayBuffer(c)}catch(e){return Promise.reject(e)}this._pendingPullIntos.push({buffer:d,
byteOffset:0,byteLength:c,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"})}a=q(a);y(this);return a}},{key:"byobRequest",get:function(){if(!1===p(this))throw fa("byobRequest");if(void 0===this._byobRequest&&0<this._pendingPullIntos.length){var a=this._pendingPullIntos[0],a=new Uint8Array(a.buffer,a.byteOffset+a.bytesFilled,a.byteLength-a.bytesFilled);this._byobRequest=new Qa(this,a)}return this._byobRequest}},{key:"desiredSize",get:function(){if(!1===p(this))throw fa("desiredSize");
return Q(this)}}]);return b}()},function(b,d,e){var b=e(6),g=e(4),e=e(2);d.TransformStream=b.TransformStream;d.ReadableStream=g.ReadableStream;d.IsReadableStreamDisturbed=g.IsReadableStreamDisturbed;d.ReadableStreamDefaultControllerClose=g.ReadableStreamDefaultControllerClose;d.ReadableStreamDefaultControllerEnqueue=g.ReadableStreamDefaultControllerEnqueue;d.ReadableStreamDefaultControllerError=g.ReadableStreamDefaultControllerError;d.ReadableStreamDefaultControllerGetDesiredSize=g.ReadableStreamDefaultControllerGetDesiredSize;
d.AcquireWritableStreamDefaultWriter=e.AcquireWritableStreamDefaultWriter;d.IsWritableStream=e.IsWritableStream;d.IsWritableStreamLocked=e.IsWritableStreamLocked;d.WritableStream=e.WritableStream;d.WritableStreamAbort=e.WritableStreamAbort;d.WritableStreamDefaultControllerError=e.WritableStreamDefaultControllerError;d.WritableStreamDefaultWriterCloseWithErrorPropagation=e.WritableStreamDefaultWriterCloseWithErrorPropagation;d.WritableStreamDefaultWriterRelease=e.WritableStreamDefaultWriterRelease;
d.WritableStreamDefaultWriterWrite=e.WritableStreamDefaultWriterWrite},function(b,d,e){function g(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function a(a,c){if(!0===a._errored)throw new TypeError("TransformStream is already errored");if(!0===a._readableClosed)throw new TypeError("Readable side is already closed");var b=a._readableController;try{I(b,c)}catch(d){throw a._readableClosed=!0,h(a,d),a._storedError;}!0===0>=E(b)&&!1===a._backpressure&&l(a,!0)}function n(a){f(!1===
a._errored);f(!1===a._readableClosed);try{H(a._readableController)}catch(c){f(!1)}a._readableClosed=!0}function h(a,c){!1===a._errored&&u(a,c)}function u(a,c){f(!1===a._errored);a._errored=!0;a._storedError=c;!1===a._writableDone&&L(a._writableController,c);!1===a._readableClosed&&K(a._readableController,c)}function t(a){f(void 0!==a._backpressureChangePromise,"_backpressureChangePromise should have been initialized");if(!1===a._backpressure)return Promise.resolve();f(!0===a._backpressure,"_backpressure should have been initialized");
return a._backpressureChangePromise}function l(a,c){f(a._backpressure!==c,"TransformStreamSetBackpressure() should be called only when backpressure is changed");void 0!==a._backpressureChangePromise&&a._backpressureChangePromise_resolve(c);a._backpressureChangePromise=new Promise(function(c){a._backpressureChangePromise_resolve=c});a._backpressureChangePromise.then(function(a){f(a!==c,"_backpressureChangePromise should be fulfilled only when backpressure is changed")});a._backpressure=c}function r(c,
b){a(b._controlledTransformStream,c);return Promise.resolve()}function q(a,c){f(!1===a._errored);f(!1===a._transforming);f(!1===a._backpressure);a._transforming=!0;var b=a._transformStreamController;return z(a._transformer,"transform",[c,b],r,[c,b]).then(function(){a._transforming=!1;return t(a)},function(c){h(a,c);return Promise.reject(c)})}function o(a){return!s(a)||!Object.prototype.hasOwnProperty.call(a,"_controlledTransformStream")?!1:!0}function i(a){return!s(a)||!Object.prototype.hasOwnProperty.call(a,
"_transformStreamController")?!1:!0}function v(a){return new TypeError("TransformStreamDefaultController.prototype."+a+" can only be used on a TransformStreamDefaultController")}function w(a){return new TypeError("TransformStream.prototype."+a+" can only be used on a TransformStream")}var c=function(){function a(c,b){for(var d=0;d<b.length;d++){var f=b[d];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(c,f.key,f)}}return function(c,b,d){b&&a(c.prototype,
b);d&&a(c,d);return c}}(),f=e(1).assert,d=e(0),x=d.InvokeOrNoop,z=d.PromiseInvokeOrPerformFallback,C=d.PromiseInvokeOrNoop,s=d.typeIsObject,d=e(4),A=d.ReadableStream,H=d.ReadableStreamDefaultControllerClose,I=d.ReadableStreamDefaultControllerEnqueue,K=d.ReadableStreamDefaultControllerError,E=d.ReadableStreamDefaultControllerGetDesiredSize,e=e(2),G=e.WritableStream,L=e.WritableStreamDefaultControllerError,N=function(){function a(c,b){g(this,a);this._transformStream=c;this._startPromise=b}c(a,[{key:"start",
value:function(a){var c=this._transformStream;c._writableController=a;return this._startPromise.then(function(){return t(c)})}},{key:"write",value:function(a){return q(this._transformStream,a)}},{key:"abort",value:function(){var a=this._transformStream;a._writableDone=!0;u(a,new TypeError("Writable side aborted"))}},{key:"close",value:function(){var a=this._transformStream;f(!1===a._transforming);a._writableDone=!0;return C(a._transformer,"flush",[a._transformStreamController]).then(function(){if(!0===
a._errored)return Promise.reject(a._storedError);!1===a._readableClosed&&n(a);return Promise.resolve()}).catch(function(c){h(a,c);return Promise.reject(a._storedError)})}}]);return a}(),B=function(){function a(c,b){g(this,a);this._transformStream=c;this._startPromise=b}c(a,[{key:"start",value:function(a){var c=this._transformStream;c._readableController=a;return this._startPromise.then(function(){f(void 0!==c._backpressureChangePromise,"_backpressureChangePromise should have been initialized");if(!0===
c._backpressure)return Promise.resolve();f(!1===c._backpressure,"_backpressure should have been initialized");return c._backpressureChangePromise})}},{key:"pull",value:function(){var a=this._transformStream;f(!0===a._backpressure,"pull() should be never called while _backpressure is false");f(void 0!==a._backpressureChangePromise,"_backpressureChangePromise should have been initialized");l(a,!1);return a._backpressureChangePromise}},{key:"cancel",value:function(){var a=this._transformStream;a._readableClosed=
!0;u(a,new TypeError("Readable side canceled"))}}]);return a}(),M=function(){function b(a){g(this,b);if(!1===i(a))throw new TypeError("TransformStreamDefaultController can only be constructed with a TransformStream instance");if(void 0!==a._transformStreamController)throw new TypeError("TransformStreamDefaultController instances can only be created by the TransformStream constructor");this._controlledTransformStream=a}c(b,[{key:"enqueue",value:function(c){if(!1===o(this))throw v("enqueue");a(this._controlledTransformStream,
c)}},{key:"close",value:function(){if(!1===o(this))throw v("close");var a=this._controlledTransformStream;if(!0===a._errored)throw new TypeError("TransformStream is already errored");if(!0===a._readableClosed)throw new TypeError("Readable side is already closed");n(a)}},{key:"error",value:function(a){if(!1===o(this))throw v("error");var c=this._controlledTransformStream;if(!0===c._errored)throw new TypeError("TransformStream is already errored");u(c,a)}},{key:"desiredSize",get:function(){if(!1===
o(this))throw v("desiredSize");return E(this._controlledTransformStream._readableController)}}]);return b}(),e=function(){function a(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};g(this,a);this._transformer=c;var b=c.readableStrategy,d=c.writableStrategy;this._errored=this._transforming=!1;this._transformStreamController=this._readableController=this._writableController=this._storedError=void 0;this._readableClosed=this._writableDone=!1;this._backpressureChangePromise_resolve=
this._backpressureChangePromise=this._backpressure=void 0;this._transformStreamController=new M(this);var e=void 0,h=new Promise(function(a){e=a}),i=new B(this,h);this._readable=new A(i,b);b=new N(this,h);this._writable=new G(b,d);f(void 0!==this._writableController);f(void 0!==this._readableController);d=E(this._readableController);l(this,0>=d);var s=this,c=x(c,"start",[s._transformStreamController]);e(c);h.catch(function(a){!1===s._errored&&(s._errored=!0,s._storedError=a)})}c(a,[{key:"readable",
get:function(){if(!1===i(this))throw w("readable");return this._readable}},{key:"writable",get:function(){if(!1===i(this))throw w("writable");return this._writable}}]);return a}();b.exports={TransformStream:e}},function(b,d,e){b.exports=e(5)}]))},function(g,d,b){Object.defineProperty(d,"__esModule",{value:!0});d.PDFJS=d.globalScope=void 0;var g=b(10),k=b(0),j=b(57),e=b(59),m=b(14),m=m&&m.__esModule?m:{"default":m},a=b(58),n=b(60),b=b(61);m.default.PDFJS||(m.default.PDFJS={});var h=m.default.PDFJS;
h.version="2.0.211";h.build="6bbe9107";h.pdfBug=!1;void 0!==h.verbosity&&(0,k.setVerbosityLevel)(h.verbosity);delete h.verbosity;Object.defineProperty(h,"verbosity",{get:function(){return(0,k.getVerbosityLevel)()},set:function(a){(0,k.setVerbosityLevel)(a)},enumerable:!0,configurable:!0});h.VERBOSITY_LEVELS=k.VERBOSITY_LEVELS;h.OPS=k.OPS;h.UNSUPPORTED_FEATURES=k.UNSUPPORTED_FEATURES;h.isValidUrl=g.isValidUrl;h.shadow=k.shadow;h.createBlob=k.createBlob;h.createObjectURL=function(a,b){return(0,k.createObjectURL)(a,
b,h.disableCreateObjectURL)};Object.defineProperty(h,"isLittleEndian",{configurable:!0,get:function(){return(0,k.shadow)(h,"isLittleEndian",(0,k.isLittleEndian)())}});h.removeNullCharacters=k.removeNullCharacters;h.PasswordResponses=k.PasswordResponses;h.PasswordException=k.PasswordException;h.UnknownErrorException=k.UnknownErrorException;h.InvalidPDFException=k.InvalidPDFException;h.MissingPDFException=k.MissingPDFException;h.UnexpectedResponseException=k.UnexpectedResponseException;h.Util=k.Util;
h.PageViewport=k.PageViewport;h.createPromiseCapability=k.createPromiseCapability;h.maxImageSize=void 0===h.maxImageSize?-1:h.maxImageSize;h.cMapUrl=void 0===h.cMapUrl?null:h.cMapUrl;h.cMapPacked=void 0===h.cMapPacked?!1:h.cMapPacked;h.disableFontFace=void 0===h.disableFontFace?!1:h.disableFontFace;h.imageResourcesPath=void 0===h.imageResourcesPath?"":h.imageResourcesPath;h.disableWorker=void 0===h.disableWorker?!1:h.disableWorker;h.workerSrc=void 0===h.workerSrc?null:h.workerSrc;h.workerPort=void 0===
h.workerPort?null:h.workerPort;h.disableRange=void 0===h.disableRange?!1:h.disableRange;h.disableStream=void 0===h.disableStream?!1:h.disableStream;h.disableAutoFetch=void 0===h.disableAutoFetch?!1:h.disableAutoFetch;h.pdfBug=void 0===h.pdfBug?!1:h.pdfBug;h.postMessageTransfers=void 0===h.postMessageTransfers?!0:h.postMessageTransfers;h.disableCreateObjectURL=void 0===h.disableCreateObjectURL?!1:h.disableCreateObjectURL;h.disableWebGL=void 0===h.disableWebGL?!0:h.disableWebGL;h.externalLinkTarget=
void 0===h.externalLinkTarget?g.LinkTarget.NONE:h.externalLinkTarget;h.externalLinkRel=void 0===h.externalLinkRel?g.DEFAULT_LINK_REL:h.externalLinkRel;h.isEvalSupported=void 0===h.isEvalSupported?!0:h.isEvalSupported;h.getDocument=j.getDocument;h.LoopbackPort=j.LoopbackPort;h.PDFDataRangeTransport=j.PDFDataRangeTransport;h.PDFWorker=j.PDFWorker;h.CustomStyle=g.CustomStyle;h.LinkTarget=g.LinkTarget;h.addLinkAttributes=g.addLinkAttributes;h.getFilenameFromUrl=g.getFilenameFromUrl;h.isExternalLinkTargetSet=
g.isExternalLinkTargetSet;h.AnnotationLayer=e.AnnotationLayer;h.renderTextLayer=n.renderTextLayer;h.Metadata=a.Metadata;h.SVGGraphics=b.SVGGraphics;d.globalScope=m.default;d.PDFJS=h},function(g,d,b){function k(b){this.docId=b;this.styleElement=null;this.nativeFontFaces=[];this.loadTestFontId=0;this.loadingContext={requests:[],nextRequestId:0}}Object.defineProperty(d,"__esModule",{value:!0});d.FontLoader=d.FontFaceObject=void 0;var j=b(0);k.prototype={insertRule:function(b){var a=this.styleElement;
a||(a=this.styleElement=document.createElement("style"),a.id="PDFJS_FONT_STYLE_TAG_"+this.docId,document.documentElement.getElementsByTagName("head")[0].appendChild(a));a=a.sheet;a.insertRule(b,a.cssRules.length)},clear:function(){this.styleElement&&(this.styleElement.remove(),this.styleElement=null);this.nativeFontFaces.forEach(function(b){document.fonts.delete(b)});this.nativeFontFaces.length=0}};Object.defineProperty(k.prototype,"loadTestFont",{get:function(){return(0,j.shadow)(this,"loadTestFont",
atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))},
configurable:!0});k.prototype.addNativeFontFace=function(b){this.nativeFontFaces.push(b);document.fonts.add(b)};k.prototype.bind=function(b,a){for(var d=[],e=[],g=[],t=function(a){return a.loaded.catch(function(c){(0,j.warn)('Failed to load font "'+a.family+'": '+c)})},l=k.isFontLoadingAPISupported&&!k.isSyncFontLoadingSupported,r=0,q=b.length;r<q;r++){var o=b[r];if(!(o.attached||!1===o.loading))if(o.attached=!0,l){if(o=o.createNativeFontFace())this.addNativeFontFace(o),g.push(t(o))}else{var i=o.createFontFaceRule();
i&&(this.insertRule(i),d.push(i),e.push(o))}}var v=this.queueLoadingCallback(a);l?Promise.all(g).then(function(){v.complete()}):0<d.length&&!k.isSyncFontLoadingSupported?this.prepareFontLoadEvent(d,e,v):v.complete()};k.prototype.queueLoadingCallback=function(b){var a=this.loadingContext,d={id:"pdfjs-font-loading-"+a.nextRequestId++,complete:function(){(0,j.assert)(!d.end,"completeRequest() cannot be called twice");for(d.end=Date.now();0<a.requests.length&&a.requests[0].end;){var b=a.requests.shift();
setTimeout(b.callback,0)}},callback:b,started:Date.now()};a.requests.push(d);return d};k.prototype.prepareFontLoadEvent=function(b,a,d){function e(a,b){return a.charCodeAt(b)<<24|a.charCodeAt(b+1)<<16|a.charCodeAt(b+2)<<8|a.charCodeAt(b+3)&255}function g(a,b,d,e){var h=a.substr(0,b),a=a.substr(b+d);return h+e+a}function k(a,b){o++;30<o?((0,j.warn)("Load test font never loaded."),b()):(q.font="30px "+a,q.fillText(".",0,20),0<q.getImageData(0,0,1,1).data[3]?b():setTimeout(k.bind(null,a,b)))}var l,r,
b=document.createElement("canvas");b.width=1;b.height=1;var q=b.getContext("2d"),o=0,b="lt"+Date.now()+this.loadTestFontId++,i=this.loadTestFont,i=g(i,976,b.length,b),v=e(i,16);l=0;for(r=b.length-3;l<r;l+=4)v=v-1482184792+e(b,l)|0;l<b.length&&(v=v-1482184792+e(b+"XXX",l)|0);i=g(i,16,4,(0,j.string32)(v));l="url(data:font/opentype;base64,"+btoa(i)+");";this.insertRule('@font-face { font-family:"'+b+'";src:'+l+"}");i=[];l=0;for(r=a.length;l<r;l++)i.push(a[l].loadedName);i.push(b);var w=document.createElement("div");
w.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");l=0;for(r=i.length;l<r;++l)a=document.createElement("span"),a.textContent="Hi",a.style.fontFamily=i[l],w.appendChild(a);document.body.appendChild(w);k(b,function(){document.body.removeChild(w);d.complete()})};k.isFontLoadingAPISupported="undefined"!==typeof document&&!!document.fonts;Object.defineProperty(k,"isSyncFontLoadingSupported",{get:function(){var b=(0,j.shadow),a;if("undefined"===
typeof navigator)a=!0;else{a=!1;var d=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);d&&14<=d[1]&&(a=!0)}return b(k,"isSyncFontLoadingSupported",a)},enumerable:!0,configurable:!0});var e={get value(){return(0,j.shadow)(this,"value",(0,j.isEvalSupported)())}},g=function(){function b(a,d){this.compiledGlyphs=Object.create(null);for(var e in a)this[e]=a[e];this.options=d}b.prototype={createNativeFontFace:function(){if(!this.data)return null;if(this.options.disableFontFace)return this.disableFontFace=
!0,null;var a=new FontFace(this.loadedName,this.data,{});this.options.fontRegistry&&this.options.fontRegistry.registerFont(this);return a},createFontFaceRule:function(){if(!this.data)return null;if(this.options.disableFontFace)return this.disableFontFace=!0,null;var a=(0,j.bytesToString)(new Uint8Array(this.data)),b=this.loadedName,a="url(data:"+this.mimetype+";base64,"+btoa(a)+");",b='@font-face { font-family:"'+b+'";src:'+a+"}";this.options.fontRegistry&&this.options.fontRegistry.registerFont(this,
a);return b},getPathGenerator:function(a,b){if(!(b in this.compiledGlyphs)){var d=a.get(this.loadedName+"_path_"+b),g,j,l;if(this.options.isEvalSupported&&e.value){var k,q="";j=0;for(l=d.length;j<l;j++)g=d[j],k=void 0!==g.args?g.args.join(","):"",q+="c."+g.cmd+"("+k+");\n";this.compiledGlyphs[b]=new Function("c","size",q)}else this.compiledGlyphs[b]=function(a,b){j=0;for(l=d.length;j<l;j++)g=d[j],"scale"===g.cmd&&(g.args=[b,-b]),a[g.cmd].apply(a,g.args)}}return this.compiledGlyphs[b]}};return b}();
d.FontFaceObject=g;d.FontLoader=k},function(g,d,b){function k(a){a.mozCurrentTransform||(a._originalSave=a.save,a._originalRestore=a.restore,a._originalRotate=a.rotate,a._originalScale=a.scale,a._originalTranslate=a.translate,a._originalTransform=a.transform,a._originalSetTransform=a.setTransform,a._transformMatrix=a._transformMatrix||[1,0,0,1,0,0],a._transformStack=[],Object.defineProperty(a,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(a,"mozCurrentTransformInverse",
{get:function(){var a=this._transformMatrix,b=a[0],d=a[1],e=a[2],h=a[3],g=a[4],a=a[5],j=b*h-d*e,c=d*e-b*h;return[h/j,d/c,e/c,b/j,(h*g-e*a)/c,(d*g-b*a)/j]}}),a.save=function(){var a=this._transformMatrix;this._transformStack.push(a);this._transformMatrix=a.slice(0,6);this._originalSave()},a.restore=function(){var a=this._transformStack.pop();a&&(this._transformMatrix=a,this._originalRestore())},a.translate=function(a,b){var d=this._transformMatrix;d[4]=d[0]*a+d[2]*b+d[4];d[5]=d[1]*a+d[3]*b+d[5];this._originalTranslate(a,
b)},a.scale=function(a,b){var d=this._transformMatrix;d[0]*=a;d[1]*=a;d[2]*=b;d[3]*=b;this._originalScale(a,b)},a.transform=function(b,d,e,h,g,j){var k=this._transformMatrix;this._transformMatrix=[k[0]*b+k[2]*d,k[1]*b+k[3]*d,k[0]*e+k[2]*h,k[1]*e+k[3]*h,k[0]*g+k[2]*j+k[4],k[1]*g+k[3]*j+k[5]];a._originalTransform(b,d,e,h,g,j)},a.setTransform=function(b,d,e,h,g,j){this._transformMatrix=[b,d,e,h,g,j];a._originalSetTransform(b,d,e,h,g,j)},a.rotate=function(a){var b=Math.cos(a),d=Math.sin(a),e=this._transformMatrix;
this._transformMatrix=[e[0]*b+e[2]*d,e[1]*b+e[3]*d,e[0]*-d+e[2]*b,e[1]*-d+e[3]*b,e[4],e[5]];this._originalRotate(a)})}function j(a){var b=a.width,d=a.height,e,h,g=b+1,j=new Uint8Array(g*(d+1)),k=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),c=b+7&-8,f=a.data,m=new Uint8Array(c*d),n=0,a=0;for(e=f.length;a<e;a++){h=128;for(var u=f[a];0<h;)m[n++]=u&h?0:255,h>>=1}n=f=0;0!==m[n]&&(j[0]=1,++f);for(e=1;e<b;e++)m[n]!==m[n+1]&&(j[e]=m[n]?2:1,++f),n++;0!==m[n]&&(j[e]=2,++f);for(a=1;a<d;a++){n=a*c;h=a*
g;m[n-c]!==m[n]&&(j[h]=m[n]?1:8,++f);u=(m[n]?4:0)+(m[n-c]?8:0);for(e=1;e<b;e++)u=(u>>2)+(m[n+1]?4:0)+(m[n-c+1]?8:0),k[u]&&(j[h+e]=k[u],++f),n++;m[n-c]!==m[n]&&(j[h+e]=m[n]?2:4,++f);if(1E3<f)return null}n=c*(d-1);h=a*g;0!==m[n]&&(j[h]=8,++f);for(e=1;e<b;e++)m[n]!==m[n+1]&&(j[h+e]=m[n]?4:8,++f),n++;0!==m[n]&&(j[h+e]=4,++f);if(1E3<f)return null;for(var k=new Int32Array([0,g,-1,0,-g,0,0,0,1]),s=[],a=0;f&&a<=d;a++){c=a*g;for(m=c+b;c<m&&!j[c];)c++;if(c!==m){m=[c%g,a];n=j[c];e=c;do{h=k[n];do c+=h;while(!j[c]);
h=j[c];5!==h&&10!==h?(n=h,j[c]=0):(n=h&51*n>>4,j[c]&=n>>2|n<<2);m.push(c%g);m.push(c/g|0);--f}while(e!==c);s.push(m);--a}}return function(a){a.save();a.scale(1/b,-1/d);a.translate(0,-d);a.beginPath();for(var c=0,f=s.length;c<f;c++){var e=s[c];a.moveTo(e[0],e[1]);for(var h=2,g=e.length;h<g;h=h+2)a.lineTo(e[h],e[h+1])}a.fill();a.beginPath();a.restore()}}Object.defineProperty(d,"__esModule",{value:!0});d.CanvasGraphics=void 0;var e=b(0),m=b(117),a=16,n={get value(){return(0,e.shadow)(n,"value",(0,e.isLittleEndian)())}},
h=function(){function a(b){this.canvasFactory=b;this.cache=Object.create(null)}a.prototype={getCanvas:function(a,b,d,e){var h;void 0!==this.cache[a]?(h=this.cache[a],this.canvasFactory.reset(h,b,d),h.context.setTransform(1,0,0,1,0,0)):(h=this.canvasFactory.create(b,d),this.cache[a]=h);e&&k(h.context);return h},clear:function(){for(var a in this.cache)this.canvasFactory.destroy(this.cache[a]),delete this.cache[a]}};return a}(),u=function(){function a(){this.alphaIsShape=!1;this.fontSize=0;this.fontSizeScale=
1;this.textMatrix=e.IDENTITY_MATRIX;this.textMatrixScale=1;this.fontMatrix=e.FONT_IDENTITY_MATRIX;this.wordSpacing=this.charSpacing=this.lineY=this.lineX=this.y=this.x=this.leading=0;this.textHScale=1;this.textRenderingMode=e.TextRenderingMode.FILL;this.textRise=0;this.strokeColor=this.fillColor="#000000";this.patternFill=!1;this.lineWidth=this.strokeAlpha=this.fillAlpha=1;this.resumeSMaskCtx=this.activeSMask=null}a.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(a,
b){this.x=a;this.y=b}};return a}(),g=function(){function b(a,c,d,f,e,g){this.ctx=a;this.current=new u;this.stateStack=[];this.pendingClip=null;this.pendingEOFill=!1;this.xobjs=this.res=null;this.commonObjs=c;this.objs=d;this.canvasFactory=f;this.webGLContext=e;this.imageLayer=g;this.groupStack=[];this.baseTransform=this.processingType3=null;this.baseTransformStack=[];this.groupLevel=0;this.smaskStack=[];this.smaskCounter=0;this.tempSMask=null;this.cachedCanvases=new h(this.canvasFactory);a&&k(a);
this.cachedGetSinglePixelWidth=null}function d(c,b){if("undefined"!==typeof ImageData&&b instanceof ImageData)c.putImageData(b,0,0);else{var f=b.height,h=b.width,g=f%a,f=(f-g)/a,i=0===g?f:f+1,l=c.createImageData(h,a),j=0,k,m=b.data,q=l.data,r,o,t;if(b.kind===e.ImageKind.GRAYSCALE_1BPP){var u=m.byteLength,q=new Uint32Array(q.buffer,0,q.byteLength>>2),x=q.length,z=h+7>>3,v=n.value?4278190080:255;for(r=0;r<i;r++){t=r<f?a:g;for(o=k=0;o<t;o++){for(var w=u-j,C=0,w=w>z?h:8*w-7,U=w&-8,T=0,O=0;C<U;C+=8)O=
m[j++],q[k++]=O&128?4294967295:v,q[k++]=O&64?4294967295:v,q[k++]=O&32?4294967295:v,q[k++]=O&16?4294967295:v,q[k++]=O&8?4294967295:v,q[k++]=O&4?4294967295:v,q[k++]=O&2?4294967295:v,q[k++]=O&1?4294967295:v;for(;C<w;C++)0===T&&(O=m[j++],T=128),q[k++]=O&T?4294967295:v,T>>=1}for(;k<x;)q[k++]=0;c.putImageData(l,0,r*a)}}else if(b.kind===e.ImageKind.RGBA_32BPP){o=0;t=4*h*a;for(r=0;r<f;r++)q.set(m.subarray(j,j+t)),j+=t,c.putImageData(l,0,o),o+=a;r<i&&(q.set(m.subarray(j,j+4*h*g)),c.putImageData(l,0,o))}else if(b.kind===
e.ImageKind.RGB_24BPP){t=a;t*=h;for(r=0;r<i;r++){r>=f&&(t=g,t*=h);k=0;for(o=t;o--;)q[k++]=m[j++],q[k++]=m[j++],q[k++]=m[j++],q[k++]=255;c.putImageData(l,0,r*a)}}else throw Error("bad image kind: "+b.kind);}}function g(c,b){for(var d=b.height,f=b.width,e=d%a,d=(d-e)/a,h=0===e?d:d+1,i=c.createImageData(f,a),l=0,j=b.data,k=i.data,m=0;m<h;m++){for(var q=m<d?a:e,n=3,r=0;r<q;r++)for(var o=0,t=0;t<f;t++){if(!o)var u=j[l++],o=128;k[n]=u&o?0:255;n+=4;o>>=1}c.putImageData(i,0,m*a)}}function q(a,c){for(var b=
"strokeStyle fillStyle fillRule globalAlpha lineWidth lineCap lineJoin miterLimit globalCompositeOperation font".split(" "),d=0,f=b.length;d<f;d++){var e=b[d];void 0!==a[e]&&(c[e]=a[e])}void 0!==a.setLineDash&&(c.setLineDash(a.getLineDash()),c.lineDashOffset=a.lineDashOffset)}function o(a){a.strokeStyle="#000000";a.fillStyle="#000000";a.fillRule="nonzero";a.globalAlpha=1;a.lineWidth=1;a.lineCap="butt";a.lineJoin="miter";a.miterLimit=10;a.globalCompositeOperation="source-over";a.font="10px sans-serif";
void 0!==a.setLineDash&&(a.setLineDash([]),a.lineDashOffset=0)}function i(a,c,b){for(var d=a.length,f=1/255,e=3;e<d;e+=4)c[e]=c[e]*(b?b[a[e]]:a[e])*f|0}function v(a,c,b){for(var d=a.length,f=3;f<d;f+=4){var e=77*a[f-3]+152*a[f-2]+28*a[f-1];c[f]=b?c[f]*b[e>>8]>>8:c[f]*e>>16}}function w(a,c,b,d){var f=c.canvas,e=c.context;a.setTransform(c.scaleX,0,0,c.scaleY,c.offsetX,c.offsetY);var h=c.backdrop||null;if(!c.transferMap&&d.isEnabled)b=d.composeSMask({layer:b.canvas,mask:f,properties:{subtype:c.subtype,
backdrop:h}}),a.setTransform(1,0,0,1,0,0),a.drawImage(b,c.offsetX,c.offsetY);else{for(var d=f.width,g=f.height,l=c.transferMap,j=!!h,k=j?h[0]:0,m=j?h[1]:0,h=j?h[2]:0,c="Luminosity"===c.subtype?v:i,q=Math.min(g,Math.ceil(1048576/d)),n=0;n<g;n+=q){var r=Math.min(q,g-n),o=e.getImageData(0,n,d,r),r=b.getImageData(0,n,d,r);if(j)for(var t=o.data,u=k,x=m,z=h,w=t.length,C=3;C<w;C+=4){var O=t[C];if(0===O)t[C-3]=u,t[C-2]=x,t[C-1]=z;else if(255>O){var R=255-O;t[C-3]=t[C-3]*O+u*R>>8;t[C-2]=t[C-2]*O+x*R>>8;t[C-
1]=t[C-1]*O+z*R>>8}}c(o.data,r.data,l);e.putImageData(r,0,n)}a.drawImage(f,0,0)}}var c=["butt","round","square"],f=["miter","round","bevel"],x={},z={};b.prototype={beginDrawing:function(a){var c=a.transform,b=a.viewport,d=a.transparency,a=a.background,a=void 0===a?null:a,f=this.ctx.canvas.width,e=this.ctx.canvas.height;this.ctx.save();this.ctx.fillStyle=a||"rgb(255, 255, 255)";this.ctx.fillRect(0,0,f,e);this.ctx.restore();d&&(d=this.cachedCanvases.getCanvas("transparent",f,e,!0),this.compositeCtx=
this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform));this.ctx.save();o(this.ctx);c&&this.ctx.transform.apply(this.ctx,c);this.ctx.transform.apply(this.ctx,b.transform);this.baseTransform=this.ctx.mozCurrentTransform.slice();this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(a,c,b,d){var f=a.argsArray,a=a.fnArray,c=c||0,h=f.length;if(h===c)return c;for(var g=10<h-c&&"function"===
typeof b,i=g?Date.now()+15:0,l=0,j=this.commonObjs,k=this.objs,m;;){if(void 0!==d&&c===d.nextBreakPoint)return d.breakIt(c,b),c;m=a[c];if(m!==e.OPS.dependency)this[m].apply(this,f[c]);else{m=f[c];for(var q=0,n=m.length;q<n;q++){var r=m[q],o="g"===r[0]&&"_"===r[1]?j:k;if(!o.isResolved(r))return o.get(r,b),c}}c++;if(c===h)return c;if(g&&10<++l){if(Date.now()>i)return b(),c;l=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup();this.ctx.restore();this.transparentCanvas&&(this.ctx=
this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null);this.cachedCanvases.clear();this.webGLContext.clear();this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(a){this.current.lineWidth=a;this.ctx.lineWidth=a},setLineCap:function(a){this.ctx.lineCap=c[a]},setLineJoin:function(a){this.ctx.lineJoin=f[a]},setMiterLimit:function(a){this.ctx.miterLimit=a},setDash:function(a,c){var b=
this.ctx;void 0!==b.setLineDash&&(b.setLineDash(a),b.lineDashOffset=c)},setRenderingIntent:function(){},setFlatness:function(){},setGState:function(a){for(var c=0,b=a.length;c<b;c++){var d=a[c],f=d[1];switch(d[0]){case "LW":this.setLineWidth(f);break;case "LC":this.setLineCap(f);break;case "LJ":this.setLineJoin(f);break;case "ML":this.setMiterLimit(f);break;case "D":this.setDash(f[0],f[1]);break;case "RI":this.setRenderingIntent(f);break;case "FL":this.setFlatness(f);break;case "Font":this.setFont(f[0],
f[1]);break;case "CA":this.current.strokeAlpha=d[1];break;case "ca":this.current.fillAlpha=d[1];this.ctx.globalAlpha=d[1];break;case "BM":this.ctx.globalCompositeOperation=f;break;case "SMask":this.current.activeSMask&&(0<this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=f?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var a=
this.current.activeSMask,c=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,a.canvas.width,a.canvas.height,!0),b=this.ctx,d=b.mozCurrentTransform;this.ctx.save();c=c.context;c.scale(1/a.scaleX,1/a.scaleY);c.translate(-a.offsetX,-a.offsetY);c.transform.apply(c,d);a.startTransformInverse=c.mozCurrentTransformInverse;q(b,c);this.ctx=c;this.setGState([["BM","source-over"],["ca",1],["CA",1]]);this.groupStack.push(b);this.groupLevel++},suspendSMaskGroup:function(){var a=this.ctx;this.groupLevel--;
this.ctx=this.groupStack.pop();w(this.ctx,this.current.activeSMask,a,this.webGLContext);this.ctx.restore();this.ctx.save();q(a,this.ctx);this.current.resumeSMaskCtx=a;this.ctx.transform.apply(this.ctx,e.Util.transform(this.current.activeSMask.startTransformInverse,a.mozCurrentTransform));a.save();a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,a.canvas.width,a.canvas.height);a.restore()},resumeSMaskGroup:function(){var a=this.ctx;this.ctx=this.current.resumeSMaskCtx;this.groupStack.push(a);this.groupLevel++},
endSMaskGroup:function(){var a=this.ctx;this.groupLevel--;this.ctx=this.groupStack.pop();w(this.ctx,this.current.activeSMask,a,this.webGLContext);this.ctx.restore();q(a,this.ctx);this.ctx.transform.apply(this.ctx,e.Util.transform(this.current.activeSMask.startTransformInverse,a.mozCurrentTransform))},save:function(){this.ctx.save();var a=this.current;this.stateStack.push(a);this.current=a.clone();this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup();
null!==this.current.activeSMask&&(0===this.stateStack.length||this.stateStack[this.stateStack.length-1].activeSMask!==this.current.activeSMask)&&this.endSMaskGroup();0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.cachedGetSinglePixelWidth=this.pendingClip=null)},transform:function(a,c,b,d,f,e){this.ctx.transform(a,c,b,d,f,e);this.cachedGetSinglePixelWidth=null},constructPath:function(a,c){for(var b=this.ctx,d=this.current,f=d.x,h=d.y,g=0,i=0,l=a.length;g<l;g++)switch(a[g]|
0){case e.OPS.rectangle:var f=c[i++],h=c[i++],j=c[i++],k=c[i++];0===j&&(j=this.getSinglePixelWidth());0===k&&(k=this.getSinglePixelWidth());j=f+j;k=h+k;this.ctx.moveTo(f,h);this.ctx.lineTo(j,h);this.ctx.lineTo(j,k);this.ctx.lineTo(f,k);this.ctx.lineTo(f,h);this.ctx.closePath();break;case e.OPS.moveTo:f=c[i++];h=c[i++];b.moveTo(f,h);break;case e.OPS.lineTo:f=c[i++];h=c[i++];b.lineTo(f,h);break;case e.OPS.curveTo:f=c[i+4];h=c[i+5];b.bezierCurveTo(c[i],c[i+1],c[i+2],c[i+3],f,h);i+=6;break;case e.OPS.curveTo2:b.bezierCurveTo(f,
h,c[i],c[i+1],c[i+2],c[i+3]);f=c[i+2];h=c[i+3];i+=4;break;case e.OPS.curveTo3:f=c[i+2];h=c[i+3];b.bezierCurveTo(c[i],c[i+1],f,h,f,h);i+=4;break;case e.OPS.closePath:b.closePath()}d.setCurrentPoint(f,h)},closePath:function(){this.ctx.closePath()},stroke:function(a){var a="undefined"!==typeof a?a:!0,c=this.ctx,b=this.current.strokeColor;c.lineWidth=Math.max(0.65*this.getSinglePixelWidth(),this.current.lineWidth);c.globalAlpha=this.current.strokeAlpha;b&&b.hasOwnProperty("type")&&"Pattern"===b.type?
(c.save(),c.strokeStyle=b.getPattern(c,this),c.stroke(),c.restore()):c.stroke();a&&this.consumePath();c.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath();this.stroke()},fill:function(a){var a="undefined"!==typeof a?a:!0,c=this.ctx,b=this.current.fillColor,d=!1;this.current.patternFill&&(c.save(),this.baseTransform&&c.setTransform.apply(c,this.baseTransform),c.fillStyle=b.getPattern(c,this),d=!0);this.pendingEOFill?(c.fill("evenodd"),this.pendingEOFill=!1):c.fill();d&&c.restore();
a&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0;this.fill()},fillStroke:function(){this.fill(!1);this.stroke(!1);this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0;this.fillStroke()},closeFillStroke:function(){this.closePath();this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0;this.closePath();this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=x},eoClip:function(){this.pendingClip=z},beginText:function(){this.current.textMatrix=
e.IDENTITY_MATRIX;this.current.textMatrixScale=1;this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},endText:function(){var a=this.pendingTextPaths,c=this.ctx;if(void 0===a)c.beginPath();else{c.save();c.beginPath();for(var b=0;b<a.length;b++){var d=a[b];c.setTransform.apply(c,d.transform);c.translate(d.x,d.y);d.addToPath(c,d.fontSize)}c.restore();c.clip();c.beginPath();delete this.pendingTextPaths}},setCharSpacing:function(a){this.current.charSpacing=a},setWordSpacing:function(a){this.current.wordSpacing=
a},setHScale:function(a){this.current.textHScale=a/100},setLeading:function(a){this.current.leading=-a},setFont:function(a,c){var b=this.commonObjs.get(a),d=this.current;if(!b)throw Error("Can't find font for "+a);d.fontMatrix=b.fontMatrix?b.fontMatrix:e.FONT_IDENTITY_MATRIX;if(0===d.fontMatrix[0]||0===d.fontMatrix[3])(0,e.warn)("Invalid font matrix for font "+a);0>c?(c=-c,d.fontDirection=-1):d.fontDirection=1;this.current.font=b;this.current.fontSize=c;if(!b.isType3Font){var d=b.black?"900":b.bold?
"bold":"normal",f=b.italic?"italic":"normal",b='"'+(b.loadedName||"sans-serif")+'", '+b.fallbackName,h=16>c?16:100<c?100:c;this.current.fontSizeScale=c/h;this.ctx.font=f+" "+d+" "+h+"px "+b}},setTextRenderingMode:function(a){this.current.textRenderingMode=a},setTextRise:function(a){this.current.textRise=a},moveText:function(a,c){this.current.x=this.current.lineX+=a;this.current.y=this.current.lineY+=c},setLeadingMoveText:function(a,c){this.setLeading(-c);this.moveText(a,c)},setTextMatrix:function(a,
c,b,d,f,e){this.current.textMatrix=[a,c,b,d,f,e];this.current.textMatrixScale=Math.sqrt(a*a+c*c);this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(a,c,b,d){var f=this.ctx,h=this.current,g=h.font,i=h.textRenderingMode,l=h.fontSize/h.fontSizeScale,j=i&e.TextRenderingMode.FILL_STROKE_MASK,i=!!(i&e.TextRenderingMode.ADD_TO_PATH_FLAG),h=h.patternFill&&g.data,k;if(g.disableFontFace||i||h)k=g.getPathGenerator(this.commonObjs,
a);g.disableFontFace||h?(f.save(),f.translate(c,b),f.beginPath(),k(f,l),d&&f.setTransform.apply(f,d),(j===e.TextRenderingMode.FILL||j===e.TextRenderingMode.FILL_STROKE)&&f.fill(),(j===e.TextRenderingMode.STROKE||j===e.TextRenderingMode.FILL_STROKE)&&f.stroke(),f.restore()):((j===e.TextRenderingMode.FILL||j===e.TextRenderingMode.FILL_STROKE)&&f.fillText(a,c,b),(j===e.TextRenderingMode.STROKE||j===e.TextRenderingMode.FILL_STROKE)&&f.strokeText(a,c,b));i&&(this.pendingTextPaths||(this.pendingTextPaths=
[])).push({transform:f.mozCurrentTransform,x:c,y:b,fontSize:l,addToPath:k})},get isFontSubpixelAAEnabled(){var a=this.canvasFactory.create(10,10).context;a.scale(1.5,1);a.fillText("I",0,10);for(var a=a.getImageData(0,0,10,10).data,c=!1,b=3;b<a.length;b+=4)if(0<a[b]&&255>a[b]){c=!0;break}return(0,e.shadow)(this,"isFontSubpixelAAEnabled",c)},showText:function(a){var c=this.current,b=c.font;if(b.isType3Font)return this.showType3Text(a);var d=c.fontSize;if(0!==d){var f=this.ctx,h=c.fontSizeScale,g=c.charSpacing,
i=c.wordSpacing,l=c.fontDirection,j=c.textHScale*l,k=a.length,m=b.vertical,q=m?1:-1,n=b.defaultVMetrics,r=d*c.fontMatrix[0],o=c.textRenderingMode===e.TextRenderingMode.FILL&&!b.disableFontFace&&!c.patternFill;f.save();var t=void 0;if(c.patternFill){f.save();var u=c.fillColor.getPattern(f,this),t=f.mozCurrentTransform;f.restore();f.fillStyle=u}f.transform.apply(f,c.textMatrix);f.translate(c.x,c.y+c.textRise);0<l?f.scale(j,-1):f.scale(j,1);var u=c.lineWidth,x=c.textMatrixScale;if(0===x||0===u){if(x=
c.textRenderingMode&e.TextRenderingMode.FILL_STROKE_MASK,x===e.TextRenderingMode.STROKE||x===e.TextRenderingMode.FILL_STROKE)this.cachedGetSinglePixelWidth=null,u=0.65*this.getSinglePixelWidth()}else u/=x;1!==h&&(f.scale(h,h),u/=h);f.lineWidth=u;for(x=u=0;x<k;++x){var v=a[x];if((0,e.isNum)(v))u+=q*v*d/1E3;else{var z=!1,w=(v.isSpace?i:0)+g,C=v.fontChar,R=v.accent,P,S,D=v.width;if(m){var Q;P=v.vmetric||n;Q=v.vmetric?P[1]:0.5*D;Q=-Q*r;S=P[2]*r;D=P?-P[0]:D;P=Q/h;S=(u+S)/h}else P=u/h,S=0;b.remeasure&&
0<D&&(Q=1E3*f.measureText(C).width/d*h,D<Q&&this.isFontSubpixelAAEnabled?(Q=D/Q,z=!0,f.save(),f.scale(Q,1),P/=Q):D!==Q&&(P+=(D-Q)/2E3*d/h));if(v.isInFont||b.missingFile)o&&!R?f.fillText(C,P,S):(this.paintChar(C,P,S,t),R&&(v=P+R.offset.x/h,C=S-R.offset.y/h,this.paintChar(R.fontChar,v,C,t)));u+=D*r+w*l;z&&f.restore()}}m?c.y-=u*j:c.x+=u*j;f.restore()}},showType3Text:function(a){var c=this.ctx,b=this.current,d=b.font,f=b.fontSize,h=b.fontDirection,g=d.vertical?1:-1,i=b.charSpacing,l=b.wordSpacing,j=b.textHScale*
h,k=b.fontMatrix||e.FONT_IDENTITY_MATRIX,m=a.length,q;if(!(b.textRenderingMode===e.TextRenderingMode.INVISIBLE||0===f)){this.cachedGetSinglePixelWidth=null;c.save();c.transform.apply(c,b.textMatrix);c.translate(b.x,b.y);c.scale(j,h);for(h=0;h<m;++h)if(q=a[h],(0,e.isNum)(q))q=g*q*f/1E3,this.ctx.translate(q,0),b.x+=q*j;else{var n=(q.isSpace?l:0)+i,r=d.charProcOperatorList[q.operatorListId];r?(this.processingType3=q,this.save(),c.scale(f,f),c.transform.apply(c,k),this.executeOperatorList(r),this.restore(),
q=e.Util.applyTransform([q.width,0],k)[0]*f+n,c.translate(q,0),b.x+=q*j):(0,e.warn)('Type3 character "'+q.operatorListId+'" is not available.')}c.restore();this.processingType3=null}},setCharWidth:function(){},setCharWidthAndBounds:function(a,c,b,d,f,e){this.ctx.rect(b,d,f-b,e-d);this.clip();this.endPath()},getColorN_Pattern:function(a){var c=this;if("TilingPattern"===a[0])var d=a[1],f=this.baseTransform||this.ctx.mozCurrentTransform.slice(),a=new m.TilingPattern(a,d,this.ctx,{createCanvasGraphics:function(a){return new b(a,
c.commonObjs,c.objs,c.canvasFactory)}},f);else a=(0,m.getShadingPatternFromIR)(a);return a},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments);this.current.patternFill=!0},setStrokeRGBColor:function(a,c,b){a=e.Util.makeCssRgb(a,c,b);this.ctx.strokeStyle=a;this.current.strokeColor=a},setFillRGBColor:function(a,c,b){a=e.Util.makeCssRgb(a,c,b);this.ctx.fillStyle=a;this.current.fillColor=
a;this.current.patternFill=!1},shadingFill:function(a){var c=this.ctx;this.save();a=(0,m.getShadingPatternFromIR)(a);c.fillStyle=a.getPattern(c,this,!0);var b=c.mozCurrentTransformInverse;if(b){var c=c.canvas,d=c.width,f=c.height,c=e.Util.applyTransform([0,0],b),a=e.Util.applyTransform([0,f],b),h=e.Util.applyTransform([d,0],b),g=e.Util.applyTransform([d,f],b),b=Math.min(c[0],a[0],h[0],g[0]),d=Math.min(c[1],a[1],h[1],g[1]),f=Math.max(c[0],a[0],h[0],g[0]),c=Math.max(c[1],a[1],h[1],g[1]);this.ctx.fillRect(b,
d,f-b,c-d)}else this.ctx.fillRect(-1E10,-1E10,2E10,2E10);this.restore()},beginInlineImage:function(){(0,e.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,e.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(a,c){this.save();this.baseTransformStack.push(this.baseTransform);Array.isArray(a)&&6===a.length&&this.transform.apply(this,a);this.baseTransform=this.ctx.mozCurrentTransform;Array.isArray(c)&&4===c.length&&(this.ctx.rect(c[0],c[1],c[2]-
c[0],c[3]-c[1]),this.clip(),this.endPath())},paintFormXObjectEnd:function(){this.restore();this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(a){this.save();var c=this.ctx;a.isolated||(0,e.info)("TODO: Support non-isolated groups.");a.knockout&&(0,e.warn)("Knockout groups not supported.");var b=c.mozCurrentTransform;a.matrix&&c.transform.apply(c,a.matrix);if(!a.bbox)throw Error("Bounding box is required.");var d=e.Util.getAxialAlignedBoundingBox(a.bbox,c.mozCurrentTransform),d=
e.Util.intersect(d,[0,0,c.canvas.width,c.canvas.height])||[0,0,0,0],f=Math.floor(d[0]),h=Math.floor(d[1]),g=Math.max(Math.ceil(d[2])-f,1),i=Math.max(Math.ceil(d[3])-h,1),l=d=1;4096<g&&(d=g/4096,g=4096);4096<i&&(l=i/4096,i=4096);var j="groupAt"+this.groupLevel;a.smask&&(j+="_smask_"+this.smaskCounter++%2);g=this.cachedCanvases.getCanvas(j,g,i,!0);i=g.context;i.scale(1/d,1/l);i.translate(-f,-h);i.transform.apply(i,b);a.smask?this.smaskStack.push({canvas:g.canvas,context:i,offsetX:f,offsetY:h,scaleX:d,
scaleY:l,subtype:a.smask.subtype,backdrop:a.smask.backdrop,transferMap:a.smask.transferMap||null,startTransformInverse:null}):(c.setTransform(1,0,0,1,0,0),c.translate(f,h),c.scale(d,l));q(c,i);this.ctx=i;this.setGState([["BM","source-over"],["ca",1],["CA",1]]);this.groupStack.push(c);this.groupLevel++;this.current.activeSMask=null},endGroup:function(a){this.groupLevel--;var c=this.ctx;this.ctx=this.groupStack.pop();void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=
!1;a.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(c.canvas,0,0);this.restore()},beginAnnotations:function(){this.save();this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(a,c,b){this.save();o(this.ctx);this.current=new u;Array.isArray(a)&&4===a.length&&(this.ctx.rect(a[0],a[1],a[2]-a[0],a[3]-a[1]),this.clip(),this.endPath());this.transform.apply(this,c);this.transform.apply(this,b)},endAnnotation:function(){this.restore()},
paintJpegXObject:function(a,c,b){var d=this.objs.get(a);if(d){this.save();var f=this.ctx;f.scale(1/c,-1/b);f.drawImage(d,0,0,d.width,d.height,0,-b,c,b);this.imageLayer&&(d=f.mozCurrentTransformInverse,f=this.getCanvasPosition(0,0),this.imageLayer.appendImage({objId:a,left:f[0],top:f[1],width:c/d[0],height:b/d[3]}));this.restore()}else(0,e.warn)("Dependent image isn't ready yet")},paintImageMaskXObject:function(a){var c=this.ctx,b=a.width,d=a.height,f=this.current.fillColor,e=this.current.patternFill,
h=this.processingType3;h&&void 0===h.compiled&&(h.compiled=1E3>=b&&1E3>=d?j({data:a.data,width:b,height:d}):null);h&&h.compiled?h.compiled(c):(c=this.cachedCanvases.getCanvas("maskCanvas",b,d),h=c.context,h.save(),g(h,a),h.globalCompositeOperation="source-in",h.fillStyle=e?f.getPattern(h,this):f,h.fillRect(0,0,b,d),h.restore(),this.paintInlineImageXObject(c.canvas))},paintImageMaskXObjectRepeat:function(a,c,b,d){var f=a.width,e=a.height,h=this.current.fillColor,i=this.current.patternFill,l=this.cachedCanvases.getCanvas("maskCanvas",
f,e),j=l.context;j.save();g(j,a);j.globalCompositeOperation="source-in";j.fillStyle=i?h.getPattern(j,this):h;j.fillRect(0,0,f,e);j.restore();a=this.ctx;h=0;for(i=d.length;h<i;h+=2)a.save(),a.transform(c,0,0,b,d[h],d[h+1]),a.scale(1,-1),a.drawImage(l.canvas,0,0,f,e,0,-1,1,1),a.restore()},paintImageMaskXObjectGroup:function(a){for(var c=this.ctx,b=this.current.fillColor,d=this.current.patternFill,f=0,e=a.length;f<e;f++){var h=a[f],i=h.width,l=h.height,j=this.cachedCanvases.getCanvas("maskCanvas",i,
l),k=j.context;k.save();g(k,h);k.globalCompositeOperation="source-in";k.fillStyle=d?b.getPattern(k,this):b;k.fillRect(0,0,i,l);k.restore();c.save();c.transform.apply(c,h.transform);c.scale(1,-1);c.drawImage(j.canvas,0,0,i,l,0,-1,1,1);c.restore()}},paintImageXObject:function(a){(a=this.objs.get(a))?this.paintInlineImageXObject(a):(0,e.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(a,c,b,d){if(a=this.objs.get(a)){for(var f=a.width,h=a.height,g=[],i=0,l=d.length;i<l;i+=2)g.push({transform:[c,
0,0,b,d[i],d[i+1]],x:0,y:0,w:f,h:h});this.paintInlineImageXObjectGroup(a,g)}else(0,e.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(a){var c=a.width,b=a.height,f=this.ctx;this.save();f.scale(1/c,-1/b);var e=f.mozCurrentTransformInverse,h=e[0],g=e[1],h=Math.max(Math.sqrt(h*h+g*g),1),g=e[2],i=e[3],g=Math.max(Math.sqrt(g*g+i*i),1),j;if(a instanceof HTMLElement||!a.data)i=a;else{j=this.cachedCanvases.getCanvas("inlineImage",c,b);var k=j.context;d(k,a);i=j.canvas}for(var m=
c,q=b,n="prescale1";2<h&&1<m||2<g&&1<q;){var r=m,o=q;2<h&&1<m&&(r=Math.ceil(m/2),h/=m/r);2<g&&1<q&&(o=Math.ceil(q/2),g/=q/o);j=this.cachedCanvases.getCanvas(n,r,o);k=j.context;k.clearRect(0,0,r,o);k.drawImage(i,0,0,m,q,0,0,r,o);i=j.canvas;m=r;q=o;n="prescale1"===n?"prescale2":"prescale1"}f.drawImage(i,0,0,m,q,0,-b,c,b);this.imageLayer&&(f=this.getCanvasPosition(0,-b),this.imageLayer.appendImage({imgData:a,left:f[0],top:f[1],width:c/e[0],height:b/e[3]}));this.restore()},paintInlineImageXObjectGroup:function(a,
c){var b=this.ctx,f=a.width,e=a.height,h=this.cachedCanvases.getCanvas("inlineImage",f,e);d(h.context,a);for(var g=0,i=c.length;g<i;g++){var j=c[g];b.save();b.transform.apply(b,j.transform);b.scale(1,-1);b.drawImage(h.canvas,j.x,j.y,j.w,j.h,0,-1,1,1);this.imageLayer&&(j=this.getCanvasPosition(j.x,j.y),this.imageLayer.appendImage({imgData:a,left:j[0],top:j[1],width:f,height:e}));b.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,e.warn)("Unsupported 'paintXObject' command.")},
markPoint:function(){},markPointProps:function(){},beginMarkedContent:function(){},beginMarkedContentProps:function(){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var a=this.ctx;this.pendingClip&&(this.pendingClip===z?a.clip("evenodd"):a.clip(),this.pendingClip=null);a.beginPath()},getSinglePixelWidth:function(){if(null===this.cachedGetSinglePixelWidth){this.ctx.save();var a=this.ctx.mozCurrentTransformInverse;this.ctx.restore();this.cachedGetSinglePixelWidth=
Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3]))}return this.cachedGetSinglePixelWidth},getCanvasPosition:function(a,c){var b=this.ctx.mozCurrentTransform;return[b[0]*a+b[2]*c+b[4],b[1]*a+b[3]*c+b[5]]}};for(var C in e.OPS)b.prototype[e.OPS[C]]=b.prototype[C];return b}();d.CanvasGraphics=g},function(g,d,b){Object.defineProperty(d,"__esModule",{value:!0});d.TilingPattern=d.getShadingPatternFromIR=void 0;var k=b(0),j={RadialAxial:{fromIR:function(b){var a=b[1],d=b[2],e=b[3],g=b[4],j=b[5],
l=b[6];return{type:"Pattern",getPattern:function(b){var k;"axial"===a?k=b.createLinearGradient(e[0],e[1],g[0],g[1]):"radial"===a&&(k=b.createRadialGradient(e[0],e[1],j,g[0],g[1],l));for(var b=0,m=d.length;b<m;++b){var i=d[b];k.addColorStop(i[0],i[1])}return k}}}}},e=function(){function b(a,d,e,g,j,l,k,m){var o=d.coords,i=d.colors,v=a.data,a=4*a.width,w;o[e+1]>o[g+1]&&(w=e,e=g,g=w,w=l,l=k,k=w);o[g+1]>o[j+1]&&(w=g,g=j,j=w,w=k,k=m,m=w);o[e+1]>o[g+1]&&(w=e,e=g,g=w,w=l,l=k,k=w);w=(o[e]+d.offsetX)*d.scaleX;
var e=(o[e+1]+d.offsetY)*d.scaleY,c=(o[g]+d.offsetX)*d.scaleX,g=(o[g+1]+d.offsetY)*d.scaleY,f=(o[j]+d.offsetX)*d.scaleX,d=(o[j+1]+d.offsetY)*d.scaleY;if(!(e>=d))for(var j=i[l],o=i[l+1],l=i[l+2],x=i[k],z=i[k+1],k=i[k+2],C=i[m],s=i[m+1],m=i[m+2],A=Math.round(e),i=Math.round(d),H,I,K,E,G,L,N,B,M=A;M<=i;M++){M<g?(B=M<e?0:e===g?1:(e-M)/(e-g),A=w-(w-c)*B,H=j-(j-x)*B,I=o-(o-z)*B,K=l-(l-k)*B):(B=M>d?1:g===d?0:(g-M)/(g-d),A=c-(c-f)*B,H=x-(x-C)*B,I=z-(z-s)*B,K=k-(k-m)*B);B=M<e?0:M>d?1:(e-M)/(e-d);E=w-(w-f)*
B;G=j-(j-C)*B;L=o-(o-s)*B;N=l-(l-m)*B;B=Math.round(Math.min(A,E));for(var p=Math.round(Math.max(A,E)),J=a*M+4*B,y=B;y<=p;y++)B=(A-y)/(A-E),B=0>B?0:1<B?1:B,v[J++]=H-(H-G)*B|0,v[J++]=I-(I-L)*B|0,v[J++]=K-(K-N)*B|0,v[J++]=255}}return function(a,d,e,g,j,l,k,q){var o=Math.floor(a[0]),i=Math.floor(a[1]),v=Math.ceil(a[2])-o,a=Math.ceil(a[3])-i,w=Math.min(Math.ceil(Math.abs(1.1*v*d[0])),3E3),d=Math.min(Math.ceil(Math.abs(1.1*a*d[1])),3E3),v=v/w,a=a/d,e={coords:e,colors:g,offsetX:-o,offsetY:-i,scaleX:1/v,
scaleY:1/a},g=w+4,c=d+4;if(q.isEnabled)j=q.drawFigures({width:w,height:d,backgroundColor:l,figures:j,context:e}),k=k.getCanvas("mesh",g,c,!1),k.context.drawImage(j,2,2);else{k=k.getCanvas("mesh",g,c,!1);q=k.context;d=q.createImageData(w,d);if(l){c=d.data;w=0;for(g=c.length;w<g;w+=4)c[w]=l[0],c[w+1]=l[1],c[w+2]=l[2],c[w+3]=255}for(w=0;w<j.length;w++){var l=d,f=j[w],g=e,c=f.coords,x=f.colors,z=void 0,C=void 0;switch(f.type){case "lattice":for(var f=f.verticesPerRow,C=Math.floor(c.length/f)-1,s=f-1,
z=0;z<C;z++)for(var A=z*f,H=0;H<s;H++,A++)b(l,g,c[A],c[A+1],c[A+f],x[A],x[A+1],x[A+f]),b(l,g,c[A+f+1],c[A+1],c[A+f],x[A+f+1],x[A+1],x[A+f]);break;case "triangles":z=0;for(C=c.length;z<C;z+=3)b(l,g,c[z],c[z+1],c[z+2],x[z],x[z+1],x[z+2]);break;default:throw Error("illegal figure");}}q.putImageData(d,2,2)}j=k.canvas;return{canvas:j,offsetX:o-2*v,offsetY:i-2*a,scaleX:v,scaleY:a}}}();j.Mesh={fromIR:function(b){var a=b[2],d=b[3],h=b[4],g=b[5],j=b[6],l=b[8];return{type:"Pattern",getPattern:function(b,m,
o){var i;if(o)i=k.Util.singularValueDecompose2dScale(b.mozCurrentTransform);else if(i=k.Util.singularValueDecompose2dScale(m.baseTransform),j){var v=k.Util.singularValueDecompose2dScale(j);i=[i[0]*v[0],i[1]*v[1]]}i=e(g,i,a,d,h,o?null:l,m.cachedCanvases,m.webGLContext);o||(b.setTransform.apply(b,m.baseTransform),j&&b.transform.apply(b,j));b.translate(i.offsetX,i.offsetY);b.scale(i.scaleX,i.scaleY);return b.createPattern(i.canvas,"no-repeat")}}}};j.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};
g=function(){function b(a,d,e,g,j){this.operatorList=a[2];this.matrix=a[3]||[1,0,0,1,0,0];this.bbox=a[4];this.xstep=a[5];this.ystep=a[6];this.paintType=a[7];this.tilingType=a[8];this.color=d;this.canvasGraphicsFactory=g;this.baseTransform=j;this.type="Pattern";this.ctx=e}b.prototype={createPatternCanvas:function(a){var b=this.operatorList,d=this.bbox,e=this.xstep,g=this.ystep,j=this.paintType,m=this.tilingType,q=this.color,o=this.canvasGraphicsFactory;(0,k.info)("TilingType: "+m);var m=d[0],i=d[1],
v=d[2],w=d[3],c=[m,i],f=[m+e,i+g],x=f[0]-c[0],f=f[1]-c[1],z=k.Util.singularValueDecompose2dScale(this.matrix),C=k.Util.singularValueDecompose2dScale(this.baseTransform),z=[z[0]*C[0],z[1]*C[1]],x=Math.min(Math.ceil(Math.abs(x*z[0])),3E3),f=Math.min(Math.ceil(Math.abs(f*z[1])),3E3),z=a.cachedCanvases.getCanvas("pattern",x,f,!0),o=o.createCanvasGraphics(z.context);o.groupLevel=a.groupLevel;this.setFillAndStrokeStyleToContext(o,j,q);this.setScale(x,f,e,g);this.transformToScale(o);o.transform.apply(o,
[1,0,0,1,-c[0],-c[1]]);this.clipBbox(o,d,m,i,v,w);o.executeOperatorList(b);return z.canvas},setScale:function(a,b,d,e){this.scale=[a/d,b/e]},transformToScale:function(a){var b=this.scale;a.transform.apply(a,[b[0],0,0,b[1],0,0])},scaleToContext:function(){var a=this.scale;this.ctx.scale(1/a[0],1/a[1])},clipBbox:function(a,b,d,e,g,j){Array.isArray(b)&&4===b.length&&(a.ctx.rect(d,e,g-d,j-e),a.clip(),a.endPath())},setFillAndStrokeStyleToContext:function(a,b,d){var e=a.ctx,a=a.current;switch(b){case 1:b=
this.ctx;e.fillStyle=b.fillStyle;e.strokeStyle=b.strokeStyle;a.fillColor=b.fillStyle;a.strokeColor=b.strokeStyle;break;case 2:b=k.Util.makeCssRgb(d[0],d[1],d[2]);e.fillStyle=b;e.strokeStyle=b;a.fillColor=b;a.strokeColor=b;break;default:throw new k.FormatError("Unsupported paint type: "+b);}},getPattern:function(a,b){var d=this.createPatternCanvas(b),a=this.ctx;a.setTransform.apply(a,this.baseTransform);a.transform.apply(a,this.matrix);this.scaleToContext();return a.createPattern(d,"repeat")}};return b}();
d.getShadingPatternFromIR=function(b){var a=j[b[0]];if(!a)throw Error("Unknown IR type: "+b[0]);return a.fromIR(b)};d.TilingPattern=g},function(g,d,b){Object.defineProperty(d,"__esModule",{value:!0});d.PDFDataTransportStream=void 0;var k=b(0),g=function(){function b(a,d){var e=this;(0,k.assert)(d);this._queuedChunks=[];var g=a.initialData;g&&0<g.length&&this._queuedChunks.push((new Uint8Array(g)).buffer);this._pdfDataRangeTransport=d;this._isRangeSupported=!a.disableRange;this._isStreamingSupported=
!a.disableStream;this._contentLength=a.length;this._fullRequestReader=null;this._rangeReaders=[];this._pdfDataRangeTransport.addRangeListener(function(a,b){e._onReceiveData({begin:a,chunk:b})});this._pdfDataRangeTransport.addProgressListener(function(a){e._onProgress({loaded:a})});this._pdfDataRangeTransport.addProgressiveReadListener(function(a){e._onReceiveData({chunk:a})});this._pdfDataRangeTransport.transportReady()}function d(a,b){this._stream=a;this._done=!1;this._queuedChunks=b||[];this._requests=
[];this._headersReady=Promise.resolve();a._fullRequestReader=this;this.onProgress=null}function g(a,b,d){this._stream=a;this._begin=b;this._end=d;this._queuedChunk=null;this._requests=[];this._done=!1;this.onProgress=null}b.prototype={_onReceiveData:function(a){var b=(new Uint8Array(a.chunk)).buffer;if(void 0===a.begin)this._fullRequestReader?this._fullRequestReader._enqueue(b):this._queuedChunks.push(b);else{var d=this._rangeReaders.some(function(d){if(d._begin!==a.begin)return!1;d._enqueue(b);return!0});
(0,k.assert)(d)}},_onProgress:function(a){if(0<this._rangeReaders.length){var b=this._rangeReaders[0];if(b.onProgress)b.onProgress({loaded:a.loaded})}},_removeRangeReader:function(a){a=this._rangeReaders.indexOf(a);0<=a&&this._rangeReaders.splice(a,1)},getFullReader:function(){(0,k.assert)(!this._fullRequestReader);var a=this._queuedChunks;this._queuedChunks=null;return new d(this,a)},getRangeReader:function(a,b){var d=new g(this,a,b);this._pdfDataRangeTransport.requestDataRange(a,b);this._rangeReaders.push(d);
return d},cancelAllRequests:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);this._rangeReaders.slice(0).forEach(function(b){b.cancel(a)});this._pdfDataRangeTransport.abort()}};d.prototype={_enqueue:function(a){this._done||(0<this._requests.length?this._requests.shift().resolve({value:a,done:!1}):this._queuedChunks.push(a))},get headersReady(){return this._headersReady},get isRangeSupported(){return this._stream._isRangeSupported},get isStreamingSupported(){return this._stream._isStreamingSupported},
get contentLength(){return this._stream._contentLength},read:function(){if(0<this._queuedChunks.length){var a=this._queuedChunks.shift();return Promise.resolve({value:a,done:!1})}if(this._done)return Promise.resolve({value:void 0,done:!0});a=(0,k.createPromiseCapability)();this._requests.push(a);return a.promise},cancel:function(){this._done=!0;this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[]}};g.prototype={_enqueue:function(a){this._done||(0===this._requests.length?
this._queuedChunk=a:(this._requests.shift().resolve({value:a,done:!1}),this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))},get isStreamingSupported(){return!1},read:function(){if(this._queuedChunk){var a=this._queuedChunk;this._queuedChunk=null;return Promise.resolve({value:a,done:!1})}if(this._done)return Promise.resolve({value:void 0,done:!0});a=(0,k.createPromiseCapability)();this._requests.push(a);return a.promise},
cancel:function(){this._done=!0;this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[];this._stream._removeRangeReader(this)}};return b}();d.PDFDataTransportStream=g},function(g,d,b){Object.defineProperty(d,"__esModule",{value:!0});d.WebGLContext=void 0;var k=function(){function b(a,d){for(var e=0;e<d.length;e++){var g=d[e];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(a,g.key,g)}}return function(a,d,e){d&&b(a.prototype,
d);e&&b(a,e);return a}}(),j=b(0),g=function(){function b(a){a=a.enable;a=void 0===a?!1:a;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._enabled=!0===a}k(b,[{key:"composeSMask",value:function(a){return e.composeSMask(a.layer,a.mask,a.properties)}},{key:"drawFigures",value:function(a){return e.drawFigures(a.width,a.height,a.backgroundColor,a.figures,a.context)}},{key:"clear",value:function(){e.cleanup()}},{key:"isEnabled",get:function(){var a=this._enabled;a&&
(a=e.tryInitGL());return(0,j.shadow)(this,"isEnabled",a)}}]);return b}(),e=function(){function b(a,d,e){e=a.createShader(e);a.shaderSource(e,d);a.compileShader(e);if(!a.getShaderParameter(e,a.COMPILE_STATUS))throw a=a.getShaderInfoLog(e),Error("Error during shader compilation: "+a);return e}function a(a,b){for(var d=a.createProgram(),e=0,g=b.length;e<g;++e)a.attachShader(d,b[e]);a.linkProgram(d);if(!a.getProgramParameter(d,a.LINK_STATUS))throw d=a.getProgramInfoLog(d),Error("Error during program linking: "+
d);return d}function d(a,b,e){a.activeTexture(e);e=a.createTexture();a.bindTexture(a.TEXTURE_2D,e);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,b);return e}function e(){g||(j=document.createElement("canvas"),g=j.getContext("webgl",{premultipliedalpha:!1}))}
var g,j,l=null,k=null;return{tryInitGL:function(){try{return e(),!!g}catch(a){}return!1},composeSMask:function(k,o,i){var r=k.width,w=k.height;if(!l){var c,f;e();c=j;j=null;f=g;g=null;var x=b(f,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",
f.VERTEX_SHADER),z=b(f,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",
f.FRAGMENT_SHADER),C=a(f,[x,z]);f.useProgram(C);x={};x.gl=f;x.canvas=c;x.resolutionLocation=f.getUniformLocation(C,"u_resolution");x.positionLocation=f.getAttribLocation(C,"a_position");x.backdropLocation=f.getUniformLocation(C,"u_backdrop");x.subtypeLocation=f.getUniformLocation(C,"u_subtype");c=f.getAttribLocation(C,"a_texCoord");var z=f.getUniformLocation(C,"u_image"),C=f.getUniformLocation(C,"u_mask"),s=f.createBuffer();f.bindBuffer(f.ARRAY_BUFFER,s);f.bufferData(f.ARRAY_BUFFER,new Float32Array([0,
0,1,0,0,1,0,1,1,0,1,1]),f.STATIC_DRAW);f.enableVertexAttribArray(c);f.vertexAttribPointer(c,2,f.FLOAT,!1,0,0);f.uniform1i(z,0);f.uniform1i(C,1);l=x}f=l;x=f.canvas;c=f.gl;x.width=r;x.height=w;c.viewport(0,0,c.drawingBufferWidth,c.drawingBufferHeight);c.uniform2f(f.resolutionLocation,r,w);i.backdrop?c.uniform4f(f.resolutionLocation,i.backdrop[0],i.backdrop[1],i.backdrop[2],1):c.uniform4f(f.resolutionLocation,0,0,0,0);c.uniform1i(f.subtypeLocation,"Luminosity"===i.subtype?1:0);k=d(c,k,c.TEXTURE0);o=
d(c,o,c.TEXTURE1);i=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,i);c.bufferData(c.ARRAY_BUFFER,new Float32Array([0,0,r,0,0,w,0,w,r,0,r,w]),c.STATIC_DRAW);c.enableVertexAttribArray(f.positionLocation);c.vertexAttribPointer(f.positionLocation,2,c.FLOAT,!1,0,0);c.clearColor(0,0,0,0);c.enable(c.BLEND);c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA);c.clear(c.COLOR_BUFFER_BIT);c.drawArrays(c.TRIANGLES,0,6);c.flush();c.deleteTexture(k);c.deleteTexture(o);c.deleteBuffer(i);return x},drawFigures:function(d,l,i,
n,w){if(!k){var c,f;e();c=j;j=null;f=g;g=null;var x=b(f,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",
f.VERTEX_SHADER),z=b(f,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",f.FRAGMENT_SHADER),x=a(f,[x,
z]);f.useProgram(x);z={};z.gl=f;z.canvas=c;z.resolutionLocation=f.getUniformLocation(x,"u_resolution");z.scaleLocation=f.getUniformLocation(x,"u_scale");z.offsetLocation=f.getUniformLocation(x,"u_offset");z.positionLocation=f.getAttribLocation(x,"a_position");z.colorLocation=f.getAttribLocation(x,"a_color");k=z}c=k;f=c.canvas;x=c.gl;f.width=d;f.height=l;x.viewport(0,0,x.drawingBufferWidth,x.drawingBufferHeight);x.uniform2f(c.resolutionLocation,d,l);var d=0,C,s,A;C=0;for(s=n.length;C<s;C++)switch(n[C].type){case "lattice":A=
n[C].coords.length/n[C].verticesPerRow|0;d+=6*(A-1)*(n[C].verticesPerRow-1);break;case "triangles":d+=n[C].coords.length}var z=new Float32Array(2*d),l=new Uint8Array(3*d),H=w.coords,I=w.colors,K=0,E=0;C=0;for(s=n.length;C<s;C++){A=n[C];var G=A.coords,L=A.colors;switch(A.type){case "lattice":var N=A.verticesPerRow;A=G.length/N|0;for(var B=1;B<A;B++)for(var M=B*N+1,p=1;p<N;p++,M++)z[K]=H[G[M-N-1]],z[K+1]=H[G[M-N-1]+1],z[K+2]=H[G[M-N]],z[K+3]=H[G[M-N]+1],z[K+4]=H[G[M-1]],z[K+5]=H[G[M-1]+1],l[E]=I[L[M-
N-1]],l[E+1]=I[L[M-N-1]+1],l[E+2]=I[L[M-N-1]+2],l[E+3]=I[L[M-N]],l[E+4]=I[L[M-N]+1],l[E+5]=I[L[M-N]+2],l[E+6]=I[L[M-1]],l[E+7]=I[L[M-1]+1],l[E+8]=I[L[M-1]+2],z[K+6]=z[K+2],z[K+7]=z[K+3],z[K+8]=z[K+4],z[K+9]=z[K+5],z[K+10]=H[G[M]],z[K+11]=H[G[M]+1],l[E+9]=l[E+3],l[E+10]=l[E+4],l[E+11]=l[E+5],l[E+12]=l[E+6],l[E+13]=l[E+7],l[E+14]=l[E+8],l[E+15]=I[L[M]],l[E+16]=I[L[M]+1],l[E+17]=I[L[M]+2],K+=12,E+=18;break;case "triangles":A=0;for(N=G.length;A<N;A++)z[K]=H[G[A]],z[K+1]=H[G[A]+1],l[E]=I[L[A]],l[E+1]=
I[L[A]+1],l[E+2]=I[L[A]+2],K+=2,E+=3}}i?x.clearColor(i[0]/255,i[1]/255,i[2]/255,1):x.clearColor(0,0,0,0);x.clear(x.COLOR_BUFFER_BIT);i=x.createBuffer();x.bindBuffer(x.ARRAY_BUFFER,i);x.bufferData(x.ARRAY_BUFFER,z,x.STATIC_DRAW);x.enableVertexAttribArray(c.positionLocation);x.vertexAttribPointer(c.positionLocation,2,x.FLOAT,!1,0,0);n=x.createBuffer();x.bindBuffer(x.ARRAY_BUFFER,n);x.bufferData(x.ARRAY_BUFFER,l,x.STATIC_DRAW);x.enableVertexAttribArray(c.colorLocation);x.vertexAttribPointer(c.colorLocation,
3,x.UNSIGNED_BYTE,!1,0,0);x.uniform2f(c.scaleLocation,w.scaleX,w.scaleY);x.uniform2f(c.offsetLocation,w.offsetX,w.offsetY);x.drawArrays(x.TRIANGLES,0,d);x.flush();x.deleteBuffer(i);x.deleteBuffer(n);return f},cleanup:function(){l&&l.canvas&&(l.canvas.width=0,l.canvas.height=0);k&&k.canvas&&(k.canvas.width=0,k.canvas.height=0);k=l=null}}}();d.WebGLContext=g},function(g,d,b){function k(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"===
typeof b||"function"===typeof b)?b:a}function j(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function m(a,b){return{protocol:a.protocol,auth:a.auth,
host:a.hostname,port:a.port,path:a.path,method:"GET",headers:b}}Object.defineProperty(d,"__esModule",{value:!0});d.PDFNodeStream=void 0;var a=function(){function a(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(b,d,e){d&&a(b.prototype,d);e&&a(b,e);return b}}(),n=b(0),h=b(38),u=require("fs"),t=require("http"),l=require("https"),r=require("url"),g=function(){function b(a){e(this,
b);this.source=a;this.url=r.parse(a.url);this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol;this.isFsUrl="file:"===this.url.protocol||!this.url.host;this.httpHeaders=this.isHttp&&a.httpHeaders||{};this._fullRequest=null;this._rangeRequestReaders=[]}a(b,[{key:"getFullReader",value:function(){(0,n.assert)(!this._fullRequest);return this._fullRequest=this.isFsUrl?new v(this):new o(this)}},{key:"getRangeReader",value:function(a,b){var c=this.isFsUrl?new w(this,a,b):new i(this,a,b);
this._rangeRequestReaders.push(c);return c}},{key:"cancelAllRequests",value:function(a){this._fullRequest&&this._fullRequest.cancel(a);this._rangeRequestReaders.slice(0).forEach(function(b){b.cancel(a)})}}]);return b}(),b=function(){function b(a){e(this,b);this._url=a.url;this._errored=this._done=!1;this.onProgress=this._reason=null;a=a.source;this._contentLength=a.length;this._loaded=0;this._disableRange=a.disableRange||!1;this._rangeChunkSize=a.rangeChunkSize;!this._rangeChunkSize&&!this._disableRange&&
(this._disableRange=!0);this._isStreamingSupported=!a.disableStream;this._isRangeSupported=!a.disableRange;this._readableStream=null;this._readCapability=(0,n.createPromiseCapability)();this._headersCapability=(0,n.createPromiseCapability)()}a(b,[{key:"read",value:function(){var a=this;return this._readCapability.promise.then(function(){if(a._done)return Promise.resolve({value:void 0,done:!0});if(a._errored)return Promise.reject(a._reason);var b=a._readableStream.read();if(null===b)return a._readCapability=
(0,n.createPromiseCapability)(),a.read();a._loaded+=b.length;if(a.onProgress)a.onProgress({loaded:a._loaded,total:a._contentLength});b=(new Uint8Array(b)).buffer;return Promise.resolve({value:b,done:!1})})}},{key:"cancel",value:function(a){this._readableStream?this._readableStream.destroy(a):this._error(a)}},{key:"_error",value:function(a){this._errored=!0;this._reason=a;this._readCapability.resolve()}},{key:"_setReadableStream",value:function(a){var b=this;this._readableStream=a;a.on("readable",
function(){b._readCapability.resolve()});a.on("end",function(){a.destroy();b._done=!0;b._readCapability.resolve()});a.on("error",function(a){b._error(a)});!this._isStreamingSupported&&this._isRangeSupported&&this._error(new n.AbortException("streaming is disabled"));this._errored&&this._readableStream.destroy(this._reason)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},
{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return b}(),q=function(){function b(a){e(this,b);this._url=a.url;this._errored=this._done=!1;this.onProgress=this._reason=null;this._loaded=0;this._readableStream=null;this._readCapability=(0,n.createPromiseCapability)();this._isStreamingSupported=!a.source.disableStream}a(b,[{key:"read",value:function(){var a=this;return this._readCapability.promise.then(function(){if(a._done)return Promise.resolve({value:void 0,done:!0});
if(a._errored)return Promise.reject(a._reason);var b=a._readableStream.read();if(null===b)return a._readCapability=(0,n.createPromiseCapability)(),a.read();a._loaded+=b.length;if(a.onProgress)a.onProgress({loaded:a._loaded});b=(new Uint8Array(b)).buffer;return Promise.resolve({value:b,done:!1})})}},{key:"cancel",value:function(a){this._readableStream?this._readableStream.destroy(a):this._error(a)}},{key:"_error",value:function(a){this._errored=!0;this._reason=a;this._readCapability.resolve()}},{key:"_setReadableStream",
value:function(a){var b=this;this._readableStream=a;a.on("readable",function(){b._readCapability.resolve()});a.on("end",function(){a.destroy();b._done=!0;b._readCapability.resolve()});a.on("error",function(a){b._error(a)});this._errored&&this._readableStream.destroy(this._reason)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return b}(),o=function(a){function b(a){e(this,b);var c=k(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),d=function(b){c._headersCapability.resolve();
c._setReadableStream(b);var b=(0,h.validateRangeRequestCapabilities)({getResponseHeader:function(a){return c._readableStream.headers[a.toLowerCase()]},isHttp:a.isHttp,rangeChunkSize:c._rangeChunkSize,disableRange:c._disableRange}),d=b.suggestedLength;b.allowRangeRequests&&(c._isRangeSupported=!0);c._contentLength=d};c._request=null;c._request="http:"===c._url.protocol?t.request(m(c._url,a.httpHeaders),d):l.request(m(c._url,a.httpHeaders),d);c._request.on("error",function(a){c._errored=!0;c._reason=
a;c._headersCapability.reject(a)});c._request.end();return c}j(b,a);return b}(b),i=function(a){function b(a,c,d){e(this,b);var g=k(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));g._httpHeaders={};for(var h in a.httpHeaders){var i=a.httpHeaders[h];"undefined"!==typeof i&&(g._httpHeaders[h]=i)}g._httpHeaders.Range="bytes="+c+"-"+(d-1);g._request=null;g._request="http:"===g._url.protocol?t.request(m(g._url,g._httpHeaders),function(a){g._setReadableStream(a)}):l.request(m(g._url,g._httpHeaders),
function(a){g._setReadableStream(a)});g._request.on("error",function(a){g._errored=!0;g._reason=a});g._request.end();return g}j(b,a);return b}(q),v=function(a){function b(a){e(this,b);var c=k(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),d=decodeURI(c._url.path);u.lstat(d,function(a,b){a?(c._errored=!0,c._reason=a,c._headersCapability.reject(a)):(c._contentLength=b.size,c._setReadableStream(u.createReadStream(d)),c._headersCapability.resolve())});return c}j(b,a);return b}(b),w=function(a){function b(a,
c,d){e(this,b);a=k(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));a._setReadableStream(u.createReadStream(decodeURI(a._url.path),{start:c,end:d-1}));return a}j(b,a);return b}(q);d.PDFNodeStream=g},function(g,d,b){function k(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function j(a,b){return{method:"GET",headers:a,mode:"cors",credentials:b?"include":"same-origin",redirect:"follow"}}Object.defineProperty(d,"__esModule",{value:!0});d.PDFFetchStream=
void 0;var e=function(){function a(b,d){for(var e=0;e<d.length;e++){var g=d[e];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(b,g.key,g)}}return function(b,d,e){d&&a(b.prototype,d);e&&a(b,e);return b}}(),m=b(0),a=b(38),g=function(){function a(b){k(this,a);this.source=b;this.httpHeaders=(this.isHttp=/^https?:/i.test(b.url))&&b.httpHeaders||{};this._fullRequestReader=null;this._rangeRequestReaders=[]}e(a,[{key:"getFullReader",value:function(){(0,m.assert)(!this._fullRequestReader);
return this._fullRequestReader=new n(this)}},{key:"getRangeReader",value:function(a,b){var d=new h(this,a,b);this._rangeRequestReaders.push(d);return d}},{key:"cancelAllRequests",value:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);this._rangeRequestReaders.slice(0).forEach(function(b){b.cancel(a)})}}]);return a}(),n=function(){function b(d){var e=this;k(this,b);this._stream=d;this._reader=null;this._loaded=0;d=d.source;this._withCredentials=d.withCredentials;this._contentLength=
d.length;this._headersCapability=(0,m.createPromiseCapability)();this._disableRange=d.disableRange;this._rangeChunkSize=d.rangeChunkSize;!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0);this._isRangeSupported=!d.disableRange;this._isStreamingSupported=!d.disableStream;this._headers=new Headers;for(var g in this._stream.httpHeaders){var h=this._stream.httpHeaders[g];"undefined"!==typeof h&&this._headers.append(g,h)}var o=d.url;fetch(o,j(this._headers,this._withCredentials)).then(function(b){if(!(0,
a.validateResponseStatus)(b.status))throw(0,a.createResponseStatusError)(b.status,o);e._reader=b.body.getReader();e._headersCapability.resolve();var d=(0,a.validateRangeRequestCapabilities)({getResponseHeader:function(a){return b.headers.get(a)},isHttp:e._stream.isHttp,rangeChunkSize:e._rangeChunkSize,disableRange:e._disableRange}),g=d.allowRangeRequests;e._contentLength=d.suggestedLength;e._isRangeSupported=g;!e._isStreamingSupported&&e._isRangeSupported&&e.cancel(new m.AbortException("streaming is disabled"))}).catch(this._headersCapability.reject);
this.onProgress=null}e(b,[{key:"read",value:function(){var a=this;return this._headersCapability.promise.then(function(){return a._reader.read().then(function(b){var d=b.value;if(b=b.done)return Promise.resolve({value:d,done:b});a._loaded+=d.byteLength;if(a.onProgress)a.onProgress({loaded:a._loaded,total:a._contentLength});d=(new Uint8Array(d)).buffer;return Promise.resolve({value:d,done:!1})})})}},{key:"cancel",value:function(a){this._reader&&this._reader.cancel(a)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},
{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return b}(),h=function(){function b(d,e,g){var h=this;k(this,b);this._stream=d;this._reader=null;this._loaded=0;d=d.source;this._withCredentials=d.withCredentials;this._readCapability=(0,m.createPromiseCapability)();this._isStreamingSupported=!d.disableStream;this._headers=new Headers;
for(var o in this._stream.httpHeaders){var i=this._stream.httpHeaders[o];"undefined"!==typeof i&&this._headers.append(o,i)}this._headers.append("Range","bytes="+(e+"-"+(g-1)));var n=d.url;fetch(n,j(this._headers,this._withCredentials)).then(function(b){if(!(0,a.validateResponseStatus)(b.status))throw(0,a.createResponseStatusError)(b.status,n);h._readCapability.resolve();h._reader=b.body.getReader()});this.onProgress=null}e(b,[{key:"read",value:function(){var a=this;return this._readCapability.promise.then(function(){return a._reader.read().then(function(b){var d=
b.value;if(b=b.done)return Promise.resolve({value:d,done:b});a._loaded+=d.byteLength;if(a.onProgress)a.onProgress({loaded:a._loaded});d=(new Uint8Array(d)).buffer;return Promise.resolve({value:d,done:!1})})})}},{key:"cancel",value:function(a){this._reader&&this._reader.cancel(a)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return b}();d.PDFFetchStream=g},function(g,d,b){function k(a,b){this.url=a;b=b||{};this.httpHeaders=(this.isHttp=/^https?:/i.test(a))&&b.httpHeaders||
{};this.withCredentials=b.withCredentials||!1;this.getXhr=b.getXhr||function(){return new XMLHttpRequest};this.currXhrId=0;this.pendingRequests=Object.create(null);this.loadedRequests=Object.create(null)}function j(a){a=a.response;return"string"!==typeof a?a:(0,n.stringToBytes)(a).buffer}function e(a){this._source=a;this._manager=new k(a.url,{httpHeaders:a.httpHeaders,withCredentials:a.withCredentials});this._rangeChunkSize=a.rangeChunkSize;this._fullRequestReader=null;this._rangeRequestReaders=[]}
function m(a,b){this._manager=a;var d={onHeadersReceived:this._onHeadersReceived.bind(this),onProgressiveData:b.disableStream?null:this._onProgressiveData.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=b.url;this._fullRequestId=a.requestFull(d);this._headersReceivedCapability=(0,n.createPromiseCapability)();this._disableRange=b.disableRange||!1;this._contentLength=b.length;this._rangeChunkSize=b.rangeChunkSize;!this._rangeChunkSize&&
!this._disableRange&&(this._disableRange=!0);this._isRangeSupported=this._isStreamingSupported=!1;this._cachedChunks=[];this._requests=[];this._done=!1;this._storedError=void 0;this.onProgress=null}function a(a,b,d){this._manager=a;var e={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=a.requestRange(b,d,e);this._requests=[];this._queuedChunk=null;this._done=!1;this.onClosed=this.onProgress=null}Object.defineProperty(d,"__esModule",{value:!0});d.NetworkManager=
d.PDFNetworkStream=void 0;var n=b(0),h=b(38),u=(g=b(14))&&g.__esModule?g:{"default":g},t=function(){try{var a=new XMLHttpRequest;a.open("GET",u.default.location.href);a.responseType="moz-chunked-arraybuffer";return"moz-chunked-arraybuffer"===a.responseType}catch(b){return!1}}();k.prototype={requestRange:function(a,b,d){var a={begin:a,end:b},e;for(e in d)a[e]=d[e];return this.request(a)},requestFull:function(a){return this.request(a)},request:function(a){var b=this.getXhr(),d=this.currXhrId++,e=this.pendingRequests[d]=
{xhr:b};b.open("GET",this.url);b.withCredentials=this.withCredentials;for(var g in this.httpHeaders){var h=this.httpHeaders[g];"undefined"!==typeof h&&b.setRequestHeader(g,h)}this.isHttp&&"begin"in a&&"end"in a?(b.setRequestHeader("Range","bytes="+(a.begin+"-"+(a.end-1))),e.expectedStatus=206):e.expectedStatus=200;t&&a.onProgressiveData?(b.responseType="moz-chunked-arraybuffer",e.onProgressiveData=a.onProgressiveData,e.mozChunked=!0):b.responseType="arraybuffer";a.onError&&(b.onerror=function(){a.onError(b.status)});
b.onreadystatechange=this.onStateChange.bind(this,d);b.onprogress=this.onProgress.bind(this,d);e.onHeadersReceived=a.onHeadersReceived;e.onDone=a.onDone;e.onError=a.onError;e.onProgress=a.onProgress;b.send(null);return d},onProgress:function(a,b){var d=this.pendingRequests[a];if(d){if(d.mozChunked){var e=j(d.xhr);d.onProgressiveData(e)}(d=d.onProgress)&&d(b)}},onStateChange:function(a){var b=this.pendingRequests[a];if(b){var d=b.xhr;2<=d.readyState&&b.onHeadersReceived&&(b.onHeadersReceived(),delete b.onHeadersReceived);
if(4===d.readyState&&a in this.pendingRequests)if(delete this.pendingRequests[a],0===d.status&&this.isHttp){if(b.onError)b.onError(d.status)}else{var e=d.status||200;if(!(200===e&&206===b.expectedStatus)&&e!==b.expectedStatus){if(b.onError)b.onError(d.status)}else if(this.loadedRequests[a]=!0,a=j(d),206===e)d=/bytes (\d+)-(\d+)\/(\d+)/.exec(d.getResponseHeader("Content-Range")),d=parseInt(d[1],10),b.onDone({begin:d,chunk:a});else if(b.onProgressiveData)b.onDone(null);else if(a)b.onDone({begin:0,chunk:a});
else if(b.onError)b.onError(d.status)}}},hasPendingRequests:function(){for(var a in this.pendingRequests)return!0;return!1},getRequestXhr:function(a){return this.pendingRequests[a].xhr},isStreamingRequest:function(a){return!!this.pendingRequests[a].onProgressiveData},isPendingRequest:function(a){return a in this.pendingRequests},isLoadedRequest:function(a){return a in this.loadedRequests},abortAllRequests:function(){for(var a in this.pendingRequests)this.abortRequest(a|0)},abortRequest:function(a){var b=
this.pendingRequests[a].xhr;delete this.pendingRequests[a];b.abort()}};e.prototype={_onRangeRequestReaderClosed:function(a){a=this._rangeRequestReaders.indexOf(a);0<=a&&this._rangeRequestReaders.splice(a,1)},getFullReader:function(){(0,n.assert)(!this._fullRequestReader);return this._fullRequestReader=new m(this._manager,this._source)},getRangeReader:function(b,d){var e=new a(this._manager,b,d);e.onClosed=this._onRangeRequestReaderClosed.bind(this);this._rangeRequestReaders.push(e);return e},cancelAllRequests:function(a){this._fullRequestReader&&
this._fullRequestReader.cancel(a);this._rangeRequestReaders.slice(0).forEach(function(b){b.cancel(a)})}};m.prototype={_onHeadersReceived:function(){var a=this._fullRequestId,b=this._manager.getRequestXhr(a),d=(0,h.validateRangeRequestCapabilities)({getResponseHeader:function(a){return b.getResponseHeader(a)},isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),e=d.allowRangeRequests;this._contentLength=d.suggestedLength||this._contentLength;e&&(this._isRangeSupported=
!0);d=this._manager;d.isStreamingRequest(a)?this._isStreamingSupported=!0:this._isRangeSupported&&d.abortRequest(a);this._headersReceivedCapability.resolve()},_onProgressiveData:function(a){0<this._requests.length?this._requests.shift().resolve({value:a,done:!1}):this._cachedChunks.push(a)},_onDone:function(a){a&&this._onProgressiveData(a.chunk);this._done=!0;0<this._cachedChunks.length||(this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[])},_onError:function(a){var b=
this._url,d=(0,h.createResponseStatusError)(a,b);this._storedError=d;this._headersReceivedCapability.reject(d);this._requests.forEach(function(a){a.reject(d)});this._requests=[];this._cachedChunks=[]},_onProgress:function(a){if(this.onProgress)this.onProgress({loaded:a.loaded,total:a.lengthComputable?a.total:this._contentLength})},get isRangeSupported(){return this._isRangeSupported},get isStreamingSupported(){return this._isStreamingSupported},get contentLength(){return this._contentLength},get headersReady(){return this._headersReceivedCapability.promise},
read:function(){if(this._storedError)return Promise.reject(this._storedError);if(0<this._cachedChunks.length){var a=this._cachedChunks.shift();return Promise.resolve({value:a,done:!1})}if(this._done)return Promise.resolve({value:void 0,done:!0});a=(0,n.createPromiseCapability)();this._requests.push(a);return a.promise},cancel:function(a){this._done=!0;this._headersReceivedCapability.reject(a);this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[];this._manager.isPendingRequest(this._fullRequestId)&&
this._manager.abortRequest(this._fullRequestId);this._fullRequestReader=null}};a.prototype={_close:function(){if(this.onClosed)this.onClosed(this)},_onDone:function(a){a=a.chunk;0<this._requests.length?this._requests.shift().resolve({value:a,done:!1}):this._queuedChunk=a;this._done=!0;this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[];this._close()},_onProgress:function(a){if(!this.isStreamingSupported&&this.onProgress)this.onProgress({loaded:a.loaded})},get isStreamingSupported(){return!1},
read:function(){if(null!==this._queuedChunk){var a=this._queuedChunk;this._queuedChunk=null;return Promise.resolve({value:a,done:!1})}if(this._done)return Promise.resolve({value:void 0,done:!0});a=(0,n.createPromiseCapability)();this._requests.push(a);return a.promise},cancel:function(){this._done=!0;this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[];this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId);this._close()}};d.PDFNetworkStream=
e;d.NetworkManager=k}])});
