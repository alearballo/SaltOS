(function(f,d){"object"===typeof exports&&"object"===typeof module?module.exports=d():"function"===typeof define&&define.amd?define("pdfjs-dist/build/pdf",[],d):"object"===typeof exports?exports["pdfjs-dist/build/pdf"]=d():f["pdfjs-dist/build/pdf"]=f.pdfjsDistBuildPdf=d()})(this,function(){return function(f){function d(l){if(b[l])return b[l].exports;var k=b[l]={i:l,l:!1,exports:{}};f[l].call(k.exports,k,k.exports,d);k.l=!0;return k.exports}var b={};d.m=f;d.c=b;d.d=function(b,k,g){d.o(b,k)||Object.defineProperty(b,
k,{configurable:!1,enumerable:!0,get:g})};d.n=function(b){var k=b&&b.__esModule?function(){return b["default"]}:function(){return b};d.d(k,"a",k);return k};d.o=function(b,d){return Object.prototype.hasOwnProperty.call(b,d)};d.p="";return d(d.s=62)}([function(f,d,b){function l(c){p>=i.warnings&&console.log("Warning: "+c)}function k(c){throw Error(c);}function g(c,x){c||k(x)}function m(c){g("string"===typeof c,"Invalid argument for stringToBytes");for(var x=c.length,e=new Uint8Array(x),n=0;n<x;++n)e[n]=
c.charCodeAt(n)&255;return e}function a(c){if(void 0!==c.length)return c.length;g(void 0!==c.byteLength);return c.byteLength}function r(){var c={};c.promise=new Promise(function(x,e){c.resolve=x;c.reject=e});return c}function j(c,x){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return!c?Promise.resolve(void 0):new Promise(function(n){n(c.apply(e,x))})}function q(a){if("object"!==("undefined"===typeof a?"undefined":o(a)))return a;switch(a.name){case "AbortException":return new A(a.message);
case "MissingPDFException":return new c(a.message);case "UnexpectedResponseException":return new e(a.message,a.status);default:return new B(a.message,a.details)}}function v(c,e,a){e?c.resolve():c.reject(a)}function h(c){return Promise.resolve(c).catch(function(){})}function s(a,x,i){var n=this;this.sourceName=a;this.targetName=x;this.comObj=i;this.streamId=this.callbackId=1;this.postMessageTransfers=!0;this.streamSinks=Object.create(null);this.streamControllers=Object.create(null);var J=this.callbacksCapabilities=
Object.create(null),y=this.actionHandler=Object.create(null);this._onComObjOnMessage=function(a){var x=a.data;if(x.targetName===n.sourceName)if(x.stream)n._processStreamMessage(x);else if(x.isReply)if(a=x.callbackId,x.callbackId in J){var b=J[a];delete J[a];"error"in x?b.reject(q(x.error)):b.resolve(x.data)}else throw Error("Cannot resolve callback "+a);else if(x.action in y){var N=y[x.action];if(x.callbackId){var j=n.sourceName,p=x.sourceName;Promise.resolve().then(function(){return N[0].call(N[1],
x.data)}).then(function(n){i.postMessage({sourceName:j,targetName:p,isReply:!0,callbackId:x.callbackId,data:n})},function(n){i.postMessage({sourceName:j,targetName:p,isReply:!0,callbackId:x.callbackId,error:!(n instanceof Error)||n instanceof A||n instanceof c||n instanceof e||n instanceof B?n:new B(n.message,n.toString())})})}else x.streamId?n._createStreamSink(x):N[0].call(N[1],x.data)}else throw Error("Unknown action from worker: "+x.action);};i.addEventListener("message",this._onComObjOnMessage)}
Object.defineProperty(d,"__esModule",{value:!0});d.unreachable=d.warn=d.utf8StringToString=d.stringToUTF8String=d.stringToPDFString=d.stringToBytes=d.string32=d.shadow=d.setVerbosityLevel=d.ReadableStream=d.removeNullCharacters=d.readUint32=d.readUint16=d.readInt8=d.log2=d.loadJpegStream=d.isEvalSupported=d.isLittleEndian=d.createValidAbsoluteUrl=d.isSameOrigin=d.isNodeJS=d.isSpace=d.isString=d.isNum=d.isEmptyObj=d.isBool=d.isArrayBuffer=d.info=d.getVerbosityLevel=d.getLookupTableFactory=d.deprecated=
d.createObjectURL=d.createPromiseCapability=d.createBlob=d.bytesToString=d.assert=d.arraysToBytes=d.arrayByteLength=d.FormatError=d.XRefParseException=d.Util=d.UnknownErrorException=d.UnexpectedResponseException=d.TextRenderingMode=d.StreamType=d.PasswordResponses=d.PasswordException=d.PageViewport=d.NotImplementedException=d.NativeImageDecoding=d.MissingPDFException=d.MissingDataException=d.MessageHandler=d.InvalidPDFException=d.AbortException=d.CMapCompressionType=d.ImageKind=d.FontType=d.AnnotationType=
d.AnnotationFlag=d.AnnotationFieldFlag=d.AnnotationBorderStyleType=d.UNSUPPORTED_FEATURES=d.VERBOSITY_LEVELS=d.OPS=d.IDENTITY_MATRIX=d.FONT_IDENTITY_MATRIX=void 0;var o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c};b(63);var t=b(110),i={errors:0,warnings:1,infos:5},p=i.warnings,f=function(){function c(x,a){this.name="PasswordException";this.message=
x;this.code=a}c.prototype=Error();return c.constructor=c}(),B=function(){function c(x,a){this.name="UnknownErrorException";this.message=x;this.details=a}c.prototype=Error();return c.constructor=c}(),b=function(){function c(x){this.name="InvalidPDFException";this.message=x}c.prototype=Error();return c.constructor=c}(),c=function(){function c(x){this.name="MissingPDFException";this.message=x}c.prototype=Error();return c.constructor=c}(),e=function(){function c(x,a){this.name="UnexpectedResponseException";
this.message=x;this.status=a}c.prototype=Error();return c.constructor=c}(),z=function(){function c(x){this.message=x}c.prototype=Error();c.prototype.name="NotImplementedException";return c.constructor=c}(),w=function(){function c(x,a){this.begin=x;this.end=a;this.message="Missing data ["+x+", "+a+")"}c.prototype=Error();c.prototype.name="MissingDataException";return c.constructor=c}(),C=function(){function c(a){this.message=a}c.prototype=Error();c.prototype.name="XRefParseException";return c.constructor=
c}(),u=function(){function c(a){this.message=a}c.prototype=Error();c.prototype.name="FormatError";return c.constructor=c}(),A=function(){function c(a){this.name="AbortException";this.message=a}c.prototype=Error();return c.constructor=c}(),F=/\x00/g,I=function(){function c(){}var a=["rgb(",0,",",0,",",0,")"];c.makeCssRgb=function(n,c,e){a[1]=n;a[3]=c;a[5]=e;return a.join("")};c.transform=function(n,c){return[n[0]*c[0]+n[2]*c[1],n[1]*c[0]+n[3]*c[1],n[0]*c[2]+n[2]*c[3],n[1]*c[2]+n[3]*c[3],n[0]*c[4]+
n[2]*c[5]+n[4],n[1]*c[4]+n[3]*c[5]+n[5]]};c.applyTransform=function(n,c){return[n[0]*c[0]+n[1]*c[2]+c[4],n[0]*c[1]+n[1]*c[3]+c[5]]};c.applyInverseTransform=function(n,c){var a=c[0]*c[3]-c[1]*c[2];return[(n[0]*c[3]-n[1]*c[2]+c[2]*c[5]-c[4]*c[3])/a,(-n[0]*c[1]+n[1]*c[0]+c[4]*c[1]-c[5]*c[0])/a]};c.getAxialAlignedBoundingBox=function(n,J){var a=c.applyTransform(n,J),e=c.applyTransform(n.slice(2,4),J),x=c.applyTransform([n[0],n[3]],J),i=c.applyTransform([n[2],n[1]],J);return[Math.min(a[0],e[0],x[0],i[0]),
Math.min(a[1],e[1],x[1],i[1]),Math.max(a[0],e[0],x[0],i[0]),Math.max(a[1],e[1],x[1],i[1])]};c.inverseTransform=function(n){var c=n[0]*n[3]-n[1]*n[2];return[n[3]/c,-n[1]/c,-n[2]/c,n[0]/c,(n[2]*n[5]-n[4]*n[3])/c,(n[4]*n[1]-n[5]*n[0])/c]};c.apply3dTransform=function(n,c){return[n[0]*c[0]+n[1]*c[1]+n[2]*c[2],n[3]*c[0]+n[4]*c[1]+n[5]*c[2],n[6]*c[0]+n[7]*c[1]+n[8]*c[2]]};c.singularValueDecompose2dScale=function(c){var a=[c[0],c[2],c[1],c[3]],e=c[0]*a[0]+c[1]*a[2],x=c[2]*a[1]+c[3]*a[3],i=(e+x)/2,c=Math.sqrt((e+
x)*(e+x)-4*(e*x-(c[2]*a[0]+c[3]*a[2])*(c[0]*a[1]+c[1]*a[3])))/2,a=i-c||1;return[Math.sqrt(i+c||1),Math.sqrt(a)]};c.normalizeRect=function(c){var a=c.slice(0);c[0]>c[2]&&(a[0]=c[2],a[2]=c[0]);c[1]>c[3]&&(a[1]=c[3],a[3]=c[1]);return a};c.intersect=function(n,a){function e(c,n){return c-n}var x=[n[0],n[2],a[0],a[2]].sort(e),i=[n[1],n[3],a[1],a[3]].sort(e),b=[],n=c.normalizeRect(n),a=c.normalizeRect(a);if(x[0]===n[0]&&x[1]===a[0]||x[0]===a[0]&&x[1]===n[0])b[0]=x[1],b[2]=x[2];else return!1;if(i[0]===n[1]&&
i[1]===a[1]||i[0]===a[1]&&i[1]===n[1])b[1]=i[1],b[3]=i[2];else return!1;return b};var e=" C CC CCC CD D DC DCC DCCC CM  X XX XXX XL L LX LXX LXXX XC  I II III IV V VI VII VIII IX".split(" ");c.toRoman=function(c,a){g(Number.isInteger(c)&&0<c,"The number should be a positive integer.");for(var x,i=[];1E3<=c;)c-=1E3,i.push("M");x=c/100|0;c%=100;i.push(e[x]);x=c/10|0;c%=10;i.push(e[10+x]);i.push(e[20+c]);x=i.join("");return a?x.toLowerCase():x};c.appendToArray=function(c,a){Array.prototype.push.apply(c,
a)};c.prependToArray=function(c,a){Array.prototype.unshift.apply(c,a)};c.extendObj=function(c,a){for(var x in a)c[x]=a[x]};c.getInheritableProperty=function(c,a,x){for(;c&&!c.has(a);)c=c.get("Parent");return!c?null:x?c.getArray(a):c.get(a)};c.inherit=function(c,a,x){c.prototype=Object.create(a.prototype);c.prototype.constructor=c;for(var e in x)c.prototype[e]=x[e]};c.loadScript=function(c,a){var x=document.createElement("script"),e=!1;x.setAttribute("src",c);a&&(x.onload=function(){e||a();e=!0});
document.getElementsByTagName("head")[0].appendChild(x)};return c}(),K=function(){function c(a,e,n,i,b,j){this.viewBox=a;this.scale=e;this.rotation=n;this.offsetX=i;this.offsetY=b;var p=(a[2]+a[0])/2,g=(a[3]+a[1])/2,d,u,h,n=n%360;switch(0>n?n+360:n){case 180:n=-1;u=d=0;h=1;break;case 90:n=0;u=d=1;h=0;break;case 270:n=0;u=d=-1;h=0;break;default:n=1,u=d=0,h=-1}j&&(u=-u,h=-h);0===n?(i=Math.abs(g-a[1])*e+i,b=Math.abs(p-a[0])*e+b,j=Math.abs(a[3]-a[1])*e,a=Math.abs(a[2]-a[0])*e):(i=Math.abs(p-a[0])*e+i,
b=Math.abs(g-a[1])*e+b,j=Math.abs(a[2]-a[0])*e,a=Math.abs(a[3]-a[1])*e);this.transform=[n*e,d*e,u*e,h*e,i-n*e*p-u*e*g,b-d*e*p-h*e*g];this.width=j;this.height=a;this.fontScale=e}c.prototype={clone:function(a){var a=a||{},e="scale"in a?a.scale:this.scale,n="rotation"in a?a.rotation:this.rotation;return new c(this.viewBox.slice(),e,n,this.offsetX,this.offsetY,a.dontFlip)},convertToViewportPoint:function(c,a){return I.applyTransform([c,a],this.transform)},convertToViewportRectangle:function(c){var a=
I.applyTransform([c[0],c[1]],this.transform),c=I.applyTransform([c[2],c[3]],this.transform);return[a[0],a[1],c[0],c[1]]},convertToPdfPoint:function(c,a){return I.applyInverseTransform([c,a],this.transform)}};return c}(),E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,
8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],H=function(c,a){if("undefined"!==typeof Blob)return new Blob([c],{type:a});throw Error('The "Blob" constructor is not supported.');},L=function(){return function(c,a){if((!(2<arguments.length&&void 0!==arguments[2])||!arguments[2])&&URL.createObjectURL){var e=H(c,a);return URL.createObjectURL(e)}for(var e="data:"+a+";base64,",n=0,i=c.length;n<i;n+=3)var b=
c[n]&255,j=c[n+1]&255,p=c[n+2]&255,e=e+("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[b>>2]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[(b&3)<<4|j>>4]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[n+1<i?(j&15)<<2|p>>6:64]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[n+2<i?p&63:64]);return e}}();s.prototype={on:function(c,a,e){var n=this.actionHandler;if(n[c])throw Error('There is already an actionName called "'+
c+'"');n[c]=[a,e]},send:function(c,a,e){this.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:c,data:a},e)},sendWithPromise:function(c,a,e){var n=this.callbackId++,c={sourceName:this.sourceName,targetName:this.targetName,action:c,data:a,callbackId:n},a=r();this.callbacksCapabilities[n]=a;try{this.postMessage(c,e)}catch(i){a.reject(i)}return a.promise},sendWithStream:function(c,a,e){var n=this,i=this.streamId++,b=this.sourceName,j=this.targetName;return new t.ReadableStream({start:function(e){var p=
r();n.streamControllers[i]={controller:e,startCall:p,isClosed:!1};n.postMessage({sourceName:b,targetName:j,action:c,streamId:i,data:a,desiredSize:e.desiredSize});return p.promise},pull:function(c){var a=r();n.streamControllers[i].pullCall=a;n.postMessage({sourceName:b,targetName:j,stream:"pull",streamId:i,desiredSize:c.desiredSize});return a.promise},cancel:function(c){var a=r();n.streamControllers[i].cancelCall=a;n.streamControllers[i].isClosed=!0;n.postMessage({sourceName:b,targetName:j,stream:"cancel",
reason:c,streamId:i});return a.promise}},e)},_createStreamSink:function(c){var a=this,e=this,n=this.actionHandler[c.action],i=c.streamId,b=c.desiredSize,p=this.sourceName,d=c.sourceName,g=function(c){a.postMessage({sourceName:p,targetName:d,stream:c.stream,streamId:i,chunk:c.chunk,success:c.success,reason:c.reason},c.transfers)},b={enqueue:function(c){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=arguments[2];if(!this.isCancelled){var e=this.desiredSize;this.desiredSize-=a;0<e&&
0>=this.desiredSize&&(this.sinkCapability=r(),this.ready=this.sinkCapability.promise);g({stream:"enqueue",chunk:c,transfers:n})}},close:function(){this.isCancelled||(this.isCancelled=!0,g({stream:"close"}),delete e.streamSinks[i])},error:function(c){this.isCancelled||(this.isCancelled=!0,g({stream:"error",reason:c}))},sinkCapability:r(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:b,ready:null};b.sinkCapability.resolve();b.ready=b.sinkCapability.promise;this.streamSinks[i]=b;j(n[0],[c.data,
b],n[1]).then(function(){g({stream:"start_complete",success:!0})},function(c){g({stream:"start_complete",success:!1,reason:c})})},_processStreamMessage:function(c){var a=this,e=this.sourceName,n=c.sourceName,i=c.streamId,b=function(c){a.comObj.postMessage({sourceName:e,targetName:n,stream:c.stream,success:c.success,streamId:i,reason:c.reason})},p=function(){Promise.all([a.streamControllers[c.streamId].startCall,a.streamControllers[c.streamId].pullCall,a.streamControllers[c.streamId].cancelCall].map(function(c){return c&&
h(c.promise)})).then(function(){delete a.streamControllers[c.streamId]})};switch(c.stream){case "start_complete":v(this.streamControllers[c.streamId].startCall,c.success,q(c.reason));break;case "pull_complete":v(this.streamControllers[c.streamId].pullCall,c.success,q(c.reason));break;case "pull":if(!this.streamSinks[c.streamId]){b({stream:"pull_complete",success:!0});break}0>=this.streamSinks[c.streamId].desiredSize&&0<c.desiredSize&&this.streamSinks[c.streamId].sinkCapability.resolve();this.streamSinks[c.streamId].desiredSize=
c.desiredSize;j(this.streamSinks[c.streamId].onPull).then(function(){b({stream:"pull_complete",success:!0})},function(c){b({stream:"pull_complete",success:!1,reason:c})});break;case "enqueue":g(this.streamControllers[c.streamId],"enqueue should have stream controller");this.streamControllers[c.streamId].isClosed||this.streamControllers[c.streamId].controller.enqueue(c.chunk);break;case "close":g(this.streamControllers[c.streamId],"close should have stream controller");if(this.streamControllers[c.streamId].isClosed)break;
this.streamControllers[c.streamId].isClosed=!0;this.streamControllers[c.streamId].controller.close();p();break;case "error":g(this.streamControllers[c.streamId],"error should have stream controller");this.streamControllers[c.streamId].controller.error(q(c.reason));p();break;case "cancel_complete":v(this.streamControllers[c.streamId].cancelCall,c.success,q(c.reason));p();break;case "cancel":if(!this.streamSinks[c.streamId])break;j(this.streamSinks[c.streamId].onCancel,[q(c.reason)]).then(function(){b({stream:"cancel_complete",
success:!0})},function(c){b({stream:"cancel_complete",success:!1,reason:c})});this.streamSinks[c.streamId].sinkCapability.reject(q(c.reason));this.streamSinks[c.streamId].isCancelled=!0;delete this.streamSinks[c.streamId];break;default:throw Error("Unexpected stream case");}},postMessage:function(c,a){a&&this.postMessageTransfers?this.comObj.postMessage(c,a):this.comObj.postMessage(c)},destroy:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}};d.FONT_IDENTITY_MATRIX=[0.001,
0,0,0.001,0,0];d.IDENTITY_MATRIX=[1,0,0,1,0,0];d.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,
setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,
beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,
paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};d.VERBOSITY_LEVELS=i;d.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"};d.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};d.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,
MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};d.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};d.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,
SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};d.FontType={UNKNOWN:0,TYPE1:1,TYPE1C:2,CIDFONTTYPE0:3,CIDFONTTYPE0C:4,TRUETYPE:5,CIDFONTTYPE2:6,TYPE3:7,OPENTYPE:8,TYPE0:9,MMTYPE1:10};d.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};d.CMapCompressionType={NONE:0,BINARY:1,STREAM:2};d.AbortException=A;d.InvalidPDFException=b;d.MessageHandler=s;d.MissingDataException=w;d.MissingPDFException=c;d.NativeImageDecoding={NONE:"none",DECODE:"decode",DISPLAY:"display"};d.NotImplementedException=
z;d.PageViewport=K;d.PasswordException=f;d.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};d.StreamType={UNKNOWN:0,FLATE:1,LZW:2,DCT:3,JPX:4,JBIG:5,A85:6,AHX:7,CCF:8,RL:9};d.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};d.UnexpectedResponseException=e;d.UnknownErrorException=B;d.Util=I;d.XRefParseException=C;d.FormatError=u;d.arrayByteLength=a;d.arraysToBytes=
function(c){if(1===c.length&&c[0]instanceof Uint8Array)return c[0];var e=0,i,n=c.length,b,j;for(i=0;i<n;i++)b=c[i],j=a(b),e+=j;var p=0,e=new Uint8Array(e);for(i=0;i<n;i++)b=c[i],b instanceof Uint8Array||(b="string"===typeof b?m(b):new Uint8Array(b)),j=b.byteLength,e.set(b,p),p+=j;return e};d.assert=g;d.bytesToString=function(c){g(null!==c&&"object"===("undefined"===typeof c?"undefined":o(c))&&void 0!==c.length,"Invalid argument for bytesToString");var a=c.length;if(8192>a)return String.fromCharCode.apply(null,
c);for(var e=[],n=0;n<a;n+=8192){var i=Math.min(n+8192,a),i=c.subarray(n,i);e.push(String.fromCharCode.apply(null,i))}return e.join("")};d.createBlob=H;d.createPromiseCapability=r;d.createObjectURL=L;d.deprecated=function(c){console.log("Deprecated API usage: "+c)};d.getLookupTableFactory=function(c){var a;return function(){c&&(a=Object.create(null),c(a),c=null);return a}};d.getVerbosityLevel=function(){return p};d.info=function(c){p>=i.infos&&console.log("Info: "+c)};d.isArrayBuffer=function(c){return"object"===
("undefined"===typeof c?"undefined":o(c))&&null!==c&&void 0!==c.byteLength};d.isBool=function(c){return"boolean"===typeof c};d.isEmptyObj=function(c){for(var a in c)return!1;return!0};d.isNum=function(c){return"number"===typeof c};d.isString=function(c){return"string"===typeof c};d.isSpace=function(c){return 32===c||9===c||13===c||10===c};d.isNodeJS=function(){return"object"===("undefined"===typeof process?"undefined":o(process))&&"[object process]"===process+""};d.isSameOrigin=function(c,a){try{var e=
new URL(c);if(!e.origin||"null"===e.origin)return!1}catch(n){return!1}var i=new URL(a,e);return e.origin===i.origin};d.createValidAbsoluteUrl=function(c,a){if(!c)return null;try{var e=a?new URL(c,a):new URL(c),n;a:if(e)switch(e.protocol){case "http:":case "https:":case "ftp:":case "mailto:":case "tel:":n=!0;break a;default:n=!1}else n=!1;if(n)return e}catch(i){}return null};d.isLittleEndian=function(){var c=new Uint8Array(4);c[0]=1;return 1===(new Uint32Array(c.buffer,0,1))[0]};d.isEvalSupported=
function(){try{return new Function(""),!0}catch(c){return!1}};d.loadJpegStream=function(c,a,e){var n=new Image;n.onload=function(){e.resolve(c,n)};n.onerror=function(){e.resolve(c,null);l("Error during JPEG image loading")};n.src=a};d.log2=function(c){for(var a=1,e=0;c>a;)a<<=1,e++;return e};d.readInt8=function(c,a){return c[a]<<24>>24};d.readUint16=function(c,a){return c[a]<<8|c[a+1]};d.readUint32=function(c,a){return(c[a]<<24|c[a+1]<<16|c[a+2]<<8|c[a+3])>>>0};d.removeNullCharacters=function(c){return"string"!==
typeof c?(l("The argument for removeNullCharacters must be a string."),c):c.replace(F,"")};d.ReadableStream=t.ReadableStream;d.setVerbosityLevel=function(c){p=c};d.shadow=function(c,a,e){Object.defineProperty(c,a,{value:e,enumerable:!0,configurable:!0,writable:!1});return e};d.string32=function(c){return String.fromCharCode(c>>24&255,c>>16&255,c>>8&255,c&255)};d.stringToBytes=m;d.stringToPDFString=function(c){var a,e=c.length,n=[];if("\u00fe"===c[0]&&"\u00ff"===c[1])for(a=2;a<e;a+=2)n.push(String.fromCharCode(c.charCodeAt(a)<<
8|c.charCodeAt(a+1)));else for(a=0;a<e;++a){var i=E[c.charCodeAt(a)];n.push(i?String.fromCharCode(i):c.charAt(a))}return n.join("")};d.stringToUTF8String=function(c){return decodeURIComponent(escape(c))};d.utf8StringToString=function(c){return unescape(encodeURIComponent(c))};d.warn=l;d.unreachable=k},function(f){var d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?
"symbol":typeof b};f.exports=function(b){return"object"===("undefined"===typeof b?"undefined":d(b))?null!==b:"function"===typeof b}},function(f,d,b){var l=b(42)("wks"),k=b(20),g=b(3).Symbol,m="function"==typeof g;(f.exports=function(a){return l[a]||(l[a]=m&&g[a]||(m?g:k)("Symbol."+a))}).store=l},function(f){f=f.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=f)},function(f,d,b){var l=b(3),
k=b(5),g=b(11),m=b(8),a=b(9),d=function j(b,d,h){var s=b&j.F,o=b&j.G,t=b&j.S,i=b&j.P,p=b&j.B,t=o?l:t?l[d]||(l[d]={}):(l[d]||{}).prototype,B=o?k:k[d]||(k[d]={}),c=B.prototype||(B.prototype={}),e;o&&(h=d);for(e in h)o=!s&&t&&void 0!==t[e],d=(o?t:h)[e],o=p&&o?a(d,l):i&&"function"==typeof d?a(Function.call,d):d,t&&m(t,e,d,b&j.U),B[e]!=d&&g(B,e,o),i&&c[e]!=d&&(c[e]=d)};l.core=k;d.F=1;d.G=2;d.S=4;d.P=8;d.B=16;d.W=32;d.U=64;d.R=128;f.exports=d},function(f){f=f.exports={version:"2.5.1"};"number"==typeof __e&&
(__e=f)},function(f,d,b){var l=b(1);f.exports=function(b){if(!l(b))throw TypeError(b+" is not an object!");return b}},function(f){var d={}.hasOwnProperty;f.exports=function(b,l){return d.call(b,l)}},function(f,d,b){var l=b(3),k=b(11),g=b(7),m=b(20)("src"),a=Function.toString,r=(""+a).split("toString");b(5).inspectSource=function(b){return a.call(b)};(f.exports=function(a,b,d,h){var s="function"==typeof d;s&&(g(d,"name")||k(d,"name",b));a[b]!==d&&(s&&(g(d,m)||k(d,m,a[b]?""+a[b]:r.join(""+b))),a===
l?a[b]=d:h?a[b]?a[b]=d:k(a,b,d):(delete a[b],k(a,b,d)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[m]||a.call(this)})},function(f,d,b){var l=b(16);f.exports=function(b,d,m){l(b);if(void 0===d)return b;switch(m){case 1:return function(a){return b.call(d,a)};case 2:return function(a,m){return b.call(d,a,m)};case 3:return function(a,m,j){return b.call(d,a,m,j)}}return function(){return b.apply(d,arguments)}}},function(f,d,b){function l(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");
}function k(b){var c=a.default.PDFJS;switch(b){case "pdfBug":return c?c.pdfBug:!1;case "disableAutoFetch":return c?c.disableAutoFetch:!1;case "disableStream":return c?c.disableStream:!1;case "disableRange":return c?c.disableRange:!1;case "disableFontFace":return c?c.disableFontFace:!1;case "disableCreateObjectURL":return c?c.disableCreateObjectURL:!1;case "disableWebGL":return c?c.disableWebGL:!0;case "cMapUrl":return c?c.cMapUrl:null;case "cMapPacked":return c?c.cMapPacked:!1;case "postMessageTransfers":return c?
c.postMessageTransfers:!0;case "workerPort":return c?c.workerPort:null;case "workerSrc":return c?c.workerSrc:null;case "disableWorker":return c?c.disableWorker:!1;case "maxImageSize":return c?c.maxImageSize:-1;case "imageResourcesPath":return c?c.imageResourcesPath:"";case "isEvalSupported":return c?c.isEvalSupported:!0;case "externalLinkTarget":if(!c)return o.NONE;switch(c.externalLinkTarget){case o.NONE:case o.SELF:case o.BLANK:case o.PARENT:case o.TOP:return c.externalLinkTarget}(0,m.warn)("PDFJS.externalLinkTarget is invalid: "+
c.externalLinkTarget);return c.externalLinkTarget=o.NONE;case "externalLinkRel":return c?c.externalLinkRel:r;case "enableStats":return!(!c||!c.enableStats);default:throw Error("Unknown default setting: "+b);}}Object.defineProperty(d,"__esModule",{value:!0});d.DummyStatTimer=d.StatTimer=d.SimpleXMLParser=d.DOMSVGFactory=d.DOMCMapReaderFactory=d.DOMCanvasFactory=d.DEFAULT_LINK_REL=d.getDefaultSetting=d.LinkTarget=d.getFilenameFromUrl=d.isExternalLinkTargetSet=d.addLinkAttributes=d.RenderingCancelledException=
d.CustomStyle=void 0;var g=function(){function a(c,e){for(var b=0;b<e.length;b++){var i=e[b];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(c,i.key,i)}}return function(c,e,b){e&&a(c.prototype,e);b&&a(c,b);return c}}(),m=b(0),a=(f=b(14))&&f.__esModule?f:{"default":f},r="noopener noreferrer nofollow",f=function(){function a(){l(this,a)}g(a,[{key:"create",value:function(c,a){if(0>=c||0>=a)throw Error("invalid canvas size");var b=document.createElement("canvas"),
i=b.getContext("2d");b.width=c;b.height=a;return{canvas:b,context:i}}},{key:"reset",value:function(c,a,b){if(!c.canvas)throw Error("canvas is not specified");if(0>=a||0>=b)throw Error("invalid canvas size");c.canvas.width=a;c.canvas.height=b}},{key:"destroy",value:function(c){if(!c.canvas)throw Error("canvas is not specified");c.canvas.width=0;c.canvas.height=0;c.canvas=null;c.context=null}}]);return a}(),b=function(){function a(c){var e=c.baseUrl,e=void 0===e?null:e,c=c.isCompressed,c=void 0===c?
!1:c;l(this,a);this.baseUrl=e;this.isCompressed=c}g(a,[{key:"fetch",value:function(c){var a=this,b=c.name;return!this.baseUrl?Promise.reject(Error('CMap baseUrl must be specified, see "PDFJS.cMapUrl" (and also "PDFJS.cMapPacked").')):!b?Promise.reject(Error("CMap name must be specified.")):new Promise(function(c,i){var d=a.baseUrl+b+(a.isCompressed?".bcmap":""),p=new XMLHttpRequest;p.open("GET",d,!0);a.isCompressed&&(p.responseType="arraybuffer");p.onreadystatechange=function(){if(p.readyState===
XMLHttpRequest.DONE){if(p.status===200||p.status===0){var b=void 0;a.isCompressed&&p.response?b=new Uint8Array(p.response):!a.isCompressed&&p.responseText&&(b=(0,m.stringToBytes)(p.responseText));if(b){c({cMapData:b,compressionType:a.isCompressed?m.CMapCompressionType.BINARY:m.CMapCompressionType.NONE});return}}i(Error("Unable to load "+(a.isCompressed?"binary ":"")+"CMap at: "+d))}};p.send(null)})}}]);return a}(),j=function(){function a(){l(this,a)}g(a,[{key:"create",value:function(c,a){(0,m.assert)(0<
c&&0<a,"Invalid SVG dimensions");var b=document.createElementNS("http://www.w3.org/2000/svg","svg:svg");b.setAttribute("version","1.1");b.setAttribute("width",c+"px");b.setAttribute("height",a+"px");b.setAttribute("preserveAspectRatio","none");b.setAttribute("viewBox","0 0 "+c+" "+a);return b}},{key:"createElement",value:function(c){(0,m.assert)("string"===typeof c,"Invalid SVG element type");return document.createElementNS("http://www.w3.org/2000/svg",c)}}]);return a}(),q=function(){function a(c,
e){l(this,a);this.nodeName=c;this.nodeValue=e;Object.defineProperty(this,"parentNode",{value:null,writable:!0})}g(a,[{key:"hasChildNodes",value:function(){return this.childNodes&&0<this.childNodes.length}},{key:"firstChild",get:function(){return this.childNodes[0]}},{key:"nextSibling",get:function(){return this.parentNode.childNodes[this.parentNode.childNodes.indexOf(this)+1]}},{key:"textContent",get:function(){return!this.childNodes?this.nodeValue||"":this.childNodes.map(function(c){return c.textContent}).join("")}}]);
return a}(),v=function(){function a(){l(this,a)}g(a,[{key:"parseFromString",value:function(c){var a=this,b=[],c=c.replace(/<\?[\s\S]*?\?>|<\!--[\s\S]*?--\>/g,"").trim(),c=c.replace(/<!DOCTYPE[^>\[]+(\[[^\]]+)?[^>]+>/g,"").trim(),c=c.replace(/>([^<][\s\S]*?)</g,function(c,i){var d=b.length,p=new q("#text",a._decodeXML(i));b.push(p);return 0===p.textContent.trim().length?"><":">"+d+",<"}),c=c.replace(/<!\[CDATA\[([\s\S]*?)\]\]>/g,function(c,a){var e=b.length,i=new q("#text",a);b.push(i);return e+","}),
i=/<([\w\:]+)((?:[\s\w:=]|'[^']*'|"[^"]*")*)(?:\/>|>([\d,]*)<\/[^>]+>)/g,d=void 0;do d=b.length,c=c.replace(i,function(c,a,e,i){var c=b.length,d=new q(a),p=[];i&&(i=i.split(","),i.pop(),i.forEach(function(c){c=b[+c];c.parentNode=d;p.push(c)}));d.childNodes=p;b.push(d);return c+","});while(d<b.length);return{documentElement:b.pop()}}},{key:"_decodeXML",value:function(c){return 0>c.indexOf("&")?c:c.replace(/&(#(x[0-9a-f]+|\d+)|\w+);/gi,function(c,a,b){if(b)return b="x"===b[0]?parseInt(b.substring(1),
16):+b,String.fromCharCode(b);switch(a){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';case "apos":return"'"}return"&"+a+";"})}}]);return a}(),h=function(){function a(){}var c=["ms","Moz","Webkit","O"],b=Object.create(null);a.getProp=function(a,i){if(1===arguments.length&&"string"===typeof b[a])return b[a];var i=i||document.documentElement,d=i.style,p,j;if("string"===typeof d[a])return b[a]=a;j=a.charAt(0).toUpperCase()+a.slice(1);for(var g=0,h=c.length;g<h;g++)if(p=
c[g]+j,"string"===typeof d[p])return b[a]=p;return b[a]="undefined"};a.setProp=function(c,a,b){c=this.getProp(c);"undefined"!==c&&(a.style[c]=b)};return a}(),s=function(){function a(c,b){this.message=c;this.type=b}a.prototype=Error();a.prototype.name="RenderingCancelledException";return a.constructor=a}(),o={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4},t=["","_self","_blank","_parent","_top"],i=function(){function a(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!0;l(this,a);this.enabled=
!!c;this.reset()}g(a,[{key:"reset",value:function(){this.started=Object.create(null);this.times=[]}},{key:"time",value:function(c){this.enabled&&(c in this.started&&(0,m.warn)("Timer is already running for "+c),this.started[c]=Date.now())}},{key:"timeEnd",value:function(c){this.enabled&&(c in this.started||(0,m.warn)("Timer has not been started for "+c),this.times.push({name:c,start:this.started[c],end:Date.now()}),delete this.started[c])}},{key:"toString",value:function(){for(var c=this.times,a=
"",b=0,i=0,d=c.length;i<d;++i){var p=c[i].name;p.length>b&&(b=p.length)}i=0;for(d=c.length;i<d;++i)var p=c[i],j=p.end-p.start,a=a+(p.name.padEnd(b)+" "+j+"ms\n");return a}}]);return a}(),p=function(){function a(){l(this,a);throw Error("Cannot initialize DummyStatTimer.");}g(a,null,[{key:"reset",value:function(){}},{key:"time",value:function(){}},{key:"timeEnd",value:function(){}},{key:"toString",value:function(){return""}}]);return a}();d.CustomStyle=h;d.RenderingCancelledException=s;d.addLinkAttributes=
function(a,c){var b=c&&c.url;a.href=a.title=b?(0,m.removeNullCharacters)(b):"";b&&(b=c.target,"undefined"===typeof b&&(b=k("externalLinkTarget")),a.target=t[b],b=c.rel,"undefined"===typeof b&&(b=k("externalLinkRel")),a.rel=b)};d.isExternalLinkTargetSet=function(){switch(k("externalLinkTarget")){case o.NONE:return!1;case o.SELF:case o.BLANK:case o.PARENT:case o.TOP:return!0}};d.getFilenameFromUrl=function(a){var c=a.indexOf("#"),b=a.indexOf("?"),c=Math.min(0<c?c:a.length,0<b?b:a.length);return a.substring(a.lastIndexOf("/",
c)+1,c)};d.LinkTarget=o;d.getDefaultSetting=k;d.DEFAULT_LINK_REL=r;d.DOMCanvasFactory=f;d.DOMCMapReaderFactory=b;d.DOMSVGFactory=j;d.SimpleXMLParser=v;d.StatTimer=i;d.DummyStatTimer=p},function(f,d,b){var l=b(15),k=b(25);f.exports=b(12)?function(b,d,a){return l.f(b,d,k(1,a))}:function(b,d,a){b[d]=a;return b}},function(f,d,b){f.exports=!b(13)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(f){f.exports=function(d){try{return!!d()}catch(b){return!0}}},function(f){f.exports=
"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof global&&global.Math===Math?global:"undefined"!==typeof self&&self.Math===Math?self:{}},function(f,d,b){var l=b(6),k=b(39),g=b(40),m=Object.defineProperty;d.f=b(12)?Object.defineProperty:function(a,b,d){l(a);b=g(b,!0);l(d);if(k)try{return m(a,b,d)}catch(q){}if("get"in d||"set"in d)throw TypeError("Accessors not supported!");"value"in d&&(a[b]=d.value);return a}},function(f){f.exports=function(d){if("function"!=typeof d)throw TypeError(d+
" is not a function!");return d}},function(f,d,b){var l=b(26),k=b(27);f.exports=function(b){return l(k(b))}},function(f){var d={}.toString;f.exports=function(b){return d.call(b).slice(8,-1)}},function(f){f.exports={}},function(f){var d=0,b=Math.random();f.exports=function(l){return"Symbol(".concat(void 0===l?"":l,")_",(++d+b).toString(36))}},function(f,d,b){var l=b(67),k=b(43);f.exports=Object.keys||function(b){return l(b,k)}},function(f,d,b){var l=b(15).f,k=b(7),g=b(2)("toStringTag");f.exports=function(b,
a,d){b&&!k(b=d?b:b.prototype,g)&&l(b,g,{configurable:!0,value:a})}},function(f,d,b){var l=b(9),k=b(86),g=b(87),m=b(6),a=b(28),r=b(88),j={},q={},f=f.exports=function(b,d,s,o,t){var t=t?function(){return b}:r(b),s=l(s,o,d?2:1),o=0,i,p;if("function"!=typeof t)throw TypeError(b+" is not iterable!");if(g(t))for(i=a(b.length);i>o;o++){if(t=d?s(m(p=b[o])[0],p[1]):s(b[o]),t===j||t===q)return t}else for(o=t.call(b);!(p=o.next()).done;)if(t=k(o,s,p.value,d),t===j||t===q)return t};f.BREAK=j;f.RETURN=q},function(f,
d,b){var d=b(1),l=b(3).document,k=d(l)&&d(l.createElement);f.exports=function(b){return k?l.createElement(b):{}}},function(f){f.exports=function(d,b){return{enumerable:!(d&1),configurable:!(d&2),writable:!(d&4),value:b}}},function(f,d,b){var l=b(18);f.exports=Object("z").propertyIsEnumerable(0)?Object:function(b){return"String"==l(b)?b.split(""):Object(b)}},function(f){f.exports=function(d){if(void 0==d)throw TypeError("Can't call method on  "+d);return d}},function(f,d,b){var l=b(29),k=Math.min;
f.exports=function(b){return 0<b?k(l(b),9007199254740991):0}},function(f){var d=Math.ceil,b=Math.floor;f.exports=function(l){return isNaN(l=+l)?0:(0<l?b:d)(l)}},function(f,d,b){var l=b(42)("keys"),k=b(20);f.exports=function(b){return l[b]||(l[b]=k(b))}},function(f,d){d.f={}.propertyIsEnumerable},function(f,d,b){var l=b(18),k=b(2)("toStringTag"),g="Arguments"==l(function(){return arguments}());f.exports=function(b){var a,d;if(void 0===b)a="Undefined";else{var j;if(null===b)j="Null";else{var q=b=Object(b);
try{j=q[k]}catch(v){}j="string"==typeof(a=j)?a:g?l(b):"Object"==(d=l(b))&&"function"==typeof b.callee?"Arguments":d}a=j}return a}},function(f,d,b){var l=b(27);f.exports=function(b){return Object(l(b))}},function(f){f.exports=function(d,b,l,k){if(!(d instanceof b)||void 0!==k&&k in d)throw TypeError(l+": incorrect invocation!");return d}},function(f,d,b){function l(b){var d,a;this.promise=new b(function(b,j){if(void 0!==d||void 0!==a)throw TypeError("Bad Promise constructor");d=b;a=j});this.resolve=
k(d);this.reject=k(a)}var k=b(16);f.exports.f=function(b){return new l(b)}},function(f,d,b){var l=b(8);f.exports=function(b,d,m){for(var a in d)l(b,a,d[a],m);return b}},function(f,d,b){var l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},k=b(20)("meta"),g=b(1),m=b(7),a=b(15).f,r=0,j=Object.isExtensible||function(){return!0},q=!b(13)(function(){return j(Object.preventExtensions({}))}),
v=function(b){a(b,k,{value:{i:"O"+ ++r,w:{}}})},h=f.exports={KEY:k,NEED:!1,fastKey:function(a,b){if(!g(a))return"symbol"==("undefined"===typeof a?"undefined":l(a))?a:("string"==typeof a?"S":"P")+a;if(!m(a,k)){if(!j(a))return"F";if(!b)return"E";v(a)}return a[k].i},getWeak:function(a,b){if(!m(a,k)){if(!j(a))return!0;if(!b)return!1;v(a)}return a[k].w},onFreeze:function(a){q&&(h.NEED&&j(a)&&!m(a,k))&&v(a);return a}}},function(f,d,b){Object.defineProperty(d,"__esModule",{value:!0});d.validateResponseStatus=
d.validateRangeRequestCapabilities=d.createResponseStatusError=void 0;var l=b(0);d.createResponseStatusError=function(b,d){return 404===b||0===b&&/^file:/.test(d)?new l.MissingPDFException('Missing PDF "'+d+'".'):new l.UnexpectedResponseException("Unexpected server response ("+b+') while retrieving PDF "'+d+'".',b)};d.validateRangeRequestCapabilities=function(b){var d=b.getResponseHeader,m=b.isHttp,a=b.rangeChunkSize,r=b.disableRange;(0,l.assert)(0<a);b={allowRangeRequests:!1,suggestedLength:void 0};
if(r||!m||"bytes"!==d("Accept-Ranges")||"identity"!==(d("Content-Encoding")||"identity"))return b;d=parseInt(d("Content-Length"),10);if(!Number.isInteger(d))return b;b.suggestedLength=d;if(d<=2*a)return b;b.allowRangeRequests=!0;return b};d.validateResponseStatus=function(b){return 200===b||206===b}},function(f,d,b){f.exports=!b(12)&&!b(13)(function(){return 7!=Object.defineProperty(b(24)("div"),"a",{get:function(){return 7}}).a})},function(f,d,b){var l=b(1);f.exports=function(b,d){if(!l(b))return b;
var m,a;if(d&&"function"==typeof(m=b.toString)&&!l(a=m.call(b))||"function"==typeof(m=b.valueOf)&&!l(a=m.call(b))||!d&&"function"==typeof(m=b.toString)&&!l(a=m.call(b)))return a;throw TypeError("Can't convert object to primitive value");}},function(f,d,b){var l=b(17),k=b(28),g=b(68);f.exports=function(b){return function(a,d,j){var a=l(a),q=k(a.length),j=g(j,q);if(b&&d!=d)for(;q>j;){if(d=a[j++],d!=d)return!0}else for(;q>j;j++)if((b||j in a)&&a[j]===d)return b||j||0;return!b&&-1}}},function(f,d,b){var d=
b(3),l=d["__core-js_shared__"]||(d["__core-js_shared__"]={});f.exports=function(b){return l[b]||(l[b]={})}},function(f){f.exports="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ")},function(f,d,b){var l=b(2)("unscopables"),k=Array.prototype;void 0==k[l]&&b(11)(k,l,{});f.exports=function(b){k[l][b]=!0}},function(f,d,b){var l=b(32),f={};f[b(2)("toStringTag")]="z";"[object z]"!=f+""&&b(8)(Object.prototype,"toString",function(){return"[object "+
l(this)+"]"},!0)},function(f,d,b){var l=b(47),k=b(4),g=b(8),m=b(11),a=b(7),r=b(19),j=b(79),q=b(22),v=b(82),h=b(2)("iterator"),s=!([].keys&&"next"in[].keys()),o=function(){return this};f.exports=function(b,i,d,B,c,e,f){j(d,i,B);var B=function(c){return!s&&c in A?A[c]:function(){return new d(this,c)}},w=i+" Iterator",C="values"==c,u=!1,A=b.prototype,F=A[h]||A["@@iterator"]||c&&A[c],I=F||B(c),K=c?!C?I:B("entries"):void 0,E="Array"==i?A.entries||F:F,H,L;E&&(b=v(E.call(new b)),b!==Object.prototype&&b.next&&
(q(b,w,!0),!l&&!a(b,h)&&m(b,h,o)));C&&(F&&"values"!==F.name)&&(u=!0,I=function(){return F.call(this)});(!l||f)&&(s||u||!A[h])&&m(A,h,I);r[i]=I;r[w]=o;if(c)if(H={values:C?I:B("values"),keys:e?I:B("keys"),entries:K},f)for(L in H)L in A||g(A,L,H[L]);else k(k.P+k.F*(s||u),i,H);return H}},function(f){f.exports=!1},function(f,d,b){d=b(3).document;f.exports=d&&d.documentElement},function(f,d,b){for(var f=b(83),l=b(21),d=b(8),k=b(3),g=b(11),m=b(19),a=b(2),b=a("iterator"),a=a("toStringTag"),r=m.Array,j={CSSRuleList:!0,
CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,
TouchList:!1},l=l(j),q=0;q<l.length;q++){var v=l[q],h=j[v],s=k[v],s=s&&s.prototype,o;if(s&&(s[b]||g(s,b,r),s[a]||g(s,a,v),m[v]=r,h))for(o in f)s[o]||d(s,o,f[o],!0)}},function(f,d,b){var l=b(6),k=b(16),g=b(2)("species");f.exports=function(b,a){var d=l(b).constructor,j;return void 0===d||void 0==(j=l(d)[g])?a:k(j)}},function(f,d,b){var l=b(9),k=b(89),g=b(48),m=b(24),a=b(3),r=a.process,d=a.setImmediate,j=a.clearImmediate,q=a.MessageChannel,v=a.Dispatch,h=0,s={},o,t=function(){var a=+this;if(s.hasOwnProperty(a)){var b=
s[a];delete s[a];b()}},i=function(a){t.call(a.data)};if(!d||!j)d=function(a){for(var b=[],c=1;arguments.length>c;)b.push(arguments[c++]);s[++h]=function(){k("function"==typeof a?a:Function(a),b)};o(h);return h},j=function(a){delete s[a]},"process"==b(18)(r)?o=function(a){r.nextTick(l(t,a,1))}:v&&v.now?o=function(a){v.now(l(t,a,1))}:q?(b=new q,q=b.port2,b.port1.onmessage=i,o=l(q.postMessage,q,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts?(o=function(b){a.postMessage(b+"",
"*")},a.addEventListener("message",i,!1)):o="onreadystatechange"in m("script")?function(a){g.appendChild(m("script")).onreadystatechange=function(){g.removeChild(this);t.call(a)}}:function(a){setTimeout(l(t,a,1),0)};f.exports={set:d,clear:j}},function(f){f.exports=function(d){try{return{e:!1,v:d()}}catch(b){return{e:!0,v:b}}}},function(f,d,b){var l=b(6),k=b(1),g=b(35);f.exports=function(b,a){l(b);if(k(a)&&a.constructor===b)return a;var d=g.f(b),j=d.resolve;j(a);return d.promise}},function(f,d,b){var l=
b(2)("iterator"),k=!1;try{var g=[7][l]();g["return"]=function(){k=!0};Array.from(g,function(){throw 2;})}catch(m){}f.exports=function(a,b){if(!b&&!k)return!1;var d=!1;try{var g=[7],m=g[l]();m.next=function(){return{done:d=!0}};g[l]=function(){return m};a(g)}catch(h){}return d}},function(f,d,b){var l=b(9),k=b(26),g=b(33),m=b(28),a=b(96);f.exports=function(b,d){var q=1==b,v=2==b,h=3==b,s=4==b,o=6==b,t=5==b||o,i=d||a;return function(a,d,c){for(var e=g(a),j=k(e),d=l(d,c,3),c=m(j.length),f=0,a=q?i(a,c):
v?i(a,0):void 0,C,u;c>f;f++)if(t||f in j)if(C=j[f],u=d(C,f,e),b)if(q)a[f]=u;else if(u)switch(b){case 3:return!0;case 5:return C;case 6:return f;case 2:a.push(C)}else if(s)return!1;return o?-1:h||s?s:a}}},function(f,d,b){var l=b(1);f.exports=function(b,d){if(!l(b)||b._t!==d)throw TypeError("Incompatible receiver, "+d+" required!");return b}},function(f,d,b){function l(c,b,e,d){if(c.destroyed)return Promise.reject(Error("Worker was destroyed"));b.disableRange=(0,a.getDefaultSetting)("disableRange");
b.disableAutoFetch=(0,a.getDefaultSetting)("disableAutoFetch");b.disableStream=(0,a.getDefaultSetting)("disableStream");e&&(b.length=e.length,b.initialData=e.initialData);return c.messageHandler.sendWithPromise("GetDocRequest",{docId:d,apiVersion:"2.0.191",source:{data:b.data,url:b.url,password:b.password,disableAutoFetch:b.disableAutoFetch,rangeChunkSize:b.rangeChunkSize,length:b.length},maxImageSize:(0,a.getDefaultSetting)("maxImageSize"),disableFontFace:(0,a.getDefaultSetting)("disableFontFace"),
disableCreateObjectURL:(0,a.getDefaultSetting)("disableCreateObjectURL"),postMessageTransfers:(0,a.getDefaultSetting)("postMessageTransfers")&&!i,docBaseUrl:b.docBaseUrl,nativeImageDecoderSupport:b.nativeImageDecoderSupport,ignoreErrors:b.ignoreErrors,isEvalSupported:(0,a.getDefaultSetting)("isEvalSupported")}).then(function(a){if(c.destroyed)throw Error("Worker was destroyed");return a})}Object.defineProperty(d,"__esModule",{value:!0});d.build=d.version=d.setPDFNetworkStreamClass=d.PDFPageProxy=
d.PDFDocumentProxy=d.PDFWorker=d.PDFDataRangeTransport=d.LoopbackPort=d.getDocument=void 0;var k=function(){function c(a,b){for(var i=0;i<b.length;i++){var e=b[i];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(a,b,i){b&&c(a.prototype,b);i&&c(a,i);return a}}(),g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&
c!==Symbol.prototype?"symbol":typeof c},m=b(0),a=b(10),r=b(113),j=b(114),q=(f=b(14))&&f.__esModule?f:{"default":f},v=b(58),h=b(116),s=b(117),o=!1,t,i=!1,p="undefined"!==typeof document&&document.currentScript?document.currentScript.src:null,B=null,b=!1;"undefined"===typeof window?(o=!0,"undefined"===typeof require.ensure&&(require.ensure=require("node-ensure")),b=!0):"undefined"!==typeof require&&"function"===typeof require.ensure&&(b=!0);"undefined"!==typeof requirejs&&requirejs.toUrl&&(t=requirejs.toUrl("pdfjs-dist/build/pdf.worker.js"));
var f="undefined"!==typeof requirejs&&requirejs.load,B=b?function(c){require.ensure([],function(){var a;a=require("./pdf.worker.js");c(a.WorkerMessageHandler)})}:f?function(c){requirejs(["pdfjs-dist/build/pdf.worker"],function(a){c(a.WorkerMessageHandler)})}:null,c,e=function(){function c(){this._capability=(0,m.createPromiseCapability)();this._worker=this._transport=null;this.docId="d"+a++;this.destroyed=false;this.onUnsupportedFeature=this.onProgress=this.onPassword=null}var a=0;c.prototype={get promise(){return this._capability.promise},
destroy:function(){var c=this;this.destroyed=true;return(!this._transport?Promise.resolve():this._transport.destroy()).then(function(){c._transport=null;if(c._worker){c._worker.destroy();c._worker=null}})},then:function(c,a){return this.promise.then.apply(this.promise,arguments)}};return c}(),z=function(){function c(a,b){this.length=a;this.initialData=b;this._rangeListeners=[];this._progressListeners=[];this._progressiveReadListeners=[];this._readyCapability=(0,m.createPromiseCapability)()}c.prototype=
{addRangeListener:function(c){this._rangeListeners.push(c)},addProgressListener:function(c){this._progressListeners.push(c)},addProgressiveReadListener:function(c){this._progressiveReadListeners.push(c)},onDataRange:function(c,a){for(var b=this._rangeListeners,i=0,n=b.length;i<n;++i)b[i](c,a)},onDataProgress:function(c){var a=this;this._readyCapability.promise.then(function(){for(var b=a._progressListeners,i=0,n=b.length;i<n;++i)b[i](c)})},onDataProgressiveRead:function(c){var a=this;this._readyCapability.promise.then(function(){for(var b=
a._progressiveReadListeners,i=0,n=b.length;i<n;++i)b[i](c)})},transportReady:function(){this._readyCapability.resolve()},requestDataRange:function(){throw Error("Abstract method PDFDataRangeTransport.requestDataRange");},abort:function(){}};return c}(),w=function(){function c(a,b,i){this.pdfInfo=a;this.transport=b;this.loadingTask=i}c.prototype={get numPages(){return this.pdfInfo.numPages},get fingerprint(){return this.pdfInfo.fingerprint},getPage:function(c){return this.transport.getPage(c)},getPageIndex:function(c){return this.transport.getPageIndex(c)},
getDestinations:function(){return this.transport.getDestinations()},getDestination:function(c){return this.transport.getDestination(c)},getPageLabels:function(){return this.transport.getPageLabels()},getPageMode:function(){return this.transport.getPageMode()},getAttachments:function(){return this.transport.getAttachments()},getJavaScript:function(){return this.transport.getJavaScript()},getOutline:function(){return this.transport.getOutline()},getMetadata:function(){return this.transport.getMetadata()},
getData:function(){return this.transport.getData()},getDownloadInfo:function(){return this.transport.downloadInfoCapability.promise},getStats:function(){return this.transport.getStats()},cleanup:function(){this.transport.startCleanup()},destroy:function(){return this.loadingTask.destroy()}};return c}(),C=function(){function c(b,i,e){this.pageIndex=b;this.pageInfo=i;this.transport=e;this._stats=(0,a.getDefaultSetting)("enableStats")?new a.StatTimer:a.DummyStatTimer;this.commonObjs=e.commonObjs;this.objs=
new I;this.pendingCleanup=this.cleanupAfterRender=false;this.intentStates=Object.create(null);this.destroyed=false}c.prototype={get pageNumber(){return this.pageIndex+1},get rotate(){return this.pageInfo.rotate},get ref(){return this.pageInfo.ref},get userUnit(){return this.pageInfo.userUnit},get view(){return this.pageInfo.view},getViewport:function(c,a){if(arguments.length<2)a=this.rotate;return new m.PageViewport(this.view,c,a,0,0)},getAnnotations:function(c){c=c&&c.intent||null;if(!this.annotationsPromise||
this.annotationsIntent!==c){this.annotationsPromise=this.transport.getAnnotations(this.pageIndex,c);this.annotationsIntent=c}return this.annotationsPromise},render:function(c){var b=this,i=this._stats;i.time("Overall");this.pendingCleanup=false;var e=c.intent==="print"?"print":"display",n=c.canvasFactory||new a.DOMCanvasFactory,d=new s.WebGLContext({enable:!(0,a.getDefaultSetting)("disableWebGL")});this.intentStates[e]||(this.intentStates[e]=Object.create(null));var p=this.intentStates[e];if(!p.displayReadyCapability){p.receivingOperatorList=
true;p.displayReadyCapability=(0,m.createPromiseCapability)();p.operatorList={fnArray:[],argsArray:[],lastChunk:false};i.time("Page Request");this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1,intent:e,renderInteractiveForms:c.renderInteractiveForms===true})}var j=function(c){var a=p.renderTasks.indexOf(h);a>=0&&p.renderTasks.splice(a,1);if(b.cleanupAfterRender)b.pendingCleanup=true;b._tryCleanup();c?h.capability.reject(c):h.capability.resolve();i.timeEnd("Rendering");
i.timeEnd("Overall")},h=new E(j,c,this.objs,this.commonObjs,p.operatorList,this.pageNumber,n,d);h.useRequestAnimationFrame=e!=="print";if(!p.renderTasks)p.renderTasks=[];p.renderTasks.push(h);c=h.task;p.displayReadyCapability.promise.then(function(c){if(b.pendingCleanup)j();else{i.time("Rendering");h.initializeGraphics(c);h.operatorListChanged()}}).catch(j);return c},getOperatorList:function(){function c(){if(a.operatorList.lastChunk){a.opListReadCapability.resolve(a.operatorList);var i=a.renderTasks.indexOf(b);
i>=0&&a.renderTasks.splice(i,1)}}this.intentStates.oplist||(this.intentStates.oplist=Object.create(null));var a=this.intentStates.oplist,b;if(!a.opListReadCapability){b={};b.operatorListChanged=c;a.receivingOperatorList=true;a.opListReadCapability=(0,m.createPromiseCapability)();a.renderTasks=[];a.renderTasks.push(b);a.operatorList={fnArray:[],argsArray:[],lastChunk:false};this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageIndex,intent:"oplist"})}return a.opListReadCapability.promise},
streamTextContent:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this.pageNumber-1,normalizeWhitespace:c.normalizeWhitespace===true,combineTextItems:c.disableCombineTextItems!==true},{highWaterMark:100,size:function(c){return c.items.length}})},getTextContent:function(c){var c=c||{},a=this.streamTextContent(c);return new Promise(function(c,b){function i(){e.read().then(function(a){var b=a.value;
if(a.done)c(d);else{m.Util.extendObj(d.styles,b.styles);m.Util.appendToArray(d.items,b.items);i()}},b)}var e=a.getReader(),d={items:[],styles:Object.create(null)};i()})},_destroy:function(){this.destroyed=true;this.transport.pageCache[this.pageIndex]=null;var c=[];Object.keys(this.intentStates).forEach(function(a){a!=="oplist"&&this.intentStates[a].renderTasks.forEach(function(a){var b=a.capability.promise.catch(function(){});c.push(b);a.cancel()})},this);this.objs.clear();this.annotationsPromise=
null;this.pendingCleanup=false;return Promise.all(c)},cleanup:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:false;this.pendingCleanup=true;this._tryCleanup(c)},_tryCleanup:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:false;if(this.pendingCleanup&&!Object.keys(this.intentStates).some(function(c){c=this.intentStates[c];return c.renderTasks.length!==0||c.receivingOperatorList},this)){Object.keys(this.intentStates).forEach(function(c){delete this.intentStates[c]},
this);this.objs.clear();this.annotationsPromise=null;c&&this._stats.reset();this.pendingCleanup=false}},_startRenderPage:function(c,a){var b=this.intentStates[a];b.displayReadyCapability&&b.displayReadyCapability.resolve(c)},_renderPageChunk:function(c,a){var b=this.intentStates[a],i,n;i=0;for(n=c.length;i<n;i++){b.operatorList.fnArray.push(c.fnArray[i]);b.operatorList.argsArray.push(c.argsArray[i])}b.operatorList.lastChunk=c.lastChunk;for(i=0;i<b.renderTasks.length;i++)b.renderTasks[i].operatorListChanged();
if(c.lastChunk){b.receivingOperatorList=false;this._tryCleanup()}},get stats(){return this._stats instanceof a.StatTimer?this._stats:null}};return c}(),u=function(){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this._listeners=[];this._defer=a;this._deferred=Promise.resolve(void 0)}k(c,[{key:"postMessage",value:function(c,a){function b(c){if((typeof c==="undefined"?"undefined":g(c))!=="object"||c===null)return c;if(n.has(c))return n.get(c);var i;if((i=
c.buffer)&&(0,m.isArrayBuffer)(i)){var e=a&&a.indexOf(i)>=0;i=c===i?c:e?new c.constructor(i,c.byteOffset,c.byteLength):new c.constructor(c);n.set(c,i);return i}i=Array.isArray(c)?[]:{};n.set(c,i);for(e in c){for(var d,p=c;!(d=Object.getOwnPropertyDescriptor(p,e));)p=Object.getPrototypeOf(p);typeof d.value==="undefined"||typeof d.value==="function"||(i[e]=b(d.value))}return i}var i=this;if(this._defer){var n=new WeakMap,e={data:b(c)};this._deferred.then(function(){i._listeners.forEach(function(c){c.call(this,
e)},i)})}else this._listeners.forEach(function(a){a.call(this,{data:c})},this)}},{key:"addEventListener",value:function(c,a){this._listeners.push(a)}},{key:"removeEventListener",value:function(c,a){this._listeners.splice(this._listeners.indexOf(a),1)}},{key:"terminate",value:function(){this._listeners=[]}}]);return c}(),A=function(){function c(){if(typeof t!=="undefined")return t;if((0,a.getDefaultSetting)("workerSrc"))return(0,a.getDefaultSetting)("workerSrc");if(p)return p.replace(/(\.(?:min\.)?js)(\?.*)?$/i,
".worker$1$2");throw Error("No PDFJS.workerSrc specified");}function b(){if(n)return n.promise;n=(0,m.createPromiseCapability)();(B||function(a){m.Util.loadScript(c(),function(){a(window.pdfjsDistBuildPdfWorker.WorkerMessageHandler)})})(n.resolve);return n.promise}function e(c){return URL.createObjectURL(new Blob(["importScripts('"+c+"');"]))}function d(c,a){if(a&&J.has(a))throw Error("Cannot use more than one PDFWorker per port");this.name=c;this.destroyed=false;this.postMessageTransfers=true;this._readyCapability=
(0,m.createPromiseCapability)();this._messageHandler=this._webWorker=this._port=null;if(a){J.set(a,this);this._initializeFromPort(a)}else this._initialize()}var j=0,n=void 0,J=new WeakMap;d.prototype={get promise(){return this._readyCapability.promise},get port(){return this._port},get messageHandler(){return this._messageHandler},_initializeFromPort:function(c){this._port=c;this._messageHandler=new m.MessageHandler("main","worker",c);this._messageHandler.on("ready",function(){});this._readyCapability.resolve()},
_initialize:function(){var b=this;if(!o&&!(0,a.getDefaultSetting)("disableWorker")&&typeof Worker!=="undefined"){var n=c();try{if(!(0,m.isSameOrigin)(window.location.href,n))n=e((new URL(n,window.location)).href);var d=new Worker(n),p=new m.MessageHandler("main","worker",d),j=function(){d.removeEventListener("error",J);p.destroy();d.terminate();b.destroyed?b._readyCapability.reject(Error("Worker was destroyed")):b._setupFakeWorker()},J=function(){b._webWorker||j()};d.addEventListener("error",J);p.on("test",
function(c){d.removeEventListener("error",J);if(b.destroyed)j();else if(c&&c.supportTypedArray){b._messageHandler=p;b._port=d;b._webWorker=d;if(!c.supportTransfers){b.postMessageTransfers=false;i=true}b._readyCapability.resolve();p.send("configure",{verbosity:(0,m.getVerbosityLevel)()})}else{b._setupFakeWorker();p.destroy();d.terminate()}});p.on("ready",function(){d.removeEventListener("error",J);if(b.destroyed)j();else try{h()}catch(c){b._setupFakeWorker()}});var h=function(){var c=(0,a.getDefaultSetting)("postMessageTransfers")&&
!i,c=new Uint8Array([c?255:0]);try{p.send("test",c,[c.buffer])}catch(b){(0,m.info)("Cannot use postMessage transfers");c[0]=0;p.send("test",c)}};h();return}catch(g){(0,m.info)("The worker has been disabled.")}}this._setupFakeWorker()},_setupFakeWorker:function(){var c=this;if(!o&&!(0,a.getDefaultSetting)("disableWorker")){(0,m.warn)("Setting up fake worker.");o=true}b().then(function(a){if(c.destroyed)c._readyCapability.reject(Error("Worker was destroyed"));else{var b=new u(Uint8Array!==Float32Array);
c._port=b;var i="fake"+j++,n=new m.MessageHandler(i+"_worker",i,b);a.setup(n,b);a=new m.MessageHandler(i,i+"_worker",b);c._messageHandler=a;c._readyCapability.resolve()}})},destroy:function(){this.destroyed=true;if(this._webWorker){this._webWorker.terminate();this._webWorker=null}J.delete(this._port);this._port=null;if(this._messageHandler){this._messageHandler.destroy();this._messageHandler=null}}};d.fromPort=function(c){return J.has(c)?J.get(c):new d(null,c)};return d}(),F=function(){function c(b,
i,e,d){this.messageHandler=b;this.loadingTask=i;this.commonObjs=new I;this.fontLoader=new r.FontLoader(i.docId);this.CMapReaderFactory=new d({baseUrl:(0,a.getDefaultSetting)("cMapUrl"),isCompressed:(0,a.getDefaultSetting)("cMapPacked")});this.destroyed=false;this._passwordCapability=this.destroyCapability=null;this._networkStream=e;this._lastProgress=this._fullReader=null;this.pageCache=[];this.pagePromises=[];this.downloadInfoCapability=(0,m.createPromiseCapability)();this.setupMessageHandler()}
c.prototype={destroy:function(){var c=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=true;this.destroyCapability=(0,m.createPromiseCapability)();this._passwordCapability&&this._passwordCapability.reject(Error("Worker was destroyed during onPassword callback"));var a=[];this.pageCache.forEach(function(c){c&&a.push(c._destroy())});this.pageCache=[];this.pagePromises=[];var b=this.messageHandler.sendWithPromise("Terminate",null);a.push(b);Promise.all(a).then(function(){c.fontLoader.clear();
c._networkStream&&c._networkStream.cancelAllRequests();if(c.messageHandler){c.messageHandler.destroy();c.messageHandler=null}c.destroyCapability.resolve()},this.destroyCapability.reject);return this.destroyCapability.promise},setupMessageHandler:function(){var c=this.messageHandler,b=this.loadingTask;c.on("GetReader",function(c,a){var b=this;(0,m.assert)(this._networkStream);this._fullReader=this._networkStream.getFullReader();this._fullReader.onProgress=function(c){b._lastProgress={loaded:c.loaded,
total:c.total}};a.onPull=function(){b._fullReader.read().then(function(c){var b=c.value;if(c.done)a.close();else{(0,m.assert)((0,m.isArrayBuffer)(b));a.enqueue(new Uint8Array(b),1,[b])}}).catch(function(c){a.error(c)})};a.onCancel=function(c){b._fullReader.cancel(c)}},this);c.on("ReaderHeadersReady",function(){var c=this,a=(0,m.createPromiseCapability)(),b=this._fullReader;b.headersReady.then(function(){if(!b.isStreamingSupported||!b.isRangeSupported){if(c._lastProgress){var i=c.loadingTask;if(i.onProgress)i.onProgress(c._lastProgress)}b.onProgress=
function(a){var b=c.loadingTask;if(b.onProgress)b.onProgress({loaded:a.loaded,total:a.total})}}a.resolve({isStreamingSupported:b.isStreamingSupported,isRangeSupported:b.isRangeSupported,contentLength:b.contentLength})},a.reject);return a.promise},this);c.on("GetRangeReader",function(c,a){(0,m.assert)(this._networkStream);var b=this._networkStream.getRangeReader(c.begin,c.end);a.onPull=function(){b.read().then(function(c){var b=c.value;if(c.done)a.close();else{(0,m.assert)((0,m.isArrayBuffer)(b));
a.enqueue(new Uint8Array(b),1,[b])}}).catch(function(c){a.error(c)})};a.onCancel=function(c){b.cancel(c)}},this);c.on("GetDoc",function(c){var a=c.pdfInfo;this.numPages=c.pdfInfo.numPages;c=this.loadingTask;this.pdfDocument=a=new w(a,this,c);c._capability.resolve(a)},this);c.on("PasswordRequest",function(c){var a=this;this._passwordCapability=(0,m.createPromiseCapability)();if(b.onPassword)b.onPassword(function(c){a._passwordCapability.resolve({password:c})},c.code);else this._passwordCapability.reject(new m.PasswordException(c.message,
c.code));return this._passwordCapability.promise},this);c.on("PasswordException",function(c){b._capability.reject(new m.PasswordException(c.message,c.code))},this);c.on("InvalidPDF",function(c){this.loadingTask._capability.reject(new m.InvalidPDFException(c.message))},this);c.on("MissingPDF",function(c){this.loadingTask._capability.reject(new m.MissingPDFException(c.message))},this);c.on("UnexpectedResponse",function(c){this.loadingTask._capability.reject(new m.UnexpectedResponseException(c.message,
c.status))},this);c.on("UnknownError",function(c){this.loadingTask._capability.reject(new m.UnknownErrorException(c.message,c.details))},this);c.on("DataLoaded",function(c){this.downloadInfoCapability.resolve(c)},this);c.on("PDFManagerReady",function(){},this);c.on("StartRenderPage",function(c){if(!this.destroyed){var a=this.pageCache[c.pageIndex];a._stats.timeEnd("Page Request");a._startRenderPage(c.transparency,c.intent)}},this);c.on("RenderPageChunk",function(c){this.destroyed||this.pageCache[c.pageIndex]._renderPageChunk(c.operatorList,
c.intent)},this);c.on("commonobj",function(c){var b=this;if(!this.destroyed){var i=c[0],e=c[1];if(!this.commonObjs.hasData(i))switch(e){case "Font":c=c[2];if("error"in c){c=c.error;(0,m.warn)("Error during font loading: "+c);this.commonObjs.resolve(i,c);break}e=null;if((0,a.getDefaultSetting)("pdfBug")&&q.default.FontInspector&&q.default.FontInspector.enabled)e={registerFont:function(c,a){q.default.FontInspector.fontAdded(c,a)}};var d=new r.FontFaceObject(c,{isEvalSupported:(0,a.getDefaultSetting)("isEvalSupported"),
disableFontFace:(0,a.getDefaultSetting)("disableFontFace"),fontRegistry:e});this.fontLoader.bind([d],function(){b.commonObjs.resolve(i,d)});break;case "FontPath":this.commonObjs.resolve(i,c[2]);break;default:throw Error("Got unknown common object type "+e);}}},this);c.on("obj",function(c){if(!this.destroyed){var a=c[0],b=c[2],i=this.pageCache[c[1]];if(!i.objs.hasData(a))switch(b){case "JpegStream":c=c[3];(0,m.loadJpegStream)(a,c,i.objs);break;case "Image":c=c[3];i.objs.resolve(a,c);if(c&&"data"in
c&&c.data.length>8E6)i.cleanupAfterRender=true;break;default:throw Error("Got unknown object type "+b);}}},this);c.on("DocProgress",function(c){if(!this.destroyed){var a=this.loadingTask;if(a.onProgress)a.onProgress({loaded:c.loaded,total:c.total})}},this);c.on("PageError",function(c){if(!this.destroyed){var a=this.pageCache[c.pageNum-1].intentStates[c.intent];if(a.displayReadyCapability)a.displayReadyCapability.reject(c.error);else throw Error(c.error);if(a.operatorList){a.operatorList.lastChunk=
true;for(c=0;c<a.renderTasks.length;c++)a.renderTasks[c].operatorListChanged()}}},this);c.on("UnsupportedFeature",function(c){if(!this.destroyed){var a=this.loadingTask;if(a.onUnsupportedFeature)a.onUnsupportedFeature(c.featureId)}},this);c.on("JpegDecode",function(c){if(this.destroyed)return Promise.reject(Error("Worker was destroyed"));if(typeof document==="undefined")return Promise.reject(Error('"document" is not defined.'));var a=c[0],b=c[1];return b!==3&&b!==1?Promise.reject(Error("Only 3 components or 1 component can be returned")):
new Promise(function(c,i){var e=new Image;e.onload=function(){var a=e.width,i=e.height,d=a*i,p=d*4,d=new Uint8Array(d*b),j=document.createElement("canvas");j.width=a;j.height=i;j=j.getContext("2d");j.drawImage(e,0,0);var j=j.getImageData(0,0,a,i).data,h,g;if(b===3)for(g=h=0;h<p;h=h+4,g=g+3){d[g]=j[h];d[g+1]=j[h+1];d[g+2]=j[h+2]}else if(b===1)for(g=h=0;h<p;h=h+4,g++)d[g]=j[h];c({data:d,width:a,height:i})};e.onerror=function(){i(Error("JpegDecode failed to load image"))};e.src=a})},this);c.on("FetchBuiltInCMap",
function(c){return this.destroyed?Promise.reject(Error("Worker was destroyed")):this.CMapReaderFactory.fetch({name:c.name})},this)},getData:function(){return this.messageHandler.sendWithPromise("GetData",null)},getPage:function(c){var a=this;if(!Number.isInteger(c)||c<=0||c>this.numPages)return Promise.reject(Error("Invalid page request"));var b=c-1;if(b in this.pagePromises)return this.pagePromises[b];c=this.messageHandler.sendWithPromise("GetPage",{pageIndex:b}).then(function(c){if(a.destroyed)throw Error("Transport destroyed");
c=new C(b,c,a);return a.pageCache[b]=c});return this.pagePromises[b]=c},getPageIndex:function(c){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:c}).catch(function(c){return Promise.reject(Error(c))})},getAnnotations:function(c,a){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:c,intent:a})},getDestinations:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)},getDestination:function(c){return this.messageHandler.sendWithPromise("GetDestination",
{id:c})},getPageLabels:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)},getPageMode:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)},getAttachments:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)},getJavaScript:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)},getOutline:function(){return this.messageHandler.sendWithPromise("GetOutline",null)},getMetadata:function(){return this.messageHandler.sendWithPromise("GetMetadata",
null).then(function(c){return{info:c[0],metadata:c[1]?new v.Metadata(c[1]):null}})},getStats:function(){return this.messageHandler.sendWithPromise("GetStats",null)},startCleanup:function(){var c=this;this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var a=0,b=c.pageCache.length;a<b;a++){var i=c.pageCache[a];i&&i.cleanup()}c.commonObjs.clear();c.fontLoader.clear()})}};return c}(),I=function(){function c(){this.objs=Object.create(null)}c.prototype={ensureObj:function(c){if(this.objs[c])return this.objs[c];
var a={capability:(0,m.createPromiseCapability)(),data:null,resolved:false};return this.objs[c]=a},get:function(c,a){if(a){this.ensureObj(c).capability.promise.then(a);return null}var b=this.objs[c];if(!b||!b.resolved)throw Error("Requesting object that isn't resolved yet "+c);return b.data},resolve:function(c,a){var b=this.ensureObj(c);b.resolved=true;b.data=a;b.capability.resolve(a)},isResolved:function(c){var a=this.objs;return!a[c]?false:a[c].resolved},hasData:function(c){return this.isResolved(c)},
getData:function(c){var a=this.objs;return!a[c]||!a[c].resolved?null:a[c].data},clear:function(){this.objs=Object.create(null)}};return c}(),K=function(){function c(a){this._internalRenderTask=a;this.onContinue=null}c.prototype={get promise(){return this._internalRenderTask.capability.promise},cancel:function(){this._internalRenderTask.cancel()},then:function(c,a){return this.promise.then.apply(this.promise,arguments)}};return c}(),E=function(){function c(a,b,i,e,d,p,j,h){this.callback=a;this.params=
b;this.objs=i;this.commonObjs=e;this.operatorListIdx=null;this.operatorList=d;this.pageNumber=p;this.canvasFactory=j;this.webGLContext=h;this.running=false;this.graphicsReadyCallback=null;this.cancelled=this.useRequestAnimationFrame=this.graphicsReady=false;this.capability=(0,m.createPromiseCapability)();this.task=new K(this);this._continueBound=this._continue.bind(this);this._scheduleNextBound=this._scheduleNext.bind(this);this._nextBound=this._next.bind(this);this._canvas=b.canvasContext.canvas}
var b=new WeakMap;c.prototype={initializeGraphics:function(c){if(this._canvas){if(b.has(this._canvas))throw Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");b.set(this._canvas,this)}if(!this.cancelled){if((0,a.getDefaultSetting)("pdfBug")&&q.default.StepperManager&&q.default.StepperManager.enabled){this.stepper=q.default.StepperManager.create(this.pageNumber-1);this.stepper.init(this.operatorList);
this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint()}var i=this.params;this.gfx=new j.CanvasGraphics(i.canvasContext,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,i.imageLayer);this.gfx.beginDrawing({transform:i.transform,viewport:i.viewport,transparency:c,background:i.background});this.operatorListIdx=0;this.graphicsReady=true;this.graphicsReadyCallback&&this.graphicsReadyCallback()}},cancel:function(){this.running=false;this.cancelled=true;this._canvas&&b.delete(this._canvas);
this.callback(new a.RenderingCancelledException("Rendering cancelled, page "+this.pageNumber,"canvas"))},operatorListChanged:function(){if(this.graphicsReady){this.stepper&&this.stepper.updateOperatorList(this.operatorList);this.running||this._continue()}else if(!this.graphicsReadyCallback)this.graphicsReadyCallback=this._continueBound},_continue:function(){this.running=true;if(!this.cancelled)if(this.task.onContinue)this.task.onContinue(this._scheduleNextBound);else this._scheduleNext()},_scheduleNext:function(){this.useRequestAnimationFrame&&
typeof window!=="undefined"?window.requestAnimationFrame(this._nextBound):Promise.resolve(void 0).then(this._nextBound)},_next:function(){if(!this.cancelled){this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper);if(this.operatorListIdx===this.operatorList.argsArray.length){this.running=false;if(this.operatorList.lastChunk){this.gfx.endDrawing();this._canvas&&b.delete(this._canvas);this.callback()}}}}};return c}();d.version="2.0.191";
d.build="694c4171";d.getDocument=function(b){var i=new e;if(typeof b==="string")b={url:b};else if((0,m.isArrayBuffer)(b))b={data:b};else if(b instanceof z)b={range:b};else{if((typeof b==="undefined"?"undefined":g(b))!=="object")throw Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!b.url&&!b.data&&!b.range)throw Error("Invalid parameter object: need either .data, .range or .url");}var d={},p=null,j=null,n=a.DOMCMapReaderFactory,J;for(J in b)if(J===
"url"&&typeof window!=="undefined")d[J]=(new URL(b[J],window.location)).href;else if(J==="range")p=b[J];else if(J==="worker")j=b[J];else if(J==="data"&&!(b[J]instanceof Uint8Array)){var u=b[J];if(typeof u==="string")d[J]=(0,m.stringToBytes)(u);else if((typeof u==="undefined"?"undefined":g(u))==="object"&&u!==null&&!isNaN(u.length))d[J]=new Uint8Array(u);else if((0,m.isArrayBuffer)(u))d[J]=new Uint8Array(u);else throw Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");
}else J==="CMapReaderFactory"?n=b[J]:d[J]=b[J];d.rangeChunkSize=d.rangeChunkSize||65536;d.ignoreErrors=d.stopAtErrors!==true;J=Object.values(m.NativeImageDecoding);if(d.nativeImageDecoderSupport===void 0||!J.includes(d.nativeImageDecoderSupport))d.nativeImageDecoderSupport=m.NativeImageDecoding.DECODE;if(!j){j=(J=(0,a.getDefaultSetting)("workerPort"))?A.fromPort(J):new A;i._worker=j}var o=i.docId;j.promise.then(function(){if(i.destroyed)throw Error("Loading aborted");return l(j,d,p,o).then(function(a){if(i.destroyed)throw Error("Loading aborted");
var b=void 0;p?b=new h.PDFDataTransportStream(d,p):d.data||(b=new c(d));a=new m.MessageHandler(o,a,j.port);a.postMessageTransfers=j.postMessageTransfers;b=new F(a,i,b,n);i._transport=b;a.send("Ready",null)})}).catch(i._capability.reject);return i};d.LoopbackPort=u;d.PDFDataRangeTransport=z;d.PDFWorker=A;d.PDFDocumentProxy=w;d.PDFPageProxy=C;d.setPDFNetworkStreamClass=function(a){c=a};d.version="2.0.191";d.build="694c4171"},function(f,d,b){Object.defineProperty(d,"__esModule",{value:!0});d.Metadata=
void 0;var l=function(){function b(a,d){for(var j=0;j<d.length;j++){var g=d[j];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(a,g.key,g)}}return function(a,d,j){d&&b(a.prototype,d);j&&b(a,j);return a}}(),k=b(0),g=b(10),f=function(){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");(0,k.assert)("string"===typeof a,"Metadata: input is not a string");a=this._repair(a);a=(new g.SimpleXMLParser).parseFromString(a);
this._metadata=Object.create(null);this._parse(a)}l(b,[{key:"_repair",value:function(a){return a.replace(/>\\376\\377([^<]+)/g,function(a,b){for(var d=b.replace(/\\([0-3])([0-7])([0-7])/g,function(a,b,d,j){return String.fromCharCode(64*b+8*d+1*j)}),g="",h=0,k=d.length;h<k;h+=2)var o=256*d.charCodeAt(h)+d.charCodeAt(h+1),g=32<=o&&127>o&&60!==o&&62!==o&&38!==o?g+String.fromCharCode(o):g+("&#x"+(65536+o).toString(16).substring(1)+";");return">"+g})}},{key:"_parse",value:function(a){a=a.documentElement;
if("rdf:rdf"!==a.nodeName.toLowerCase())for(a=a.firstChild;a&&"rdf:rdf"!==a.nodeName.toLowerCase();)a=a.nextSibling;var b=a?a.nodeName.toLowerCase():null;if(a&&"rdf:rdf"===b&&a.hasChildNodes())for(var a=a.childNodes,b=0,d=a.length;b<d;b++){var g=a[b];if("rdf:description"===g.nodeName.toLowerCase())for(var k=0,h=g.childNodes.length;k<h;k++)if("#text"!==g.childNodes[k].nodeName.toLowerCase()){var m=g.childNodes[k];this._metadata[m.nodeName.toLowerCase()]=m.textContent.trim()}}}},{key:"get",value:function(a){return this._metadata[a]||
null}},{key:"getAll",value:function(){return this._metadata}},{key:"has",value:function(a){return"undefined"!==typeof this._metadata[a]}}]);return b}();d.Metadata=f},function(f,d,b){function l(c,a){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&("object"===typeof a||"function"===typeof a)?a:c}function k(c,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);c.prototype=
Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}function g(c,a){if(!(c instanceof a))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(d,"__esModule",{value:!0});d.AnnotationLayer=void 0;var m=function M(c,a,b){null===c&&(c=Function.prototype);var i=Object.getOwnPropertyDescriptor(c,a);if(void 0===i)return c=Object.getPrototypeOf(c),null===c?void 0:M(c,
a,b);if("value"in i)return i.value;a=i.get;return void 0===a?void 0:a.call(b)},a=function(){function c(a,b){for(var i=0;i<b.length;i++){var d=b[i];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(a,b,i){b&&c(a.prototype,b);i&&c(a,i);return a}}(),r=b(10),j=b(0),q=function(){function b(){g(this,b)}a(b,null,[{key:"create",value:function(a){switch(a.data.annotationType){case j.AnnotationType.LINK:return new h(a);case j.AnnotationType.TEXT:return new s(a);
case j.AnnotationType.WIDGET:switch(a.data.fieldType){case "Tx":return new t(a);case "Btn":return a.data.radioButton?new p(a):a.data.checkBox?new i(a):new B(a);case "Ch":return new c(a)}return new o(a);case j.AnnotationType.POPUP:return new e(a);case j.AnnotationType.LINE:return new w(a);case j.AnnotationType.SQUARE:return new C(a);case j.AnnotationType.CIRCLE:return new u(a);case j.AnnotationType.POLYLINE:return new A(a);case j.AnnotationType.POLYGON:return new F(a);case j.AnnotationType.HIGHLIGHT:return new I(a);
case j.AnnotationType.UNDERLINE:return new K(a);case j.AnnotationType.SQUIGGLY:return new E(a);case j.AnnotationType.STRIKEOUT:return new H(a);case j.AnnotationType.STAMP:return new L(a);case j.AnnotationType.FILEATTACHMENT:return new N(a);default:return new v(a)}}}]);return b}(),v=function(){function c(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;g(this,c);this.isRenderable=b;this.data=a.data;this.layer=a.layer;this.page=
a.page;this.viewport=a.viewport;this.linkService=a.linkService;this.downloadManager=a.downloadManager;this.imageResourcesPath=a.imageResourcesPath;this.renderInteractiveForms=a.renderInteractiveForms;this.svgFactory=a.svgFactory;b&&(this.container=this._createContainer(i))}a(c,[{key:"_createContainer",value:function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,a=this.data,b=this.page,i=this.viewport,d=document.createElement("section"),e=a.rect[2]-a.rect[0],p=a.rect[3]-a.rect[1];
d.setAttribute("data-annotation-id",a.id);b=j.Util.normalizeRect([a.rect[0],b.view[3]-a.rect[1]+b.view[1],a.rect[2],b.view[3]-a.rect[3]+b.view[1]]);r.CustomStyle.setProp("transform",d,"matrix("+i.transform.join(",")+")");r.CustomStyle.setProp("transformOrigin",d,-b[0]+"px "+-b[1]+"px");if(!c&&0<a.borderStyle.width){d.style.borderWidth=a.borderStyle.width+"px";a.borderStyle.style!==j.AnnotationBorderStyleType.UNDERLINE&&(e-=2*a.borderStyle.width,p-=2*a.borderStyle.width);c=a.borderStyle.horizontalCornerRadius;
i=a.borderStyle.verticalCornerRadius;(0<c||0<i)&&r.CustomStyle.setProp("borderRadius",d,c+"px / "+i+"px");switch(a.borderStyle.style){case j.AnnotationBorderStyleType.SOLID:d.style.borderStyle="solid";break;case j.AnnotationBorderStyleType.DASHED:d.style.borderStyle="dashed";break;case j.AnnotationBorderStyleType.BEVELED:(0,j.warn)("Unimplemented border style: beveled");break;case j.AnnotationBorderStyleType.INSET:(0,j.warn)("Unimplemented border style: inset");break;case j.AnnotationBorderStyleType.UNDERLINE:d.style.borderBottomStyle=
"solid"}a.color?d.style.borderColor=j.Util.makeCssRgb(a.color[0]|0,a.color[1]|0,a.color[2]|0):d.style.borderWidth=0}d.style.left=b[0]+"px";d.style.top=b[1]+"px";d.style.width=e+"px";d.style.height=p+"px";return d}},{key:"_createPopup",value:function(c,a,b){a||(a=document.createElement("div"),a.style.height=c.style.height,a.style.width=c.style.width,c.appendChild(a));a=(new z({container:c,trigger:a,color:b.color,title:b.title,contents:b.contents,hideWrapper:!0})).render();a.style.left=c.style.width;
c.appendChild(a)}},{key:"render",value:function(){throw Error("Abstract method `AnnotationElement.render` called");}}]);return c}(),h=function(c){function b(c){g(this,b);var a=!(!c.data.url&&!c.data.dest&&!c.data.action);return l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c,a))}k(b,c);a(b,[{key:"render",value:function(){this.container.className="linkAnnotation";var c=document.createElement("a");(0,r.addLinkAttributes)(c,{url:this.data.url,target:this.data.newWindow?r.LinkTarget.BLANK:
void 0});this.data.url||(this.data.action?this._bindNamedAction(c,this.data.action):this._bindLink(c,this.data.dest));this.container.appendChild(c);return this.container}},{key:"_bindLink",value:function(c,a){var b=this;c.href=this.linkService.getDestinationHash(a);c.onclick=function(){a&&b.linkService.navigateTo(a);return!1};a&&(c.className="internalLink")}},{key:"_bindNamedAction",value:function(c,a){var b=this;c.href=this.linkService.getAnchorUrl("");c.onclick=function(){b.linkService.executeNamedAction(a);
return!1};c.className="internalLink"}}]);return b}(v),s=function(c){function b(c){g(this,b);var a=!(!c.data.hasPopup&&!c.data.title&&!c.data.contents);return l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c,a))}k(b,c);a(b,[{key:"render",value:function(){this.container.className="textAnnotation";var c=document.createElement("img");c.style.height=this.container.style.height;c.style.width=this.container.style.width;c.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg";
c.alt="[{{type}} Annotation]";c.dataset.l10nId="text_annotation_type";c.dataset.l10nArgs=JSON.stringify({type:this.data.name});this.data.hasPopup||this._createPopup(this.container,c,this.data);this.container.appendChild(c);return this.container}}]);return b}(v),o=function(c){function b(){g(this,b);return l(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}k(b,c);a(b,[{key:"render",value:function(){return this.container}}]);return b}(v),t=function(c){function b(c){g(this,b);var a=
c.renderInteractiveForms||!c.data.hasAppearance&&!!c.data.fieldValue;return l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c,a))}k(b,c);a(b,[{key:"render",value:function(){var c=["left","center","right"];this.container.className="textWidgetAnnotation";var a=null;if(this.renderInteractiveForms){if(this.data.multiLine?(a=document.createElement("textarea"),a.textContent=this.data.fieldValue):(a=document.createElement("input"),a.type="text",a.setAttribute("value",this.data.fieldValue)),a.disabled=
this.data.readOnly,null!==this.data.maxLen&&(a.maxLength=this.data.maxLen),this.data.comb){var b=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;a.classList.add("comb");a.style.letterSpacing="calc("+b+"px - 1ch)"}}else a=document.createElement("div"),a.textContent=this.data.fieldValue,a.style.verticalAlign="middle",a.style.display="table-cell",b=null,this.data.fontRefName&&(b=this.page.commonObjs.getData(this.data.fontRefName)),this._setTextStyle(a,b);null!==this.data.textAlignment&&(a.style.textAlign=
c[this.data.textAlignment]);this.container.appendChild(a);return this.container}},{key:"_setTextStyle",value:function(c,a){var b=c.style;b.fontSize=this.data.fontSize+"px";b.direction=0>this.data.fontDirection?"rtl":"ltr";a&&(b.fontWeight=a.black?a.bold?"900":"bold":a.bold?"bold":"normal",b.fontStyle=a.italic?"italic":"normal",b.fontFamily=(a.loadedName?'"'+a.loadedName+'", ':"")+(a.fallbackName||"Helvetica, sans-serif"))}}]);return b}(o),i=function(c){function b(c){g(this,b);return l(this,(b.__proto__||
Object.getPrototypeOf(b)).call(this,c,c.renderInteractiveForms))}k(b,c);a(b,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation checkBox";var c=document.createElement("input");c.disabled=this.data.readOnly;c.type="checkbox";this.data.fieldValue&&"Off"!==this.data.fieldValue&&c.setAttribute("checked",!0);this.container.appendChild(c);return this.container}}]);return b}(o),p=function(c){function b(c){g(this,b);return l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,
c,c.renderInteractiveForms))}k(b,c);a(b,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation radioButton";var c=document.createElement("input");c.disabled=this.data.readOnly;c.type="radio";c.name=this.data.fieldName;this.data.fieldValue===this.data.buttonValue&&c.setAttribute("checked",!0);this.container.appendChild(c);return this.container}}]);return b}(o),B=function(c){function b(){g(this,b);return l(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}
k(b,c);a(b,[{key:"render",value:function(){var c=m(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"render",this).call(this);c.className="buttonWidgetAnnotation pushButton";return c}}]);return b}(h),c=function(c){function b(c){g(this,b);return l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c,c.renderInteractiveForms))}k(b,c);a(b,[{key:"render",value:function(){this.container.className="choiceWidgetAnnotation";var c=document.createElement("select");c.disabled=this.data.readOnly;
this.data.combo||(c.size=this.data.options.length,this.data.multiSelect&&(c.multiple=!0));for(var a=0,b=this.data.options.length;a<b;a++){var i=this.data.options[a],d=document.createElement("option");d.textContent=i.displayValue;d.value=i.exportValue;0<=this.data.fieldValue.indexOf(i.displayValue)&&d.setAttribute("selected",!0);c.appendChild(d)}this.container.appendChild(c);return this.container}}]);return b}(o),e=function(c){function b(c){g(this,b);var a=!(!c.data.title&&!c.data.contents);return l(this,
(b.__proto__||Object.getPrototypeOf(b)).call(this,c,a))}k(b,c);a(b,[{key:"render",value:function(){this.container.className="popupAnnotation";if(0<=["Line","Square","Circle","PolyLine","Polygon"].indexOf(this.data.parentType))return this.container;var c=this.layer.querySelector('[data-annotation-id="'+this.data.parentId+'"]');if(!c)return this.container;var a=new z({container:this.container,trigger:c,color:this.data.color,title:this.data.title,contents:this.data.contents}),b=parseFloat(c.style.left),
i=parseFloat(c.style.width);r.CustomStyle.setProp("transformOrigin",this.container,-(b+i)+"px -"+c.style.top);this.container.style.left=b+i+"px";this.container.appendChild(a.render());return this.container}}]);return b}(v),z=function(){function c(a){g(this,c);this.container=a.container;this.trigger=a.trigger;this.color=a.color;this.title=a.title;this.contents=a.contents;this.hideWrapper=a.hideWrapper||!1;this.pinned=!1}a(c,[{key:"render",value:function(){var c=document.createElement("div");c.className=
"popupWrapper";this.hideElement=this.hideWrapper?c:this.container;this.hideElement.setAttribute("hidden",!0);var a=document.createElement("div");a.className="popup";var b=this.color;b&&(a.style.backgroundColor=j.Util.makeCssRgb(0.7*(255-b[0])+b[0]|0,0.7*(255-b[1])+b[1]|0,0.7*(255-b[2])+b[2]|0));var b=this._formatContents(this.contents),i=document.createElement("h1");i.textContent=this.title;this.trigger.addEventListener("click",this._toggle.bind(this));this.trigger.addEventListener("mouseover",this._show.bind(this,
!1));this.trigger.addEventListener("mouseout",this._hide.bind(this,!1));a.addEventListener("click",this._hide.bind(this,!0));a.appendChild(i);a.appendChild(b);c.appendChild(a);return c}},{key:"_formatContents",value:function(c){for(var a=document.createElement("p"),c=c.split(/(?:\r\n?|\n)/),b=0,i=c.length;b<i;++b)a.appendChild(document.createTextNode(c[b])),b<i-1&&a.appendChild(document.createElement("br"));return a}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",
value:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&(this.pinned=!0);this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}},{key:"_hide",value:function(){if(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1)this.pinned=!1;!this.hideElement.hasAttribute("hidden")&&!this.pinned&&(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}]);return c}(),w=function(c){function b(c){g(this,b);
var a=!(!c.data.hasPopup&&!c.data.title&&!c.data.contents);return l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c,a,!0))}k(b,c);a(b,[{key:"render",value:function(){this.container.className="lineAnnotation";var c=this.data,a=this.svgFactory.create(c.rect[2]-c.rect[0],c.rect[3]-c.rect[1]),b=this.svgFactory.createElement("svg:line");b.setAttribute("x1",c.rect[2]-c.lineCoordinates[0]);b.setAttribute("y1",c.rect[3]-c.lineCoordinates[1]);b.setAttribute("x2",c.rect[2]-c.lineCoordinates[2]);b.setAttribute("y2",
c.rect[3]-c.lineCoordinates[3]);b.setAttribute("stroke-width",c.borderStyle.width);b.setAttribute("stroke","transparent");a.appendChild(b);this.container.append(a);this._createPopup(this.container,b,c);return this.container}}]);return b}(v),C=function(c){function b(c){g(this,b);var a=!(!c.data.hasPopup&&!c.data.title&&!c.data.contents);return l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c,a,!0))}k(b,c);a(b,[{key:"render",value:function(){this.container.className="squareAnnotation";var c=
this.data,a=c.rect[2]-c.rect[0],b=c.rect[3]-c.rect[1],i=this.svgFactory.create(a,b),d=c.borderStyle.width,e=this.svgFactory.createElement("svg:rect");e.setAttribute("x",d/2);e.setAttribute("y",d/2);e.setAttribute("width",a-d);e.setAttribute("height",b-d);e.setAttribute("stroke-width",d);e.setAttribute("stroke","transparent");e.setAttribute("fill","none");i.appendChild(e);this.container.append(i);this._createPopup(this.container,e,c);return this.container}}]);return b}(v),u=function(c){function b(c){g(this,
b);var a=!(!c.data.hasPopup&&!c.data.title&&!c.data.contents);return l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c,a,!0))}k(b,c);a(b,[{key:"render",value:function(){this.container.className="circleAnnotation";var c=this.data,a=c.rect[2]-c.rect[0],b=c.rect[3]-c.rect[1],i=this.svgFactory.create(a,b),d=c.borderStyle.width,e=this.svgFactory.createElement("svg:ellipse");e.setAttribute("cx",a/2);e.setAttribute("cy",b/2);e.setAttribute("rx",a/2-d/2);e.setAttribute("ry",b/2-d/2);e.setAttribute("stroke-width",
d);e.setAttribute("stroke","transparent");e.setAttribute("fill","none");i.appendChild(e);this.container.append(i);this._createPopup(this.container,e,c);return this.container}}]);return b}(v),A=function(c){function b(c){g(this,b);var a=!(!c.data.hasPopup&&!c.data.title&&!c.data.contents),c=l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c,a,!0));c.containerClassName="polylineAnnotation";c.svgElementName="svg:polyline";return c}k(b,c);a(b,[{key:"render",value:function(){this.container.className=
this.containerClassName;for(var c=this.data,a=this.svgFactory.create(c.rect[2]-c.rect[0],c.rect[3]-c.rect[1]),b=c.vertices,i=[],d=0,e=b.length;d<e;d++)i.push(b[d].x-c.rect[0]+","+(c.rect[3]-b[d].y));i=i.join(" ");b=c.borderStyle.width;d=this.svgFactory.createElement(this.svgElementName);d.setAttribute("points",i);d.setAttribute("stroke-width",b);d.setAttribute("stroke","transparent");d.setAttribute("fill","none");a.appendChild(d);this.container.append(a);this._createPopup(this.container,d,c);return this.container}}]);
return b}(v),F=function(c){function a(c){g(this,a);c=l(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,c));c.containerClassName="polygonAnnotation";c.svgElementName="svg:polygon";return c}k(a,c);return a}(A),I=function(c){function b(c){g(this,b);var a=!(!c.data.hasPopup&&!c.data.title&&!c.data.contents);return l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c,a,!0))}k(b,c);a(b,[{key:"render",value:function(){this.container.className="highlightAnnotation";this.data.hasPopup||this._createPopup(this.container,
null,this.data);return this.container}}]);return b}(v),K=function(c){function b(c){g(this,b);var a=!(!c.data.hasPopup&&!c.data.title&&!c.data.contents);return l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c,a,!0))}k(b,c);a(b,[{key:"render",value:function(){this.container.className="underlineAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return b}(v),E=function(c){function b(c){g(this,b);var a=!(!c.data.hasPopup&&!c.data.title&&
!c.data.contents);return l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c,a,!0))}k(b,c);a(b,[{key:"render",value:function(){this.container.className="squigglyAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return b}(v),H=function(c){function b(c){g(this,b);var a=!(!c.data.hasPopup&&!c.data.title&&!c.data.contents);return l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c,a,!0))}k(b,c);a(b,[{key:"render",value:function(){this.container.className=
"strikeoutAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return b}(v),L=function(c){function b(c){g(this,b);var a=!(!c.data.hasPopup&&!c.data.title&&!c.data.contents);return l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c,a,!0))}k(b,c);a(b,[{key:"render",value:function(){this.container.className="stampAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return b}(v),N=function(c){function b(c){g(this,
b);var c=l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c,!0)),a=c.data.file;c.filename=(0,r.getFilenameFromUrl)(a.filename);c.content=a.content;c.linkService.onFileAttachmentAnnotation({id:(0,j.stringToPDFString)(a.filename),filename:a.filename,content:a.content});return c}k(b,c);a(b,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var c=document.createElement("div");c.style.height=this.container.style.height;c.style.width=this.container.style.width;c.addEventListener("dblclick",
this._download.bind(this));!this.data.hasPopup&&(this.data.title||this.data.contents)&&this._createPopup(this.container,c,this.data);this.container.appendChild(c);return this.container}},{key:"_download",value:function(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,j.warn)("Download cannot be started due to unavailable download manager")}}]);return b}(v),f=function(){function c(){g(this,c)}a(c,null,[{key:"render",value:function(c){for(var a=0,b=c.annotations.length;a<
b;a++){var i=c.annotations[a];i&&(i=q.create({data:i,layer:c.div,page:c.page,viewport:c.viewport,linkService:c.linkService,downloadManager:c.downloadManager,imageResourcesPath:c.imageResourcesPath||(0,r.getDefaultSetting)("imageResourcesPath"),renderInteractiveForms:c.renderInteractiveForms||!1,svgFactory:new r.DOMSVGFactory}),i.isRenderable&&c.div.appendChild(i.render()))}}},{key:"update",value:function(c){for(var a=0,b=c.annotations.length;a<b;a++){var i=c.div.querySelector('[data-annotation-id="'+
c.annotations[a].id+'"]');i&&r.CustomStyle.setProp("transform",i,"matrix("+c.viewport.transform.join(",")+")")}c.div.removeAttribute("hidden")}}]);return c}();d.AnnotationLayer=f},function(f,d,b){Object.defineProperty(d,"__esModule",{value:!0});d.renderTextLayer=void 0;var l=b(0),k=b(10),f=function(){function b(a){if(!a._canceled){var d=a._textDivs,j=a._capability,i=d.length;if(!(i>q)&&!a._textContentStream)for(var p=0;p<i;p++)a._layoutText(d[p]);a._renderingDone=!0;j.resolve()}}function d(b){for(var j=
b._bounds,h=b._viewport,h=a(h.width,h.height,j),i=0;i<h.length;i++){var p=j[i].div,g=b._textDivProperties.get(p);if(0===g.angle)g.paddingLeft=j[i].left-h[i].left,g.paddingTop=j[i].top-h[i].top,g.paddingRight=h[i].right-j[i].right,g.paddingBottom=h[i].bottom-j[i].bottom;else{var c=h[i],e=j[i],k=e.m,m=k[0],f=k[1],e=[[0,0],[0,e.size[1]],[e.size[0],0],e.size],u=new Float64Array(64);e.forEach(function(a,b){var i=l.Util.applyTransform(a,k);u[b+0]=m&&(c.left-i[0])/m;u[b+4]=f&&(c.top-i[1])/f;u[b+8]=m&&(c.right-
i[0])/m;u[b+12]=f&&(c.bottom-i[1])/f;u[b+16]=f&&(c.left-i[0])/-f;u[b+20]=m&&(c.top-i[1])/m;u[b+24]=f&&(c.right-i[0])/-f;u[b+28]=m&&(c.bottom-i[1])/m;u[b+32]=m&&(c.left-i[0])/-m;u[b+36]=f&&(c.top-i[1])/-f;u[b+40]=m&&(c.right-i[0])/-m;u[b+44]=f&&(c.bottom-i[1])/-f;u[b+48]=f&&(c.left-i[0])/f;u[b+52]=m&&(c.top-i[1])/-m;u[b+56]=f&&(c.right-i[0])/f;u[b+60]=m&&(c.bottom-i[1])/-m});var e=function(c,a,b){for(var i=0,d=0;d<b;d++){var e=c[a++];0<e&&(i=i?Math.min(e,i):e)}return i},A=1+Math.min(Math.abs(m),Math.abs(f));
g.paddingLeft=e(u,32,16)/A;g.paddingTop=e(u,48,16)/A;g.paddingRight=e(u,0,16)/A;g.paddingBottom=e(u,16,16)/A}b._textDivProperties.set(p,g)}}function a(a,b,d){var i=d.map(function(a,c){return{x1:a.left,y1:a.top,x2:a.right,y2:a.bottom,index:c,x1New:void 0,x2New:void 0}});f(a,i);var j=Array(d.length);i.forEach(function(a){j[a.index]={left:a.x1New,top:0,right:a.x2New,bottom:0}});d.map(function(b,c){var d=j[c],h=i[c];h.x1=b.top;h.y1=a-d.right;h.x2=b.bottom;h.y2=a-d.left;h.index=c;h.x1New=void 0;h.x2New=
void 0});f(b,i);i.forEach(function(a){var c=a.index;j[c].top=a.x1New;j[c].bottom=a.x2New});return j}function f(a,b){b.sort(function(a,b){return a.x1-b.x1||a.index-b.index});var d=[{start:-Infinity,end:Infinity,boundary:{x1:-Infinity,y1:-Infinity,x2:0,y2:Infinity,index:-1,x1New:0,x2New:0}}];b.forEach(function(a){for(var b=0;b<d.length&&d[b].end<=a.y1;)b++;for(var j=d.length-1;0<=j&&d[j].start>=a.y2;)j--;var c,e,h,g=-Infinity;for(h=b;h<=j;h++){c=d[h];e=c.boundary;var k;k=e.x2>a.x1?e.index>a.index?e.x1New:
a.x1:void 0===e.x2New?(e.x2+a.x1)/2:e.x2New;k>g&&(g=k)}a.x1New=g;for(h=b;h<=j;h++)c=d[h],e=c.boundary,void 0===e.x2New?e.x2>a.x1?e.index>a.index&&(e.x2New=e.x2):e.x2New=g:e.x2New>g&&(e.x2New=Math.max(g,e.x2));k=[];var u=null;for(h=b;h<=j;h++)c=d[h],e=c.boundary,e=e.x2>a.x2?e:a,u===e?k[k.length-1].end=c.end:(k.push({start:c.start,end:c.end,boundary:e}),u=e);d[b].start<a.y1&&(k[0].start=a.y1,k.unshift({start:d[b].start,end:a.y1,boundary:d[b].boundary}));a.y2<d[j].end&&(k[k.length-1].end=a.y2,k.push({start:a.y2,
end:d[j].end,boundary:d[j].boundary}));for(h=b;h<=j;h++)if(c=d[h],e=c.boundary,void 0===e.x2New){c=!1;for(a=b-1;!c&&0<=a&&d[a].start>=e.y1;a--)c=d[a].boundary===e;for(a=j+1;!c&&a<d.length&&d[a].end<=e.y2;a++)c=d[a].boundary===e;for(a=0;!c&&a<k.length;a++)c=k[a].boundary===e;c||(e.x2New=g)}Array.prototype.splice.apply(d,[b,j-b+1].concat(k))});d.forEach(function(b){b=b.boundary;void 0===b.x2New&&(b.x2New=Math.max(a,b.x2))})}function j(a){var b=a.textContentStream,d=a.container,i=a.viewport,j=a.textDivs,
h=a.textContentItemsStr,c=a.enhanceTextSelection;this._textContent=a.textContent;this._textContentStream=b;this._container=d;this._viewport=i;this._textDivs=j||[];this._textContentItemsStr=h||[];this._enhanceTextSelection=!!c;this._layoutTextCtx=this._layoutTextLastFontFamily=this._layoutTextLastFontSize=this._reader=null;this._textDivProperties=new WeakMap;this._canceled=this._renderingDone=!1;this._capability=(0,l.createPromiseCapability)();this._renderTimer=null;this._bounds=[]}var q=1E5,v=/\S/,
h=["left: ",0,"px; top: ",0,"px; font-size: ",0,"px; font-family: ","",";"];j.prototype={get promise(){return this._capability.promise},cancel:function(){this._reader&&(this._reader.cancel(new l.AbortException("text layer task cancelled")),this._reader=null);this._canceled=!0;null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null);this._capability.reject("canceled")},_processItems:function(a,b){for(var d=0,i=a.length;d<i;d++){this._textContentItemsStr.push(a[d].str);var j=
a[d],g=b,c=document.createElement("div"),e={style:null,angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};this._textDivs.push(c);if(v.test(j.str)){var m=l.Util.transform(this._viewport.transform,j.transform),f=Math.atan2(m[1],m[0]),q=g[j.fontName];q.vertical&&(f+=Math.PI/2);var u=Math.sqrt(m[2]*m[2]+m[3]*m[3]),A=u;q.ascent?A*=q.ascent:q.descent&&(A*=1+q.descent);var r=g=void 0;0===f?(g=m[4],r=m[5]-A):(g=m[4]+A*Math.sin(f),
r=m[5]-A*Math.cos(f));h[1]=g;h[3]=r;h[5]=u;h[7]=q.fontFamily;e.style=h.join("");c.setAttribute("style",e.style);c.textContent=j.str;if((0,k.getDefaultSetting)("pdfBug"))c.dataset.fontName=j.fontName;0!==f&&(e.angle=f*(180/Math.PI));1<j.str.length&&(e.canvasWidth=q.vertical?j.height*this._viewport.scale:j.width*this._viewport.scale);this._textDivProperties.set(c,e);this._textContentStream&&this._layoutText(c);this._enhanceTextSelection&&(e=1,m=0,0!==f&&(e=Math.cos(f),m=Math.sin(f)),j=(q.vertical?j.height:
j.width)*this._viewport.scale,A=q=void 0,0!==f?(q=[e,m,-m,e,g,r],A=l.Util.getAxialAlignedBoundingBox([0,0,j,u],q)):A=[g,r,g+j,r+u],this._bounds.push({left:A[0],top:A[1],right:A[2],bottom:A[3],div:c,size:[j,u],m:q}))}else e.isWhitespace=!0,this._textDivProperties.set(c,e)}},_layoutText:function(a){var b=this._container,d=this._textDivProperties.get(a);if(!d.isWhitespace){var i=a.style.fontSize,j=a.style.fontFamily;if(i!==this._layoutTextLastFontSize||j!==this._layoutTextLastFontFamily)this._layoutTextCtx.font=
i+" "+j,this._lastFontSize=i,this._lastFontFamily=j;i=this._layoutTextCtx.measureText(a.textContent).width;j="";0!==d.canvasWidth&&0<i&&(d.scale=d.canvasWidth/i,j="scaleX("+d.scale+")");0!==d.angle&&(j="rotate("+d.angle+"deg) "+j);""!==j&&(d.originalTransform=j,k.CustomStyle.setProp("transform",a,j));this._textDivProperties.set(a,d);b.appendChild(a)}},_render:function(a){var d=this,j=(0,l.createPromiseCapability)(),i=Object.create(null),h=document.createElement("canvas");h.mozOpaque=!0;this._layoutTextCtx=
h.getContext("2d",{alpha:!1});if(this._textContent)this._processItems(this._textContent.items,this._textContent.styles),j.resolve();else if(this._textContentStream)this._reader=this._textContentStream.getReader(),function c(){d._reader.read().then(function(a){var b=a.value;a.done?j.resolve():(l.Util.extendObj(i,b.styles),d._processItems(b.items,i),c())},j.reject)}();else throw Error('Neither "textContent" nor "textContentStream" parameters specified.');j.promise.then(function(){i=null;a?d._renderTimer=
setTimeout(function(){b(d);d._renderTimer=null},a):b(d)},this._capability.reject)},expandTextDivs:function(a){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(d(this),this._bounds=null);for(var b=0,j=this._textDivs.length;b<j;b++){var i=this._textDivs[b],h=this._textDivProperties.get(i);if(!h.isWhitespace)if(a){var g="",c="";1!==h.scale&&(g="scaleX("+h.scale+")");0!==h.angle&&(g="rotate("+h.angle+"deg) "+g);0!==h.paddingLeft&&(c+=" padding-left: "+h.paddingLeft/h.scale+"px;",
g+=" translateX("+-h.paddingLeft/h.scale+"px)");0!==h.paddingTop&&(c+=" padding-top: "+h.paddingTop+"px;",g+=" translateY("+-h.paddingTop+"px)");0!==h.paddingRight&&(c+=" padding-right: "+h.paddingRight/h.scale+"px;");0!==h.paddingBottom&&(c+=" padding-bottom: "+h.paddingBottom+"px;");""!==c&&i.setAttribute("style",h.style+c);""!==g&&k.CustomStyle.setProp("transform",i,g)}else i.style.padding=0,k.CustomStyle.setProp("transform",i,h.originalTransform||"")}}}};return function(a){var b=new j({textContent:a.textContent,
textContentStream:a.textContentStream,container:a.container,viewport:a.viewport,textDivs:a.textDivs,textContentItemsStr:a.textContentItemsStr,enhanceTextSelection:a.enhanceTextSelection});b._render(a.timeout);return b}}();d.renderTextLayer=f},function(f,d,b){var l,k;Object.defineProperty(d,"__esModule",{value:!0});d.SVGGraphics=void 0;var g=b(0),m=b(10),f=function(){throw Error("Not implemented: SVGGraphics");};l="normal";k="#000000";var a=function(){function a(b,i,j,h){var c=h,e=i.length;j[c]=e>>
24&255;j[c+1]=e>>16&255;j[c+2]=e>>8&255;j[c+3]=e&255;c+=4;j[c]=b.charCodeAt(0)&255;j[c+1]=b.charCodeAt(1)&255;j[c+2]=b.charCodeAt(2)&255;j[c+3]=b.charCodeAt(3)&255;c+=4;j.set(i,c);c+=i.length;b=-1;for(h+=4;h<c;h++)b=b>>>8^d[(b^j[h])&255];h=b^-1;j[c]=h>>24&255;j[c+1]=h>>16&255;j[c+2]=h>>8&255;j[c+3]=h&255}for(var b=new Uint8Array([137,80,78,71,13,10,26,10]),d=new Int32Array(256),h=0;256>h;h++){for(var k=h,m=0;8>m;m++)k=k&1?3988292384^k>>1&2147483647:k>>1&2147483647;d[h]=k}return function(d,i,h){var k=
void 0===d.kind?g.ImageKind.GRAYSCALE_1BPP:d.kind,c=d.width,e=d.height,m,f,o,u=d.data;switch(k){case g.ImageKind.GRAYSCALE_1BPP:f=0;m=1;o=c+7>>3;break;case g.ImageKind.RGB_24BPP:f=2;m=8;o=3*c;break;case g.ImageKind.RGBA_32BPP:f=6;m=8;o=4*c;break;default:throw Error("invalid format");}var d=new Uint8Array((1+o)*e),A=0,l=0,v;for(v=0;v<e;++v)d[A++]=0,d.set(u.subarray(l,l+o),A),l+=o,A+=o;if(k===g.ImageKind.GRAYSCALE_1BPP&&h)for(v=A=0;v<e;v++){A++;for(h=0;h<o;h++)d[A++]^=255}var c=new Uint8Array([c>>24&
255,c>>16&255,c>>8&255,c&255,e>>24&255,e>>16&255,e>>8&255,e&255,m,f,0,0,0]),r;a:{if((0,g.isNodeJS)())try{var s;s=8<=parseInt(process.versions.node)?d:new Buffer(d);var H=require("zlib").deflateSync(s,{level:9});r=H instanceof Uint8Array?H:new Uint8Array(H);break a}catch(L){(0,g.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+L)}H=d.length;r=Math.ceil(H/65535);r=new Uint8Array(2+H+5*r+4);s=0;r[s++]=120;r[s++]=156;for(e=0;65535<H;)r[s++]=0,r[s++]=255,r[s++]=255,r[s++]=0,r[s++]=
0,r.set(d.subarray(e,e+65535),s),s+=65535,e+=65535,H-=65535;r[s++]=1;r[s++]=H&255;r[s++]=H>>8&255;r[s++]=~H&255;r[s++]=(~H&65535)>>8&255;r.set(d.subarray(e),s);s+=d.length-e;H=1;for(h=e=0;h<d.length;++h)H=(H+(d[h]&255))%65521,e=(e+H)%65521;d=e<<16|H;r[s++]=d>>24&255;r[s++]=d>>16&255;r[s++]=d>>8&255;r[s++]=d&255}d=new Uint8Array(b.length+36+c.length+r.length);s=0;d.set(b,s);s+=b.length;a("IHDR",c,d,s);s+=12+c.length;a("IDATA",r,d,s);s+=12+r.length;a("IEND",new Uint8Array(0),d,s);return(0,g.createObjectURL)(d,
"image/png",i)}}(),r=function(){function a(){this.fontSizeScale=1;this.fontWeight=l;this.fontSize=0;this.textMatrix=g.IDENTITY_MATRIX;this.fontMatrix=g.FONT_IDENTITY_MATRIX;this.wordSpacing=this.charSpacing=this.lineY=this.lineX=this.y=this.x=this.leading=0;this.textHScale=1;this.textRise=0;this.fillColor=k;this.strokeColor="#000000";this.lineWidth=this.strokeAlpha=this.fillAlpha=1;this.lineCap=this.lineJoin="";this.miterLimit=0;this.dashArray=[];this.dashPhase=0;this.dependencies=[];this.clipGroup=
this.activeClipUrl=null;this.maskId=""}a.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(a,b){this.x=a;this.y=b}};return a}();d.SVGGraphics=f=function(){function b(a){if(Number.isInteger(a))return a.toString();var a=a.toFixed(10),d=a.length-1;if("0"!==a[d])return a;do d--;while("0"===a[d]);return a.substr(0,"."===a[d]?d:d+1)}function d(a){if(0===a[4]&&0===a[5]){if(0===a[1]&&0===a[2])return 1===a[0]&&1===a[3]?"":"scale("+b(a[0])+" "+b(a[3])+")";if(a[0]===a[3]&&a[1]===
-a[2])return a=180*Math.acos(a[0])/Math.PI,"rotate("+b(a)+")"}else if(1===a[0]&&0===a[1]&&0===a[2]&&1===a[3])return"translate("+b(a[4])+" "+b(a[5])+")";return"matrix("+b(a[0])+" "+b(a[1])+" "+b(a[2])+" "+b(a[3])+" "+b(a[4])+" "+b(a[5])+")"}function f(a,b,d){this.svgFactory=new m.DOMSVGFactory;this.current=new r;this.transformMatrix=g.IDENTITY_MATRIX;this.transformStack=[];this.extraStack=[];this.commonObjs=a;this.objs=b;this.pendingClip=null;this.embedFonts=this.pendingEOFill=!1;this.embeddedFonts=
Object.create(null);this.cssStyle=null;this.forceDataSchema=!!d}var h=["butt","round","square"],s=["miter","round","bevel"],o=0,t=0;f.prototype={save:function(){this.transformStack.push(this.transformMatrix);var a=this.current;this.extraStack.push(a);this.current=a.clone()},restore:function(){this.transformMatrix=this.transformStack.pop();this.current=this.extraStack.pop();this.tgrp=this.pendingClip=null},group:function(a){this.save();this.executeOpTree(a);this.restore()},loadDependencies:function(a){for(var b=
this,d=a.fnArray,c=d.length,a=a.argsArray,e=0;e<c;e++)if(g.OPS.dependency===d[e])for(var h=a[e],j=0,k=h.length;j<k;j++){var u=h[j];this.current.dependencies.push("g_"===u.substring(0,2)?new Promise(function(c){b.commonObjs.get(u,c)}):new Promise(function(c){b.objs.get(u,c)}))}return Promise.all(this.current.dependencies)},transform:function(a,b,d,c,e,h){this.transformMatrix=g.Util.transform(this.transformMatrix,[a,b,d,c,e,h]);this.tgrp=null},getSVG:function(a,b){var d=this;this.viewport=b;var c=this._initialize(b);
return this.loadDependencies(a).then(function(){d.transformMatrix=g.IDENTITY_MATRIX;var b=d.convertOpList(a);d.executeOpTree(b);return c})},convertOpList:function(a){var b=a.argsArray,d=a.fnArray,c=d.length,e=[],a=[],h;for(h in g.OPS)e[g.OPS[h]]=h;for(h=0;h<c;h++){var j=d[h];a.push({fnId:j,fn:e[j],args:b[h]})}b=[];d=[];c=a.length;for(e=0;e<c;e++)"save"===a[e].fn?(b.push({fnId:92,fn:"group",items:[]}),d.push(b),b=b[b.length-1].items):"restore"===a[e].fn?b=d.pop():b.push(a[e]);return b},executeOpTree:function(a){for(var b=
a.length,d=0;d<b;d++){var c=a[d].fn,e=a[d].args;switch(a[d].fnId|0){case g.OPS.beginText:this.beginText();break;case g.OPS.setLeading:this.setLeading(e);break;case g.OPS.setLeadingMoveText:this.setLeadingMoveText(e[0],e[1]);break;case g.OPS.setFont:this.setFont(e);break;case g.OPS.showText:this.showText(e[0]);break;case g.OPS.showSpacedText:this.showText(e[0]);break;case g.OPS.endText:this.endText();break;case g.OPS.moveText:this.moveText(e[0],e[1]);break;case g.OPS.setCharSpacing:this.setCharSpacing(e[0]);
break;case g.OPS.setWordSpacing:this.setWordSpacing(e[0]);break;case g.OPS.setHScale:this.setHScale(e[0]);break;case g.OPS.setTextMatrix:this.setTextMatrix(e[0],e[1],e[2],e[3],e[4],e[5]);break;case g.OPS.setTextRise:this.setTextRise(e[0]);break;case g.OPS.setLineWidth:this.setLineWidth(e[0]);break;case g.OPS.setLineJoin:this.setLineJoin(e[0]);break;case g.OPS.setLineCap:this.setLineCap(e[0]);break;case g.OPS.setMiterLimit:this.setMiterLimit(e[0]);break;case g.OPS.setFillRGBColor:this.setFillRGBColor(e[0],
e[1],e[2]);break;case g.OPS.setStrokeRGBColor:this.setStrokeRGBColor(e[0],e[1],e[2]);break;case g.OPS.setDash:this.setDash(e[0],e[1]);break;case g.OPS.setGState:this.setGState(e[0]);break;case g.OPS.fill:this.fill();break;case g.OPS.eoFill:this.eoFill();break;case g.OPS.stroke:this.stroke();break;case g.OPS.fillStroke:this.fillStroke();break;case g.OPS.eoFillStroke:this.eoFillStroke();break;case g.OPS.clip:this.clip("nonzero");break;case g.OPS.eoClip:this.clip("evenodd");break;case g.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();
break;case g.OPS.paintJpegXObject:this.paintJpegXObject(e[0],e[1],e[2]);break;case g.OPS.paintImageXObject:this.paintImageXObject(e[0]);break;case g.OPS.paintInlineImageXObject:this.paintInlineImageXObject(e[0]);break;case g.OPS.paintImageMaskXObject:this.paintImageMaskXObject(e[0]);break;case g.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(e[0],e[1]);break;case g.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case g.OPS.closePath:this.closePath();break;case g.OPS.closeStroke:this.closeStroke();
break;case g.OPS.closeFillStroke:this.closeFillStroke();break;case g.OPS.nextLine:this.nextLine();break;case g.OPS.transform:this.transform(e[0],e[1],e[2],e[3],e[4],e[5]);break;case g.OPS.constructPath:this.constructPath(e[0],e[1]);break;case g.OPS.endPath:this.endPath();break;case 92:this.group(a[d].items);break;default:(0,g.warn)("Unimplemented operator "+c)}}},setWordSpacing:function(a){this.current.wordSpacing=a},setCharSpacing:function(a){this.current.charSpacing=a},nextLine:function(){this.moveText(0,
this.current.leading)},setTextMatrix:function(a,d,h,c,e,g){var k=this.current;this.current.textMatrix=this.current.lineMatrix=[a,d,h,c,e,g];this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0;k.xcoords=[];k.tspan=this.svgFactory.createElement("svg:tspan");k.tspan.setAttributeNS(null,"font-family",k.fontFamily);k.tspan.setAttributeNS(null,"font-size",b(k.fontSize)+"px");k.tspan.setAttributeNS(null,"y",b(-k.y));k.txtElement=this.svgFactory.createElement("svg:text");k.txtElement.appendChild(k.tspan)},
beginText:function(){this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0;this.current.textMatrix=g.IDENTITY_MATRIX;this.current.lineMatrix=g.IDENTITY_MATRIX;this.current.tspan=this.svgFactory.createElement("svg:tspan");this.current.txtElement=this.svgFactory.createElement("svg:text");this.current.txtgrp=this.svgFactory.createElement("svg:g");this.current.xcoords=[]},moveText:function(a,d){var h=this.current;this.current.x=this.current.lineX+=a;this.current.y=this.current.lineY+=
d;h.xcoords=[];h.tspan=this.svgFactory.createElement("svg:tspan");h.tspan.setAttributeNS(null,"font-family",h.fontFamily);h.tspan.setAttributeNS(null,"font-size",b(h.fontSize)+"px");h.tspan.setAttributeNS(null,"y",b(-h.y))},showText:function(a){var h=this.current,m=h.font,c=h.fontSize;if(0!==c){var e=h.charSpacing,f=h.wordSpacing,o=h.fontDirection,s=h.textHScale*o,u=a.length,A=m.vertical,r=c*h.fontMatrix[0],v=0,t;for(t=0;t<u;++t){var E=a[t];if(null===E)v+=o*f;else if((0,g.isNum)(E))v+=0.001*-E*c;
else{var H=E.fontChar,L=E.width*r+((E.isSpace?f:0)+e)*o;if(E.isInFont||m.missingFile)h.xcoords.push(h.x+v*s),h.tspan.textContent+=H;v+=L}}A?h.y-=v*s:h.x+=v*s;h.tspan.setAttributeNS(null,"x",h.xcoords.map(b).join(" "));h.tspan.setAttributeNS(null,"y",b(-h.y));h.tspan.setAttributeNS(null,"font-family",h.fontFamily);h.tspan.setAttributeNS(null,"font-size",b(h.fontSize)+"px");"normal"!==h.fontStyle&&h.tspan.setAttributeNS(null,"font-style",h.fontStyle);h.fontWeight!==l&&h.tspan.setAttributeNS(null,"font-weight",
h.fontWeight);h.fillColor!==k&&h.tspan.setAttributeNS(null,"fill",h.fillColor);a=h.textMatrix;0!==h.textRise&&(a=a.slice(),a[5]+=h.textRise);h.txtElement.setAttributeNS(null,"transform",d(a)+" scale(1, -1)");h.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve");h.txtElement.appendChild(h.tspan);h.txtgrp.appendChild(h.txtElement);this._ensureTransformGroup().appendChild(h.txtElement)}},setLeadingMoveText:function(a,b){this.setLeading(-b);this.moveText(a,b)},addFontStyle:function(a){this.cssStyle||
(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var b=(0,g.createObjectURL)(a.data,a.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'+a.loadedName+'"; src: url('+b+"); }\n"},setFont:function(a){var d=this.current,h=this.commonObjs.get(a[0]),a=a[1];this.current.font=h;this.embedFonts&&(h.data&&!this.embeddedFonts[h.loadedName])&&(this.addFontStyle(h),this.embeddedFonts[h.loadedName]=
h);d.fontMatrix=h.fontMatrix?h.fontMatrix:g.FONT_IDENTITY_MATRIX;var c=h.black?h.bold?"bolder":"bold":h.bold?"bold":"normal",e=h.italic?"italic":"normal";0>a?(a=-a,d.fontDirection=-1):d.fontDirection=1;d.fontSize=a;d.fontFamily=h.loadedName;d.fontWeight=c;d.fontStyle=e;d.tspan=this.svgFactory.createElement("svg:tspan");d.tspan.setAttributeNS(null,"y",b(-d.y));d.xcoords=[]},endText:function(){},setLineWidth:function(a){this.current.lineWidth=a},setLineCap:function(a){this.current.lineCap=h[a]},setLineJoin:function(a){this.current.lineJoin=
s[a]},setMiterLimit:function(a){this.current.miterLimit=a},setStrokeAlpha:function(a){this.current.strokeAlpha=a},setStrokeRGBColor:function(a,b,d){this.current.strokeColor=g.Util.makeCssRgb(a,b,d)},setFillAlpha:function(a){this.current.fillAlpha=a},setFillRGBColor:function(a,b,d){this.current.fillColor=g.Util.makeCssRgb(a,b,d);this.current.tspan=this.svgFactory.createElement("svg:tspan");this.current.xcoords=[]},setDash:function(a,b){this.current.dashArray=a;this.current.dashPhase=b},constructPath:function(a,
d){var h=this.current,c=h.x,e=h.y;h.path=this.svgFactory.createElement("svg:path");for(var k=[],m=a.length,f=0,u=0;f<m;f++)switch(a[f]|0){case g.OPS.rectangle:var c=d[u++],e=d[u++],A=d[u++],o=d[u++],A=c+A,o=e+o;k.push("M",b(c),b(e),"L",b(A),b(e),"L",b(A),b(o),"L",b(c),b(o),"Z");break;case g.OPS.moveTo:c=d[u++];e=d[u++];k.push("M",b(c),b(e));break;case g.OPS.lineTo:c=d[u++];e=d[u++];k.push("L",b(c),b(e));break;case g.OPS.curveTo:c=d[u+4];e=d[u+5];k.push("C",b(d[u]),b(d[u+1]),b(d[u+2]),b(d[u+3]),b(c),
b(e));u+=6;break;case g.OPS.curveTo2:c=d[u+2];e=d[u+3];k.push("C",b(c),b(e),b(d[u]),b(d[u+1]),b(d[u+2]),b(d[u+3]));u+=4;break;case g.OPS.curveTo3:c=d[u+2];e=d[u+3];k.push("C",b(d[u]),b(d[u+1]),b(c),b(e),b(c),b(e));u+=4;break;case g.OPS.closePath:k.push("Z")}h.path.setAttributeNS(null,"d",k.join(" "));h.path.setAttributeNS(null,"fill","none");this._ensureTransformGroup().appendChild(h.path);h.element=h.path;h.setCurrentPoint(c,e)},endPath:function(){if(this.pendingClip){var a=this.current,b="clippath"+
o;o++;var h=this.svgFactory.createElement("svg:clipPath");h.setAttributeNS(null,"id",b);h.setAttributeNS(null,"transform",d(this.transformMatrix));var c=a.element.cloneNode();"evenodd"===this.pendingClip?c.setAttributeNS(null,"clip-rule","evenodd"):c.setAttributeNS(null,"clip-rule","nonzero");this.pendingClip=null;h.appendChild(c);this.defs.appendChild(h);a.activeClipUrl&&(a.clipGroup=null,this.extraStack.forEach(function(c){c.clipGroup=null}));a.activeClipUrl="url(#"+b+")";this.tgrp=null}},clip:function(a){this.pendingClip=
a},closePath:function(){var a=this.current;if(a.path){var b=a.path.getAttributeNS(null,"d");a.path.setAttributeNS(null,"d",b+"Z")}},setLeading:function(a){this.current.leading=-a},setTextRise:function(a){this.current.textRise=a},setHScale:function(a){this.current.textHScale=a/100},setGState:function(a){for(var b=0,d=a.length;b<d;b++){var c=a[b],e=c[0],c=c[1];switch(e){case "LW":this.setLineWidth(c);break;case "LC":this.setLineCap(c);break;case "LJ":this.setLineJoin(c);break;case "ML":this.setMiterLimit(c);
break;case "D":this.setDash(c[0],c[1]);break;case "Font":this.setFont(c);break;case "CA":this.setStrokeAlpha(c);break;case "ca":this.setFillAlpha(c);break;default:(0,g.warn)("Unimplemented graphic state "+e)}}},fill:function(){var a=this.current;a.element&&(a.element.setAttributeNS(null,"fill",a.fillColor),a.element.setAttributeNS(null,"fill-opacity",a.fillAlpha))},stroke:function(){var a=this.current;a.element&&(a.element.setAttributeNS(null,"stroke",a.strokeColor),a.element.setAttributeNS(null,
"stroke-opacity",a.strokeAlpha),a.element.setAttributeNS(null,"stroke-miterlimit",b(a.miterLimit)),a.element.setAttributeNS(null,"stroke-linecap",a.lineCap),a.element.setAttributeNS(null,"stroke-linejoin",a.lineJoin),a.element.setAttributeNS(null,"stroke-width",b(a.lineWidth)+"px"),a.element.setAttributeNS(null,"stroke-dasharray",a.dashArray.map(b).join(" ")),a.element.setAttributeNS(null,"stroke-dashoffset",b(a.dashPhase)+"px"),a.element.setAttributeNS(null,"fill","none"))},eoFill:function(){this.current.element&&
this.current.element.setAttributeNS(null,"fill-rule","evenodd");this.fill()},fillStroke:function(){this.stroke();this.fill()},eoFillStroke:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd");this.fillStroke()},closeStroke:function(){this.closePath();this.stroke()},closeFillStroke:function(){this.closePath();this.fillStroke()},paintSolidColorImageMask:function(){var a=this.current,b=this.svgFactory.createElement("svg:rect");b.setAttributeNS(null,"x","0");
b.setAttributeNS(null,"y","0");b.setAttributeNS(null,"width","1px");b.setAttributeNS(null,"height","1px");b.setAttributeNS(null,"fill",a.fillColor);this._ensureTransformGroup().appendChild(b)},paintJpegXObject:function(a,d,h){var a=this.objs.get(a),c=this.svgFactory.createElement("svg:image");c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.src);c.setAttributeNS(null,"width",b(d));c.setAttributeNS(null,"height",b(h));c.setAttributeNS(null,"x","0");c.setAttributeNS(null,"y",b(-h));c.setAttributeNS(null,
"transform","scale("+b(1/d)+" "+b(-1/h)+")");this._ensureTransformGroup().appendChild(c)},paintImageXObject:function(a){(a=this.objs.get(a))?this.paintInlineImageXObject(a):(0,g.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(d,h){var g=d.width,c=d.height,e=a(d,this.forceDataSchema,!!h),k=this.svgFactory.createElement("svg:rect");k.setAttributeNS(null,"x","0");k.setAttributeNS(null,"y","0");k.setAttributeNS(null,"width",b(g));k.setAttributeNS(null,"height",b(c));this.current.element=
k;this.clip("nonzero");k=this.svgFactory.createElement("svg:image");k.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e);k.setAttributeNS(null,"x","0");k.setAttributeNS(null,"y",b(-c));k.setAttributeNS(null,"width",b(g)+"px");k.setAttributeNS(null,"height",b(c)+"px");k.setAttributeNS(null,"transform","scale("+b(1/g)+" "+b(-1/c)+")");h?h.appendChild(k):this._ensureTransformGroup().appendChild(k)},paintImageMaskXObject:function(a){var d=this.current,h=a.width,c=a.height,e=d.fillColor;d.maskId=
"mask"+t++;var g=this.svgFactory.createElement("svg:mask");g.setAttributeNS(null,"id",d.maskId);var k=this.svgFactory.createElement("svg:rect");k.setAttributeNS(null,"x","0");k.setAttributeNS(null,"y","0");k.setAttributeNS(null,"width",b(h));k.setAttributeNS(null,"height",b(c));k.setAttributeNS(null,"fill",e);k.setAttributeNS(null,"mask","url(#"+d.maskId+")");this.defs.appendChild(g);this._ensureTransformGroup().appendChild(k);this.paintInlineImageXObject(a,g)},paintFormXObjectBegin:function(a,d){Array.isArray(a)&&
6===a.length&&this.transform(a[0],a[1],a[2],a[3],a[4],a[5]);if(Array.isArray(d)&&4===d.length){var h=d[2]-d[0],c=d[3]-d[1],e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x",d[0]);e.setAttributeNS(null,"y",d[1]);e.setAttributeNS(null,"width",b(h));e.setAttributeNS(null,"height",b(c));this.current.element=e;this.clip("nonzero");this.endPath()}},paintFormXObjectEnd:function(){},_initialize:function(a){var b=this.svgFactory.create(a.width,a.height),h=this.svgFactory.createElement("svg:defs");
b.appendChild(h);this.defs=h;h=this.svgFactory.createElement("svg:g");h.setAttributeNS(null,"transform",d(a.transform));b.appendChild(h);this.svg=h;return b},_ensureClipGroup:function(){if(!this.current.clipGroup){var a=this.svgFactory.createElement("svg:g");a.setAttributeNS(null,"clip-path",this.current.activeClipUrl);this.svg.appendChild(a);this.current.clipGroup=a}return this.current.clipGroup},_ensureTransformGroup:function(){this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,
"transform",d(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp));return this.tgrp}};return f}();d.SVGGraphics=f},function(f,d,b){var f=b(0),l=b(112),k=b(57),g=b(60),m=b(59),a=b(10),r=b(61),b=f.isNodeJS()?b(118).PDFNodeStream:"undefined"!==typeof Response&&"body"in Response.prototype&&"undefined"!==typeof ReadableStream?b(119).PDFFetchStream:b(120).PDFNetworkStream;k.setPDFNetworkStreamClass(b);d.PDFJS=l.PDFJS;d.build=k.build;
d.version=k.version;d.getDocument=k.getDocument;d.LoopbackPort=k.LoopbackPort;d.PDFDataRangeTransport=k.PDFDataRangeTransport;d.PDFWorker=k.PDFWorker;d.renderTextLayer=g.renderTextLayer;d.AnnotationLayer=m.AnnotationLayer;d.CustomStyle=a.CustomStyle;d.createPromiseCapability=f.createPromiseCapability;d.PasswordResponses=f.PasswordResponses;d.InvalidPDFException=f.InvalidPDFException;d.MissingPDFException=f.MissingPDFException;d.SVGGraphics=r.SVGGraphics;d.NativeImageDecoding=f.NativeImageDecoding;
d.UnexpectedResponseException=f.UnexpectedResponseException;d.OPS=f.OPS;d.UNSUPPORTED_FEATURES=f.UNSUPPORTED_FEATURES;d.createValidAbsoluteUrl=f.createValidAbsoluteUrl;d.createObjectURL=f.createObjectURL;d.removeNullCharacters=f.removeNullCharacters;d.shadow=f.shadow;d.createBlob=f.createBlob;d.RenderingCancelledException=a.RenderingCancelledException;d.getFilenameFromUrl=a.getFilenameFromUrl;d.addLinkAttributes=a.addLinkAttributes},function(f,d,b){var l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?
function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};if("undefined"===typeof PDFJS||!PDFJS.compatibilityChecked){var k=b(14),g="undefined"!==typeof navigator&&navigator.userAgent||"",m=/Android/.test(g),a=/Android\s[0-4][^\d]/.test(g),r=0<=g.indexOf("Chrom"),f=0<=g.indexOf("CriOS"),d=0<=g.indexOf("Trident"),j=/\b(iPad|iPhone|iPod)(?=;)/.test(g),q=/Safari\//.test(g)&&!/(Chrome\/|Android\s)/.test(g),v="object"===
("undefined"===typeof window?"undefined":l(window))&&"object"===("undefined"===typeof document?"undefined":l(document));"undefined"===typeof PDFJS&&(k.PDFJS={});PDFJS.compatibilityChecked=!0;k.URL||(k.URL=k.webkitURL);(function(){if(typeof XMLHttpRequest!=="undefined"){var a=XMLHttpRequest.prototype,b=new XMLHttpRequest;"overrideMimeType"in b||Object.defineProperty(a,"overrideMimeType",{value:function(){}});if(!("responseType"in b)){Object.defineProperty(a,"responseType",{get:function(){return this._responseType||
"text"},set:function(a){if(a==="text"||a==="arraybuffer"){this._responseType=a;a==="arraybuffer"&&typeof this.overrideMimeType==="function"&&this.overrideMimeType("text/plain; charset=x-user-defined")}}});Object.defineProperty(a,"response",{get:function(){if(this.responseType!=="arraybuffer")return this.responseText;var a=this.responseText,b,d=a.length,h=new Uint8Array(d);for(b=0;b<d;++b)h[b]=a.charCodeAt(b)&255;return h.buffer}})}}})();(function(){v&&("dataset"in document.createElement("div")||Object.defineProperty(HTMLElement.prototype,
"dataset",{get:function(){if(this._dataset)return this._dataset;for(var a={},b=0,d=this.attributes.length;b<d;b++){var j=this.attributes[b];if(j.name.substring(0,5)==="data-"){var i=j.name.substring(5).replace(/\-([a-z])/g,function(a,b){return b.toUpperCase()});a[i]=j.value}}Object.defineProperty(this,"_dataset",{value:a,writable:false,enumerable:false});return a},enumerable:true}))})();if(d||f)PDFJS.disableCreateObjectURL=!0;"undefined"!==typeof navigator&&!("language"in navigator)&&(PDFJS.locale=
navigator.userLanguage||"en-US");if(q||j)PDFJS.disableRange=!0,PDFJS.disableStream=!0;(function(){if(v)if(window.CanvasPixelArray){if(typeof window.CanvasPixelArray.prototype.set!=="function")window.CanvasPixelArray.prototype.set=function(a){for(var b=0,d=this.length;b<d;b++)this[b]=a[b]}}else{var b=false;if(r)b=(b=g.match(/Chrom(e|ium)\/([0-9]+)\./))&&parseInt(b[2])<21;else if(m)b=a;else if(q)b=(b=g.match(/Version\/([0-9]+)\.([0-9]+)\.([0-9]+) Safari\//))&&parseInt(b[1])<6;if(b){var b=window.CanvasRenderingContext2D.prototype,
d=b.createImageData;b.createImageData=function(a,b){var h=d.call(this,a,b);h.data.set=function(a){for(var b=0,c=this.length;b<c;b++)this[b]=a[b]};return h};b=null}}})();if(j||m)PDFJS.maxCanvasPixels=5242880;v&&(d&&window.parent!==window)&&(PDFJS.disableFullscreen=!0);(function(){v&&("currentScript"in document||Object.defineProperty(document,"currentScript",{get:function(){var a=document.getElementsByTagName("script");return a[a.length-1]},enumerable:true,configurable:true}))})();(function(){if(v){var a=
document.createElement("input");try{a.type="number"}catch(b){var a=a.constructor.prototype,d=Object.getOwnPropertyDescriptor(a,"type");Object.defineProperty(a,"type",{get:function(){return d.get.call(this)},set:function(a){d.set.call(this,a==="number"?"text":a)},enumerable:true,configurable:true})}}})();(function(){if(v&&document.attachEvent){var a=document.constructor.prototype,b=Object.getOwnPropertyDescriptor(a,"readyState");Object.defineProperty(a,"readyState",{get:function(){var a=b.get.call(this);
return a==="interactive"?"loading":a},set:function(a){b.set.call(this,a)},enumerable:true,configurable:true})}})();(function(){if(v&&typeof Element.prototype.remove==="undefined")Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}})();Object.values||(Object.values=b(64));Array.prototype.includes||(Array.prototype.includes=b(69));Number.isNaN||(Number.isNaN=b(71));Number.isInteger||(Number.isInteger=b(73));k.Promise||(k.Promise=b(76));k.WeakMap||(k.WeakMap=b(94));
(function(){function a(c){if(c===""){i.call(this);this._isInvalid=true}return c.toLowerCase()}function b(c){var a=c.charCodeAt(0);return a>32&&a<127&&[34,35,60,62,63,96].indexOf(a)===-1?c:encodeURIComponent(c)}function d(c){var a=c.charCodeAt(0);return a>32&&a<127&&[34,35,60,62,96].indexOf(a)===-1?c:encodeURIComponent(c)}function j(c,e,g){function k(c){p.push(c)}var m=e||"scheme start",l=0,q="",t=false,n=false,p=[];a:for(;(c[l-1]!==r||l===0)&&!this._isInvalid;){var y=c[l];switch(m){case "scheme start":if(y&&
u.test(y)){q=q+y.toLowerCase();m="scheme"}else if(e){k("Invalid scheme.");break a}else{q="";m="no scheme";continue}break;case "scheme":if(y&&A.test(y))q=q+y.toLowerCase();else if(y===":"){this._scheme=q;q="";if(e)break a;if(f[this._scheme]!==void 0)this._isRelative=true;m=this._scheme==="file"?"relative":this._isRelative&&g&&g._scheme===this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}else if(e){y!==r&&k("Code point not allowed in scheme: "+y);break a}else{q=
"";l=0;m="no scheme";continue}break;case "scheme data":if(y==="?"){this._query="?";m="query"}else if(y==="#"){this._fragment="#";m="fragment"}else if(y!==r&&y!=="\t"&&y!=="\n"&&y!=="\r")this._schemeData=this._schemeData+b(y);break;case "no scheme":if(!g||f[g._scheme]===void 0){k("Missing scheme.");i.call(this);this._isInvalid=true}else{m="relative";continue}break;case "relative or authority":if(y==="/"&&c[l+1]==="/")m="authority ignore slashes";else{k("Expected /, got: "+y);m="relative";continue}break;
case "relative":this._isRelative=true;if(this._scheme!=="file")this._scheme=g._scheme;if(y===r){this._host=g._host;this._port=g._port;this._path=g._path.slice();this._query=g._query;this._username=g._username;this._password=g._password;break a}else if(y==="/"||y==="\\"){y==="\\"&&k("\\ is an invalid code point.");m="relative slash"}else if(y==="?"){this._host=g._host;this._port=g._port;this._path=g._path.slice();this._query="?";this._username=g._username;this._password=g._password;m="query"}else if(y===
"#"){this._host=g._host;this._port=g._port;this._path=g._path.slice();this._query=g._query;this._fragment="#";this._username=g._username;this._password=g._password;m="fragment"}else{var m=c[l+1],F=c[l+2];if(this._scheme!=="file"||!u.test(y)||m!==":"&&m!=="|"||F!==r&&F!=="/"&&F!=="\\"&&F!=="?"&&F!=="#"){this._host=g._host;this._port=g._port;this._username=g._username;this._password=g._password;this._path=g._path.slice();this._path.pop()}m="relative path";continue}break;case "relative slash":if(y===
"/"||y==="\\"){y==="\\"&&k("\\ is an invalid code point.");m=this._scheme==="file"?"file host":"authority ignore slashes"}else{if(this._scheme!=="file"){this._host=g._host;this._port=g._port;this._username=g._username;this._password=g._password}m="relative path";continue}break;case "authority first slash":if(y==="/")m="authority second slash";else{k("Expected '/', got: "+y);m="authority ignore slashes";continue}break;case "authority second slash":m="authority ignore slashes";if(y!=="/"){k("Expected '/', got: "+
y);continue}break;case "authority ignore slashes":if(y!=="/"&&y!=="\\"){m="authority";continue}else k("Expected authority, got: "+y);break;case "authority":if(y==="@"){if(t){k("@ already seen.");q=q+"%40"}t=true;for(y=0;y<q.length;y++){F=q[y];if(F==="\t"||F==="\n"||F==="\r")k("Invalid whitespace in authority.");else if(F===":"&&this._password===null)this._password="";else{F=b(F);this._password!==null?this._password=this._password+F:this._username=this._username+F}}q=""}else if(y===r||y==="/"||y===
"\\"||y==="?"||y==="#"){l=l-q.length;q="";m="host";continue}else q=q+y;break;case "file host":if(y===r||y==="/"||y==="\\"||y==="?"||y==="#"){if(q.length===2&&u.test(q[0])&&(q[1]===":"||q[1]==="|"))m="relative path";else{if(q.length!==0){this._host=a.call(this,q);q=""}m="relative path start"}continue}else y==="\t"||y==="\n"||y==="\r"?k("Invalid whitespace in file host."):q=q+y;break;case "host":case "hostname":if(y===":"&&!n){this._host=a.call(this,q);q="";m="port";if(e==="hostname")break a}else if(y===
r||y==="/"||y==="\\"||y==="?"||y==="#"){this._host=a.call(this,q);q="";m="relative path start";if(e)break a;continue}else if(y!=="\t"&&y!=="\n"&&y!=="\r"){y==="["?n=true:y==="]"&&(n=false);q=q+y}else k("Invalid code point in host/hostname: "+y);break;case "port":if(/[0-9]/.test(y))q=q+y;else if(y===r||y==="/"||y==="\\"||y==="?"||y==="#"||e){if(q!==""){q=parseInt(q,10);if(q!==f[this._scheme])this._port=q+"";q=""}if(e)break a;m="relative path start";continue}else if(y==="\t"||y==="\n"||y==="\r")k("Invalid code point in port: "+
y);else{i.call(this);this._isInvalid=true}break;case "relative path start":y==="\\"&&k("'\\' not allowed in path.");m="relative path";if(y!=="/"&&y!=="\\")continue;break;case "relative path":if(y===r||y==="/"||y==="\\"||!e&&(y==="?"||y==="#")){y==="\\"&&k("\\ not allowed in relative path.");if(F=v[q.toLowerCase()])q=F;if(q===".."){this._path.pop();y!=="/"&&y!=="\\"&&this._path.push("")}else if(q==="."&&y!=="/"&&y!=="\\")this._path.push("");else if(q!=="."){this._scheme==="file"&&(this._path.length===
0&&q.length===2&&u.test(q[0])&&q[1]==="|")&&(q=q[0]+":");this._path.push(q)}q="";if(y==="?"){this._query="?";m="query"}else if(y==="#"){this._fragment="#";m="fragment"}}else y!=="\t"&&(y!=="\n"&&y!=="\r")&&(q=q+b(y));break;case "query":if(!e&&y==="#"){this._fragment="#";m="fragment"}else if(y!==r&&y!=="\t"&&y!=="\n"&&y!=="\r")this._query=this._query+d(y);break;case "fragment":if(y!==r&&y!=="\t"&&y!=="\n"&&y!=="\r")this._fragment=this._fragment+y}l++}}function i(){this._username=this._schemeData=this._scheme=
"";this._password=null;this._port=this._host="";this._path=[];this._fragment=this._query="";this._isRelative=this._isInvalid=false}function g(c,a){a!==void 0&&!(a instanceof g)&&(a=new g(""+a));this._url=c;i.call(this);var b=c.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");j.call(this,b,null,a)}var m=false;try{if(typeof URL==="function"&&l(URL.prototype)==="object"&&"origin"in URL.prototype){var c=new URL("b","http://a");c.pathname="c%20d";m=c.href==="http://a/c%20d"}}catch(e){}if(!m){var f=Object.create(null);
f.ftp=21;f.file=0;f.gopher=70;f.http=80;f.https=443;f.ws=80;f.wss=443;var v=Object.create(null);v["%2e"]=".";v[".%2e"]="..";v["%2e."]="..";v["%2e%2e"]="..";var r,u=/[a-zA-Z]/,A=/[a-zA-Z0-9\+\-\.]/;g.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var c="";if(this._username!==""||this._password!==null)c=this._username+(this._password!==null?":"+this._password:"")+"@";return this.protocol+(this._isRelative?"//"+c+this.host:"")+this.pathname+this._query+
this._fragment},set href(c){i.call(this);j.call(this,c)},get protocol(){return this._scheme+":"},set protocol(c){this._isInvalid||j.call(this,c+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(c){!this._isInvalid&&this._isRelative&&j.call(this,c,"host")},get hostname(){return this._host},set hostname(c){!this._isInvalid&&this._isRelative&&j.call(this,c,"hostname")},get port(){return this._port},set port(c){!this._isInvalid&&this._isRelative&&
j.call(this,c,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(c){if(!this._isInvalid&&this._isRelative){this._path=[];j.call(this,c,"relative path start")}},get search(){return this._isInvalid||!this._query||this._query==="?"?"":this._query},set search(c){if(!this._isInvalid&&this._isRelative){this._query="?";c[0]==="?"&&(c=c.slice(1));j.call(this,c,"query")}},get hash(){return this._isInvalid||!this._fragment||this._fragment===
"#"?"":this._fragment},set hash(c){if(!this._isInvalid){this._fragment="#";c[0]==="#"&&(c=c.slice(1));j.call(this,c,"fragment")}},get origin(){var c;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case "data":case "file":case "javascript":case "mailto":return"null";case "blob":try{return(new g(this._schemeData)).origin||"null"}catch(a){}return"null"}c=this.host;return!c?"":this._scheme+"://"+c}};var q=k.URL;if(q){g.createObjectURL=function(c){return q.createObjectURL.apply(q,arguments)};
g.revokeObjectURL=function(c){q.revokeObjectURL(c)}}k.URL=g}})()}},function(f,d,b){b(65);f.exports=b(5).Object.values},function(f,d,b){var f=b(4),l=b(66)(!1);f(f.S,"Object",{values:function(b){return l(b)}})},function(f,d,b){var l=b(21),k=b(17),g=b(31).f;f.exports=function(b){return function(a){for(var a=k(a),d=l(a),j=d.length,f=0,v=[],h;j>f;)if(g.call(a,h=d[f++]))v.push(b?[h,a[h]]:a[h]);return v}}},function(f,d,b){var l=b(7),k=b(17),g=b(41)(!1),m=b(30)("IE_PROTO");f.exports=function(a,b){var d=k(a),
f=0,v=[],h;for(h in d)h!=m&&l(d,h)&&v.push(h);for(;b.length>f;)if(l(d,h=b[f++]))~g(v,h)||v.push(h);return v}},function(f,d,b){var l=b(29),k=Math.max,g=Math.min;f.exports=function(b,a){b=l(b);return 0>b?k(b+a,0):g(b,a)}},function(f,d,b){b(70);f.exports=b(5).Array.includes},function(f,d,b){var f=b(4),l=b(41)(!0);f(f.P,"Array",{includes:function(b){return l(this,b,1<arguments.length?arguments[1]:void 0)}});b(44)("includes")},function(f,d,b){b(72);f.exports=b(5).Number.isNaN},function(f,d,b){f=b(4);f(f.S,
"Number",{isNaN:function(b){return b!=b}})},function(f,d,b){b(74);f.exports=b(5).Number.isInteger},function(f,d,b){f=b(4);f(f.S,"Number",{isInteger:b(75)})},function(f,d,b){var l=b(1),k=Math.floor;f.exports=function(b){return!l(b)&&isFinite(b)&&k(b)===b}},function(f,d,b){b(45);b(77);b(49);b(85);b(92);b(93);f.exports=b(5).Promise},function(f,d,b){var l=b(78)(!0);b(46)(String,"String",function(b){this._t=""+b;this._i=0},function(){var b=this._t,d=this._i;if(d>=b.length)return{value:void 0,done:!0};
b=l(b,d);this._i+=b.length;return{value:b,done:!1}})},function(f,d,b){var l=b(29),k=b(27);f.exports=function(b){return function(d,a){var f=""+k(d),j=l(a),q=f.length,v,h;if(0>j||j>=q)return b?"":void 0;v=f.charCodeAt(j);return 55296>v||56319<v||j+1===q||56320>(h=f.charCodeAt(j+1))||57343<h?b?f.charAt(j):v:b?f.slice(j,j+2):(v-55296<<10)+(h-56320)+65536}}},function(f,d,b){var l=b(80),k=b(25),g=b(22),m={};b(11)(m,b(2)("iterator"),function(){return this});f.exports=function(a,b,d){a.prototype=l(m,{next:k(1,
d)});g(a,b+" Iterator")}},function(f,d,b){var l=b(6),k=b(81),g=b(43),m=b(30)("IE_PROTO"),a=function(){},r=function(){var a=b(24)("iframe"),d=g.length;a.style.display="none";b(48).appendChild(a);a.src="javascript:";a=a.contentWindow.document;a.open();a.write("<script>document.F=Object<\/script>");a.close();for(r=a.F;d--;)delete r.prototype[g[d]];return r()};f.exports=Object.create||function(b,d){var g;null!==b?(a.prototype=l(b),g=new a,a.prototype=null,g[m]=b):g=r();return void 0===d?g:k(g,d)}},function(f,
d,b){var l=b(15),k=b(6),g=b(21);f.exports=b(12)?Object.defineProperties:function(b,a){k(b);for(var d=g(a),j=d.length,f=0,v;j>f;)l.f(b,v=d[f++],a[v]);return b}},function(f,d,b){var l=b(7),k=b(33),g=b(30)("IE_PROTO"),m=Object.prototype;f.exports=Object.getPrototypeOf||function(a){a=k(a);return l(a,g)?a[g]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?m:null}},function(f,d,b){var d=b(44),l=b(84),k=b(19),g=b(17);f.exports=b(46)(Array,"Array",
function(b,a){this._t=g(b);this._i=0;this._k=a},function(){var b=this._t,a=this._k,d=this._i++;return!b||d>=b.length?(this._t=void 0,l(1)):"keys"==a?l(0,d):"values"==a?l(0,b[d]):l(0,[d,b[d]])},"values");k.Arguments=k.Array;d("keys");d("values");d("entries")},function(f){f.exports=function(d,b){return{value:b,done:!!d}}},function(f,d,b){var l=b(47),k=b(3),g=b(9),m=b(32),f=b(4),a=b(1),r=b(16),j=b(34),q=b(23),v=b(50),h=b(51).set,s=b(90)(),d=b(35),o=b(52),t=b(53),i=k.TypeError,p=k.process,B=k.Promise,
c="process"==m(p),e=function(){},z,w,C,u,A=w=d.f,m=!!function(){try{var a=B.resolve(1),d=(a.constructor={})[b(2)("species")]=function(c){c(e,e)};return(c||"function"==typeof PromiseRejectionEvent)&&a.then(e)instanceof d}catch(h){}}(),F=function(c){var b;return a(c)&&"function"==typeof(b=c.then)?b:!1},I=function(c,a){if(!c._n){c._n=!0;var b=c._c;s(function(){for(var d=c._v,e=1==c._s,h=0;b.length>h;){var g=b[h++],j=e?g.ok:g.fail,k=g.resolve,u=g.reject,m=g.domain,f=void 0,A=void 0;try{j?(e||(2==c._h&&
H(c),c._h=1),!0===j?f=d:(m&&m.enter(),f=j(d),m&&m.exit()),f===g.promise?u(i("Promise-chain cycle")):(A=F(f))?A.call(f,k,u):k(f)):u(d)}catch(l){u(l)}}c._c=[];c._n=!1;a&&!c._h&&K(c)})}},K=function(a){h.call(k,function(){var b=a._v,d=E(a),e,h,i;d&&(e=o(function(){c?p.emit("unhandledRejection",b,a):(h=k.onunhandledrejection)?h({promise:a,reason:b}):(i=k.console)&&i.error&&i.error("Unhandled promise rejection",b)}),a._h=c||E(a)?2:1);a._a=void 0;if(d&&e.e)throw e.v;})},E=function M(c){if(1==c._h)return!1;
for(var c=c._a||c._c,a=0,b;c.length>a;)if(b=c[a++],b.fail||!M(b.promise))return!1;return!0},H=function(a){h.call(k,function(){var b;c?p.emit("rejectionHandled",a):(b=k.onrejectionhandled)&&b({promise:a,reason:a._v})})},L=function(c){var a=this;a._d||(a._d=!0,a=a._w||a,a._v=c,a._s=2,a._a||(a._a=a._c.slice()),I(a,!0))},N=function n(c){var a=this,b;if(!a._d){a._d=!0;a=a._w||a;try{if(a===c)throw i("Promise can't be resolved itself");(b=F(c))?s(function(){var d={_w:a,_d:!1};try{b.call(c,g(n,d,1),g(L,d,
1))}catch(e){L.call(d,e)}}):(a._v=c,a._s=1,I(a,!1))}catch(d){L.call({_w:a,_d:!1},d)}}};m||(B=function(c){j(this,B,"Promise","_h");r(c);z.call(this);try{c(g(N,this,1),g(L,this,1))}catch(a){L.call(this,a)}},z=function(){this._c=[];this._a=void 0;this._s=0;this._d=!1;this._v=void 0;this._h=0;this._n=!1},z.prototype=b(36)(B.prototype,{then:function(a,b){var d=A(v(this,B));d.ok="function"==typeof a?a:!0;d.fail="function"==typeof b&&b;d.domain=c?p.domain:void 0;this._c.push(d);this._a&&this._a.push(d);
this._s&&I(this,!1);return d.promise},"catch":function(c){return this.then(void 0,c)}}),C=function(){var c=new z;this.promise=c;this.resolve=g(N,c,1);this.reject=g(L,c,1)},d.f=A=function(c){return c===B||c===u?new C(c):w(c)});f(f.G+f.W+f.F*!m,{Promise:B});b(22)(B,"Promise");b(91)("Promise");u=b(5).Promise;f(f.S+f.F*!m,"Promise",{reject:function(c){var a=A(this),b=a.reject;b(c);return a.promise}});f(f.S+f.F*(l||!m),"Promise",{resolve:function(c){return t(l&&this===u?B:this,c)}});f(f.S+f.F*!(m&&b(54)(function(c){B.all(c)["catch"](e)})),
"Promise",{all:function(c){var a=this,b=A(a),d=b.resolve,e=b.reject,h=o(function(){var b=[],h=0,i=1;q(c,false,function(c){var g=h++,j=false;b.push(void 0);i++;a.resolve(c).then(function(c){if(!j){j=true;b[g]=c;--i||d(b)}},e)});--i||d(b)});h.e&&e(h.v);return b.promise},race:function(c){var a=this,b=A(a),d=b.reject,e=o(function(){q(c,false,function(c){a.resolve(c).then(b.resolve,d)})});e.e&&d(e.v);return b.promise}})},function(f,d,b){var l=b(6);f.exports=function(b,d,m,a){try{return a?d(l(m)[0],m[1]):
d(m)}catch(f){throw d=b["return"],void 0!==d&&l(d.call(b)),f;}}},function(f,d,b){var l=b(19),k=b(2)("iterator"),g=Array.prototype;f.exports=function(b){return void 0!==b&&(l.Array===b||g[k]===b)}},function(f,d,b){var l=b(32),k=b(2)("iterator"),g=b(19);f.exports=b(5).getIteratorMethod=function(b){if(void 0!=b)return b[k]||b["@@iterator"]||g[l(b)]}},function(f){f.exports=function(d,b,f){var k=void 0===f;switch(b.length){case 0:return k?d():d.call(f);case 1:return k?d(b[0]):d.call(f,b[0]);case 2:return k?
d(b[0],b[1]):d.call(f,b[0],b[1]);case 3:return k?d(b[0],b[1],b[2]):d.call(f,b[0],b[1],b[2]);case 4:return k?d(b[0],b[1],b[2],b[3]):d.call(f,b[0],b[1],b[2],b[3])}return d.apply(f,b)}},function(f,d,b){var l=b(3),k=b(51).set,g=l.MutationObserver||l.WebKitMutationObserver,m=l.process,a=l.Promise,r="process"==b(18)(m);f.exports=function(){var b,d,f,h=function(){var a,h;for(r&&(a=m.domain)&&a.exit();b;){h=b.fn;b=b.next;try{h()}catch(g){throw b?f():d=void 0,g;}}d=void 0;a&&a.enter()};if(r)f=function(){m.nextTick(h)};
else if(g){var s=!0,o=document.createTextNode("");(new g(h)).observe(o,{characterData:!0});f=function(){o.data=s=!s}}else if(a&&a.resolve){var t=a.resolve();f=function(){t.then(h)}}else f=function(){k.call(l,h)};return function(a){a={fn:a,next:void 0};d&&(d.next=a);b||(b=a,f());d=a}}},function(f,d,b){var l=b(3),k=b(15),g=b(12),m=b(2)("species");f.exports=function(a){a=l[a];g&&(a&&!a[m])&&k.f(a,m,{configurable:!0,get:function(){return this}})}},function(f,d,b){var f=b(4),l=b(5),k=b(3),g=b(50),m=b(53);
f(f.P+f.R,"Promise",{"finally":function(a){var b=g(this,l.Promise||k.Promise),d="function"==typeof a;return this.then(d?function(d){return m(b,a()).then(function(){return d})}:a,d?function(d){return m(b,a()).then(function(){throw d;})}:a)}})},function(f,d,b){var f=b(4),l=b(35),k=b(52);f(f.S,"Promise",{"try":function(b){var d=l.f(this),b=k(b);(b.e?d.reject:d.resolve)(b.v);return d.promise}})},function(f,d,b){b(45);b(49);b(95);b(106);b(108);f.exports=b(5).WeakMap},function(f,d,b){var d=b(55)(0),l=b(8),
k=b(37),g=b(99),m=b(101),a=b(1),r=b(13),j=b(56),q=k.getWeak,v=Object.isExtensible,h=m.ufstore,s={},o,t=function(a){return function(){return a(this,0<arguments.length?arguments[0]:void 0)}},i={get:function(b){if(a(b)){var c=q(b);return!0===c?h(j(this,"WeakMap")).get(b):c?c[this._i]:void 0}},set:function(a,c){return m.def(j(this,"WeakMap"),a,c)}},p=f.exports=b(102)("WeakMap",t,i,m,!0,!0);r(function(){return 7!=(new p).set((Object.freeze||Object)(s),7).get(s)})&&(o=m.getConstructor(t,"WeakMap"),g(o.prototype,
i),k.NEED=!0,d(["delete","has","get","set"],function(b){var c=p.prototype,d=c[b];l(c,b,function(c,h){if(a(c)&&!v(c)){this._f||(this._f=new o);var i=this._f[b](c,h);return"set"==b?this:i}return d.call(this,c,h)})}))},function(f,d,b){var l=b(97);f.exports=function(b,d){return new (l(b))(d)}},function(f,d,b){var l=b(1),k=b(98),g=b(2)("species");f.exports=function(b){var a;if(k(b)){a=b.constructor;if("function"==typeof a&&(a===Array||k(a.prototype)))a=void 0;l(a)&&(a=a[g],null===a&&(a=void 0))}return void 0===
a?Array:a}},function(f,d,b){var l=b(18);f.exports=Array.isArray||function(b){return"Array"==l(b)}},function(f,d,b){var l=b(21),k=b(100),g=b(31),m=b(33),a=b(26),r=Object.assign;f.exports=!r||b(13)(function(){var a={},b={},d=Symbol();a[d]=7;"abcdefghijklmnopqrst".split("").forEach(function(a){b[a]=a});return 7!=r({},a)[d]||"abcdefghijklmnopqrst"!=Object.keys(r({},b)).join("")})?function(b,d){for(var f=m(b),h=arguments.length,s=1,o=k.f,r=g.f;h>s;)for(var i=a(arguments[s++]),p=o?l(i).concat(o(i)):l(i),
B=p.length,c=0,e;B>c;)if(r.call(i,e=p[c++]))f[e]=i[e];return f}:r},function(f,d){d.f=Object.getOwnPropertySymbols},function(f,d,b){var l=b(36),k=b(37).getWeak,g=b(6),m=b(1),a=b(34),r=b(23),d=b(55),j=b(7),q=b(56),v=d(5),h=d(6),s=0,o=function(a){return a._l||(a._l=new t)},t=function(){this.a=[]},i=function(a,b){return v(a.a,function(c){return c[0]===b})};t.prototype={get:function(a){if(a=i(this,a))return a[1]},has:function(a){return!!i(this,a)},set:function(a,b){var c=i(this,a);c?c[1]=b:this.a.push([a,
b])},"delete":function(a){var b=h(this.a,function(c){return c[0]===a});~b&&this.a.splice(b,1);return!!~b}};f.exports={getConstructor:function(b,d,c,e){var h=b(function(b,i){a(b,h,d,"_i");b._t=d;b._i=s++;b._l=void 0;void 0!=i&&r(i,c,b[e],b)});l(h.prototype,{"delete":function(c){if(!m(c))return!1;var a=k(c);return!0===a?o(q(this,d))["delete"](c):a&&j(a,this._i)&&delete a[this._i]},has:function(c){if(!m(c))return!1;var a=k(c);return!0===a?o(q(this,d)).has(c):a&&j(a,this._i)}});return h},def:function(a,
b,c){var d=k(g(b),!0);!0===d?o(a).set(b,c):d[a._i]=c;return a},ufstore:o}},function(f,d,b){var l=b(3),k=b(4),g=b(8),m=b(36),a=b(37),r=b(23),j=b(34),q=b(1),v=b(13),h=b(54),s=b(22),o=b(103);f.exports=function(b,d,f,B,c,e){var z=l[b],w=z,C=c?"set":"add",u=w&&w.prototype,A={},F=function(c){var a=u[c];g(u,c,"delete"==c?function(c){return e&&!q(c)?!1:a.call(this,0===c?0:c)}:"has"==c?function(c){return e&&!q(c)?!1:a.call(this,0===c?0:c)}:"get"==c?function(c){return e&&!q(c)?void 0:a.call(this,0===c?0:c)}:
"add"==c?function(c){a.call(this,0===c?0:c);return this}:function(c,b){a.call(this,0===c?0:c,b);return this})};if("function"!=typeof w||!(e||u.forEach&&!v(function(){(new w).entries().next()})))w=B.getConstructor(d,b,c,C),m(w.prototype,f),a.NEED=!0;else{var I=new w,f=I[C](e?{}:-0.0,1)!=I,K=v(function(){I.has(1)}),E=h(function(c){new w(c)}),H=!e&&v(function(){for(var c=new w,a=5;a--;)c[C](a,a);return!c.has(-0.0)});E||(w=d(function(a,d){j(a,w,b);var e=o(new z,a,w);void 0!=d&&r(d,c,e[C],e);return e}),
w.prototype=u,u.constructor=w);if(K||H)F("delete"),F("has"),c&&F("get");(H||f)&&F(C);e&&u.clear&&delete u.clear}s(w,b);A[b]=w;k(k.G+k.W+k.F*(w!=z),A);e||B.setStrong(w,b,c);return w}},function(f,d,b){var l=b(1),k=b(104).set;f.exports=function(b,d,a){var d=d.constructor,f;d!==a&&("function"==typeof d&&(f=d.prototype)!==a.prototype&&l(f)&&k)&&k(b,f);return b}},function(f,d,b){var l=b(1),k=b(6),g=function(b,a){k(b);if(!l(a)&&null!==a)throw TypeError(a+": can't set as prototype!");};f.exports={set:Object.setPrototypeOf||
("__proto__"in{}?function(d,a,k){try{k=b(9)(Function.call,b(105).f(Object.prototype,"__proto__").set,2),k(d,[]),a=!(d instanceof Array)}catch(j){a=!0}return function(b,d){g(b,d);a?b.__proto__=d:k(b,d);return b}}({},!1):void 0),check:g}},function(f,d,b){var l=b(31),k=b(25),g=b(17),m=b(40),a=b(7),r=b(39),j=Object.getOwnPropertyDescriptor;d.f=b(12)?j:function(b,d){b=g(b);d=m(d,!0);if(r)try{return j(b,d)}catch(h){}if(a(b,d))return k(!l.f.call(b,d),b[d])}},function(f,d,b){b(107)("WeakMap")},function(f,
d,b){var l=b(4);f.exports=function(b){l(l.S,b,{of:function(){for(var b=arguments.length,d=Array(b);b--;)d[b]=arguments[b];return new this(d)}})}},function(f,d,b){b(109)("WeakMap")},function(f,d,b){var l=b(4),k=b(16),g=b(9),m=b(23);f.exports=function(a){l(l.S,a,{from:function(a,b,d){var f,h,l,o;k(this);(f=void 0!==b)&&k(b);if(void 0==a)return new this;h=[];f?(l=0,o=g(b,d,2),m(a,!1,function(a){h.push(o(a,l++))})):m(a,!1,h.push,h);return new this(h)}})}},function(f,d,b){f=!1;if("undefined"!==typeof ReadableStream)try{new ReadableStream({start:function(b){b.close()}}),
f=!0}catch(l){}d.ReadableStream=f?ReadableStream:b(111).ReadableStream},function(f,d){var b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};(function(b,d){for(var g in d)b[g]=d[g]})(d,function(b){function d(f){if(g[f])return g[f].exports;var a=g[f]={i:f,l:!1,exports:{}};b[f].call(a.exports,a,a.exports,d);a.l=!0;return a.exports}var g={};d.m=b;
d.c=g;d.i=function(b){return b};d.d=function(b,a,g){d.o(b,a)||Object.defineProperty(b,a,{configurable:!1,enumerable:!0,get:g})};d.n=function(b){var a=b&&b.__esModule?function(){return b["default"]}:function(){return b};d.d(a,"a",a);return a};d.o=function(b,a){return Object.prototype.hasOwnProperty.call(b,a)};d.p="";return d(d.s=7)}([function(d,f,g){function m(a){return"string"===typeof a||"symbol"===("undefined"===typeof a?"undefined":r(a))}function a(a,b,d){if("function"!==typeof a)throw new TypeError("Argument is not a function");
return Function.prototype.apply.call(a,b,d)}var r="function"===typeof Symbol&&"symbol"===b(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":b(a)}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":b(a)},j=g(1).assert;f.typeIsObject=function(a){return"object"===("undefined"===typeof a?"undefined":r(a))&&null!==a||"function"===typeof a};f.createDataProperty=function(a,b,d){j(f.typeIsObject(a));
Object.defineProperty(a,b,{value:d,writable:!0,enumerable:!0,configurable:!0})};f.createArrayFromList=function(a){return a.slice()};f.ArrayBufferCopy=function(a,b,d,g,j){(new Uint8Array(a)).set(new Uint8Array(d,g,j),b)};f.CreateIterResultObject=function(a,b){j("boolean"===typeof b);var d={};Object.defineProperty(d,"value",{value:a,enumerable:!0,writable:!0,configurable:!0});Object.defineProperty(d,"done",{value:b,enumerable:!0,writable:!0,configurable:!0});return d};f.IsFiniteNonNegativeNumber=function(a){return Number.isNaN(a)||
Infinity===a||0>a?!1:!0};f.InvokeOrNoop=function(b,d,h){j(void 0!==b);j(m(d));j(Array.isArray(h));d=b[d];return void 0===d?void 0:a(d,b,h)};f.PromiseInvokeOrNoop=function(a,b,d){j(void 0!==a);j(m(b));j(Array.isArray(d));try{return Promise.resolve(f.InvokeOrNoop(a,b,d))}catch(g){return Promise.reject(g)}};f.PromiseInvokeOrPerformFallback=function(b,d,h,g,f){j(void 0!==b);j(m(d));j(Array.isArray(h));j(Array.isArray(f));var k=void 0;try{k=b[d]}catch(i){return Promise.reject(i)}if(void 0===k)return g.apply(null,
f);try{return Promise.resolve(a(k,b,h))}catch(l){return Promise.reject(l)}};f.TransferArrayBuffer=function(a){return a.slice()};f.ValidateAndNormalizeHighWaterMark=function(a){a=Number(a);if(Number.isNaN(a)||0>a)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return a};f.ValidateAndNormalizeQueuingStrategy=function(a,b){if(void 0!==a&&"function"!==typeof a)throw new TypeError("size property of a queuing strategy must be a function");b=f.ValidateAndNormalizeHighWaterMark(b);
return{size:a,highWaterMark:b}}},function(b){function d(b){this.name="AssertionError";this.message=b||"";this.stack=Error().stack}d.prototype=Object.create(Error.prototype);d.prototype.constructor=d;b.exports={rethrowAssertionErrorRejection:function(b){b&&b.constructor===d&&setTimeout(function(){throw b;},0)},AssertionError:d,assert:function(b,f){if(!b)throw new d(f);}}},function(b,d,g){function f(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function a(a){return new pa(a)}
function r(a){return!S(a)||!Object.prototype.hasOwnProperty.call(a,"_writableStreamController")?!1:!0}function j(a){D(!0===r(a),"IsWritableStreamLocked should only be used on known writable streams");return void 0===a._writer?!1:!0}function q(a,c){var b=a._state;if("closed"===b)return Promise.resolve(void 0);if("errored"===b)return Promise.reject(a._storedError);var d=new TypeError("Requested to abort");if(void 0!==a._pendingAbortRequest)return Promise.reject(d);D("writable"===b||"erroring"===b,"state must be writable or erroring");
var e=!1;"erroring"===b&&(e=!0,c=void 0);b=new Promise(function(b,d){a._pendingAbortRequest={_resolve:b,_reject:d,_reason:c,_wasAlreadyErroring:e}});!1===e&&s(a,d);return b}function v(a){D(!0===j(a));D("writable"===a._state);return new Promise(function(c,b){a._writeRequests.push({_resolve:c,_reject:b})})}function h(a,c){var b=a._state;"writable"===b?s(a,c):(D("erroring"===b),o(a))}function s(a,c){D(void 0===a._storedError,"stream._storedError === undefined");D("writable"===a._state,"state must be writable");
var b=a._writableStreamController;D(void 0!==b,"controller must not be undefined");a._state="erroring";a._storedError=c;var d=a._writer;void 0!==d&&u(d,c);!1===i(a)&&!0===b._started&&o(a)}function o(a){D("erroring"===a._state,"stream._state === erroring");D(!1===i(a),"WritableStreamHasOperationMarkedInFlight(stream) === false");a._state="errored";a._writableStreamController.__errorSteps();for(var b=a._storedError,d=0;d<a._writeRequests.length;d++)a._writeRequests[d]._reject(b);a._writeRequests=[];
if(void 0===a._pendingAbortRequest)c(a);else{var e=a._pendingAbortRequest;a._pendingAbortRequest=void 0;!0===e._wasAlreadyErroring?(e._reject(b),c(a)):a._writableStreamController.__abortSteps(e._reason).then(function(){e._resolve();c(a)},function(b){e._reject(b);c(a)})}}function t(a){return void 0===a._closeRequest&&void 0===a._inFlightCloseRequest?!1:!0}function i(a){return void 0===a._inFlightWriteRequest&&void 0===a._inFlightCloseRequest?!1:!0}function p(a){D(void 0===a._inFlightCloseRequest);
D(void 0!==a._closeRequest);a._inFlightCloseRequest=a._closeRequest;a._closeRequest=void 0}function B(a){D(void 0===a._inFlightWriteRequest,"there must be no pending write request");D(0!==a._writeRequests.length,"writeRequests must not be empty");a._inFlightWriteRequest=a._writeRequests.shift()}function c(a){D("errored"===a._state,'_stream_.[[state]] is `"errored"`');void 0!==a._closeRequest&&(D(void 0===a._inFlightCloseRequest),a._closeRequest._reject(a._storedError),a._closeRequest=void 0);var c=
a._writer;void 0!==c&&(J(c,a._storedError),c._closedPromise.catch(function(){}))}function e(a,c){D("writable"===a._state);D(!1===t(a));var b=a._writer;void 0!==b&&c!==a._backpressure&&(!0===c?ia(b):(D(!1===c),U(b)));a._backpressure=c}function z(a){return!S(a)||!Object.prototype.hasOwnProperty.call(a,"_ownerWritableStream")?!1:!0}function w(a){var c=a._ownerWritableStream;D(void 0!==c);var b=c._state;if("closed"===b||"errored"===b)return Promise.reject(new TypeError("The stream (in "+b+" state) is not in the writable state and cannot be closed"));
D("writable"===b||"erroring"===b);D(!1===t(c));var d=new Promise(function(a,b){c._closeRequest={_resolve:a,_reject:b}});!0===c._backpressure&&"writable"===b&&U(a);I(c._writableStreamController);return d}function C(a,c){"pending"===a._closedPromiseState?J(a,c):y(a,c);a._closedPromise.catch(function(){})}function u(a,c){"pending"===a._readyPromiseState?ha(a,c):ja(a,c);a._readyPromise.catch(function(){})}function A(a){var c=a._ownerWritableStream;D(void 0!==c);D(c._writer===a);var b=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");
u(a,b);C(a,b);c._writer=void 0;a._ownerWritableStream=void 0}function F(a,c){var b=a._ownerWritableStream;D(void 0!==b);var d=b._writableStreamController,h;var i=d._strategySize;if(void 0===i)h=1;else try{h=i(c)}catch(g){"writable"===d._controlledWritableStream._state&&L(d,g),h=1}if(b!==a._ownerWritableStream)return Promise.reject(M("write to"));i=b._state;if("errored"===i)return Promise.reject(b._storedError);if(!0===t(b)||"closed"===i)return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"));
if("erroring"===i)return Promise.reject(b._storedError);D("writable"===i);b=v(b);a:{i={chunk:c};try{Z(d,i,h)}catch(j){"writable"===d._controlledWritableStream._state&&L(d,j);break a}h=d._controlledWritableStream;!1===t(h)&&"writable"===h._state&&e(h,0>=d._strategyHWM-d._queueTotalSize);K(d)}return b}function I(a){Z(a,"close",0);K(a)}function K(a){var c=a._controlledWritableStream;if(!1!==a._started&&void 0===c._inFlightWriteRequest){var b=c._state;"closed"===b||"errored"===b||("erroring"===b?o(c):
0!==a._queue.length&&(c=ba(a),"close"===c?E(a):H(a,c.chunk)))}}function E(a){var c=a._controlledWritableStream;p(c);W(a);D(0===a._queue.length,"queue must be empty once the final write record is dequeued");R(a._underlyingSink,"close",[]).then(function(){D(void 0!==c._inFlightCloseRequest);c._inFlightCloseRequest._resolve(void 0);c._inFlightCloseRequest=void 0;var a=c._state;D("writable"===a||"erroring"===a);"erroring"===a&&(c._storedError=void 0,void 0!==c._pendingAbortRequest&&(c._pendingAbortRequest._resolve(),
c._pendingAbortRequest=void 0));c._state="closed";a=c._writer;void 0!==a&&(D(void 0!==a._closedPromise_resolve,"writer._closedPromise_resolve !== undefined"),D(void 0!==a._closedPromise_reject,"writer._closedPromise_reject !== undefined"),D("pending"===a._closedPromiseState,"writer._closedPromiseState is pending"),a._closedPromise_resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="resolved");D(void 0===c._pendingAbortRequest,"stream._pendingAbortRequest === undefined");
D(void 0===c._storedError,"stream._storedError === undefined")},function(a){D(void 0!==c._inFlightCloseRequest);c._inFlightCloseRequest._reject(a);c._inFlightCloseRequest=void 0;D("writable"===c._state||"erroring"===c._state);void 0!==c._pendingAbortRequest&&(c._pendingAbortRequest._reject(a),c._pendingAbortRequest=void 0);h(c,a)}).catch(Q)}function H(a,c){var b=a._controlledWritableStream;B(b);R(a._underlyingSink,"write",[c,a]).then(function(){D(void 0!==b._inFlightWriteRequest);b._inFlightWriteRequest._resolve(void 0);
b._inFlightWriteRequest=void 0;var c=b._state;D("writable"===c||"erroring"===c);W(a);!1===t(b)&&"writable"===c&&e(b,0>=a._strategyHWM-a._queueTotalSize);K(a)},function(a){D(void 0!==b._inFlightWriteRequest);b._inFlightWriteRequest._reject(a);b._inFlightWriteRequest=void 0;D("writable"===b._state||"erroring"===b._state);h(b,a)}).catch(Q)}function L(a,c){var b=a._controlledWritableStream;D("writable"===b._state);s(b,c)}function N(a){return new TypeError("WritableStream.prototype."+a+" can only be used on a WritableStream")}
function x(a){return new TypeError("WritableStreamDefaultWriter.prototype."+a+" can only be used on a WritableStreamDefaultWriter")}function M(a){return new TypeError("Cannot "+a+" a stream using a released writer")}function n(a){a._closedPromise=new Promise(function(c,b){a._closedPromise_resolve=c;a._closedPromise_reject=b;a._closedPromiseState="pending"})}function J(a,c){D(void 0!==a._closedPromise_resolve,"writer._closedPromise_resolve !== undefined");D(void 0!==a._closedPromise_reject,"writer._closedPromise_reject !== undefined");
D("pending"===a._closedPromiseState,"writer._closedPromiseState is pending");a._closedPromise_reject(c);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0;a._closedPromiseState="rejected"}function y(a,c){D(void 0===a._closedPromise_resolve,"writer._closedPromise_resolve === undefined");D(void 0===a._closedPromise_reject,"writer._closedPromise_reject === undefined");D("pending"!==a._closedPromiseState,"writer._closedPromiseState is not pending");a._closedPromise=Promise.reject(c);a._closedPromiseState=
"rejected"}function da(a){a._readyPromise=new Promise(function(c,b){a._readyPromise_resolve=c;a._readyPromise_reject=b});a._readyPromiseState="pending"}function ea(a,c){a._readyPromise=Promise.reject(c);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState="rejected"}function Y(a){a._readyPromise=Promise.resolve(void 0);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState="fulfilled"}function ha(a,c){D(void 0!==a._readyPromise_resolve,"writer._readyPromise_resolve !== undefined");
D(void 0!==a._readyPromise_reject,"writer._readyPromise_reject !== undefined");a._readyPromise_reject(c);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState="rejected"}function ia(a){D(void 0===a._readyPromise_resolve,"writer._readyPromise_resolve === undefined");D(void 0===a._readyPromise_reject,"writer._readyPromise_reject === undefined");a._readyPromise=new Promise(function(c,b){a._readyPromise_resolve=c;a._readyPromise_reject=b});a._readyPromiseState="pending"}function ja(a,
c){D(void 0===a._readyPromise_resolve,"writer._readyPromise_resolve === undefined");D(void 0===a._readyPromise_reject,"writer._readyPromise_reject === undefined");a._readyPromise=Promise.reject(c);a._readyPromiseState="rejected"}function U(a){D(void 0!==a._readyPromise_resolve,"writer._readyPromise_resolve !== undefined");D(void 0!==a._readyPromise_reject,"writer._readyPromise_reject !== undefined");a._readyPromise_resolve(void 0);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState=
"fulfilled"}var T=function(){function a(c,b){for(var d=0;d<b.length;d++){var e=b[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,d){b&&a(c.prototype,b);d&&a(c,d);return c}}(),d=g(0),O=d.InvokeOrNoop,R=d.PromiseInvokeOrNoop,P=d.ValidateAndNormalizeQueuingStrategy,S=d.typeIsObject,d=g(1),D=d.assert,Q=d.rethrowAssertionErrorRejection,g=g(3),W=g.DequeueValue,Z=g.EnqueueValueWithSize,ba=g.PeekQueueValue,ma=g.ResetQueue,
g=function(){function c(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=b.size,b=b.highWaterMark,b=void 0===b?1:b;f(this,c);this._state="writable";this._writableStreamController=this._writer=this._storedError=void 0;this._writeRequests=[];this._pendingAbortRequest=this._inFlightCloseRequest=this._closeRequest=this._inFlightWriteRequest=void 0;this._backpressure=!1;if(void 0!==a.type)throw new RangeError("Invalid type is specified");
this._writableStreamController=new qa(this,a,d,b);this._writableStreamController.__startSteps()}T(c,[{key:"abort",value:function(a){return!1===r(this)?Promise.reject(N("abort")):!0===j(this)?Promise.reject(new TypeError("Cannot abort a stream that already has a writer")):q(this,a)}},{key:"getWriter",value:function(){if(!1===r(this))throw N("getWriter");return a(this)}},{key:"locked",get:function(){if(!1===r(this))throw N("locked");return j(this)}}]);return c}();b.exports={AcquireWritableStreamDefaultWriter:a,
IsWritableStream:r,IsWritableStreamLocked:j,WritableStream:g,WritableStreamAbort:q,WritableStreamDefaultControllerError:L,WritableStreamDefaultWriterCloseWithErrorPropagation:function(a){var c=a._ownerWritableStream;D(void 0!==c);var b=c._state;if(!0===t(c)||"closed"===b)return Promise.resolve();if("errored"===b)return Promise.reject(c._storedError);D("writable"===b||"erroring"===b);return w(a)},WritableStreamDefaultWriterRelease:A,WritableStreamDefaultWriterWrite:F,WritableStreamCloseQueuedOrInFlight:t};
var pa=function(){function a(c){f(this,a);if(!1===r(c))throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===j(c))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=c;c._writer=this;var b=c._state;"writable"===b?(!1===t(c)&&!0===c._backpressure?da(this):Y(this),n(this)):"erroring"===b?(ea(this,c._storedError),this._readyPromise.catch(function(){}),n(this)):"closed"===
b?(Y(this),this._closedPromise=Promise.resolve(void 0),this._closedPromise_reject=this._closedPromise_resolve=void 0,this._closedPromiseState="resolved"):(D("errored"===b,"state must be errored"),c=c._storedError,ea(this,c),this._readyPromise.catch(function(){}),this._closedPromise=Promise.reject(c),this._closedPromise_reject=this._closedPromise_resolve=void 0,this._closedPromiseState="rejected",this._closedPromise.catch(function(){}))}T(a,[{key:"abort",value:function(a){if(!1===z(this))return Promise.reject(x("abort"));
if(void 0===this._ownerWritableStream)return Promise.reject(M("abort"));var c=this._ownerWritableStream;D(void 0!==c);return q(c,a)}},{key:"close",value:function(){if(!1===z(this))return Promise.reject(x("close"));var a=this._ownerWritableStream;return void 0===a?Promise.reject(M("close")):!0===t(a)?Promise.reject(new TypeError("cannot close an already-closing stream")):w(this)}},{key:"releaseLock",value:function(){if(!1===z(this))throw x("releaseLock");var a=this._ownerWritableStream;void 0!==a&&
(D(void 0!==a._writer),A(this))}},{key:"write",value:function(a){return!1===z(this)?Promise.reject(x("write")):void 0===this._ownerWritableStream?Promise.reject(M("write to")):F(this,a)}},{key:"closed",get:function(){return!1===z(this)?Promise.reject(x("closed")):this._closedPromise}},{key:"desiredSize",get:function(){if(!1===z(this))throw x("desiredSize");if(void 0===this._ownerWritableStream)throw M("desiredSize");var a;a=this._ownerWritableStream;var c=a._state;a="errored"===c||"erroring"===c?
null:"closed"===c?0:a._writableStreamController._strategyHWM-a._writableStreamController._queueTotalSize;return a}},{key:"ready",get:function(){return!1===z(this)?Promise.reject(x("ready")):this._readyPromise}}]);return a}(),qa=function(){function a(c,b,d,h){f(this,a);if(!1===r(c))throw new TypeError("WritableStreamDefaultController can only be constructed with a WritableStream instance");if(void 0!==c._writableStreamController)throw new TypeError("WritableStreamDefaultController instances can only be created by the WritableStream constructor");
this._controlledWritableStream=c;this._underlyingSink=b;this._queueTotalSize=this._queue=void 0;ma(this);this._started=!1;b=P(d,h);this._strategySize=b.size;this._strategyHWM=b.highWaterMark;e(c,0>=this._strategyHWM-this._queueTotalSize)}T(a,[{key:"error",value:function(a){var c;c=S(this)?Object.prototype.hasOwnProperty.call(this,"_underlyingSink")?!0:!1:!1;if(!1===c)throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===
this._controlledWritableStream._state&&L(this,a)}},{key:"__abortSteps",value:function(a){return R(this._underlyingSink,"abort",[a])}},{key:"__errorSteps",value:function(){ma(this)}},{key:"__startSteps",value:function(){var a=this,c=O(this._underlyingSink,"start",[this]),b=this._controlledWritableStream;Promise.resolve(c).then(function(){D("writable"===b._state||"erroring"===b._state);a._started=!0;K(a)},function(c){D("writable"===b._state||"erroring"===b._state);a._started=!0;h(b,c)}).catch(Q)}}]);
return a}()},function(b,d,g){var f=g(0).IsFiniteNonNegativeNumber,a=g(1).assert;d.DequeueValue=function(b){a("_queue"in b&&"_queueTotalSize"in b,"Spec-level failure: DequeueValue should only be used on containers with [[queue]] and [[queueTotalSize]].");a(0<b._queue.length,"Spec-level failure: should never dequeue from an empty queue.");var d=b._queue.shift();b._queueTotalSize-=d.size;0>b._queueTotalSize&&(b._queueTotalSize=0);return d.value};d.EnqueueValueWithSize=function(b,d,g){a("_queue"in b&&
"_queueTotalSize"in b,"Spec-level failure: EnqueueValueWithSize should only be used on containers with [[queue]] and [[queueTotalSize]].");g=Number(g);if(!f(g))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");b._queue.push({value:d,size:g});b._queueTotalSize+=g};d.PeekQueueValue=function(b){a("_queue"in b&&"_queueTotalSize"in b,"Spec-level failure: PeekQueueValue should only be used on containers with [[queue]] and [[queueTotalSize]].");a(0<b._queue.length,"Spec-level failure: should never peek at an empty queue.");
return b._queue[0].value};d.ResetQueue=function(b){a("_queue"in b&&"_queueTotalSize"in b,"Spec-level failure: ResetQueue should only be used on containers with [[queue]] and [[queueTotalSize]].");b._queue=[];b._queueTotalSize=0}},function(b,d,g){function f(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function a(a){return!$(a)||!Object.prototype.hasOwnProperty.call(a,"_readableStreamController")?!1:!0}function r(c){G(!0===a(c),"IsReadableStreamLocked should only be used on known readable streams");
return void 0===c._reader?!1:!0}function j(c,b){G(!0===a(c));G("boolean"===typeof b);var d=new ra(c),e={closedOrErrored:!1,canceled1:!1,canceled2:!1,reason1:void 0,reason2:void 0};e.promise=new Promise(function(a){e._resolve=a});var i=q();i._reader=d;i._teeState=e;i._cloneForBranch2=b;var g=v();g._stream=c;g._teeState=e;var j=h();j._stream=c;j._teeState=e;var f=Object.create(Object.prototype);na(f,"pull",i);na(f,"cancel",g);g=new sa(f);f=Object.create(Object.prototype);na(f,"pull",i);na(f,"cancel",
j);j=new sa(f);i._branch1=g._readableStreamController;i._branch2=j._readableStreamController;d._closedPromise.catch(function(a){!0!==e.closedOrErrored&&(N(i._branch1,a),N(i._branch2,a),e.closedOrErrored=!0)});return[g,j]}function q(){function a(){var c=a._branch1,b=a._branch2,d=a._teeState;return F(a._reader).then(function(a){G($(a));var e=a.value,a=a.done;G("boolean"===typeof a);!0===a&&!1===d.closedOrErrored&&(!1===d.canceled1&&H(c),!1===d.canceled2&&H(b),d.closedOrErrored=!0);!0!==d.closedOrErrored&&
(!1===d.canceled1&&L(c,e),!1===d.canceled2&&L(b,e))})}return a}function v(){function a(c){var b=a._stream,d=a._teeState;d.canceled1=!0;d.reason1=c;!0===d.canceled2&&(c=ta([d.reason1,d.reason2]),b=t(b,c),d._resolve(b));return d.promise}return a}function h(){function a(c){var b=a._stream,d=a._teeState;d.canceled2=!0;d.reason2=c;!0===d.canceled1&&(c=ta([d.reason1,d.reason2]),b=t(b,c),d._resolve(b));return d.promise}return a}function s(a){G(!0===z(a._reader));G("readable"===a._state||"closed"===a._state);
return new Promise(function(c,b){a._reader._readIntoRequests.push({_resolve:c,_reject:b})})}function o(a){G(!0===w(a._reader));G("readable"===a._state);return new Promise(function(c,b){a._reader._readRequests.push({_resolve:c,_reject:b})})}function t(a,c){a._disturbed=!0;if("closed"===a._state)return Promise.resolve(void 0);if("errored"===a._state)return Promise.reject(a._storedError);i(a);return a._readableStreamController.__cancelSteps(c).then(function(){})}function i(a){G("readable"===a._state);
a._state="closed";a=a._reader;if(void 0!==a){if(!0===w(a)){for(var c=0;c<a._readRequests.length;c++){var b=a._readRequests[c]._resolve;b(X(void 0,!0))}a._readRequests=[]}G(void 0!==a._closedPromise_resolve);G(void 0!==a._closedPromise_reject);a._closedPromise_resolve(void 0);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}}function p(c,b){G(!0===a(c),"stream must be ReadableStream");G("readable"===c._state,"state must be readable");c._state="errored";c._storedError=b;var d=c._reader;
if(void 0!==d){if(!0===w(d)){for(var e=0;e<d._readRequests.length;e++)d._readRequests[e]._reject(b);d._readRequests=[]}else{G(z(d),"reader must be ReadableStreamBYOBReader");for(e=0;e<d._readIntoRequests.length;e++)d._readIntoRequests[e]._reject(b);d._readIntoRequests=[]}va(d,b);d._closedPromise.catch(function(){})}}function B(a,c,b){a=a._reader;G(0<a._readRequests.length);a._readRequests.shift()._resolve(X(c,b))}function c(a){a=a._reader;return void 0===a||!1===z(a)?!1:!0}function e(a){a=a._reader;
return void 0===a||!1===w(a)?!1:!0}function z(a){return!$(a)||!Object.prototype.hasOwnProperty.call(a,"_readIntoRequests")?!1:!0}function w(a){return!$(a)||!Object.prototype.hasOwnProperty.call(a,"_readRequests")?!1:!0}function C(a,c){a._ownerReadableStream=c;c._reader=a;"readable"===c._state?ma(a):"closed"===c._state?qa(a):(G("errored"===c._state,"state must be errored"),pa(a,c._storedError),a._closedPromise.catch(function(){}))}function u(a,c){var b=a._ownerReadableStream;G(void 0!==b);return t(b,
c)}function A(a){G(void 0!==a._ownerReadableStream);G(a._ownerReadableStream._reader===a);"readable"===a._ownerReadableStream._state?va(a,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):ya(a,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"));a._closedPromise.catch(function(){});a._ownerReadableStream._reader=void 0;a._ownerReadableStream=void 0}function F(a){a=a._ownerReadableStream;G(void 0!==a);a._disturbed=
!0;if("closed"===a._state)return Promise.resolve(X(void 0,!0));if("errored"===a._state)return Promise.reject(a._storedError);G("readable"===a._state);return a._readableStreamController.__pullSteps()}function I(a){return!$(a)||!Object.prototype.hasOwnProperty.call(a,"_underlyingSource")?!1:!0}function K(a){!1!==E(a)&&(!0===a._pulling?a._pullAgain=!0:(G(!1===a._pullAgain),a._pulling=!0,oa(a._underlyingSource,"pull",[a]).then(function(){a._pulling=!1;if(!0===a._pullAgain)return a._pullAgain=!1,K(a)},
function(c){x(a,c)}).catch(V)))}function E(a){var c=a._controlledReadableStream;return"closed"===c._state||"errored"===c._state||!0===a._closeRequested||!1===a._started?!1:!0===r(c)&&0<c._reader._readRequests.length||0<M(a)?!0:!1}function H(a){var c=a._controlledReadableStream;G(!1===a._closeRequested);G("readable"===c._state);a._closeRequested=!0;0===a._queue.length&&i(c)}function L(a,c){var b=a._controlledReadableStream;G(!1===a._closeRequested);G("readable"===b._state);if(!0===r(b)&&0<b._reader._readRequests.length)B(b,
c,!1);else{b=1;if(void 0!==a._strategySize){var d=a._strategySize;try{b=d(c)}catch(e){throw x(a,e),e;}}try{Aa(a,c,b)}catch(h){throw x(a,h),h;}}K(a)}function N(a,c){var b=a._controlledReadableStream;G("readable"===b._state);ca(a);p(b,c)}function x(a,c){"readable"===a._controlledReadableStream._state&&N(a,c)}function M(a){var c=a._controlledReadableStream._state;return"errored"===c?null:"closed"===c?0:a._strategyHWM-a._queueTotalSize}function n(a){return!$(a)||!Object.prototype.hasOwnProperty.call(a,
"_underlyingByteSource")?!1:!0}function J(a){return!$(a)||!Object.prototype.hasOwnProperty.call(a,"_associatedReadableByteStreamController")?!1:!0}function y(a){!1!==S(a)&&(!0===a._pulling?a._pullAgain=!0:(G(!1===a._pullAgain),a._pulling=!0,oa(a._underlyingByteSource,"pull",[a]).then(function(){a._pulling=!1;!0===a._pullAgain&&(a._pullAgain=!1,y(a))},function(c){"readable"===a._controlledReadableStream._state&&D(a,c)}).catch(V)))}function da(a,c){G("errored"!==a._state,"state must not be errored");
var b=!1;"closed"===a._state&&(G(0===c.bytesFilled),b=!0);var d=ea(c);if("default"===c.readerType)B(a,d,b);else{G("byob"===c.readerType);var e=a._reader;G(0<e._readIntoRequests.length);e._readIntoRequests.shift()._resolve(X(d,b))}}function ea(a){var c=a.bytesFilled,b=a.elementSize;G(c<=a.byteLength);G(0===c%b);return new a.ctor(a.buffer,a.byteOffset,c/b)}function Y(a,c,b,d){a._queue.push({buffer:c,byteOffset:b,byteLength:d});a._queueTotalSize+=d}function ha(a,c){var b=c.elementSize,d=c.bytesFilled-
c.bytesFilled%b,e=Math.min(a._queueTotalSize,c.byteLength-c.bytesFilled),h=c.bytesFilled+e,h=h-h%b,b=!1;h>d&&(e=h-c.bytesFilled,b=!0);for(d=a._queue;0<e;){var h=d[0],i=Math.min(e,h.byteLength);Ba(c.buffer,c.byteOffset+c.bytesFilled,h.buffer,h.byteOffset,i);h.byteLength===i?d.shift():(h.byteOffset+=i,h.byteLength-=i);a._queueTotalSize-=i;ia(a,i,c);e-=i}!1===b&&(G(0===a._queueTotalSize,"queue must be empty"),G(0<c.bytesFilled),G(c.bytesFilled<c.elementSize));return b}function ia(a,c,b){G(0===a._pendingPullIntos.length||
a._pendingPullIntos[0]===b);U(a);b.bytesFilled+=c}function ja(a){G("readable"===a._controlledReadableStream._state);0===a._queueTotalSize&&!0===a._closeRequested?i(a._controlledReadableStream):y(a)}function U(a){void 0!==a._byobRequest&&(a._byobRequest._associatedReadableByteStreamController=void 0,a._byobRequest._view=void 0,a._byobRequest=void 0)}function T(a){for(G(!1===a._closeRequested);0<a._pendingPullIntos.length&&0!==a._queueTotalSize;){var c=a._pendingPullIntos[0];!0===ha(a,c)&&(P(a),da(a._controlledReadableStream,
c))}}function O(a,c){var b=a._controlledReadableStream,d=1;c.constructor!==DataView&&(d=c.constructor.BYTES_PER_ELEMENT);d={buffer:c.buffer,byteOffset:c.byteOffset,byteLength:c.byteLength,bytesFilled:0,elementSize:d,ctor:c.constructor,readerType:"byob"};if(0<a._pendingPullIntos.length)return d.buffer=ga(d.buffer),a._pendingPullIntos.push(d),s(b);if("closed"===b._state)return b=new c.constructor(d.buffer,d.byteOffset,0),Promise.resolve(X(b,!0));if(0<a._queueTotalSize){if(!0===ha(a,d))return b=ea(d),
ja(a),Promise.resolve(X(b,!1));if(!0===a._closeRequested)return b=new TypeError("Insufficient bytes to fill elements in the given buffer"),D(a,b),Promise.reject(b)}d.buffer=ga(d.buffer);a._pendingPullIntos.push(d);b=s(b);y(a);return b}function R(a,b){var d=a._pendingPullIntos[0],e=a._controlledReadableStream;if("closed"===e._state){if(0!==b)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");d.buffer=ga(d.buffer);G(0===d.bytesFilled,"bytesFilled must be 0");d=a._controlledReadableStream;
if(!0===c(d))for(;0<d._reader._readIntoRequests.length;)e=P(a),da(d,e)}else{G("readable"===e._state);if(d.bytesFilled+b>d.byteLength)throw new RangeError("bytesWritten out of range");ia(a,b,d);if(!(d.bytesFilled<d.elementSize)){P(a);e=d.bytesFilled%d.elementSize;if(0<e){var h=d.byteOffset+d.bytesFilled,h=d.buffer.slice(h-e,h);Y(a,h,0,h.byteLength)}d.buffer=ga(d.buffer);d.bytesFilled-=e;da(a._controlledReadableStream,d);T(a)}}}function P(a){var c=a._pendingPullIntos.shift();U(a);return c}function S(a){var b=
a._controlledReadableStream;return"readable"!==b._state||!0===a._closeRequested||!1===a._started?!1:!0===e(b)&&0<b._reader._readRequests.length||!0===c(b)&&0<b._reader._readIntoRequests.length||0<Q(a)?!0:!1}function D(a,c){var b=a._controlledReadableStream;G("readable"===b._state);U(a);a._pendingPullIntos=[];ca(a);p(b,c)}function Q(a){var c=a._controlledReadableStream._state;return"errored"===c?null:"closed"===c?0:a._strategyHWM-a._queueTotalSize}function W(a){return new TypeError("ReadableStream.prototype."+
a+" can only be used on a ReadableStream")}function Z(a){return new TypeError("Cannot "+a+" a stream using a released reader")}function ba(a){return new TypeError("ReadableStreamDefaultReader.prototype."+a+" can only be used on a ReadableStreamDefaultReader")}function ma(a){a._closedPromise=new Promise(function(c,b){a._closedPromise_resolve=c;a._closedPromise_reject=b})}function pa(a,c){a._closedPromise=Promise.reject(c);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}function qa(a){a._closedPromise=
Promise.resolve(void 0);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}function va(a,c){G(void 0!==a._closedPromise_resolve);G(void 0!==a._closedPromise_reject);a._closedPromise_reject(c);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}function ya(a,c){G(void 0===a._closedPromise_resolve);G(void 0===a._closedPromise_reject);a._closedPromise=Promise.reject(c)}function ka(a){return new TypeError("ReadableStreamBYOBReader.prototype."+a+" can only be used on a ReadableStreamBYOBReader")}
function la(a){return new TypeError("ReadableStreamDefaultController.prototype."+a+" can only be used on a ReadableStreamDefaultController")}function wa(a){return new TypeError("ReadableStreamBYOBRequest.prototype."+a+" can only be used on a ReadableStreamBYOBRequest")}function fa(a){return new TypeError("ReadableByteStreamController.prototype."+a+" can only be used on a ReadableByteStreamController")}function za(a){try{Promise.prototype.then.call(a,void 0,function(){})}catch(c){}}var aa=function(){function a(c,
b){for(var d=0;d<b.length;d++){var e=b[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,d){b&&a(c.prototype,b);d&&a(c,d);return c}}(),d=g(0),Ba=d.ArrayBufferCopy,X=d.CreateIterResultObject,Ca=d.IsFiniteNonNegativeNumber,xa=d.InvokeOrNoop,oa=d.PromiseInvokeOrNoop,ga=d.TransferArrayBuffer,Da=d.ValidateAndNormalizeQueuingStrategy,Ea=d.ValidateAndNormalizeHighWaterMark,d=g(0),ta=d.createArrayFromList,na=d.createDataProperty,
$=d.typeIsObject,d=g(1),G=d.assert,V=d.rethrowAssertionErrorRejection,d=g(3),Fa=d.DequeueValue,Aa=d.EnqueueValueWithSize,ca=d.ResetQueue,g=g(2),Ga=g.AcquireWritableStreamDefaultWriter,Ha=g.IsWritableStream,Ia=g.IsWritableStreamLocked,Ja=g.WritableStreamAbort,Ka=g.WritableStreamDefaultWriterCloseWithErrorPropagation,La=g.WritableStreamDefaultWriterRelease,Ma=g.WritableStreamDefaultWriterWrite,ua=g.WritableStreamCloseQueuedOrInFlight,sa=function(){function c(){var a=0<arguments.length&&void 0!==arguments[0]?
arguments[0]:{},b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=b.size,b=b.highWaterMark;f(this,c);this._state="readable";this._storedError=this._reader=void 0;this._disturbed=!1;this._readableStreamController=void 0;var e=a.type;if("bytes"===""+e)void 0===b&&(b=0),this._readableStreamController=new Na(this,a,b);else if(void 0===e)void 0===b&&(b=1),this._readableStreamController=new Oa(this,a,d,b);else throw new RangeError("Invalid type is specified");}aa(c,[{key:"cancel",value:function(c){return!1===
a(this)?Promise.reject(W("cancel")):!0===r(this)?Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")):t(this,c)}},{key:"getReader",value:function(){var c=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).mode;if(!1===a(this))throw W("getReader");if(void 0===c)return new ra(this);if("byob"===""+c)return new Pa(this);throw new RangeError("Invalid mode is specified");}},{key:"pipeThrough",value:function(a,c){var b=a.readable,d=this.pipeTo(a.writable,c);za(d);return b}},
{key:"pipeTo",value:function(c){var b=this,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=d.preventClose,h=d.preventAbort,i=d.preventCancel;if(!1===a(this))return Promise.reject(W("pipeTo"));if(!1===Ha(c))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));e=Boolean(e);h=Boolean(h);i=Boolean(i);if(!0===r(this))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"));
if(!0===Ia(c))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"));var g=new ra(this),j=Ga(c),f=!1,u=Promise.resolve();return new Promise(function(a,d){function k(){u=Promise.resolve();return!0===f?Promise.resolve():j._readyPromise.then(function(){return F(g).then(function(a){var c=a.value;!0!==a.done&&(u=Ma(j,c).catch(function(){}))})}).then(k)}function m(){var a=u;return u.then(function(){return a!==u?m():void 0})}function o(a,c,b){"errored"===
a._state?b(a._storedError):c.catch(b).catch(V)}function l(a,b,d){function e(){a().then(function(){return s(b,d)},function(a){return s(!0,a)}).catch(V)}!0!==f&&(f=!0,"writable"===c._state&&!1===ua(c)?m().then(e):e())}function n(a,b){!0!==f&&(f=!0,"writable"===c._state&&!1===ua(c)?m().then(function(){return s(a,b)}).catch(V):s(a,b))}function s(c,b){La(j);A(g);c?d(b):a(void 0)}o(b,g._closedPromise,function(a){!1===h?l(function(){return Ja(c,a)},!0,a):n(!0,a)});o(c,j._closedPromise,function(a){!1===i?
l(function(){return t(b,a)},!0,a):n(!0,a)});(function(a,c,b){"closed"===a._state?b():c.then(b).catch(V)})(b,g._closedPromise,function(){!1===e?l(function(){return Ka(j)}):n()});if(!0===ua(c)||"closed"===c._state){var v=new TypeError("the destination writable stream closed before all data could be piped to it");!1===i?l(function(){return t(b,v)},!0,v):n(!0,v)}k().catch(function(a){u=Promise.resolve();V(a)})})}},{key:"tee",value:function(){if(!1===a(this))throw W("tee");var c=j(this,!1);return ta(c)}},
{key:"locked",get:function(){if(!1===a(this))throw W("locked");return r(this)}}]);return c}();b.exports={ReadableStream:sa,IsReadableStreamDisturbed:function(c){G(!0===a(c),"IsReadableStreamDisturbed should only be used on known readable streams");return c._disturbed},ReadableStreamDefaultControllerClose:H,ReadableStreamDefaultControllerEnqueue:L,ReadableStreamDefaultControllerError:N,ReadableStreamDefaultControllerGetDesiredSize:M};var ra=function(){function c(b){f(this,c);if(!1===a(b))throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");
if(!0===r(b))throw new TypeError("This stream has already been locked for exclusive reading by another reader");C(this,b);this._readRequests=[]}aa(c,[{key:"cancel",value:function(a){return!1===w(this)?Promise.reject(ba("cancel")):void 0===this._ownerReadableStream?Promise.reject(Z("cancel")):u(this,a)}},{key:"read",value:function(){return!1===w(this)?Promise.reject(ba("read")):void 0===this._ownerReadableStream?Promise.reject(Z("read from")):F(this)}},{key:"releaseLock",value:function(){if(!1===w(this))throw ba("releaseLock");
if(void 0!==this._ownerReadableStream){if(0<this._readRequests.length)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");A(this)}}},{key:"closed",get:function(){return!1===w(this)?Promise.reject(ba("closed")):this._closedPromise}}]);return c}(),Pa=function(){function c(b){f(this,c);if(!a(b))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===n(b._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");
if(r(b))throw new TypeError("This stream has already been locked for exclusive reading by another reader");C(this,b);this._readIntoRequests=[]}aa(c,[{key:"cancel",value:function(a){return!z(this)?Promise.reject(ka("cancel")):void 0===this._ownerReadableStream?Promise.reject(Z("cancel")):u(this,a)}},{key:"read",value:function(a){if(!z(this))return Promise.reject(ka("read"));if(void 0===this._ownerReadableStream)return Promise.reject(Z("read from"));if(!ArrayBuffer.isView(a))return Promise.reject(new TypeError("view must be an array buffer view"));
if(0===a.byteLength)return Promise.reject(new TypeError("view must have non-zero byteLength"));var c=this._ownerReadableStream;G(void 0!==c);c._disturbed=!0;a="errored"===c._state?Promise.reject(c._storedError):O(c._readableStreamController,a);return a}},{key:"releaseLock",value:function(){if(!z(this))throw ka("releaseLock");if(void 0!==this._ownerReadableStream){if(0<this._readIntoRequests.length)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");
A(this)}}},{key:"closed",get:function(){return!z(this)?Promise.reject(ka("closed")):this._closedPromise}}]);return c}(),Oa=function(){function c(b,d,e,h){f(this,c);if(!1===a(b))throw new TypeError("ReadableStreamDefaultController can only be constructed with a ReadableStream instance");if(void 0!==b._readableStreamController)throw new TypeError("ReadableStreamDefaultController instances can only be created by the ReadableStream constructor");this._controlledReadableStream=b;this._underlyingSource=
d;this._queueTotalSize=this._queue=void 0;ca(this);this._pulling=this._pullAgain=this._closeRequested=this._started=!1;b=Da(e,h);this._strategySize=b.size;this._strategyHWM=b.highWaterMark;var i=this,d=xa(d,"start",[this]);Promise.resolve(d).then(function(){i._started=!0;G(!1===i._pulling);G(!1===i._pullAgain);K(i)},function(a){x(i,a)}).catch(V)}aa(c,[{key:"close",value:function(){if(!1===I(this))throw la("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");
var a=this._controlledReadableStream._state;if("readable"!==a)throw new TypeError("The stream (in "+a+" state) is not in the readable state and cannot be closed");H(this)}},{key:"enqueue",value:function(a){if(!1===I(this))throw la("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var c=this._controlledReadableStream._state;if("readable"!==c)throw new TypeError("The stream (in "+c+" state) is not in the readable state and cannot be enqueued to");return L(this,
a)}},{key:"error",value:function(a){if(!1===I(this))throw la("error");var c=this._controlledReadableStream;if("readable"!==c._state)throw new TypeError("The stream is "+c._state+" and so cannot be errored");N(this,a)}},{key:"__cancelSteps",value:function(a){ca(this);return oa(this._underlyingSource,"cancel",[a])}},{key:"__pullSteps",value:function(){var a=this._controlledReadableStream;if(0<this._queue.length){var c=Fa(this);!0===this._closeRequested&&0===this._queue.length?i(a):K(this);return Promise.resolve(X(c,
!1))}a=o(a);K(this);return a}},{key:"desiredSize",get:function(){if(!1===I(this))throw la("desiredSize");return M(this)}}]);return c}(),Qa=function(){function a(c,b){f(this,a);this._associatedReadableByteStreamController=c;this._view=b}aa(a,[{key:"respond",value:function(a){if(!1===J(this))throw wa("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");var c=this._associatedReadableByteStreamController,a=Number(a);if(!1===
Ca(a))throw new RangeError("bytesWritten must be a finite");G(0<c._pendingPullIntos.length);R(c,a)}},{key:"respondWithNewView",value:function(a){if(!1===J(this))throw wa("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(a))throw new TypeError("You can only respond with array buffer views");var c=this._associatedReadableByteStreamController;G(0<c._pendingPullIntos.length);var b=c._pendingPullIntos[0];
if(b.byteOffset+b.bytesFilled!==a.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(b.byteLength!==a.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");b.buffer=a.buffer;R(c,a.byteLength)}},{key:"view",get:function(){return this._view}}]);return a}(),Na=function(){function b(c,d,e){f(this,b);if(!1===a(c))throw new TypeError("ReadableByteStreamController can only be constructed with a ReadableStream instance given a byte source");
if(void 0!==c._readableStreamController)throw new TypeError("ReadableByteStreamController instances can only be created by the ReadableStream constructor given a byte source");this._controlledReadableStream=c;this._underlyingByteSource=d;this._pulling=this._pullAgain=!1;U(this);this._pendingPullIntos=[];this._queue=this._queueTotalSize=void 0;ca(this);this._started=this._closeRequested=!1;this._strategyHWM=Ea(e);e=d.autoAllocateChunkSize;if(void 0!==e&&(!1===Number.isInteger(e)||0>=e))throw new RangeError("autoAllocateChunkSize must be a positive integer");
this._autoAllocateChunkSize=e;this._pendingPullIntos=[];var h=this,d=xa(d,"start",[this]);Promise.resolve(d).then(function(){h._started=!0;G(!1===h._pulling);G(!1===h._pullAgain);y(h)},function(a){"readable"===c._state&&D(h,a)}).catch(V)}aa(b,[{key:"close",value:function(){if(!1===n(this))throw fa("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var a=this._controlledReadableStream._state;if("readable"!==a)throw new TypeError("The stream (in "+
a+" state) is not in the readable state and cannot be closed");a=this._controlledReadableStream;G(!1===this._closeRequested);G("readable"===a._state);if(0<this._queueTotalSize)this._closeRequested=!0;else{if(0<this._pendingPullIntos.length&&0<this._pendingPullIntos[0].bytesFilled)throw a=new TypeError("Insufficient bytes to fill elements in the given buffer"),D(this,a),a;i(a)}}},{key:"enqueue",value:function(a){if(!1===n(this))throw fa("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");
var b=this._controlledReadableStream._state;if("readable"!==b)throw new TypeError("The stream (in "+b+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(a))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");b=this._controlledReadableStream;G(!1===this._closeRequested);G("readable"===b._state);var d=a.byteOffset,h=a.byteLength,a=ga(a.buffer);!0===e(b)?0===b._reader._readRequests.length?Y(this,a,d,h):(G(0===
this._queue.length),a=new Uint8Array(a,d,h),B(b,a,!1)):!0===c(b)?(Y(this,a,d,h),T(this)):(G(!1===r(b),"stream must not be locked"),Y(this,a,d,h))}},{key:"error",value:function(a){if(!1===n(this))throw fa("error");var c=this._controlledReadableStream;if("readable"!==c._state)throw new TypeError("The stream is "+c._state+" and so cannot be errored");D(this,a)}},{key:"__cancelSteps",value:function(a){0<this._pendingPullIntos.length&&(this._pendingPullIntos[0].bytesFilled=0);ca(this);return oa(this._underlyingByteSource,
"cancel",[a])}},{key:"__pullSteps",value:function(){var a=this._controlledReadableStream;G(!0===e(a));if(0<this._queueTotalSize){G(0===a._reader._readRequests.length);a=this._queue.shift();this._queueTotalSize-=a.byteLength;ja(this);var c=void 0;try{c=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)}catch(b){return Promise.reject(b)}return Promise.resolve(X(c,!1))}c=this._autoAllocateChunkSize;if(void 0!==c){var d=void 0;try{d=new ArrayBuffer(c)}catch(h){return Promise.reject(h)}this._pendingPullIntos.push({buffer:d,
byteOffset:0,byteLength:c,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"})}a=o(a);y(this);return a}},{key:"byobRequest",get:function(){if(!1===n(this))throw fa("byobRequest");if(void 0===this._byobRequest&&0<this._pendingPullIntos.length){var a=this._pendingPullIntos[0],a=new Uint8Array(a.buffer,a.byteOffset+a.bytesFilled,a.byteLength-a.bytesFilled);this._byobRequest=new Qa(this,a)}return this._byobRequest}},{key:"desiredSize",get:function(){if(!1===n(this))throw fa("desiredSize");
return Q(this)}}]);return b}()},function(b,d,g){var b=g(6),f=g(4),g=g(2);d.TransformStream=b.TransformStream;d.ReadableStream=f.ReadableStream;d.IsReadableStreamDisturbed=f.IsReadableStreamDisturbed;d.ReadableStreamDefaultControllerClose=f.ReadableStreamDefaultControllerClose;d.ReadableStreamDefaultControllerEnqueue=f.ReadableStreamDefaultControllerEnqueue;d.ReadableStreamDefaultControllerError=f.ReadableStreamDefaultControllerError;d.ReadableStreamDefaultControllerGetDesiredSize=f.ReadableStreamDefaultControllerGetDesiredSize;
d.AcquireWritableStreamDefaultWriter=g.AcquireWritableStreamDefaultWriter;d.IsWritableStream=g.IsWritableStream;d.IsWritableStreamLocked=g.IsWritableStreamLocked;d.WritableStream=g.WritableStream;d.WritableStreamAbort=g.WritableStreamAbort;d.WritableStreamDefaultControllerError=g.WritableStreamDefaultControllerError;d.WritableStreamDefaultWriterCloseWithErrorPropagation=g.WritableStreamDefaultWriterCloseWithErrorPropagation;d.WritableStreamDefaultWriterRelease=g.WritableStreamDefaultWriterRelease;
d.WritableStreamDefaultWriterWrite=g.WritableStreamDefaultWriterWrite},function(b,d,g){function f(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function a(a,c){if(!0===a._errored)throw new TypeError("TransformStream is already errored");if(!0===a._readableClosed)throw new TypeError("Readable side is already closed");var b=a._readableController;try{I(b,c)}catch(d){throw a._readableClosed=!0,j(a,d),a._storedError;}!0===0>=E(b)&&!1===a._backpressure&&h(a,!0)}function r(a){e(!1===
a._errored);e(!1===a._readableClosed);try{F(a._readableController)}catch(c){e(!1)}a._readableClosed=!0}function j(a,c){!1===a._errored&&q(a,c)}function q(a,c){e(!1===a._errored);a._errored=!0;a._storedError=c;!1===a._writableDone&&L(a._writableController,c);!1===a._readableClosed&&K(a._readableController,c)}function v(a){e(void 0!==a._backpressureChangePromise,"_backpressureChangePromise should have been initialized");if(!1===a._backpressure)return Promise.resolve();e(!0===a._backpressure,"_backpressure should have been initialized");
return a._backpressureChangePromise}function h(a,c){e(a._backpressure!==c,"TransformStreamSetBackpressure() should be called only when backpressure is changed");void 0!==a._backpressureChangePromise&&a._backpressureChangePromise_resolve(c);a._backpressureChangePromise=new Promise(function(c){a._backpressureChangePromise_resolve=c});a._backpressureChangePromise.then(function(a){e(a!==c,"_backpressureChangePromise should be fulfilled only when backpressure is changed")});a._backpressure=c}function s(c,
b){a(b._controlledTransformStream,c);return Promise.resolve()}function o(a,c){e(!1===a._errored);e(!1===a._transforming);e(!1===a._backpressure);a._transforming=!0;var b=a._transformStreamController;return w(a._transformer,"transform",[c,b],s,[c,b]).then(function(){a._transforming=!1;return v(a)},function(c){j(a,c);return Promise.reject(c)})}function t(a){return!u(a)||!Object.prototype.hasOwnProperty.call(a,"_controlledTransformStream")?!1:!0}function i(a){return!u(a)||!Object.prototype.hasOwnProperty.call(a,
"_transformStreamController")?!1:!0}function p(a){return new TypeError("TransformStreamDefaultController.prototype."+a+" can only be used on a TransformStreamDefaultController")}function B(a){return new TypeError("TransformStream.prototype."+a+" can only be used on a TransformStream")}var c=function(){function a(c,b){for(var d=0;d<b.length;d++){var e=b[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,d){b&&a(c.prototype,
b);d&&a(c,d);return c}}(),e=g(1).assert,d=g(0),z=d.InvokeOrNoop,w=d.PromiseInvokeOrPerformFallback,C=d.PromiseInvokeOrNoop,u=d.typeIsObject,d=g(4),A=d.ReadableStream,F=d.ReadableStreamDefaultControllerClose,I=d.ReadableStreamDefaultControllerEnqueue,K=d.ReadableStreamDefaultControllerError,E=d.ReadableStreamDefaultControllerGetDesiredSize,g=g(2),H=g.WritableStream,L=g.WritableStreamDefaultControllerError,N=function(){function a(c,b){f(this,a);this._transformStream=c;this._startPromise=b}c(a,[{key:"start",
value:function(a){var c=this._transformStream;c._writableController=a;return this._startPromise.then(function(){return v(c)})}},{key:"write",value:function(a){return o(this._transformStream,a)}},{key:"abort",value:function(){var a=this._transformStream;a._writableDone=!0;q(a,new TypeError("Writable side aborted"))}},{key:"close",value:function(){var a=this._transformStream;e(!1===a._transforming);a._writableDone=!0;return C(a._transformer,"flush",[a._transformStreamController]).then(function(){if(!0===
a._errored)return Promise.reject(a._storedError);!1===a._readableClosed&&r(a);return Promise.resolve()}).catch(function(c){j(a,c);return Promise.reject(a._storedError)})}}]);return a}(),x=function(){function a(c,b){f(this,a);this._transformStream=c;this._startPromise=b}c(a,[{key:"start",value:function(a){var c=this._transformStream;c._readableController=a;return this._startPromise.then(function(){e(void 0!==c._backpressureChangePromise,"_backpressureChangePromise should have been initialized");if(!0===
c._backpressure)return Promise.resolve();e(!1===c._backpressure,"_backpressure should have been initialized");return c._backpressureChangePromise})}},{key:"pull",value:function(){var a=this._transformStream;e(!0===a._backpressure,"pull() should be never called while _backpressure is false");e(void 0!==a._backpressureChangePromise,"_backpressureChangePromise should have been initialized");h(a,!1);return a._backpressureChangePromise}},{key:"cancel",value:function(){var a=this._transformStream;a._readableClosed=
!0;q(a,new TypeError("Readable side canceled"))}}]);return a}(),M=function(){function b(a){f(this,b);if(!1===i(a))throw new TypeError("TransformStreamDefaultController can only be constructed with a TransformStream instance");if(void 0!==a._transformStreamController)throw new TypeError("TransformStreamDefaultController instances can only be created by the TransformStream constructor");this._controlledTransformStream=a}c(b,[{key:"enqueue",value:function(c){if(!1===t(this))throw p("enqueue");a(this._controlledTransformStream,
c)}},{key:"close",value:function(){if(!1===t(this))throw p("close");var a=this._controlledTransformStream;if(!0===a._errored)throw new TypeError("TransformStream is already errored");if(!0===a._readableClosed)throw new TypeError("Readable side is already closed");r(a)}},{key:"error",value:function(a){if(!1===t(this))throw p("error");var c=this._controlledTransformStream;if(!0===c._errored)throw new TypeError("TransformStream is already errored");q(c,a)}},{key:"desiredSize",get:function(){if(!1===
t(this))throw p("desiredSize");return E(this._controlledTransformStream._readableController)}}]);return b}(),g=function(){function a(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};f(this,a);this._transformer=c;var b=c.readableStrategy,d=c.writableStrategy;this._errored=this._transforming=!1;this._transformStreamController=this._readableController=this._writableController=this._storedError=void 0;this._readableClosed=this._writableDone=!1;this._backpressureChangePromise_resolve=
this._backpressureChangePromise=this._backpressure=void 0;this._transformStreamController=new M(this);var i=void 0,g=new Promise(function(a){i=a}),j=new x(this,g);this._readable=new A(j,b);b=new N(this,g);this._writable=new H(b,d);e(void 0!==this._writableController);e(void 0!==this._readableController);d=E(this._readableController);h(this,0>=d);var u=this,c=z(c,"start",[u._transformStreamController]);i(c);g.catch(function(a){!1===u._errored&&(u._errored=!0,u._storedError=a)})}c(a,[{key:"readable",
get:function(){if(!1===i(this))throw B("readable");return this._readable}},{key:"writable",get:function(){if(!1===i(this))throw B("writable");return this._writable}}]);return a}();b.exports={TransformStream:g}},function(b,d,g){b.exports=g(5)}]))},function(f,d,b){Object.defineProperty(d,"__esModule",{value:!0});d.PDFJS=d.globalScope=void 0;var f=b(10),l=b(0),k=b(57),g=b(59),m=b(14),m=m&&m.__esModule?m:{"default":m},a=b(58),r=b(60),b=b(61);m.default.PDFJS||(m.default.PDFJS={});var j=m.default.PDFJS;
j.version="2.0.191";j.build="694c4171";j.pdfBug=!1;void 0!==j.verbosity&&(0,l.setVerbosityLevel)(j.verbosity);delete j.verbosity;Object.defineProperty(j,"verbosity",{get:function(){return(0,l.getVerbosityLevel)()},set:function(a){(0,l.setVerbosityLevel)(a)},enumerable:!0,configurable:!0});j.VERBOSITY_LEVELS=l.VERBOSITY_LEVELS;j.OPS=l.OPS;j.UNSUPPORTED_FEATURES=l.UNSUPPORTED_FEATURES;j.isValidUrl=f.isValidUrl;j.shadow=l.shadow;j.createBlob=l.createBlob;j.createObjectURL=function(a,b){return(0,l.createObjectURL)(a,
b,j.disableCreateObjectURL)};Object.defineProperty(j,"isLittleEndian",{configurable:!0,get:function(){return(0,l.shadow)(j,"isLittleEndian",(0,l.isLittleEndian)())}});j.removeNullCharacters=l.removeNullCharacters;j.PasswordResponses=l.PasswordResponses;j.PasswordException=l.PasswordException;j.UnknownErrorException=l.UnknownErrorException;j.InvalidPDFException=l.InvalidPDFException;j.MissingPDFException=l.MissingPDFException;j.UnexpectedResponseException=l.UnexpectedResponseException;j.Util=l.Util;
j.PageViewport=l.PageViewport;j.createPromiseCapability=l.createPromiseCapability;j.maxImageSize=void 0===j.maxImageSize?-1:j.maxImageSize;j.cMapUrl=void 0===j.cMapUrl?null:j.cMapUrl;j.cMapPacked=void 0===j.cMapPacked?!1:j.cMapPacked;j.disableFontFace=void 0===j.disableFontFace?!1:j.disableFontFace;j.imageResourcesPath=void 0===j.imageResourcesPath?"":j.imageResourcesPath;j.disableWorker=void 0===j.disableWorker?!1:j.disableWorker;j.workerSrc=void 0===j.workerSrc?null:j.workerSrc;j.workerPort=void 0===
j.workerPort?null:j.workerPort;j.disableRange=void 0===j.disableRange?!1:j.disableRange;j.disableStream=void 0===j.disableStream?!1:j.disableStream;j.disableAutoFetch=void 0===j.disableAutoFetch?!1:j.disableAutoFetch;j.pdfBug=void 0===j.pdfBug?!1:j.pdfBug;j.postMessageTransfers=void 0===j.postMessageTransfers?!0:j.postMessageTransfers;j.disableCreateObjectURL=void 0===j.disableCreateObjectURL?!1:j.disableCreateObjectURL;j.disableWebGL=void 0===j.disableWebGL?!0:j.disableWebGL;j.externalLinkTarget=
void 0===j.externalLinkTarget?f.LinkTarget.NONE:j.externalLinkTarget;j.externalLinkRel=void 0===j.externalLinkRel?f.DEFAULT_LINK_REL:j.externalLinkRel;j.isEvalSupported=void 0===j.isEvalSupported?!0:j.isEvalSupported;j.getDocument=k.getDocument;j.LoopbackPort=k.LoopbackPort;j.PDFDataRangeTransport=k.PDFDataRangeTransport;j.PDFWorker=k.PDFWorker;j.CustomStyle=f.CustomStyle;j.LinkTarget=f.LinkTarget;j.addLinkAttributes=f.addLinkAttributes;j.getFilenameFromUrl=f.getFilenameFromUrl;j.isExternalLinkTargetSet=
f.isExternalLinkTargetSet;j.AnnotationLayer=g.AnnotationLayer;j.renderTextLayer=r.renderTextLayer;j.Metadata=a.Metadata;j.SVGGraphics=b.SVGGraphics;d.globalScope=m.default;d.PDFJS=j},function(f,d,b){function l(b){this.docId=b;this.styleElement=null;this.nativeFontFaces=[];this.loadTestFontId=0;this.loadingContext={requests:[],nextRequestId:0}}Object.defineProperty(d,"__esModule",{value:!0});d.FontLoader=d.FontFaceObject=void 0;var k=b(0);l.prototype={insertRule:function(b){var a=this.styleElement;
a||(a=this.styleElement=document.createElement("style"),a.id="PDFJS_FONT_STYLE_TAG_"+this.docId,document.documentElement.getElementsByTagName("head")[0].appendChild(a));a=a.sheet;a.insertRule(b,a.cssRules.length)},clear:function(){this.styleElement&&(this.styleElement.remove(),this.styleElement=null);this.nativeFontFaces.forEach(function(b){document.fonts.delete(b)});this.nativeFontFaces.length=0}};Object.defineProperty(l.prototype,"loadTestFont",{get:function(){return(0,k.shadow)(this,"loadTestFont",
atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))},
configurable:!0});l.prototype.addNativeFontFace=function(b){this.nativeFontFaces.push(b);document.fonts.add(b)};l.prototype.bind=function(b,a){for(var d=[],g=[],f=[],v=function(a){return a.loaded.catch(function(c){(0,k.warn)('Failed to load font "'+a.family+'": '+c)})},h=l.isFontLoadingAPISupported&&!l.isSyncFontLoadingSupported,s=0,o=b.length;s<o;s++){var t=b[s];if(!(t.attached||!1===t.loading))if(t.attached=!0,h){if(t=t.createNativeFontFace())this.addNativeFontFace(t),f.push(v(t))}else{var i=t.createFontFaceRule();
i&&(this.insertRule(i),d.push(i),g.push(t))}}var p=this.queueLoadingCallback(a);h?Promise.all(f).then(function(){p.complete()}):0<d.length&&!l.isSyncFontLoadingSupported?this.prepareFontLoadEvent(d,g,p):p.complete()};l.prototype.queueLoadingCallback=function(b){var a=this.loadingContext,d={id:"pdfjs-font-loading-"+a.nextRequestId++,complete:function(){(0,k.assert)(!d.end,"completeRequest() cannot be called twice");for(d.end=Date.now();0<a.requests.length&&a.requests[0].end;){var b=a.requests.shift();
setTimeout(b.callback,0)}},callback:b,started:Date.now()};a.requests.push(d);return d};l.prototype.prepareFontLoadEvent=function(b,a,d){function g(a,b){return a.charCodeAt(b)<<24|a.charCodeAt(b+1)<<16|a.charCodeAt(b+2)<<8|a.charCodeAt(b+3)&255}function f(a,b,d,h){var i=a.substr(0,b),a=a.substr(b+d);return i+h+a}function l(a,b){t++;30<t?((0,k.warn)("Load test font never loaded."),b()):(o.font="30px "+a,o.fillText(".",0,20),0<o.getImageData(0,0,1,1).data[3]?b():setTimeout(l.bind(null,a,b)))}var h,s,
b=document.createElement("canvas");b.width=1;b.height=1;var o=b.getContext("2d"),t=0,b="lt"+Date.now()+this.loadTestFontId++,i=this.loadTestFont,i=f(i,976,b.length,b),p=g(i,16);h=0;for(s=b.length-3;h<s;h+=4)p=p-1482184792+g(b,h)|0;h<b.length&&(p=p-1482184792+g(b+"XXX",h)|0);i=f(i,16,4,(0,k.string32)(p));h="url(data:font/opentype;base64,"+btoa(i)+");";this.insertRule('@font-face { font-family:"'+b+'";src:'+h+"}");i=[];h=0;for(s=a.length;h<s;h++)i.push(a[h].loadedName);i.push(b);var B=document.createElement("div");
B.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");h=0;for(s=i.length;h<s;++h)a=document.createElement("span"),a.textContent="Hi",a.style.fontFamily=i[h],B.appendChild(a);document.body.appendChild(B);l(b,function(){document.body.removeChild(B);d.complete()})};l.isFontLoadingAPISupported="undefined"!==typeof document&&!!document.fonts;Object.defineProperty(l,"isSyncFontLoadingSupported",{get:function(){var b=(0,k.shadow),a;if("undefined"===
typeof navigator)a=!0;else{a=!1;var d=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);d&&14<=d[1]&&(a=!0)}return b(l,"isSyncFontLoadingSupported",a)},enumerable:!0,configurable:!0});var g={get value(){return(0,k.shadow)(this,"value",(0,k.isEvalSupported)())}},f=function(){function b(a,d){this.compiledGlyphs=Object.create(null);for(var g in a)this[g]=a[g];this.options=d}b.prototype={createNativeFontFace:function(){if(!this.data)return null;if(this.options.disableFontFace)return this.disableFontFace=
!0,null;var a=new FontFace(this.loadedName,this.data,{});this.options.fontRegistry&&this.options.fontRegistry.registerFont(this);return a},createFontFaceRule:function(){if(!this.data)return null;if(this.options.disableFontFace)return this.disableFontFace=!0,null;var a=(0,k.bytesToString)(new Uint8Array(this.data)),b=this.loadedName,a="url(data:"+this.mimetype+";base64,"+btoa(a)+");",b='@font-face { font-family:"'+b+'";src:'+a+"}";this.options.fontRegistry&&this.options.fontRegistry.registerFont(this,
a);return b},getPathGenerator:function(a,b){if(!(b in this.compiledGlyphs)){var d=a.get(this.loadedName+"_path_"+b),f,k,h;if(this.options.isEvalSupported&&g.value){var l,o="";k=0;for(h=d.length;k<h;k++)f=d[k],l=void 0!==f.args?f.args.join(","):"",o+="c."+f.cmd+"("+l+");\n";this.compiledGlyphs[b]=new Function("c","size",o)}else this.compiledGlyphs[b]=function(a,b){k=0;for(h=d.length;k<h;k++)f=d[k],"scale"===f.cmd&&(f.args=[b,-b]),a[f.cmd].apply(a,f.args)}}return this.compiledGlyphs[b]}};return b}();
d.FontFaceObject=f;d.FontLoader=l},function(f,d,b){function l(a){a.mozCurrentTransform||(a._originalSave=a.save,a._originalRestore=a.restore,a._originalRotate=a.rotate,a._originalScale=a.scale,a._originalTranslate=a.translate,a._originalTransform=a.transform,a._originalSetTransform=a.setTransform,a._transformMatrix=a._transformMatrix||[1,0,0,1,0,0],a._transformStack=[],Object.defineProperty(a,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(a,"mozCurrentTransformInverse",
{get:function(){var a=this._transformMatrix,b=a[0],d=a[1],g=a[2],i=a[3],f=a[4],a=a[5],j=b*i-d*g,c=d*g-b*i;return[i/j,d/c,g/c,b/j,(i*f-g*a)/c,(d*f-b*a)/j]}}),a.save=function(){var a=this._transformMatrix;this._transformStack.push(a);this._transformMatrix=a.slice(0,6);this._originalSave()},a.restore=function(){var a=this._transformStack.pop();a&&(this._transformMatrix=a,this._originalRestore())},a.translate=function(a,b){var d=this._transformMatrix;d[4]=d[0]*a+d[2]*b+d[4];d[5]=d[1]*a+d[3]*b+d[5];this._originalTranslate(a,
b)},a.scale=function(a,b){var d=this._transformMatrix;d[0]*=a;d[1]*=a;d[2]*=b;d[3]*=b;this._originalScale(a,b)},a.transform=function(b,d,g,f,i,j){var k=this._transformMatrix;this._transformMatrix=[k[0]*b+k[2]*d,k[1]*b+k[3]*d,k[0]*g+k[2]*f,k[1]*g+k[3]*f,k[0]*i+k[2]*j+k[4],k[1]*i+k[3]*j+k[5]];a._originalTransform(b,d,g,f,i,j)},a.setTransform=function(b,d,g,f,i,j){this._transformMatrix=[b,d,g,f,i,j];a._originalSetTransform(b,d,g,f,i,j)},a.rotate=function(a){var b=Math.cos(a),d=Math.sin(a),g=this._transformMatrix;
this._transformMatrix=[g[0]*b+g[2]*d,g[1]*b+g[3]*d,g[0]*-d+g[2]*b,g[1]*-d+g[3]*b,g[4],g[5]];this._originalRotate(a)})}function k(a){var b=a.width,d=a.height,g,f,i=b+1,j=new Uint8Array(i*(d+1)),k=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),c=b+7&-8,e=a.data,l=new Uint8Array(c*d),m=0,a=0;for(g=e.length;a<g;a++){f=128;for(var r=e[a];0<f;)l[m++]=r&f?0:255,f>>=1}m=e=0;0!==l[m]&&(j[0]=1,++e);for(g=1;g<b;g++)l[m]!==l[m+1]&&(j[g]=l[m]?2:1,++e),m++;0!==l[m]&&(j[g]=2,++e);for(a=1;a<d;a++){m=a*c;f=a*
i;l[m-c]!==l[m]&&(j[f]=l[m]?1:8,++e);r=(l[m]?4:0)+(l[m-c]?8:0);for(g=1;g<b;g++)r=(r>>2)+(l[m+1]?4:0)+(l[m-c+1]?8:0),k[r]&&(j[f+g]=k[r],++e),m++;l[m-c]!==l[m]&&(j[f+g]=l[m]?2:4,++e);if(1E3<e)return null}m=c*(d-1);f=a*i;0!==l[m]&&(j[f]=8,++e);for(g=1;g<b;g++)l[m]!==l[m+1]&&(j[f+g]=l[m]?4:8,++e),m++;0!==l[m]&&(j[f+g]=4,++e);if(1E3<e)return null;for(var k=new Int32Array([0,i,-1,0,-i,0,0,0,1]),u=[],a=0;e&&a<=d;a++){c=a*i;for(l=c+b;c<l&&!j[c];)c++;if(c!==l){l=[c%i,a];m=j[c];g=c;do{f=k[m];do c+=f;while(!j[c]);
f=j[c];5!==f&&10!==f?(m=f,j[c]=0):(m=f&51*m>>4,j[c]&=m>>2|m<<2);l.push(c%i);l.push(c/i|0);--e}while(g!==c);u.push(l);--a}}return function(a){a.save();a.scale(1/b,-1/d);a.translate(0,-d);a.beginPath();for(var c=0,e=u.length;c<e;c++){var g=u[c];a.moveTo(g[0],g[1]);for(var i=2,f=g.length;i<f;i=i+2)a.lineTo(g[i],g[i+1])}a.fill();a.beginPath();a.restore()}}Object.defineProperty(d,"__esModule",{value:!0});d.CanvasGraphics=void 0;var g=b(0),m=b(115),a=16,r={get value(){return(0,g.shadow)(r,"value",(0,g.isLittleEndian)())}},
j=function(){function a(b){this.canvasFactory=b;this.cache=Object.create(null)}a.prototype={getCanvas:function(a,b,d,g){var i;void 0!==this.cache[a]?(i=this.cache[a],this.canvasFactory.reset(i,b,d),i.context.setTransform(1,0,0,1,0,0)):(i=this.canvasFactory.create(b,d),this.cache[a]=i);g&&l(i.context);return i},clear:function(){for(var a in this.cache)this.canvasFactory.destroy(this.cache[a]),delete this.cache[a]}};return a}(),q=function(){function a(){this.alphaIsShape=!1;this.fontSize=0;this.fontSizeScale=
1;this.textMatrix=g.IDENTITY_MATRIX;this.textMatrixScale=1;this.fontMatrix=g.FONT_IDENTITY_MATRIX;this.wordSpacing=this.charSpacing=this.lineY=this.lineX=this.y=this.x=this.leading=0;this.textHScale=1;this.textRenderingMode=g.TextRenderingMode.FILL;this.textRise=0;this.strokeColor=this.fillColor="#000000";this.patternFill=!1;this.lineWidth=this.strokeAlpha=this.fillAlpha=1;this.resumeSMaskCtx=this.activeSMask=null}a.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(a,
b){this.x=a;this.y=b}};return a}(),f=function(){function b(a,c,d,e,h,g){this.ctx=a;this.current=new q;this.stateStack=[];this.pendingClip=null;this.pendingEOFill=!1;this.xobjs=this.res=null;this.commonObjs=c;this.objs=d;this.canvasFactory=e;this.webGLContext=h;this.imageLayer=g;this.groupStack=[];this.baseTransform=this.processingType3=null;this.baseTransformStack=[];this.groupLevel=0;this.smaskStack=[];this.smaskCounter=0;this.tempSMask=null;this.cachedCanvases=new j(this.canvasFactory);a&&l(a);
this.cachedGetSinglePixelWidth=null}function d(c,b){if("undefined"!==typeof ImageData&&b instanceof ImageData)c.putImageData(b,0,0);else{var e=b.height,h=b.width,i=e%a,e=(e-i)/a,f=0===i?e:e+1,j=c.createImageData(h,a),k=0,l,m=b.data,o=j.data,s,q,v;if(b.kind===g.ImageKind.GRAYSCALE_1BPP){var t=m.byteLength,o=new Uint32Array(o.buffer,0,o.byteLength>>2),p=o.length,z=h+7>>3,w=r.value?4278190080:255;for(s=0;s<f;s++){v=s<e?a:i;for(q=l=0;q<v;q++){for(var B=t-k,C=0,B=B>z?h:8*B-7,U=B&-8,T=0,O=0;C<U;C+=8)O=
m[k++],o[l++]=O&128?4294967295:w,o[l++]=O&64?4294967295:w,o[l++]=O&32?4294967295:w,o[l++]=O&16?4294967295:w,o[l++]=O&8?4294967295:w,o[l++]=O&4?4294967295:w,o[l++]=O&2?4294967295:w,o[l++]=O&1?4294967295:w;for(;C<B;C++)0===T&&(O=m[k++],T=128),o[l++]=O&T?4294967295:w,T>>=1}for(;l<p;)o[l++]=0;c.putImageData(j,0,s*a)}}else if(b.kind===g.ImageKind.RGBA_32BPP){q=0;v=4*h*a;for(s=0;s<e;s++)o.set(m.subarray(k,k+v)),k+=v,c.putImageData(j,0,q),q+=a;s<f&&(o.set(m.subarray(k,k+4*h*i)),c.putImageData(j,0,q))}else if(b.kind===
g.ImageKind.RGB_24BPP){v=a;v*=h;for(s=0;s<f;s++){s>=e&&(v=i,v*=h);l=0;for(q=v;q--;)o[l++]=m[k++],o[l++]=m[k++],o[l++]=m[k++],o[l++]=255;c.putImageData(j,0,s*a)}}else throw Error("bad image kind: "+b.kind);}}function f(c,b){for(var d=b.height,e=b.width,h=d%a,d=(d-h)/a,g=0===h?d:d+1,i=c.createImageData(e,a),j=0,k=b.data,l=i.data,m=0;m<g;m++){for(var o=m<d?a:h,s=3,r=0;r<o;r++)for(var q=0,v=0;v<e;v++){if(!q)var t=k[j++],q=128;l[s]=t&q?0:255;s+=4;q>>=1}c.putImageData(i,0,m*a)}}function o(a,c){for(var b=
"strokeStyle fillStyle fillRule globalAlpha lineWidth lineCap lineJoin miterLimit globalCompositeOperation font".split(" "),d=0,e=b.length;d<e;d++){var h=b[d];void 0!==a[h]&&(c[h]=a[h])}void 0!==a.setLineDash&&(c.setLineDash(a.getLineDash()),c.lineDashOffset=a.lineDashOffset)}function t(a){a.strokeStyle="#000000";a.fillStyle="#000000";a.fillRule="nonzero";a.globalAlpha=1;a.lineWidth=1;a.lineCap="butt";a.lineJoin="miter";a.miterLimit=10;a.globalCompositeOperation="source-over";a.font="10px sans-serif";
void 0!==a.setLineDash&&(a.setLineDash([]),a.lineDashOffset=0)}function i(a,c,b){for(var d=a.length,e=1/255,h=3;h<d;h+=4)c[h]=c[h]*(b?b[a[h]]:a[h])*e|0}function p(a,c,b){for(var d=a.length,e=3;e<d;e+=4){var h=77*a[e-3]+152*a[e-2]+28*a[e-1];c[e]=b?c[e]*b[h>>8]>>8:c[e]*h>>16}}function B(a,c,b,d){var e=c.canvas,h=c.context;a.setTransform(c.scaleX,0,0,c.scaleY,c.offsetX,c.offsetY);var g=c.backdrop||null;if(!c.transferMap&&d.isEnabled)b=d.composeSMask({layer:b.canvas,mask:e,properties:{subtype:c.subtype,
backdrop:g}}),a.setTransform(1,0,0,1,0,0),a.drawImage(b,c.offsetX,c.offsetY);else{for(var d=e.width,f=e.height,j=c.transferMap,k=!!g,l=k?g[0]:0,m=k?g[1]:0,g=k?g[2]:0,c="Luminosity"===c.subtype?p:i,o=Math.min(f,Math.ceil(1048576/d)),s=0;s<f;s+=o){var q=Math.min(o,f-s),r=h.getImageData(0,s,d,q),q=b.getImageData(0,s,d,q);if(k)for(var v=r.data,t=l,w=m,z=g,B=v.length,C=3;C<B;C+=4){var O=v[C];if(0===O)v[C-3]=t,v[C-2]=w,v[C-1]=z;else if(255>O){var R=255-O;v[C-3]=v[C-3]*O+t*R>>8;v[C-2]=v[C-2]*O+w*R>>8;v[C-
1]=v[C-1]*O+z*R>>8}}c(r.data,q.data,j);h.putImageData(q,0,s)}a.drawImage(e,0,0)}}var c=["butt","round","square"],e=["miter","round","bevel"],z={},w={};b.prototype={beginDrawing:function(a){var c=a.transform,b=a.viewport,d=a.transparency,a=a.background,a=void 0===a?null:a,e=this.ctx.canvas.width,h=this.ctx.canvas.height;this.ctx.save();this.ctx.fillStyle=a||"rgb(255, 255, 255)";this.ctx.fillRect(0,0,e,h);this.ctx.restore();d&&(d=this.cachedCanvases.getCanvas("transparent",e,h,!0),this.compositeCtx=
this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform));this.ctx.save();t(this.ctx);c&&this.ctx.transform.apply(this.ctx,c);this.ctx.transform.apply(this.ctx,b.transform);this.baseTransform=this.ctx.mozCurrentTransform.slice();this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(a,c,b,d){var e=a.argsArray,a=a.fnArray,c=c||0,h=e.length;if(h===c)return c;for(var i=10<h-c&&"function"===
typeof b,f=i?Date.now()+15:0,j=0,k=this.commonObjs,l=this.objs,m;;){if(void 0!==d&&c===d.nextBreakPoint)return d.breakIt(c,b),c;m=a[c];if(m!==g.OPS.dependency)this[m].apply(this,e[c]);else{m=e[c];for(var o=0,s=m.length;o<s;o++){var q=m[o],r="g"===q[0]&&"_"===q[1]?k:l;if(!r.isResolved(q))return r.get(q,b),c}}c++;if(c===h)return c;if(i&&10<++j){if(Date.now()>f)return b(),c;j=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup();this.ctx.restore();this.transparentCanvas&&(this.ctx=
this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null);this.cachedCanvases.clear();this.webGLContext.clear();this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(a){this.current.lineWidth=a;this.ctx.lineWidth=a},setLineCap:function(a){this.ctx.lineCap=c[a]},setLineJoin:function(a){this.ctx.lineJoin=e[a]},setMiterLimit:function(a){this.ctx.miterLimit=a},setDash:function(a,c){var b=
this.ctx;void 0!==b.setLineDash&&(b.setLineDash(a),b.lineDashOffset=c)},setRenderingIntent:function(){},setFlatness:function(){},setGState:function(a){for(var c=0,b=a.length;c<b;c++){var d=a[c],e=d[1];switch(d[0]){case "LW":this.setLineWidth(e);break;case "LC":this.setLineCap(e);break;case "LJ":this.setLineJoin(e);break;case "ML":this.setMiterLimit(e);break;case "D":this.setDash(e[0],e[1]);break;case "RI":this.setRenderingIntent(e);break;case "FL":this.setFlatness(e);break;case "Font":this.setFont(e[0],
e[1]);break;case "CA":this.current.strokeAlpha=d[1];break;case "ca":this.current.fillAlpha=d[1];this.ctx.globalAlpha=d[1];break;case "BM":this.ctx.globalCompositeOperation=e;break;case "SMask":this.current.activeSMask&&(0<this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=e?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var a=
this.current.activeSMask,c=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,a.canvas.width,a.canvas.height,!0),b=this.ctx,d=b.mozCurrentTransform;this.ctx.save();c=c.context;c.scale(1/a.scaleX,1/a.scaleY);c.translate(-a.offsetX,-a.offsetY);c.transform.apply(c,d);a.startTransformInverse=c.mozCurrentTransformInverse;o(b,c);this.ctx=c;this.setGState([["BM","source-over"],["ca",1],["CA",1]]);this.groupStack.push(b);this.groupLevel++},suspendSMaskGroup:function(){var a=this.ctx;this.groupLevel--;
this.ctx=this.groupStack.pop();B(this.ctx,this.current.activeSMask,a,this.webGLContext);this.ctx.restore();this.ctx.save();o(a,this.ctx);this.current.resumeSMaskCtx=a;this.ctx.transform.apply(this.ctx,g.Util.transform(this.current.activeSMask.startTransformInverse,a.mozCurrentTransform));a.save();a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,a.canvas.width,a.canvas.height);a.restore()},resumeSMaskGroup:function(){var a=this.ctx;this.ctx=this.current.resumeSMaskCtx;this.groupStack.push(a);this.groupLevel++},
endSMaskGroup:function(){var a=this.ctx;this.groupLevel--;this.ctx=this.groupStack.pop();B(this.ctx,this.current.activeSMask,a,this.webGLContext);this.ctx.restore();o(a,this.ctx);this.ctx.transform.apply(this.ctx,g.Util.transform(this.current.activeSMask.startTransformInverse,a.mozCurrentTransform))},save:function(){this.ctx.save();var a=this.current;this.stateStack.push(a);this.current=a.clone();this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup();
null!==this.current.activeSMask&&(0===this.stateStack.length||this.stateStack[this.stateStack.length-1].activeSMask!==this.current.activeSMask)&&this.endSMaskGroup();0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.cachedGetSinglePixelWidth=this.pendingClip=null)},transform:function(a,c,b,d,e,h){this.ctx.transform(a,c,b,d,e,h);this.cachedGetSinglePixelWidth=null},constructPath:function(a,c){for(var b=this.ctx,d=this.current,e=d.x,h=d.y,i=0,f=0,j=a.length;i<j;i++)switch(a[i]|
0){case g.OPS.rectangle:var e=c[f++],h=c[f++],k=c[f++],l=c[f++];0===k&&(k=this.getSinglePixelWidth());0===l&&(l=this.getSinglePixelWidth());k=e+k;l=h+l;this.ctx.moveTo(e,h);this.ctx.lineTo(k,h);this.ctx.lineTo(k,l);this.ctx.lineTo(e,l);this.ctx.lineTo(e,h);this.ctx.closePath();break;case g.OPS.moveTo:e=c[f++];h=c[f++];b.moveTo(e,h);break;case g.OPS.lineTo:e=c[f++];h=c[f++];b.lineTo(e,h);break;case g.OPS.curveTo:e=c[f+4];h=c[f+5];b.bezierCurveTo(c[f],c[f+1],c[f+2],c[f+3],e,h);f+=6;break;case g.OPS.curveTo2:b.bezierCurveTo(e,
h,c[f],c[f+1],c[f+2],c[f+3]);e=c[f+2];h=c[f+3];f+=4;break;case g.OPS.curveTo3:e=c[f+2];h=c[f+3];b.bezierCurveTo(c[f],c[f+1],e,h,e,h);f+=4;break;case g.OPS.closePath:b.closePath()}d.setCurrentPoint(e,h)},closePath:function(){this.ctx.closePath()},stroke:function(a){var a="undefined"!==typeof a?a:!0,c=this.ctx,b=this.current.strokeColor;c.lineWidth=Math.max(0.65*this.getSinglePixelWidth(),this.current.lineWidth);c.globalAlpha=this.current.strokeAlpha;b&&b.hasOwnProperty("type")&&"Pattern"===b.type?
(c.save(),c.strokeStyle=b.getPattern(c,this),c.stroke(),c.restore()):c.stroke();a&&this.consumePath();c.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath();this.stroke()},fill:function(a){var a="undefined"!==typeof a?a:!0,c=this.ctx,b=this.current.fillColor,d=!1;this.current.patternFill&&(c.save(),this.baseTransform&&c.setTransform.apply(c,this.baseTransform),c.fillStyle=b.getPattern(c,this),d=!0);this.pendingEOFill?(c.fill("evenodd"),this.pendingEOFill=!1):c.fill();d&&c.restore();
a&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0;this.fill()},fillStroke:function(){this.fill(!1);this.stroke(!1);this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0;this.fillStroke()},closeFillStroke:function(){this.closePath();this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0;this.closePath();this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=z},eoClip:function(){this.pendingClip=w},beginText:function(){this.current.textMatrix=
g.IDENTITY_MATRIX;this.current.textMatrixScale=1;this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},endText:function(){var a=this.pendingTextPaths,c=this.ctx;if(void 0===a)c.beginPath();else{c.save();c.beginPath();for(var b=0;b<a.length;b++){var d=a[b];c.setTransform.apply(c,d.transform);c.translate(d.x,d.y);d.addToPath(c,d.fontSize)}c.restore();c.clip();c.beginPath();delete this.pendingTextPaths}},setCharSpacing:function(a){this.current.charSpacing=a},setWordSpacing:function(a){this.current.wordSpacing=
a},setHScale:function(a){this.current.textHScale=a/100},setLeading:function(a){this.current.leading=-a},setFont:function(a,c){var b=this.commonObjs.get(a),d=this.current;if(!b)throw Error("Can't find font for "+a);d.fontMatrix=b.fontMatrix?b.fontMatrix:g.FONT_IDENTITY_MATRIX;if(0===d.fontMatrix[0]||0===d.fontMatrix[3])(0,g.warn)("Invalid font matrix for font "+a);0>c?(c=-c,d.fontDirection=-1):d.fontDirection=1;this.current.font=b;this.current.fontSize=c;if(!b.isType3Font){var d=b.black?"900":b.bold?
"bold":"normal",e=b.italic?"italic":"normal",b='"'+(b.loadedName||"sans-serif")+'", '+b.fallbackName,h=16>c?16:100<c?100:c;this.current.fontSizeScale=c/h;this.ctx.font=e+" "+d+" "+h+"px "+b}},setTextRenderingMode:function(a){this.current.textRenderingMode=a},setTextRise:function(a){this.current.textRise=a},moveText:function(a,c){this.current.x=this.current.lineX+=a;this.current.y=this.current.lineY+=c},setLeadingMoveText:function(a,c){this.setLeading(-c);this.moveText(a,c)},setTextMatrix:function(a,
c,b,d,e,h){this.current.textMatrix=[a,c,b,d,e,h];this.current.textMatrixScale=Math.sqrt(a*a+c*c);this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(a,c,b,d){var e=this.ctx,h=this.current,i=h.font,f=h.textRenderingMode,j=h.fontSize/h.fontSizeScale,k=f&g.TextRenderingMode.FILL_STROKE_MASK,f=!!(f&g.TextRenderingMode.ADD_TO_PATH_FLAG),h=h.patternFill&&i.data,l;if(i.disableFontFace||f||h)l=i.getPathGenerator(this.commonObjs,
a);i.disableFontFace||h?(e.save(),e.translate(c,b),e.beginPath(),l(e,j),d&&e.setTransform.apply(e,d),(k===g.TextRenderingMode.FILL||k===g.TextRenderingMode.FILL_STROKE)&&e.fill(),(k===g.TextRenderingMode.STROKE||k===g.TextRenderingMode.FILL_STROKE)&&e.stroke(),e.restore()):((k===g.TextRenderingMode.FILL||k===g.TextRenderingMode.FILL_STROKE)&&e.fillText(a,c,b),(k===g.TextRenderingMode.STROKE||k===g.TextRenderingMode.FILL_STROKE)&&e.strokeText(a,c,b));f&&(this.pendingTextPaths||(this.pendingTextPaths=
[])).push({transform:e.mozCurrentTransform,x:c,y:b,fontSize:j,addToPath:l})},get isFontSubpixelAAEnabled(){var a=this.canvasFactory.create(10,10).context;a.scale(1.5,1);a.fillText("I",0,10);for(var a=a.getImageData(0,0,10,10).data,c=!1,b=3;b<a.length;b+=4)if(0<a[b]&&255>a[b]){c=!0;break}return(0,g.shadow)(this,"isFontSubpixelAAEnabled",c)},showText:function(a){var c=this.current,b=c.font;if(b.isType3Font)return this.showType3Text(a);var d=c.fontSize;if(0!==d){var e=this.ctx,h=c.fontSizeScale,i=c.charSpacing,
f=c.wordSpacing,j=c.fontDirection,k=c.textHScale*j,l=a.length,m=b.vertical,o=m?1:-1,s=b.defaultVMetrics,q=d*c.fontMatrix[0],r=c.textRenderingMode===g.TextRenderingMode.FILL&&!b.disableFontFace&&!c.patternFill;e.save();var v=void 0;if(c.patternFill){e.save();var t=c.fillColor.getPattern(e,this),v=e.mozCurrentTransform;e.restore();e.fillStyle=t}e.transform.apply(e,c.textMatrix);e.translate(c.x,c.y+c.textRise);0<j?e.scale(k,-1):e.scale(k,1);var t=c.lineWidth,p=c.textMatrixScale;if(0===p||0===t){if(p=
c.textRenderingMode&g.TextRenderingMode.FILL_STROKE_MASK,p===g.TextRenderingMode.STROKE||p===g.TextRenderingMode.FILL_STROKE)this.cachedGetSinglePixelWidth=null,t=0.65*this.getSinglePixelWidth()}else t/=p;1!==h&&(e.scale(h,h),t/=h);e.lineWidth=t;for(p=t=0;p<l;++p){var w=a[p];if((0,g.isNum)(w))t+=o*w*d/1E3;else{var z=!1,B=(w.isSpace?f:0)+i,C=w.fontChar,R=w.accent,P,S,D=w.width;if(m){var Q;P=w.vmetric||s;Q=w.vmetric?P[1]:0.5*D;Q=-Q*q;S=P[2]*q;D=P?-P[0]:D;P=Q/h;S=(t+S)/h}else P=t/h,S=0;b.remeasure&&
0<D&&(Q=1E3*e.measureText(C).width/d*h,D<Q&&this.isFontSubpixelAAEnabled?(Q=D/Q,z=!0,e.save(),e.scale(Q,1),P/=Q):D!==Q&&(P+=(D-Q)/2E3*d/h));if(w.isInFont||b.missingFile)r&&!R?e.fillText(C,P,S):(this.paintChar(C,P,S,v),R&&(w=P+R.offset.x/h,C=S-R.offset.y/h,this.paintChar(R.fontChar,w,C,v)));t+=D*q+B*j;z&&e.restore()}}m?c.y-=t*k:c.x+=t*k;e.restore()}},showType3Text:function(a){var c=this.ctx,b=this.current,d=b.font,e=b.fontSize,h=b.fontDirection,i=d.vertical?1:-1,f=b.charSpacing,j=b.wordSpacing,k=b.textHScale*
h,l=b.fontMatrix||g.FONT_IDENTITY_MATRIX,m=a.length,o;if(!(b.textRenderingMode===g.TextRenderingMode.INVISIBLE||0===e)){this.cachedGetSinglePixelWidth=null;c.save();c.transform.apply(c,b.textMatrix);c.translate(b.x,b.y);c.scale(k,h);for(h=0;h<m;++h)if(o=a[h],(0,g.isNum)(o))o=i*o*e/1E3,this.ctx.translate(o,0),b.x+=o*k;else{var s=(o.isSpace?j:0)+f,q=d.charProcOperatorList[o.operatorListId];q?(this.processingType3=o,this.save(),c.scale(e,e),c.transform.apply(c,l),this.executeOperatorList(q),this.restore(),
o=g.Util.applyTransform([o.width,0],l)[0]*e+s,c.translate(o,0),b.x+=o*k):(0,g.warn)('Type3 character "'+o.operatorListId+'" is not available.')}c.restore();this.processingType3=null}},setCharWidth:function(){},setCharWidthAndBounds:function(a,c,b,d,e,h){this.ctx.rect(b,d,e-b,h-d);this.clip();this.endPath()},getColorN_Pattern:function(a){var c=this;if("TilingPattern"===a[0])var d=a[1],e=this.baseTransform||this.ctx.mozCurrentTransform.slice(),a=new m.TilingPattern(a,d,this.ctx,{createCanvasGraphics:function(a){return new b(a,
c.commonObjs,c.objs,c.canvasFactory)}},e);else a=(0,m.getShadingPatternFromIR)(a);return a},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments);this.current.patternFill=!0},setStrokeRGBColor:function(a,c,b){a=g.Util.makeCssRgb(a,c,b);this.ctx.strokeStyle=a;this.current.strokeColor=a},setFillRGBColor:function(a,c,b){a=g.Util.makeCssRgb(a,c,b);this.ctx.fillStyle=a;this.current.fillColor=
a;this.current.patternFill=!1},shadingFill:function(a){var c=this.ctx;this.save();a=(0,m.getShadingPatternFromIR)(a);c.fillStyle=a.getPattern(c,this,!0);var b=c.mozCurrentTransformInverse;if(b){var c=c.canvas,d=c.width,e=c.height,c=g.Util.applyTransform([0,0],b),a=g.Util.applyTransform([0,e],b),h=g.Util.applyTransform([d,0],b),i=g.Util.applyTransform([d,e],b),b=Math.min(c[0],a[0],h[0],i[0]),d=Math.min(c[1],a[1],h[1],i[1]),e=Math.max(c[0],a[0],h[0],i[0]),c=Math.max(c[1],a[1],h[1],i[1]);this.ctx.fillRect(b,
d,e-b,c-d)}else this.ctx.fillRect(-1E10,-1E10,2E10,2E10);this.restore()},beginInlineImage:function(){throw Error("Should not call beginInlineImage");},beginImageData:function(){throw Error("Should not call beginImageData");},paintFormXObjectBegin:function(a,c){this.save();this.baseTransformStack.push(this.baseTransform);Array.isArray(a)&&6===a.length&&this.transform.apply(this,a);this.baseTransform=this.ctx.mozCurrentTransform;Array.isArray(c)&&4===c.length&&(this.ctx.rect(c[0],c[1],c[2]-c[0],c[3]-
c[1]),this.clip(),this.endPath())},paintFormXObjectEnd:function(){this.restore();this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(a){this.save();var c=this.ctx;a.isolated||(0,g.info)("TODO: Support non-isolated groups.");a.knockout&&(0,g.warn)("Knockout groups not supported.");var b=c.mozCurrentTransform;a.matrix&&c.transform.apply(c,a.matrix);if(!a.bbox)throw Error("Bounding box is required.");var d=g.Util.getAxialAlignedBoundingBox(a.bbox,c.mozCurrentTransform),d=g.Util.intersect(d,
[0,0,c.canvas.width,c.canvas.height])||[0,0,0,0],e=Math.floor(d[0]),h=Math.floor(d[1]),i=Math.max(Math.ceil(d[2])-e,1),f=Math.max(Math.ceil(d[3])-h,1),j=d=1;4096<i&&(d=i/4096,i=4096);4096<f&&(j=f/4096,f=4096);var k="groupAt"+this.groupLevel;a.smask&&(k+="_smask_"+this.smaskCounter++%2);i=this.cachedCanvases.getCanvas(k,i,f,!0);f=i.context;f.scale(1/d,1/j);f.translate(-e,-h);f.transform.apply(f,b);a.smask?this.smaskStack.push({canvas:i.canvas,context:f,offsetX:e,offsetY:h,scaleX:d,scaleY:j,subtype:a.smask.subtype,
backdrop:a.smask.backdrop,transferMap:a.smask.transferMap||null,startTransformInverse:null}):(c.setTransform(1,0,0,1,0,0),c.translate(e,h),c.scale(d,j));o(c,f);this.ctx=f;this.setGState([["BM","source-over"],["ca",1],["CA",1]]);this.groupStack.push(c);this.groupLevel++;this.current.activeSMask=null},endGroup:function(a){this.groupLevel--;var c=this.ctx;this.ctx=this.groupStack.pop();void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1;a.smask?
this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(c.canvas,0,0);this.restore()},beginAnnotations:function(){this.save();this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(a,c,b){this.save();t(this.ctx);this.current=new q;Array.isArray(a)&&4===a.length&&(this.ctx.rect(a[0],a[1],a[2]-a[0],a[3]-a[1]),this.clip(),this.endPath());this.transform.apply(this,c);this.transform.apply(this,b)},endAnnotation:function(){this.restore()},
paintJpegXObject:function(a,c,b){var d=this.objs.get(a);if(d){this.save();var e=this.ctx;e.scale(1/c,-1/b);e.drawImage(d,0,0,d.width,d.height,0,-b,c,b);this.imageLayer&&(d=e.mozCurrentTransformInverse,e=this.getCanvasPosition(0,0),this.imageLayer.appendImage({objId:a,left:e[0],top:e[1],width:c/d[0],height:b/d[3]}));this.restore()}else(0,g.warn)("Dependent image isn't ready yet")},paintImageMaskXObject:function(a){var c=this.ctx,b=a.width,d=a.height,e=this.current.fillColor,h=this.current.patternFill,
i=this.processingType3;i&&void 0===i.compiled&&(i.compiled=1E3>=b&&1E3>=d?k({data:a.data,width:b,height:d}):null);i&&i.compiled?i.compiled(c):(c=this.cachedCanvases.getCanvas("maskCanvas",b,d),i=c.context,i.save(),f(i,a),i.globalCompositeOperation="source-in",i.fillStyle=h?e.getPattern(i,this):e,i.fillRect(0,0,b,d),i.restore(),this.paintInlineImageXObject(c.canvas))},paintImageMaskXObjectRepeat:function(a,c,b,d){var e=a.width,h=a.height,i=this.current.fillColor,g=this.current.patternFill,j=this.cachedCanvases.getCanvas("maskCanvas",
e,h),k=j.context;k.save();f(k,a);k.globalCompositeOperation="source-in";k.fillStyle=g?i.getPattern(k,this):i;k.fillRect(0,0,e,h);k.restore();a=this.ctx;i=0;for(g=d.length;i<g;i+=2)a.save(),a.transform(c,0,0,b,d[i],d[i+1]),a.scale(1,-1),a.drawImage(j.canvas,0,0,e,h,0,-1,1,1),a.restore()},paintImageMaskXObjectGroup:function(a){for(var c=this.ctx,b=this.current.fillColor,d=this.current.patternFill,e=0,h=a.length;e<h;e++){var i=a[e],g=i.width,j=i.height,k=this.cachedCanvases.getCanvas("maskCanvas",g,
j),l=k.context;l.save();f(l,i);l.globalCompositeOperation="source-in";l.fillStyle=d?b.getPattern(l,this):b;l.fillRect(0,0,g,j);l.restore();c.save();c.transform.apply(c,i.transform);c.scale(1,-1);c.drawImage(k.canvas,0,0,g,j,0,-1,1,1);c.restore()}},paintImageXObject:function(a){(a=this.objs.get(a))?this.paintInlineImageXObject(a):(0,g.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(a,c,b,d){if(a=this.objs.get(a)){for(var e=a.width,h=a.height,i=[],f=0,j=d.length;f<j;f+=2)i.push({transform:[c,
0,0,b,d[f],d[f+1]],x:0,y:0,w:e,h:h});this.paintInlineImageXObjectGroup(a,i)}else(0,g.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(a){var c=a.width,b=a.height,e=this.ctx;this.save();e.scale(1/c,-1/b);var i=e.mozCurrentTransformInverse,g=i[0],f=i[1],g=Math.max(Math.sqrt(g*g+f*f),1),f=i[2],j=i[3],f=Math.max(Math.sqrt(f*f+j*j),1),k;if(a instanceof HTMLElement||!a.data)j=a;else{k=this.cachedCanvases.getCanvas("inlineImage",c,b);var l=k.context;d(l,a);j=k.canvas}for(var m=
c,o=b,s="prescale1";2<g&&1<m||2<f&&1<o;){var q=m,r=o;2<g&&1<m&&(q=Math.ceil(m/2),g/=m/q);2<f&&1<o&&(r=Math.ceil(o/2),f/=o/r);k=this.cachedCanvases.getCanvas(s,q,r);l=k.context;l.clearRect(0,0,q,r);l.drawImage(j,0,0,m,o,0,0,q,r);j=k.canvas;m=q;o=r;s="prescale1"===s?"prescale2":"prescale1"}e.drawImage(j,0,0,m,o,0,-b,c,b);this.imageLayer&&(e=this.getCanvasPosition(0,-b),this.imageLayer.appendImage({imgData:a,left:e[0],top:e[1],width:c/i[0],height:b/i[3]}));this.restore()},paintInlineImageXObjectGroup:function(a,
c){var b=this.ctx,e=a.width,i=a.height,g=this.cachedCanvases.getCanvas("inlineImage",e,i);d(g.context,a);for(var f=0,j=c.length;f<j;f++){var k=c[f];b.save();b.transform.apply(b,k.transform);b.scale(1,-1);b.drawImage(g.canvas,k.x,k.y,k.w,k.h,0,-1,1,1);this.imageLayer&&(k=this.getCanvasPosition(k.x,k.y),this.imageLayer.appendImage({imgData:a,left:k[0],top:k[1],width:e,height:i}));b.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,g.warn)("Unsupported 'paintXObject' command.")},
markPoint:function(){},markPointProps:function(){},beginMarkedContent:function(){},beginMarkedContentProps:function(){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var a=this.ctx;this.pendingClip&&(this.pendingClip===w?a.clip("evenodd"):a.clip(),this.pendingClip=null);a.beginPath()},getSinglePixelWidth:function(){if(null===this.cachedGetSinglePixelWidth){this.ctx.save();var a=this.ctx.mozCurrentTransformInverse;this.ctx.restore();this.cachedGetSinglePixelWidth=
Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3]))}return this.cachedGetSinglePixelWidth},getCanvasPosition:function(a,c){var b=this.ctx.mozCurrentTransform;return[b[0]*a+b[2]*c+b[4],b[1]*a+b[3]*c+b[5]]}};for(var C in g.OPS)b.prototype[g.OPS[C]]=b.prototype[C];return b}();d.CanvasGraphics=f},function(f,d,b){Object.defineProperty(d,"__esModule",{value:!0});d.TilingPattern=d.getShadingPatternFromIR=void 0;var l=b(0),k={RadialAxial:{fromIR:function(b){var a=b[1],d=b[2],g=b[3],f=b[4],k=b[5],
h=b[6];return{type:"Pattern",getPattern:function(b){var l;"axial"===a?l=b.createLinearGradient(g[0],g[1],f[0],f[1]):"radial"===a&&(l=b.createRadialGradient(g[0],g[1],k,f[0],f[1],h));for(var b=0,m=d.length;b<m;++b){var i=d[b];l.addColorStop(i[0],i[1])}return l}}}}},g=function(){function b(a,d,g,f,k,h,l,m){var t=d.coords,i=d.colors,p=a.data,a=4*a.width,B;t[g+1]>t[f+1]&&(B=g,g=f,f=B,B=h,h=l,l=B);t[f+1]>t[k+1]&&(B=f,f=k,k=B,B=l,l=m,m=B);t[g+1]>t[f+1]&&(B=g,g=f,f=B,B=h,h=l,l=B);B=(t[g]+d.offsetX)*d.scaleX;
var g=(t[g+1]+d.offsetY)*d.scaleY,c=(t[f]+d.offsetX)*d.scaleX,f=(t[f+1]+d.offsetY)*d.scaleY,e=(t[k]+d.offsetX)*d.scaleX,d=(t[k+1]+d.offsetY)*d.scaleY;if(!(g>=d))for(var k=i[h],t=i[h+1],h=i[h+2],z=i[l],w=i[l+1],l=i[l+2],C=i[m],u=i[m+1],m=i[m+2],A=Math.round(g),i=Math.round(d),F,I,K,E,H,L,N,x,M=A;M<=i;M++){M<f?(x=M<g?0:g===f?1:(g-M)/(g-f),A=B-(B-c)*x,F=k-(k-z)*x,I=t-(t-w)*x,K=h-(h-l)*x):(x=M>d?1:f===d?0:(f-M)/(f-d),A=c-(c-e)*x,F=z-(z-C)*x,I=w-(w-u)*x,K=l-(l-m)*x);x=M<g?0:M>d?1:(g-M)/(g-d);E=B-(B-e)*
x;H=k-(k-C)*x;L=t-(t-u)*x;N=h-(h-m)*x;x=Math.round(Math.min(A,E));for(var n=Math.round(Math.max(A,E)),J=a*M+4*x,y=x;y<=n;y++)x=(A-y)/(A-E),x=0>x?0:1<x?1:x,p[J++]=F-(F-H)*x|0,p[J++]=I-(I-L)*x|0,p[J++]=K-(K-N)*x|0,p[J++]=255}}return function(a,d,g,f,k,h,l,o){var t=Math.floor(a[0]),i=Math.floor(a[1]),p=Math.ceil(a[2])-t,a=Math.ceil(a[3])-i,B=Math.min(Math.ceil(Math.abs(1.1*p*d[0])),3E3),d=Math.min(Math.ceil(Math.abs(1.1*a*d[1])),3E3),p=p/B,a=a/d,g={coords:g,colors:f,offsetX:-t,offsetY:-i,scaleX:1/p,
scaleY:1/a},f=B+4,c=d+4;if(o.isEnabled)k=o.drawFigures({width:B,height:d,backgroundColor:h,figures:k,context:g}),l=l.getCanvas("mesh",f,c,!1),l.context.drawImage(k,2,2);else{l=l.getCanvas("mesh",f,c,!1);o=l.context;d=o.createImageData(B,d);if(h){c=d.data;B=0;for(f=c.length;B<f;B+=4)c[B]=h[0],c[B+1]=h[1],c[B+2]=h[2],c[B+3]=255}for(B=0;B<k.length;B++){var h=d,e=k[B],f=g,c=e.coords,z=e.colors,w=void 0,C=void 0;switch(e.type){case "lattice":for(var e=e.verticesPerRow,C=Math.floor(c.length/e)-1,u=e-1,
w=0;w<C;w++)for(var A=w*e,F=0;F<u;F++,A++)b(h,f,c[A],c[A+1],c[A+e],z[A],z[A+1],z[A+e]),b(h,f,c[A+e+1],c[A+1],c[A+e],z[A+e+1],z[A+1],z[A+e]);break;case "triangles":w=0;for(C=c.length;w<C;w+=3)b(h,f,c[w],c[w+1],c[w+2],z[w],z[w+1],z[w+2]);break;default:throw Error("illegal figure");}}o.putImageData(d,2,2)}k=l.canvas;return{canvas:k,offsetX:t-2*p,offsetY:i-2*a,scaleX:p,scaleY:a}}}();k.Mesh={fromIR:function(b){var a=b[2],d=b[3],f=b[4],k=b[5],v=b[6],h=b[8];return{type:"Pattern",getPattern:function(b,m,
t){var i;if(t)i=l.Util.singularValueDecompose2dScale(b.mozCurrentTransform);else if(i=l.Util.singularValueDecompose2dScale(m.baseTransform),v){var p=l.Util.singularValueDecompose2dScale(v);i=[i[0]*p[0],i[1]*p[1]]}i=g(k,i,a,d,f,t?null:h,m.cachedCanvases,m.webGLContext);t||(b.setTransform.apply(b,m.baseTransform),v&&b.transform.apply(b,v));b.translate(i.offsetX,i.offsetY);b.scale(i.scaleX,i.scaleY);return b.createPattern(i.canvas,"no-repeat")}}}};k.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};
f=function(){function b(a,d,f,g,k){this.operatorList=a[2];this.matrix=a[3]||[1,0,0,1,0,0];this.bbox=a[4];this.xstep=a[5];this.ystep=a[6];this.paintType=a[7];this.tilingType=a[8];this.color=d;this.canvasGraphicsFactory=g;this.baseTransform=k;this.type="Pattern";this.ctx=f}b.prototype={createPatternCanvas:function(a){var b=this.operatorList,d=this.bbox,f=this.xstep,g=this.ystep,h=this.paintType,k=this.tilingType,m=this.color,t=this.canvasGraphicsFactory;(0,l.info)("TilingType: "+k);var k=d[0],i=d[1],
p=d[2],B=d[3],c=[k,i],e=[k+f,i+g],z=e[0]-c[0],e=e[1]-c[1],w=l.Util.singularValueDecompose2dScale(this.matrix),C=l.Util.singularValueDecompose2dScale(this.baseTransform),w=[w[0]*C[0],w[1]*C[1]],z=Math.min(Math.ceil(Math.abs(z*w[0])),3E3),e=Math.min(Math.ceil(Math.abs(e*w[1])),3E3),w=a.cachedCanvases.getCanvas("pattern",z,e,!0),t=t.createCanvasGraphics(w.context);t.groupLevel=a.groupLevel;this.setFillAndStrokeStyleToContext(t,h,m);this.setScale(z,e,f,g);this.transformToScale(t);t.transform.apply(t,
[1,0,0,1,-c[0],-c[1]]);this.clipBbox(t,d,k,i,p,B);t.executeOperatorList(b);return w.canvas},setScale:function(a,b,d,f){this.scale=[a/d,b/f]},transformToScale:function(a){var b=this.scale;a.transform.apply(a,[b[0],0,0,b[1],0,0])},scaleToContext:function(){var a=this.scale;this.ctx.scale(1/a[0],1/a[1])},clipBbox:function(a,b,d,f,g,h){Array.isArray(b)&&4===b.length&&(a.ctx.rect(d,f,g-d,h-f),a.clip(),a.endPath())},setFillAndStrokeStyleToContext:function(a,b,d){var f=a.ctx,a=a.current;switch(b){case 1:b=
this.ctx;f.fillStyle=b.fillStyle;f.strokeStyle=b.strokeStyle;a.fillColor=b.fillStyle;a.strokeColor=b.strokeStyle;break;case 2:b=l.Util.makeCssRgb(d[0],d[1],d[2]);f.fillStyle=b;f.strokeStyle=b;a.fillColor=b;a.strokeColor=b;break;default:throw new l.FormatError("Unsupported paint type: "+b);}},getPattern:function(a,b){var d=this.createPatternCanvas(b),a=this.ctx;a.setTransform.apply(a,this.baseTransform);a.transform.apply(a,this.matrix);this.scaleToContext();return a.createPattern(d,"repeat")}};return b}();
d.getShadingPatternFromIR=function(b){var a=k[b[0]];if(!a)throw Error("Unknown IR type: "+b[0]);return a.fromIR(b)};d.TilingPattern=f},function(f,d,b){Object.defineProperty(d,"__esModule",{value:!0});d.PDFDataTransportStream=void 0;var l=b(0),f=function(){function b(a,d){var f=this;(0,l.assert)(d);this._queuedChunks=[];var g=a.initialData;g&&0<g.length&&this._queuedChunks.push((new Uint8Array(g)).buffer);this._pdfDataRangeTransport=d;this._isRangeSupported=!a.disableRange;this._isStreamingSupported=
!a.disableStream;this._contentLength=a.length;this._fullRequestReader=null;this._rangeReaders=[];this._pdfDataRangeTransport.addRangeListener(function(a,b){f._onReceiveData({begin:a,chunk:b})});this._pdfDataRangeTransport.addProgressListener(function(a){f._onProgress({loaded:a})});this._pdfDataRangeTransport.addProgressiveReadListener(function(a){f._onReceiveData({chunk:a})});this._pdfDataRangeTransport.transportReady()}function d(a,b){this._stream=a;this._done=!1;this._queuedChunks=b||[];this._requests=
[];this._headersReady=Promise.resolve();a._fullRequestReader=this;this.onProgress=null}function f(a,b,d){this._stream=a;this._begin=b;this._end=d;this._queuedChunk=null;this._requests=[];this._done=!1;this.onProgress=null}b.prototype={_onReceiveData:function(a){var b=(new Uint8Array(a.chunk)).buffer;if(void 0===a.begin)this._fullRequestReader?this._fullRequestReader._enqueue(b):this._queuedChunks.push(b);else{var d=this._rangeReaders.some(function(d){if(d._begin!==a.begin)return!1;d._enqueue(b);return!0});
(0,l.assert)(d)}},_onProgress:function(a){if(0<this._rangeReaders.length){var b=this._rangeReaders[0];if(b.onProgress)b.onProgress({loaded:a.loaded})}},_removeRangeReader:function(a){a=this._rangeReaders.indexOf(a);0<=a&&this._rangeReaders.splice(a,1)},getFullReader:function(){(0,l.assert)(!this._fullRequestReader);var a=this._queuedChunks;this._queuedChunks=null;return new d(this,a)},getRangeReader:function(a,b){var d=new f(this,a,b);this._pdfDataRangeTransport.requestDataRange(a,b);this._rangeReaders.push(d);
return d},cancelAllRequests:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);this._rangeReaders.slice(0).forEach(function(b){b.cancel(a)});this._pdfDataRangeTransport.abort()}};d.prototype={_enqueue:function(a){this._done||(0<this._requests.length?this._requests.shift().resolve({value:a,done:!1}):this._queuedChunks.push(a))},get headersReady(){return this._headersReady},get isRangeSupported(){return this._stream._isRangeSupported},get isStreamingSupported(){return this._stream._isStreamingSupported},
get contentLength(){return this._stream._contentLength},read:function(){if(0<this._queuedChunks.length){var a=this._queuedChunks.shift();return Promise.resolve({value:a,done:!1})}if(this._done)return Promise.resolve({value:void 0,done:!0});a=(0,l.createPromiseCapability)();this._requests.push(a);return a.promise},cancel:function(){this._done=!0;this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[]}};f.prototype={_enqueue:function(a){this._done||(0===this._requests.length?
this._queuedChunk=a:(this._requests.shift().resolve({value:a,done:!1}),this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))},get isStreamingSupported(){return!1},read:function(){if(this._queuedChunk){var a=this._queuedChunk;this._queuedChunk=null;return Promise.resolve({value:a,done:!1})}if(this._done)return Promise.resolve({value:void 0,done:!0});a=(0,l.createPromiseCapability)();this._requests.push(a);return a.promise},
cancel:function(){this._done=!0;this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[];this._stream._removeRangeReader(this)}};return b}();d.PDFDataTransportStream=f},function(f,d,b){Object.defineProperty(d,"__esModule",{value:!0});d.WebGLContext=void 0;var l=function(){function b(a,d){for(var f=0;f<d.length;f++){var g=d[f];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(a,g.key,g)}}return function(a,d,f){d&&b(a.prototype,
d);f&&b(a,f);return a}}(),k=b(0),f=function(){function b(a){a=a.enable;a=void 0===a?!1:a;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._enabled=!0===a}l(b,[{key:"composeSMask",value:function(a){return g.composeSMask(a.layer,a.mask,a.properties)}},{key:"drawFigures",value:function(a){return g.drawFigures(a.width,a.height,a.backgroundColor,a.figures,a.context)}},{key:"clear",value:function(){g.cleanup()}},{key:"isEnabled",get:function(){var a=this._enabled;a&&
(a=g.tryInitGL());return(0,k.shadow)(this,"isEnabled",a)}}]);return b}(),g=function(){function b(a,d,h){h=a.createShader(h);a.shaderSource(h,d);a.compileShader(h);if(!a.getShaderParameter(h,a.COMPILE_STATUS))throw a=a.getShaderInfoLog(h),Error("Error during shader compilation: "+a);return h}function a(a,b){for(var d=a.createProgram(),h=0,f=b.length;h<f;++h)a.attachShader(d,b[h]);a.linkProgram(d);if(!a.getProgramParameter(d,a.LINK_STATUS))throw d=a.getProgramInfoLog(d),Error("Error during program linking: "+
d);return d}function d(a,b,h){a.activeTexture(h);h=a.createTexture();a.bindTexture(a.TEXTURE_2D,h);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,b);return h}function f(){g||(k=document.createElement("canvas"),g=k.getContext("webgl",{premultipliedalpha:!1}))}
var g,k,h=null,l=null;return{tryInitGL:function(){try{return f(),!!g}catch(a){}return!1},composeSMask:function(l,s,i){var p=l.width,B=l.height;if(!h){var c,e;f();c=k;k=null;e=g;g=null;var z=b(e,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",
e.VERTEX_SHADER),w=b(e,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",
e.FRAGMENT_SHADER),C=a(e,[z,w]);e.useProgram(C);z={};z.gl=e;z.canvas=c;z.resolutionLocation=e.getUniformLocation(C,"u_resolution");z.positionLocation=e.getAttribLocation(C,"a_position");z.backdropLocation=e.getUniformLocation(C,"u_backdrop");z.subtypeLocation=e.getUniformLocation(C,"u_subtype");c=e.getAttribLocation(C,"a_texCoord");var w=e.getUniformLocation(C,"u_image"),C=e.getUniformLocation(C,"u_mask"),u=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,u);e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,
0,1,0,0,1,0,1,1,0,1,1]),e.STATIC_DRAW);e.enableVertexAttribArray(c);e.vertexAttribPointer(c,2,e.FLOAT,!1,0,0);e.uniform1i(w,0);e.uniform1i(C,1);h=z}e=h;z=e.canvas;c=e.gl;z.width=p;z.height=B;c.viewport(0,0,c.drawingBufferWidth,c.drawingBufferHeight);c.uniform2f(e.resolutionLocation,p,B);i.backdrop?c.uniform4f(e.resolutionLocation,i.backdrop[0],i.backdrop[1],i.backdrop[2],1):c.uniform4f(e.resolutionLocation,0,0,0,0);c.uniform1i(e.subtypeLocation,"Luminosity"===i.subtype?1:0);l=d(c,l,c.TEXTURE0);s=
d(c,s,c.TEXTURE1);i=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,i);c.bufferData(c.ARRAY_BUFFER,new Float32Array([0,0,p,0,0,B,0,B,p,0,p,B]),c.STATIC_DRAW);c.enableVertexAttribArray(e.positionLocation);c.vertexAttribPointer(e.positionLocation,2,c.FLOAT,!1,0,0);c.clearColor(0,0,0,0);c.enable(c.BLEND);c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA);c.clear(c.COLOR_BUFFER_BIT);c.drawArrays(c.TRIANGLES,0,6);c.flush();c.deleteTexture(l);c.deleteTexture(s);c.deleteBuffer(i);return z},drawFigures:function(d,h,i,
p,r){if(!l){var c,e;f();c=k;k=null;e=g;g=null;var z=b(e,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",
e.VERTEX_SHADER),w=b(e,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",e.FRAGMENT_SHADER),z=a(e,[z,
w]);e.useProgram(z);w={};w.gl=e;w.canvas=c;w.resolutionLocation=e.getUniformLocation(z,"u_resolution");w.scaleLocation=e.getUniformLocation(z,"u_scale");w.offsetLocation=e.getUniformLocation(z,"u_offset");w.positionLocation=e.getAttribLocation(z,"a_position");w.colorLocation=e.getAttribLocation(z,"a_color");l=w}c=l;e=c.canvas;z=c.gl;e.width=d;e.height=h;z.viewport(0,0,z.drawingBufferWidth,z.drawingBufferHeight);z.uniform2f(c.resolutionLocation,d,h);var d=0,C,u,A;C=0;for(u=p.length;C<u;C++)switch(p[C].type){case "lattice":A=
p[C].coords.length/p[C].verticesPerRow|0;d+=6*(A-1)*(p[C].verticesPerRow-1);break;case "triangles":d+=p[C].coords.length}var w=new Float32Array(2*d),h=new Uint8Array(3*d),F=r.coords,I=r.colors,K=0,E=0;C=0;for(u=p.length;C<u;C++){A=p[C];var H=A.coords,L=A.colors;switch(A.type){case "lattice":var N=A.verticesPerRow;A=H.length/N|0;for(var x=1;x<A;x++)for(var M=x*N+1,n=1;n<N;n++,M++)w[K]=F[H[M-N-1]],w[K+1]=F[H[M-N-1]+1],w[K+2]=F[H[M-N]],w[K+3]=F[H[M-N]+1],w[K+4]=F[H[M-1]],w[K+5]=F[H[M-1]+1],h[E]=I[L[M-
N-1]],h[E+1]=I[L[M-N-1]+1],h[E+2]=I[L[M-N-1]+2],h[E+3]=I[L[M-N]],h[E+4]=I[L[M-N]+1],h[E+5]=I[L[M-N]+2],h[E+6]=I[L[M-1]],h[E+7]=I[L[M-1]+1],h[E+8]=I[L[M-1]+2],w[K+6]=w[K+2],w[K+7]=w[K+3],w[K+8]=w[K+4],w[K+9]=w[K+5],w[K+10]=F[H[M]],w[K+11]=F[H[M]+1],h[E+9]=h[E+3],h[E+10]=h[E+4],h[E+11]=h[E+5],h[E+12]=h[E+6],h[E+13]=h[E+7],h[E+14]=h[E+8],h[E+15]=I[L[M]],h[E+16]=I[L[M]+1],h[E+17]=I[L[M]+2],K+=12,E+=18;break;case "triangles":A=0;for(N=H.length;A<N;A++)w[K]=F[H[A]],w[K+1]=F[H[A]+1],h[E]=I[L[A]],h[E+1]=
I[L[A]+1],h[E+2]=I[L[A]+2],K+=2,E+=3}}i?z.clearColor(i[0]/255,i[1]/255,i[2]/255,1):z.clearColor(0,0,0,0);z.clear(z.COLOR_BUFFER_BIT);i=z.createBuffer();z.bindBuffer(z.ARRAY_BUFFER,i);z.bufferData(z.ARRAY_BUFFER,w,z.STATIC_DRAW);z.enableVertexAttribArray(c.positionLocation);z.vertexAttribPointer(c.positionLocation,2,z.FLOAT,!1,0,0);p=z.createBuffer();z.bindBuffer(z.ARRAY_BUFFER,p);z.bufferData(z.ARRAY_BUFFER,h,z.STATIC_DRAW);z.enableVertexAttribArray(c.colorLocation);z.vertexAttribPointer(c.colorLocation,
3,z.UNSIGNED_BYTE,!1,0,0);z.uniform2f(c.scaleLocation,r.scaleX,r.scaleY);z.uniform2f(c.offsetLocation,r.offsetX,r.offsetY);z.drawArrays(z.TRIANGLES,0,d);z.flush();z.deleteBuffer(i);z.deleteBuffer(p);return e},cleanup:function(){h&&h.canvas&&(h.canvas.width=0,h.canvas.height=0);l&&l.canvas&&(l.canvas.width=0,l.canvas.height=0);l=h=null}}}();d.WebGLContext=f},function(f,d,b){function l(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"===
typeof b||"function"===typeof b)?b:a}function k(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function m(a,b){return{protocol:a.protocol,auth:a.auth,
host:a.hostname,port:a.port,path:a.path,method:"GET",headers:b}}Object.defineProperty(d,"__esModule",{value:!0});d.PDFNodeStream=void 0;var a=function(){function a(b,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(b,h.key,h)}}return function(b,d,h){d&&a(b.prototype,d);h&&a(b,h);return b}}(),r=b(0),j=b(38),q=require("fs"),v=require("http"),h=require("https"),s=require("url"),f=function(){function b(a){g(this,
b);this.source=a;this.url=s.parse(a.url);this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol;this.isFsUrl="file:"===this.url.protocol||!this.url.host;this.httpHeaders=this.isHttp&&a.httpHeaders||{};this._fullRequest=null;this._rangeRequestReaders=[]}a(b,[{key:"getFullReader",value:function(){(0,r.assert)(!this._fullRequest);return this._fullRequest=this.isFsUrl?new p(this):new t(this)}},{key:"getRangeReader",value:function(a,b){var c=this.isFsUrl?new B(this,a,b):new i(this,a,b);
this._rangeRequestReaders.push(c);return c}},{key:"cancelAllRequests",value:function(a){this._fullRequest&&this._fullRequest.cancel(a);this._rangeRequestReaders.slice(0).forEach(function(b){b.cancel(a)})}}]);return b}(),b=function(){function b(a){g(this,b);this._url=a.url;this._errored=this._done=!1;this.onProgress=this._reason=null;a=a.source;this._contentLength=a.length;this._loaded=0;this._disableRange=a.disableRange||!1;this._rangeChunkSize=a.rangeChunkSize;!this._rangeChunkSize&&!this._disableRange&&
(this._disableRange=!0);this._isStreamingSupported=!a.disableStream;this._isRangeSupported=!a.disableRange;this._readableStream=null;this._readCapability=(0,r.createPromiseCapability)();this._headersCapability=(0,r.createPromiseCapability)()}a(b,[{key:"read",value:function(){var a=this;return this._readCapability.promise.then(function(){if(a._done)return Promise.resolve({value:void 0,done:!0});if(a._errored)return Promise.reject(a._reason);var b=a._readableStream.read();if(null===b)return a._readCapability=
(0,r.createPromiseCapability)(),a.read();a._loaded+=b.length;if(a.onProgress)a.onProgress({loaded:a._loaded,total:a._contentLength});b=(new Uint8Array(b)).buffer;return Promise.resolve({value:b,done:!1})})}},{key:"cancel",value:function(a){this._readableStream?this._readableStream.destroy(a):this._error(a)}},{key:"_error",value:function(a){this._errored=!0;this._reason=a;this._readCapability.resolve()}},{key:"_setReadableStream",value:function(a){var b=this;this._readableStream=a;a.on("readable",
function(){b._readCapability.resolve()});a.on("end",function(){a.destroy();b._done=!0;b._readCapability.resolve()});a.on("error",function(a){b._error(a)});!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled"));this._errored&&this._readableStream.destroy(this._reason)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},
{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return b}(),o=function(){function b(a){g(this,b);this._url=a.url;this._errored=this._done=!1;this.onProgress=this._reason=null;this._loaded=0;this._readableStream=null;this._readCapability=(0,r.createPromiseCapability)();this._isStreamingSupported=!a.source.disableStream}a(b,[{key:"read",value:function(){var a=this;return this._readCapability.promise.then(function(){if(a._done)return Promise.resolve({value:void 0,done:!0});
if(a._errored)return Promise.reject(a._reason);var b=a._readableStream.read();if(null===b)return a._readCapability=(0,r.createPromiseCapability)(),a.read();a._loaded+=b.length;if(a.onProgress)a.onProgress({loaded:a._loaded});b=(new Uint8Array(b)).buffer;return Promise.resolve({value:b,done:!1})})}},{key:"cancel",value:function(a){this._readableStream?this._readableStream.destroy(a):this._error(a)}},{key:"_error",value:function(a){this._errored=!0;this._reason=a;this._readCapability.resolve()}},{key:"_setReadableStream",
value:function(a){var b=this;this._readableStream=a;a.on("readable",function(){b._readCapability.resolve()});a.on("end",function(){a.destroy();b._done=!0;b._readCapability.resolve()});a.on("error",function(a){b._error(a)});this._errored&&this._readableStream.destroy(this._reason)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return b}(),t=function(a){function b(a){g(this,b);var c=l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),d=function(b){c._headersCapability.resolve();
c._setReadableStream(b);var b=(0,j.validateRangeRequestCapabilities)({getResponseHeader:function(a){return c._readableStream.headers[a.toLowerCase()]},isHttp:a.isHttp,rangeChunkSize:c._rangeChunkSize,disableRange:c._disableRange}),d=b.suggestedLength;b.allowRangeRequests&&(c._isRangeSupported=!0);c._contentLength=d};c._request=null;c._request="http:"===c._url.protocol?v.request(m(c._url,a.httpHeaders),d):h.request(m(c._url,a.httpHeaders),d);c._request.on("error",function(a){c._errored=!0;c._reason=
a;c._headersCapability.reject(a)});c._request.end();return c}k(b,a);return b}(b),i=function(a){function b(a,c,d){g(this,b);var f=l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));f._httpHeaders={};for(var i in a.httpHeaders){var j=a.httpHeaders[i];"undefined"!==typeof j&&(f._httpHeaders[i]=j)}f._httpHeaders.Range="bytes="+c+"-"+(d-1);f._request=null;f._request="http:"===f._url.protocol?v.request(m(f._url,f._httpHeaders),function(a){f._setReadableStream(a)}):h.request(m(f._url,f._httpHeaders),
function(a){f._setReadableStream(a)});f._request.on("error",function(a){f._errored=!0;f._reason=a});f._request.end();return f}k(b,a);return b}(o),p=function(a){function b(a){g(this,b);var c=l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),d=decodeURI(c._url.path);q.lstat(d,function(a,b){a?(c._errored=!0,c._reason=a,c._headersCapability.reject(a)):(c._contentLength=b.size,c._setReadableStream(q.createReadStream(d)),c._headersCapability.resolve())});return c}k(b,a);return b}(b),B=function(a){function b(a,
c,d){g(this,b);a=l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));a._setReadableStream(q.createReadStream(decodeURI(a._url.path),{start:c,end:d-1}));return a}k(b,a);return b}(o);d.PDFNodeStream=f},function(f,d,b){function l(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function k(a,b){return{method:"GET",headers:a,mode:"cors",credentials:b?"include":"same-origin",redirect:"follow"}}Object.defineProperty(d,"__esModule",{value:!0});d.PDFFetchStream=
void 0;var g=function(){function a(b,d){for(var f=0;f<d.length;f++){var g=d[f];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(b,g.key,g)}}return function(b,d,f){d&&a(b.prototype,d);f&&a(b,f);return b}}(),m=b(0),a=b(38),f=function(){function a(b){l(this,a);this.source=b;this.httpHeaders=(this.isHttp=/^https?:/i.test(b.url))&&b.httpHeaders||{};this._fullRequestReader=null;this._rangeRequestReaders=[]}g(a,[{key:"getFullReader",value:function(){(0,m.assert)(!this._fullRequestReader);
return this._fullRequestReader=new r(this)}},{key:"getRangeReader",value:function(a,b){var d=new j(this,a,b);this._rangeRequestReaders.push(d);return d}},{key:"cancelAllRequests",value:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);this._rangeRequestReaders.slice(0).forEach(function(b){b.cancel(a)})}}]);return a}(),r=function(){function b(d){var h=this;l(this,b);this._stream=d;this._reader=null;this._loaded=0;d=d.source;this._withCredentials=d.withCredentials;this._contentLength=
d.length;this._headersCapability=(0,m.createPromiseCapability)();this._disableRange=d.disableRange;this._rangeChunkSize=d.rangeChunkSize;!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0);this._isRangeSupported=!d.disableRange;this._isStreamingSupported=!d.disableStream;this._headers=new Headers;for(var f in this._stream.httpHeaders){var g=this._stream.httpHeaders[f];"undefined"!==typeof g&&this._headers.append(f,g)}var j=d.url;fetch(j,k(this._headers,this._withCredentials)).then(function(b){if(!(0,
a.validateResponseStatus)(b.status))throw(0,a.createResponseStatusError)(b.status,j);h._reader=b.body.getReader();h._headersCapability.resolve();var d=(0,a.validateRangeRequestCapabilities)({getResponseHeader:function(a){return b.headers.get(a)},isHttp:h._stream.isHttp,rangeChunkSize:h._rangeChunkSize,disableRange:h._disableRange}),f=d.allowRangeRequests;h._contentLength=d.suggestedLength;h._isRangeSupported=f;!h._isStreamingSupported&&h._isRangeSupported&&h.cancel(new m.AbortException("streaming is disabled"))}).catch(this._headersCapability.reject);
this.onProgress=null}g(b,[{key:"read",value:function(){var a=this;return this._headersCapability.promise.then(function(){return a._reader.read().then(function(b){var d=b.value;if(b=b.done)return Promise.resolve({value:d,done:b});a._loaded+=d.byteLength;if(a.onProgress)a.onProgress({loaded:a._loaded,total:a._contentLength});d=(new Uint8Array(d)).buffer;return Promise.resolve({value:d,done:!1})})})}},{key:"cancel",value:function(a){this._reader&&this._reader.cancel(a)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},
{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return b}(),j=function(){function b(d,h,f){var g=this;l(this,b);this._stream=d;this._reader=null;this._loaded=0;d=d.source;this._withCredentials=d.withCredentials;this._readCapability=(0,m.createPromiseCapability)();this._isStreamingSupported=!d.disableStream;this._headers=new Headers;
for(var j in this._stream.httpHeaders){var i=this._stream.httpHeaders[j];"undefined"!==typeof i&&this._headers.append(j,i)}this._headers.append("Range","bytes="+(h+"-"+(f-1)));var p=d.url;fetch(p,k(this._headers,this._withCredentials)).then(function(b){if(!(0,a.validateResponseStatus)(b.status))throw(0,a.createResponseStatusError)(b.status,p);g._readCapability.resolve();g._reader=b.body.getReader()});this.onProgress=null}g(b,[{key:"read",value:function(){var a=this;return this._readCapability.promise.then(function(){return a._reader.read().then(function(b){var d=
b.value;if(b=b.done)return Promise.resolve({value:d,done:b});a._loaded+=d.byteLength;if(a.onProgress)a.onProgress({loaded:a._loaded});d=(new Uint8Array(d)).buffer;return Promise.resolve({value:d,done:!1})})})}},{key:"cancel",value:function(a){this._reader&&this._reader.cancel(a)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return b}();d.PDFFetchStream=f},function(f,d,b){function l(a,b){this.url=a;b=b||{};this.httpHeaders=(this.isHttp=/^https?:/i.test(a))&&b.httpHeaders||
{};this.withCredentials=b.withCredentials||!1;this.getXhr=b.getXhr||function(){return new XMLHttpRequest};this.currXhrId=0;this.pendingRequests=Object.create(null);this.loadedRequests=Object.create(null)}function k(a){a=a.response;return"string"!==typeof a?a:(0,r.stringToBytes)(a).buffer}function g(a){this._source=a;this._manager=new l(a.url,{httpHeaders:a.httpHeaders,withCredentials:a.withCredentials});this._rangeChunkSize=a.rangeChunkSize;this._fullRequestReader=null;this._rangeRequestReaders=[]}
function m(a,b){this._manager=a;var d={onHeadersReceived:this._onHeadersReceived.bind(this),onProgressiveData:b.disableStream?null:this._onProgressiveData.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=b.url;this._fullRequestId=a.requestFull(d);this._headersReceivedCapability=(0,r.createPromiseCapability)();this._disableRange=b.disableRange||!1;this._contentLength=b.length;this._rangeChunkSize=b.rangeChunkSize;!this._rangeChunkSize&&
!this._disableRange&&(this._disableRange=!0);this._isRangeSupported=this._isStreamingSupported=!1;this._cachedChunks=[];this._requests=[];this._done=!1;this._storedError=void 0;this.onProgress=null}function a(a,b,d){this._manager=a;var f={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=a.requestRange(b,d,f);this._requests=[];this._queuedChunk=null;this._done=!1;this.onClosed=this.onProgress=null}Object.defineProperty(d,"__esModule",{value:!0});d.NetworkManager=
d.PDFNetworkStream=void 0;var r=b(0),j=b(38),q=(f=b(14))&&f.__esModule?f:{"default":f},v=function(){try{var a=new XMLHttpRequest;a.open("GET",q.default.location.href);a.responseType="moz-chunked-arraybuffer";return"moz-chunked-arraybuffer"===a.responseType}catch(b){return!1}}();l.prototype={requestRange:function(a,b,d){var a={begin:a,end:b},f;for(f in d)a[f]=d[f];return this.request(a)},requestFull:function(a){return this.request(a)},request:function(a){var b=this.getXhr(),d=this.currXhrId++,f=this.pendingRequests[d]=
{xhr:b};b.open("GET",this.url);b.withCredentials=this.withCredentials;for(var g in this.httpHeaders){var j=this.httpHeaders[g];"undefined"!==typeof j&&b.setRequestHeader(g,j)}this.isHttp&&"begin"in a&&"end"in a?(b.setRequestHeader("Range","bytes="+(a.begin+"-"+(a.end-1))),f.expectedStatus=206):f.expectedStatus=200;v&&a.onProgressiveData?(b.responseType="moz-chunked-arraybuffer",f.onProgressiveData=a.onProgressiveData,f.mozChunked=!0):b.responseType="arraybuffer";a.onError&&(b.onerror=function(){a.onError(b.status)});
b.onreadystatechange=this.onStateChange.bind(this,d);b.onprogress=this.onProgress.bind(this,d);f.onHeadersReceived=a.onHeadersReceived;f.onDone=a.onDone;f.onError=a.onError;f.onProgress=a.onProgress;b.send(null);return d},onProgress:function(a,b){var d=this.pendingRequests[a];if(d){if(d.mozChunked){var f=k(d.xhr);d.onProgressiveData(f)}(d=d.onProgress)&&d(b)}},onStateChange:function(a){var b=this.pendingRequests[a];if(b){var d=b.xhr;2<=d.readyState&&b.onHeadersReceived&&(b.onHeadersReceived(),delete b.onHeadersReceived);
if(4===d.readyState&&a in this.pendingRequests)if(delete this.pendingRequests[a],0===d.status&&this.isHttp){if(b.onError)b.onError(d.status)}else{var f=d.status||200;if(!(200===f&&206===b.expectedStatus)&&f!==b.expectedStatus){if(b.onError)b.onError(d.status)}else if(this.loadedRequests[a]=!0,a=k(d),206===f)d=/bytes (\d+)-(\d+)\/(\d+)/.exec(d.getResponseHeader("Content-Range")),d=parseInt(d[1],10),b.onDone({begin:d,chunk:a});else if(b.onProgressiveData)b.onDone(null);else if(a)b.onDone({begin:0,chunk:a});
else if(b.onError)b.onError(d.status)}}},hasPendingRequests:function(){for(var a in this.pendingRequests)return!0;return!1},getRequestXhr:function(a){return this.pendingRequests[a].xhr},isStreamingRequest:function(a){return!!this.pendingRequests[a].onProgressiveData},isPendingRequest:function(a){return a in this.pendingRequests},isLoadedRequest:function(a){return a in this.loadedRequests},abortAllRequests:function(){for(var a in this.pendingRequests)this.abortRequest(a|0)},abortRequest:function(a){var b=
this.pendingRequests[a].xhr;delete this.pendingRequests[a];b.abort()}};g.prototype={_onRangeRequestReaderClosed:function(a){a=this._rangeRequestReaders.indexOf(a);0<=a&&this._rangeRequestReaders.splice(a,1)},getFullReader:function(){(0,r.assert)(!this._fullRequestReader);return this._fullRequestReader=new m(this._manager,this._source)},getRangeReader:function(b,d){var f=new a(this._manager,b,d);f.onClosed=this._onRangeRequestReaderClosed.bind(this);this._rangeRequestReaders.push(f);return f},cancelAllRequests:function(a){this._fullRequestReader&&
this._fullRequestReader.cancel(a);this._rangeRequestReaders.slice(0).forEach(function(b){b.cancel(a)})}};m.prototype={_onHeadersReceived:function(){var a=this._fullRequestId,b=this._manager.getRequestXhr(a),d=(0,j.validateRangeRequestCapabilities)({getResponseHeader:function(a){return b.getResponseHeader(a)},isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),f=d.allowRangeRequests;this._contentLength=d.suggestedLength||this._contentLength;f&&(this._isRangeSupported=
!0);d=this._manager;d.isStreamingRequest(a)?this._isStreamingSupported=!0:this._isRangeSupported&&d.abortRequest(a);this._headersReceivedCapability.resolve()},_onProgressiveData:function(a){0<this._requests.length?this._requests.shift().resolve({value:a,done:!1}):this._cachedChunks.push(a)},_onDone:function(a){a&&this._onProgressiveData(a.chunk);this._done=!0;0<this._cachedChunks.length||(this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[])},_onError:function(a){var b=
this._url,d=(0,j.createResponseStatusError)(a,b);this._storedError=d;this._headersReceivedCapability.reject(d);this._requests.forEach(function(a){a.reject(d)});this._requests=[];this._cachedChunks=[]},_onProgress:function(a){if(this.onProgress)this.onProgress({loaded:a.loaded,total:a.lengthComputable?a.total:this._contentLength})},get isRangeSupported(){return this._isRangeSupported},get isStreamingSupported(){return this._isStreamingSupported},get contentLength(){return this._contentLength},get headersReady(){return this._headersReceivedCapability.promise},
read:function(){if(this._storedError)return Promise.reject(this._storedError);if(0<this._cachedChunks.length){var a=this._cachedChunks.shift();return Promise.resolve({value:a,done:!1})}if(this._done)return Promise.resolve({value:void 0,done:!0});a=(0,r.createPromiseCapability)();this._requests.push(a);return a.promise},cancel:function(a){this._done=!0;this._headersReceivedCapability.reject(a);this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[];this._manager.isPendingRequest(this._fullRequestId)&&
this._manager.abortRequest(this._fullRequestId);this._fullRequestReader=null}};a.prototype={_close:function(){if(this.onClosed)this.onClosed(this)},_onDone:function(a){a=a.chunk;0<this._requests.length?this._requests.shift().resolve({value:a,done:!1}):this._queuedChunk=a;this._done=!0;this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[];this._close()},_onProgress:function(a){if(!this.isStreamingSupported&&this.onProgress)this.onProgress({loaded:a.loaded})},get isStreamingSupported(){return!1},
read:function(){if(null!==this._queuedChunk){var a=this._queuedChunk;this._queuedChunk=null;return Promise.resolve({value:a,done:!1})}if(this._done)return Promise.resolve({value:void 0,done:!0});a=(0,r.createPromiseCapability)();this._requests.push(a);return a.promise},cancel:function(){this._done=!0;this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[];this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId);this._close()}};d.PDFNetworkStream=
g;d.NetworkManager=l}])});
