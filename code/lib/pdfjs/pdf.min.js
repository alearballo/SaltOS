(function(d,c){"object"===typeof exports&&"object"===typeof module?module.exports=c():"function"===typeof define&&define.amd?define("pdfjs-dist/build/pdf",[],c):"object"===typeof exports?exports["pdfjs-dist/build/pdf"]=c():d["pdfjs-dist/build/pdf"]=d.pdfjsLib=c()})(this,function(){return function(d){function c(i){if(a[i])return a[i].exports;var l=a[i]={i:i,l:!1,exports:{}};d[i].call(l.exports,l,l.exports,c);l.l=!0;return l.exports}var a={};c.m=d;c.c=a;c.d=function(a,l,g){c.o(a,l)||Object.defineProperty(a,
l,{enumerable:!0,get:g})};c.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"});Object.defineProperty(a,"__esModule",{value:!0})};c.t=function(a,l){l&1&&(a=c(a));if(l&8||l&4&&"object"===typeof a&&a&&a.__esModule)return a;var g=Object.create(null);c.r(g);Object.defineProperty(g,"default",{enumerable:!0,value:a});if(l&2&&"string"!=typeof a)for(var d in a)c.d(g,d,function(g){return a[g]}.bind(null,d));return g};c.n=function(a){var l=
a&&a.__esModule?function(){return a["default"]}:function(){return a};c.d(l,"a",l);return l};c.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)};c.p="";return c(c.s=0)}([function(d,c,a){var d=a(1),i=a(133),l=a(149),g=a(150),o=a(138),r=a(151),v=a(143),s=a(140);if(a(4)()){var j=a(152).PDFNodeStream;i.setPDFNetworkStreamFactory(function(a){return new j(a)})}else if("undefined"!==typeof Response&&"body"in Response.prototype&&"undefined"!==typeof ReadableStream){var x=a(155).PDFFetchStream;
i.setPDFNetworkStreamFactory(function(a){return new x(a)})}else{var w=a(156).PDFNetworkStream;i.setPDFNetworkStreamFactory(function(a){return new w(a)})}c.build=i.build;c.version=i.version;c.getDocument=i.getDocument;c.LoopbackPort=i.LoopbackPort;c.PDFDataRangeTransport=i.PDFDataRangeTransport;c.PDFWorker=i.PDFWorker;c.renderTextLayer=l.renderTextLayer;c.AnnotationLayer=g.AnnotationLayer;c.createPromiseCapability=d.createPromiseCapability;c.PasswordResponses=d.PasswordResponses;c.InvalidPDFException=
d.InvalidPDFException;c.MissingPDFException=d.MissingPDFException;c.SVGGraphics=r.SVGGraphics;c.NativeImageDecoding=d.NativeImageDecoding;c.CMapCompressionType=d.CMapCompressionType;c.PermissionFlag=d.PermissionFlag;c.UnexpectedResponseException=d.UnexpectedResponseException;c.OPS=d.OPS;c.VerbosityLevel=d.VerbosityLevel;c.UNSUPPORTED_FEATURES=d.UNSUPPORTED_FEATURES;c.createValidAbsoluteUrl=d.createValidAbsoluteUrl;c.createObjectURL=d.createObjectURL;c.removeNullCharacters=d.removeNullCharacters;c.shadow=
d.shadow;c.Util=d.Util;c.ReadableStream=d.ReadableStream;c.URL=d.URL;c.RenderingCancelledException=o.RenderingCancelledException;c.getFilenameFromUrl=o.getFilenameFromUrl;c.LinkTarget=o.LinkTarget;c.addLinkAttributes=o.addLinkAttributes;c.loadScript=o.loadScript;c.GlobalWorkerOptions=v.GlobalWorkerOptions;c.apiCompatibilityParams=s.apiCompatibilityParams},function(d,c,a){function i(b){i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&
"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};return i(b)}function l(b){w>=x.WARNINGS&&console.log("Warning: "+b)}function g(b){throw Error(b);}function o(b,e){b||g(e)}function r(b){o("string"===typeof b,"Invalid argument for stringToBytes");for(var e=b.length,k=new Uint8Array(e),f=0;f<e;++f)k[f]=b.charCodeAt(f)&255;return k}function v(b){if(void 0!==b.length)return b.length;o(void 0!==b.byteLength);return b.byteLength}Object.defineProperty(c,"__esModule",
{value:!0});c.toRomanNumerals=function(b){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;o(Number.isInteger(b)&&0<b,"The number should be a positive integer.");for(var k,f=[];1E3<=b;)b-=1E3,f.push("M");k=b/100|0;b%=100;f.push(h[k]);k=b/10|0;b%=10;f.push(h[10+k]);f.push(h[20+b]);k=f.join("");return e?k.toLowerCase():k};c.arrayByteLength=v;c.arraysToBytes=function(b){if(1===b.length&&b[0]instanceof Uint8Array)return b[0];var e=0,k,f=b.length,a,h;for(k=0;k<f;k++)a=b[k],h=v(a),e+=h;var g=
0,e=new Uint8Array(e);for(k=0;k<f;k++)a=b[k],a instanceof Uint8Array||(a="string"===typeof a?r(a):new Uint8Array(a)),h=a.byteLength,e.set(a,g),g+=h;return e};c.assert=o;c.bytesToString=function(b){o(null!==b&&"object"===i(b)&&void 0!==b.length,"Invalid argument for bytesToString");var e=b.length;if(8192>e)return String.fromCharCode.apply(null,b);for(var k=[],f=0;f<e;f+=8192){var a=Math.min(f+8192,e),a=b.subarray(f,a);k.push(String.fromCharCode.apply(null,a))}return k.join("")};c.createPromiseCapability=
function(){var b={};b.promise=new Promise(function(e,k){b.resolve=e;b.reject=k});return b};c.deprecated=function(b){console.log("Deprecated API usage: "+b)};c.getInheritableProperty=function(b){for(var e=b.dict,k=b.key,f=b.getArray,f=void 0===f?!1:f,b=b.stopWhenFound,b=void 0===b?!0:b,a=0,h;e;){var g=f?e.getArray(k):e.get(k);if(void 0!==g){if(b)return g;h||(h=[]);h.push(g)}if(100<++a){l('getInheritableProperty: maximum loop count exceeded for "'.concat(k,'"'));break}e=e.get("Parent")}return h};c.getLookupTableFactory=
function(b){var e;return function(){b&&(e=Object.create(null),b(e),b=null);return e}};c.getVerbosityLevel=function(){return w};c.info=function(b){w>=x.INFOS&&console.log("Info: "+b)};c.isArrayBuffer=function(b){return"object"===i(b)&&null!==b&&void 0!==b.byteLength};c.isBool=function(b){return"boolean"===typeof b};c.isEmptyObj=function(b){for(var e in b)return!1;return!0};c.isNum=function(b){return"number"===typeof b};c.isString=function(b){return"string"===typeof b};c.isSpace=function(b){return 32===
b||9===b||13===b||10===b};c.isSameOrigin=function(b,e){try{var k=new j.URL(b);if(!k.origin||"null"===k.origin)return!1}catch(f){return!1}var a=new j.URL(e,k);return k.origin===a.origin};c.createValidAbsoluteUrl=function(b,e){if(!b)return null;try{var k=e?new j.URL(b,e):new j.URL(b),f;a:if(k)switch(k.protocol){case "http:":case "https:":case "ftp:":case "mailto:":case "tel:":f=!0;break a;default:f=!1}else f=!1;if(f)return k}catch(a){}return null};c.isLittleEndian=function(){var b=new Uint8Array(4);
b[0]=1;return 1===(new Uint32Array(b.buffer,0,1))[0]};c.isEvalSupported=function(){try{return new Function(""),!0}catch(b){return!1}};c.log2=function(b){return 0>=b?0:Math.ceil(Math.log2(b))};c.readInt8=function(b,e){return b[e]<<24>>24};c.readUint16=function(b,e){return b[e]<<8|b[e+1]};c.readUint32=function(b,e){return(b[e]<<24|b[e+1]<<16|b[e+2]<<8|b[e+3])>>>0};c.removeNullCharacters=function(b){return"string"!==typeof b?(l("The argument for removeNullCharacters must be a string."),b):b.replace(t,
"")};c.setVerbosityLevel=function(b){Number.isInteger(b)&&(w=b)};c.shadow=function(b,e,k){Object.defineProperty(b,e,{value:k,enumerable:!0,configurable:!0,writable:!1});return k};c.string32=function(b){return String.fromCharCode(b>>24&255,b>>16&255,b>>8&255,b&255)};c.stringToBytes=r;c.stringToPDFString=function(b){var e,k=b.length,a=[];if("\u00fe"===b[0]&&"\u00ff"===b[1])for(e=2;e<k;e+=2)a.push(String.fromCharCode(b.charCodeAt(e)<<8|b.charCodeAt(e+1)));else for(e=0;e<k;++e){var h=f[b.charCodeAt(e)];
a.push(h?String.fromCharCode(h):b.charAt(e))}return a.join("")};c.stringToUTF8String=function(b){return decodeURIComponent(escape(b))};c.utf8StringToString=function(b){return unescape(encodeURIComponent(b))};c.warn=l;c.unreachable=g;Object.defineProperty(c,"ReadableStream",{enumerable:!0,get:function(){return s.ReadableStream}});Object.defineProperty(c,"URL",{enumerable:!0,get:function(){return j.URL}});c.createObjectURL=c.FormatError=c.XRefParseException=c.XRefEntryException=c.Util=c.UnknownErrorException=
c.UnexpectedResponseException=c.TextRenderingMode=c.StreamType=c.PermissionFlag=c.PasswordResponses=c.PasswordException=c.NativeImageDecoding=c.MissingPDFException=c.MissingDataException=c.InvalidPDFException=c.AbortException=c.CMapCompressionType=c.ImageKind=c.FontType=c.AnnotationType=c.AnnotationFlag=c.AnnotationFieldFlag=c.AnnotationBorderStyleType=c.UNSUPPORTED_FEATURES=c.VerbosityLevel=c.OPS=c.IDENTITY_MATRIX=c.FONT_IDENTITY_MATRIX=void 0;a(2);var s=a(129),j=a(131);c.IDENTITY_MATRIX=[1,0,0,
1,0,0];c.FONT_IDENTITY_MATRIX=[0.001,0,0,0.001,0,0];c.NativeImageDecoding={NONE:"none",DECODE:"decode",DISPLAY:"display"};c.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};c.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};c.ImageKind={GRAYSCALE_1BPP:1,
RGB_24BPP:2,RGBA_32BPP:3};c.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};c.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};c.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,
MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};c.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};c.StreamType={UNKNOWN:0,FLATE:1,LZW:2,DCT:3,JPX:4,JBIG:5,A85:6,AHX:7,CCF:8,RL:9};c.FontType={UNKNOWN:0,TYPE1:1,TYPE1C:2,CIDFONTTYPE0:3,CIDFONTTYPE0C:4,
TRUETYPE:5,CIDFONTTYPE2:6,TYPE3:7,OPENTYPE:8,TYPE0:9,MMTYPE1:10};var x={ERRORS:0,WARNINGS:1,INFOS:5};c.VerbosityLevel=x;c.CMapCompressionType={NONE:0,BINARY:1,STREAM:2};c.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,
closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,
setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,
paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};c.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"};c.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var w=x.WARNINGS,d=function(){function b(b,k){this.name="PasswordException";this.message=
b;this.code=k}b.prototype=Error();return b.constructor=b}();c.PasswordException=d;d=function(){function b(b,k){this.name="UnknownErrorException";this.message=b;this.details=k}b.prototype=Error();return b.constructor=b}();c.UnknownErrorException=d;d=function(){function b(b){this.name="InvalidPDFException";this.message=b}b.prototype=Error();return b.constructor=b}();c.InvalidPDFException=d;d=function(){function b(b){this.name="MissingPDFException";this.message=b}b.prototype=Error();return b.constructor=
b}();c.MissingPDFException=d;d=function(){function b(b,k){this.name="UnexpectedResponseException";this.message=b;this.status=k}b.prototype=Error();return b.constructor=b}();c.UnexpectedResponseException=d;d=function(){function b(b,k){this.begin=b;this.end=k;this.message="Missing data ["+b+", "+k+")"}b.prototype=Error();b.prototype.name="MissingDataException";return b.constructor=b}();c.MissingDataException=d;d=function(){function b(b){this.message=b}b.prototype=Error();b.prototype.name="XRefEntryException";
return b.constructor=b}();c.XRefEntryException=d;d=function(){function b(b){this.message=b}b.prototype=Error();b.prototype.name="XRefParseException";return b.constructor=b}();c.XRefParseException=d;d=function(){function b(b){this.message=b}b.prototype=Error();b.prototype.name="FormatError";return b.constructor=b}();c.FormatError=d;d=function(){function b(b){this.name="AbortException";this.message=b}b.prototype=Error();return b.constructor=b}();c.AbortException=d;var t=/\x00/g,d=function(){function b(){}
var e=["rgb(",0,",",0,",",0,")"];b.makeCssRgb=function(b,f,a){e[1]=b;e[3]=f;e[5]=a;return e.join("")};b.transform=function(b,e){return[b[0]*e[0]+b[2]*e[1],b[1]*e[0]+b[3]*e[1],b[0]*e[2]+b[2]*e[3],b[1]*e[2]+b[3]*e[3],b[0]*e[4]+b[2]*e[5]+b[4],b[1]*e[4]+b[3]*e[5]+b[5]]};b.applyTransform=function(b,e){return[b[0]*e[0]+b[1]*e[2]+e[4],b[0]*e[1]+b[1]*e[3]+e[5]]};b.applyInverseTransform=function(b,e){var f=e[0]*e[3]-e[1]*e[2];return[(b[0]*e[3]-b[1]*e[2]+e[2]*e[5]-e[4]*e[3])/f,(-b[0]*e[1]+b[1]*e[0]+e[4]*e[1]-
e[5]*e[0])/f]};b.getAxialAlignedBoundingBox=function(e,f){var a=b.applyTransform(e,f),h=b.applyTransform(e.slice(2,4),f),g=b.applyTransform([e[0],e[3]],f),j=b.applyTransform([e[2],e[1]],f);return[Math.min(a[0],h[0],g[0],j[0]),Math.min(a[1],h[1],g[1],j[1]),Math.max(a[0],h[0],g[0],j[0]),Math.max(a[1],h[1],g[1],j[1])]};b.inverseTransform=function(b){var e=b[0]*b[3]-b[1]*b[2];return[b[3]/e,-b[1]/e,-b[2]/e,b[0]/e,(b[2]*b[5]-b[4]*b[3])/e,(b[4]*b[1]-b[5]*b[0])/e]};b.apply3dTransform=function(b,e){return[b[0]*
e[0]+b[1]*e[1]+b[2]*e[2],b[3]*e[0]+b[4]*e[1]+b[5]*e[2],b[6]*e[0]+b[7]*e[1]+b[8]*e[2]]};b.singularValueDecompose2dScale=function(b){var e=[b[0],b[2],b[1],b[3]],f=b[0]*e[0]+b[1]*e[2],a=b[2]*e[1]+b[3]*e[3],h=(f+a)/2,b=Math.sqrt((f+a)*(f+a)-4*(f*a-(b[2]*e[0]+b[3]*e[2])*(b[0]*e[1]+b[1]*e[3])))/2,e=h-b||1;return[Math.sqrt(h+b||1),Math.sqrt(e)]};b.normalizeRect=function(b){var e=b.slice(0);b[0]>b[2]&&(e[0]=b[2],e[2]=b[0]);b[1]>b[3]&&(e[1]=b[3],e[3]=b[1]);return e};b.intersect=function(e,f){function a(b,
e){return b-e}var h=[e[0],e[2],f[0],f[2]].sort(a),g=[e[1],e[3],f[1],f[3]].sort(a),j=[],e=b.normalizeRect(e),f=b.normalizeRect(f);if(h[0]===e[0]&&h[1]===f[0]||h[0]===f[0]&&h[1]===e[0])j[0]=h[1],j[2]=h[2];else return!1;if(g[0]===e[1]&&g[1]===f[1]||g[0]===f[1]&&g[1]===e[1])j[1]=g[1],j[3]=g[2];else return!1;return j};return b}();c.Util=d;var h=" C CC CCC CD D DC DCC DCCC CM  X XX XXX XL L LX LXX LXXX XC  I II III IV V VI VII VIII IX".split(" "),f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,
710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],d=function(){return function(b,e){if((!(2<arguments.length&&void 0!==arguments[2])||!arguments[2])&&j.URL.createObjectURL){var f=new Blob([b],
{type:e});return j.URL.createObjectURL(f)}for(var f="data:"+e+";base64,",a=0,h=b.length;a<h;a+=3)var g=b[a]&255,c=b[a+1]&255,t=b[a+2]&255,f=f+("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[g>>2]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[(g&3)<<4|c>>4]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[a+1<h?(c&15)<<2|t>>6:64]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[a+2<h?t&63:64]);return f}}();c.createObjectURL=
d},function(d,c,a){function i(a){i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return i(a)}var l=a(3);if(!l._pdfjsCompatibilityChecked){l._pdfjsCompatibilityChecked=!0;var g=a(4),o="object"===("undefined"===typeof window?"undefined":i(window))&&"object"===("undefined"===typeof document?"undefined":i(document));(function(){!l.btoa&&g()&&(l.btoa=
function(a){return Buffer.from(a,"binary").toString("base64")})})();(function(){!l.atob&&g()&&(l.atob=function(a){return Buffer.from(a,"base64").toString("binary")})})();(function(){o&&("currentScript"in document||Object.defineProperty(document,"currentScript",{get:function(){var a=document.getElementsByTagName("script");return a[a.length-1]},enumerable:!0,configurable:!0}))})();(function(){o&&"undefined"===typeof Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})})();
(function(){if(o&&!g()&&!1!==document.createElement("div").classList.toggle("test",0)){var a=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(g){if(1<arguments.length){var c=!!arguments[1];return this[c?"add":"remove"](g),c}return a(g)}}})();String.prototype.includes||a(5);Array.prototype.includes||a(33);Object.assign||a(42);Math.log2||(Math.log2=a(52));Number.isNaN||(Number.isNaN=a(54));Number.isInteger||(Number.isInteger=a(56));l.Promise||(l.Promise=a(59));l.WeakMap||(l.WeakMap=
a(94));l.WeakSet||(l.WeakSet=a(111));String.codePointAt||(String.codePointAt=a(115));String.fromCodePoint||(String.fromCodePoint=a(117));l.Symbol||a(119);Object.values||(Object.values=a(126))}},function(d){d.exports="undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof global&&global.Math===Math?global:"undefined"!==typeof self&&self.Math===Math?self:{}},function(d){function c(a){c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&
"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return c(a)}d.exports=function(){return"object"===("undefined"===typeof process?"undefined":c(process))&&"[object process]"===process+""&&!process.versions.nw}},function(d,c,a){a(6);d.exports=a(9).String.includes},function(d,c,a){var d=a(7),i=a(25);d(d.P+d.F*a(32)("includes"),"String",{includes:function(a){return!!~i(this,a,"includes").indexOf(a,1<arguments.length?arguments[1]:void 0)}})},function(d,c,a){var i=
a(8),l=a(9),g=a(10),o=a(20),r=a(23),c=function s(a,c,d){var t=a&s.F,h=a&s.G,f=a&s.S,b=a&s.P,e=a&s.B,f=h?i:f?i[c]||(i[c]={}):(i[c]||{}).prototype,k=h?l:l[c]||(l[c]={}),p=k.prototype||(k.prototype={}),q;h&&(d=c);for(q in d)h=!t&&f&&void 0!==f[q],c=(h?f:d)[q],h=e&&h?r(c,i):b&&"function"==typeof c?r(Function.call,c):c,f&&o(f,q,c,a&s.U),k[q]!=c&&g(k,q,h),b&&p[q]!=c&&(p[q]=c)};i.core=l;c.F=1;c.G=2;c.S=4;c.P=8;c.B=16;c.W=32;c.U=64;c.R=128;d.exports=c},function(d){d=d.exports="undefined"!=typeof window&&
window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=d)},function(d){d=d.exports={version:"2.6.1"};"number"==typeof __e&&(__e=d)},function(d,c,a){var i=a(11),l=a(19);d.exports=a(15)?function(a,c,r){return i.f(a,c,l(1,r))}:function(a,c,l){a[c]=l;return a}},function(d,c,a){var i=a(12),l=a(14),g=a(18),o=Object.defineProperty;c.f=a(15)?Object.defineProperty:function(a,c,d){i(a);c=g(c,!0);i(d);if(l)try{return o(a,c,d)}catch(j){}if("get"in
d||"set"in d)throw TypeError("Accessors not supported!");"value"in d&&(a[c]=d.value);return a}},function(d,c,a){var i=a(13);d.exports=function(a){if(!i(a))throw TypeError(a+" is not an object!");return a}},function(d){function c(a){c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return c(a)}d.exports=function(a){return"object"===c(a)?null!==
a:"function"===typeof a}},function(d,c,a){d.exports=!a(15)&&!a(16)(function(){return 7!=Object.defineProperty(a(17)("div"),"a",{get:function(){return 7}}).a})},function(d,c,a){d.exports=!a(16)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(d){d.exports=function(c){try{return!!c()}catch(a){return!0}}},function(d,c,a){var c=a(13),i=a(8).document,l=c(i)&&c(i.createElement);d.exports=function(a){return l?i.createElement(a):{}}},function(d,c,a){var i=a(13);
d.exports=function(a,g){if(!i(a))return a;var c,r;if(g&&"function"==typeof(c=a.toString)&&!i(r=c.call(a))||"function"==typeof(c=a.valueOf)&&!i(r=c.call(a))||!g&&"function"==typeof(c=a.toString)&&!i(r=c.call(a)))return r;throw TypeError("Can't convert object to primitive value");}},function(d){d.exports=function(c,a){return{enumerable:!(c&1),configurable:!(c&2),writable:!(c&4),value:a}}},function(d,c,a){var i=a(8),l=a(10),g=a(21),o=a(22)("src"),r=Function.toString,v=(""+r).split("toString");a(9).inspectSource=
function(a){return r.call(a)};(d.exports=function(a,j,c,r){var t="function"==typeof c;t&&(g(c,"name")||l(c,"name",j));a[j]!==c&&(t&&(g(c,o)||l(c,o,a[j]?""+a[j]:v.join(""+j))),a===i?a[j]=c:r?a[j]?a[j]=c:l(a,j,c):(delete a[j],l(a,j,c)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[o]||r.call(this)})},function(d){var c={}.hasOwnProperty;d.exports=function(a,d){return c.call(a,d)}},function(d){var c=0,a=Math.random();d.exports=function(d){return"Symbol(".concat(void 0===
d?"":d,")_",(++c+a).toString(36))}},function(d,c,a){var i=a(24);d.exports=function(a,g,c){i(a);if(void 0===g)return a;switch(c){case 1:return function(c){return a.call(g,c)};case 2:return function(c,d){return a.call(g,c,d)};case 3:return function(c,d,o){return a.call(g,c,d,o)}}return function(){return a.apply(g,arguments)}}},function(d){d.exports=function(c){if("function"!=typeof c)throw TypeError(c+" is not a function!");return c}},function(d,c,a){var i=a(26),l=a(31);d.exports=function(a,c,d){if(i(c))throw TypeError("String#"+
d+" doesn't accept regex!");return""+l(a)}},function(d,c,a){var i=a(13),l=a(27),g=a(28)("match");d.exports=function(a){var c;return i(a)&&(void 0!==(c=a[g])?!!c:"RegExp"==l(a))}},function(d){var c={}.toString;d.exports=function(a){return c.call(a).slice(8,-1)}},function(d,c,a){var i=a(29)("wks"),l=a(22),g=a(8).Symbol,o="function"==typeof g;(d.exports=function(a){return i[a]||(i[a]=o&&g[a]||(o?g:l)("Symbol."+a))}).store=i},function(d,c,a){var c=a(9),i=a(8),l=i["__core-js_shared__"]||(i["__core-js_shared__"]=
{});(d.exports=function(a,c){return l[a]||(l[a]=void 0!==c?c:{})})("versions",[]).push({version:c.version,mode:a(30)?"pure":"global",copyright:"\u00a9 2018 Denis Pushkarev (zloirock.ru)"})},function(d){d.exports=!1},function(d){d.exports=function(c){if(void 0==c)throw TypeError("Can't call method on  "+c);return c}},function(d,c,a){var i=a(28)("match");d.exports=function(a){var c=/./;try{"/./"[a](c)}catch(d){try{return c[i]=!1,!"/./"[a](c)}catch(r){}}return!0}},function(d,c,a){a(34);d.exports=a(9).Array.includes},
function(d,c,a){var d=a(7),i=a(35)(!0);d(d.P,"Array",{includes:function(a){return i(this,a,1<arguments.length?arguments[1]:void 0)}});a(41)("includes")},function(d,c,a){var i=a(36),l=a(38),g=a(40);d.exports=function(a){return function(c,d,s){var c=i(c),j=l(c.length),s=g(s,j);if(a&&d!=d)for(;j>s;){if(d=c[s++],d!=d)return!0}else for(;j>s;s++)if((a||s in c)&&c[s]===d)return a||s||0;return!a&&-1}}},function(d,c,a){var i=a(37),l=a(31);d.exports=function(a){return i(l(a))}},function(d,c,a){var i=a(27);
d.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==i(a)?a.split(""):Object(a)}},function(d,c,a){var i=a(39),l=Math.min;d.exports=function(a){return 0<a?l(i(a),9007199254740991):0}},function(d){var c=Math.ceil,a=Math.floor;d.exports=function(d){return isNaN(d=+d)?0:(0<d?a:c)(d)}},function(d,c,a){var i=a(39),l=Math.max,g=Math.min;d.exports=function(a,c){a=i(a);return 0>a?l(a+c,0):g(a,c)}},function(d,c,a){var i=a(28)("unscopables"),l=Array.prototype;void 0==l[i]&&a(10)(l,
i,{});d.exports=function(a){l[i][a]=!0}},function(d,c,a){a(43);d.exports=a(9).Object.assign},function(d,c,a){d=a(7);d(d.S+d.F,"Object",{assign:a(44)})},function(d,c,a){var i=a(45),l=a(49),g=a(50),o=a(51),r=a(37),v=Object.assign;d.exports=!v||a(16)(function(){var a={},c={},g=Symbol();a[g]=7;"abcdefghijklmnopqrst".split("").forEach(function(a){c[a]=a});return 7!=v({},a)[g]||"abcdefghijklmnopqrst"!=Object.keys(v({},c)).join("")})?function(a,c){for(var d=o(a),v=arguments.length,t=1,h=l.f,f=g.f;v>t;)for(var b=
r(arguments[t++]),e=h?i(b).concat(h(b)):i(b),k=e.length,p=0,q;k>p;)if(f.call(b,q=e[p++]))d[q]=b[q];return d}:v},function(d,c,a){var i=a(46),l=a(48);d.exports=Object.keys||function(a){return i(a,l)}},function(d,c,a){var i=a(21),l=a(36),g=a(35)(!1),o=a(47)("IE_PROTO");d.exports=function(a,c){var d=l(a),j=0,x=[],w;for(w in d)w!=o&&i(d,w)&&x.push(w);for(;c.length>j;)if(i(d,w=c[j++]))~g(x,w)||x.push(w);return x}},function(d,c,a){var i=a(29)("keys"),l=a(22);d.exports=function(a){return i[a]||(i[a]=l(a))}},
function(d){d.exports="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ")},function(d,c){c.f=Object.getOwnPropertySymbols},function(d,c){c.f={}.propertyIsEnumerable},function(d,c,a){var i=a(31);d.exports=function(a){return Object(i(a))}},function(d,c,a){a(53);d.exports=a(9).Math.log2},function(d,c,a){d=a(7);d(d.S,"Math",{log2:function(a){return Math.log(a)/Math.LN2}})},function(d,c,a){a(55);d.exports=a(9).Number.isNaN},function(d,c,a){d=a(7);
d(d.S,"Number",{isNaN:function(a){return a!=a}})},function(d,c,a){a(57);d.exports=a(9).Number.isInteger},function(d,c,a){d=a(7);d(d.S,"Number",{isInteger:a(58)})},function(d,c,a){var i=a(13),l=Math.floor;d.exports=function(a){return!i(a)&&isFinite(a)&&l(a)===a}},function(d,c,a){a(60);a(62);a(72);a(75);a(92);a(93);d.exports=a(9).Promise},function(d,c,a){var i=a(61),d={};d[a(28)("toStringTag")]="z";"[object z]"!=d+""&&a(20)(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},function(d,
c,a){var i=a(27),l=a(28)("toStringTag"),g="Arguments"==i(function(){return arguments}());d.exports=function(a){var c,d;if(void 0===a)c="Undefined";else{var s;if(null===a)s="Null";else{var j=a=Object(a);try{s=j[l]}catch(x){}s="string"==typeof(c=s)?c:g?i(a):"Object"==(d=i(a))&&"function"==typeof a.callee?"Arguments":d}c=s}return c}},function(d,c,a){var i=a(63)(!0);a(64)(String,"String",function(a){this._t=""+a;this._i=0},function(){var a=this._t,c=this._i;if(c>=a.length)return{value:void 0,done:!0};
a=i(a,c);this._i+=a.length;return{value:a,done:!1}})},function(d,c,a){var i=a(39),l=a(31);d.exports=function(a){return function(c,d){var v=""+l(c),s=i(d),j=v.length,x,w;if(0>s||s>=j)return a?"":void 0;x=v.charCodeAt(s);return 55296>x||56319<x||s+1===j||56320>(w=v.charCodeAt(s+1))||57343<w?a?v.charAt(s):x:a?v.slice(s,s+2):(x-55296<<10)+(w-56320)+65536}}},function(d,c,a){var i=a(30),l=a(7),g=a(20),o=a(10),r=a(65),v=a(66),s=a(70),j=a(71),x=a(28)("iterator"),w=!([].keys&&"next"in[].keys()),t=function(){return this};
d.exports=function(a,f,b,e,k,c,d){v(b,f,e);var e=function(e){return!w&&e in z?z[e]:function(){return new b(this,e)}},m=f+" Iterator",u="values"==k,n=!1,z=a.prototype,C=z[x]||z["@@iterator"]||k&&z[k],J=C||e(k),G=k?!u?J:e("entries"):void 0,H="Array"==f?z.entries||C:C,B,y;H&&(a=j(H.call(new a)),a!==Object.prototype&&a.next&&(s(a,m,!0),!i&&"function"!=typeof a[x]&&o(a,x,t)));u&&(C&&"values"!==C.name)&&(n=!0,J=function(){return C.call(this)});(!i||d)&&(w||n||!z[x])&&o(z,x,J);r[f]=J;r[m]=t;if(k)if(B={values:u?
J:e("values"),keys:c?J:e("keys"),entries:G},d)for(y in B)y in z||g(z,y,B[y]);else l(l.P+l.F*(w||n),f,B);return B}},function(d){d.exports={}},function(d,c,a){var i=a(67),l=a(19),g=a(70),o={};a(10)(o,a(28)("iterator"),function(){return this});d.exports=function(a,c,d){a.prototype=i(o,{next:l(1,d)});g(a,c+" Iterator")}},function(d,c,a){var i=a(12),l=a(68),g=a(48),o=a(47)("IE_PROTO"),r=function(){},v=function(){var c=a(17)("iframe"),j=g.length;c.style.display="none";a(69).appendChild(c);c.src="javascript:";
c=c.contentWindow.document;c.open();c.write("<script>document.F=Object<\/script>");c.close();for(v=c.F;j--;)delete v.prototype[g[j]];return v()};d.exports=Object.create||function(a,c){var g;null!==a?(r.prototype=i(a),g=new r,r.prototype=null,g[o]=a):g=v();return void 0===c?g:l(g,c)}},function(d,c,a){var i=a(11),l=a(12),g=a(45);d.exports=a(15)?Object.defineProperties:function(a,c){l(a);for(var d=g(c),s=d.length,j=0,x;s>j;)i.f(a,x=d[j++],c[x]);return a}},function(d,c,a){c=a(8).document;d.exports=c&&
c.documentElement},function(d,c,a){var i=a(11).f,l=a(21),g=a(28)("toStringTag");d.exports=function(a,c,d){a&&!l(a=d?a:a.prototype,g)&&i(a,g,{configurable:!0,value:c})}},function(d,c,a){var i=a(21),l=a(51),g=a(47)("IE_PROTO"),o=Object.prototype;d.exports=Object.getPrototypeOf||function(a){a=l(a);return i(a,g)?a[g]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?o:null}},function(d,c,a){for(var d=a(73),i=a(45),c=a(20),l=a(8),g=a(10),o=a(65),r=
a(28),a=r("iterator"),r=r("toStringTag"),v=o.Array,s={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,
StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},i=i(s),j=0;j<i.length;j++){var x=i[j],w=s[x],t=l[x],t=t&&t.prototype,h;if(t&&(t[a]||g(t,a,v),t[r]||g(t,r,x),o[x]=v,w))for(h in d)t[h]||c(t,h,d[h],!0)}},function(d,c,a){var c=a(41),i=a(74),l=a(65),g=a(36);d.exports=a(64)(Array,"Array",function(a,c){this._t=g(a);this._i=0;this._k=c},function(){var a=this._t,c=this._k,g=this._i++;return!a||g>=a.length?(this._t=void 0,i(1)):"keys"==c?i(0,g):"values"==c?i(0,a[g]):i(0,[g,a[g]])},"values");
l.Arguments=l.Array;c("keys");c("values");c("entries")},function(d){d.exports=function(c,a){return{value:a,done:!!c}}},function(d,c,a){var i=a(30),l=a(8),g=a(23),o=a(61),d=a(7),r=a(13),v=a(24),s=a(76),j=a(77),x=a(81),w=a(82).set,t=a(84)(),c=a(85),h=a(86),f=a(87),b=a(88),e=l.TypeError,k=l.process,p=k&&k.versions,q=p&&p.v8||"",m=l.Promise,u="process"==o(k),n=function(){},z,C,J,G,H=C=c.f,o=!!function(){try{var b=m.resolve(1),e=(b.constructor={})[a(28)("species")]=function(b){b(n,n)};return(u||"function"==
typeof PromiseRejectionEvent)&&b.then(n)instanceof e&&0!==q.indexOf("6.6")&&-1===f.indexOf("Chrome/66")}catch(k){}}(),B=function(b){var e;return r(b)&&"function"==typeof(e=b.then)?e:!1},y=function(b,a){if(!b._n){b._n=!0;var f=b._c;t(function(){for(var k=b._v,h=1==b._s,c=0;f.length>c;){var g=f[c++],j=h?g.ok:g.fail,p=g.resolve,m=g.reject,d=g.domain,t=void 0,z=void 0,q=void 0;try{j?(h||(2==b._h&&I(b),b._h=1),!0===j?t=k:(d&&d.enter(),t=j(k),d&&(d.exit(),q=!0)),t===g.promise?m(e("Promise-chain cycle")):
(z=B(t))?z.call(t,p,m):p(t)):m(k)}catch(C){d&&!q&&d.exit(),m(C)}}b._c=[];b._n=!1;a&&!b._h&&E(b)})}},E=function(b){w.call(l,function(){var e=b._v,a=1!==b._h&&0===(b._a||b._c).length,f,c,g;a&&(f=h(function(){u?k.emit("unhandledRejection",e,b):(c=l.onunhandledrejection)?c({promise:b,reason:e}):(g=l.console)&&g.error&&g.error("Unhandled promise rejection",e)}),b._h=u||1!==b._h&&0===(b._a||b._c).length?2:1);b._a=void 0;if(a&&f.e)throw f.v;})},I=function(b){w.call(l,function(){var e;u?k.emit("rejectionHandled",
b):(e=l.onrejectionhandled)&&e({promise:b,reason:b._v})})},A=function(b){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=b,e._s=2,e._a||(e._a=e._c.slice()),y(e,!0))},M=function O(b){var a=this,f;if(!a._d){a._d=!0;a=a._w||a;try{if(a===b)throw e("Promise can't be resolved itself");(f=B(b))?t(function(){var e={_w:a,_d:!1};try{f.call(b,g(O,e,1),g(A,e,1))}catch(k){A.call(e,k)}}):(a._v=b,a._s=1,y(a,!1))}catch(k){A.call({_w:a,_d:!1},k)}}};o||(m=function(b){s(this,m,"Promise","_h");v(b);z.call(this);try{b(g(M,this,
1),g(A,this,1))}catch(e){A.call(this,e)}},z=function(){this._c=[];this._a=void 0;this._s=0;this._d=!1;this._v=void 0;this._h=0;this._n=!1},z.prototype=a(89)(m.prototype,{then:function(b,e){var a=H(x(this,m));a.ok="function"==typeof b?b:!0;a.fail="function"==typeof e&&e;a.domain=u?k.domain:void 0;this._c.push(a);this._a&&this._a.push(a);this._s&&y(this,!1);return a.promise},"catch":function(b){return this.then(void 0,b)}}),J=function(){var b=new z;this.promise=b;this.resolve=g(M,b,1);this.reject=g(A,
b,1)},c.f=H=function(b){return b===m||b===G?new J(b):C(b)});d(d.G+d.W+d.F*!o,{Promise:m});a(70)(m,"Promise");a(90)("Promise");G=a(9).Promise;d(d.S+d.F*!o,"Promise",{reject:function(b){var e=H(this),a=e.reject;a(b);return e.promise}});d(d.S+d.F*(i||!o),"Promise",{resolve:function(e){return b(i&&this===G?m:this,e)}});d(d.S+d.F*!(o&&a(91)(function(b){m.all(b)["catch"](n)})),"Promise",{all:function(b){var e=this,a=H(e),f=a.resolve,k=a.reject,c=h(function(){var a=[],c=0,h=1;j(b,false,function(b){var g=
c++,j=false;a.push(void 0);h++;e.resolve(b).then(function(b){if(!j){j=true;a[g]=b;--h||f(a)}},k)});--h||f(a)});c.e&&k(c.v);return a.promise},race:function(b){var e=this,a=H(e),f=a.reject,k=h(function(){j(b,false,function(b){e.resolve(b).then(a.resolve,f)})});k.e&&f(k.v);return a.promise}})},function(d){d.exports=function(c,a,d,l){if(!(c instanceof a)||void 0!==l&&l in c)throw TypeError(d+": incorrect invocation!");return c}},function(d,c,a){var i=a(23),l=a(78),g=a(79),o=a(12),r=a(38),v=a(80),s={},
j={},d=d.exports=function(a,c,d,h,f){var f=f?function(){return a}:v(a),d=i(d,h,c?2:1),h=0,b,e;if("function"!=typeof f)throw TypeError(a+" is not iterable!");if(g(f))for(b=r(a.length);b>h;h++){if(f=c?d(o(e=a[h])[0],e[1]):d(a[h]),f===s||f===j)return f}else for(h=f.call(a);!(e=h.next()).done;)if(f=l(h,d,e.value,c),f===s||f===j)return f};d.BREAK=s;d.RETURN=j},function(d,c,a){var i=a(12);d.exports=function(a,c,d,r){try{return r?c(i(d)[0],d[1]):c(d)}catch(v){throw c=a["return"],void 0!==c&&i(c.call(a)),
v;}}},function(d,c,a){var i=a(65),l=a(28)("iterator"),g=Array.prototype;d.exports=function(a){return void 0!==a&&(i.Array===a||g[l]===a)}},function(d,c,a){var i=a(61),l=a(28)("iterator"),g=a(65);d.exports=a(9).getIteratorMethod=function(a){if(void 0!=a)return a[l]||a["@@iterator"]||g[i(a)]}},function(d,c,a){var i=a(12),l=a(24),g=a(28)("species");d.exports=function(a,c){var d=i(a).constructor,s;return void 0===d||void 0==(s=i(d)[g])?c:l(s)}},function(d,c,a){var i=a(23),l=a(83),g=a(69),o=a(17),r=a(8),
v=r.process,c=r.setImmediate,s=r.clearImmediate,j=r.MessageChannel,x=r.Dispatch,w=0,t={},h,f=function(){var b=+this;if(t.hasOwnProperty(b)){var a=t[b];delete t[b];a()}},b=function(b){f.call(b.data)};if(!c||!s)c=function(b){for(var a=[],f=1;arguments.length>f;)a.push(arguments[f++]);t[++w]=function(){l("function"==typeof b?b:Function(b),a)};h(w);return w},s=function(b){delete t[b]},"process"==a(27)(v)?h=function(b){v.nextTick(i(f,b,1))}:x&&x.now?h=function(b){x.now(i(f,b,1))}:j?(a=new j,j=a.port2,
a.port1.onmessage=b,h=i(j.postMessage,j,1)):r.addEventListener&&"function"==typeof postMessage&&!r.importScripts?(h=function(b){r.postMessage(b+"","*")},r.addEventListener("message",b,!1)):h="onreadystatechange"in o("script")?function(b){g.appendChild(o("script")).onreadystatechange=function(){g.removeChild(this);f.call(b)}}:function(b){setTimeout(i(f,b,1),0)};d.exports={set:c,clear:s}},function(d){d.exports=function(c,a,d){var l=void 0===d;switch(a.length){case 0:return l?c():c.call(d);case 1:return l?
c(a[0]):c.call(d,a[0]);case 2:return l?c(a[0],a[1]):c.call(d,a[0],a[1]);case 3:return l?c(a[0],a[1],a[2]):c.call(d,a[0],a[1],a[2]);case 4:return l?c(a[0],a[1],a[2],a[3]):c.call(d,a[0],a[1],a[2],a[3])}return c.apply(d,a)}},function(d,c,a){var i=a(8),l=a(82).set,g=i.MutationObserver||i.WebKitMutationObserver,o=i.process,r=i.Promise,v="process"==a(27)(o);d.exports=function(){var a,c,d,w=function(){var b,e;for(v&&(b=o.domain)&&b.exit();a;){e=a.fn;a=a.next;try{e()}catch(f){throw a?d():c=void 0,f;}}c=void 0;
b&&b.enter()};if(v)d=function(){o.nextTick(w)};else if(g&&(!i.navigator||!i.navigator.standalone)){var t=!0,h=document.createTextNode("");(new g(w)).observe(h,{characterData:!0});d=function(){h.data=t=!t}}else if(r&&r.resolve){var f=r.resolve(void 0);d=function(){f.then(w)}}else d=function(){l.call(i,w)};return function(b){b={fn:b,next:void 0};c&&(c.next=b);a||(a=b,d());c=b}}},function(d,c,a){function i(a){var c,d;this.promise=new a(function(a,g){if(void 0!==c||void 0!==d)throw TypeError("Bad Promise constructor");
c=a;d=g});this.resolve=l(c);this.reject=l(d)}var l=a(24);d.exports.f=function(a){return new i(a)}},function(d){d.exports=function(c){try{return{e:!1,v:c()}}catch(a){return{e:!0,v:a}}}},function(d,c,a){c=a(8).navigator;d.exports=c&&c.userAgent||""},function(d,c,a){var i=a(12),l=a(13),g=a(85);d.exports=function(a,c){i(a);if(l(c)&&c.constructor===a)return c;var d=g.f(a),s=d.resolve;s(c);return d.promise}},function(d,c,a){var i=a(20);d.exports=function(a,c,d){for(var r in c)i(a,r,c[r],d);return a}},function(d,
c,a){var i=a(8),l=a(11),g=a(15),o=a(28)("species");d.exports=function(a){a=i[a];g&&(a&&!a[o])&&l.f(a,o,{configurable:!0,get:function(){return this}})}},function(d,c,a){var i=a(28)("iterator"),l=!1;try{var g=[7][i]();g["return"]=function(){l=!0};Array.from(g,function(){throw 2;})}catch(o){}d.exports=function(a,c){if(!c&&!l)return!1;var g=!1;try{var j=[7],d=j[i]();d.next=function(){return{done:g=!0}};j[i]=function(){return d};a(j)}catch(w){}return g}},function(d,c,a){var d=a(7),i=a(9),l=a(8),g=a(81),
o=a(88);d(d.P+d.R,"Promise",{"finally":function(a){var c=g(this,i.Promise||l.Promise),d="function"==typeof a;return this.then(d?function(g){return o(c,a()).then(function(){return g})}:a,d?function(g){return o(c,a()).then(function(){throw g;})}:a)}})},function(d,c,a){var d=a(7),i=a(85),l=a(86);d(d.S,"Promise",{"try":function(a){var c=i.f(this),a=l(a);(a.e?c.reject:c.resolve)(a.v);return c.promise}})},function(d,c,a){a(60);a(72);a(95);a(107);a(109);d.exports=a(9).WeakMap},function(d,c,a){var c=a(96)(0),
i=a(20),l=a(100),g=a(44),o=a(101),r=a(13),v=a(16),s=a(102),j=l.getWeak,x=Object.isExtensible,w=o.ufstore,t={},h,f=function(b){return function(){return b(this,0<arguments.length?arguments[0]:void 0)}},b={get:function(b){if(r(b)){var a=j(b);return!0===a?w(s(this,"WeakMap")).get(b):a?a[this._i]:void 0}},set:function(b,a){return o.def(s(this,"WeakMap"),b,a)}},e=d.exports=a(103)("WeakMap",f,b,o,!0,!0);v(function(){return 7!=(new e).set((Object.freeze||Object)(t),7).get(t)})&&(h=o.getConstructor(f,"WeakMap"),
g(h.prototype,b),l.NEED=!0,c(["delete","has","get","set"],function(b){var a=e.prototype,f=a[b];i(a,b,function(a,e){if(r(a)&&!x(a)){this._f||(this._f=new h);var c=this._f[b](a,e);return"set"==b?this:c}return f.call(this,a,e)})}))},function(d,c,a){var i=a(23),l=a(37),g=a(51),o=a(38),r=a(97);d.exports=function(a,c){var j=1==a,d=2==a,w=3==a,t=4==a,h=6==a,f=5==a||h,b=c||r;return function(e,k,c){for(var q=g(e),m=l(q),k=i(k,c,3),c=o(m.length),u=0,e=j?b(e,c):d?b(e,0):void 0,r,z;c>u;u++)if(f||u in m)if(r=
m[u],z=k(r,u,q),a)if(j)e[u]=z;else if(z)switch(a){case 3:return!0;case 5:return r;case 6:return u;case 2:e.push(r)}else if(t)return!1;return h?-1:w||t?t:e}}},function(d,c,a){var i=a(98);d.exports=function(a,c){return new (i(a))(c)}},function(d,c,a){var i=a(13),l=a(99),g=a(28)("species");d.exports=function(a){var c;if(l(a)){c=a.constructor;if("function"==typeof c&&(c===Array||l(c.prototype)))c=void 0;i(c)&&(c=c[g],null===c&&(c=void 0))}return void 0===c?Array:c}},function(d,c,a){var i=a(27);d.exports=
Array.isArray||function(a){return"Array"==i(a)}},function(d,c,a){function i(a){i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return i(a)}var l=a(22)("meta"),g=a(13),o=a(21),r=a(11).f,v=0,s=Object.isExtensible||function(){return!0},j=!a(16)(function(){return s(Object.preventExtensions({}))}),x=function(a){r(a,l,{value:{i:"O"+ ++v,w:{}}})},
w=d.exports={KEY:l,NEED:!1,fastKey:function(a,c){if(!g(a))return"symbol"==i(a)?a:("string"==typeof a?"S":"P")+a;if(!o(a,l)){if(!s(a))return"F";if(!c)return"E";x(a)}return a[l].i},getWeak:function(a,c){if(!o(a,l)){if(!s(a))return!0;if(!c)return!1;x(a)}return a[l].w},onFreeze:function(a){j&&(w.NEED&&s(a)&&!o(a,l))&&x(a);return a}}},function(d,c,a){var i=a(89),l=a(100).getWeak,g=a(12),o=a(13),r=a(76),v=a(77),c=a(96),s=a(21),j=a(102),x=c(5),w=c(6),t=0,h=function(b){return b._l||(b._l=new f)},f=function(){this.a=
[]},b=function(b,a){return x(b.a,function(b){return b[0]===a})};f.prototype={get:function(a){if(a=b(this,a))return a[1]},has:function(a){return!!b(this,a)},set:function(a,f){var c=b(this,a);c?c[1]=f:this.a.push([a,f])},"delete":function(b){var a=w(this.a,function(a){return a[0]===b});~a&&this.a.splice(a,1);return!!~a}};d.exports={getConstructor:function(b,a,f,c){var g=b(function(b,e){r(b,g,a,"_i");b._t=a;b._i=t++;b._l=void 0;void 0!=e&&v(e,f,b[c],b)});i(g.prototype,{"delete":function(b){if(!o(b))return!1;
var e=l(b);return!0===e?h(j(this,a))["delete"](b):e&&s(e,this._i)&&delete e[this._i]},has:function(b){if(!o(b))return!1;var e=l(b);return!0===e?h(j(this,a)).has(b):e&&s(e,this._i)}});return g},def:function(b,a,f){var c=l(g(a),!0);!0===c?h(b).set(a,f):c[b._i]=f;return b},ufstore:h}},function(d,c,a){var i=a(13);d.exports=function(a,c){if(!i(a)||a._t!==c)throw TypeError("Incompatible receiver, "+c+" required!");return a}},function(d,c,a){var i=a(8),l=a(7),g=a(20),o=a(89),r=a(100),v=a(77),s=a(76),j=a(13),
x=a(16),w=a(91),t=a(70),h=a(104);d.exports=function(a,b,e,c,d,q){var m=i[a],u=m,n=d?"set":"add",z=u&&u.prototype,C={},J=function(b){var a=z[b];g(z,b,"delete"==b?function(b){return q&&!j(b)?!1:a.call(this,0===b?0:b)}:"has"==b?function(b){return q&&!j(b)?!1:a.call(this,0===b?0:b)}:"get"==b?function(b){return q&&!j(b)?void 0:a.call(this,0===b?0:b)}:"add"==b?function(b){a.call(this,0===b?0:b);return this}:function(b,e){a.call(this,0===b?0:b,e);return this})};if("function"!=typeof u||!(q||z.forEach&&!x(function(){(new u).entries().next()})))u=
c.getConstructor(b,a,d,n),o(u.prototype,e),r.NEED=!0;else{var G=new u,e=G[n](q?{}:-0.0,1)!=G,H=x(function(){G.has(1)}),B=w(function(b){new u(b)}),y=!q&&x(function(){for(var b=new u,a=5;a--;)b[n](a,a);return!b.has(-0.0)});B||(u=b(function(b,e){s(b,u,a);var c=h(new m,b,u);void 0!=e&&v(e,d,c[n],c);return c}),u.prototype=z,z.constructor=u);if(H||y)J("delete"),J("has"),d&&J("get");(y||e)&&J(n);q&&z.clear&&delete z.clear}t(u,a);C[a]=u;l(l.G+l.W+l.F*(u!=m),C);q||c.setStrong(u,a,d);return u}},function(d,
c,a){var i=a(13),l=a(105).set;d.exports=function(a,c,d){var c=c.constructor,v;c!==d&&("function"==typeof c&&(v=c.prototype)!==d.prototype&&i(v)&&l)&&l(a,v);return a}},function(d,c,a){var i=a(13),l=a(12),g=function(a,c){l(a);if(!i(c)&&null!==c)throw TypeError(c+": can't set as prototype!");};d.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(c,d,l){try{l=a(23)(Function.call,a(106).f(Object.prototype,"__proto__").set,2),l(c,[]),d=!(c instanceof Array)}catch(i){d=!0}return function(a,c){g(a,
c);d?a.__proto__=c:l(a,c);return a}}({},!1):void 0),check:g}},function(d,c,a){var i=a(50),l=a(19),g=a(36),o=a(18),r=a(21),v=a(14),s=Object.getOwnPropertyDescriptor;c.f=a(15)?s:function(a,c){a=g(a);c=o(c,!0);if(v)try{return s(a,c)}catch(d){}if(r(a,c))return l(!i.f.call(a,c),a[c])}},function(d,c,a){a(108)("WeakMap")},function(d,c,a){var i=a(7);d.exports=function(a){i(i.S,a,{of:function(){for(var a=arguments.length,c=Array(a);a--;)c[a]=arguments[a];return new this(c)}})}},function(d,c,a){a(110)("WeakMap")},
function(d,c,a){var i=a(7),l=a(24),g=a(23),o=a(77);d.exports=function(a){i(i.S,a,{from:function(a,c,d){var x,w,t,h;l(this);(x=void 0!==c)&&l(c);if(void 0==a)return new this;w=[];x?(t=0,h=g(c,d,2),o(a,!1,function(a){w.push(h(a,t++))})):o(a,!1,w.push,w);return new this(w)}})}},function(d,c,a){a(60);a(72);a(112);a(113);a(114);d.exports=a(9).WeakSet},function(d,c,a){var i=a(101),l=a(102);a(103)("WeakSet",function(a){return function(){return a(this,0<arguments.length?arguments[0]:void 0)}},{add:function(a){return i.def(l(this,
"WeakSet"),a,!0)}},i,!1,!0)},function(d,c,a){a(108)("WeakSet")},function(d,c,a){a(110)("WeakSet")},function(d,c,a){a(116);d.exports=a(9).String.codePointAt},function(d,c,a){var d=a(7),i=a(63)(!1);d(d.P,"String",{codePointAt:function(a){return i(this,a)}})},function(d,c,a){a(118);d.exports=a(9).String.fromCodePoint},function(d,c,a){var d=a(7),i=a(40),l=String.fromCharCode,a=String.fromCodePoint;d(d.S+d.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(a){for(var c=[],d=arguments.length,v=0,s;d>
v;){s=+arguments[v++];if(i(s,1114111)!==s)throw RangeError(s+" is not a valid code point");c.push(65536>s?l(s):l(((s-=65536)>>10)+55296,s%1024+56320))}return c.join("")}})},function(d,c,a){a(120);a(60);d.exports=a(9).Symbol},function(d,c,a){function i(a){i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return i(a)}var d=a(8),l=a(21),g=a(15),
c=a(7),o=a(20),r=a(100).KEY,v=a(16),s=a(29),j=a(70),x=a(22),w=a(28),t=a(121),h=a(122),f=a(123),b=a(99),e=a(12),k=a(13),p=a(36),q=a(18),m=a(19),u=a(67),n=a(124),z=a(106),C=a(11),J=a(45),G=z.f,H=C.f,B=n.f,y=d.Symbol,E=d.JSON,I=E&&E.stringify,A=w("_hidden"),M=w("toPrimitive"),L={}.propertyIsEnumerable,O=s("symbol-registry"),P=s("symbols"),N=s("op-symbols"),R=Object.prototype,s="function"==typeof y,T=d.QObject,K=!T||!T.prototype||!T.prototype.findChild,Z=g&&v(function(){return 7!=u(H({},"a",{get:function(){return H(this,
"a",{value:7}).a}})).a})?function(a,b,e){var f=G(R,b);f&&delete R[b];H(a,b,e);f&&a!==R&&H(R,b,f)}:H,$=function(a){var b=P[a]=u(y.prototype);b._k=a;return b},X=s&&"symbol"==i(y.iterator)?function(a){return"symbol"==i(a)}:function(a){return a instanceof y},Y=function(a,b,f){a===R&&Y(N,b,f);e(a);b=q(b,!0);e(f);return l(P,b)?(f.enumerable?(l(a,A)&&a[A][b]&&(a[A][b]=!1),f=u(f,{enumerable:m(0,!1)})):(l(a,A)||H(a,A,m(1,{})),a[A][b]=!0),Z(a,b,f)):H(a,b,f)},U=function(a,b){e(a);for(var c=f(b=p(b)),k=0,h=c.length,
d;h>k;)Y(a,d=c[k++],b[d]);return a},W=function(a){var b=L.call(this,a=q(a,!0));return this===R&&l(P,a)&&!l(N,a)?!1:b||!l(this,a)||!l(P,a)||l(this,A)&&this[A][a]?b:!0},T=function(a,b){a=p(a);b=q(b,!0);if(!(a===R&&l(P,b)&&!l(N,b))){var e=G(a,b);if(e&&l(P,b)&&(!l(a,A)||!a[A][b]))e.enumerable=!0;return e}},Q=function(a){for(var a=B(p(a)),b=[],e=0,f;a.length>e;)!l(P,f=a[e++])&&(f!=A&&f!=r)&&b.push(f);return b},V=function(a){for(var b=a===R,a=B(b?N:p(a)),e=[],f=0,c;a.length>f;)l(P,c=a[f++])&&(b?l(R,c):
1)&&e.push(P[c]);return e};s||(y=function(){if(this instanceof y)throw TypeError("Symbol is not a constructor!");var a=x(0<arguments.length?arguments[0]:void 0),b=function aa(b){this===R&&aa.call(N,b);l(this,A)&&l(this[A],a)&&(this[A][a]=!1);Z(this,a,m(1,b))};g&&K&&Z(R,a,{configurable:!0,set:b});return $(a)},o(y.prototype,"toString",function(){return this._k}),z.f=T,C.f=Y,a(125).f=n.f=Q,a(50).f=W,a(49).f=V,g&&!a(30)&&o(R,"propertyIsEnumerable",W,!0),t.f=function(a){return $(w(a))});c(c.G+c.W+c.F*
!s,{Symbol:y});o="hasInstance isConcatSpreadable iterator match replace search species split toPrimitive toStringTag unscopables".split(" ");for(t=0;o.length>t;)w(o[t++]);J=J(w.store);for(o=0;J.length>o;)h(J[o++]);c(c.S+c.F*!s,"Symbol",{"for":function(a){return l(O,a=a+"")?O[a]:O[a]=y(a)},keyFor:function(a){if(!X(a))throw TypeError(a+" is not a symbol!");for(var b in O)if(O[b]===a)return b},useSetter:function(){K=true},useSimple:function(){K=false}});c(c.S+c.F*!s,"Object",{create:function(a,b){return b===
void 0?u(a):U(u(a),b)},defineProperty:Y,defineProperties:U,getOwnPropertyDescriptor:T,getOwnPropertyNames:Q,getOwnPropertySymbols:V});E&&c(c.S+c.F*(!s||v(function(){var a=y();return I([a])!="[null]"||I({a:a})!="{}"||I(Object(a))!="{}"})),"JSON",{stringify:function(a){for(var e=[a],f=1,c;arguments.length>f;)e.push(arguments[f++]);c=f=e[1];if(!(!k(f)&&a===void 0||X(a))){b(f)||(f=function(a,b){typeof c=="function"&&(b=c.call(this,a,b));if(!X(b))return b});e[1]=f;return I.apply(E,e)}}});y.prototype[M]||
a(10)(y.prototype,M,y.prototype.valueOf);j(y,"Symbol");j(Math,"Math",!0);j(d.JSON,"JSON",!0)},function(d,c,a){c.f=a(28)},function(d,c,a){var i=a(8),l=a(9),g=a(30),o=a(121),r=a(11).f;d.exports=function(a){var c=l.Symbol||(l.Symbol=g?{}:i.Symbol||{});"_"!=a.charAt(0)&&!(a in c)&&r(c,a,{value:o.f(a)})}},function(d,c,a){var i=a(45),l=a(49),g=a(50);d.exports=function(a){var c=i(a),d=l.f;if(d)for(var d=d(a),s=g.f,j=0,x;d.length>j;)s.call(a,x=d[j++])&&c.push(x);return c}},function(d,c,a){function i(a){i=
"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return i(a)}var l=a(36),g=a(125).f,o={}.toString,r="object"==("undefined"===typeof window?"undefined":i(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];d.exports.f=function(a){var c;if(r&&"[object Window]"==o.call(a))try{c=g(a)}catch(d){c=r.slice()}else c=g(l(a));
return c}},function(d,c,a){var i=a(46),l=a(48).concat("length","prototype");c.f=Object.getOwnPropertyNames||function(a){return i(a,l)}},function(d,c,a){a(127);d.exports=a(9).Object.values},function(d,c,a){var d=a(7),i=a(128)(!1);d(d.S,"Object",{values:function(a){return i(a)}})},function(d,c,a){var i=a(45),l=a(36),g=a(50).f;d.exports=function(a){return function(c){for(var c=l(c),d=i(c),s=d.length,j=0,x=[],w;s>j;)if(g.call(c,w=d[j++]))x.push(a?[w,c[w]]:c[w]);return x}}},function(d,c,a){d=!1;if("undefined"!==
typeof ReadableStream)try{new ReadableStream({start:function(a){a.close()}}),d=!0}catch(i){}c.ReadableStream=d?ReadableStream:a(130).ReadableStream},function(d,c){function a(c){a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return a(c)}(function(a,c){for(var d in c)a[d]=c[d]})(c,function(a){function c(o){if(d[o])return d[o].exports;var r=d[o]=
{i:o,l:!1,exports:{}};a[o].call(r.exports,r,r.exports,c);r.l=!0;return r.exports}var d={};c.m=a;c.c=d;c.i=function(a){return a};c.d=function(a,d,g){c.o(a,d)||Object.defineProperty(a,d,{configurable:!1,enumerable:!0,get:g})};c.n=function(a){var d=a&&a.__esModule?function(){return a["default"]}:function(){return a};c.d(d,"a",d);return d};c.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)};c.p="";return c(c.s=7)}([function(c,d,g){function o(a){return"string"===typeof a||"symbol"===("undefined"===
typeof a?"undefined":v(a))}function r(a,c,d){if("function"!==typeof a)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(a,c,d)}var v="function"===typeof Symbol&&"symbol"===a(Symbol.iterator)?function(c){return a(c)}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":a(c)},s=g(1).assert;d.typeIsObject=function(a){return"object"===("undefined"===typeof a?"undefined":v(a))&&null!==a||"function"===typeof a};d.createDataProperty=
function(a,c,g){s(d.typeIsObject(a));Object.defineProperty(a,c,{value:g,writable:!0,enumerable:!0,configurable:!0})};d.createArrayFromList=function(a){return a.slice()};d.ArrayBufferCopy=function(a,c,d,g,h){(new Uint8Array(a)).set(new Uint8Array(d,g,h),c)};d.CreateIterResultObject=function(a,c){s("boolean"===typeof c);var d={};Object.defineProperty(d,"value",{value:a,enumerable:!0,writable:!0,configurable:!0});Object.defineProperty(d,"done",{value:c,enumerable:!0,writable:!0,configurable:!0});return d};
d.IsFiniteNonNegativeNumber=function(a){return Number.isNaN(a)||Infinity===a||0>a?!1:!0};d.InvokeOrNoop=function(a,c,d){s(void 0!==a);s(o(c));s(Array.isArray(d));c=a[c];return void 0===c?void 0:r(c,a,d)};d.PromiseInvokeOrNoop=function(a,c,g){s(void 0!==a);s(o(c));s(Array.isArray(g));try{return Promise.resolve(d.InvokeOrNoop(a,c,g))}catch(t){return Promise.reject(t)}};d.PromiseInvokeOrPerformFallback=function(a,c,d,g,h){s(void 0!==a);s(o(c));s(Array.isArray(d));s(Array.isArray(h));var f=void 0;try{f=
a[c]}catch(b){return Promise.reject(b)}if(void 0===f)return g.apply(null,h);try{return Promise.resolve(r(f,a,d))}catch(e){return Promise.reject(e)}};d.TransferArrayBuffer=function(a){return a.slice()};d.ValidateAndNormalizeHighWaterMark=function(a){a=Number(a);if(Number.isNaN(a)||0>a)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return a};d.ValidateAndNormalizeQueuingStrategy=function(a,c){if(void 0!==a&&"function"!==typeof a)throw new TypeError("size property of a queuing strategy must be a function");
c=d.ValidateAndNormalizeHighWaterMark(c);return{size:a,highWaterMark:c}}},function(a){function c(a){this.name="AssertionError";this.message=a||"";this.stack=Error().stack}c.prototype=Object.create(Error.prototype);c.prototype.constructor=c;a.exports={rethrowAssertionErrorRejection:function(a){a&&a.constructor===c&&setTimeout(function(){throw a;},0)},AssertionError:c,assert:function(a,d){if(!a)throw new c(d);}}},function(a,c,d){function o(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");
}function r(a){return new pa(a)}function v(a){return!V(a)||!Object.prototype.hasOwnProperty.call(a,"_writableStreamController")?!1:!0}function s(a){D(!0===v(a),"IsWritableStreamLocked should only be used on known writable streams");return void 0===a._writer?!1:!0}function j(a,b){var e=a._state;if("closed"===e)return Promise.resolve(void 0);if("errored"===e)return Promise.reject(a._storedError);var c=new TypeError("Requested to abort");if(void 0!==a._pendingAbortRequest)return Promise.reject(c);D("writable"===
e||"erroring"===e,"state must be writable or erroring");var f=!1;"erroring"===e&&(f=!0,b=void 0);e=new Promise(function(e,c){a._pendingAbortRequest={_resolve:e,_reject:c,_reason:b,_wasAlreadyErroring:f}});!1===f&&t(a,c);return e}function x(a){D(!0===s(a));D("writable"===a._state);return new Promise(function(b,e){a._writeRequests.push({_resolve:b,_reject:e})})}function w(a,b){var e=a._state;"writable"===e?t(a,b):(D("erroring"===e),h(a))}function t(a,e){D(void 0===a._storedError,"stream._storedError === undefined");
D("writable"===a._state,"state must be writable");var c=a._writableStreamController;D(void 0!==c,"controller must not be undefined");a._state="erroring";a._storedError=e;var f=a._writer;void 0!==f&&z(f,e);!1===b(a)&&!0===c._started&&h(a)}function h(a){D("erroring"===a._state,"stream._state === erroring");D(!1===b(a),"WritableStreamHasOperationMarkedInFlight(stream) === false");a._state="errored";a._writableStreamController.__errorSteps();for(var e=a._storedError,c=0;c<a._writeRequests.length;c++)a._writeRequests[c]._reject(e);
a._writeRequests=[];if(void 0===a._pendingAbortRequest)p(a);else{var f=a._pendingAbortRequest;a._pendingAbortRequest=void 0;!0===f._wasAlreadyErroring?(f._reject(e),p(a)):a._writableStreamController.__abortSteps(f._reason).then(function(){f._resolve();p(a)},function(b){f._reject(b);p(a)})}}function f(a){return void 0===a._closeRequest&&void 0===a._inFlightCloseRequest?!1:!0}function b(a){return void 0===a._inFlightWriteRequest&&void 0===a._inFlightCloseRequest?!1:!0}function e(a){D(void 0===a._inFlightCloseRequest);
D(void 0!==a._closeRequest);a._inFlightCloseRequest=a._closeRequest;a._closeRequest=void 0}function k(a){D(void 0===a._inFlightWriteRequest,"there must be no pending write request");D(0!==a._writeRequests.length,"writeRequests must not be empty");a._inFlightWriteRequest=a._writeRequests.shift()}function p(a){D("errored"===a._state,'_stream_.[[state]] is `"errored"`');void 0!==a._closeRequest&&(D(void 0===a._inFlightCloseRequest),a._closeRequest._reject(a._storedError),a._closeRequest=void 0);var b=
a._writer;void 0!==b&&(O(b,a._storedError),b._closedPromise.catch(function(){}))}function q(a,b){D("writable"===a._state);D(!1===f(a));var e=a._writer;void 0!==e&&b!==a._backpressure&&(!0===b?Z(e):(D(!1===b),X(e)));a._backpressure=b}function m(a){return!V(a)||!Object.prototype.hasOwnProperty.call(a,"_ownerWritableStream")?!1:!0}function u(a){var b=a._ownerWritableStream;D(void 0!==b);var e=b._state;if("closed"===e||"errored"===e)return Promise.reject(new TypeError("The stream (in "+e+" state) is not in the writable state and cannot be closed"));
D("writable"===e||"erroring"===e);D(!1===f(b));var c=new Promise(function(a,e){b._closeRequest={_resolve:a,_reject:e}});!0===b._backpressure&&"writable"===e&&X(a);G(b._writableStreamController);return c}function n(a,b){"pending"===a._closedPromiseState?O(a,b):P(a,b);a._closedPromise.catch(function(){})}function z(a,b){"pending"===a._readyPromiseState?K(a,b):$(a,b);a._readyPromise.catch(function(){})}function C(a){var b=a._ownerWritableStream;D(void 0!==b);D(b._writer===a);var e=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");
z(a,e);n(a,e);b._writer=void 0;a._ownerWritableStream=void 0}function J(a,b){var e=a._ownerWritableStream;D(void 0!==e);var c=e._writableStreamController,k;var h=c._strategySize;if(void 0===h)k=1;else try{k=h(b)}catch(d){"writable"===c._controlledWritableStream._state&&E(c,d),k=1}if(e!==a._ownerWritableStream)return Promise.reject(M("write to"));h=e._state;if("errored"===h)return Promise.reject(e._storedError);if(!0===f(e)||"closed"===h)return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"));
if("erroring"===h)return Promise.reject(e._storedError);D("writable"===h);e=x(e);a:{h={chunk:b};try{aa(c,h,k)}catch(g){"writable"===c._controlledWritableStream._state&&E(c,g);break a}k=c._controlledWritableStream;!1===f(k)&&"writable"===k._state&&q(k,0>=c._strategyHWM-c._queueTotalSize);H(c)}return e}function G(a){aa(a,"close",0);H(a)}function H(a){var b=a._controlledWritableStream;if(!1!==a._started&&void 0===b._inFlightWriteRequest){var e=b._state;"closed"===e||"errored"===e||("erroring"===e?h(b):
0!==a._queue.length&&(b=fa(a),"close"===b?B(a):y(a,b.chunk)))}}function B(a){var b=a._controlledWritableStream;e(b);ca(a);D(0===a._queue.length,"queue must be empty once the final write record is dequeued");W(a._underlyingSink,"close",[]).then(function(){D(void 0!==b._inFlightCloseRequest);b._inFlightCloseRequest._resolve(void 0);b._inFlightCloseRequest=void 0;var a=b._state;D("writable"===a||"erroring"===a);"erroring"===a&&(b._storedError=void 0,void 0!==b._pendingAbortRequest&&(b._pendingAbortRequest._resolve(),
b._pendingAbortRequest=void 0));b._state="closed";a=b._writer;void 0!==a&&(D(void 0!==a._closedPromise_resolve,"writer._closedPromise_resolve !== undefined"),D(void 0!==a._closedPromise_reject,"writer._closedPromise_reject !== undefined"),D("pending"===a._closedPromiseState,"writer._closedPromiseState is pending"),a._closedPromise_resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="resolved");D(void 0===b._pendingAbortRequest,"stream._pendingAbortRequest === undefined");
D(void 0===b._storedError,"stream._storedError === undefined")},function(a){D(void 0!==b._inFlightCloseRequest);b._inFlightCloseRequest._reject(a);b._inFlightCloseRequest=void 0;D("writable"===b._state||"erroring"===b._state);void 0!==b._pendingAbortRequest&&(b._pendingAbortRequest._reject(a),b._pendingAbortRequest=void 0);w(b,a)}).catch(S)}function y(a,b){var e=a._controlledWritableStream;k(e);W(a._underlyingSink,"write",[b,a]).then(function(){D(void 0!==e._inFlightWriteRequest);e._inFlightWriteRequest._resolve(void 0);
e._inFlightWriteRequest=void 0;var b=e._state;D("writable"===b||"erroring"===b);ca(a);!1===f(e)&&"writable"===b&&q(e,0>=a._strategyHWM-a._queueTotalSize);H(a)},function(a){D(void 0!==e._inFlightWriteRequest);e._inFlightWriteRequest._reject(a);e._inFlightWriteRequest=void 0;D("writable"===e._state||"erroring"===e._state);w(e,a)}).catch(S)}function E(a,b){var e=a._controlledWritableStream;D("writable"===e._state);t(e,b)}function I(a){return new TypeError("WritableStream.prototype."+a+" can only be used on a WritableStream")}
function A(a){return new TypeError("WritableStreamDefaultWriter.prototype."+a+" can only be used on a WritableStreamDefaultWriter")}function M(a){return new TypeError("Cannot "+a+" a stream using a released writer")}function L(a){a._closedPromise=new Promise(function(b,e){a._closedPromise_resolve=b;a._closedPromise_reject=e;a._closedPromiseState="pending"})}function O(a,b){D(void 0!==a._closedPromise_resolve,"writer._closedPromise_resolve !== undefined");D(void 0!==a._closedPromise_reject,"writer._closedPromise_reject !== undefined");
D("pending"===a._closedPromiseState,"writer._closedPromiseState is pending");a._closedPromise_reject(b);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0;a._closedPromiseState="rejected"}function P(a,b){D(void 0===a._closedPromise_resolve,"writer._closedPromise_resolve === undefined");D(void 0===a._closedPromise_reject,"writer._closedPromise_reject === undefined");D("pending"!==a._closedPromiseState,"writer._closedPromiseState is not pending");a._closedPromise=Promise.reject(b);a._closedPromiseState=
"rejected"}function N(a){a._readyPromise=new Promise(function(b,e){a._readyPromise_resolve=b;a._readyPromise_reject=e});a._readyPromiseState="pending"}function R(a,b){a._readyPromise=Promise.reject(b);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState="rejected"}function T(a){a._readyPromise=Promise.resolve(void 0);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState="fulfilled"}function K(a,b){D(void 0!==a._readyPromise_resolve,"writer._readyPromise_resolve !== undefined");
D(void 0!==a._readyPromise_reject,"writer._readyPromise_reject !== undefined");a._readyPromise_reject(b);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState="rejected"}function Z(a){D(void 0===a._readyPromise_resolve,"writer._readyPromise_resolve === undefined");D(void 0===a._readyPromise_reject,"writer._readyPromise_reject === undefined");a._readyPromise=new Promise(function(b,e){a._readyPromise_resolve=b;a._readyPromise_reject=e});a._readyPromiseState="pending"}function $(a,
b){D(void 0===a._readyPromise_resolve,"writer._readyPromise_resolve === undefined");D(void 0===a._readyPromise_reject,"writer._readyPromise_reject === undefined");a._readyPromise=Promise.reject(b);a._readyPromiseState="rejected"}function X(a){D(void 0!==a._readyPromise_resolve,"writer._readyPromise_resolve !== undefined");D(void 0!==a._readyPromise_reject,"writer._readyPromise_reject !== undefined");a._readyPromise_resolve(void 0);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState=
"fulfilled"}var Y=function(){function a(b,e){for(var c=0;c<e.length;c++){var f=e[c];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}return function(b,e,c){e&&a(b.prototype,e);c&&a(b,c);return b}}(),c=d(0),U=c.InvokeOrNoop,W=c.PromiseInvokeOrNoop,Q=c.ValidateAndNormalizeQueuingStrategy,V=c.typeIsObject,c=d(1),D=c.assert,S=c.rethrowAssertionErrorRejection,d=d(3),ca=d.DequeueValue,aa=d.EnqueueValueWithSize,fa=d.PeekQueueValue,ka=d.ResetQueue,
d=function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=e.size,e=e.highWaterMark,e=void 0===e?1:e;o(this,a);this._state="writable";this._writableStreamController=this._writer=this._storedError=void 0;this._writeRequests=[];this._pendingAbortRequest=this._inFlightCloseRequest=this._closeRequest=this._inFlightWriteRequest=void 0;this._backpressure=!1;if(void 0!==b.type)throw new RangeError("Invalid type is specified");
this._writableStreamController=new qa(this,b,c,e);this._writableStreamController.__startSteps()}Y(a,[{key:"abort",value:function(a){return!1===v(this)?Promise.reject(I("abort")):!0===s(this)?Promise.reject(new TypeError("Cannot abort a stream that already has a writer")):j(this,a)}},{key:"getWriter",value:function(){if(!1===v(this))throw I("getWriter");return r(this)}},{key:"locked",get:function(){if(!1===v(this))throw I("locked");return s(this)}}]);return a}();a.exports={AcquireWritableStreamDefaultWriter:r,
IsWritableStream:v,IsWritableStreamLocked:s,WritableStream:d,WritableStreamAbort:j,WritableStreamDefaultControllerError:E,WritableStreamDefaultWriterCloseWithErrorPropagation:function(a){var b=a._ownerWritableStream;D(void 0!==b);var e=b._state;if(!0===f(b)||"closed"===e)return Promise.resolve();if("errored"===e)return Promise.reject(b._storedError);D("writable"===e||"erroring"===e);return u(a)},WritableStreamDefaultWriterRelease:C,WritableStreamDefaultWriterWrite:J,WritableStreamCloseQueuedOrInFlight:f};
var pa=function(){function a(b){o(this,a);if(!1===v(b))throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===s(b))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=b;b._writer=this;var e=b._state;"writable"===e?(!1===f(b)&&!0===b._backpressure?N(this):T(this),L(this)):"erroring"===e?(R(this,b._storedError),this._readyPromise.catch(function(){}),L(this)):"closed"===
e?(T(this),this._closedPromise=Promise.resolve(void 0),this._closedPromise_reject=this._closedPromise_resolve=void 0,this._closedPromiseState="resolved"):(D("errored"===e,"state must be errored"),b=b._storedError,R(this,b),this._readyPromise.catch(function(){}),this._closedPromise=Promise.reject(b),this._closedPromise_reject=this._closedPromise_resolve=void 0,this._closedPromiseState="rejected",this._closedPromise.catch(function(){}))}Y(a,[{key:"abort",value:function(a){if(!1===m(this))return Promise.reject(A("abort"));
if(void 0===this._ownerWritableStream)return Promise.reject(M("abort"));var b=this._ownerWritableStream;D(void 0!==b);return j(b,a)}},{key:"close",value:function(){if(!1===m(this))return Promise.reject(A("close"));var a=this._ownerWritableStream;return void 0===a?Promise.reject(M("close")):!0===f(a)?Promise.reject(new TypeError("cannot close an already-closing stream")):u(this)}},{key:"releaseLock",value:function(){if(!1===m(this))throw A("releaseLock");var a=this._ownerWritableStream;void 0!==a&&
(D(void 0!==a._writer),C(this))}},{key:"write",value:function(a){return!1===m(this)?Promise.reject(A("write")):void 0===this._ownerWritableStream?Promise.reject(M("write to")):J(this,a)}},{key:"closed",get:function(){return!1===m(this)?Promise.reject(A("closed")):this._closedPromise}},{key:"desiredSize",get:function(){if(!1===m(this))throw A("desiredSize");if(void 0===this._ownerWritableStream)throw M("desiredSize");var a;a=this._ownerWritableStream;var b=a._state;a="errored"===b||"erroring"===b?
null:"closed"===b?0:a._writableStreamController._strategyHWM-a._writableStreamController._queueTotalSize;return a}},{key:"ready",get:function(){return!1===m(this)?Promise.reject(A("ready")):this._readyPromise}}]);return a}(),qa=function(){function a(b,e,c,f){o(this,a);if(!1===v(b))throw new TypeError("WritableStreamDefaultController can only be constructed with a WritableStream instance");if(void 0!==b._writableStreamController)throw new TypeError("WritableStreamDefaultController instances can only be created by the WritableStream constructor");
this._controlledWritableStream=b;this._underlyingSink=e;this._queueTotalSize=this._queue=void 0;ka(this);this._started=!1;e=Q(c,f);this._strategySize=e.size;this._strategyHWM=e.highWaterMark;q(b,0>=this._strategyHWM-this._queueTotalSize)}Y(a,[{key:"error",value:function(a){var b;b=V(this)?Object.prototype.hasOwnProperty.call(this,"_underlyingSink")?!0:!1:!1;if(!1===b)throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===
this._controlledWritableStream._state&&E(this,a)}},{key:"__abortSteps",value:function(a){return W(this._underlyingSink,"abort",[a])}},{key:"__errorSteps",value:function(){ka(this)}},{key:"__startSteps",value:function(){var a=this,b=U(this._underlyingSink,"start",[this]),e=this._controlledWritableStream;Promise.resolve(b).then(function(){D("writable"===e._state||"erroring"===e._state);a._started=!0;H(a)},function(b){D("writable"===e._state||"erroring"===e._state);a._started=!0;w(e,b)}).catch(S)}}]);
return a}()},function(a,c,d){var o=d(0).IsFiniteNonNegativeNumber,r=d(1).assert;c.DequeueValue=function(a){r("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: DequeueValue should only be used on containers with [[queue]] and [[queueTotalSize]].");r(0<a._queue.length,"Spec-level failure: should never dequeue from an empty queue.");var c=a._queue.shift();a._queueTotalSize-=c.size;0>a._queueTotalSize&&(a._queueTotalSize=0);return c.value};c.EnqueueValueWithSize=function(a,c,d){r("_queue"in a&&
"_queueTotalSize"in a,"Spec-level failure: EnqueueValueWithSize should only be used on containers with [[queue]] and [[queueTotalSize]].");d=Number(d);if(!o(d))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");a._queue.push({value:c,size:d});a._queueTotalSize+=d};c.PeekQueueValue=function(a){r("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: PeekQueueValue should only be used on containers with [[queue]] and [[queueTotalSize]].");r(0<a._queue.length,"Spec-level failure: should never peek at an empty queue.");
return a._queue[0].value};c.ResetQueue=function(a){r("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: ResetQueue should only be used on containers with [[queue]] and [[queueTotalSize]].");a._queue=[];a._queueTotalSize=0}},function(a,c,d){function o(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function r(a){return!ea(a)||!Object.prototype.hasOwnProperty.call(a,"_readableStreamController")?!1:!0}function v(a){F(!0===r(a),"IsReadableStreamLocked should only be used on known readable streams");
return void 0===a._reader?!1:!0}function s(a,b){F(!0===r(a));F("boolean"===typeof b);var e=new ra(a),c={closedOrErrored:!1,canceled1:!1,canceled2:!1,reason1:void 0,reason2:void 0};c.promise=new Promise(function(a){c._resolve=a});var f=j();f._reader=e;f._teeState=c;f._cloneForBranch2=b;var k=x();k._stream=a;k._teeState=c;var d=w();d._stream=a;d._teeState=c;var h=Object.create(Object.prototype);na(h,"pull",f);na(h,"cancel",k);k=new sa(h);h=Object.create(Object.prototype);na(h,"pull",f);na(h,"cancel",
d);d=new sa(h);f._branch1=k._readableStreamController;f._branch2=d._readableStreamController;e._closedPromise.catch(function(a){!0!==c.closedOrErrored&&(I(f._branch1,a),I(f._branch2,a),c.closedOrErrored=!0)});return[k,d]}function j(){function a(){var b=a._branch1,e=a._branch2,c=a._teeState;return J(a._reader).then(function(a){F(ea(a));var f=a.value,a=a.done;F("boolean"===typeof a);!0===a&&!1===c.closedOrErrored&&(!1===c.canceled1&&y(b),!1===c.canceled2&&y(e),c.closedOrErrored=!0);!0!==c.closedOrErrored&&
(!1===c.canceled1&&E(b,f),!1===c.canceled2&&E(e,f))})}return a}function x(){function a(b){var e=a._stream,c=a._teeState;c.canceled1=!0;c.reason1=b;!0===c.canceled2&&(b=ta([c.reason1,c.reason2]),e=f(e,b),c._resolve(e));return c.promise}return a}function w(){function a(b){var e=a._stream,c=a._teeState;c.canceled2=!0;c.reason2=b;!0===c.canceled1&&(b=ta([c.reason1,c.reason2]),e=f(e,b),c._resolve(e));return c.promise}return a}function t(a){F(!0===m(a._reader));F("readable"===a._state||"closed"===a._state);
return new Promise(function(b,e){a._reader._readIntoRequests.push({_resolve:b,_reject:e})})}function h(a){F(!0===u(a._reader));F("readable"===a._state);return new Promise(function(b,e){a._reader._readRequests.push({_resolve:b,_reject:e})})}function f(a,e){a._disturbed=!0;if("closed"===a._state)return Promise.resolve(void 0);if("errored"===a._state)return Promise.reject(a._storedError);b(a);return a._readableStreamController.__cancelSteps(e).then(function(){})}function b(a){F("readable"===a._state);
a._state="closed";a=a._reader;if(void 0!==a){if(!0===u(a)){for(var b=0;b<a._readRequests.length;b++){var e=a._readRequests[b]._resolve;e(da(void 0,!0))}a._readRequests=[]}F(void 0!==a._closedPromise_resolve);F(void 0!==a._closedPromise_reject);a._closedPromise_resolve(void 0);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}}function e(a,b){F(!0===r(a),"stream must be ReadableStream");F("readable"===a._state,"state must be readable");a._state="errored";a._storedError=b;var e=a._reader;
if(void 0!==e){if(!0===u(e)){for(var c=0;c<e._readRequests.length;c++)e._readRequests[c]._reject(b);e._readRequests=[]}else{F(m(e),"reader must be ReadableStreamBYOBReader");for(c=0;c<e._readIntoRequests.length;c++)e._readIntoRequests[c]._reject(b);e._readIntoRequests=[]}va(e,b);e._closedPromise.catch(function(){})}}function k(a,b,e){a=a._reader;F(0<a._readRequests.length);a._readRequests.shift()._resolve(da(b,e))}function p(a){a=a._reader;return void 0===a||!1===m(a)?!1:!0}function q(a){a=a._reader;
return void 0===a||!1===u(a)?!1:!0}function m(a){return!ea(a)||!Object.prototype.hasOwnProperty.call(a,"_readIntoRequests")?!1:!0}function u(a){return!ea(a)||!Object.prototype.hasOwnProperty.call(a,"_readRequests")?!1:!0}function n(a,b){a._ownerReadableStream=b;b._reader=a;"readable"===b._state?ka(a):"closed"===b._state?qa(a):(F("errored"===b._state,"state must be errored"),pa(a,b._storedError),a._closedPromise.catch(function(){}))}function z(a,b){var e=a._ownerReadableStream;F(void 0!==e);return f(e,
b)}function C(a){F(void 0!==a._ownerReadableStream);F(a._ownerReadableStream._reader===a);"readable"===a._ownerReadableStream._state?va(a,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):ya(a,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"));a._closedPromise.catch(function(){});a._ownerReadableStream._reader=void 0;a._ownerReadableStream=void 0}function J(a){a=a._ownerReadableStream;F(void 0!==a);a._disturbed=
!0;if("closed"===a._state)return Promise.resolve(da(void 0,!0));if("errored"===a._state)return Promise.reject(a._storedError);F("readable"===a._state);return a._readableStreamController.__pullSteps()}function G(a){return!ea(a)||!Object.prototype.hasOwnProperty.call(a,"_underlyingSource")?!1:!0}function H(a){!1!==B(a)&&(!0===a._pulling?a._pullAgain=!0:(F(!1===a._pullAgain),a._pulling=!0,oa(a._underlyingSource,"pull",[a]).then(function(){a._pulling=!1;if(!0===a._pullAgain)return a._pullAgain=!1,H(a)},
function(b){A(a,b)}).catch(ba)))}function B(a){var b=a._controlledReadableStream;return"closed"===b._state||"errored"===b._state||!0===a._closeRequested||!1===a._started?!1:!0===v(b)&&0<b._reader._readRequests.length||0<M(a)?!0:!1}function y(a){var e=a._controlledReadableStream;F(!1===a._closeRequested);F("readable"===e._state);a._closeRequested=!0;0===a._queue.length&&b(e)}function E(a,b){var e=a._controlledReadableStream;F(!1===a._closeRequested);F("readable"===e._state);if(!0===v(e)&&0<e._reader._readRequests.length)k(e,
b,!1);else{e=1;if(void 0!==a._strategySize){var c=a._strategySize;try{e=c(b)}catch(f){throw A(a,f),f;}}try{Aa(a,b,e)}catch(d){throw A(a,d),d;}}H(a)}function I(a,b){var c=a._controlledReadableStream;F("readable"===c._state);ha(a);e(c,b)}function A(a,b){"readable"===a._controlledReadableStream._state&&I(a,b)}function M(a){var b=a._controlledReadableStream._state;return"errored"===b?null:"closed"===b?0:a._strategyHWM-a._queueTotalSize}function L(a){return!ea(a)||!Object.prototype.hasOwnProperty.call(a,
"_underlyingByteSource")?!1:!0}function O(a){return!ea(a)||!Object.prototype.hasOwnProperty.call(a,"_associatedReadableByteStreamController")?!1:!0}function P(a){!1!==V(a)&&(!0===a._pulling?a._pullAgain=!0:(F(!1===a._pullAgain),a._pulling=!0,oa(a._underlyingByteSource,"pull",[a]).then(function(){a._pulling=!1;!0===a._pullAgain&&(a._pullAgain=!1,P(a))},function(b){"readable"===a._controlledReadableStream._state&&D(a,b)}).catch(ba)))}function N(a,b){F("errored"!==a._state,"state must not be errored");
var e=!1;"closed"===a._state&&(F(0===b.bytesFilled),e=!0);var c=R(b);if("default"===b.readerType)k(a,c,e);else{F("byob"===b.readerType);var f=a._reader;F(0<f._readIntoRequests.length);f._readIntoRequests.shift()._resolve(da(c,e))}}function R(a){var b=a.bytesFilled,e=a.elementSize;F(b<=a.byteLength);F(0===b%e);return new a.ctor(a.buffer,a.byteOffset,b/e)}function T(a,b,e,c){a._queue.push({buffer:b,byteOffset:e,byteLength:c});a._queueTotalSize+=c}function K(a,b){var e=b.elementSize,c=b.bytesFilled-
b.bytesFilled%e,f=Math.min(a._queueTotalSize,b.byteLength-b.bytesFilled),k=b.bytesFilled+f,k=k-k%e,e=!1;k>c&&(f=k-b.bytesFilled,e=!0);for(c=a._queue;0<f;){var k=c[0],d=Math.min(f,k.byteLength);Ba(b.buffer,b.byteOffset+b.bytesFilled,k.buffer,k.byteOffset,d);k.byteLength===d?c.shift():(k.byteOffset+=d,k.byteLength-=d);a._queueTotalSize-=d;Z(a,d,b);f-=d}!1===e&&(F(0===a._queueTotalSize,"queue must be empty"),F(0<b.bytesFilled),F(b.bytesFilled<b.elementSize));return e}function Z(a,b,e){F(0===a._pendingPullIntos.length||
a._pendingPullIntos[0]===e);X(a);e.bytesFilled+=b}function $(a){F("readable"===a._controlledReadableStream._state);0===a._queueTotalSize&&!0===a._closeRequested?b(a._controlledReadableStream):P(a)}function X(a){void 0!==a._byobRequest&&(a._byobRequest._associatedReadableByteStreamController=void 0,a._byobRequest._view=void 0,a._byobRequest=void 0)}function Y(a){for(F(!1===a._closeRequested);0<a._pendingPullIntos.length&&0!==a._queueTotalSize;){var b=a._pendingPullIntos[0];!0===K(a,b)&&(Q(a),N(a._controlledReadableStream,
b))}}function U(a,b){var e=a._controlledReadableStream,c=1;b.constructor!==DataView&&(c=b.constructor.BYTES_PER_ELEMENT);c={buffer:b.buffer,byteOffset:b.byteOffset,byteLength:b.byteLength,bytesFilled:0,elementSize:c,ctor:b.constructor,readerType:"byob"};if(0<a._pendingPullIntos.length)return c.buffer=ja(c.buffer),a._pendingPullIntos.push(c),t(e);if("closed"===e._state)return e=new b.constructor(c.buffer,c.byteOffset,0),Promise.resolve(da(e,!0));if(0<a._queueTotalSize){if(!0===K(a,c))return e=R(c),
$(a),Promise.resolve(da(e,!1));if(!0===a._closeRequested)return e=new TypeError("Insufficient bytes to fill elements in the given buffer"),D(a,e),Promise.reject(e)}c.buffer=ja(c.buffer);a._pendingPullIntos.push(c);e=t(e);P(a);return e}function W(a,b){var e=a._pendingPullIntos[0],c=a._controlledReadableStream;if("closed"===c._state){if(0!==b)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");e.buffer=ja(e.buffer);F(0===e.bytesFilled,"bytesFilled must be 0");e=a._controlledReadableStream;
if(!0===p(e))for(;0<e._reader._readIntoRequests.length;)c=Q(a),N(e,c)}else{F("readable"===c._state);if(e.bytesFilled+b>e.byteLength)throw new RangeError("bytesWritten out of range");Z(a,b,e);if(!(e.bytesFilled<e.elementSize)){Q(a);c=e.bytesFilled%e.elementSize;if(0<c){var f=e.byteOffset+e.bytesFilled,f=e.buffer.slice(f-c,f);T(a,f,0,f.byteLength)}e.buffer=ja(e.buffer);e.bytesFilled-=c;N(a._controlledReadableStream,e);Y(a)}}}function Q(a){var b=a._pendingPullIntos.shift();X(a);return b}function V(a){var b=
a._controlledReadableStream;return"readable"!==b._state||!0===a._closeRequested||!1===a._started?!1:!0===q(b)&&0<b._reader._readRequests.length||!0===p(b)&&0<b._reader._readIntoRequests.length||0<S(a)?!0:!1}function D(a,b){var c=a._controlledReadableStream;F("readable"===c._state);X(a);a._pendingPullIntos=[];ha(a);e(c,b)}function S(a){var b=a._controlledReadableStream._state;return"errored"===b?null:"closed"===b?0:a._strategyHWM-a._queueTotalSize}function ca(a){return new TypeError("ReadableStream.prototype."+
a+" can only be used on a ReadableStream")}function aa(a){return new TypeError("Cannot "+a+" a stream using a released reader")}function fa(a){return new TypeError("ReadableStreamDefaultReader.prototype."+a+" can only be used on a ReadableStreamDefaultReader")}function ka(a){a._closedPromise=new Promise(function(b,e){a._closedPromise_resolve=b;a._closedPromise_reject=e})}function pa(a,b){a._closedPromise=Promise.reject(b);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}function qa(a){a._closedPromise=
Promise.resolve(void 0);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}function va(a,b){F(void 0!==a._closedPromise_resolve);F(void 0!==a._closedPromise_reject);a._closedPromise_reject(b);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}function ya(a,b){F(void 0===a._closedPromise_resolve);F(void 0===a._closedPromise_reject);a._closedPromise=Promise.reject(b)}function la(a){return new TypeError("ReadableStreamBYOBReader.prototype."+a+" can only be used on a ReadableStreamBYOBReader")}
function ma(a){return new TypeError("ReadableStreamDefaultController.prototype."+a+" can only be used on a ReadableStreamDefaultController")}function wa(a){return new TypeError("ReadableStreamBYOBRequest.prototype."+a+" can only be used on a ReadableStreamBYOBRequest")}function ia(a){return new TypeError("ReadableByteStreamController.prototype."+a+" can only be used on a ReadableByteStreamController")}function za(a){try{Promise.prototype.then.call(a,void 0,function(){})}catch(b){}}var ga=function(){function a(b,
e){for(var c=0;c<e.length;c++){var f=e[c];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}return function(b,e,c){e&&a(b.prototype,e);c&&a(b,c);return b}}(),c=d(0),Ba=c.ArrayBufferCopy,da=c.CreateIterResultObject,Ca=c.IsFiniteNonNegativeNumber,xa=c.InvokeOrNoop,oa=c.PromiseInvokeOrNoop,ja=c.TransferArrayBuffer,Da=c.ValidateAndNormalizeQueuingStrategy,Ea=c.ValidateAndNormalizeHighWaterMark,c=d(0),ta=c.createArrayFromList,na=c.createDataProperty,
ea=c.typeIsObject,c=d(1),F=c.assert,ba=c.rethrowAssertionErrorRejection,c=d(3),Fa=c.DequeueValue,Aa=c.EnqueueValueWithSize,ha=c.ResetQueue,d=d(2),Ga=d.AcquireWritableStreamDefaultWriter,Ha=d.IsWritableStream,Ia=d.IsWritableStreamLocked,Ja=d.WritableStreamAbort,Ka=d.WritableStreamDefaultWriterCloseWithErrorPropagation,La=d.WritableStreamDefaultWriterRelease,Ma=d.WritableStreamDefaultWriterWrite,ua=d.WritableStreamCloseQueuedOrInFlight,sa=function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?
arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=e.size,e=e.highWaterMark;o(this,a);this._state="readable";this._storedError=this._reader=void 0;this._disturbed=!1;this._readableStreamController=void 0;var f=b.type;if("bytes"===""+f)void 0===e&&(e=0),this._readableStreamController=new Na(this,b,e);else if(void 0===f)void 0===e&&(e=1),this._readableStreamController=new Oa(this,b,c,e);else throw new RangeError("Invalid type is specified");}ga(a,[{key:"cancel",value:function(a){return!1===
r(this)?Promise.reject(ca("cancel")):!0===v(this)?Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")):f(this,a)}},{key:"getReader",value:function(){var a=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).mode;if(!1===r(this))throw ca("getReader");if(void 0===a)return new ra(this);if("byob"===""+a)return new Pa(this);throw new RangeError("Invalid mode is specified");}},{key:"pipeThrough",value:function(a,b){var e=a.readable,c=this.pipeTo(a.writable,b);za(c);
return e}},{key:"pipeTo",value:function(a){var b=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=e.preventClose,k=e.preventAbort,d=e.preventCancel;if(!1===r(this))return Promise.reject(ca("pipeTo"));if(!1===Ha(a))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));c=Boolean(c);k=Boolean(k);d=Boolean(d);if(!0===v(this))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"));
if(!0===Ia(a))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"));var h=new ra(this),g=Ga(a),p=!1,m=Promise.resolve();return new Promise(function(e,j){function z(){m=Promise.resolve();return!0===p?Promise.resolve():g._readyPromise.then(function(){return J(h).then(function(a){var b=a.value;!0!==a.done&&(m=Ma(g,b).catch(function(){}))})}).then(z)}function t(){var a=m;return m.then(function(){return a!==m?t():void 0})}function q(a,b,e){"errored"===
a._state?e(a._storedError):b.catch(e).catch(ba)}function x(b,e,c){function f(){b().then(function(){return w(e,c)},function(a){return w(!0,a)}).catch(ba)}!0!==p&&(p=!0,"writable"===a._state&&!1===ua(a)?t().then(f):f())}function u(b,e){!0!==p&&(p=!0,"writable"===a._state&&!1===ua(a)?t().then(function(){return w(b,e)}).catch(ba):w(b,e))}function w(a,b){La(g);C(h);a?j(b):e(void 0)}q(b,h._closedPromise,function(b){!1===k?x(function(){return Ja(a,b)},!0,b):u(!0,b)});q(a,g._closedPromise,function(a){!1===
d?x(function(){return f(b,a)},!0,a):u(!0,a)});(function(a,b,e){"closed"===a._state?e():b.then(e).catch(ba)})(b,h._closedPromise,function(){!1===c?x(function(){return Ka(g)}):u()});if(!0===ua(a)||"closed"===a._state){var n=new TypeError("the destination writable stream closed before all data could be piped to it");!1===d?x(function(){return f(b,n)},!0,n):u(!0,n)}z().catch(function(a){m=Promise.resolve();ba(a)})})}},{key:"tee",value:function(){if(!1===r(this))throw ca("tee");var a=s(this,!1);return ta(a)}},
{key:"locked",get:function(){if(!1===r(this))throw ca("locked");return v(this)}}]);return a}();a.exports={ReadableStream:sa,IsReadableStreamDisturbed:function(a){F(!0===r(a),"IsReadableStreamDisturbed should only be used on known readable streams");return a._disturbed},ReadableStreamDefaultControllerClose:y,ReadableStreamDefaultControllerEnqueue:E,ReadableStreamDefaultControllerError:I,ReadableStreamDefaultControllerGetDesiredSize:M};var ra=function(){function a(b){o(this,a);if(!1===r(b))throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");
if(!0===v(b))throw new TypeError("This stream has already been locked for exclusive reading by another reader");n(this,b);this._readRequests=[]}ga(a,[{key:"cancel",value:function(a){return!1===u(this)?Promise.reject(fa("cancel")):void 0===this._ownerReadableStream?Promise.reject(aa("cancel")):z(this,a)}},{key:"read",value:function(){return!1===u(this)?Promise.reject(fa("read")):void 0===this._ownerReadableStream?Promise.reject(aa("read from")):J(this)}},{key:"releaseLock",value:function(){if(!1===
u(this))throw fa("releaseLock");if(void 0!==this._ownerReadableStream){if(0<this._readRequests.length)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");C(this)}}},{key:"closed",get:function(){return!1===u(this)?Promise.reject(fa("closed")):this._closedPromise}}]);return a}(),Pa=function(){function a(b){o(this,a);if(!r(b))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");
if(!1===L(b._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(v(b))throw new TypeError("This stream has already been locked for exclusive reading by another reader");n(this,b);this._readIntoRequests=[]}ga(a,[{key:"cancel",value:function(a){return!m(this)?Promise.reject(la("cancel")):void 0===this._ownerReadableStream?Promise.reject(aa("cancel")):z(this,a)}},{key:"read",value:function(a){if(!m(this))return Promise.reject(la("read"));
if(void 0===this._ownerReadableStream)return Promise.reject(aa("read from"));if(!ArrayBuffer.isView(a))return Promise.reject(new TypeError("view must be an array buffer view"));if(0===a.byteLength)return Promise.reject(new TypeError("view must have non-zero byteLength"));var b=this._ownerReadableStream;F(void 0!==b);b._disturbed=!0;a="errored"===b._state?Promise.reject(b._storedError):U(b._readableStreamController,a);return a}},{key:"releaseLock",value:function(){if(!m(this))throw la("releaseLock");
if(void 0!==this._ownerReadableStream){if(0<this._readIntoRequests.length)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");C(this)}}},{key:"closed",get:function(){return!m(this)?Promise.reject(la("closed")):this._closedPromise}}]);return a}(),Oa=function(){function a(b,e,c,f){o(this,a);if(!1===r(b))throw new TypeError("ReadableStreamDefaultController can only be constructed with a ReadableStream instance");if(void 0!==b._readableStreamController)throw new TypeError("ReadableStreamDefaultController instances can only be created by the ReadableStream constructor");
this._controlledReadableStream=b;this._underlyingSource=e;this._queueTotalSize=this._queue=void 0;ha(this);this._pulling=this._pullAgain=this._closeRequested=this._started=!1;b=Da(c,f);this._strategySize=b.size;this._strategyHWM=b.highWaterMark;var k=this,e=xa(e,"start",[this]);Promise.resolve(e).then(function(){k._started=!0;F(!1===k._pulling);F(!1===k._pullAgain);H(k)},function(a){A(k,a)}).catch(ba)}ga(a,[{key:"close",value:function(){if(!1===G(this))throw ma("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");
var a=this._controlledReadableStream._state;if("readable"!==a)throw new TypeError("The stream (in "+a+" state) is not in the readable state and cannot be closed");y(this)}},{key:"enqueue",value:function(a){if(!1===G(this))throw ma("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var b=this._controlledReadableStream._state;if("readable"!==b)throw new TypeError("The stream (in "+b+" state) is not in the readable state and cannot be enqueued to");return E(this,
a)}},{key:"error",value:function(a){if(!1===G(this))throw ma("error");var b=this._controlledReadableStream;if("readable"!==b._state)throw new TypeError("The stream is "+b._state+" and so cannot be errored");I(this,a)}},{key:"__cancelSteps",value:function(a){ha(this);return oa(this._underlyingSource,"cancel",[a])}},{key:"__pullSteps",value:function(){var a=this._controlledReadableStream;if(0<this._queue.length){var e=Fa(this);!0===this._closeRequested&&0===this._queue.length?b(a):H(this);return Promise.resolve(da(e,
!1))}a=h(a);H(this);return a}},{key:"desiredSize",get:function(){if(!1===G(this))throw ma("desiredSize");return M(this)}}]);return a}(),Qa=function(){function a(b,e){o(this,a);this._associatedReadableByteStreamController=b;this._view=e}ga(a,[{key:"respond",value:function(a){if(!1===O(this))throw wa("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");var b=this._associatedReadableByteStreamController,a=Number(a);if(!1===
Ca(a))throw new RangeError("bytesWritten must be a finite");F(0<b._pendingPullIntos.length);W(b,a)}},{key:"respondWithNewView",value:function(a){if(!1===O(this))throw wa("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(a))throw new TypeError("You can only respond with array buffer views");var b=this._associatedReadableByteStreamController;F(0<b._pendingPullIntos.length);var e=b._pendingPullIntos[0];
if(e.byteOffset+e.bytesFilled!==a.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(e.byteLength!==a.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");e.buffer=a.buffer;W(b,a.byteLength)}},{key:"view",get:function(){return this._view}}]);return a}(),Na=function(){function a(b,e,c){o(this,a);if(!1===r(b))throw new TypeError("ReadableByteStreamController can only be constructed with a ReadableStream instance given a byte source");
if(void 0!==b._readableStreamController)throw new TypeError("ReadableByteStreamController instances can only be created by the ReadableStream constructor given a byte source");this._controlledReadableStream=b;this._underlyingByteSource=e;this._pulling=this._pullAgain=!1;X(this);this._pendingPullIntos=[];this._queue=this._queueTotalSize=void 0;ha(this);this._started=this._closeRequested=!1;this._strategyHWM=Ea(c);c=e.autoAllocateChunkSize;if(void 0!==c&&(!1===Number.isInteger(c)||0>=c))throw new RangeError("autoAllocateChunkSize must be a positive integer");
this._autoAllocateChunkSize=c;this._pendingPullIntos=[];var f=this,e=xa(e,"start",[this]);Promise.resolve(e).then(function(){f._started=!0;F(!1===f._pulling);F(!1===f._pullAgain);P(f)},function(a){"readable"===b._state&&D(f,a)}).catch(ba)}ga(a,[{key:"close",value:function(){if(!1===L(this))throw ia("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var a=this._controlledReadableStream._state;if("readable"!==a)throw new TypeError("The stream (in "+
a+" state) is not in the readable state and cannot be closed");a=this._controlledReadableStream;F(!1===this._closeRequested);F("readable"===a._state);if(0<this._queueTotalSize)this._closeRequested=!0;else{if(0<this._pendingPullIntos.length&&0<this._pendingPullIntos[0].bytesFilled)throw a=new TypeError("Insufficient bytes to fill elements in the given buffer"),D(this,a),a;b(a)}}},{key:"enqueue",value:function(a){if(!1===L(this))throw ia("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");
var b=this._controlledReadableStream._state;if("readable"!==b)throw new TypeError("The stream (in "+b+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(a))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");b=this._controlledReadableStream;F(!1===this._closeRequested);F("readable"===b._state);var e=a.byteOffset,c=a.byteLength,a=ja(a.buffer);!0===q(b)?0===b._reader._readRequests.length?T(this,a,e,c):(F(0===
this._queue.length),a=new Uint8Array(a,e,c),k(b,a,!1)):!0===p(b)?(T(this,a,e,c),Y(this)):(F(!1===v(b),"stream must not be locked"),T(this,a,e,c))}},{key:"error",value:function(a){if(!1===L(this))throw ia("error");var b=this._controlledReadableStream;if("readable"!==b._state)throw new TypeError("The stream is "+b._state+" and so cannot be errored");D(this,a)}},{key:"__cancelSteps",value:function(a){0<this._pendingPullIntos.length&&(this._pendingPullIntos[0].bytesFilled=0);ha(this);return oa(this._underlyingByteSource,
"cancel",[a])}},{key:"__pullSteps",value:function(){var a=this._controlledReadableStream;F(!0===q(a));if(0<this._queueTotalSize){F(0===a._reader._readRequests.length);a=this._queue.shift();this._queueTotalSize-=a.byteLength;$(this);var b=void 0;try{b=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)}catch(e){return Promise.reject(e)}return Promise.resolve(da(b,!1))}b=this._autoAllocateChunkSize;if(void 0!==b){var c=void 0;try{c=new ArrayBuffer(b)}catch(f){return Promise.reject(f)}this._pendingPullIntos.push({buffer:c,
byteOffset:0,byteLength:b,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"})}a=h(a);P(this);return a}},{key:"byobRequest",get:function(){if(!1===L(this))throw ia("byobRequest");if(void 0===this._byobRequest&&0<this._pendingPullIntos.length){var a=this._pendingPullIntos[0],a=new Uint8Array(a.buffer,a.byteOffset+a.bytesFilled,a.byteLength-a.bytesFilled);this._byobRequest=new Qa(this,a)}return this._byobRequest}},{key:"desiredSize",get:function(){if(!1===L(this))throw ia("desiredSize");
return S(this)}}]);return a}()},function(a,c,d){var a=d(6),o=d(4),d=d(2);c.TransformStream=a.TransformStream;c.ReadableStream=o.ReadableStream;c.IsReadableStreamDisturbed=o.IsReadableStreamDisturbed;c.ReadableStreamDefaultControllerClose=o.ReadableStreamDefaultControllerClose;c.ReadableStreamDefaultControllerEnqueue=o.ReadableStreamDefaultControllerEnqueue;c.ReadableStreamDefaultControllerError=o.ReadableStreamDefaultControllerError;c.ReadableStreamDefaultControllerGetDesiredSize=o.ReadableStreamDefaultControllerGetDesiredSize;
c.AcquireWritableStreamDefaultWriter=d.AcquireWritableStreamDefaultWriter;c.IsWritableStream=d.IsWritableStream;c.IsWritableStreamLocked=d.IsWritableStreamLocked;c.WritableStream=d.WritableStream;c.WritableStreamAbort=d.WritableStreamAbort;c.WritableStreamDefaultControllerError=d.WritableStreamDefaultControllerError;c.WritableStreamDefaultWriterCloseWithErrorPropagation=d.WritableStreamDefaultWriterCloseWithErrorPropagation;c.WritableStreamDefaultWriterRelease=d.WritableStreamDefaultWriterRelease;
c.WritableStreamDefaultWriterWrite=d.WritableStreamDefaultWriterWrite},function(a,c,d){function o(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function r(a,b){if(!0===a._errored)throw new TypeError("TransformStream is already errored");if(!0===a._readableClosed)throw new TypeError("Readable side is already closed");var e=a._readableController;try{G(e,b)}catch(c){throw a._readableClosed=!0,s(a,c),a._storedError;}!0===0>=B(e)&&!1===a._backpressure&&w(a,!0)}function v(a){q(!1===
a._errored);q(!1===a._readableClosed);try{J(a._readableController)}catch(b){q(!1)}a._readableClosed=!0}function s(a,b){!1===a._errored&&j(a,b)}function j(a,b){q(!1===a._errored);a._errored=!0;a._storedError=b;!1===a._writableDone&&E(a._writableController,b);!1===a._readableClosed&&H(a._readableController,b)}function x(a){q(void 0!==a._backpressureChangePromise,"_backpressureChangePromise should have been initialized");if(!1===a._backpressure)return Promise.resolve();q(!0===a._backpressure,"_backpressure should have been initialized");
return a._backpressureChangePromise}function w(a,b){q(a._backpressure!==b,"TransformStreamSetBackpressure() should be called only when backpressure is changed");void 0!==a._backpressureChangePromise&&a._backpressureChangePromise_resolve(b);a._backpressureChangePromise=new Promise(function(b){a._backpressureChangePromise_resolve=b});a._backpressureChangePromise.then(function(a){q(a!==b,"_backpressureChangePromise should be fulfilled only when backpressure is changed")});a._backpressure=b}function t(a,
b){r(b._controlledTransformStream,a);return Promise.resolve()}function h(a,b){q(!1===a._errored);q(!1===a._transforming);q(!1===a._backpressure);a._transforming=!0;var e=a._transformStreamController;return u(a._transformer,"transform",[b,e],t,[b,e]).then(function(){a._transforming=!1;return x(a)},function(b){s(a,b);return Promise.reject(b)})}function f(a){return!z(a)||!Object.prototype.hasOwnProperty.call(a,"_controlledTransformStream")?!1:!0}function b(a){return!z(a)||!Object.prototype.hasOwnProperty.call(a,
"_transformStreamController")?!1:!0}function e(a){return new TypeError("TransformStreamDefaultController.prototype."+a+" can only be used on a TransformStreamDefaultController")}function k(a){return new TypeError("TransformStream.prototype."+a+" can only be used on a TransformStream")}var p=function(){function a(b,e){for(var c=0;c<e.length;c++){var f=e[c];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}return function(b,e,c){e&&a(b.prototype,
e);c&&a(b,c);return b}}(),q=d(1).assert,c=d(0),m=c.InvokeOrNoop,u=c.PromiseInvokeOrPerformFallback,n=c.PromiseInvokeOrNoop,z=c.typeIsObject,c=d(4),C=c.ReadableStream,J=c.ReadableStreamDefaultControllerClose,G=c.ReadableStreamDefaultControllerEnqueue,H=c.ReadableStreamDefaultControllerError,B=c.ReadableStreamDefaultControllerGetDesiredSize,d=d(2),y=d.WritableStream,E=d.WritableStreamDefaultControllerError,I=function(){function a(b,e){o(this,a);this._transformStream=b;this._startPromise=e}p(a,[{key:"start",
value:function(a){var b=this._transformStream;b._writableController=a;return this._startPromise.then(function(){return x(b)})}},{key:"write",value:function(a){return h(this._transformStream,a)}},{key:"abort",value:function(){var a=this._transformStream;a._writableDone=!0;j(a,new TypeError("Writable side aborted"))}},{key:"close",value:function(){var a=this._transformStream;q(!1===a._transforming);a._writableDone=!0;return n(a._transformer,"flush",[a._transformStreamController]).then(function(){if(!0===
a._errored)return Promise.reject(a._storedError);!1===a._readableClosed&&v(a);return Promise.resolve()}).catch(function(b){s(a,b);return Promise.reject(a._storedError)})}}]);return a}(),A=function(){function a(b,e){o(this,a);this._transformStream=b;this._startPromise=e}p(a,[{key:"start",value:function(a){var b=this._transformStream;b._readableController=a;return this._startPromise.then(function(){q(void 0!==b._backpressureChangePromise,"_backpressureChangePromise should have been initialized");if(!0===
b._backpressure)return Promise.resolve();q(!1===b._backpressure,"_backpressure should have been initialized");return b._backpressureChangePromise})}},{key:"pull",value:function(){var a=this._transformStream;q(!0===a._backpressure,"pull() should be never called while _backpressure is false");q(void 0!==a._backpressureChangePromise,"_backpressureChangePromise should have been initialized");w(a,!1);return a._backpressureChangePromise}},{key:"cancel",value:function(){var a=this._transformStream;a._readableClosed=
!0;j(a,new TypeError("Readable side canceled"))}}]);return a}(),M=function(){function a(e){o(this,a);if(!1===b(e))throw new TypeError("TransformStreamDefaultController can only be constructed with a TransformStream instance");if(void 0!==e._transformStreamController)throw new TypeError("TransformStreamDefaultController instances can only be created by the TransformStream constructor");this._controlledTransformStream=e}p(a,[{key:"enqueue",value:function(a){if(!1===f(this))throw e("enqueue");r(this._controlledTransformStream,
a)}},{key:"close",value:function(){if(!1===f(this))throw e("close");var a=this._controlledTransformStream;if(!0===a._errored)throw new TypeError("TransformStream is already errored");if(!0===a._readableClosed)throw new TypeError("Readable side is already closed");v(a)}},{key:"error",value:function(a){if(!1===f(this))throw e("error");var b=this._controlledTransformStream;if(!0===b._errored)throw new TypeError("TransformStream is already errored");j(b,a)}},{key:"desiredSize",get:function(){if(!1===
f(this))throw e("desiredSize");return B(this._controlledTransformStream._readableController)}}]);return a}(),d=function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};o(this,a);this._transformer=b;var e=b.readableStrategy,c=b.writableStrategy;this._errored=this._transforming=!1;this._transformStreamController=this._readableController=this._writableController=this._storedError=void 0;this._readableClosed=this._writableDone=!1;this._backpressureChangePromise_resolve=
this._backpressureChangePromise=this._backpressure=void 0;this._transformStreamController=new M(this);var f=void 0,k=new Promise(function(a){f=a}),d=new A(this,k);this._readable=new C(d,e);e=new I(this,k);this._writable=new y(e,c);q(void 0!==this._writableController);q(void 0!==this._readableController);c=B(this._readableController);w(this,0>=c);var h=this,b=m(b,"start",[h._transformStreamController]);f(b);k.catch(function(a){!1===h._errored&&(h._errored=!0,h._storedError=a)})}p(a,[{key:"readable",
get:function(){if(!1===b(this))throw k("readable");return this._readable}},{key:"writable",get:function(){if(!1===b(this))throw k("writable");return this._writable}}]);return a}();a.exports={TransformStream:d}},function(a,c,d){a.exports=d(5)}]))},function(d,c,a){function i(a){i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return i(a)}d=!1;
try{if("function"===typeof URL&&"object"===i(URL.prototype)&&"origin"in URL.prototype){var l=new URL("b","http://a");l.pathname="c%20d";d="http://a/c%20d"===l.href}}catch(g){}if(d)c.URL=URL;else{var l=a(132).URL,o=a(3).URL;o&&(l.createObjectURL=function(a){return o.createObjectURL.apply(o,arguments)},l.revokeObjectURL=function(a){o.revokeObjectURL(a)});c.URL=l}},function(d,c){(function(){function a(a){""===a&&(o.call(this),this._isInvalid=!0);return a.toLowerCase()}function d(a){var c=a.charCodeAt(0);
return 32<c&&127>c&&-1===[34,35,60,62,63,96].indexOf(c)?a:encodeURIComponent(a)}function l(a){var c=a.charCodeAt(0);return 32<c&&127>c&&-1===[34,35,60,62,96].indexOf(c)?a:encodeURIComponent(a)}function g(c,h,f){function b(a){u.push(a)}var e=h||"scheme start",k=0,p="",g=!1,m=!1,u=[];a:for(;(c[k-1]!==j||0===k)&&!this._isInvalid;){var n=c[k];switch(e){case "scheme start":if(n&&x.test(n))p+=n.toLowerCase(),e="scheme";else if(h){b("Invalid scheme.");break a}else{p="";e="no scheme";continue}break;case "scheme":if(n&&
w.test(n))p+=n.toLowerCase();else if(":"===n){this._scheme=p;p="";if(h)break a;void 0!==v[this._scheme]&&(this._isRelative=!0);e="file"===this._scheme?"relative":this._isRelative&&f&&f._scheme===this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}else if(h){n!==j&&b("Code point not allowed in scheme: "+n);break a}else{p="";k=0;e="no scheme";continue}break;case "scheme data":"?"===n?(this._query="?",e="query"):"#"===n?(this._fragment="#",e="fragment"):n!==j&&
("\t"!==n&&"\n"!==n&&"\r"!==n)&&(this._schemeData+=d(n));break;case "no scheme":if(!f||void 0===v[f._scheme])b("Missing scheme."),o.call(this),this._isInvalid=!0;else{e="relative";continue}break;case "relative or authority":if("/"===n&&"/"===c[k+1])e="authority ignore slashes";else{b("Expected /, got: "+n);e="relative";continue}break;case "relative":this._isRelative=!0;"file"!==this._scheme&&(this._scheme=f._scheme);if(n===j){this._host=f._host;this._port=f._port;this._path=f._path.slice();this._query=
f._query;this._username=f._username;this._password=f._password;break a}else if("/"===n||"\\"===n)"\\"===n&&b("\\ is an invalid code point."),e="relative slash";else if("?"===n)this._host=f._host,this._port=f._port,this._path=f._path.slice(),this._query="?",this._username=f._username,this._password=f._password,e="query";else if("#"===n)this._host=f._host,this._port=f._port,this._path=f._path.slice(),this._query=f._query,this._fragment="#",this._username=f._username,this._password=f._password,e="fragment";
else{var e=c[k+1],z=c[k+2];if("file"!==this._scheme||!x.test(n)||":"!==e&&"|"!==e||z!==j&&"/"!==z&&"\\"!==z&&"?"!==z&&"#"!==z)this._host=f._host,this._port=f._port,this._username=f._username,this._password=f._password,this._path=f._path.slice(),this._path.pop();e="relative path";continue}break;case "relative slash":if("/"===n||"\\"===n)"\\"===n&&b("\\ is an invalid code point."),e="file"===this._scheme?"file host":"authority ignore slashes";else{"file"!==this._scheme&&(this._host=f._host,this._port=
f._port,this._username=f._username,this._password=f._password);e="relative path";continue}break;case "authority first slash":if("/"===n)e="authority second slash";else{b("Expected '/', got: "+n);e="authority ignore slashes";continue}break;case "authority second slash":e="authority ignore slashes";if("/"!==n){b("Expected '/', got: "+n);continue}break;case "authority ignore slashes":if("/"!==n&&"\\"!==n){e="authority";continue}else b("Expected authority, got: "+n);break;case "authority":if("@"===n){g&&
(b("@ already seen."),p+="%40");g=!0;for(n=0;n<p.length;n++)z=p[n],"\t"===z||"\n"===z||"\r"===z?b("Invalid whitespace in authority."):":"===z&&null===this._password?this._password="":(z=d(z),null!==this._password?this._password+=z:this._username+=z);p=""}else if(n===j||"/"===n||"\\"===n||"?"===n||"#"===n){k-=p.length;p="";e="host";continue}else p+=n;break;case "file host":if(n===j||"/"===n||"\\"===n||"?"===n||"#"===n){2===p.length&&x.test(p[0])&&(":"===p[1]||"|"===p[1])?e="relative path":(0!==p.length&&
(this._host=a.call(this,p),p=""),e="relative path start");continue}else"\t"===n||"\n"===n||"\r"===n?b("Invalid whitespace in file host."):p+=n;break;case "host":case "hostname":if(":"===n&&!m){if(this._host=a.call(this,p),p="",e="port","hostname"===h)break a}else if(n===j||"/"===n||"\\"===n||"?"===n||"#"===n){this._host=a.call(this,p);p="";e="relative path start";if(h)break a;continue}else"\t"!==n&&"\n"!==n&&"\r"!==n?("["===n?m=!0:"]"===n&&(m=!1),p+=n):b("Invalid code point in host/hostname: "+n);
break;case "port":if(/[0-9]/.test(n))p+=n;else if(n===j||"/"===n||"\\"===n||"?"===n||"#"===n||h){""!==p&&(p=parseInt(p,10),p!==v[this._scheme]&&(this._port=p+""),p="");if(h)break a;e="relative path start";continue}else"\t"===n||"\n"===n||"\r"===n?b("Invalid code point in port: "+n):(o.call(this),this._isInvalid=!0);break;case "relative path start":"\\"===n&&b("'\\' not allowed in path.");e="relative path";if("/"!==n&&"\\"!==n)continue;break;case "relative path":if(n===j||"/"===n||"\\"===n||!h&&("?"===
n||"#"===n)){"\\"===n&&b("\\ not allowed in relative path.");if(z=s[p.toLowerCase()])p=z;".."===p?(this._path.pop(),"/"!==n&&"\\"!==n&&this._path.push("")):"."===p&&"/"!==n&&"\\"!==n?this._path.push(""):"."!==p&&("file"===this._scheme&&(0===this._path.length&&2===p.length&&x.test(p[0])&&"|"===p[1])&&(p=p[0]+":"),this._path.push(p));p="";"?"===n?(this._query="?",e="query"):"#"===n&&(this._fragment="#",e="fragment")}else"\t"!==n&&("\n"!==n&&"\r"!==n)&&(p+=d(n));break;case "query":!h&&"#"===n?(this._fragment=
"#",e="fragment"):n!==j&&("\t"!==n&&"\n"!==n&&"\r"!==n)&&(this._query+=l(n));break;case "fragment":n!==j&&("\t"!==n&&"\n"!==n&&"\r"!==n)&&(this._fragment+=n)}k++}}function o(){this._username=this._schemeData=this._scheme="";this._password=null;this._port=this._host="";this._path=[];this._fragment=this._query="";this._isRelative=this._isInvalid=!1}function r(a,c){void 0!==c&&!(c instanceof r)&&(c=new r(""+c));this._url=a;o.call(this);var f=a.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");g.call(this,f,
null,c)}var v=Object.create(null);v.ftp=21;v.file=0;v.gopher=70;v.http=80;v.https=443;v.ws=80;v.wss=443;var s=Object.create(null);s["%2e"]=".";s[".%2e"]="..";s["%2e."]="..";s["%2e%2e"]="..";var j,x=/[a-zA-Z]/,w=/[a-zA-Z0-9\+\-\.]/;r.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var a="";if(""!==this._username||null!==this._password)a=this._username+(null!==this._password?":"+this._password:"")+"@";return this.protocol+(this._isRelative?"//"+a+this.host:
"")+this.pathname+this._query+this._fragment},set href(a){o.call(this);g.call(this,a)},get protocol(){return this._scheme+":"},set protocol(a){this._isInvalid||g.call(this,a+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(a){!this._isInvalid&&this._isRelative&&g.call(this,a,"host")},get hostname(){return this._host},set hostname(a){!this._isInvalid&&this._isRelative&&g.call(this,a,"hostname")},get port(){return this._port},set port(a){!this._isInvalid&&
this._isRelative&&g.call(this,a,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(a){!this._isInvalid&&this._isRelative&&(this._path=[],g.call(this,a,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"===this._query?"":this._query},set search(a){!this._isInvalid&&this._isRelative&&(this._query="?","?"===a[0]&&(a=a.slice(1)),g.call(this,a,"query"))},get hash(){return this._isInvalid||!this._fragment||
"#"===this._fragment?"":this._fragment},set hash(a){this._isInvalid||(this._fragment="#","#"===a[0]&&(a=a.slice(1)),g.call(this,a,"fragment"))},get origin(){var a;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case "data":case "file":case "javascript":case "mailto":return"null";case "blob":try{return(new r(this._schemeData)).origin||"null"}catch(c){}return"null"}a=this.host;return!a?"":this._scheme+"://"+a}};c.URL=r})()},function(d,c,a){function i(a){return a&&a.__esModule?a:{"default":a}}
function l(a,b,e,c,f,k,d){try{var h=a[k](d),g=h.value}catch(p){e(p);return}h.done?b(g):Promise.resolve(g).then(c,f)}function g(a){return function(){var b=this,e=arguments;return new Promise(function(c,f){function k(a){l(h,c,f,k,d,"next",a)}function d(a){l(h,c,f,k,d,"throw",a)}var h=a.apply(b,e);k(void 0)})}}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance");}function r(a,b){var e=[],c=!0,f=!1,k=void 0;try{for(var d=a[Symbol.iterator](),h;!(c=(h=d.next()).done)&&
!(e.push(h.value),b&&e.length===b);c=!0);}catch(g){f=!0,k=g}finally{try{if(!c&&null!=d["return"])d["return"]()}finally{if(f)throw k;}}return e}function v(a){if(Array.isArray(a))return a}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance");}function j(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}function x(a){if(Array.isArray(a)){for(var b=0,e=Array(a.length);b<a.length;b++)e[b]=a[b];return e}}function w(a,
b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function t(a,b){for(var e=0;e<b.length;e++){var c=b[e];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}function h(a,b,e){b&&t(a.prototype,b);e&&t(a,e);return a}function f(a){f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?
"symbol":typeof a};return f(a)}function b(a,b,e,c){if(a.destroyed)return Promise.reject(Error("Worker was destroyed"));e&&(b.length=e.length,b.initialData=e.initialData);return a.messageHandler.sendWithPromise("GetDocRequest",{docId:c,apiVersion:"2.1.145",source:{data:b.data,url:b.url,password:b.password,disableAutoFetch:b.disableAutoFetch,rangeChunkSize:b.rangeChunkSize,length:b.length},maxImageSize:b.maxImageSize,disableFontFace:b.disableFontFace,disableCreateObjectURL:b.disableCreateObjectURL,
postMessageTransfers:a.postMessageTransfers,docBaseUrl:b.docBaseUrl,nativeImageDecoderSupport:b.nativeImageDecoderSupport,ignoreErrors:b.ignoreErrors,isEvalSupported:b.isEvalSupported}).then(function(b){if(a.destroyed)throw Error("Worker was destroyed");return b})}Object.defineProperty(c,"__esModule",{value:!0});c.getDocument=function(a){var e=new M;if("string"===typeof a)a={url:a};else if((0,k.isArrayBuffer)(a))a={data:a};else if(a instanceof L)a={range:a};else{if("object"!==f(a))throw Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");
if(!a.url&&!a.data&&!a.range)throw Error("Invalid parameter object: need either .data, .range or .url");}var c=Object.create(null),d=null,h=null,g;for(g in a)if("url"===g&&"undefined"!==typeof window)c[g]=(new k.URL(a[g],window.location)).href;else if("range"===g)d=a[g];else if("worker"===g)h=a[g];else if("data"===g&&!(a[g]instanceof Uint8Array)){var j=a[g];if("string"===typeof j)c[g]=(0,k.stringToBytes)(j);else if("object"===f(j)&&null!==j&&!isNaN(j.length))c[g]=new Uint8Array(j);else if((0,k.isArrayBuffer)(j))c[g]=
new Uint8Array(j);else throw Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");}else c[g]=a[g];c.rangeChunkSize=c.rangeChunkSize||B;c.CMapReaderFactory=c.CMapReaderFactory||p.DOMCMapReaderFactory;c.ignoreErrors=!0!==c.stopAtErrors;c.pdfBug=!0===c.pdfBug;g=Object.values(k.NativeImageDecoding);if(void 0===c.nativeImageDecoderSupport||!g.includes(c.nativeImageDecoderSupport))c.nativeImageDecoderSupport=m.apiCompatibilityParams.nativeImageDecoderSupport||
k.NativeImageDecoding.DECODE;Number.isInteger(c.maxImageSize)||(c.maxImageSize=-1);"boolean"!==typeof c.isEvalSupported&&(c.isEvalSupported=!0);"boolean"!==typeof c.disableFontFace&&(c.disableFontFace=m.apiCompatibilityParams.disableFontFace||!1);"boolean"!==typeof c.disableRange&&(c.disableRange=!1);"boolean"!==typeof c.disableStream&&(c.disableStream=!1);"boolean"!==typeof c.disableAutoFetch&&(c.disableAutoFetch=!1);"boolean"!==typeof c.disableCreateObjectURL&&(c.disableCreateObjectURL=m.apiCompatibilityParams.disableCreateObjectURL||
!1);(0,k.setVerbosityLevel)(c.verbosity);h||(g={postMessageTransfers:c.postMessageTransfers,verbosity:c.verbosity,port:z.GlobalWorkerOptions.workerPort},h=g.port?R.fromPort(g):new R(g),e._worker=h);var q=e.docId;h.promise.then(function(){if(e.destroyed)throw Error("Loading aborted");return b(h,c,d,q).then(function(a){if(e.destroyed)throw Error("Loading aborted");var b;d?b=new G.PDFDataTransportStream({length:c.length,initialData:c.initialData,disableRange:c.disableRange,disableStream:c.disableStream},
d):c.data||(b=A({url:c.url,length:c.length,httpHeaders:c.httpHeaders,withCredentials:c.withCredentials,rangeChunkSize:c.rangeChunkSize,disableRange:c.disableRange,disableStream:c.disableStream}));a=new C.MessageHandler(q,a,h.port);a.postMessageTransfers=h.postMessageTransfers;b=new T(a,e,b,c);e._transport=b;a.send("Ready",null)})}).catch(e._capability.reject);return e};c.setPDFNetworkStreamFactory=function(a){A=a};c.build=c.version=c.PDFPageProxy=c.PDFDocumentProxy=c.PDFWorker=c.PDFDataRangeTransport=
c.LoopbackPort=void 0;var e=i(a(134)),k=a(1),p=a(138),q=a(139),m=a(140),u=a(141),n=i(a(3)),z=a(143),C=a(144),J=a(145),G=a(147),H=a(148),B=65536,y=!1,E,I=null,d=!1;"undefined"===typeof window?(y=!0,"undefined"===typeof require.ensure&&(require.ensure=require("node-ensure")),d=!0):"undefined"!==typeof require&&"function"===typeof require.ensure&&(d=!0);"undefined"!==typeof requirejs&&requirejs.toUrl&&(E=requirejs.toUrl("pdfjs-dist/build/pdf.worker.js"));a="undefined"!==typeof requirejs&&requirejs.load;
I=d?function(){return new Promise(function(a,b){require.ensure([],function(){try{var e;e=require("./pdf.worker.js");a(e.WorkerMessageHandler)}catch(c){b(c)}},b,"pdfjsWorker")})}:a?function(){return new Promise(function(a,b){requirejs(["pdfjs-dist/build/pdf.worker"],function(e){try{a(e.WorkerMessageHandler)}catch(c){b(c)}},b)})}:null;!E&&"undefined"!==typeof document&&(d=document.currentScript&&document.currentScript.src)&&(E=d.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"));var A,M=function(){var a=
0;return function(){function b(){w(this,b);this._capability=(0,k.createPromiseCapability)();this._worker=this._transport=null;this.docId="d"+a++;this.destroyed=false;this.onUnsupportedFeature=this.onProgress=this.onPassword=null}h(b,[{key:"destroy",value:function(){var a=this;this.destroyed=true;return(!this._transport?Promise.resolve():this._transport.destroy()).then(function(){a._transport=null;if(a._worker){a._worker.destroy();a._worker=null}})}},{key:"then",value:function(a,b){(0,k.deprecated)("PDFDocumentLoadingTask.then method, use the `promise` getter instead.");
return this.promise.then.apply(this.promise,arguments)}},{key:"promise",get:function(){return this._capability.promise}}]);return b}()}(),L=function(){function a(b,e){w(this,a);this.length=b;this.initialData=e;this._rangeListeners=[];this._progressListeners=[];this._progressiveReadListeners=[];this._readyCapability=(0,k.createPromiseCapability)()}h(a,[{key:"addRangeListener",value:function(a){this._rangeListeners.push(a)}},{key:"addProgressListener",value:function(a){this._progressListeners.push(a)}},
{key:"addProgressiveReadListener",value:function(a){this._progressiveReadListeners.push(a)}},{key:"onDataRange",value:function(a,b){var e=true,c=false,f=void 0;try{for(var k=this._rangeListeners[Symbol.iterator](),d;!(e=(d=k.next()).done);e=true){var h=d.value;h(a,b)}}catch(g){c=true;f=g}finally{try{!e&&k.return!=null&&k.return()}finally{if(c)throw f;}}}},{key:"onDataProgress",value:function(a){var b=this;this._readyCapability.promise.then(function(){var e=true,c=false,f=void 0;try{for(var k=b._progressListeners[Symbol.iterator](),
d;!(e=(d=k.next()).done);e=true){var h=d.value;h(a)}}catch(g){c=true;f=g}finally{try{!e&&k.return!=null&&k.return()}finally{if(c)throw f;}}})}},{key:"onDataProgressiveRead",value:function(a){var b=this;this._readyCapability.promise.then(function(){var e=true,c=false,f=void 0;try{for(var k=b._progressiveReadListeners[Symbol.iterator](),d;!(e=(d=k.next()).done);e=true){var h=d.value;h(a)}}catch(g){c=true;f=g}finally{try{!e&&k.return!=null&&k.return()}finally{if(c)throw f;}}})}},{key:"transportReady",
value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(){(0,k.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]);return a}();c.PDFDataRangeTransport=L;var O=function(){function a(b,e,c){w(this,a);this.loadingTask=c;this._pdfInfo=b;this._transport=e}h(a,[{key:"getPage",value:function(a){return this._transport.getPage(a)}},{key:"getPageIndex",value:function(a){return this._transport.getPageIndex(a)}},{key:"getDestinations",
value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(a){return this._transport.getDestination(a)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getOpenActionDestination",value:function(){return this._transport.getOpenActionDestination()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},
{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function(){return this._transport.getStats()}},{key:"cleanup",value:function(){this._transport.startCleanup()}},
{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprint",get:function(){return this._pdfInfo.fingerprint}},{key:"loadingParams",get:function(){return this._transport.loadingParams}}]);return a}();c.PDFDocumentProxy=O;var P=function(){function a(b,e,c){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:false;w(this,a);this.pageIndex=b;this._pageInfo=e;this._transport=c;this._stats=f?new p.StatTimer:
p.DummyStatTimer;this._pdfBug=f;this.commonObjs=c.commonObjs;this.objs=new K;this.pendingCleanup=this.cleanupAfterRender=false;this.intentStates=Object.create(null);this.destroyed=false}h(a,[{key:"getViewport",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=a.scale,e=a.rotation,e=e===void 0?this.rotate:e,a=a.dontFlip,a=a===void 0?false:a;if(arguments.length>1||typeof arguments[0]==="number"){(0,k.deprecated)("getViewport is called with obsolete arguments.");b=arguments[0];
e=typeof arguments[1]==="number"?arguments[1]:this.rotate;a=typeof arguments[2]==="boolean"?arguments[2]:false}return new p.PageViewport({viewBox:this.view,scale:b,rotation:e,dontFlip:a})}},{key:"getAnnotations",value:function(){var a=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).intent,a=a===void 0?null:a;if(!this.annotationsPromise||this.annotationsIntent!==a){this.annotationsPromise=this._transport.getAnnotations(this.pageIndex,a);this.annotationsIntent=a}return this.annotationsPromise}},
{key:"render",value:function(a){var b=this,e=a.canvasContext,c=a.viewport,f=a.intent,d=f===void 0?"display":f,f=a.enableWebGL,f=f===void 0?false:f,h=a.renderInteractiveForms,h=h===void 0?false:h,g=a.transform,g=g===void 0?null:g,m=a.imageLayer,m=m===void 0?null:m,j=a.canvasFactory,j=j===void 0?null:j,a=a.background,a=a===void 0?null:a,z=this._stats;z.time("Overall");this.pendingCleanup=false;d=d==="print"?"print":"display";j=j||new p.DOMCanvasFactory;f=new H.WebGLContext({enable:f});this.intentStates[d]||
(this.intentStates[d]=Object.create(null));var q=this.intentStates[d];if(!q.displayReadyCapability){q.receivingOperatorList=true;q.displayReadyCapability=(0,k.createPromiseCapability)();q.operatorList={fnArray:[],argsArray:[],lastChunk:false};z.time("Page Request");this._transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1,intent:d,renderInteractiveForms:h===true})}var C=function(a){var e=q.renderTasks.indexOf(t);e>=0&&q.renderTasks.splice(e,1);if(b.cleanupAfterRender)b.pendingCleanup=
true;b._tryCleanup();a?t.capability.reject(a):t.capability.resolve();z.timeEnd("Rendering");z.timeEnd("Overall")},t=new $({callback:C,params:{canvasContext:e,viewport:c,transform:g,imageLayer:m,background:a},objs:this.objs,commonObjs:this.commonObjs,operatorList:q.operatorList,pageNumber:this.pageNumber,canvasFactory:j,webGLContext:f,useRequestAnimationFrame:d!=="print",pdfBug:this._pdfBug});if(!q.renderTasks)q.renderTasks=[];q.renderTasks.push(t);e=t.task;q.displayReadyCapability.promise.then(function(a){if(b.pendingCleanup)C();
else{z.time("Rendering");t.initializeGraphics(a);t.operatorListChanged()}}).catch(C);return e}},{key:"getOperatorList",value:function(){function a(){if(b.operatorList.lastChunk){b.opListReadCapability.resolve(b.operatorList);var c=b.renderTasks.indexOf(e);c>=0&&b.renderTasks.splice(c,1)}}this.intentStates.oplist||(this.intentStates.oplist=Object.create(null));var b=this.intentStates.oplist,e;if(!b.opListReadCapability){e={};e.operatorListChanged=a;b.receivingOperatorList=true;b.opListReadCapability=
(0,k.createPromiseCapability)();b.renderTasks=[];b.renderTasks.push(e);b.operatorList={fnArray:[],argsArray:[],lastChunk:false};this._stats.time("Page Request");this._transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageIndex,intent:"oplist"})}return b.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=a.normalizeWhitespace,a=a.disableCombineTextItems;return this._transport.messageHandler.sendWithStream("GetTextContent",
{pageIndex:this.pageNumber-1,normalizeWhitespace:(b===void 0?false:b)===true,combineTextItems:(a===void 0?false:a)!==true},{highWaterMark:100,size:function(a){return a.items.length}})}},{key:"getTextContent",value:function(){var a=this.streamTextContent(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{});return new Promise(function(b,e){function c(){f.read().then(function(a){var e,f=a.value;if(a.done)b(k);else{Object.assign(k.styles,f.styles);(e=k.items).push.apply(e,x(f.items)||j(f.items)||
s());c()}},e)}var f=a.getReader(),k={items:[],styles:Object.create(null)};c()})}},{key:"_destroy",value:function(){this.destroyed=true;this._transport.pageCache[this.pageIndex]=null;var a=[];Object.keys(this.intentStates).forEach(function(b){b!=="oplist"&&this.intentStates[b].renderTasks.forEach(function(b){var e=b.capability.promise.catch(function(){});a.push(e);b.cancel()})},this);this.objs.clear();this.annotationsPromise=null;this.pendingCleanup=false;return Promise.all(a)}},{key:"cleanup",value:function(){var a=
arguments.length>0&&arguments[0]!==void 0?arguments[0]:false;this.pendingCleanup=true;this._tryCleanup(a)}},{key:"_tryCleanup",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:false;if(this.pendingCleanup&&!Object.keys(this.intentStates).some(function(a){a=this.intentStates[a];return a.renderTasks.length!==0||a.receivingOperatorList},this)){Object.keys(this.intentStates).forEach(function(a){delete this.intentStates[a]},this);this.objs.clear();this.annotationsPromise=null;
if(a&&this._stats instanceof p.StatTimer)this._stats=new p.StatTimer;this.pendingCleanup=false}}},{key:"_startRenderPage",value:function(a,b){var e=this.intentStates[b];e.displayReadyCapability&&e.displayReadyCapability.resolve(a)}},{key:"_renderPageChunk",value:function(a,b){for(var e=this.intentStates[b],c=0,f=a.length;c<f;c++){e.operatorList.fnArray.push(a.fnArray[c]);e.operatorList.argsArray.push(a.argsArray[c])}e.operatorList.lastChunk=a.lastChunk;for(c=0;c<e.renderTasks.length;c++)e.renderTasks[c].operatorListChanged();
if(a.lastChunk){e.receivingOperatorList=false;this._tryCleanup()}}},{key:"pageNumber",get:function(){return this.pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"stats",get:function(){return this._stats instanceof p.StatTimer?this._stats:null}}]);return a}();c.PDFPageProxy=P;var N=function(){function a(){var b=
arguments.length>0&&arguments[0]!==void 0?arguments[0]:true;w(this,a);this._listeners=[];this._defer=b;this._deferred=Promise.resolve(void 0)}h(a,[{key:"postMessage",value:function(a,b){function e(a){if(f(a)!=="object"||a===null)return a;if(d.has(a))return d.get(a);var c;if((c=a.buffer)&&(0,k.isArrayBuffer)(c)){var h=b&&b.includes(c);c=a===c?a:h?new a.constructor(c,a.byteOffset,a.byteLength):new a.constructor(a);d.set(a,c);return c}c=Array.isArray(a)?[]:{};d.set(a,c);for(h in a){for(var g=void 0,
p=a;!(g=Object.getOwnPropertyDescriptor(p,h));)p=Object.getPrototypeOf(p);typeof g.value==="undefined"||typeof g.value==="function"||(c[h]=e(g.value))}return c}var c=this;if(this._defer){var d=new WeakMap,h={data:e(a)};this._deferred.then(function(){c._listeners.forEach(function(a){a.call(this,h)},c)})}else this._listeners.forEach(function(b){b.call(this,{data:a})},this)}},{key:"addEventListener",value:function(a,b){this._listeners.push(b)}},{key:"removeEventListener",value:function(a,b){this._listeners.splice(this._listeners.indexOf(b),
1)}},{key:"terminate",value:function(){this._listeners=[]}}]);return a}();c.LoopbackPort=N;var R=function(){function a(){if(z.GlobalWorkerOptions.workerSrc)return z.GlobalWorkerOptions.workerSrc;if(typeof E!=="undefined")return E;throw Error('No "GlobalWorkerOptions.workerSrc" specified.');}function b(){try{if(typeof window!=="undefined")return window.pdfjsWorker&&window.pdfjsWorker.WorkerMessageHandler}catch(a){}return null}function e(){if(g)return g.promise;g=(0,k.createPromiseCapability)();var c=
b();if(c){g.resolve(c);return g.promise}(I||function(){return(0,p.loadScript)(a()).then(function(){return window.pdfjsWorker.WorkerMessageHandler})})().then(g.resolve,g.reject);return g.promise}function c(a){return k.URL.createObjectURL(new Blob(["importScripts('"+a+"');"]))}var f=new WeakMap,d=0,g;return function(){function g(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=a.name,b=b===void 0?null:b,e=a.port,e=e===void 0?null:e,c=a.postMessageTransfers,c=c===void 0?true:c,a=a.verbosity,
a=a===void 0?(0,k.getVerbosityLevel)():a;w(this,g);if(e&&f.has(e))throw Error("Cannot use more than one PDFWorker per port");this.name=b;this.destroyed=false;this.postMessageTransfers=c!==false;this.verbosity=a;this._readyCapability=(0,k.createPromiseCapability)();this._messageHandler=this._webWorker=this._port=null;if(e){f.set(e,this);this._initializeFromPort(e)}else this._initialize()}h(g,[{key:"_initializeFromPort",value:function(a){this._port=a;this._messageHandler=new C.MessageHandler("main",
"worker",a);this._messageHandler.on("ready",function(){});this._readyCapability.resolve()}},{key:"_initialize",value:function(){var e=this;if(typeof Worker!=="undefined"&&!y&&!b()){var f=a();try{if(!(0,k.isSameOrigin)(window.location.href,f))f=c((new k.URL(f,window.location)).href);var d=new Worker(f),h=new C.MessageHandler("main","worker",d),g=function(){d.removeEventListener("error",p);h.destroy();d.terminate();e.destroyed?e._readyCapability.reject(Error("Worker was destroyed")):e._setupFakeWorker()},
p=function(){e._webWorker||g()};d.addEventListener("error",p);h.on("test",function(a){d.removeEventListener("error",p);if(e.destroyed)g();else if(a&&a.supportTypedArray){e._messageHandler=h;e._port=d;e._webWorker=d;if(!a.supportTransfers)e.postMessageTransfers=false;e._readyCapability.resolve();h.send("configure",{verbosity:e.verbosity})}else{e._setupFakeWorker();h.destroy();d.terminate()}});h.on("ready",function(){d.removeEventListener("error",p);if(e.destroyed)g();else try{m()}catch(a){e._setupFakeWorker()}});
var m=function(){var a=new Uint8Array([e.postMessageTransfers?255:0]);try{h.send("test",a,[a.buffer])}catch(b){(0,k.info)("Cannot use postMessage transfers");a[0]=0;h.send("test",a)}};m();return}catch(j){(0,k.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var a=this;if(!y){(0,k.warn)("Setting up fake worker.");y=true}e().then(function(b){if(a.destroyed)a._readyCapability.reject(Error("Worker was destroyed"));else{var e=new N;a._port=e;var c=
"fake"+d++,f=new C.MessageHandler(c+"_worker",c,e);b.setup(f,e);b=new C.MessageHandler(c,c+"_worker",e);a._messageHandler=b;a._readyCapability.resolve()}}).catch(function(b){a._readyCapability.reject(Error('Setting up fake worker failed: "'.concat(b.message,'".')))})}},{key:"destroy",value:function(){this.destroyed=true;if(this._webWorker){this._webWorker.terminate();this._webWorker=null}f.delete(this._port);this._port=null;if(this._messageHandler){this._messageHandler.destroy();this._messageHandler=
null}}},{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}}],[{key:"fromPort",value:function(a){if(!a||!a.port)throw Error("PDFWorker.fromPort - invalid method signature.");return f.has(a.port)?f.get(a.port):new g(a)}},{key:"getWorkerSrc",value:function(){return a()}}]);return g}()}();c.PDFWorker=R;var T=function(){function a(b,e,c,f){w(this,a);this.messageHandler=b;this.loadingTask=
e;this.commonObjs=new K;this.fontLoader=new q.FontLoader(e.docId);this._params=f;this.CMapReaderFactory=new f.CMapReaderFactory({baseUrl:f.cMapUrl,isCompressed:f.cMapPacked});this.destroyed=false;this._passwordCapability=this.destroyCapability=null;this._networkStream=c;this._lastProgress=this._fullReader=null;this.pageCache=[];this.pagePromises=[];this.downloadInfoCapability=(0,k.createPromiseCapability)();this.setupMessageHandler()}h(a,[{key:"destroy",value:function(){var a=this;if(this.destroyCapability)return this.destroyCapability.promise;
this.destroyed=true;this.destroyCapability=(0,k.createPromiseCapability)();this._passwordCapability&&this._passwordCapability.reject(Error("Worker was destroyed during onPassword callback"));var b=[];this.pageCache.forEach(function(a){a&&b.push(a._destroy())});this.pageCache=[];this.pagePromises=[];var e=this.messageHandler.sendWithPromise("Terminate",null);b.push(e);Promise.all(b).then(function(){a.fontLoader.clear();a._networkStream&&a._networkStream.cancelAllRequests();if(a.messageHandler){a.messageHandler.destroy();
a.messageHandler=null}a.destroyCapability.resolve()},this.destroyCapability.reject);return this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var a=this.messageHandler,b=this.loadingTask;a.on("GetReader",function(a,b){var e=this;(0,k.assert)(this._networkStream);this._fullReader=this._networkStream.getFullReader();this._fullReader.onProgress=function(a){e._lastProgress={loaded:a.loaded,total:a.total}};b.onPull=function(){e._fullReader.read().then(function(a){var e=a.value;
if(a.done)b.close();else{(0,k.assert)((0,k.isArrayBuffer)(e));b.enqueue(new Uint8Array(e),1,[e])}}).catch(function(a){b.error(a)})};b.onCancel=function(a){e._fullReader.cancel(a)}},this);a.on("ReaderHeadersReady",function(){var a=this,e=(0,k.createPromiseCapability)(),c=this._fullReader;c.headersReady.then(function(){if(!c.isStreamingSupported||!c.isRangeSupported){if(a._lastProgress&&b.onProgress)b.onProgress(a._lastProgress);c.onProgress=function(a){if(b.onProgress)b.onProgress({loaded:a.loaded,
total:a.total})}}e.resolve({isStreamingSupported:c.isStreamingSupported,isRangeSupported:c.isRangeSupported,contentLength:c.contentLength})},e.reject);return e.promise},this);a.on("GetRangeReader",function(a,b){(0,k.assert)(this._networkStream);var e=this._networkStream.getRangeReader(a.begin,a.end);b.onPull=function(){e.read().then(function(a){var e=a.value;if(a.done)b.close();else{(0,k.assert)((0,k.isArrayBuffer)(e));b.enqueue(new Uint8Array(e),1,[e])}}).catch(function(a){b.error(a)})};b.onCancel=
function(a){e.cancel(a)}},this);a.on("GetDoc",function(a){a=a.pdfInfo;this.numPages=a.numPages;this.pdfDocument=new O(a,this,b);b._capability.resolve(this.pdfDocument)},this);a.on("PasswordRequest",function(a){var e=this;this._passwordCapability=(0,k.createPromiseCapability)();if(b.onPassword){var c=function(a){e._passwordCapability.resolve({password:a})};try{b.onPassword(c,a.code)}catch(f){this._passwordCapability.reject(f)}}else this._passwordCapability.reject(new k.PasswordException(a.message,
a.code));return this._passwordCapability.promise},this);a.on("PasswordException",function(a){b._capability.reject(new k.PasswordException(a.message,a.code))},this);a.on("InvalidPDF",function(a){b._capability.reject(new k.InvalidPDFException(a.message))},this);a.on("MissingPDF",function(a){b._capability.reject(new k.MissingPDFException(a.message))},this);a.on("UnexpectedResponse",function(a){b._capability.reject(new k.UnexpectedResponseException(a.message,a.status))},this);a.on("UnknownError",function(a){b._capability.reject(new k.UnknownErrorException(a.message,
a.details))},this);a.on("DataLoaded",function(a){if(b.onProgress)b.onProgress({loaded:a.length,total:a.length});this.downloadInfoCapability.resolve(a)},this);a.on("StartRenderPage",function(a){if(!this.destroyed){var b=this.pageCache[a.pageIndex];b._stats.timeEnd("Page Request");b._startRenderPage(a.transparency,a.intent)}},this);a.on("RenderPageChunk",function(a){this.destroyed||this.pageCache[a.pageIndex]._renderPageChunk(a.operatorList,a.intent)},this);a.on("commonobj",function(a){var b=this;if(!this.destroyed){var a=
v(a)||r(a,3)||o(),e=a[0],c=a[1],a=a[2];if(!this.commonObjs.has(e))switch(c){case "Font":c=this._params;if("error"in a){a=a.error;(0,k.warn)("Error during font loading: ".concat(a));this.commonObjs.resolve(e,a);break}var f=null;c.pdfBug&&(n.default.FontInspector&&n.default.FontInspector.enabled)&&(f={registerFont:function(a,b){n.default.FontInspector.fontAdded(a,b)}});var d=new q.FontFaceObject(a,{isEvalSupported:c.isEvalSupported,disableFontFace:c.disableFontFace,ignoreErrors:c.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),
fontRegistry:f});this.fontLoader.bind([d],function(){b.commonObjs.resolve(e,d)});break;case "FontPath":this.commonObjs.resolve(e,a);break;default:throw Error("Got unknown common object type ".concat(c));}}},this);a.on("obj",function(a){if(!this.destroyed){var a=v(a)||r(a,4)||o(),b=a[0],e=a[2],c=a[3],f=this.pageCache[a[1]];if(!f.objs.has(b))switch(e){case "JpegStream":return(new Promise(function(a,b){var e=new Image;e.onload=function(){a(e)};e.onerror=function(){b(Error("Error during JPEG image loading"))};
e.src=c})).then(function(a){f.objs.resolve(b,a)});case "Image":f.objs.resolve(b,c);if(c&&"data"in c&&c.data.length>8E6)f.cleanupAfterRender=true;break;default:throw Error("Got unknown object type ".concat(e));}}},this);a.on("DocProgress",function(a){if(!this.destroyed&&b.onProgress)b.onProgress({loaded:a.loaded,total:a.total})},this);a.on("PageError",function(a){if(!this.destroyed){var b=this.pageCache[a.pageNum-1].intentStates[a.intent];if(b.displayReadyCapability)b.displayReadyCapability.reject(a.error);
else throw Error(a.error);if(b.operatorList){b.operatorList.lastChunk=true;for(a=0;a<b.renderTasks.length;a++)b.renderTasks[a].operatorListChanged()}}},this);a.on("UnsupportedFeature",this._onUnsupportedFeature,this);a.on("JpegDecode",function(a){if(this.destroyed)return Promise.reject(Error("Worker was destroyed"));if(typeof document==="undefined")return Promise.reject(Error('"document" is not defined.'));var a=v(a)||r(a,2)||o(),b=a[0],e=a[1];return e!==3&&e!==1?Promise.reject(Error("Only 3 components or 1 component can be returned")):
new Promise(function(a,c){var f=new Image;f.onload=function(){var b=f.width,c=f.height,k=b*c,d=k*4,k=new Uint8ClampedArray(k*e),h=document.createElement("canvas");h.width=b;h.height=c;h=h.getContext("2d");h.drawImage(f,0,0);h=h.getImageData(0,0,b,c).data;if(e===3)for(var g=0,p=0;g<d;g=g+4,p=p+3){k[p]=h[g];k[p+1]=h[g+1];k[p+2]=h[g+2]}else if(e===1)for(p=g=0;g<d;g=g+4,p++)k[p]=h[g];a({data:k,width:b,height:c})};f.onerror=function(){c(Error("JpegDecode failed to load image"))};f.src=b})},this);a.on("FetchBuiltInCMap",
function(a){return this.destroyed?Promise.reject(Error("Worker was destroyed")):this.CMapReaderFactory.fetch({name:a.name})},this)}},{key:"_onUnsupportedFeature",value:function(a){a=a.featureId;if(!this.destroyed&&this.loadingTask.onUnsupportedFeature)this.loadingTask.onUnsupportedFeature(a)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(a){var b=this;if(!Number.isInteger(a)||a<=0||a>this.numPages)return Promise.reject(Error("Invalid page request"));
var e=a-1;if(e in this.pagePromises)return this.pagePromises[e];a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(function(a){if(b.destroyed)throw Error("Transport destroyed");a=new P(e,a,b,b._params.pdfBug);return b.pageCache[e]=a});return this.pagePromises[e]=a}},{key:"getPageIndex",value:function(a){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:a}).catch(function(a){return Promise.reject(Error(a))})}},{key:"getAnnotations",value:function(a,b){return this.messageHandler.sendWithPromise("GetAnnotations",
{pageIndex:a,intent:b})}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(a){return typeof a!=="string"?Promise.reject(Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:a})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",
null)}},{key:"getOpenActionDestination",value:function(){return this.messageHandler.sendWithPromise("getOpenActionDestination",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",
null)}},{key:"getMetadata",value:function(){var a=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(b){return{info:b[0],metadata:b[1]?new J.Metadata(b[1]):null,contentDispositionFilename:a._fullReader?a._fullReader.filename:null}})}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:function(){var a=this;this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var b=0,e=a.pageCache.length;b<
e;b++){var c=a.pageCache[b];c&&c.cleanup()}a.commonObjs.clear();a.fontLoader.clear()})}},{key:"loadingParams",get:function(){var a=this._params;return(0,k.shadow)(this,"loadingParams",{disableAutoFetch:a.disableAutoFetch,disableCreateObjectURL:a.disableCreateObjectURL,disableFontFace:a.disableFontFace,nativeImageDecoderSupport:a.nativeImageDecoderSupport})}}]);return a}(),K=function(){function a(){w(this,a);this._objs=Object.create(null)}h(a,[{key:"_ensureObj",value:function(a){return this._objs[a]?
this._objs[a]:this._objs[a]={capability:(0,k.createPromiseCapability)(),data:null,resolved:false}}},{key:"get",value:function(a){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(b){this._ensureObj(a).capability.promise.then(b);return null}b=this._objs[a];if(!b||!b.resolved)throw Error("Requesting object that isn't resolved yet ".concat(a,"."));return b.data}},{key:"has",value:function(a){return(a=this._objs[a])?a.resolved:false}},{key:"resolve",value:function(a,b){var e=this._ensureObj(a);
e.resolved=true;e.data=b;e.capability.resolve(b)}},{key:"clear",value:function(){this._objs=Object.create(null)}}]);return a}(),Z=function(){function a(b){w(this,a);this._internalRenderTask=b;this.onContinue=null}h(a,[{key:"cancel",value:function(){this._internalRenderTask.cancel()}},{key:"then",value:function(a,b){(0,k.deprecated)("RenderTask.then method, use the `promise` getter instead.");return this.promise.then.apply(this.promise,arguments)}},{key:"promise",get:function(){return this._internalRenderTask.capability.promise}}]);
return a}(),$=function(){var a=new WeakSet;return function(){function b(a){var e=a.callback,c=a.params,f=a.objs,d=a.commonObjs,h=a.operatorList,g=a.pageNumber,p=a.canvasFactory,m=a.webGLContext,j=a.useRequestAnimationFrame,j=j===void 0?false:j,a=a.pdfBug,a=a===void 0?false:a;w(this,b);this.callback=e;this.params=c;this.objs=f;this.commonObjs=d;this.operatorListIdx=null;this.operatorList=h;this.pageNumber=g;this.canvasFactory=p;this.webGLContext=m;this._pdfBug=a;this.running=false;this.graphicsReadyCallback=
null;this.graphicsReady=false;this._useRequestAnimationFrame=j===true&&typeof window!=="undefined";this.cancelled=false;this.capability=(0,k.createPromiseCapability)();this.task=new Z(this);this._continueBound=this._continue.bind(this);this._scheduleNextBound=this._scheduleNext.bind(this);this._nextBound=this._next.bind(this);this._canvas=c.canvasContext.canvas}h(b,[{key:"initializeGraphics",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:false;if(!this.cancelled){if(this._canvas){if(a.has(this._canvas))throw Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");
a.add(this._canvas)}if(this._pdfBug&&n.default.StepperManager&&n.default.StepperManager.enabled){this.stepper=n.default.StepperManager.create(this.pageNumber-1);this.stepper.init(this.operatorList);this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint()}var e=this.params,c=e.viewport,f=e.transform,k=e.background;this.gfx=new u.CanvasGraphics(e.canvasContext,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,e.imageLayer);this.gfx.beginDrawing({transform:f,viewport:c,transparency:b,
background:k});this.operatorListIdx=0;this.graphicsReady=true;this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){this.running=false;this.cancelled=true;this.gfx&&this.gfx.endDrawing();this._canvas&&a.delete(this._canvas);this.callback(new p.RenderingCancelledException("Rendering cancelled, page "+this.pageNumber,"canvas"))}},{key:"operatorListChanged",value:function(){if(this.graphicsReady){this.stepper&&this.stepper.updateOperatorList(this.operatorList);this.running||
this._continue()}else if(!this.graphicsReadyCallback)this.graphicsReadyCallback=this._continueBound}},{key:"_continue",value:function(){this.running=true;if(!this.cancelled)if(this.task.onContinue)this.task.onContinue(this._scheduleNextBound);else this._scheduleNext()}},{key:"_scheduleNext",value:function(){var a=this;this._useRequestAnimationFrame?window.requestAnimationFrame(function(){a._nextBound().catch(a.callback)}):Promise.resolve().then(this._nextBound).catch(this.callback)}},{key:"_next",
value:function(){var b=g(e.default.mark(function Q(){return e.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!this.cancelled){b.next=2;break}return b.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper);if(this.operatorListIdx===this.operatorList.argsArray.length){this.running=false;if(this.operatorList.lastChunk){this.gfx.endDrawing();this._canvas&&a.delete(this._canvas);this.callback()}}case 4:case "end":return b.stop()}},
Q,this)}));return function(){return b.apply(this,arguments)}}()}]);return b}()}();c.version="2.1.145";c.build="d8f201ea"},function(d,c,a){d.exports=a(135)},function(d,c,a){function i(a){i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return i(a)}var c=function(){return this||"object"===("undefined"===typeof self?"undefined":i(self))&&self}()||
Function("return this")(),l=c.regeneratorRuntime&&0<=Object.getOwnPropertyNames(c).indexOf("regeneratorRuntime"),g=l&&c.regeneratorRuntime;c.regeneratorRuntime=void 0;d.exports=a(136);if(l)c.regeneratorRuntime=g;else try{delete c.regeneratorRuntime}catch(o){c.regeneratorRuntime=void 0}},function(d,c,a){(function(a){function c(a){c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==
Symbol.prototype?"symbol":typeof a};return c(a)}!function(d){function o(a,b,c,f){b=Object.create((b&&b.prototype instanceof v?b:v).prototype);f=new e(f||[]);b._invoke=t(a,c,f);return b}function r(a,b,e){try{return{type:"normal",arg:a.call(b,e)}}catch(c){return{type:"throw",arg:c}}}function v(){}function s(){}function j(){}function x(a){["next","throw","return"].forEach(function(b){a[b]=function(a){return this._invoke(b,a)}})}function w(a){function b(e,f,k,d){e=r(a[e],a,f);if("throw"===e.type)d(e.arg);
else{var h=e.arg;return(e=h.value)&&"object"===c(e)&&m.call(e,"__await")?Promise.resolve(e.__await).then(function(a){b("next",a,k,d)},function(a){b("throw",a,k,d)}):Promise.resolve(e).then(function(a){h.value=a;k(h)},function(a){return b("throw",a,k,d)})}}var e;this._invoke=function(a,c){function f(){return new Promise(function(e,f){b(a,c,e,f)})}return e=e?e.then(f,f):f()}}function t(a,b,e){var c=H;return function(f,k){if(c===y)throw Error("Generator is already running");if(c===E){if("throw"===f)throw k;
return p()}e.method=f;for(e.arg=k;;){var d=e.delegate;if(d&&(d=h(d,e))){if(d===I)continue;return d}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(c===H)throw c=E,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);c=y;d=r(a,b,e);if("normal"===d.type){if(c=e.done?E:B,d.arg!==I)return{value:d.arg,done:e.done}}else"throw"===d.type&&(c=E,e.method="throw",e.arg=d.arg)}}}function h(a,b){var e=a.iterator[b.method];if(e===u){b.delegate=null;if("throw"===
b.method){if(a.iterator.return&&(b.method="return",b.arg=u,h(a,b),"throw"===b.method))return I;b.method="throw";b.arg=new TypeError("The iterator does not provide a 'throw' method")}return I}e=r(e,a.iterator,b.arg);if("throw"===e.type)return b.method="throw",b.arg=e.arg,b.delegate=null,I;e=e.arg;if(!e)return b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,I;if(e.done)b[a.resultName]=e.value,b.next=a.nextLoc,"return"!==b.method&&(b.method="next",b.arg=u);else return e;
b.delegate=null;return I}function f(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]);2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]);this.tryEntries.push(b)}function b(a){var b=a.completion||{};b.type="normal";delete b.arg;a.completion=b}function e(a){this.tryEntries=[{tryLoc:"root"}];a.forEach(f,this);this.reset(!0)}function k(a){if(a){var b=a[z];if(b)return b.call(a);if("function"===typeof a.next)return a;if(!isNaN(a.length)){var e=-1,b=function N(){for(;++e<a.length;)if(m.call(a,e))return N.value=
a[e],N.done=!1,N;N.value=u;N.done=!0;return N};return b.next=b}}return{next:p}}function p(){return{value:u,done:!0}}var q=Object.prototype,m=q.hasOwnProperty,u,n="function"===typeof Symbol?Symbol:{},z=n.iterator||"@@iterator",C=n.asyncIterator||"@@asyncIterator",J=n.toStringTag||"@@toStringTag",n="object"===c(a),G=d.regeneratorRuntime;if(G)n&&(a.exports=G);else{G=d.regeneratorRuntime=n?a.exports:{};G.wrap=o;var H="suspendedStart",B="suspendedYield",y="executing",E="completed",I={},d={};d[z]=function(){return this};
(n=(n=Object.getPrototypeOf)&&n(n(k([]))))&&(n!==q&&m.call(n,z))&&(d=n);var A=j.prototype=v.prototype=Object.create(d);s.prototype=A.constructor=j;j.constructor=s;j[J]=s.displayName="GeneratorFunction";G.isGeneratorFunction=function(a){return(a="function"===typeof a&&a.constructor)?a===s||"GeneratorFunction"===(a.displayName||a.name):!1};G.mark=function(a){Object.setPrototypeOf?Object.setPrototypeOf(a,j):(a.__proto__=j,J in a||(a[J]="GeneratorFunction"));a.prototype=Object.create(A);return a};G.awrap=
function(a){return{__await:a}};x(w.prototype);w.prototype[C]=function(){return this};G.AsyncIterator=w;G.async=function(a,b,e,c){var f=new w(o(a,b,e,c));return G.isGeneratorFunction(b)?f:f.next().then(function(a){return a.done?a.value:f.next()})};x(A);A[J]="Generator";A[z]=function(){return this};A.toString=function(){return"[object Generator]"};G.keys=function(a){var b=[],e;for(e in a)b.push(e);b.reverse();return function N(){for(;b.length;){var e=b.pop();if(e in a)return N.value=e,N.done=!1,N}N.done=
!0;return N}};G.values=k;e.prototype={constructor:e,reset:function(a){this.next=this.prev=0;this.sent=this._sent=u;this.done=!1;this.delegate=null;this.method="next";this.arg=u;this.tryEntries.forEach(b);if(!a)for(var e in this)"t"===e.charAt(0)&&(m.call(this,e)&&!isNaN(+e.slice(1)))&&(this[e]=u)},stop:function(){this.done=!0;var a=this.tryEntries[0].completion;if("throw"===a.type)throw a.arg;return this.rval},dispatchException:function(a){function b(c,f){k.type="throw";k.arg=a;e.next=c;f&&(e.method=
"next",e.arg=u);return!!f}if(this.done)throw a;for(var e=this,c=this.tryEntries.length-1;0<=c;--c){var f=this.tryEntries[c],k=f.completion;if("root"===f.tryLoc)return b("end");if(f.tryLoc<=this.prev){var d=m.call(f,"catchLoc"),h=m.call(f,"finallyLoc");if(d&&h){if(this.prev<f.catchLoc)return b(f.catchLoc,!0);if(this.prev<f.finallyLoc)return b(f.finallyLoc)}else if(d){if(this.prev<f.catchLoc)return b(f.catchLoc,!0)}else if(h){if(this.prev<f.finallyLoc)return b(f.finallyLoc)}else throw Error("try statement without catch or finally");
}}},abrupt:function(a,b){for(var e=this.tryEntries.length-1;0<=e;--e){var c=this.tryEntries[e];if(c.tryLoc<=this.prev&&m.call(c,"finallyLoc")&&this.prev<c.finallyLoc){var f=c;break}}if(f&&("break"===a||"continue"===a)&&f.tryLoc<=b&&b<=f.finallyLoc)f=null;e=f?f.completion:{};e.type=a;e.arg=b;return f?(this.method="next",this.next=f.finallyLoc,I):this.complete(e)},complete:function(a,b){if("throw"===a.type)throw a.arg;"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=
this.arg=a.arg,this.method="return",this.next="end"):"normal"===a.type&&b&&(this.next=b);return I},finish:function(a){for(var e=this.tryEntries.length-1;0<=e;--e){var c=this.tryEntries[e];if(c.finallyLoc===a)return this.complete(c.completion,c.afterLoc),b(c),I}},"catch":function(a){for(var e=this.tryEntries.length-1;0<=e;--e){var c=this.tryEntries[e];if(c.tryLoc===a){a=c.completion;if("throw"===a.type){var f=a.arg;b(c)}return f}}throw Error("illegal catch attempt");},delegateYield:function(a,b,e){this.delegate=
{iterator:k(a),resultName:b,nextLoc:e};"next"===this.method&&(this.arg=u);return I}}}}(function(){return this||"object"===("undefined"===typeof self?"undefined":c(self))&&self}()||Function("return this")())}).call(this,a(137)(d))},function(d){d.exports=function(c){c.webpackPolyfill||(c.deprecate=function(){},c.paths=[],c.children||(c.children=[]),Object.defineProperty(c,"loaded",{enumerable:!0,get:function(){return c.l}}),Object.defineProperty(c,"id",{enumerable:!0,get:function(){return c.i}}),c.webpackPolyfill=
1);return c}},function(d,c,a){function i(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function l(a,c){for(var d=0;d<c.length;d++){var g=c[d];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(a,g.key,g)}}function g(a,c,d){c&&l(a.prototype,c);d&&l(a,d);return a}Object.defineProperty(c,"__esModule",{value:!0});c.addLinkAttributes=function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=c.url,
g=c.target,c=c.rel;a.href=a.title=d?(0,o.removeNullCharacters)(d):"";d&&(d=Object.values(v).includes(g)?g:v.NONE,a.target=s[d],a.rel="string"===typeof c?c:r)};c.getFilenameFromUrl=function(a){var c=a.indexOf("#"),d=a.indexOf("?"),c=Math.min(0<c?c:a.length,0<d?d:a.length);return a.substring(a.lastIndexOf("/",c)+1,c)};c.loadScript=function(a){return new Promise(function(c,d){var g=document.createElement("script");g.src=a;g.onload=c;g.onerror=function(){d(Error("Cannot load script at: ".concat(g.src)))};
(document.head||document.documentElement).appendChild(g)})};c.DummyStatTimer=c.StatTimer=c.DOMSVGFactory=c.DOMCMapReaderFactory=c.DOMCanvasFactory=c.DEFAULT_LINK_REL=c.LinkTarget=c.RenderingCancelledException=c.PageViewport=void 0;var o=a(1),r="noopener noreferrer nofollow";c.DEFAULT_LINK_REL=r;d=function(){function a(){i(this,a)}g(a,[{key:"create",value:function(a,c){if(0>=a||0>=c)throw Error("invalid canvas size");var d=document.createElement("canvas"),h=d.getContext("2d");d.width=a;d.height=c;
return{canvas:d,context:h}}},{key:"reset",value:function(a,c,d){if(!a.canvas)throw Error("canvas is not specified");if(0>=c||0>=d)throw Error("invalid canvas size");a.canvas.width=c;a.canvas.height=d}},{key:"destroy",value:function(a){if(!a.canvas)throw Error("canvas is not specified");a.canvas.width=0;a.canvas.height=0;a.canvas=null;a.context=null}}]);return a}();c.DOMCanvasFactory=d;d=function(){function a(c){var d=c.baseUrl,d=void 0===d?null:d,c=c.isCompressed,c=void 0===c?!1:c;i(this,a);this.baseUrl=
d;this.isCompressed=c}g(a,[{key:"fetch",value:function(a){var c=this,d=a.name;return!this.baseUrl?Promise.reject(Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.')):!d?Promise.reject(Error("CMap name must be specified.")):new Promise(function(a,f){var b=c.baseUrl+d+(c.isCompressed?".bcmap":""),e=new XMLHttpRequest;e.open("GET",b,!0);c.isCompressed&&(e.responseType="arraybuffer");e.onreadystatechange=function(){if(e.readyState===
XMLHttpRequest.DONE){if(e.status===200||e.status===0){var d;c.isCompressed&&e.response?d=new Uint8Array(e.response):!c.isCompressed&&e.responseText&&(d=(0,o.stringToBytes)(e.responseText));if(d){a({cMapData:d,compressionType:c.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE});return}}f(Error("Unable to load "+(c.isCompressed?"binary ":"")+"CMap at: "+b))}};e.send(null)})}}]);return a}();c.DOMCMapReaderFactory=d;d=function(){function a(){i(this,a)}g(a,[{key:"create",value:function(a,
c){(0,o.assert)(0<a&&0<c,"Invalid SVG dimensions");var d=document.createElementNS("http://www.w3.org/2000/svg","svg:svg");d.setAttribute("version","1.1");d.setAttribute("width",a+"px");d.setAttribute("height",c+"px");d.setAttribute("preserveAspectRatio","none");d.setAttribute("viewBox","0 0 "+a+" "+c);return d}},{key:"createElement",value:function(a){(0,o.assert)("string"===typeof a,"Invalid SVG element type");return document.createElementNS("http://www.w3.org/2000/svg",a)}}]);return a}();c.DOMSVGFactory=
d;d=function(){function a(c){var d=c.viewBox,g=c.scale,h=c.rotation,f=c.offsetX,b=void 0===f?0:f,f=c.offsetY,e=void 0===f?0:f,c=c.dontFlip,k=void 0===c?!1:c;i(this,a);this.viewBox=d;this.scale=g;this.rotation=h;this.offsetX=b;this.offsetY=e;var c=(d[2]+d[0])/2,f=(d[3]+d[1])/2,p,q,m,h=h%360;switch(0>h?h+360:h){case 180:h=-1;q=p=0;m=1;break;case 90:h=0;q=p=1;m=0;break;case 270:h=0;q=p=-1;m=0;break;default:h=1,q=p=0,m=-1}k&&(q=-q,m=-m);0===h?(b=Math.abs(f-d[1])*g+b,e=Math.abs(c-d[0])*g+e,k=Math.abs(d[3]-
d[1])*g,d=Math.abs(d[2]-d[0])*g):(b=Math.abs(c-d[0])*g+b,e=Math.abs(f-d[1])*g+e,k=Math.abs(d[2]-d[0])*g,d=Math.abs(d[3]-d[1])*g);this.transform=[h*g,p*g,q*g,m*g,b-h*g*c-q*g*f,e-p*g*c-m*g*f];this.width=k;this.height=d}g(a,[{key:"clone",value:function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},d=c.scale,d=void 0===d?this.scale:d,g=c.rotation,g=void 0===g?this.rotation:g,c=c.dontFlip,c=void 0===c?!1:c;return new a({viewBox:this.viewBox.slice(),scale:d,rotation:g,offsetX:this.offsetX,
offsetY:this.offsetY,dontFlip:c})}},{key:"convertToViewportPoint",value:function(a,c){return o.Util.applyTransform([a,c],this.transform)}},{key:"convertToViewportRectangle",value:function(a){var c=o.Util.applyTransform([a[0],a[1]],this.transform),a=o.Util.applyTransform([a[2],a[3]],this.transform);return[c[0],c[1],a[0],a[1]]}},{key:"convertToPdfPoint",value:function(a,c){return o.Util.applyInverseTransform([a,c],this.transform)}}]);return a}();c.PageViewport=d;d=function(){function a(c,d){this.message=
c;this.type=d}a.prototype=Error();a.prototype.name="RenderingCancelledException";return a.constructor=a}();c.RenderingCancelledException=d;var v={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};c.LinkTarget=v;var s=["","_self","_blank","_parent","_top"],d=function(){function a(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!0;i(this,a);this.enabled=!!c;this.started=Object.create(null);this.times=[]}g(a,[{key:"time",value:function(a){this.enabled&&(a in this.started&&(0,o.warn)("Timer is already running for "+
a),this.started[a]=Date.now())}},{key:"timeEnd",value:function(a){this.enabled&&(a in this.started||(0,o.warn)("Timer has not been started for "+a),this.times.push({name:a,start:this.started[a],end:Date.now()}),delete this.started[a])}},{key:"toString",value:function(){for(var a=this.times,c="",d=0,h=0,f=a.length;h<f;++h){var b=a[h].name;b.length>d&&(d=b.length)}h=0;for(f=a.length;h<f;++h)var b=a[h],e=b.end-b.start,c=c+"".concat(b.name.padEnd(d)," ").concat(e,"ms\n");return c}}]);return a}();c.StatTimer=
d;d=function(){function a(){i(this,a);(0,o.unreachable)("Cannot initialize DummyStatTimer.")}g(a,null,[{key:"time",value:function(){}},{key:"timeEnd",value:function(){}},{key:"toString",value:function(){return""}}]);return a}();c.DummyStatTimer=d},function(d,c,a){function i(a){i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return i(a)}function l(a){l=
Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)};return l(a)}function g(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,writable:!0,configurable:!0}});c&&o(a,c)}function o(a,c){o=Object.setPrototypeOf||function(a,b){a.__proto__=b;return a};return o(a,c)}function r(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");
}function v(a,c){for(var f=0;f<c.length;f++){var b=c[f];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}function s(a,c,f){c&&v(a.prototype,c);f&&v(a,f);return a}Object.defineProperty(c,"__esModule",{value:!0});c.FontLoader=c.FontFaceObject=void 0;var j=a(1),d=function(){function a(c){r(this,a);this.constructor===a&&(0,j.unreachable)("Cannot initialize BaseFontLoader.");this.docId=c;this.nativeFontFaces=[];this.styleElement=null;this.loadingContext=
{requests:[],nextRequestId:0}}s(a,[{key:"addNativeFontFace",value:function(a){this.nativeFontFaces.push(a);document.fonts.add(a)}},{key:"insertRule",value:function(a){var c=this.styleElement;c||(c=this.styleElement=document.createElement("style"),c.id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),document.documentElement.getElementsByTagName("head")[0].appendChild(c));c=c.sheet;c.insertRule(a,c.cssRules.length)}},{key:"clear",value:function(){this.nativeFontFaces.forEach(function(a){document.fonts.delete(a)});
this.nativeFontFaces.length=0;this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:function(a,c){var b=[],e=[],d=[],g=function(a){return a.loaded.catch(function(b){(0,j.warn)('Failed to load font "'.concat(a.family,'": ').concat(b))})},q=!0,m=!1,u=void 0;try{for(var n=a[Symbol.iterator](),z;!(q=(z=n.next()).done);q=!0){var C=z.value;if(!C.attached&&!C.missingFile)if(C.attached=!0,this.isFontLoadingAPISupported){var J=C.createNativeFontFace();J&&(this.addNativeFontFace(J),
d.push(g(J)))}else{var G=C.createFontFaceRule();G&&(this.insertRule(G),b.push(G),e.push(C))}}}catch(H){m=!0,u=H}finally{try{!q&&null!=n.return&&n.return()}finally{if(m)throw u;}}g=this._queueLoadingCallback(c);this.isFontLoadingAPISupported?Promise.all(d).then(g.complete):0<b.length&&!this.isSyncFontLoadingSupported?this._prepareFontLoadEvent(b,e,g):g.complete()}},{key:"_queueLoadingCallback",value:function(a){var c=this.loadingContext,b={id:"pdfjs-font-loading-".concat(c.nextRequestId++),done:!1,
complete:function(){(0,j.assert)(!b.done,"completeRequest() cannot be called twice.");for(b.done=!0;0<c.requests.length&&c.requests[0].done;){var a=c.requests.shift();setTimeout(a.callback,0)}},callback:a};c.requests.push(b);return b}},{key:"_prepareFontLoadEvent",value:function(){(0,j.unreachable)("Abstract method `_prepareFontLoadEvent`.")}},{key:"isFontLoadingAPISupported",get:function(){(0,j.unreachable)("Abstract method `isFontLoadingAPISupported`.")}},{key:"isSyncFontLoadingSupported",get:function(){(0,
j.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,j.unreachable)("Abstract method `_loadTestFont`.")}}]);return a}(),x;c.FontLoader=x;c.FontLoader=x=function(a){function c(a){r(this,c);a=l(c).call(this,a);if(!a||!("object"===i(a)||"function"===typeof a)){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=this}a.loadTestFontId=0;return a}g(c,a);s(c,[{key:"_prepareFontLoadEvent",value:function(a,
b,e){function c(a,b){return a.charCodeAt(b)<<24|a.charCodeAt(b+1)<<16|a.charCodeAt(b+2)<<8|a.charCodeAt(b+3)&255}function d(a,b,e,c){var f=a.substring(0,b),a=a.substring(b+e);return f+c+a}function h(a,b){z++;30<z?((0,j.warn)("Load test font never loaded."),b()):(n.font="30px "+a,n.fillText(".",0,20),0<n.getImageData(0,0,1,1).data[3]?b():setTimeout(h.bind(null,a,b)))}var g,u,a=document.createElement("canvas");a.width=1;a.height=1;var n=a.getContext("2d"),z=0,a="lt".concat(Date.now()).concat(this.loadTestFontId++),
C=this._loadTestFont,C=d(C,976,a.length,a),J=c(C,16);g=0;for(u=a.length-3;g<u;g+=4)J=J-1482184792+c(a,g)|0;g<a.length&&(J=J-1482184792+c(a+"XXX",g)|0);C=d(C,16,4,(0,j.string32)(J));g="url(data:font/opentype;base64,".concat(btoa(C),");");this.insertRule('@font-face {font-family:"'.concat(a,'";src:').concat(g,"}"));C=[];g=0;for(u=b.length;g<u;g++)C.push(b[g].loadedName);C.push(a);var G=document.createElement("div");G.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");
g=0;for(u=C.length;g<u;++g)b=document.createElement("span"),b.textContent="Hi",b.style.fontFamily=C[g],G.appendChild(b);document.body.appendChild(G);h(a,function(){document.body.removeChild(G);e.complete()})}},{key:"isFontLoadingAPISupported",get:function(){var a="undefined"!==typeof document&&!!document.fonts;if(a&&"undefined"!==typeof navigator){var b=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);b&&63>b[1]&&(a=!1)}return(0,j.shadow)(this,"isFontLoadingAPISupported",a)}},{key:"isSyncFontLoadingSupported",
get:function(){var a=!1;if("undefined"===typeof navigator)a=!0;else{var b=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);b&&14<=b[1]&&(a=!0)}return(0,j.shadow)(this,"isSyncFontLoadingSupported",a)}},{key:"_loadTestFont",get:function(){return(0,j.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}}]);
return c}(d);var w={get value(){return(0,j.shadow)(this,"value",(0,j.isEvalSupported)())}};x=function(){function a(c,f){var b=f.isEvalSupported,b=void 0===b?!0:b,e=f.disableFontFace,e=void 0===e?!1:e,d=f.ignoreErrors,d=void 0===d?!1:d,g=f.onUnsupportedFeature,g=void 0===g?null:g,q=f.fontRegistry,q=void 0===q?null:q;r(this,a);this.compiledGlyphs=Object.create(null);for(var m in c)this[m]=c[m];this.isEvalSupported=!1!==b;this.disableFontFace=!0===e;this.ignoreErrors=!0===d;this._onUnsupportedFeature=
g;this.fontRegistry=q}s(a,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var a=new FontFace(this.loadedName,this.data,{});this.fontRegistry&&this.fontRegistry.registerFont(this);return a}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var a=(0,j.bytesToString)(new Uint8Array(this.data)),a="url(data:".concat(this.mimetype,";base64,").concat(btoa(a),");"),c='@font-face {font-family:"'.concat(this.loadedName,
'";src:').concat(a,"}");this.fontRegistry&&this.fontRegistry.registerFont(this,a);return c}},{key:"getPathGenerator",value:function(a,c){if(void 0!==this.compiledGlyphs[c])return this.compiledGlyphs[c];var b,e;try{b=a.get(this.loadedName+"_path_"+c)}catch(d){if(!this.ignoreErrors)throw d;this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:j.UNSUPPORTED_FEATURES.font});(0,j.warn)('getPathGenerator - ignoring character: "'.concat(d,'".'));return this.compiledGlyphs[c]=function(){}}if(this.isEvalSupported&&
w.value){for(var g,q="",m=0,u=b.length;m<u;m++)e=b[m],g=void 0!==e.args?e.args.join(","):"",q+="c."+e.cmd+"("+g+");\n";return this.compiledGlyphs[c]=new Function("c","size",q)}return this.compiledGlyphs[c]=function(a,c){for(var f=0,d=b.length;f<d;f++)e=b[f],"scale"===e.cmd&&(e.args=[c,-c]),a[e.cmd].apply(a,e.args)}}}]);return a}();c.FontFaceObject=x},function(d,c,a){var d=Object.create(null),a=a(4),i="undefined"!==typeof navigator&&navigator.userAgent||"",l=/Trident/.test(i),i=/CriOS/.test(i);if(l||
i)d.disableCreateObjectURL=!0;a()&&(d.disableFontFace=!0,d.nativeImageDecoderSupport="none");c.apiCompatibilityParams=Object.freeze(d)},function(d,c,a){function i(a){a.mozCurrentTransform||(a._originalSave=a.save,a._originalRestore=a.restore,a._originalRotate=a.rotate,a._originalScale=a.scale,a._originalTranslate=a.translate,a._originalTransform=a.transform,a._originalSetTransform=a.setTransform,a._transformMatrix=a._transformMatrix||[1,0,0,1,0,0],a._transformStack=[],Object.defineProperty(a,"mozCurrentTransform",
{get:function(){return this._transformMatrix}}),Object.defineProperty(a,"mozCurrentTransformInverse",{get:function(){var a=this._transformMatrix,c=a[0],d=a[1],f=a[2],b=a[3],e=a[4],a=a[5],k=c*b-d*f,g=d*f-c*b;return[b/k,d/g,f/g,c/k,(b*e-f*a)/g,(d*e-c*a)/k]}}),a.save=function(){var a=this._transformMatrix;this._transformStack.push(a);this._transformMatrix=a.slice(0,6);this._originalSave()},a.restore=function(){var a=this._transformStack.pop();a&&(this._transformMatrix=a,this._originalRestore())},a.translate=
function(a,c){var d=this._transformMatrix;d[4]=d[0]*a+d[2]*c+d[4];d[5]=d[1]*a+d[3]*c+d[5];this._originalTranslate(a,c)},a.scale=function(a,c){var d=this._transformMatrix;d[0]*=a;d[1]*=a;d[2]*=c;d[3]*=c;this._originalScale(a,c)},a.transform=function(c,d,g,f,b,e){var k=this._transformMatrix;this._transformMatrix=[k[0]*c+k[2]*d,k[1]*c+k[3]*d,k[0]*g+k[2]*f,k[1]*g+k[3]*f,k[0]*b+k[2]*e+k[4],k[1]*b+k[3]*e+k[5]];a._originalTransform(c,d,g,f,b,e)},a.setTransform=function(c,d,g,f,b,e){this._transformMatrix=
[c,d,g,f,b,e];a._originalSetTransform(c,d,g,f,b,e)},a.rotate=function(a){var c=Math.cos(a),d=Math.sin(a),f=this._transformMatrix;this._transformMatrix=[f[0]*c+f[2]*d,f[1]*c+f[3]*d,f[0]*-d+f[2]*c,f[1]*-d+f[3]*c,f[4],f[5]];this._originalRotate(a)})}function l(a){var c=a.width,d=a.height,g,f,b=c+1,e=new Uint8Array(b*(d+1)),k=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),p=c+7&-8,q=a.data,m=new Uint8Array(p*d),j=0,a=0;for(g=q.length;a<g;a++){f=128;for(var n=q[a];0<f;)m[j++]=n&f?0:255,f>>=1}j=q=0;
0!==m[j]&&(e[0]=1,++q);for(g=1;g<c;g++)m[j]!==m[j+1]&&(e[g]=m[j]?2:1,++q),j++;0!==m[j]&&(e[g]=2,++q);for(a=1;a<d;a++){j=a*p;f=a*b;m[j-p]!==m[j]&&(e[f]=m[j]?1:8,++q);n=(m[j]?4:0)+(m[j-p]?8:0);for(g=1;g<c;g++)n=(n>>2)+(m[j+1]?4:0)+(m[j-p+1]?8:0),k[n]&&(e[f+g]=k[n],++q),j++;m[j-p]!==m[j]&&(e[f+g]=m[j]?2:4,++q);if(1E3<q)return null}j=p*(d-1);f=a*b;0!==m[j]&&(e[f]=8,++q);for(g=1;g<c;g++)m[j]!==m[j+1]&&(e[f+g]=m[j]?4:8,++q),j++;0!==m[j]&&(e[f+g]=4,++q);if(1E3<q)return null;for(var k=new Int32Array([0,b,
-1,0,-b,0,0,0,1]),z=[],a=0;q&&a<=d;a++){p=a*b;for(m=p+c;p<m&&!e[p];)p++;if(p!==m){m=[p%b,a];j=e[p];g=p;do{f=k[j];do p+=f;while(!e[p]);f=e[p];5!==f&&10!==f?(j=f,e[p]=0):(j=f&51*j>>4,e[p]&=j>>2|j<<2);m.push(p%b);m.push(p/b|0);--q}while(g!==p);z.push(m);--a}}return function(a){a.save();a.scale(1/c,-1/d);a.translate(0,-d);a.beginPath();for(var b=0,e=z.length;b<e;b++){var f=z[b];a.moveTo(f[0],f[1]);for(var k=2,g=f.length;k<g;k=k+2)a.lineTo(f[k],f[k+1])}a.fill();a.beginPath();a.restore()}}Object.defineProperty(c,
"__esModule",{value:!0});c.CanvasGraphics=void 0;var g=a(1),o=a(142),r=16,v={get value(){return(0,g.shadow)(v,"value",(0,g.isLittleEndian)())}},s=function(){function a(c){this.canvasFactory=c;this.cache=Object.create(null)}a.prototype={getCanvas:function(a,c,d,f){var b;void 0!==this.cache[a]?(b=this.cache[a],this.canvasFactory.reset(b,c,d),b.context.setTransform(1,0,0,1,0,0)):(b=this.canvasFactory.create(c,d),this.cache[a]=b);f&&i(b.context);return b},clear:function(){for(var a in this.cache)this.canvasFactory.destroy(this.cache[a]),
delete this.cache[a]}};return a}(),j=function(){function a(){this.alphaIsShape=!1;this.fontSize=0;this.fontSizeScale=1;this.textMatrix=g.IDENTITY_MATRIX;this.textMatrixScale=1;this.fontMatrix=g.FONT_IDENTITY_MATRIX;this.wordSpacing=this.charSpacing=this.lineY=this.lineX=this.y=this.x=this.leading=0;this.textHScale=1;this.textRenderingMode=g.TextRenderingMode.FILL;this.textRise=0;this.strokeColor=this.fillColor="#000000";this.patternFill=!1;this.lineWidth=this.strokeAlpha=this.fillAlpha=1;this.resumeSMaskCtx=
this.activeSMask=null}a.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(a,c){this.x=a;this.y=c}};return a}(),d=function(){function a(b,e,c,f,d,k){this.ctx=b;this.current=new j;this.stateStack=[];this.pendingClip=null;this.pendingEOFill=!1;this.xobjs=this.res=null;this.commonObjs=e;this.objs=c;this.canvasFactory=f;this.webGLContext=d;this.imageLayer=k;this.groupStack=[];this.baseTransform=this.processingType3=null;this.baseTransformStack=[];this.groupLevel=0;this.smaskStack=
[];this.smaskCounter=0;this.tempSMask=null;this.cachedCanvases=new s(this.canvasFactory);b&&i(b);this._cachedGetSinglePixelWidth=null}function c(a,b){if("undefined"!==typeof ImageData&&b instanceof ImageData)a.putImageData(b,0,0);else{var e=b.height,f=b.width,d=e%r,e=(e-d)/r,k=0===d?e:e+1,h=a.createImageData(f,r),p=0,m,j=b.data,q=h.data,n,u,i;if(b.kind===g.ImageKind.GRAYSCALE_1BPP){var l=j.byteLength,q=new Uint32Array(q.buffer,0,q.byteLength>>2),t=q.length,T=f+7>>3,K=v.value?4278190080:255;for(n=
0;n<k;n++){i=n<e?r:d;for(u=m=0;u<i;u++){for(var s=l-p,o=0,s=s>T?f:8*s-7,w=s&-8,x=0,U=0;o<w;o+=8)U=j[p++],q[m++]=U&128?4294967295:K,q[m++]=U&64?4294967295:K,q[m++]=U&32?4294967295:K,q[m++]=U&16?4294967295:K,q[m++]=U&8?4294967295:K,q[m++]=U&4?4294967295:K,q[m++]=U&2?4294967295:K,q[m++]=U&1?4294967295:K;for(;o<s;o++)0===x&&(U=j[p++],x=128),q[m++]=U&x?4294967295:K,x>>=1}for(;m<t;)q[m++]=0;a.putImageData(h,0,n*r)}}else if(b.kind===g.ImageKind.RGBA_32BPP){u=0;i=4*f*r;for(n=0;n<e;n++)q.set(j.subarray(p,
p+i)),p+=i,a.putImageData(h,0,u),u+=r;n<k&&(q.set(j.subarray(p,p+4*f*d)),a.putImageData(h,0,u))}else if(b.kind===g.ImageKind.RGB_24BPP){i=r;i*=f;for(n=0;n<k;n++){n>=e&&(i=d,i*=f);m=0;for(u=i;u--;)q[m++]=j[p++],q[m++]=j[p++],q[m++]=j[p++],q[m++]=255;a.putImageData(h,0,n*r)}}else throw Error("bad image kind: ".concat(b.kind));}}function d(a,b){for(var e=b.height,c=b.width,f=e%r,e=(e-f)/r,k=0===f?e:e+1,g=a.createImageData(c,r),h=0,p=b.data,m=g.data,j=0;j<k;j++){for(var q=j<e?r:f,n=3,u=0;u<q;u++)for(var i=
0,v=0;v<c;v++){if(!i)var l=p[h++],i=128;m[n]=l&i?0:255;n+=4;i>>=1}a.putImageData(g,0,j*r)}}function h(a,b){for(var e="strokeStyle fillStyle fillRule globalAlpha lineWidth lineCap lineJoin miterLimit globalCompositeOperation font".split(" "),c=0,f=e.length;c<f;c++){var d=e[c];void 0!==a[d]&&(b[d]=a[d])}void 0!==a.setLineDash&&(b.setLineDash(a.getLineDash()),b.lineDashOffset=a.lineDashOffset)}function f(a){a.strokeStyle="#000000";a.fillStyle="#000000";a.fillRule="nonzero";a.globalAlpha=1;a.lineWidth=
1;a.lineCap="butt";a.lineJoin="miter";a.miterLimit=10;a.globalCompositeOperation="source-over";a.font="10px sans-serif";void 0!==a.setLineDash&&(a.setLineDash([]),a.lineDashOffset=0)}function b(a,b,e){for(var c=a.length,f=1/255,d=3;d<c;d+=4)b[d]=b[d]*(e?e[a[d]]:a[d])*f|0}function e(a,b,e){for(var c=a.length,f=3;f<c;f+=4){var d=77*a[f-3]+152*a[f-2]+28*a[f-1];b[f]=e?b[f]*e[d>>8]>>8:b[f]*d>>16}}function k(a,c,f,d){var k=c.canvas,g=c.context;a.setTransform(c.scaleX,0,0,c.scaleY,c.offsetX,c.offsetY);var h=
c.backdrop||null;if(!c.transferMap&&d.isEnabled)f=d.composeSMask({layer:f.canvas,mask:k,properties:{subtype:c.subtype,backdrop:h}}),a.setTransform(1,0,0,1,0,0),a.drawImage(f,c.offsetX,c.offsetY);else{for(var d=k.width,p=k.height,m=c.transferMap,j=!!h,q=j?h[0]:0,n=j?h[1]:0,h=j?h[2]:0,c="Luminosity"===c.subtype?e:b,u=Math.min(p,Math.ceil(1048576/d)),i=0;i<p;i+=u){var r=Math.min(u,p-i),v=g.getImageData(0,i,d,r),r=f.getImageData(0,i,d,r);if(j)for(var l=v.data,K=q,t=n,s=h,o=l.length,w=3;w<o;w+=4){var x=
l[w];if(0===x)l[w-3]=K,l[w-2]=t,l[w-1]=s;else if(255>x){var W=255-x;l[w-3]=l[w-3]*x+K*W>>8;l[w-2]=l[w-2]*x+t*W>>8;l[w-1]=l[w-1]*x+s*W>>8}}c(v.data,r.data,m);g.putImageData(r,0,i)}a.drawImage(k,0,0)}}var p=["butt","round","square"],q=["miter","round","bevel"],m={},u={};a.prototype={beginDrawing:function(a){var b=a.transform,e=a.viewport,c=a.transparency,c=void 0===c?!1:c,a=a.background,a=void 0===a?null:a,d=this.ctx.canvas.width,k=this.ctx.canvas.height;this.ctx.save();this.ctx.fillStyle=a||"rgb(255, 255, 255)";
this.ctx.fillRect(0,0,d,k);this.ctx.restore();c&&(c=this.cachedCanvases.getCanvas("transparent",d,k,!0),this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform));this.ctx.save();f(this.ctx);b&&this.ctx.transform.apply(this.ctx,b);this.ctx.transform.apply(this.ctx,e.transform);this.baseTransform=this.ctx.mozCurrentTransform.slice();this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(a,
b,e,c){var f=a.argsArray,a=a.fnArray,b=b||0,d=f.length;if(d===b)return b;for(var k=10<d-b&&"function"===typeof e,h=k?Date.now()+15:0,p=0,m=this.commonObjs,j=this.objs,q;;){if(void 0!==c&&b===c.nextBreakPoint)return c.breakIt(b,e),b;q=a[b];if(q!==g.OPS.dependency)this[q].apply(this,f[b]);else{q=f[b];for(var n=0,u=q.length;n<u;n++){var i=q[n],r="g"===i[0]&&"_"===i[1]?m:j;if(!r.has(i))return r.get(i,e),b}}b++;if(b===d)return b;if(k&&10<++p){if(Date.now()>h)return e(),b;p=0}}},endDrawing:function(){null!==
this.current.activeSMask&&this.endSMaskGroup();this.ctx.restore();this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null);this.cachedCanvases.clear();this.webGLContext.clear();this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(a){this.current.lineWidth=a;this.ctx.lineWidth=a},setLineCap:function(a){this.ctx.lineCap=p[a]},setLineJoin:function(a){this.ctx.lineJoin=
q[a]},setMiterLimit:function(a){this.ctx.miterLimit=a},setDash:function(a,b){var e=this.ctx;void 0!==e.setLineDash&&(e.setLineDash(a),e.lineDashOffset=b)},setRenderingIntent:function(){},setFlatness:function(){},setGState:function(a){for(var b=0,e=a.length;b<e;b++){var c=a[b],f=c[1];switch(c[0]){case "LW":this.setLineWidth(f);break;case "LC":this.setLineCap(f);break;case "LJ":this.setLineJoin(f);break;case "ML":this.setMiterLimit(f);break;case "D":this.setDash(f[0],f[1]);break;case "RI":this.setRenderingIntent(f);
break;case "FL":this.setFlatness(f);break;case "Font":this.setFont(f[0],f[1]);break;case "CA":this.current.strokeAlpha=c[1];break;case "ca":this.current.fillAlpha=c[1];this.ctx.globalAlpha=c[1];break;case "BM":this.ctx.globalCompositeOperation=f;break;case "SMask":this.current.activeSMask&&(0<this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=f?this.tempSMask:null,this.current.activeSMask&&
this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var a=this.current.activeSMask,b=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,a.canvas.width,a.canvas.height,!0),e=this.ctx,c=e.mozCurrentTransform;this.ctx.save();b=b.context;b.scale(1/a.scaleX,1/a.scaleY);b.translate(-a.offsetX,-a.offsetY);b.transform.apply(b,c);a.startTransformInverse=b.mozCurrentTransformInverse;h(e,b);this.ctx=b;this.setGState([["BM","source-over"],["ca",1],["CA",1]]);this.groupStack.push(e);
this.groupLevel++},suspendSMaskGroup:function(){var a=this.ctx;this.groupLevel--;this.ctx=this.groupStack.pop();k(this.ctx,this.current.activeSMask,a,this.webGLContext);this.ctx.restore();this.ctx.save();h(a,this.ctx);this.current.resumeSMaskCtx=a;this.ctx.transform.apply(this.ctx,g.Util.transform(this.current.activeSMask.startTransformInverse,a.mozCurrentTransform));a.save();a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,a.canvas.width,a.canvas.height);a.restore()},resumeSMaskGroup:function(){var a=
this.ctx;this.ctx=this.current.resumeSMaskCtx;this.groupStack.push(a);this.groupLevel++},endSMaskGroup:function(){var a=this.ctx;this.groupLevel--;this.ctx=this.groupStack.pop();k(this.ctx,this.current.activeSMask,a,this.webGLContext);this.ctx.restore();h(a,this.ctx);this.ctx.transform.apply(this.ctx,g.Util.transform(this.current.activeSMask.startTransformInverse,a.mozCurrentTransform))},save:function(){this.ctx.save();var a=this.current;this.stateStack.push(a);this.current=a.clone();this.current.resumeSMaskCtx=
null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup();null!==this.current.activeSMask&&(0===this.stateStack.length||this.stateStack[this.stateStack.length-1].activeSMask!==this.current.activeSMask)&&this.endSMaskGroup();0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this._cachedGetSinglePixelWidth=this.pendingClip=null)},transform:function(a,b,e,c,f,d){this.ctx.transform(a,b,e,c,f,d);this._cachedGetSinglePixelWidth=null},constructPath:function(a,
b){for(var e=this.ctx,c=this.current,f=c.x,d=c.y,k=0,h=0,p=a.length;k<p;k++)switch(a[k]|0){case g.OPS.rectangle:var f=b[h++],d=b[h++],m=b[h++],j=b[h++];0===m&&(m=this.getSinglePixelWidth());0===j&&(j=this.getSinglePixelWidth());m=f+m;j=d+j;this.ctx.moveTo(f,d);this.ctx.lineTo(m,d);this.ctx.lineTo(m,j);this.ctx.lineTo(f,j);this.ctx.lineTo(f,d);this.ctx.closePath();break;case g.OPS.moveTo:f=b[h++];d=b[h++];e.moveTo(f,d);break;case g.OPS.lineTo:f=b[h++];d=b[h++];e.lineTo(f,d);break;case g.OPS.curveTo:f=
b[h+4];d=b[h+5];e.bezierCurveTo(b[h],b[h+1],b[h+2],b[h+3],f,d);h+=6;break;case g.OPS.curveTo2:e.bezierCurveTo(f,d,b[h],b[h+1],b[h+2],b[h+3]);f=b[h+2];d=b[h+3];h+=4;break;case g.OPS.curveTo3:f=b[h+2];d=b[h+3];e.bezierCurveTo(b[h],b[h+1],f,d,f,d);h+=4;break;case g.OPS.closePath:e.closePath()}c.setCurrentPoint(f,d)},closePath:function(){this.ctx.closePath()},stroke:function(a){var a="undefined"!==typeof a?a:!0,b=this.ctx,e=this.current.strokeColor;b.lineWidth=Math.max(0.65*this.getSinglePixelWidth(),
this.current.lineWidth);b.globalAlpha=this.current.strokeAlpha;e&&e.hasOwnProperty("type")&&"Pattern"===e.type?(b.save(),b.strokeStyle=e.getPattern(b,this),b.stroke(),b.restore()):b.stroke();a&&this.consumePath();b.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath();this.stroke()},fill:function(a){var a="undefined"!==typeof a?a:!0,b=this.ctx,e=this.current.fillColor,c=!1;this.current.patternFill&&(b.save(),this.baseTransform&&b.setTransform.apply(b,this.baseTransform),b.fillStyle=
e.getPattern(b,this),c=!0);this.pendingEOFill?(b.fill("evenodd"),this.pendingEOFill=!1):b.fill();c&&b.restore();a&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0;this.fill()},fillStroke:function(){this.fill(!1);this.stroke(!1);this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0;this.fillStroke()},closeFillStroke:function(){this.closePath();this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0;this.closePath();this.fillStroke()},endPath:function(){this.consumePath()},
clip:function(){this.pendingClip=m},eoClip:function(){this.pendingClip=u},beginText:function(){this.current.textMatrix=g.IDENTITY_MATRIX;this.current.textMatrixScale=1;this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},endText:function(){var a=this.pendingTextPaths,b=this.ctx;if(void 0===a)b.beginPath();else{b.save();b.beginPath();for(var e=0;e<a.length;e++){var c=a[e];b.setTransform.apply(b,c.transform);b.translate(c.x,c.y);c.addToPath(b,c.fontSize)}b.restore();b.clip();b.beginPath();
delete this.pendingTextPaths}},setCharSpacing:function(a){this.current.charSpacing=a},setWordSpacing:function(a){this.current.wordSpacing=a},setHScale:function(a){this.current.textHScale=a/100},setLeading:function(a){this.current.leading=-a},setFont:function(a,b){var e=this.commonObjs.get(a),c=this.current;if(!e)throw Error("Can't find font for ".concat(a));c.fontMatrix=e.fontMatrix?e.fontMatrix:g.FONT_IDENTITY_MATRIX;if(0===c.fontMatrix[0]||0===c.fontMatrix[3])(0,g.warn)("Invalid font matrix for font "+
a);0>b?(b=-b,c.fontDirection=-1):c.fontDirection=1;this.current.font=e;this.current.fontSize=b;if(!e.isType3Font){var c=e.black?"900":e.bold?"bold":"normal",f=e.italic?"italic":"normal",e='"'.concat(e.loadedName||"sans-serif",'", ').concat(e.fallbackName),d=16>b?16:100<b?100:b;this.current.fontSizeScale=b/d;this.ctx.font="".concat(f," ").concat(c," ").concat(d,"px ").concat(e)}},setTextRenderingMode:function(a){this.current.textRenderingMode=a},setTextRise:function(a){this.current.textRise=a},moveText:function(a,
b){this.current.x=this.current.lineX+=a;this.current.y=this.current.lineY+=b},setLeadingMoveText:function(a,b){this.setLeading(-b);this.moveText(a,b)},setTextMatrix:function(a,b,e,c,f,d){this.current.textMatrix=[a,b,e,c,f,d];this.current.textMatrixScale=Math.sqrt(a*a+b*b);this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(a,b,e,c){var f=this.ctx,d=this.current,k=d.font,h=d.textRenderingMode,p=d.fontSize/
d.fontSizeScale,m=h&g.TextRenderingMode.FILL_STROKE_MASK,h=!!(h&g.TextRenderingMode.ADD_TO_PATH_FLAG),d=d.patternFill&&k.data,j;if(k.disableFontFace||h||d)j=k.getPathGenerator(this.commonObjs,a);k.disableFontFace||d?(f.save(),f.translate(b,e),f.beginPath(),j(f,p),c&&f.setTransform.apply(f,c),(m===g.TextRenderingMode.FILL||m===g.TextRenderingMode.FILL_STROKE)&&f.fill(),(m===g.TextRenderingMode.STROKE||m===g.TextRenderingMode.FILL_STROKE)&&f.stroke(),f.restore()):((m===g.TextRenderingMode.FILL||m===
g.TextRenderingMode.FILL_STROKE)&&f.fillText(a,b,e),(m===g.TextRenderingMode.STROKE||m===g.TextRenderingMode.FILL_STROKE)&&f.strokeText(a,b,e));h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:f.mozCurrentTransform,x:b,y:e,fontSize:p,addToPath:j})},get isFontSubpixelAAEnabled(){var a=this.canvasFactory.create(10,10).context;a.scale(1.5,1);a.fillText("I",0,10);for(var a=a.getImageData(0,0,10,10).data,b=!1,e=3;e<a.length;e+=4)if(0<a[e]&&255>a[e]){b=!0;break}return(0,g.shadow)(this,
"isFontSubpixelAAEnabled",b)},showText:function(a){var b=this.current,e=b.font;if(e.isType3Font)return this.showType3Text(a);var c=b.fontSize;if(0!==c){var f=this.ctx,d=b.fontSizeScale,k=b.charSpacing,h=b.wordSpacing,p=b.fontDirection,m=b.textHScale*p,j=a.length,q=e.vertical,n=q?1:-1,u=e.defaultVMetrics,i=c*b.fontMatrix[0],r=b.textRenderingMode===g.TextRenderingMode.FILL&&!e.disableFontFace&&!b.patternFill;f.save();var v;if(b.patternFill){f.save();var K=b.fillColor.getPattern(f,this);v=f.mozCurrentTransform;
f.restore();f.fillStyle=K}f.transform.apply(f,b.textMatrix);f.translate(b.x,b.y+b.textRise);0<p?f.scale(m,-1):f.scale(m,1);var K=b.lineWidth,l=b.textMatrixScale;if(0===l||0===K){if(l=b.textRenderingMode&g.TextRenderingMode.FILL_STROKE_MASK,l===g.TextRenderingMode.STROKE||l===g.TextRenderingMode.FILL_STROKE)this._cachedGetSinglePixelWidth=null,K=0.65*this.getSinglePixelWidth()}else K/=l;1!==d&&(f.scale(d,d),K/=d);f.lineWidth=K;for(l=K=0;l<j;++l){var t=a[l];if((0,g.isNum)(t))K+=n*t*c/1E3;else{var s=
!1,o=(t.isSpace?h:0)+k,w=t.fontChar,x=t.accent,Q,V,D=t.width;if(q){var S;Q=t.vmetric||u;S=t.vmetric?Q[1]:0.5*D;S=-S*i;V=Q[2]*i;D=Q?-Q[0]:D;Q=S/d;V=(K+V)/d}else Q=K/d,V=0;e.remeasure&&0<D&&(S=1E3*f.measureText(w).width/c*d,D<S&&this.isFontSubpixelAAEnabled?(S=D/S,s=!0,f.save(),f.scale(S,1),Q/=S):D!==S&&(Q+=(D-S)/2E3*c/d));if(t.isInFont||e.missingFile)r&&!x?f.fillText(w,Q,V):(this.paintChar(w,Q,V,v),x&&(t=Q+x.offset.x/d,w=V-x.offset.y/d,this.paintChar(x.fontChar,t,w,v)));K+=D*i+o*p;s&&f.restore()}}q?
b.y-=K*m:b.x+=K*m;f.restore()}},showType3Text:function(a){var b=this.ctx,e=this.current,c=e.font,f=e.fontSize,d=e.fontDirection,k=c.vertical?1:-1,h=e.charSpacing,p=e.wordSpacing,m=e.textHScale*d,j=e.fontMatrix||g.FONT_IDENTITY_MATRIX,q=a.length,n;if(!(e.textRenderingMode===g.TextRenderingMode.INVISIBLE||0===f)){this._cachedGetSinglePixelWidth=null;b.save();b.transform.apply(b,e.textMatrix);b.translate(e.x,e.y);b.scale(m,d);for(d=0;d<q;++d)if(n=a[d],(0,g.isNum)(n))n=k*n*f/1E3,this.ctx.translate(n,
0),e.x+=n*m;else{var u=(n.isSpace?p:0)+h,i=c.charProcOperatorList[n.operatorListId];i?(this.processingType3=n,this.save(),b.scale(f,f),b.transform.apply(b,j),this.executeOperatorList(i),this.restore(),n=g.Util.applyTransform([n.width,0],j)[0]*f+u,b.translate(n,0),e.x+=n*m):(0,g.warn)('Type3 character "'.concat(n.operatorListId,'" is not available.'))}b.restore();this.processingType3=null}},setCharWidth:function(){},setCharWidthAndBounds:function(a,b,e,c,f,d){this.ctx.rect(e,c,f-e,d-c);this.clip();
this.endPath()},getColorN_Pattern:function(b){var e=this;if("TilingPattern"===b[0])var c=b[1],f=this.baseTransform||this.ctx.mozCurrentTransform.slice(),b=new o.TilingPattern(b,c,this.ctx,{createCanvasGraphics:function(b){return new a(b,e.commonObjs,e.objs,e.canvasFactory,e.webGLContext)}},f);else b=(0,o.getShadingPatternFromIR)(b);return b},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments);
this.current.patternFill=!0},setStrokeRGBColor:function(a,b,e){a=g.Util.makeCssRgb(a,b,e);this.ctx.strokeStyle=a;this.current.strokeColor=a},setFillRGBColor:function(a,b,e){a=g.Util.makeCssRgb(a,b,e);this.ctx.fillStyle=a;this.current.fillColor=a;this.current.patternFill=!1},shadingFill:function(a){var b=this.ctx;this.save();a=(0,o.getShadingPatternFromIR)(a);b.fillStyle=a.getPattern(b,this,!0);var e=b.mozCurrentTransformInverse;if(e){var b=b.canvas,c=b.width,f=b.height,b=g.Util.applyTransform([0,
0],e),a=g.Util.applyTransform([0,f],e),d=g.Util.applyTransform([c,0],e),k=g.Util.applyTransform([c,f],e),e=Math.min(b[0],a[0],d[0],k[0]),c=Math.min(b[1],a[1],d[1],k[1]),f=Math.max(b[0],a[0],d[0],k[0]),b=Math.max(b[1],a[1],d[1],k[1]);this.ctx.fillRect(e,c,f-e,b-c)}else this.ctx.fillRect(-1E10,-1E10,2E10,2E10);this.restore()},beginInlineImage:function(){(0,g.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,g.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(a,
b){this.save();this.baseTransformStack.push(this.baseTransform);Array.isArray(a)&&6===a.length&&this.transform.apply(this,a);this.baseTransform=this.ctx.mozCurrentTransform;b&&(this.ctx.rect(b[0],b[1],b[2]-b[0],b[3]-b[1]),this.clip(),this.endPath())},paintFormXObjectEnd:function(){this.restore();this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(a){this.save();var b=this.ctx;a.isolated||(0,g.info)("TODO: Support non-isolated groups.");a.knockout&&(0,g.warn)("Knockout groups not supported.");
var e=b.mozCurrentTransform;a.matrix&&b.transform.apply(b,a.matrix);if(!a.bbox)throw Error("Bounding box is required.");var c=g.Util.getAxialAlignedBoundingBox(a.bbox,b.mozCurrentTransform),c=g.Util.intersect(c,[0,0,b.canvas.width,b.canvas.height])||[0,0,0,0],f=Math.floor(c[0]),d=Math.floor(c[1]),k=Math.max(Math.ceil(c[2])-f,1),p=Math.max(Math.ceil(c[3])-d,1),m=c=1;4096<k&&(c=k/4096,k=4096);4096<p&&(m=p/4096,p=4096);var j="groupAt"+this.groupLevel;a.smask&&(j+="_smask_"+this.smaskCounter++%2);k=this.cachedCanvases.getCanvas(j,
k,p,!0);p=k.context;p.scale(1/c,1/m);p.translate(-f,-d);p.transform.apply(p,e);a.smask?this.smaskStack.push({canvas:k.canvas,context:p,offsetX:f,offsetY:d,scaleX:c,scaleY:m,subtype:a.smask.subtype,backdrop:a.smask.backdrop,transferMap:a.smask.transferMap||null,startTransformInverse:null}):(b.setTransform(1,0,0,1,0,0),b.translate(f,d),b.scale(c,m));h(b,p);this.ctx=p;this.setGState([["BM","source-over"],["ca",1],["CA",1]]);this.groupStack.push(b);this.groupLevel++;this.current.activeSMask=null},endGroup:function(a){this.groupLevel--;
var b=this.ctx;this.ctx=this.groupStack.pop();void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1;a.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(b.canvas,0,0);this.restore()},beginAnnotations:function(){this.save();this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(a,b,e){this.save();f(this.ctx);this.current=new j;Array.isArray(a)&&
4===a.length&&(this.ctx.rect(a[0],a[1],a[2]-a[0],a[3]-a[1]),this.clip(),this.endPath());this.transform.apply(this,b);this.transform.apply(this,e)},endAnnotation:function(){this.restore()},paintJpegXObject:function(a,b,e){var c=this.objs.get(a);if(c){this.save();var f=this.ctx;f.scale(1/b,-1/e);f.drawImage(c,0,0,c.width,c.height,0,-e,b,e);this.imageLayer&&(c=f.mozCurrentTransformInverse,f=this.getCanvasPosition(0,0),this.imageLayer.appendImage({objId:a,left:f[0],top:f[1],width:b/c[0],height:e/c[3]}));
this.restore()}else(0,g.warn)("Dependent image isn't ready yet")},paintImageMaskXObject:function(a){var b=this.ctx,e=a.width,c=a.height,f=this.current.fillColor,k=this.current.patternFill,g=this.processingType3;g&&void 0===g.compiled&&(g.compiled=1E3>=e&&1E3>=c?l({data:a.data,width:e,height:c}):null);g&&g.compiled?g.compiled(b):(b=this.cachedCanvases.getCanvas("maskCanvas",e,c),g=b.context,g.save(),d(g,a),g.globalCompositeOperation="source-in",g.fillStyle=k?f.getPattern(g,this):f,g.fillRect(0,0,e,
c),g.restore(),this.paintInlineImageXObject(b.canvas))},paintImageMaskXObjectRepeat:function(a,b,e,c){var f=a.width,k=a.height,g=this.current.fillColor,h=this.current.patternFill,p=this.cachedCanvases.getCanvas("maskCanvas",f,k),m=p.context;m.save();d(m,a);m.globalCompositeOperation="source-in";m.fillStyle=h?g.getPattern(m,this):g;m.fillRect(0,0,f,k);m.restore();a=this.ctx;g=0;for(h=c.length;g<h;g+=2)a.save(),a.transform(b,0,0,e,c[g],c[g+1]),a.scale(1,-1),a.drawImage(p.canvas,0,0,f,k,0,-1,1,1),a.restore()},
paintImageMaskXObjectGroup:function(a){for(var b=this.ctx,e=this.current.fillColor,c=this.current.patternFill,f=0,k=a.length;f<k;f++){var g=a[f],h=g.width,p=g.height,m=this.cachedCanvases.getCanvas("maskCanvas",h,p),j=m.context;j.save();d(j,g);j.globalCompositeOperation="source-in";j.fillStyle=c?e.getPattern(j,this):e;j.fillRect(0,0,h,p);j.restore();b.save();b.transform.apply(b,g.transform);b.scale(1,-1);b.drawImage(m.canvas,0,0,h,p,0,-1,1,1);b.restore()}},paintImageXObject:function(a){(a=this.objs.get(a))?
this.paintInlineImageXObject(a):(0,g.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(a,b,e,c){if(a=this.objs.get(a)){for(var f=a.width,d=a.height,k=[],h=0,p=c.length;h<p;h+=2)k.push({transform:[b,0,0,e,c[h],c[h+1]],x:0,y:0,w:f,h:d});this.paintInlineImageXObjectGroup(a,k)}else(0,g.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(a){var b=a.width,e=a.height,f=this.ctx;this.save();f.scale(1/b,-1/e);var d=f.mozCurrentTransformInverse,k=d[0],g=d[1],
k=Math.max(Math.sqrt(k*k+g*g),1),g=d[2],h=d[3],g=Math.max(Math.sqrt(g*g+h*h),1),p;if("function"===typeof HTMLElement&&a instanceof HTMLElement||!a.data)h=a;else{p=this.cachedCanvases.getCanvas("inlineImage",b,e);var m=p.context;c(m,a);h=p.canvas}for(var j=b,q=e,n="prescale1";2<k&&1<j||2<g&&1<q;){var u=j,i=q;2<k&&1<j&&(u=Math.ceil(j/2),k/=j/u);2<g&&1<q&&(i=Math.ceil(q/2),g/=q/i);p=this.cachedCanvases.getCanvas(n,u,i);m=p.context;m.clearRect(0,0,u,i);m.drawImage(h,0,0,j,q,0,0,u,i);h=p.canvas;j=u;q=
i;n="prescale1"===n?"prescale2":"prescale1"}f.drawImage(h,0,0,j,q,0,-e,b,e);this.imageLayer&&(f=this.getCanvasPosition(0,-e),this.imageLayer.appendImage({imgData:a,left:f[0],top:f[1],width:b/d[0],height:e/d[3]}));this.restore()},paintInlineImageXObjectGroup:function(a,b){var e=this.ctx,f=a.width,d=a.height,k=this.cachedCanvases.getCanvas("inlineImage",f,d);c(k.context,a);for(var g=0,h=b.length;g<h;g++){var p=b[g];e.save();e.transform.apply(e,p.transform);e.scale(1,-1);e.drawImage(k.canvas,p.x,p.y,
p.w,p.h,0,-1,1,1);this.imageLayer&&(p=this.getCanvasPosition(p.x,p.y),this.imageLayer.appendImage({imgData:a,left:p[0],top:p[1],width:f,height:d}));e.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,g.warn)("Unsupported 'paintXObject' command.")},markPoint:function(){},markPointProps:function(){},beginMarkedContent:function(){},beginMarkedContentProps:function(){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var a=
this.ctx;this.pendingClip&&(this.pendingClip===u?a.clip("evenodd"):a.clip(),this.pendingClip=null);a.beginPath()},getSinglePixelWidth:function(){if(null===this._cachedGetSinglePixelWidth){var a=this.ctx.mozCurrentTransformInverse;this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3]))}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(a,b){var e=this.ctx.mozCurrentTransform;return[e[0]*a+e[2]*b+e[4],e[1]*a+e[3]*b+e[5]]}};for(var n in g.OPS)a.prototype[g.OPS[n]]=
a.prototype[n];return a}();c.CanvasGraphics=d},function(d,c,a){Object.defineProperty(c,"__esModule",{value:!0});c.getShadingPatternFromIR=function(a){var c=l[a[0]];if(!c)throw Error("Unknown IR type: ".concat(a[0]));return c.fromIR(a)};c.TilingPattern=void 0;var i=a(1),l={RadialAxial:{fromIR:function(a){var c=a[1],d=a[2],g=a[3],j=a[4],i=a[5],l=a[6];return{type:"Pattern",getPattern:function(a){var h;"axial"===c?h=a.createLinearGradient(g[0],g[1],j[0],j[1]):"radial"===c&&(h=a.createRadialGradient(g[0],
g[1],i,j[0],j[1],l));for(var a=0,f=d.length;a<f;++a){var b=d[a];h.addColorStop(b[0],b[1])}return h}}}}},g=function(){function a(c,d,g,j,i,l,t,h){var f=d.coords,b=d.colors,e=c.data,c=4*c.width,k;f[g+1]>f[j+1]&&(k=g,g=j,j=k,k=l,l=t,t=k);f[j+1]>f[i+1]&&(k=j,j=i,i=k,k=t,t=h,h=k);f[g+1]>f[j+1]&&(k=g,g=j,j=k,k=l,l=t,t=k);k=(f[g]+d.offsetX)*d.scaleX;var g=(f[g+1]+d.offsetY)*d.scaleY,p=(f[j]+d.offsetX)*d.scaleX,j=(f[j+1]+d.offsetY)*d.scaleY,q=(f[i]+d.offsetX)*d.scaleX,d=(f[i+1]+d.offsetY)*d.scaleY;if(!(g>=
d))for(var i=b[l],f=b[l+1],l=b[l+2],m=b[t],u=b[t+1],t=b[t+2],n=b[h],o=b[h+1],h=b[h+2],C=Math.round(g),b=Math.round(d),J,G,H,B,y,E,I,A,M=C;M<=b;M++){M<j?(A=M<g?0:g===j?1:(g-M)/(g-j),C=k-(k-p)*A,J=i-(i-m)*A,G=f-(f-u)*A,H=l-(l-t)*A):(A=M>d?1:j===d?0:(j-M)/(j-d),C=p-(p-q)*A,J=m-(m-n)*A,G=u-(u-o)*A,H=t-(t-h)*A);A=M<g?0:M>d?1:(g-M)/(g-d);B=k-(k-q)*A;y=i-(i-n)*A;E=f-(f-o)*A;I=l-(l-h)*A;A=Math.round(Math.min(C,B));for(var L=Math.round(Math.max(C,B)),O=c*M+4*A,P=A;P<=L;P++)A=(C-P)/(C-B),A=0>A?0:1<A?1:A,e[O++]=
J-(J-y)*A|0,e[O++]=G-(G-E)*A|0,e[O++]=H-(H-I)*A|0,e[O++]=255}}return function(c,d,g,j,i,l,t,h){var f=Math.floor(c[0]),b=Math.floor(c[1]),e=Math.ceil(c[2])-f,c=Math.ceil(c[3])-b,k=Math.min(Math.ceil(Math.abs(1.1*e*d[0])),3E3),d=Math.min(Math.ceil(Math.abs(1.1*c*d[1])),3E3),e=e/k,c=c/d,g={coords:g,colors:j,offsetX:-f,offsetY:-b,scaleX:1/e,scaleY:1/c},j=k+4,p=d+4;if(h.isEnabled)i=h.drawFigures({width:k,height:d,backgroundColor:l,figures:i,context:g}),t=t.getCanvas("mesh",j,p,!1),t.context.drawImage(i,
2,2);else{t=t.getCanvas("mesh",j,p,!1);h=t.context;d=h.createImageData(k,d);if(l){p=d.data;k=0;for(j=p.length;k<j;k+=4)p[k]=l[0],p[k+1]=l[1],p[k+2]=l[2],p[k+3]=255}for(k=0;k<i.length;k++){var l=d,q=i[k],j=g,p=q.coords,m=q.colors,u=void 0,n=void 0;switch(q.type){case "lattice":for(var q=q.verticesPerRow,n=Math.floor(p.length/q)-1,z=q-1,u=0;u<n;u++)for(var C=u*q,J=0;J<z;J++,C++)a(l,j,p[C],p[C+1],p[C+q],m[C],m[C+1],m[C+q]),a(l,j,p[C+q+1],p[C+1],p[C+q],m[C+q+1],m[C+1],m[C+q]);break;case "triangles":u=
0;for(n=p.length;u<n;u+=3)a(l,j,p[u],p[u+1],p[u+2],m[u],m[u+1],m[u+2]);break;default:throw Error("illegal figure");}}h.putImageData(d,2,2)}i=t.canvas;return{canvas:i,offsetX:f-2*e,offsetY:b-2*c,scaleX:e,scaleY:c}}}();l.Mesh={fromIR:function(a){var c=a[2],d=a[3],l=a[4],j=a[5],x=a[6],w=a[8];return{type:"Pattern",getPattern:function(a,h,f){var b;if(f)b=i.Util.singularValueDecompose2dScale(a.mozCurrentTransform);else if(b=i.Util.singularValueDecompose2dScale(h.baseTransform),x){var e=i.Util.singularValueDecompose2dScale(x);
b=[b[0]*e[0],b[1]*e[1]]}b=g(j,b,c,d,l,f?null:w,h.cachedCanvases,h.webGLContext);f||(a.setTransform.apply(a,h.baseTransform),x&&a.transform.apply(a,x));a.translate(b.offsetX,b.offsetY);a.scale(b.scaleX,b.scaleY);return a.createPattern(b.canvas,"no-repeat")}}}};l.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};d=function(){function a(c,d,g,j,i){this.operatorList=c[2];this.matrix=c[3]||[1,0,0,1,0,0];this.bbox=c[4];this.xstep=c[5];this.ystep=c[6];this.paintType=
c[7];this.tilingType=c[8];this.color=d;this.canvasGraphicsFactory=j;this.baseTransform=i;this.type="Pattern";this.ctx=g}a.prototype={createPatternCanvas:function(a){var c=this.operatorList,d=this.bbox,g=this.xstep,l=this.ystep,o=this.paintType,t=this.tilingType,h=this.color,f=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+t);var t=d[0],b=d[1],e=d[2],k=d[3],p=[t,b],q=[t+g,b+l],m=q[0]-p[0],q=q[1]-p[1],u=i.Util.singularValueDecompose2dScale(this.matrix),n=i.Util.singularValueDecompose2dScale(this.baseTransform),
u=[u[0]*n[0],u[1]*n[1]],m=Math.min(Math.ceil(Math.abs(m*u[0])),3E3),q=Math.min(Math.ceil(Math.abs(q*u[1])),3E3),u=a.cachedCanvases.getCanvas("pattern",m,q,!0),f=f.createCanvasGraphics(u.context);f.groupLevel=a.groupLevel;this.setFillAndStrokeStyleToContext(f,o,h);this.setScale(m,q,g,l);this.transformToScale(f);f.transform.apply(f,[1,0,0,1,-p[0],-p[1]]);this.clipBbox(f,d,t,b,e,k);f.executeOperatorList(c);return u.canvas},setScale:function(a,c,d,g){this.scale=[a/d,c/g]},transformToScale:function(a){var c=
this.scale;a.transform.apply(a,[c[0],0,0,c[1],0,0])},scaleToContext:function(){var a=this.scale;this.ctx.scale(1/a[0],1/a[1])},clipBbox:function(a,c,d,g,i,l){Array.isArray(c)&&4===c.length&&(a.ctx.rect(d,g,i-d,l-g),a.clip(),a.endPath())},setFillAndStrokeStyleToContext:function(a,c,d){var g=a.ctx,a=a.current;switch(c){case 1:c=this.ctx;g.fillStyle=c.fillStyle;g.strokeStyle=c.strokeStyle;a.fillColor=c.fillStyle;a.strokeColor=c.strokeStyle;break;case 2:c=i.Util.makeCssRgb(d[0],d[1],d[2]);g.fillStyle=
c;g.strokeStyle=c;a.fillColor=c;a.strokeColor=c;break;default:throw new i.FormatError("Unsupported paint type: ".concat(c));}},getPattern:function(a,c){var d=this.createPatternCanvas(c),a=this.ctx;a.setTransform.apply(a,this.baseTransform);a.transform.apply(a,this.matrix);this.scaleToContext();return a.createPattern(d,"repeat")}};return a}();c.TilingPattern=d},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.GlobalWorkerOptions=void 0;var a=Object.create(null);c.GlobalWorkerOptions=
a;a.workerPort=void 0===a.workerPort?null:a.workerPort;a.workerSrc=void 0===a.workerSrc?"":a.workerSrc},function(d,c,a){function i(a){i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return i(a)}function l(a,c,b,e,d,g,j){try{var m=a[g](j),i=m.value}catch(n){b(n);return}m.done?c(i):Promise.resolve(i).then(e,d)}function g(a){return function(){var c=
this,b=arguments;return new Promise(function(e,d){function g(a){l(m,e,d,g,j,"next",a)}function j(a){l(m,e,d,g,j,"throw",a)}var m=a.apply(c,b);g(void 0)})}}function o(a,c){return r.apply(this,arguments)}function r(){r=g(w.default.mark(function f(a,e){var c,d=arguments;return w.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:c=2<d.length&&void 0!==d[2]?d[2]:null;if(a){f.next=3;break}return f.abrupt("return");case 3:return f.abrupt("return",a.apply(c,e));case 4:case "end":return f.stop()}},
f,this)}));return r.apply(this,arguments)}function v(a){if("object"!==i(a))return a;switch(a.name){case "AbortException":return new t.AbortException(a.message);case "MissingPDFException":return new t.MissingPDFException(a.message);case "UnexpectedResponseException":return new t.UnexpectedResponseException(a.message,a.status);default:return new t.UnknownErrorException(a.message,a.details)}}function s(a,c,b){c?a.resolve():a.reject(b)}function j(a){return Promise.resolve(a).catch(function(){})}function x(a,
c,b){var e=this;this.sourceName=a;this.targetName=c;this.comObj=b;this.streamId=this.callbackId=1;this.postMessageTransfers=!0;this.streamSinks=Object.create(null);this.streamControllers=Object.create(null);var d=this.callbacksCapabilities=Object.create(null),g=this.actionHandler=Object.create(null);this._onComObjOnMessage=function(a){var c=a.data;if(c.targetName===e.sourceName)if(c.stream)e._processStreamMessage(c);else if(c.isReply)if(a=c.callbackId,c.callbackId in d){var f=d[a];delete d[a];"error"in
c?f.reject(v(c.error)):f.resolve(c.data)}else throw Error("Cannot resolve callback ".concat(a));else if(c.action in g){var h=g[c.action];if(c.callbackId){var j=e.sourceName,i=c.sourceName;Promise.resolve().then(function(){return h[0].call(h[1],c.data)}).then(function(a){b.postMessage({sourceName:j,targetName:i,isReply:!0,callbackId:c.callbackId,data:a})},function(a){b.postMessage({sourceName:j,targetName:i,isReply:!0,callbackId:c.callbackId,error:!(a instanceof Error)||a instanceof t.AbortException||
a instanceof t.MissingPDFException||a instanceof t.UnexpectedResponseException||a instanceof t.UnknownErrorException?a:new t.UnknownErrorException(a.message,a.toString())})})}else c.streamId?e._createStreamSink(c):h[0].call(h[1],c.data)}else throw Error("Unknown action from worker: ".concat(c.action));};b.addEventListener("message",this._onComObjOnMessage)}Object.defineProperty(c,"__esModule",{value:!0});c.MessageHandler=x;var w=function(a){return a&&a.__esModule?a:{"default":a}}(a(134)),t=a(1);x.prototype=
{on:function(a,c,b){var e=this.actionHandler;if(e[a])throw Error('There is already an actionName called "'.concat(a,'"'));e[a]=[c,b]},send:function(a,c,b){this.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:a,data:c},b)},sendWithPromise:function(a,c,b){var e=this.callbackId++,a={sourceName:this.sourceName,targetName:this.targetName,action:a,data:c,callbackId:e},c=(0,t.createPromiseCapability)();this.callbacksCapabilities[e]=c;try{this.postMessage(a,b)}catch(d){c.reject(d)}return c.promise},
sendWithStream:function(a,c,b){var e=this,d=this.streamId++,g=this.sourceName,j=this.targetName;return new t.ReadableStream({start:function(b){var i=(0,t.createPromiseCapability)();e.streamControllers[d]={controller:b,startCall:i,isClosed:!1};e.postMessage({sourceName:g,targetName:j,action:a,streamId:d,data:c,desiredSize:b.desiredSize});return i.promise},pull:function(a){var b=(0,t.createPromiseCapability)();e.streamControllers[d].pullCall=b;e.postMessage({sourceName:g,targetName:j,stream:"pull",
streamId:d,desiredSize:a.desiredSize});return b.promise},cancel:function(a){var b=(0,t.createPromiseCapability)();e.streamControllers[d].cancelCall=b;e.streamControllers[d].isClosed=!0;e.postMessage({sourceName:g,targetName:j,stream:"cancel",reason:a,streamId:d});return b.promise}},b)},_createStreamSink:function(a){var c=this,b=this,e=this.actionHandler[a.action],d=a.streamId,g=a.desiredSize,j=this.sourceName,m=a.sourceName,i=function(a){c.postMessage({sourceName:j,targetName:m,stream:a.stream,streamId:d,
chunk:a.chunk,success:a.success,reason:a.reason},a.transfers)},g={enqueue:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,e=2<arguments.length?arguments[2]:void 0;if(!this.isCancelled){var c=this.desiredSize;this.desiredSize-=b;0<c&&0>=this.desiredSize&&(this.sinkCapability=(0,t.createPromiseCapability)(),this.ready=this.sinkCapability.promise);i({stream:"enqueue",chunk:a,transfers:e})}},close:function(){this.isCancelled||(this.isCancelled=!0,i({stream:"close"}),delete b.streamSinks[d])},
error:function(a){this.isCancelled||(this.isCancelled=!0,i({stream:"error",reason:a}))},sinkCapability:(0,t.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:g,ready:null};g.sinkCapability.resolve();g.ready=g.sinkCapability.promise;this.streamSinks[d]=g;o(e[0],[a.data,g],e[1]).then(function(){i({stream:"start_complete",success:!0})},function(a){i({stream:"start_complete",success:!1,reason:a})})},_processStreamMessage:function(a){var c=this,b=this.sourceName,e=a.sourceName,
d=a.streamId,g=function(a){c.comObj.postMessage({sourceName:b,targetName:e,stream:a.stream,success:a.success,streamId:d,reason:a.reason})},q=function(){Promise.all([c.streamControllers[a.streamId].startCall,c.streamControllers[a.streamId].pullCall,c.streamControllers[a.streamId].cancelCall].map(function(a){return a&&j(a.promise)})).then(function(){delete c.streamControllers[a.streamId]})};switch(a.stream){case "start_complete":s(this.streamControllers[a.streamId].startCall,a.success,v(a.reason));
break;case "pull_complete":s(this.streamControllers[a.streamId].pullCall,a.success,v(a.reason));break;case "pull":if(!this.streamSinks[a.streamId]){g({stream:"pull_complete",success:!0});break}0>=this.streamSinks[a.streamId].desiredSize&&0<a.desiredSize&&this.streamSinks[a.streamId].sinkCapability.resolve();this.streamSinks[a.streamId].desiredSize=a.desiredSize;o(this.streamSinks[a.streamId].onPull).then(function(){g({stream:"pull_complete",success:!0})},function(a){g({stream:"pull_complete",success:!1,
reason:a})});break;case "enqueue":(0,t.assert)(this.streamControllers[a.streamId],"enqueue should have stream controller");this.streamControllers[a.streamId].isClosed||this.streamControllers[a.streamId].controller.enqueue(a.chunk);break;case "close":(0,t.assert)(this.streamControllers[a.streamId],"close should have stream controller");if(this.streamControllers[a.streamId].isClosed)break;this.streamControllers[a.streamId].isClosed=!0;this.streamControllers[a.streamId].controller.close();q();break;
case "error":(0,t.assert)(this.streamControllers[a.streamId],"error should have stream controller");this.streamControllers[a.streamId].controller.error(v(a.reason));q();break;case "cancel_complete":s(this.streamControllers[a.streamId].cancelCall,a.success,v(a.reason));q();break;case "cancel":if(!this.streamSinks[a.streamId])break;o(this.streamSinks[a.streamId].onCancel,[v(a.reason)]).then(function(){g({stream:"cancel_complete",success:!0})},function(a){g({stream:"cancel_complete",success:!1,reason:a})});
this.streamSinks[a.streamId].sinkCapability.reject(v(a.reason));this.streamSinks[a.streamId].isCancelled=!0;delete this.streamSinks[a.streamId];break;default:throw Error("Unexpected stream case");}},postMessage:function(a,c){c&&this.postMessageTransfers?this.comObj.postMessage(a,c):this.comObj.postMessage(a)},destroy:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},function(d,c,a){function i(a,c){for(var d=0;d<c.length;d++){var g=c[d];g.enumerable=g.enumerable||!1;
g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(a,g.key,g)}}function l(a,c,d){c&&i(a.prototype,c);d&&i(a,d);return a}Object.defineProperty(c,"__esModule",{value:!0});c.Metadata=void 0;var g=a(1),o=a(146),d=function(){function a(c){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");(0,g.assert)("string"===typeof c,"Metadata: input is not a string");c=this._repair(c);c=(new o.SimpleXMLParser).parseFromString(c);this._metadata=Object.create(null);c&&
this._parse(c)}l(a,[{key:"_repair",value:function(a){return a.replace(/>\\376\\377([^<]+)/g,function(a,c){for(var d=c.replace(/\\([0-3])([0-7])([0-7])/g,function(a,c,d,f){return String.fromCharCode(64*c+8*d+1*f)}).replace(/&(amp|apos|gt|lt|quot);/g,function(a,c){switch(c){case "amp":return"&";case "apos":return"'";case "gt":return">";case "lt":return"<";case "quot":return'"'}throw Error("_repair: ".concat(c," isn't defined."));}),g="",i=0,h=d.length;i<h;i+=2)var f=256*d.charCodeAt(i)+d.charCodeAt(i+
1),g=32<=f&&127>f&&60!==f&&62!==f&&38!==f?g+String.fromCharCode(f):g+("&#x"+(65536+f).toString(16).substring(1)+";");return">"+g})}},{key:"_parse",value:function(a){a=a.documentElement;if("rdf:rdf"!==a.nodeName.toLowerCase())for(a=a.firstChild;a&&"rdf:rdf"!==a.nodeName.toLowerCase();)a=a.nextSibling;var c=a?a.nodeName.toLowerCase():null;if(a&&"rdf:rdf"===c&&a.hasChildNodes())for(var a=a.childNodes,c=0,d=a.length;c<d;c++){var g=a[c];if("rdf:description"===g.nodeName.toLowerCase())for(var i=0,l=g.childNodes.length;i<
l;i++)if("#text"!==g.childNodes[i].nodeName.toLowerCase()){var h=g.childNodes[i];this._metadata[h.nodeName.toLowerCase()]=h.textContent.trim()}}}},{key:"get",value:function(a){return this._metadata[a]||null}},{key:"getAll",value:function(){return this._metadata}},{key:"has",value:function(a){return"undefined"!==typeof this._metadata[a]}}]);return a}();c.Metadata=d},function(d,c){var a;function i(a){i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&
"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return i(a)}function l(a,c,b){l="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(a,b,c){for(;!Object.prototype.hasOwnProperty.call(a,b)&&!(a=g(a),null===a););if(a)return b=Object.getOwnPropertyDescriptor(a,b),b.get?b.get.call(c):b.value};return l(a,c,b||a)}function g(a){g=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)};return g(a)}function o(a,
c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,writable:!0,configurable:!0}});c&&r(a,c)}function r(a,c){r=Object.setPrototypeOf||function(a,c){a.__proto__=c;return a};return r(a,c)}function v(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function s(a,c){for(var b=0;b<c.length;b++){var e=c[b];e.enumerable=e.enumerable||!1;e.configurable=
!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}function j(a,c,b){c&&s(a.prototype,c);b&&s(a,b);return a}function x(a,c){var b=a[c];return" "===b||"\n"===b||"\r"===b||"\t"===b}Object.defineProperty(c,"__esModule",{value:!0});c.SimpleXMLParser=void 0;a=0;var w=function(){function a(){v(this,a)}j(a,[{key:"_resolveEntities",value:function(a){return a.replace(/&([^;]+);/g,function(a,c){if("#x"===c.substring(0,2))return String.fromCharCode(parseInt(c.substring(2),16));if("#"===c.substring(0,
1))return String.fromCharCode(parseInt(c.substring(1),10));switch(c){case "lt":return"<";case "gt":return">";case "amp":return"&";case "quot":return'"'}return this.onResolveEntity(c)})}},{key:"_parseContent",value:function(a,b){function c(){for(;d<a.length&&x(a,d);)++d}for(var d=b,g,h=[];d<a.length&&!x(a,d)&&">"!==a[d]&&"/"!==a[d];)++d;g=a.substring(b,d);for(c();d<a.length&&">"!==a[d]&&"/"!==a[d]&&"?"!==a[d];){c();for(var j="",i="";d<a.length&&!x(a,d)&&"="!==a[d];)j+=a[d],++d;c();if("="!==a[d])return null;
++d;c();i=a[d];if('"'!==i&&"'"!==i)return null;var n=a.indexOf(i,++d);if(0>n)return null;i=a.substring(d,n);h.push({name:j,value:this._resolveEntities(i)});d=n+1;c()}return{name:g,attributes:h,parsed:d-b}}},{key:"_parseProcessingInstruction",value:function(a,b){for(var c=b,d,g;c<a.length&&!x(a,c)&&">"!==a[c]&&"/"!==a[c];)++c;for(d=a.substring(b,c);c<a.length&&x(a,c);)++c;for(g=c;c<a.length&&("?"!==a[c]||">"!==a[c+1]);)++c;g=a.substring(g,c);return{name:d,value:g,parsed:c-b}}},{key:"parseXml",value:function(a){for(var b=
0;b<a.length;){var c=b;if("<"===a[b])switch(++c,b=void 0,a[c]){case "/":++c;b=a.indexOf(">",c);if(0>b){this.onError(-9);return}this.onEndElement(a.substring(c,b));c=b+1;break;case "?":++c;b=this._parseProcessingInstruction(a,c);if("?>"!==a.substring(c+b.parsed,c+b.parsed+2)){this.onError(-3);return}this.onPi(b.name,b.value);c+=b.parsed+2;break;case "!":if("--"===a.substring(c+1,c+3)){b=a.indexOf("--\>",c+3);if(0>b){this.onError(-5);return}this.onComment(a.substring(c+3,b));c=b+3}else if("[CDATA["===
a.substring(c+1,c+8)){b=a.indexOf("]]\>",c+8);if(0>b){this.onError(-2);return}this.onCdata(a.substring(c+8,b));c=b+3}else if("DOCTYPE"===a.substring(c+1,c+8)){var d=a.indexOf("[",c+8),g=!1,b=a.indexOf(">",c+8);if(0>b){this.onError(-4);return}if(0<d&&b>d){b=a.indexOf("]>",c+8);if(0>b){this.onError(-4);return}g=!0}this.onDoctype(a.substring(c+8,b+(g?1:0)));c=b+(g?2:1)}else{this.onError(-6);return}break;default:b=this._parseContent(a,c);if(null===b){this.onError(-6);return}d=!1;if("/>"===a.substring(c+
b.parsed,c+b.parsed+2))d=!0;else if(">"!==a.substring(c+b.parsed,c+b.parsed+1)){this.onError(-9);return}this.onBeginElement(b.name,b.attributes,d);c+=b.parsed+(d?2:1)}else{for(;c<a.length&&"<"!==a[c];)c++;this.onText(this._resolveEntities(a.substring(b,c)))}b=c}}},{key:"onResolveEntity",value:function(a){return"&".concat(a,";")}},{key:"onPi",value:function(){}},{key:"onComment",value:function(){}},{key:"onCdata",value:function(){}},{key:"onDoctype",value:function(){}},{key:"onText",value:function(){}},
{key:"onBeginElement",value:function(){}},{key:"onEndElement",value:function(){}},{key:"onError",value:function(){}}]);return a}(),t=function(){function a(c,b){v(this,a);this.nodeName=c;this.nodeValue=b;Object.defineProperty(this,"parentNode",{value:null,writable:!0})}j(a,[{key:"hasChildNodes",value:function(){return this.childNodes&&0<this.childNodes.length}},{key:"firstChild",get:function(){return this.childNodes[0]}},{key:"nextSibling",get:function(){return this.parentNode.childNodes[this.parentNode.childNodes.indexOf(this)+
1]}},{key:"textContent",get:function(){return!this.childNodes?this.nodeValue||"":this.childNodes.map(function(a){return a.textContent}).join("")}}]);return a}(),w=function(c){function d(){var b;v(this,d);b=g(d).call(this);if(!b||!("object"===i(b)||"function"===typeof b)){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=this}b._currentFragment=null;b._stack=null;b._errorCode=a;return b}o(d,c);j(d,[{key:"parseFromString",value:function(b){this._currentFragment=
[];this._stack=[];this._errorCode=a;this.parseXml(b);if(this._errorCode===a){var c;b=this._currentFragment;Array.isArray(b)&&(c=b);if(!c){c=[];var b=!0,d=!1,f=void 0;try{for(var g=this._currentFragment[Symbol.iterator](),h;!(b=(h=g.next()).done)&&!(c.push(h.value),1===c.length);b=!0);}catch(j){d=!0,f=j}finally{try{if(!b&&null!=g["return"])g["return"]()}finally{if(d)throw f;}}if(!c)throw new TypeError("Invalid attempt to destructure non-iterable instance");}g=c[0];return!g?void 0:{documentElement:g}}}},
{key:"onResolveEntity",value:function(a){switch(a){case "apos":return"'"}return l(g(d.prototype),"onResolveEntity",this).call(this,a)}},{key:"onText",value:function(a){var c;a:{c=0;for(var d=a.length;c<d;c++)if(!x(a,c)){c=!1;break a}c=!0}c||this._currentFragment.push(new t("#text",a))}},{key:"onCdata",value:function(a){this._currentFragment.push(new t("#text",a))}},{key:"onBeginElement",value:function(a,c,d){a=new t(a);a.childNodes=[];this._currentFragment.push(a);d||(this._stack.push(this._currentFragment),
this._currentFragment=a.childNodes)}},{key:"onEndElement",value:function(){this._currentFragment=this._stack.pop();for(var a=this._currentFragment[this._currentFragment.length-1],c=0,d=a.childNodes.length;c<d;c++)a.childNodes[c].parentNode=a}},{key:"onError",value:function(a){this._errorCode=a}}]);return d}(w);c.SimpleXMLParser=w},function(d,c,a){function i(a,c,d,g,i,l,t){try{var h=a[l](t),f=h.value}catch(b){d(b);return}h.done?c(f):Promise.resolve(f).then(g,i)}function l(a){return function(){var c=
this,d=arguments;return new Promise(function(g,l){function o(a){i(h,g,l,o,t,"next",a)}function t(a){i(h,g,l,o,t,"throw",a)}var h=a.apply(c,d);o(void 0)})}}Object.defineProperty(c,"__esModule",{value:!0});c.PDFDataTransportStream=void 0;var g=function(a){return a&&a.__esModule?a:{"default":a}}(a(134)),o=a(1),d=function(){function a(c,d){var g=this;(0,o.assert)(d);this._queuedChunks=[];var i=c.initialData;i&&0<i.length&&this._queuedChunks.push((new Uint8Array(i)).buffer);this._pdfDataRangeTransport=
d;this._isStreamingSupported=!c.disableStream;this._isRangeSupported=!c.disableRange;this._contentLength=c.length;this._fullRequestReader=null;this._rangeReaders=[];this._pdfDataRangeTransport.addRangeListener(function(a,c){g._onReceiveData({begin:a,chunk:c})});this._pdfDataRangeTransport.addProgressListener(function(a){g._onProgress({loaded:a})});this._pdfDataRangeTransport.addProgressiveReadListener(function(a){g._onReceiveData({chunk:a})});this._pdfDataRangeTransport.transportReady()}function c(a,
d){this._stream=a;this._done=!1;this._filename=null;this._queuedChunks=d||[];this._requests=[];this._headersReady=Promise.resolve();a._fullRequestReader=this;this.onProgress=null}function d(a,c,g){this._stream=a;this._begin=c;this._end=g;this._queuedChunk=null;this._requests=[];this._done=!1;this.onProgress=null}a.prototype={_onReceiveData:function(a){var c=(new Uint8Array(a.chunk)).buffer;if(void 0===a.begin)this._fullRequestReader?this._fullRequestReader._enqueue(c):this._queuedChunks.push(c);else{var d=
this._rangeReaders.some(function(d){if(d._begin!==a.begin)return!1;d._enqueue(c);return!0});(0,o.assert)(d)}},_onProgress:function(a){if(0<this._rangeReaders.length){var c=this._rangeReaders[0];if(c.onProgress)c.onProgress({loaded:a.loaded})}},_removeRangeReader:function(a){a=this._rangeReaders.indexOf(a);0<=a&&this._rangeReaders.splice(a,1)},getFullReader:function(){(0,o.assert)(!this._fullRequestReader);var a=this._queuedChunks;this._queuedChunks=null;return new c(this,a)},getRangeReader:function(a,
c){var g=new d(this,a,c);this._pdfDataRangeTransport.requestDataRange(a,c);this._rangeReaders.push(g);return g},cancelAllRequests:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);this._rangeReaders.slice(0).forEach(function(c){c.cancel(a)});this._pdfDataRangeTransport.abort()}};c.prototype={_enqueue:function(a){this._done||(0<this._requests.length?this._requests.shift().resolve({value:a,done:!1}):this._queuedChunks.push(a))},get headersReady(){return this._headersReady},get filename(){return this._filename},
get isRangeSupported(){return this._stream._isRangeSupported},get isStreamingSupported(){return this._stream._isStreamingSupported},get contentLength(){return this._stream._contentLength},read:function(){var a=l(g.default.mark(function w(){var a,c;return g.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!(0<this._queuedChunks.length)){d.next=3;break}a=this._queuedChunks.shift();return d.abrupt("return",{value:a,done:!1});case 3:if(!this._done){d.next=5;break}return d.abrupt("return",
{value:void 0,done:!0});case 5:return c=(0,o.createPromiseCapability)(),this._requests.push(c),d.abrupt("return",c.promise);case 8:case "end":return d.stop()}},w,this)}));return function(){return a.apply(this,arguments)}}(),cancel:function(){this._done=!0;this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[]}};d.prototype={_enqueue:function(a){this._done||(0===this._requests.length?this._queuedChunk=a:(this._requests.shift().resolve({value:a,done:!1}),this._requests.forEach(function(a){a.resolve({value:void 0,
done:!0})}),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))},get isStreamingSupported(){return!1},read:function(){var a=l(g.default.mark(function w(){var a,c;return g.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!this._queuedChunk){d.next=4;break}a=this._queuedChunk;this._queuedChunk=null;return d.abrupt("return",{value:a,done:!1});case 4:if(!this._done){d.next=6;break}return d.abrupt("return",{value:void 0,done:!0});case 6:return c=(0,o.createPromiseCapability)(),
this._requests.push(c),d.abrupt("return",c.promise);case 9:case "end":return d.stop()}},w,this)}));return function(){return a.apply(this,arguments)}}(),cancel:function(){this._done=!0;this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[];this._stream._removeRangeReader(this)}};return a}();c.PDFDataTransportStream=d},function(d,c,a){function i(a,c){for(var d=0;d<c.length;d++){var g=c[d];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);
Object.defineProperty(a,g.key,g)}}function l(a,c,d){c&&i(a.prototype,c);d&&i(a,d);return a}Object.defineProperty(c,"__esModule",{value:!0});c.WebGLContext=void 0;var g=a(1),d=function(){function a(c){c=c.enable;c=void 0===c?!1:c;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._enabled=!0===c}l(a,[{key:"composeSMask",value:function(a){return o.composeSMask(a.layer,a.mask,a.properties)}},{key:"drawFigures",value:function(a){return o.drawFigures(a.width,a.height,
a.backgroundColor,a.figures,a.context)}},{key:"clear",value:function(){o.cleanup()}},{key:"isEnabled",get:function(){var a=this._enabled;a&&(a=o.tryInitGL());return(0,g.shadow)(this,"isEnabled",a)}}]);return a}();c.WebGLContext=d;var o=function(){function a(c,b,e){e=c.createShader(e);c.shaderSource(e,b);c.compileShader(e);if(!c.getShaderParameter(e,c.COMPILE_STATUS))throw c=c.getShaderInfoLog(e),Error("Error during shader compilation: "+c);return e}function c(a,b){for(var e=a.createProgram(),d=0,
g=b.length;d<g;++d)a.attachShader(e,b[d]);a.linkProgram(e);if(!a.getProgramParameter(e,a.LINK_STATUS))throw e=a.getProgramInfoLog(e),Error("Error during program linking: "+e);return e}function d(a,b,c){a.activeTexture(c);c=a.createTexture();a.bindTexture(a.TEXTURE_2D,c);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,
a.NEAREST);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,b);return c}function g(){i||(l=document.createElement("canvas"),i=l.getContext("webgl",{premultipliedalpha:!1}))}var i,l,t=null,h=null;return{tryInitGL:function(){try{return g(),!!i}catch(a){}return!1},composeSMask:function(f,b,e){var k=f.width,h=f.height;if(!t){var q,m;g();q=l;l=null;m=i;i=null;var u=a(m,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",
m.VERTEX_SHADER),n=a(m,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",
m.FRAGMENT_SHADER),o=c(m,[u,n]);m.useProgram(o);u={};u.gl=m;u.canvas=q;u.resolutionLocation=m.getUniformLocation(o,"u_resolution");u.positionLocation=m.getAttribLocation(o,"a_position");u.backdropLocation=m.getUniformLocation(o,"u_backdrop");u.subtypeLocation=m.getUniformLocation(o,"u_subtype");q=m.getAttribLocation(o,"a_texCoord");var n=m.getUniformLocation(o,"u_image"),o=m.getUniformLocation(o,"u_mask"),C=m.createBuffer();m.bindBuffer(m.ARRAY_BUFFER,C);m.bufferData(m.ARRAY_BUFFER,new Float32Array([0,
0,1,0,0,1,0,1,1,0,1,1]),m.STATIC_DRAW);m.enableVertexAttribArray(q);m.vertexAttribPointer(q,2,m.FLOAT,!1,0,0);m.uniform1i(n,0);m.uniform1i(o,1);t=u}m=t;u=m.canvas;q=m.gl;u.width=k;u.height=h;q.viewport(0,0,q.drawingBufferWidth,q.drawingBufferHeight);q.uniform2f(m.resolutionLocation,k,h);e.backdrop?q.uniform4f(m.resolutionLocation,e.backdrop[0],e.backdrop[1],e.backdrop[2],1):q.uniform4f(m.resolutionLocation,0,0,0,0);q.uniform1i(m.subtypeLocation,"Luminosity"===e.subtype?1:0);f=d(q,f,q.TEXTURE0);b=
d(q,b,q.TEXTURE1);e=q.createBuffer();q.bindBuffer(q.ARRAY_BUFFER,e);q.bufferData(q.ARRAY_BUFFER,new Float32Array([0,0,k,0,0,h,0,h,k,0,k,h]),q.STATIC_DRAW);q.enableVertexAttribArray(m.positionLocation);q.vertexAttribPointer(m.positionLocation,2,q.FLOAT,!1,0,0);q.clearColor(0,0,0,0);q.enable(q.BLEND);q.blendFunc(q.ONE,q.ONE_MINUS_SRC_ALPHA);q.clear(q.COLOR_BUFFER_BIT);q.drawArrays(q.TRIANGLES,0,6);q.flush();q.deleteTexture(f);q.deleteTexture(b);q.deleteBuffer(e);return u},drawFigures:function(d,b,e,
k,p){if(!h){var q,m;g();q=l;l=null;m=i;i=null;var u=a(m,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",
m.VERTEX_SHADER),n=a(m,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",m.FRAGMENT_SHADER),u=c(m,[u,
n]);m.useProgram(u);n={};n.gl=m;n.canvas=q;n.resolutionLocation=m.getUniformLocation(u,"u_resolution");n.scaleLocation=m.getUniformLocation(u,"u_scale");n.offsetLocation=m.getUniformLocation(u,"u_offset");n.positionLocation=m.getAttribLocation(u,"a_position");n.colorLocation=m.getAttribLocation(u,"a_color");h=n}q=h;m=q.canvas;u=q.gl;m.width=d;m.height=b;u.viewport(0,0,u.drawingBufferWidth,u.drawingBufferHeight);u.uniform2f(q.resolutionLocation,d,b);var d=0,o,t,s;o=0;for(t=k.length;o<t;o++)switch(k[o].type){case "lattice":s=
k[o].coords.length/k[o].verticesPerRow|0;d+=6*(s-1)*(k[o].verticesPerRow-1);break;case "triangles":d+=k[o].coords.length}var n=new Float32Array(2*d),b=new Uint8Array(3*d),G=p.coords,H=p.colors,B=0,y=0;o=0;for(t=k.length;o<t;o++){s=k[o];var E=s.coords,I=s.colors;switch(s.type){case "lattice":var A=s.verticesPerRow;s=E.length/A|0;for(var M=1;M<s;M++)for(var L=M*A+1,O=1;O<A;O++,L++)n[B]=G[E[L-A-1]],n[B+1]=G[E[L-A-1]+1],n[B+2]=G[E[L-A]],n[B+3]=G[E[L-A]+1],n[B+4]=G[E[L-1]],n[B+5]=G[E[L-1]+1],b[y]=H[I[L-
A-1]],b[y+1]=H[I[L-A-1]+1],b[y+2]=H[I[L-A-1]+2],b[y+3]=H[I[L-A]],b[y+4]=H[I[L-A]+1],b[y+5]=H[I[L-A]+2],b[y+6]=H[I[L-1]],b[y+7]=H[I[L-1]+1],b[y+8]=H[I[L-1]+2],n[B+6]=n[B+2],n[B+7]=n[B+3],n[B+8]=n[B+4],n[B+9]=n[B+5],n[B+10]=G[E[L]],n[B+11]=G[E[L]+1],b[y+9]=b[y+3],b[y+10]=b[y+4],b[y+11]=b[y+5],b[y+12]=b[y+6],b[y+13]=b[y+7],b[y+14]=b[y+8],b[y+15]=H[I[L]],b[y+16]=H[I[L]+1],b[y+17]=H[I[L]+2],B+=12,y+=18;break;case "triangles":s=0;for(A=E.length;s<A;s++)n[B]=G[E[s]],n[B+1]=G[E[s]+1],b[y]=H[I[s]],b[y+1]=
H[I[s]+1],b[y+2]=H[I[s]+2],B+=2,y+=3}}e?u.clearColor(e[0]/255,e[1]/255,e[2]/255,1):u.clearColor(0,0,0,0);u.clear(u.COLOR_BUFFER_BIT);e=u.createBuffer();u.bindBuffer(u.ARRAY_BUFFER,e);u.bufferData(u.ARRAY_BUFFER,n,u.STATIC_DRAW);u.enableVertexAttribArray(q.positionLocation);u.vertexAttribPointer(q.positionLocation,2,u.FLOAT,!1,0,0);k=u.createBuffer();u.bindBuffer(u.ARRAY_BUFFER,k);u.bufferData(u.ARRAY_BUFFER,b,u.STATIC_DRAW);u.enableVertexAttribArray(q.colorLocation);u.vertexAttribPointer(q.colorLocation,
3,u.UNSIGNED_BYTE,!1,0,0);u.uniform2f(q.scaleLocation,p.scaleX,p.scaleY);u.uniform2f(q.offsetLocation,p.offsetX,p.offsetY);u.drawArrays(u.TRIANGLES,0,d);u.flush();u.deleteBuffer(e);u.deleteBuffer(k);return m},cleanup:function(){t&&t.canvas&&(t.canvas.width=0,t.canvas.height=0);h&&h.canvas&&(h.canvas.width=0,h.canvas.height=0);h=t=null}}}()},function(d,c,a){Object.defineProperty(c,"__esModule",{value:!0});c.renderTextLayer=void 0;var i=a(1),l=function(a){return a&&a.__esModule?a:{"default":a}}(a(3)),
d=function(){function a(c){if(!c._canceled){var d=c._textDivs,f=c._capability,b=d.length;if(!(b>j)&&!c._textContentStream)for(var e=0;e<b;e++)c._layoutText(d[e]);c._renderingDone=!0;f.resolve()}}function c(a){for(var g=a._bounds,f=a._viewport,f=d(f.width,f.height,g),b=0;b<f.length;b++){var e=g[b].div,k=a._textDivProperties.get(e);if(0===k.angle)k.paddingLeft=g[b].left-f[b].left,k.paddingTop=g[b].top-f[b].top,k.paddingRight=f[b].right-g[b].right,k.paddingBottom=f[b].bottom-g[b].bottom;else{var p=f[b],
j=g[b],m=j.m,l=m[0],n=m[1],j=[[0,0],[0,j.size[1]],[j.size[0],0],j.size],o=new Float64Array(64);j.forEach(function(a,b){var c=i.Util.applyTransform(a,m);o[b+0]=l&&(p.left-c[0])/l;o[b+4]=n&&(p.top-c[1])/n;o[b+8]=l&&(p.right-c[0])/l;o[b+12]=n&&(p.bottom-c[1])/n;o[b+16]=n&&(p.left-c[0])/-n;o[b+20]=l&&(p.top-c[1])/l;o[b+24]=n&&(p.right-c[0])/-n;o[b+28]=l&&(p.bottom-c[1])/l;o[b+32]=l&&(p.left-c[0])/-l;o[b+36]=n&&(p.top-c[1])/-n;o[b+40]=l&&(p.right-c[0])/-l;o[b+44]=n&&(p.bottom-c[1])/-n;o[b+48]=n&&(p.left-
c[0])/n;o[b+52]=l&&(p.top-c[1])/-l;o[b+56]=n&&(p.right-c[0])/n;o[b+60]=l&&(p.bottom-c[1])/-l});var j=function(a,b,c){for(var e=0,d=0;d<c;d++){var f=a[b++];0<f&&(e=e?Math.min(f,e):f)}return e},s=1+Math.min(Math.abs(l),Math.abs(n));k.paddingLeft=j(o,32,16)/s;k.paddingTop=j(o,48,16)/s;k.paddingRight=j(o,0,16)/s;k.paddingBottom=j(o,16,16)/s}a._textDivProperties.set(e,k)}}function d(a,c,f){var b=f.map(function(a,b){return{x1:a.left,y1:a.top,x2:a.right,y2:a.bottom,index:b,x1New:void 0,x2New:void 0}});v(a,
b);var e=Array(f.length);b.forEach(function(a){e[a.index]={left:a.x1New,top:0,right:a.x2New,bottom:0}});f.map(function(c,d){var f=e[d],g=b[d];g.x1=c.top;g.y1=a-f.right;g.x2=c.bottom;g.y2=a-f.left;g.index=d;g.x1New=void 0;g.x2New=void 0});v(c,b);b.forEach(function(a){var b=a.index;e[b].top=a.x1New;e[b].bottom=a.x2New});return e}function v(a,c){c.sort(function(a,c){return a.x1-c.x1||a.index-c.index});var d=[{start:-Infinity,end:Infinity,boundary:{x1:-Infinity,y1:-Infinity,x2:0,y2:Infinity,index:-1,
x1New:0,x2New:0}}];c.forEach(function(a){for(var c=0;c<d.length&&d[c].end<=a.y1;)c++;for(var g=d.length-1;0<=g&&d[g].start>=a.y2;)g--;var h,j,m,i=-Infinity;for(m=c;m<=g;m++){h=d[m];j=h.boundary;var l;l=j.x2>a.x1?j.index>a.index?j.x1New:a.x1:void 0===j.x2New?(j.x2+a.x1)/2:j.x2New;l>i&&(i=l)}a.x1New=i;for(m=c;m<=g;m++)h=d[m],j=h.boundary,void 0===j.x2New?j.x2>a.x1?j.index>a.index&&(j.x2New=j.x2):j.x2New=i:j.x2New>i&&(j.x2New=Math.max(i,j.x2));l=[];var o=null;for(m=c;m<=g;m++)h=d[m],j=h.boundary,j=j.x2>
a.x2?j:a,o===j?l[l.length-1].end=h.end:(l.push({start:h.start,end:h.end,boundary:j}),o=j);d[c].start<a.y1&&(l[0].start=a.y1,l.unshift({start:d[c].start,end:a.y1,boundary:d[c].boundary}));a.y2<d[g].end&&(l[l.length-1].end=a.y2,l.push({start:a.y2,end:d[g].end,boundary:d[g].boundary}));for(m=c;m<=g;m++)if(h=d[m],j=h.boundary,void 0===j.x2New){h=!1;for(a=c-1;!h&&0<=a&&d[a].start>=j.y1;a--)h=d[a].boundary===j;for(a=g+1;!h&&a<d.length&&d[a].end<=j.y2;a++)h=d[a].boundary===j;for(a=0;!h&&a<l.length;a++)h=
l[a].boundary===j;h||(j.x2New=i)}Array.prototype.splice.apply(d,[c,g-c+1].concat(l))});d.forEach(function(b){b=b.boundary;void 0===b.x2New&&(b.x2New=Math.max(a,b.x2))})}function s(a){var c=a.textContentStream,d=a.container,b=a.viewport,e=a.textDivs,g=a.textContentItemsStr,j=a.enhanceTextSelection;this._textContent=a.textContent;this._textContentStream=c;this._container=d;this._viewport=b;this._textDivs=e||[];this._textContentItemsStr=g||[];this._enhanceTextSelection=!!j;this._fontInspectorEnabled=
!(!l.default.FontInspector||!l.default.FontInspector.enabled);this._layoutTextCtx=this._layoutTextLastFontFamily=this._layoutTextLastFontSize=this._reader=null;this._textDivProperties=new WeakMap;this._canceled=this._renderingDone=!1;this._capability=(0,i.createPromiseCapability)();this._renderTimer=null;this._bounds=[]}var j=1E5,x=/\S/,w=["left: ",0,"px; top: ",0,"px; font-size: ",0,"px; font-family: ","",";"];s.prototype={get promise(){return this._capability.promise},cancel:function(){this._reader&&
(this._reader.cancel(new i.AbortException("text layer task cancelled")),this._reader=null);this._canceled=!0;null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null);this._capability.reject("canceled")},_processItems:function(a,c){for(var d=0,b=a.length;d<b;d++){this._textContentItemsStr.push(a[d].str);var e=a[d],g=c,j=document.createElement("span"),q={style:null,angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,
scale:1};this._textDivs.push(j);if(x.test(e.str)){var m=i.Util.transform(this._viewport.transform,e.transform),l=Math.atan2(m[1],m[0]),n=g[e.fontName];n.vertical&&(l+=Math.PI/2);var o=Math.sqrt(m[2]*m[2]+m[3]*m[3]),r=o;n.ascent?r*=n.ascent:n.descent&&(r*=1+n.descent);var s=g=void 0;0===l?(g=m[4],s=m[5]-r):(g=m[4]+r*Math.sin(l),s=m[5]-r*Math.cos(l));w[1]=g;w[3]=s;w[5]=o;w[7]=n.fontFamily;q.style=w.join("");j.setAttribute("style",q.style);j.textContent=e.str;this._fontInspectorEnabled&&(j.dataset.fontName=
e.fontName);0!==l&&(q.angle=l*(180/Math.PI));1<e.str.length&&(q.canvasWidth=n.vertical?e.height*this._viewport.scale:e.width*this._viewport.scale);this._textDivProperties.set(j,q);this._textContentStream&&this._layoutText(j);this._enhanceTextSelection&&(q=1,m=0,0!==l&&(q=Math.cos(l),m=Math.sin(l)),e=(n.vertical?e.height:e.width)*this._viewport.scale,r=n=void 0,0!==l?(n=[q,m,-m,q,g,s],r=i.Util.getAxialAlignedBoundingBox([0,0,e,o],n)):r=[g,s,g+e,s+o],this._bounds.push({left:r[0],top:r[1],right:r[2],
bottom:r[3],div:j,size:[e,o],m:n}))}else q.isWhitespace=!0,this._textDivProperties.set(j,q)}},_layoutText:function(a){var c=this._container,d=this._textDivProperties.get(a);if(!d.isWhitespace){var b=a.style.fontSize,e=a.style.fontFamily;if(b!==this._layoutTextLastFontSize||e!==this._layoutTextLastFontFamily)this._layoutTextCtx.font=b+" "+e,this._layoutTextLastFontSize=b,this._layoutTextLastFontFamily=e;b=this._layoutTextCtx.measureText(a.textContent).width;e="";0!==d.canvasWidth&&0<b&&(d.scale=d.canvasWidth/
b,e="scaleX(".concat(d.scale,")"));0!==d.angle&&(e="rotate(".concat(d.angle,"deg) ").concat(e));0<e.length&&(d.originalTransform=e,a.style.transform=e);this._textDivProperties.set(a,d);c.appendChild(a)}},_render:function(c){var d=this,f=(0,i.createPromiseCapability)(),b=Object.create(null),e=document.createElement("canvas");e.mozOpaque=!0;this._layoutTextCtx=e.getContext("2d",{alpha:!1});if(this._textContent)this._processItems(this._textContent.items,this._textContent.styles),f.resolve();else if(this._textContentStream)this._reader=
this._textContentStream.getReader(),function p(){d._reader.read().then(function(a){var c=a.value;a.done?f.resolve():(Object.assign(b,c.styles),d._processItems(c.items,b),p())},f.reject)}();else throw Error('Neither "textContent" nor "textContentStream" parameters specified.');f.promise.then(function(){b=null;c?d._renderTimer=setTimeout(function(){a(d);d._renderTimer=null},c):a(d)},this._capability.reject)},expandTextDivs:function(a){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&
(c(this),this._bounds=null);for(var d=0,f=this._textDivs.length;d<f;d++){var b=this._textDivs[d],e=this._textDivProperties.get(b);if(!e.isWhitespace)if(a){var g="",j="";1!==e.scale&&(g="scaleX("+e.scale+")");0!==e.angle&&(g="rotate("+e.angle+"deg) "+g);0!==e.paddingLeft&&(j+=" padding-left: "+e.paddingLeft/e.scale+"px;",g+=" translateX("+-e.paddingLeft/e.scale+"px)");0!==e.paddingTop&&(j+=" padding-top: "+e.paddingTop+"px;",g+=" translateY("+-e.paddingTop+"px)");0!==e.paddingRight&&(j+=" padding-right: "+
e.paddingRight/e.scale+"px;");0!==e.paddingBottom&&(j+=" padding-bottom: "+e.paddingBottom+"px;");""!==j&&b.setAttribute("style",e.style+j);""!==g&&(b.style.transform=g)}else b.style.padding=0,b.style.transform=e.originalTransform||""}}}};return function(a){var c=new s({textContent:a.textContent,textContentStream:a.textContentStream,container:a.container,viewport:a.viewport,textDivs:a.textDivs,textContentItemsStr:a.textContentItemsStr,enhanceTextSelection:a.enhanceTextSelection});c._render(a.timeout);
return c}}();c.renderTextLayer=d},function(d,c,a){function i(a,b,c){i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(a,b,c){for(;!Object.prototype.hasOwnProperty.call(a,b)&&!(a=r(a),null===a););if(a)return b=Object.getOwnPropertyDescriptor(a,b),b.get?b.get.call(c):b.value};return i(a,b,c||a)}function l(a){l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?
"symbol":typeof a};return l(a)}function g(a,b){return b&&("object"===l(b)||"function"===typeof b)?b:o(a)}function o(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function r(a){r=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)};return r(a)}function v(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&
b.prototype,{constructor:{value:a,writable:!0,configurable:!0}});b&&s(a,b)}function s(a,b){s=Object.setPrototypeOf||function(a,b){a.__proto__=b;return a};return s(a,b)}function j(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function x(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}function w(a,b,c){b&&x(a.prototype,b);c&&x(a,c);return a}Object.defineProperty(c,
"__esModule",{value:!0});c.AnnotationLayer=void 0;var t=a(138),h=a(1),f=function(){function a(){j(this,a)}w(a,null,[{key:"create",value:function(a){switch(a.data.annotationType){case h.AnnotationType.LINK:return new e(a);case h.AnnotationType.TEXT:return new k(a);case h.AnnotationType.WIDGET:switch(a.data.fieldType){case "Tx":return new q(a);case "Btn":return a.data.radioButton?new u(a):a.data.checkBox?new m(a):new n(a);case "Ch":return new z(a)}return new p(a);case h.AnnotationType.POPUP:return new C(a);
case h.AnnotationType.LINE:return new G(a);case h.AnnotationType.SQUARE:return new H(a);case h.AnnotationType.CIRCLE:return new B(a);case h.AnnotationType.POLYLINE:return new y(a);case h.AnnotationType.INK:return new I(a);case h.AnnotationType.POLYGON:return new E(a);case h.AnnotationType.HIGHLIGHT:return new A(a);case h.AnnotationType.UNDERLINE:return new M(a);case h.AnnotationType.SQUIGGLY:return new L(a);case h.AnnotationType.STRIKEOUT:return new O(a);case h.AnnotationType.STAMP:return new P(a);
case h.AnnotationType.FILEATTACHMENT:return new N(a);default:return new b(a)}}}]);return a}(),b=function(){function a(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;j(this,a);this.isRenderable=c;this.data=b.data;this.layer=b.layer;this.page=b.page;this.viewport=b.viewport;this.linkService=b.linkService;this.downloadManager=b.downloadManager;this.imageResourcesPath=b.imageResourcesPath;this.renderInteractiveForms=b.renderInteractiveForms;
this.svgFactory=b.svgFactory;c&&(this.container=this._createContainer(e))}w(a,[{key:"_createContainer",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,b=this.data,c=this.page,e=this.viewport,d=document.createElement("section"),g=b.rect[2]-b.rect[0],f=b.rect[3]-b.rect[1];d.setAttribute("data-annotation-id",b.id);c=h.Util.normalizeRect([b.rect[0],c.view[3]-b.rect[1]+c.view[1],b.rect[2],c.view[3]-b.rect[3]+c.view[1]]);d.style.transform="matrix("+e.transform.join(",")+
")";d.style.transformOrigin=-c[0]+"px "+-c[1]+"px";if(!a&&0<b.borderStyle.width){d.style.borderWidth=b.borderStyle.width+"px";b.borderStyle.style!==h.AnnotationBorderStyleType.UNDERLINE&&(g-=2*b.borderStyle.width,f-=2*b.borderStyle.width);a=b.borderStyle.horizontalCornerRadius;e=b.borderStyle.verticalCornerRadius;if(0<a||0<e)d.style.borderRadius=a+"px / "+e+"px";switch(b.borderStyle.style){case h.AnnotationBorderStyleType.SOLID:d.style.borderStyle="solid";break;case h.AnnotationBorderStyleType.DASHED:d.style.borderStyle=
"dashed";break;case h.AnnotationBorderStyleType.BEVELED:(0,h.warn)("Unimplemented border style: beveled");break;case h.AnnotationBorderStyleType.INSET:(0,h.warn)("Unimplemented border style: inset");break;case h.AnnotationBorderStyleType.UNDERLINE:d.style.borderBottomStyle="solid"}b.color?d.style.borderColor=h.Util.makeCssRgb(b.color[0]|0,b.color[1]|0,b.color[2]|0):d.style.borderWidth=0}d.style.left=c[0]+"px";d.style.top=c[1]+"px";d.style.width=g+"px";d.style.height=f+"px";return d}},{key:"_createPopup",
value:function(a,b,c){b||(b=document.createElement("div"),b.style.height=a.style.height,b.style.width=a.style.width,a.appendChild(b));b=(new J({container:a,trigger:b,color:c.color,title:c.title,contents:c.contents,hideWrapper:!0})).render();b.style.left=a.style.width;a.appendChild(b)}},{key:"render",value:function(){(0,h.unreachable)("Abstract method `AnnotationElement.render` called")}}]);return a}(),e=function(a){function b(a){j(this,b);var c=!(!a.data.url&&!a.data.dest&&!a.data.action);return g(this,
r(b).call(this,a,c))}v(b,a);w(b,[{key:"render",value:function(){this.container.className="linkAnnotation";var a=this.data,b=this.linkService,c=document.createElement("a");(0,t.addLinkAttributes)(c,{url:a.url,target:a.newWindow?t.LinkTarget.BLANK:b.externalLinkTarget,rel:b.externalLinkRel});a.url||(a.action?this._bindNamedAction(c,a.action):this._bindLink(c,a.dest));this.container.appendChild(c);return this.container}},{key:"_bindLink",value:function(a,b){var c=this;a.href=this.linkService.getDestinationHash(b);
a.onclick=function(){b&&c.linkService.navigateTo(b);return!1};b&&(a.className="internalLink")}},{key:"_bindNamedAction",value:function(a,b){var c=this;a.href=this.linkService.getAnchorUrl("");a.onclick=function(){c.linkService.executeNamedAction(b);return!1};a.className="internalLink"}}]);return b}(b),k=function(a){function b(a){j(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return g(this,r(b).call(this,a,c))}v(b,a);w(b,[{key:"render",value:function(){this.container.className=
"textAnnotation";var a=document.createElement("img");a.style.height=this.container.style.height;a.style.width=this.container.style.width;a.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg";a.alt="[{{type}} Annotation]";a.dataset.l10nId="text_annotation_type";a.dataset.l10nArgs=JSON.stringify({type:this.data.name});this.data.hasPopup||this._createPopup(this.container,a,this.data);this.container.appendChild(a);return this.container}}]);return b}(b),p=function(a){function b(){j(this,
b);return g(this,r(b).apply(this,arguments))}v(b,a);w(b,[{key:"render",value:function(){return this.container}}]);return b}(b),q=function(a){function b(a){j(this,b);var c=a.renderInteractiveForms||!a.data.hasAppearance&&!!a.data.fieldValue;return g(this,r(b).call(this,a,c))}v(b,a);w(b,[{key:"render",value:function(){var a=["left","center","right"];this.container.className="textWidgetAnnotation";var b=null;if(this.renderInteractiveForms){if(this.data.multiLine?(b=document.createElement("textarea"),
b.textContent=this.data.fieldValue):(b=document.createElement("input"),b.type="text",b.setAttribute("value",this.data.fieldValue)),b.disabled=this.data.readOnly,null!==this.data.maxLen&&(b.maxLength=this.data.maxLen),this.data.comb){var c=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;b.classList.add("comb");b.style.letterSpacing="calc("+c+"px - 1ch)"}}else b=document.createElement("div"),b.textContent=this.data.fieldValue,b.style.verticalAlign="middle",b.style.display="table-cell",c=null,
this.data.fontRefName&&this.page.commonObjs.has(this.data.fontRefName)&&(c=this.page.commonObjs.get(this.data.fontRefName)),this._setTextStyle(b,c);null!==this.data.textAlignment&&(b.style.textAlign=a[this.data.textAlignment]);this.container.appendChild(b);return this.container}},{key:"_setTextStyle",value:function(a,b){var c=a.style;c.fontSize=this.data.fontSize+"px";c.direction=0>this.data.fontDirection?"rtl":"ltr";b&&(c.fontWeight=b.black?b.bold?"900":"bold":b.bold?"bold":"normal",c.fontStyle=
b.italic?"italic":"normal",c.fontFamily=(b.loadedName?'"'+b.loadedName+'", ':"")+(b.fallbackName||"Helvetica, sans-serif"))}}]);return b}(p),m=function(a){function b(a){j(this,b);return g(this,r(b).call(this,a,a.renderInteractiveForms))}v(b,a);w(b,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation checkBox";var a=document.createElement("input");a.disabled=this.data.readOnly;a.type="checkbox";this.data.fieldValue&&"Off"!==this.data.fieldValue&&a.setAttribute("checked",
!0);this.container.appendChild(a);return this.container}}]);return b}(p),u=function(a){function b(a){j(this,b);return g(this,r(b).call(this,a,a.renderInteractiveForms))}v(b,a);w(b,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation radioButton";var a=document.createElement("input");a.disabled=this.data.readOnly;a.type="radio";a.name=this.data.fieldName;this.data.fieldValue===this.data.buttonValue&&a.setAttribute("checked",!0);this.container.appendChild(a);return this.container}}]);
return b}(p),n=function(a){function b(){j(this,b);return g(this,r(b).apply(this,arguments))}v(b,a);w(b,[{key:"render",value:function(){var a=i(r(b.prototype),"render",this).call(this);a.className="buttonWidgetAnnotation pushButton";return a}}]);return b}(e),z=function(a){function b(a){j(this,b);return g(this,r(b).call(this,a,a.renderInteractiveForms))}v(b,a);w(b,[{key:"render",value:function(){this.container.className="choiceWidgetAnnotation";var a=document.createElement("select");a.disabled=this.data.readOnly;
this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0));for(var b=0,c=this.data.options.length;b<c;b++){var e=this.data.options[b],d=document.createElement("option");d.textContent=e.displayValue;d.value=e.exportValue;this.data.fieldValue.includes(e.displayValue)&&d.setAttribute("selected",!0);a.appendChild(d)}this.container.appendChild(a);return this.container}}]);return b}(p),C=function(a){function b(a){j(this,b);var c=!(!a.data.title&&!a.data.contents);return g(this,
r(b).call(this,a,c))}v(b,a);w(b,[{key:"render",value:function(){this.container.className="popupAnnotation";if("Line Square Circle PolyLine Polygon Ink".split(" ").includes(this.data.parentType))return this.container;var a=this.layer.querySelector('[data-annotation-id="'+this.data.parentId+'"]');if(!a)return this.container;var b=new J({container:this.container,trigger:a,color:this.data.color,title:this.data.title,contents:this.data.contents}),c=parseFloat(a.style.left),e=parseFloat(a.style.width);
this.container.style.transformOrigin=-(c+e)+"px -"+a.style.top;this.container.style.left=c+e+"px";this.container.appendChild(b.render());return this.container}}]);return b}(b),J=function(){function a(b){j(this,a);this.container=b.container;this.trigger=b.trigger;this.color=b.color;this.title=b.title;this.contents=b.contents;this.hideWrapper=b.hideWrapper||!1;this.pinned=!1}w(a,[{key:"render",value:function(){var a=document.createElement("div");a.className="popupWrapper";this.hideElement=this.hideWrapper?
a:this.container;this.hideElement.setAttribute("hidden",!0);var b=document.createElement("div");b.className="popup";var c=this.color;c&&(b.style.backgroundColor=h.Util.makeCssRgb(0.7*(255-c[0])+c[0]|0,0.7*(255-c[1])+c[1]|0,0.7*(255-c[2])+c[2]|0));var c=this._formatContents(this.contents),e=document.createElement("h1");e.textContent=this.title;this.trigger.addEventListener("click",this._toggle.bind(this));this.trigger.addEventListener("mouseover",this._show.bind(this,!1));this.trigger.addEventListener("mouseout",
this._hide.bind(this,!1));b.addEventListener("click",this._hide.bind(this,!0));b.appendChild(e);b.appendChild(c);a.appendChild(b);return a}},{key:"_formatContents",value:function(a){for(var b=document.createElement("p"),a=a.split(/(?:\r\n?|\n)/),c=0,e=a.length;c<e;++c)b.appendChild(document.createTextNode(a[c])),c<e-1&&b.appendChild(document.createElement("br"));return b}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){0<arguments.length&&
void 0!==arguments[0]&&arguments[0]&&(this.pinned=!0);this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}},{key:"_hide",value:function(){if(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1)this.pinned=!1;!this.hideElement.hasAttribute("hidden")&&!this.pinned&&(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}]);return a}(),G=function(a){function b(a){j(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&
!a.data.contents);return g(this,r(b).call(this,a,c,!0))}v(b,a);w(b,[{key:"render",value:function(){this.container.className="lineAnnotation";var a=this.data,b=this.svgFactory.create(a.rect[2]-a.rect[0],a.rect[3]-a.rect[1]),c=this.svgFactory.createElement("svg:line");c.setAttribute("x1",a.rect[2]-a.lineCoordinates[0]);c.setAttribute("y1",a.rect[3]-a.lineCoordinates[1]);c.setAttribute("x2",a.rect[2]-a.lineCoordinates[2]);c.setAttribute("y2",a.rect[3]-a.lineCoordinates[3]);c.setAttribute("stroke-width",
a.borderStyle.width);c.setAttribute("stroke","transparent");b.appendChild(c);this.container.append(b);this._createPopup(this.container,c,a);return this.container}}]);return b}(b),H=function(a){function b(a){j(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return g(this,r(b).call(this,a,c,!0))}v(b,a);w(b,[{key:"render",value:function(){this.container.className="squareAnnotation";var a=this.data,b=a.rect[2]-a.rect[0],c=a.rect[3]-a.rect[1],e=this.svgFactory.create(b,c),d=a.borderStyle.width,
g=this.svgFactory.createElement("svg:rect");g.setAttribute("x",d/2);g.setAttribute("y",d/2);g.setAttribute("width",b-d);g.setAttribute("height",c-d);g.setAttribute("stroke-width",d);g.setAttribute("stroke","transparent");g.setAttribute("fill","none");e.appendChild(g);this.container.append(e);this._createPopup(this.container,g,a);return this.container}}]);return b}(b),B=function(a){function b(a){j(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return g(this,r(b).call(this,a,c,!0))}
v(b,a);w(b,[{key:"render",value:function(){this.container.className="circleAnnotation";var a=this.data,b=a.rect[2]-a.rect[0],c=a.rect[3]-a.rect[1],e=this.svgFactory.create(b,c),d=a.borderStyle.width,g=this.svgFactory.createElement("svg:ellipse");g.setAttribute("cx",b/2);g.setAttribute("cy",c/2);g.setAttribute("rx",b/2-d/2);g.setAttribute("ry",c/2-d/2);g.setAttribute("stroke-width",d);g.setAttribute("stroke","transparent");g.setAttribute("fill","none");e.appendChild(g);this.container.append(e);this._createPopup(this.container,
g,a);return this.container}}]);return b}(b),y=function(a){function b(a){j(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents),a=g(this,r(b).call(this,a,c,!0));a.containerClassName="polylineAnnotation";a.svgElementName="svg:polyline";return a}v(b,a);w(b,[{key:"render",value:function(){this.container.className=this.containerClassName;for(var a=this.data,b=this.svgFactory.create(a.rect[2]-a.rect[0],a.rect[3]-a.rect[1]),c=a.vertices,e=[],d=0,g=c.length;d<g;d++)e.push(c[d].x-a.rect[0]+","+
(a.rect[3]-c[d].y));e=e.join(" ");c=a.borderStyle.width;d=this.svgFactory.createElement(this.svgElementName);d.setAttribute("points",e);d.setAttribute("stroke-width",c);d.setAttribute("stroke","transparent");d.setAttribute("fill","none");b.appendChild(d);this.container.append(b);this._createPopup(this.container,d,a);return this.container}}]);return b}(b),E=function(a){function b(a){j(this,b);a=g(this,r(b).call(this,a));a.containerClassName="polygonAnnotation";a.svgElementName="svg:polygon";return a}
v(b,a);return b}(y),I=function(a){function b(a){j(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents),a=g(this,r(b).call(this,a,c,!0));a.containerClassName="inkAnnotation";a.svgElementName="svg:polyline";return a}v(b,a);w(b,[{key:"render",value:function(){this.container.className=this.containerClassName;for(var a=this.data,b=this.svgFactory.create(a.rect[2]-a.rect[0],a.rect[3]-a.rect[1]),c=a.inkLists,e=0,d=c.length;e<d;e++){for(var g=c[e],f=[],k=0,h=g.length;k<h;k++)f.push(g[k].x-a.rect[0]+
","+(a.rect[3]-g[k].y));f=f.join(" ");g=a.borderStyle.width;k=this.svgFactory.createElement(this.svgElementName);k.setAttribute("points",f);k.setAttribute("stroke-width",g);k.setAttribute("stroke","transparent");k.setAttribute("fill","none");this._createPopup(this.container,k,a);b.appendChild(k)}this.container.append(b);return this.container}}]);return b}(b),A=function(a){function b(a){j(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return g(this,r(b).call(this,a,c,!0))}v(b,a);
w(b,[{key:"render",value:function(){this.container.className="highlightAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return b}(b),M=function(a){function b(a){j(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return g(this,r(b).call(this,a,c,!0))}v(b,a);w(b,[{key:"render",value:function(){this.container.className="underlineAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);
return b}(b),L=function(a){function b(a){j(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return g(this,r(b).call(this,a,c,!0))}v(b,a);w(b,[{key:"render",value:function(){this.container.className="squigglyAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return b}(b),O=function(a){function b(a){j(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return g(this,r(b).call(this,a,c,!0))}v(b,a);w(b,[{key:"render",
value:function(){this.container.className="strikeoutAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return b}(b),P=function(a){function b(a){j(this,b);var c=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return g(this,r(b).call(this,a,c,!0))}v(b,a);w(b,[{key:"render",value:function(){this.container.className="stampAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return b}(b),
N=function(a){function b(a){j(this,b);var a=g(this,r(b).call(this,a,!0)),c=a.data.file,e=c.filename,c=c.content;a.filename=(0,t.getFilenameFromUrl)(e);a.content=c;a.linkService.eventBus&&a.linkService.eventBus.dispatch("fileattachmentannotation",{source:o(o(a)),id:(0,h.stringToPDFString)(e),filename:e,content:c});return a}v(b,a);w(b,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var a=document.createElement("div");a.style.height=this.container.style.height;a.style.width=
this.container.style.width;a.addEventListener("dblclick",this._download.bind(this));!this.data.hasPopup&&(this.data.title||this.data.contents)&&this._createPopup(this.container,a,this.data);this.container.appendChild(a);return this.container}},{key:"_download",value:function(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,h.warn)("Download cannot be started due to unavailable download manager")}}]);return b}(b),d=function(){function a(){j(this,a)}w(a,null,
[{key:"render",value:function(a){for(var b=0,c=a.annotations.length;b<c;b++){var e=a.annotations[b];e&&(e=f.create({data:e,layer:a.div,page:a.page,viewport:a.viewport,linkService:a.linkService,downloadManager:a.downloadManager,imageResourcesPath:a.imageResourcesPath||"",renderInteractiveForms:a.renderInteractiveForms||!1,svgFactory:new t.DOMSVGFactory}),e.isRenderable&&a.div.appendChild(e.render()))}}},{key:"update",value:function(a){for(var b=0,c=a.annotations.length;b<c;b++){var e=a.div.querySelector('[data-annotation-id="'+
a.annotations[b].id+'"]');e&&(e.style.transform="matrix("+a.viewport.transform.join(",")+")")}a.div.removeAttribute("hidden")}}]);return a}();c.AnnotationLayer=d},function(d,c,a){var i,l;Object.defineProperty(c,"__esModule",{value:!0});c.SVGGraphics=void 0;var g=a(1),o=a(138),r=function(a){return a&&a.__esModule?a:{"default":a}}(a(4));c.SVGGraphics=function(){throw Error("Not implemented: SVGGraphics");};i="normal";l="#000000";var v=function(){function a(b,c,g,f){var h=f,j=c.length;g[h]=j>>24&255;
g[h+1]=j>>16&255;g[h+2]=j>>8&255;g[h+3]=j&255;h+=4;g[h]=b.charCodeAt(0)&255;g[h+1]=b.charCodeAt(1)&255;g[h+2]=b.charCodeAt(2)&255;g[h+3]=b.charCodeAt(3)&255;h+=4;g.set(c,h);h+=c.length;b=-1;for(f+=4;f<h;f++)b=b>>>8^d[(b^g[f])&255];f=b^-1;g[h]=f>>24&255;g[h+1]=f>>16&255;g[h+2]=f>>8&255;g[h+3]=f&255}for(var c=new Uint8Array([137,80,78,71,13,10,26,10]),d=new Int32Array(256),i=0;256>i;i++){for(var h=i,f=0;8>f;f++)h=h&1?3988292384^h>>1&2147483647:h>>1&2147483647;d[i]=h}return function(b,e,d){var f=void 0===
b.kind?g.ImageKind.GRAYSCALE_1BPP:b.kind,h=b.width,m=b.height,i,l,o,s=b.data;switch(f){case g.ImageKind.GRAYSCALE_1BPP:l=0;i=1;o=h+7>>3;break;case g.ImageKind.RGB_24BPP:l=2;i=8;o=3*h;break;case g.ImageKind.RGBA_32BPP:l=6;i=8;o=4*h;break;default:throw Error("invalid format");}var b=new Uint8Array((1+o)*m),t=0,w=0,v;for(v=0;v<m;++v)b[t++]=0,b.set(s.subarray(w,w+o),t),w+=o,t+=o;if(f===g.ImageKind.GRAYSCALE_1BPP&&d)for(v=t=0;v<m;v++){t++;for(d=0;d<o;d++)b[t++]^=255}var h=new Uint8Array([h>>24&255,h>>
16&255,h>>8&255,h&255,m>>24&255,m>>16&255,m>>8&255,m&255,i,l,0,0,0]),B;a:{if((0,r.default)())try{var y;y=8<=parseInt(process.versions.node)?b:new Buffer(b);var E=require("zlib").deflateSync(y,{level:9});B=E instanceof Uint8Array?E:new Uint8Array(E);break a}catch(I){(0,g.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+I)}E=b.length;B=Math.ceil(E/65535);B=new Uint8Array(2+E+5*B+4);y=0;B[y++]=120;B[y++]=156;for(m=0;65535<E;)B[y++]=0,B[y++]=255,B[y++]=255,B[y++]=0,B[y++]=0,B.set(b.subarray(m,
m+65535),y),y+=65535,m+=65535,E-=65535;B[y++]=1;B[y++]=E&255;B[y++]=E>>8&255;B[y++]=~E&255;B[y++]=(~E&65535)>>8&255;B.set(b.subarray(m),y);y+=b.length-m;E=1;for(d=m=0;d<b.length;++d)E=(E+(b[d]&255))%65521,m=(m+E)%65521;b=m<<16|E;B[y++]=b>>24&255;B[y++]=b>>16&255;B[y++]=b>>8&255;B[y++]=b&255}b=new Uint8Array(c.length+36+h.length+B.length);y=0;b.set(c,y);y+=c.length;a("IHDR",h,b,y);y+=12+h.length;a("IDATA",B,b,y);y+=12+B.length;a("IEND",new Uint8Array(0),b,y);return(0,g.createObjectURL)(b,"image/png",
e)}}(),s=function(){function a(){this.fontSizeScale=1;this.fontWeight=i;this.fontSize=0;this.textMatrix=g.IDENTITY_MATRIX;this.fontMatrix=g.FONT_IDENTITY_MATRIX;this.leading=0;this.textRenderingMode=g.TextRenderingMode.FILL;this.wordSpacing=this.charSpacing=this.lineY=this.lineX=this.y=this.x=0;this.textHScale=1;this.textRise=0;this.fillColor=l;this.strokeColor="#000000";this.lineWidth=this.strokeAlpha=this.fillAlpha=1;this.lineCap=this.lineJoin="";this.miterLimit=0;this.dashArray=[];this.dashPhase=
0;this.dependencies=[];this.clipGroup=this.activeClipUrl=null;this.maskId=""}a.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(a,c){this.x=a;this.y=c}};return a}();c.SVGGraphics=function(){function a(b){if(Number.isInteger(b))return b.toString();var b=b.toFixed(10),c=b.length-1;if("0"!==b[c])return b;do c--;while("0"===b[c]);return b.substring(0,"."===b[c]?c:c+1)}function c(b){if(0===b[4]&&0===b[5]){if(0===b[1]&&0===b[2])return 1===b[0]&&1===b[3]?"":"scale("+a(b[0])+
" "+a(b[3])+")";if(b[0]===b[3]&&b[1]===-b[2])return b=180*Math.acos(b[0])/Math.PI,"rotate("+a(b)+")"}else if(1===b[0]&&0===b[1]&&0===b[2]&&1===b[3])return"translate("+a(b[4])+" "+a(b[5])+")";return"matrix("+a(b[0])+" "+a(b[1])+" "+a(b[2])+" "+a(b[3])+" "+a(b[4])+" "+a(b[5])+")"}function d(a,b,c){this.svgFactory=new o.DOMSVGFactory;this.current=new s;this.transformMatrix=g.IDENTITY_MATRIX;this.transformStack=[];this.extraStack=[];this.commonObjs=a;this.objs=b;this.pendingClip=null;this.embedFonts=
this.pendingEOFill=!1;this.embeddedFonts=Object.create(null);this.cssStyle=null;this.forceDataSchema=!!c}var r=["butt","round","square"],h=["miter","round","bevel"],f=0,b=0;d.prototype={save:function(){this.transformStack.push(this.transformMatrix);var a=this.current;this.extraStack.push(a);this.current=a.clone()},restore:function(){this.transformMatrix=this.transformStack.pop();this.current=this.extraStack.pop();this.tgrp=this.pendingClip=null},group:function(a){this.save();this.executeOpTree(a);
this.restore()},loadDependencies:function(a){for(var b=this,c=a.fnArray,d=c.length,a=a.argsArray,f=0;f<d;f++)if(g.OPS.dependency===c[f])for(var h=a[f],j=0,i=h.length;j<i;j++){var l=h[j];this.current.dependencies.push("g_"===l.substring(0,2)?new Promise(function(a){b.commonObjs.get(l,a)}):new Promise(function(a){b.objs.get(l,a)}))}return Promise.all(this.current.dependencies)},transform:function(a,b,c,d,f,h){this.transformMatrix=g.Util.transform(this.transformMatrix,[a,b,c,d,f,h]);this.tgrp=null},
getSVG:function(a,b){var c=this;this.viewport=b;var d=this._initialize(b);return this.loadDependencies(a).then(function(){c.transformMatrix=g.IDENTITY_MATRIX;var b=c.convertOpList(a);c.executeOpTree(b);return d})},convertOpList:function(a){var b=a.argsArray,c=a.fnArray,d=c.length,f=[],a=[],h;for(h in g.OPS)f[g.OPS[h]]=h;for(h=0;h<d;h++){var j=c[h];a.push({fnId:j,fn:f[j],args:b[h]})}b=[];c=[];d=a.length;for(f=0;f<d;f++)"save"===a[f].fn?(b.push({fnId:92,fn:"group",items:[]}),c.push(b),b=b[b.length-
1].items):"restore"===a[f].fn?b=c.pop():b.push(a[f]);return b},executeOpTree:function(a){for(var b=a.length,c=0;c<b;c++){var d=a[c].fn,f=a[c].args;switch(a[c].fnId|0){case g.OPS.beginText:this.beginText();break;case g.OPS.dependency:break;case g.OPS.setLeading:this.setLeading(f);break;case g.OPS.setLeadingMoveText:this.setLeadingMoveText(f[0],f[1]);break;case g.OPS.setFont:this.setFont(f);break;case g.OPS.showText:this.showText(f[0]);break;case g.OPS.showSpacedText:this.showText(f[0]);break;case g.OPS.endText:this.endText();
break;case g.OPS.moveText:this.moveText(f[0],f[1]);break;case g.OPS.setCharSpacing:this.setCharSpacing(f[0]);break;case g.OPS.setWordSpacing:this.setWordSpacing(f[0]);break;case g.OPS.setHScale:this.setHScale(f[0]);break;case g.OPS.setTextMatrix:this.setTextMatrix(f[0],f[1],f[2],f[3],f[4],f[5]);break;case g.OPS.setTextRise:this.setTextRise(f[0]);break;case g.OPS.setTextRenderingMode:this.setTextRenderingMode(f[0]);break;case g.OPS.setLineWidth:this.setLineWidth(f[0]);break;case g.OPS.setLineJoin:this.setLineJoin(f[0]);
break;case g.OPS.setLineCap:this.setLineCap(f[0]);break;case g.OPS.setMiterLimit:this.setMiterLimit(f[0]);break;case g.OPS.setFillRGBColor:this.setFillRGBColor(f[0],f[1],f[2]);break;case g.OPS.setStrokeRGBColor:this.setStrokeRGBColor(f[0],f[1],f[2]);break;case g.OPS.setDash:this.setDash(f[0],f[1]);break;case g.OPS.setGState:this.setGState(f[0]);break;case g.OPS.fill:this.fill();break;case g.OPS.eoFill:this.eoFill();break;case g.OPS.stroke:this.stroke();break;case g.OPS.fillStroke:this.fillStroke();
break;case g.OPS.eoFillStroke:this.eoFillStroke();break;case g.OPS.clip:this.clip("nonzero");break;case g.OPS.eoClip:this.clip("evenodd");break;case g.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case g.OPS.paintJpegXObject:this.paintJpegXObject(f[0],f[1],f[2]);break;case g.OPS.paintImageXObject:this.paintImageXObject(f[0]);break;case g.OPS.paintInlineImageXObject:this.paintInlineImageXObject(f[0]);break;case g.OPS.paintImageMaskXObject:this.paintImageMaskXObject(f[0]);break;
case g.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(f[0],f[1]);break;case g.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case g.OPS.closePath:this.closePath();break;case g.OPS.closeStroke:this.closeStroke();break;case g.OPS.closeFillStroke:this.closeFillStroke();break;case g.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case g.OPS.nextLine:this.nextLine();break;case g.OPS.transform:this.transform(f[0],f[1],f[2],f[3],f[4],f[5]);break;case g.OPS.constructPath:this.constructPath(f[0],
f[1]);break;case g.OPS.endPath:this.endPath();break;case 92:this.group(a[c].items);break;default:(0,g.warn)("Unimplemented operator "+d)}}},setWordSpacing:function(a){this.current.wordSpacing=a},setCharSpacing:function(a){this.current.charSpacing=a},nextLine:function(){this.moveText(0,this.current.leading)},setTextMatrix:function(b,c,d,f,g,h){var i=this.current;this.current.textMatrix=this.current.lineMatrix=[b,c,d,f,g,h];this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0;i.xcoords=
[];i.tspan=this.svgFactory.createElement("svg:tspan");i.tspan.setAttributeNS(null,"font-family",i.fontFamily);i.tspan.setAttributeNS(null,"font-size",a(i.fontSize)+"px");i.tspan.setAttributeNS(null,"y",a(-i.y));i.txtElement=this.svgFactory.createElement("svg:text");i.txtElement.appendChild(i.tspan)},beginText:function(){this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0;this.current.textMatrix=g.IDENTITY_MATRIX;this.current.lineMatrix=g.IDENTITY_MATRIX;this.current.tspan=this.svgFactory.createElement("svg:tspan");
this.current.txtElement=this.svgFactory.createElement("svg:text");this.current.txtgrp=this.svgFactory.createElement("svg:g");this.current.xcoords=[]},moveText:function(b,c){var d=this.current;this.current.x=this.current.lineX+=b;this.current.y=this.current.lineY+=c;d.xcoords=[];d.tspan=this.svgFactory.createElement("svg:tspan");d.tspan.setAttributeNS(null,"font-family",d.fontFamily);d.tspan.setAttributeNS(null,"font-size",a(d.fontSize)+"px");d.tspan.setAttributeNS(null,"y",a(-d.y))},showText:function(b){var d=
this.current,f=d.font,h=d.fontSize;if(0!==h){var m=d.charSpacing,o=d.wordSpacing,n=d.fontDirection,r=d.textHScale*n,s=b.length,t=f.vertical,w=h*d.fontMatrix[0],v=0,B;for(B=0;B<s;++B){var y=b[B];if(null===y)v+=n*o;else if((0,g.isNum)(y))v+=0.001*-y*h;else{var E=y.fontChar,I=y.width*w+((y.isSpace?o:0)+m)*n;if(y.isInFont||f.missingFile)d.xcoords.push(d.x+v*r),d.tspan.textContent+=E;v+=I}}t?d.y-=v*r:d.x+=v*r;d.tspan.setAttributeNS(null,"x",d.xcoords.map(a).join(" "));d.tspan.setAttributeNS(null,"y",a(-d.y));
d.tspan.setAttributeNS(null,"font-family",d.fontFamily);d.tspan.setAttributeNS(null,"font-size",a(d.fontSize)+"px");"normal"!==d.fontStyle&&d.tspan.setAttributeNS(null,"font-style",d.fontStyle);d.fontWeight!==i&&d.tspan.setAttributeNS(null,"font-weight",d.fontWeight);b=d.textRenderingMode&g.TextRenderingMode.FILL_STROKE_MASK;b===g.TextRenderingMode.FILL||b===g.TextRenderingMode.FILL_STROKE?(d.fillColor!==l&&d.tspan.setAttributeNS(null,"fill",d.fillColor),1>d.fillAlpha&&d.tspan.setAttributeNS(null,
"fill-opacity",d.fillAlpha)):d.textRenderingMode===g.TextRenderingMode.ADD_TO_PATH?d.tspan.setAttributeNS(null,"fill","transparent"):d.tspan.setAttributeNS(null,"fill","none");(b===g.TextRenderingMode.STROKE||b===g.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(d.tspan);b=d.textMatrix;0!==d.textRise&&(b=b.slice(),b[5]+=d.textRise);d.txtElement.setAttributeNS(null,"transform",c(b)+" scale(1, -1)");d.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve");
d.txtElement.appendChild(d.tspan);d.txtgrp.appendChild(d.txtElement);this._ensureTransformGroup().appendChild(d.txtElement)}},setLeadingMoveText:function(a,b){this.setLeading(-b);this.moveText(a,b)},addFontStyle:function(a){this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var b=(0,g.createObjectURL)(a.data,a.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'+
a.loadedName+'"; src: url('+b+"); }\n"},setFont:function(b){var c=this.current,d=this.commonObjs.get(b[0]),b=b[1];this.current.font=d;this.embedFonts&&(d.data&&!this.embeddedFonts[d.loadedName])&&(this.addFontStyle(d),this.embeddedFonts[d.loadedName]=d);c.fontMatrix=d.fontMatrix?d.fontMatrix:g.FONT_IDENTITY_MATRIX;var f=d.black?d.bold?"bolder":"bold":d.bold?"bold":"normal",h=d.italic?"italic":"normal";0>b?(b=-b,c.fontDirection=-1):c.fontDirection=1;c.fontSize=b;c.fontFamily=d.loadedName;c.fontWeight=
f;c.fontStyle=h;c.tspan=this.svgFactory.createElement("svg:tspan");c.tspan.setAttributeNS(null,"y",a(-c.y));c.xcoords=[]},endText:function(){var a=this.current;a.textRenderingMode&g.TextRenderingMode.ADD_TO_PATH_FLAG&&(a.txtElement&&a.txtElement.hasChildNodes())&&(a.element=a.txtElement,this.clip("nonzero"),this.endPath())},setLineWidth:function(a){0<a&&(this.current.lineWidth=a)},setLineCap:function(a){this.current.lineCap=r[a]},setLineJoin:function(a){this.current.lineJoin=h[a]},setMiterLimit:function(a){this.current.miterLimit=
a},setStrokeAlpha:function(a){this.current.strokeAlpha=a},setStrokeRGBColor:function(a,b,c){this.current.strokeColor=g.Util.makeCssRgb(a,b,c)},setFillAlpha:function(a){this.current.fillAlpha=a},setFillRGBColor:function(a,b,c){this.current.fillColor=g.Util.makeCssRgb(a,b,c);this.current.tspan=this.svgFactory.createElement("svg:tspan");this.current.xcoords=[]},setDash:function(a,b){this.current.dashArray=a;this.current.dashPhase=b},constructPath:function(b,c){var d=this.current,f=d.x,h=d.y;d.path=this.svgFactory.createElement("svg:path");
for(var i=[],l=b.length,o=0,r=0;o<l;o++)switch(b[o]|0){case g.OPS.rectangle:var f=c[r++],h=c[r++],s=c[r++],t=c[r++],s=f+s,t=h+t;i.push("M",a(f),a(h),"L",a(s),a(h),"L",a(s),a(t),"L",a(f),a(t),"Z");break;case g.OPS.moveTo:f=c[r++];h=c[r++];i.push("M",a(f),a(h));break;case g.OPS.lineTo:f=c[r++];h=c[r++];i.push("L",a(f),a(h));break;case g.OPS.curveTo:f=c[r+4];h=c[r+5];i.push("C",a(c[r]),a(c[r+1]),a(c[r+2]),a(c[r+3]),a(f),a(h));r+=6;break;case g.OPS.curveTo2:f=c[r+2];h=c[r+3];i.push("C",a(f),a(h),a(c[r]),
a(c[r+1]),a(c[r+2]),a(c[r+3]));r+=4;break;case g.OPS.curveTo3:f=c[r+2];h=c[r+3];i.push("C",a(c[r]),a(c[r+1]),a(f),a(h),a(f),a(h));r+=4;break;case g.OPS.closePath:i.push("Z")}d.path.setAttributeNS(null,"d",i.join(" "));d.path.setAttributeNS(null,"fill","none");this._ensureTransformGroup().appendChild(d.path);d.element=d.path;d.setCurrentPoint(f,h)},endPath:function(){if(this.pendingClip){var a=this.current,b="clippath"+f;f++;var d=this.svgFactory.createElement("svg:clipPath");d.setAttributeNS(null,
"id",b);d.setAttributeNS(null,"transform",c(this.transformMatrix));var g=a.element.cloneNode(!0);"evenodd"===this.pendingClip?g.setAttributeNS(null,"clip-rule","evenodd"):g.setAttributeNS(null,"clip-rule","nonzero");this.pendingClip=null;d.appendChild(g);this.defs.appendChild(d);a.activeClipUrl&&(a.clipGroup=null,this.extraStack.forEach(function(a){a.clipGroup=null}),d.setAttributeNS(null,"clip-path",a.activeClipUrl));a.activeClipUrl="url(#"+b+")";this.tgrp=null}},clip:function(a){this.pendingClip=
a},closePath:function(){var a=this.current;if(a.path){var b=a.path.getAttributeNS(null,"d");a.path.setAttributeNS(null,"d",b+"Z")}},setLeading:function(a){this.current.leading=-a},setTextRise:function(a){this.current.textRise=a},setTextRenderingMode:function(a){this.current.textRenderingMode=a},setHScale:function(a){this.current.textHScale=a/100},setGState:function(a){for(var b=0,c=a.length;b<c;b++){var d=a[b],f=d[0],d=d[1];switch(f){case "LW":this.setLineWidth(d);break;case "LC":this.setLineCap(d);
break;case "LJ":this.setLineJoin(d);break;case "ML":this.setMiterLimit(d);break;case "D":this.setDash(d[0],d[1]);break;case "Font":this.setFont(d);break;case "CA":this.setStrokeAlpha(d);break;case "ca":this.setFillAlpha(d);break;default:(0,g.warn)("Unimplemented graphic state "+f)}}},fill:function(){var a=this.current;a.element&&(a.element.setAttributeNS(null,"fill",a.fillColor),a.element.setAttributeNS(null,"fill-opacity",a.fillAlpha),this.endPath())},stroke:function(){var a=this.current;a.element&&
(this._setStrokeAttributes(a.element),a.element.setAttributeNS(null,"fill","none"),this.endPath())},_setStrokeAttributes:function(b){var c=this.current;b.setAttributeNS(null,"stroke",c.strokeColor);b.setAttributeNS(null,"stroke-opacity",c.strokeAlpha);b.setAttributeNS(null,"stroke-miterlimit",a(c.miterLimit));b.setAttributeNS(null,"stroke-linecap",c.lineCap);b.setAttributeNS(null,"stroke-linejoin",c.lineJoin);b.setAttributeNS(null,"stroke-width",a(c.lineWidth)+"px");b.setAttributeNS(null,"stroke-dasharray",
c.dashArray.map(a).join(" "));b.setAttributeNS(null,"stroke-dashoffset",a(c.dashPhase)+"px")},eoFill:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd");this.fill()},fillStroke:function(){this.stroke();this.fill()},eoFillStroke:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd");this.fillStroke()},closeStroke:function(){this.closePath();this.stroke()},closeFillStroke:function(){this.closePath();this.fillStroke()},
closeEOFillStroke:function(){this.closePath();this.eoFillStroke()},paintSolidColorImageMask:function(){var a=this.current,b=this.svgFactory.createElement("svg:rect");b.setAttributeNS(null,"x","0");b.setAttributeNS(null,"y","0");b.setAttributeNS(null,"width","1px");b.setAttributeNS(null,"height","1px");b.setAttributeNS(null,"fill",a.fillColor);this._ensureTransformGroup().appendChild(b)},paintJpegXObject:function(b,c,d){var b=this.objs.get(b),f=this.svgFactory.createElement("svg:image");f.setAttributeNS("http://www.w3.org/1999/xlink",
"xlink:href",b.src);f.setAttributeNS(null,"width",a(c));f.setAttributeNS(null,"height",a(d));f.setAttributeNS(null,"x","0");f.setAttributeNS(null,"y",a(-d));f.setAttributeNS(null,"transform","scale("+a(1/c)+" "+a(-1/d)+")");this._ensureTransformGroup().appendChild(f)},paintImageXObject:function(a){(a=this.objs.get(a))?this.paintInlineImageXObject(a):(0,g.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(b,c){var d=b.width,f=b.height,g=v(b,this.forceDataSchema,!!c),h=this.svgFactory.createElement("svg:rect");
h.setAttributeNS(null,"x","0");h.setAttributeNS(null,"y","0");h.setAttributeNS(null,"width",a(d));h.setAttributeNS(null,"height",a(f));this.current.element=h;this.clip("nonzero");h=this.svgFactory.createElement("svg:image");h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);h.setAttributeNS(null,"x","0");h.setAttributeNS(null,"y",a(-f));h.setAttributeNS(null,"width",a(d)+"px");h.setAttributeNS(null,"height",a(f)+"px");h.setAttributeNS(null,"transform","scale("+a(1/d)+" "+a(-1/f)+")");
c?c.appendChild(h):this._ensureTransformGroup().appendChild(h)},paintImageMaskXObject:function(c){var d=this.current,f=c.width,g=c.height,h=d.fillColor;d.maskId="mask"+b++;var i=this.svgFactory.createElement("svg:mask");i.setAttributeNS(null,"id",d.maskId);var l=this.svgFactory.createElement("svg:rect");l.setAttributeNS(null,"x","0");l.setAttributeNS(null,"y","0");l.setAttributeNS(null,"width",a(f));l.setAttributeNS(null,"height",a(g));l.setAttributeNS(null,"fill",h);l.setAttributeNS(null,"mask",
"url(#"+d.maskId+")");this.defs.appendChild(i);this._ensureTransformGroup().appendChild(l);this.paintInlineImageXObject(c,i)},paintFormXObjectBegin:function(b,c){Array.isArray(b)&&6===b.length&&this.transform(b[0],b[1],b[2],b[3],b[4],b[5]);if(c){var d=c[2]-c[0],f=c[3]-c[1],g=this.svgFactory.createElement("svg:rect");g.setAttributeNS(null,"x",c[0]);g.setAttributeNS(null,"y",c[1]);g.setAttributeNS(null,"width",a(d));g.setAttributeNS(null,"height",a(f));this.current.element=g;this.clip("nonzero");this.endPath()}},
paintFormXObjectEnd:function(){},_initialize:function(a){var b=this.svgFactory.create(a.width,a.height),d=this.svgFactory.createElement("svg:defs");b.appendChild(d);this.defs=d;d=this.svgFactory.createElement("svg:g");d.setAttributeNS(null,"transform",c(a.transform));b.appendChild(d);this.svg=d;return b},_ensureClipGroup:function(){if(!this.current.clipGroup){var a=this.svgFactory.createElement("svg:g");a.setAttributeNS(null,"clip-path",this.current.activeClipUrl);this.svg.appendChild(a);this.current.clipGroup=
a}return this.current.clipGroup},_ensureTransformGroup:function(){this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",c(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp));return this.tgrp}};return d}()},function(d,c,a){function i(a){i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&
a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return i(a)}function l(a,b){if(b&&("object"===i(b)||"function"===typeof b))return b;if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function g(a){g=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)};return g(a)}function o(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");
a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}});b&&r(a,b)}function r(a,b){r=Object.setPrototypeOf||function(a,b){a.__proto__=b;return a};return r(a,b)}function v(a,b,c,d,e,f,g){try{var h=a[f](g),k=h.value}catch(i){c(i);return}h.done?b(k):Promise.resolve(k).then(d,e)}function s(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){function f(a){v(h,d,e,f,g,"next",a)}function g(a){v(h,d,e,f,g,"throw",a)}var h=a.apply(b,c);f(void 0)})}}
function j(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function x(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}function w(a,b,c){b&&x(a.prototype,b);c&&x(a,c);return a}function t(a,b){return{protocol:a.protocol,auth:a.auth,host:a.hostname,port:a.port,path:a.path,method:"GET",headers:b}}Object.defineProperty(c,"__esModule",{value:!0});c.PDFNodeStream=
void 0;var h=function(a){return a&&a.__esModule?a:{"default":a}}(a(134)),f=a(1),b=a(153),e=require("fs"),k=require("http"),p=require("https"),q=require("url"),m=/^file:\/\/\/[a-zA-Z]:\//,d=function(){function a(b){j(this,a);this.source=b;var c;c=b.url;var d=q.parse(c);"file:"===d.protocol||d.host?c=d:/^[a-z]:[/\\]/i.test(c)?c=q.parse("file:///".concat(c)):(d.host||(d.protocol="file:"),c=d);this.url=c;this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol;this.isFsUrl="file:"===this.url.protocol;
this.httpHeaders=this.isHttp&&b.httpHeaders||{};this._fullRequest=null;this._rangeRequestReaders=[]}w(a,[{key:"getFullReader",value:function(){(0,f.assert)(!this._fullRequest);return this._fullRequest=this.isFsUrl?new z(this):new u(this)}},{key:"getRangeReader",value:function(a,b){var c=this.isFsUrl?new C(this,a,b):new n(this,a,b);this._rangeRequestReaders.push(c);return c}},{key:"cancelAllRequests",value:function(a){this._fullRequest&&this._fullRequest.cancel(a);this._rangeRequestReaders.slice(0).forEach(function(b){b.cancel(a)})}}]);
return a}();c.PDFNodeStream=d;var c=function(){function a(b){j(this,a);this._url=b.url;this._done=!1;this.onProgress=this._storedError=null;b=b.source;this._contentLength=b.length;this._loaded=0;this._filename=null;this._disableRange=b.disableRange||!1;this._rangeChunkSize=b.rangeChunkSize;!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0);this._isStreamingSupported=!b.disableStream;this._isRangeSupported=!b.disableRange;this._readableStream=null;this._readCapability=(0,f.createPromiseCapability)();
this._headersCapability=(0,f.createPromiseCapability)()}w(a,[{key:"read",value:function(){var a=s(h.default.mark(function B(){var a,b;return h.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this._readCapability.promise;case 2:if(!this._done){c.next=4;break}return c.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){c.next=6;break}throw this._storedError;case 6:a=this._readableStream.read();if(null!==a){c.next=10;break}this._readCapability=(0,f.createPromiseCapability)();
return c.abrupt("return",this.read());case 10:this._loaded+=a.length;if(this.onProgress)this.onProgress({loaded:this._loaded,total:this._contentLength});b=(new Uint8Array(a)).buffer;return c.abrupt("return",{value:b,done:!1});case 14:case "end":return c.stop()}},B,this)}));return function(){return a.apply(this,arguments)}}()},{key:"cancel",value:function(a){this._readableStream?this._readableStream.destroy(a):this._error(a)}},{key:"_error",value:function(a){this._storedError=a;this._readCapability.resolve()}},
{key:"_setReadableStream",value:function(a){var b=this;this._readableStream=a;a.on("readable",function(){b._readCapability.resolve()});a.on("end",function(){a.destroy();b._done=!0;b._readCapability.resolve()});a.on("error",function(a){b._error(a)});!this._isStreamingSupported&&this._isRangeSupported&&this._error(new f.AbortException("streaming is disabled"));this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},
{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return a}(),d=function(){function a(b){j(this,a);this._url=b.url;this._done=!1;this.onProgress=this._storedError=null;this._loaded=0;this._readableStream=null;this._readCapability=(0,f.createPromiseCapability)();this._isStreamingSupported=
!b.source.disableStream}w(a,[{key:"read",value:function(){var a=s(h.default.mark(function B(){var a,b;return h.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this._readCapability.promise;case 2:if(!this._done){c.next=4;break}return c.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){c.next=6;break}throw this._storedError;case 6:a=this._readableStream.read();if(null!==a){c.next=10;break}this._readCapability=(0,f.createPromiseCapability)();return c.abrupt("return",
this.read());case 10:this._loaded+=a.length;if(this.onProgress)this.onProgress({loaded:this._loaded});b=(new Uint8Array(a)).buffer;return c.abrupt("return",{value:b,done:!1});case 14:case "end":return c.stop()}},B,this)}));return function(){return a.apply(this,arguments)}}()},{key:"cancel",value:function(a){this._readableStream?this._readableStream.destroy(a):this._error(a)}},{key:"_error",value:function(a){this._storedError=a;this._readCapability.resolve()}},{key:"_setReadableStream",value:function(a){var b=
this;this._readableStream=a;a.on("readable",function(){b._readCapability.resolve()});a.on("end",function(){a.destroy();b._done=!0;b._readCapability.resolve()});a.on("error",function(a){b._error(a)});this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return a}(),u=function(a){function c(a){var d;j(this,c);d=l(this,g(c).call(this,a));var e=function(c){if(404===c.statusCode)c=new f.MissingPDFException('Missing PDF "'.concat(d._url,
'".')),d._storedError=c,d._headersCapability.reject(c);else{d._headersCapability.resolve();d._setReadableStream(c);var c=function(a){return d._readableStream.headers[a.toLowerCase()]},e=(0,b.validateRangeRequestCapabilities)({getResponseHeader:c,isHttp:a.isHttp,rangeChunkSize:d._rangeChunkSize,disableRange:d._disableRange}),g=e.suggestedLength;d._isRangeSupported=e.allowRangeRequests;d._contentLength=g||d._contentLength;d._filename=(0,b.extractFilenameFromHeader)(c)}};d._request=null;d._request="http:"===
d._url.protocol?k.request(t(d._url,a.httpHeaders),e):p.request(t(d._url,a.httpHeaders),e);d._request.on("error",function(a){d._storedError=a;d._headersCapability.reject(a)});d._request.end();return d}o(c,a);return c}(c),n=function(a){function b(a,c,d){var e;j(this,b);e=l(this,g(b).call(this,a));e._httpHeaders={};for(var h in a.httpHeaders){var i=a.httpHeaders[h];"undefined"!==typeof i&&(e._httpHeaders[h]=i)}e._httpHeaders.Range="bytes=".concat(c,"-").concat(d-1);a=function(a){404===a.statusCode?(a=
new f.MissingPDFException('Missing PDF "'.concat(e._url,'".')),e._storedError=a):e._setReadableStream(a)};e._request=null;e._request="http:"===e._url.protocol?k.request(t(e._url,e._httpHeaders),a):p.request(t(e._url,e._httpHeaders),a);e._request.on("error",function(a){e._storedError=a});e._request.end();return e}o(b,a);return b}(d),z=function(a){function b(a){var c;j(this,b);c=l(this,g(b).call(this,a));var d=decodeURIComponent(c._url.path);m.test(c._url.href)&&(d=d.replace(/^\//,""));e.lstat(d,function(a,
b){a?("ENOENT"===a.code&&(a=new f.MissingPDFException('Missing PDF "'.concat(d,'".'))),c._storedError=a,c._headersCapability.reject(a)):(c._contentLength=b.size,c._setReadableStream(e.createReadStream(d)),c._headersCapability.resolve())});return c}o(b,a);return b}(c),C=function(a){function b(a,c,d){j(this,b);var a=l(this,g(b).call(this,a)),f=decodeURIComponent(a._url.path);m.test(a._url.href)&&(f=f.replace(/^\//,""));a._setReadableStream(e.createReadStream(f,{start:c,end:d-1}));return a}o(b,a);return b}(d)},
function(d,c,a){Object.defineProperty(c,"__esModule",{value:!0});c.createResponseStatusError=function(a,c){return 404===a||0===a&&/^file:/.test(c)?new i.MissingPDFException('Missing PDF "'+c+'".'):new i.UnexpectedResponseException("Unexpected server response ("+a+') while retrieving PDF "'+c+'".',a)};c.extractFilenameFromHeader=function(a){if(a=a("Content-Disposition"))if(a=(0,l.getFilenameFromContentDispositionHeader)(a),/\.pdf$/i.test(a))return a;return null};c.validateRangeRequestCapabilities=
function(a){var c=a.getResponseHeader,d=a.isHttp,l=a.rangeChunkSize,a=a.disableRange;(0,i.assert)(0<l,"Range chunk size must be larger than zero");var s={allowRangeRequests:!1,suggestedLength:void 0},j=parseInt(c("Content-Length"),10);if(!Number.isInteger(j))return s;s.suggestedLength=j;if(j<=2*l||(a||!d)||"bytes"!==c("Accept-Ranges")||"identity"!==(c("Content-Encoding")||"identity"))return s;s.allowRangeRequests=!0;return s};c.validateResponseStatus=function(a){return 200===a||206===a};var i=a(1),
l=a(154)},function(d,c){function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance");}function i(a,c){var d=[],i=!0,l=!1,j=void 0;try{for(var x=a[Symbol.iterator](),w;!(i=(w=x.next()).done)&&!(d.push(w.value),c&&d.length===c);i=!0);}catch(t){l=!0,j=t}finally{try{if(!i&&null!=x["return"])x["return"]()}finally{if(l)throw j;}}return d}function l(a){if(Array.isArray(a))return a}Object.defineProperty(c,"__esModule",{value:!0});c.getFilenameFromContentDispositionHeader=function(c){function d(a,
c){return RegExp("(?:^|;)\\s*"+a+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',c)}function r(a,c){if(a){if(!/^[\x00-\xFF]+$/.test(c))return c;try{for(var b=new TextDecoder(a,{fatal:!0}),d=Array(c.length),g=0;g<c.length;++g)d[g]=c.charCodeAt(g);c=b.decode(new Uint8Array(d));w=!1}catch(i){if(/^utf-?8$/i.test(a))try{c=decodeURIComponent(escape(c)),w=!1}catch(j){}}}return c}function v(a){w&&/[\x80-\xff]/.test(a)&&(a=r("utf-8",a),w&&(a=r("iso-8859-1",a)));return a}function s(a){if('"'===a.charAt(0)){for(var a=
a.slice(1).split('\\"'),c=0;c<a.length;++c){var b=a[c].indexOf('"');-1!==b&&(a[c]=a[c].slice(0,b),a.length=c+1);a[c]=a[c].replace(/\\(.)/g,"$1")}a=a.join('"')}return a}function j(a){var c=a.indexOf("'");if(-1===c)return a;var b=a.slice(0,c),a=a.slice(c+1).replace(/^[^']*'/,"");return r(b,a)}function x(a){return"=?"!==a.slice(0,2)||/[\x00-\x19\x80-\xff]/.test(a)?a:a.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(a,b,c,d){if("q"===c||"Q"===c)return d=d.replace(/_/g," "),d=d.replace(/=([0-9a-fA-F]{2})/g,
function(a,b){return String.fromCharCode(parseInt(b,16))}),r(b,d);try{d=atob(d)}catch(g){}return r(b,d)})}var w=!0,t=d("filename\\*","i").exec(c);return t?(t=t[1],c=s(t),c=unescape(c),c=j(c),c=x(c),v(c)):(t=function(c){for(var f=[],b,e=d("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(b=e.exec(c));){var g=l(b)||i(b,4)||a();b=g[1];var p=g[2],g=g[3];b=parseInt(b,10);if(b in f){if(0===b)break}else f[b]=[p,g]}c=[];for(b=0;b<f.length&&b in f;++b)e=l(f[b])||i(f[b],2)||a(),p=e[0],g=e[1],g=s(g),p&&(g=unescape(g),
0===b&&(g=j(g))),c.push(g);return c.join("")}(c))?(c=x(t),v(c)):(t=d("filename","i").exec(c))?(t=t[1],c=s(t),c=x(c),v(c)):""}},function(d,c,a){function i(a,c,b,d,g,i,j){try{var l=a[i](j),o=l.value}catch(n){b(n);return}l.done?c(o):Promise.resolve(o).then(d,g)}function l(a){return function(){var c=this,b=arguments;return new Promise(function(d,g){function j(a){i(m,d,g,j,l,"next",a)}function l(a){i(m,d,g,j,l,"throw",a)}var m=a.apply(c,b);j(void 0)})}}function g(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");
}function o(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}function r(a,c,b){c&&o(a.prototype,c);b&&o(a,b);return a}function v(a,c,b){return{method:"GET",headers:a,signal:b&&b.signal,mode:"cors",credentials:c?"include":"same-origin",redirect:"follow"}}Object.defineProperty(c,"__esModule",{value:!0});c.PDFFetchStream=void 0;var s=function(a){return a&&a.__esModule?a:{"default":a}}(a(134)),j=
a(1),x=a(153),d=function(){function a(c){g(this,a);this.source=c;this.httpHeaders=(this.isHttp=/^https?:/i.test(c.url))&&c.httpHeaders||{};this._fullRequestReader=null;this._rangeRequestReaders=[]}r(a,[{key:"getFullReader",value:function(){(0,j.assert)(!this._fullRequestReader);return this._fullRequestReader=new w(this)}},{key:"getRangeReader",value:function(a,b){var c=new t(this,a,b);this._rangeRequestReaders.push(c);return c}},{key:"cancelAllRequests",value:function(a){this._fullRequestReader&&
this._fullRequestReader.cancel(a);this._rangeRequestReaders.slice(0).forEach(function(b){b.cancel(a)})}}]);return a}();c.PDFFetchStream=d;var w=function(){function a(c){var b=this;g(this,a);this._stream=c;this._reader=null;this._loaded=0;this._filename=null;c=c.source;this._withCredentials=c.withCredentials;this._contentLength=c.length;this._headersCapability=(0,j.createPromiseCapability)();this._disableRange=c.disableRange||!1;this._rangeChunkSize=c.rangeChunkSize;!this._rangeChunkSize&&!this._disableRange&&
(this._disableRange=!0);"undefined"!==typeof AbortController&&(this._abortController=new AbortController);this._isStreamingSupported=!c.disableStream;this._isRangeSupported=!c.disableRange;this._headers=new Headers;for(var d in this._stream.httpHeaders){var k=this._stream.httpHeaders[d];"undefined"!==typeof k&&this._headers.append(d,k)}var i=c.url;fetch(i,v(this._headers,this._withCredentials,this._abortController)).then(function(a){if(!(0,x.validateResponseStatus)(a.status))throw(0,x.createResponseStatusError)(a.status,
i);b._reader=a.body.getReader();b._headersCapability.resolve();var c=function(b){return a.headers.get(b)},d=(0,x.validateRangeRequestCapabilities)({getResponseHeader:c,isHttp:b._stream.isHttp,rangeChunkSize:b._rangeChunkSize,disableRange:b._disableRange}),e=d.suggestedLength;b._isRangeSupported=d.allowRangeRequests;b._contentLength=e||b._contentLength;b._filename=(0,x.extractFilenameFromHeader)(c);!b._isStreamingSupported&&b._isRangeSupported&&b.cancel(new j.AbortException("streaming is disabled"))}).catch(this._headersCapability.reject);
this.onProgress=null}r(a,[{key:"read",value:function(){var a=l(s.default.mark(function e(){var a,c,d,f;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._headersCapability.promise;case 2:return e.next=4,this._reader.read();case 4:a=e.sent;c=a.value;d=a.done;if(!d){e.next=9;break}return e.abrupt("return",{value:c,done:d});case 9:this._loaded+=c.byteLength;if(this.onProgress)this.onProgress({loaded:this._loaded,total:this._contentLength});f=(new Uint8Array(c)).buffer;
return e.abrupt("return",{value:f,done:!1});case 13:case "end":return e.stop()}},e,this)}));return function(){return a.apply(this,arguments)}}()},{key:"cancel",value:function(a){this._reader&&this._reader.cancel(a);this._abortController&&this._abortController.abort()}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},
{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return a}(),t=function(){function a(c,b,d){var k=this;g(this,a);this._stream=c;this._reader=null;this._loaded=0;c=c.source;this._withCredentials=c.withCredentials;this._readCapability=(0,j.createPromiseCapability)();this._isStreamingSupported=!c.disableStream;"undefined"!==typeof AbortController&&(this._abortController=new AbortController);this._headers=new Headers;for(var i in this._stream.httpHeaders){var l=this._stream.httpHeaders[i];
"undefined"!==typeof l&&this._headers.append(i,l)}this._headers.append("Range","bytes="+(b+"-"+(d-1)));var m=c.url;fetch(m,v(this._headers,this._withCredentials,this._abortController)).then(function(a){if(!(0,x.validateResponseStatus)(a.status))throw(0,x.createResponseStatusError)(a.status,m);k._readCapability.resolve();k._reader=a.body.getReader()});this.onProgress=null}r(a,[{key:"read",value:function(){var a=l(s.default.mark(function e(){var a,c,d,f;return s.default.wrap(function(e){for(;;)switch(e.prev=
e.next){case 0:return e.next=2,this._readCapability.promise;case 2:return e.next=4,this._reader.read();case 4:a=e.sent;c=a.value;d=a.done;if(!d){e.next=9;break}return e.abrupt("return",{value:c,done:d});case 9:this._loaded+=c.byteLength;if(this.onProgress)this.onProgress({loaded:this._loaded});f=(new Uint8Array(c)).buffer;return e.abrupt("return",{value:f,done:!1});case 13:case "end":return e.stop()}},e,this)}));return function(){return a.apply(this,arguments)}}()},{key:"cancel",value:function(a){this._reader&&
this._reader.cancel(a);this._abortController&&this._abortController.abort()}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return a}()},function(d,c,a){function i(a){return a&&a.__esModule?a:{"default":a}}function l(a,c,d,f,g,h,i){try{var j=a[h](i),l=j.value}catch(o){d(o);return}j.done?c(l):Promise.resolve(l).then(f,g)}function g(a){return function(){var c=this,d=arguments;return new Promise(function(f,g){function h(a){l(j,f,g,h,i,"next",a)}function i(a){l(j,f,
g,h,i,"throw",a)}var j=a.apply(c,d);h(void 0)})}}function o(a,c){this.url=a;c=c||{};this.httpHeaders=(this.isHttp=/^https?:/i.test(a))&&c.httpHeaders||{};this.withCredentials=c.withCredentials||!1;this.getXhr=c.getXhr||function(){return new XMLHttpRequest};this.currXhrId=0;this.pendingRequests=Object.create(null);this.loadedRequests=Object.create(null)}function r(a){a=a.response;return"string"!==typeof a?a:(0,w.stringToBytes)(a).buffer}function v(a){this._source=a;this._manager=new o(a.url,{httpHeaders:a.httpHeaders,
withCredentials:a.withCredentials});this._rangeChunkSize=a.rangeChunkSize;this._fullRequestReader=null;this._rangeRequestReaders=[]}function s(a,c){this._manager=a;var d={onHeadersReceived:this._onHeadersReceived.bind(this),onProgressiveData:c.disableStream?null:this._onProgressiveData.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=c.url;this._fullRequestId=a.requestFull(d);this._headersReceivedCapability=(0,w.createPromiseCapability)();
this._disableRange=c.disableRange||!1;this._contentLength=c.length;this._rangeChunkSize=c.rangeChunkSize;!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0);this._isRangeSupported=this._isStreamingSupported=!1;this._cachedChunks=[];this._requests=[];this._done=!1;this._storedError=void 0;this.onProgress=this._filename=null}function j(a,c,d){this._manager=a;var f={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=a.requestRange(c,d,f);this._requests=
[];this._queuedChunk=null;this._done=!1;this.onClosed=this.onProgress=null}Object.defineProperty(c,"__esModule",{value:!0});c.PDFNetworkStream=v;c.NetworkManager=o;var x=i(a(134)),w=a(1),t=a(153),h=i(a(3)),f=function(){try{var a=new XMLHttpRequest;a.open("GET",h.default.location.href);a.responseType="moz-chunked-arraybuffer";return"moz-chunked-arraybuffer"===a.responseType}catch(c){return!1}}();o.prototype={requestRange:function(a,c,d){var a={begin:a,end:c},f;for(f in d)a[f]=d[f];return this.request(a)},
requestFull:function(a){return this.request(a)},request:function(a){var c=this.getXhr(),d=this.currXhrId++,g=this.pendingRequests[d]={xhr:c};c.open("GET",this.url);c.withCredentials=this.withCredentials;for(var h in this.httpHeaders){var i=this.httpHeaders[h];"undefined"!==typeof i&&c.setRequestHeader(h,i)}this.isHttp&&"begin"in a&&"end"in a?(c.setRequestHeader("Range","bytes="+(a.begin+"-"+(a.end-1))),g.expectedStatus=206):g.expectedStatus=200;f&&a.onProgressiveData?(c.responseType="moz-chunked-arraybuffer",
g.onProgressiveData=a.onProgressiveData,g.mozChunked=!0):c.responseType="arraybuffer";a.onError&&(c.onerror=function(){a.onError(c.status)});c.onreadystatechange=this.onStateChange.bind(this,d);c.onprogress=this.onProgress.bind(this,d);g.onHeadersReceived=a.onHeadersReceived;g.onDone=a.onDone;g.onError=a.onError;g.onProgress=a.onProgress;c.send(null);return d},onProgress:function(a,c){var d=this.pendingRequests[a];if(d){if(d.mozChunked){var f=r(d.xhr);d.onProgressiveData(f)}(d=d.onProgress)&&d(c)}},
onStateChange:function(a){var c=this.pendingRequests[a];if(c){var d=c.xhr;2<=d.readyState&&c.onHeadersReceived&&(c.onHeadersReceived(),delete c.onHeadersReceived);if(4===d.readyState&&a in this.pendingRequests)if(delete this.pendingRequests[a],0===d.status&&this.isHttp){if(c.onError)c.onError(d.status)}else{var f=d.status||200;if(!(200===f&&206===c.expectedStatus)&&f!==c.expectedStatus){if(c.onError)c.onError(d.status)}else if(this.loadedRequests[a]=!0,a=r(d),206===f)d=/bytes (\d+)-(\d+)\/(\d+)/.exec(d.getResponseHeader("Content-Range")),
d=parseInt(d[1],10),c.onDone({begin:d,chunk:a});else if(c.onProgressiveData)c.onDone(null);else if(a)c.onDone({begin:0,chunk:a});else if(c.onError)c.onError(d.status)}}},hasPendingRequests:function(){for(var a in this.pendingRequests)return!0;return!1},getRequestXhr:function(a){return this.pendingRequests[a].xhr},isStreamingRequest:function(a){return!!this.pendingRequests[a].onProgressiveData},isPendingRequest:function(a){return a in this.pendingRequests},isLoadedRequest:function(a){return a in this.loadedRequests},
abortAllRequests:function(){for(var a in this.pendingRequests)this.abortRequest(a|0)},abortRequest:function(a){var c=this.pendingRequests[a].xhr;delete this.pendingRequests[a];c.abort()}};v.prototype={_onRangeRequestReaderClosed:function(a){a=this._rangeRequestReaders.indexOf(a);0<=a&&this._rangeRequestReaders.splice(a,1)},getFullReader:function(){(0,w.assert)(!this._fullRequestReader);return this._fullRequestReader=new s(this._manager,this._source)},getRangeReader:function(a,c){var d=new j(this._manager,
a,c);d.onClosed=this._onRangeRequestReaderClosed.bind(this);this._rangeRequestReaders.push(d);return d},cancelAllRequests:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);this._rangeRequestReaders.slice(0).forEach(function(c){c.cancel(a)})}};s.prototype={_onHeadersReceived:function(){var a=this._fullRequestId,c=this._manager.getRequestXhr(a),d=function(a){return c.getResponseHeader(a)},f=(0,t.validateRangeRequestCapabilities)({getResponseHeader:d,isHttp:this._manager.isHttp,
rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),g=f.suggestedLength;f.allowRangeRequests&&(this._isRangeSupported=!0);this._contentLength=g||this._contentLength;this._filename=(0,t.extractFilenameFromHeader)(d);d=this._manager;d.isStreamingRequest(a)?this._isStreamingSupported=!0:this._isRangeSupported&&d.abortRequest(a);this._headersReceivedCapability.resolve()},_onProgressiveData:function(a){0<this._requests.length?this._requests.shift().resolve({value:a,done:!1}):this._cachedChunks.push(a)},
_onDone:function(a){a&&this._onProgressiveData(a.chunk);this._done=!0;0<this._cachedChunks.length||(this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[])},_onError:function(a){var c=this._url,d=(0,t.createResponseStatusError)(a,c);this._storedError=d;this._headersReceivedCapability.reject(d);this._requests.forEach(function(a){a.reject(d)});this._requests=[];this._cachedChunks=[]},_onProgress:function(a){if(this.onProgress)this.onProgress({loaded:a.loaded,total:a.lengthComputable?
a.total:this._contentLength})},get filename(){return this._filename},get isRangeSupported(){return this._isRangeSupported},get isStreamingSupported(){return this._isStreamingSupported},get contentLength(){return this._contentLength},get headersReady(){return this._headersReceivedCapability.promise},read:function(){var a=g(x.default.mark(function k(){var a,b;return x.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this._storedError){c.next=2;break}throw this._storedError;case 2:if(!(0<
this._cachedChunks.length)){c.next=5;break}a=this._cachedChunks.shift();return c.abrupt("return",{value:a,done:!1});case 5:if(!this._done){c.next=7;break}return c.abrupt("return",{value:void 0,done:!0});case 7:return b=(0,w.createPromiseCapability)(),this._requests.push(b),c.abrupt("return",b.promise);case 10:case "end":return c.stop()}},k,this)}));return function(){return a.apply(this,arguments)}}(),cancel:function(a){this._done=!0;this._headersReceivedCapability.reject(a);this._requests.forEach(function(a){a.resolve({value:void 0,
done:!0})});this._requests=[];this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId);this._fullRequestReader=null}};j.prototype={_close:function(){if(this.onClosed)this.onClosed(this)},_onDone:function(a){a=a.chunk;0<this._requests.length?this._requests.shift().resolve({value:a,done:!1}):this._queuedChunk=a;this._done=!0;this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[];this._close()},_onProgress:function(a){if(!this.isStreamingSupported&&
this.onProgress)this.onProgress({loaded:a.loaded})},get isStreamingSupported(){return!1},read:function(){var a=g(x.default.mark(function k(){var a,b;return x.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(null===this._queuedChunk){c.next=4;break}a=this._queuedChunk;this._queuedChunk=null;return c.abrupt("return",{value:a,done:!1});case 4:if(!this._done){c.next=6;break}return c.abrupt("return",{value:void 0,done:!0});case 6:return b=(0,w.createPromiseCapability)(),this._requests.push(b),
c.abrupt("return",b.promise);case 9:case "end":return c.stop()}},k,this)}));return function(){return a.apply(this,arguments)}}(),cancel:function(){this._done=!0;this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[];this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId);this._close()}}}])});
