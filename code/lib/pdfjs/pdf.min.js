(function(f,d){"object"===typeof exports&&"object"===typeof module?module.exports=d():"function"===typeof define&&define.amd?define("pdfjs-dist/build/pdf",[],d):"object"===typeof exports?exports["pdfjs-dist/build/pdf"]=d():f["pdfjs-dist/build/pdf"]=f.pdfjsDistBuildPdf=d()})(this,function(){return function(f){function d(l){if(c[l])return c[l].exports;var j=c[l]={i:l,l:!1,exports:{}};f[l].call(j.exports,j,j.exports,d);j.l=!0;return j.exports}var c={};d.m=f;d.c=c;d.d=function(c,j,e){d.o(c,j)||Object.defineProperty(c,
j,{configurable:!1,enumerable:!0,get:e})};d.n=function(c){var j=c&&c.__esModule?function(){return c["default"]}:function(){return c};d.d(j,"a",j);return j};d.o=function(c,d){return Object.prototype.hasOwnProperty.call(c,d)};d.p="";return d(d.s=63)}([function(f,d,c){function l(a){g>=y.warnings&&console.log("Warning: "+a)}function j(a){throw Error(a);}function e(a,b){a||j(b)}function m(a){e("string"===typeof a,"Invalid argument for stringToBytes");for(var b=a.length,g=new Uint8Array(b),k=0;k<b;++k)g[k]=
a.charCodeAt(k)&255;return g}function b(a){if(void 0!==a.length)return a.length;e(void 0!==a.byteLength);return a.byteLength}function r(){var a={};a.promise=new Promise(function(b,g){a.resolve=b;a.reject=g});return a}function i(a,b){var g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return!a?Promise.resolve(void 0):new Promise(function(k){k(a.apply(g,b))})}function o(b){if("object"!==("undefined"===typeof b?"undefined":v(b)))return b;switch(b.name){case "AbortException":return new p(b.message);
case "MissingPDFException":return new u(b.message);case "UnexpectedResponseException":return new t(b.message,b.status);default:return new a(b.message,b.details)}}function x(a,b,g){b?a.resolve():a.reject(g)}function h(a){return Promise.resolve(a).catch(function(){})}function s(b,g,c){var k=this;this.sourceName=b;this.targetName=g;this.comObj=c;this.streamId=this.callbackId=1;this.postMessageTransfers=!0;this.streamSinks=Object.create(null);this.streamControllers=Object.create(null);var C=this.callbacksCapabilities=
Object.create(null),e=this.actionHandler=Object.create(null);this._onComObjOnMessage=function(b){var g=b.data;if(g.targetName===k.sourceName)if(g.stream)k._processStreamMessage(g);else if(g.isReply)if(b=g.callbackId,g.callbackId in C){var L=C[b];delete C[b];"error"in g?L.reject(o(g.error)):L.resolve(g.data)}else throw Error("Cannot resolve callback "+b);else if(g.action in e){var n=e[g.action];if(g.callbackId){var J=k.sourceName,d=g.sourceName;Promise.resolve().then(function(){return n[0].call(n[1],
g.data)}).then(function(k){c.postMessage({sourceName:J,targetName:d,isReply:!0,callbackId:g.callbackId,data:k})},function(k){c.postMessage({sourceName:J,targetName:d,isReply:!0,callbackId:g.callbackId,error:!(k instanceof Error)||k instanceof p||k instanceof u||k instanceof t||k instanceof a?k:new a(k.message,k.toString())})})}else g.streamId?k._createStreamSink(g):n[0].call(n[1],g.data)}else throw Error("Unknown action from worker: "+g.action);};c.addEventListener("message",this._onComObjOnMessage)}
Object.defineProperty(d,"__esModule",{value:!0});d.unreachable=d.warn=d.utf8StringToString=d.stringToUTF8String=d.stringToPDFString=d.stringToBytes=d.string32=d.shadow=d.setVerbosityLevel=d.ReadableStream=d.removeNullCharacters=d.readUint32=d.readUint16=d.readInt8=d.log2=d.loadJpegStream=d.isEvalSupported=d.isLittleEndian=d.createValidAbsoluteUrl=d.isSameOrigin=d.isSpace=d.isString=d.isNum=d.isEmptyObj=d.isBool=d.isArrayBuffer=d.info=d.getVerbosityLevel=d.getLookupTableFactory=d.deprecated=d.createObjectURL=
d.createPromiseCapability=d.createBlob=d.bytesToString=d.assert=d.arraysToBytes=d.arrayByteLength=d.FormatError=d.XRefParseException=d.Util=d.UnknownErrorException=d.UnexpectedResponseException=d.TextRenderingMode=d.StreamType=d.PasswordResponses=d.PasswordException=d.PageViewport=d.NotImplementedException=d.NativeImageDecoding=d.MissingPDFException=d.MissingDataException=d.MessageHandler=d.InvalidPDFException=d.AbortException=d.CMapCompressionType=d.ImageKind=d.FontType=d.AnnotationType=d.AnnotationFlag=
d.AnnotationFieldFlag=d.AnnotationBorderStyleType=d.UNSUPPORTED_FEATURES=d.VERBOSITY_LEVELS=d.OPS=d.IDENTITY_MATRIX=d.FONT_IDENTITY_MATRIX=void 0;var v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};c(64);var q=c(113),y={errors:0,warnings:1,infos:5},g=y.warnings,f=function(){function a(b,g){this.name="PasswordException";this.message=b;this.code=
g}a.prototype=Error();return a.constructor=a}(),a=function(){function a(b,g){this.name="UnknownErrorException";this.message=b;this.details=g}a.prototype=Error();return a.constructor=a}(),c=function(){function a(b){this.name="InvalidPDFException";this.message=b}a.prototype=Error();return a.constructor=a}(),u=function(){function a(b){this.name="MissingPDFException";this.message=b}a.prototype=Error();return a.constructor=a}(),t=function(){function a(b,g){this.name="UnexpectedResponseException";this.message=
b;this.status=g}a.prototype=Error();return a.constructor=a}(),n=function(){function a(b){this.message=b}a.prototype=Error();a.prototype.name="NotImplementedException";return a.constructor=a}(),z=function(){function a(b,g){this.begin=b;this.end=g;this.message="Missing data ["+b+", "+g+")"}a.prototype=Error();a.prototype.name="MissingDataException";return a.constructor=a}(),A=function(){function a(b){this.message=b}a.prototype=Error();a.prototype.name="XRefParseException";return a.constructor=a}(),
w=function(){function a(b){this.message=b}a.prototype=Error();a.prototype.name="FormatError";return a.constructor=a}(),p=function(){function a(b){this.name="AbortException";this.message=b}a.prototype=Error();return a.constructor=a}(),K=/\x00/g,G=function(){function a(){}var b=["rgb(",0,",",0,",",0,")"];a.makeCssRgb=function(k,a,g){b[1]=k;b[3]=a;b[5]=g;return b.join("")};a.transform=function(k,a){return[k[0]*a[0]+k[2]*a[1],k[1]*a[0]+k[3]*a[1],k[0]*a[2]+k[2]*a[3],k[1]*a[2]+k[3]*a[3],k[0]*a[4]+k[2]*
a[5]+k[4],k[1]*a[4]+k[3]*a[5]+k[5]]};a.applyTransform=function(k,a){return[k[0]*a[0]+k[1]*a[2]+a[4],k[0]*a[1]+k[1]*a[3]+a[5]]};a.applyInverseTransform=function(k,a){var b=a[0]*a[3]-a[1]*a[2];return[(k[0]*a[3]-k[1]*a[2]+a[2]*a[5]-a[4]*a[3])/b,(-k[0]*a[1]+k[1]*a[0]+a[4]*a[1]-a[5]*a[0])/b]};a.getAxialAlignedBoundingBox=function(k,C){var b=a.applyTransform(k,C),g=a.applyTransform(k.slice(2,4),C),c=a.applyTransform([k[0],k[3]],C),p=a.applyTransform([k[2],k[1]],C);return[Math.min(b[0],g[0],c[0],p[0]),Math.min(b[1],
g[1],c[1],p[1]),Math.max(b[0],g[0],c[0],p[0]),Math.max(b[1],g[1],c[1],p[1])]};a.inverseTransform=function(k){var a=k[0]*k[3]-k[1]*k[2];return[k[3]/a,-k[1]/a,-k[2]/a,k[0]/a,(k[2]*k[5]-k[4]*k[3])/a,(k[4]*k[1]-k[5]*k[0])/a]};a.apply3dTransform=function(k,a){return[k[0]*a[0]+k[1]*a[1]+k[2]*a[2],k[3]*a[0]+k[4]*a[1]+k[5]*a[2],k[6]*a[0]+k[7]*a[1]+k[8]*a[2]]};a.singularValueDecompose2dScale=function(k){var a=[k[0],k[2],k[1],k[3]],b=k[0]*a[0]+k[1]*a[2],g=k[2]*a[1]+k[3]*a[3],c=(b+g)/2,k=Math.sqrt((b+g)*(b+
g)-4*(b*g-(k[2]*a[0]+k[3]*a[2])*(k[0]*a[1]+k[1]*a[3])))/2,a=c-k||1;return[Math.sqrt(c+k||1),Math.sqrt(a)]};a.normalizeRect=function(k){var a=k.slice(0);k[0]>k[2]&&(a[0]=k[2],a[2]=k[0]);k[1]>k[3]&&(a[1]=k[3],a[3]=k[1]);return a};a.intersect=function(k,b){function g(k,a){return k-a}var c=[k[0],k[2],b[0],b[2]].sort(g),p=[k[1],k[3],b[1],b[3]].sort(g),e=[],k=a.normalizeRect(k),b=a.normalizeRect(b);if(c[0]===k[0]&&c[1]===b[0]||c[0]===b[0]&&c[1]===k[0])e[0]=c[1],e[2]=c[2];else return!1;if(p[0]===k[1]&&p[1]===
b[1]||p[0]===b[1]&&p[1]===k[1])e[1]=p[1],e[3]=p[2];else return!1;return e};var g=" C CC CCC CD D DC DCC DCCC CM  X XX XXX XL L LX LXX LXXX XC  I II III IV V VI VII VIII IX".split(" ");a.toRoman=function(k,a){e(Number.isInteger(k)&&0<k,"The number should be a positive integer.");for(var b,c=[];1E3<=k;)k-=1E3,c.push("M");b=k/100|0;k%=100;c.push(g[b]);b=k/10|0;k%=10;c.push(g[10+b]);c.push(g[20+k]);b=c.join("");return a?b.toLowerCase():b};a.appendToArray=function(k,a){Array.prototype.push.apply(k,a)};
a.prependToArray=function(k,a){Array.prototype.unshift.apply(k,a)};a.extendObj=function(k,a){for(var b in a)k[b]=a[b]};a.getInheritableProperty=function(k,a,b){for(;k&&!k.has(a);)k=k.get("Parent");return!k?null:b?k.getArray(a):k.get(a)};a.inherit=function(k,a,b){k.prototype=Object.create(a.prototype);k.prototype.constructor=k;for(var g in b)k.prototype[g]=b[g]};a.loadScript=function(k,a){var b=document.createElement("script"),g=!1;b.setAttribute("src",k);a&&(b.onload=function(){g||a();g=!0});document.getElementsByTagName("head")[0].appendChild(b)};
return a}(),H=function(){function a(b,g,k,c,p,e){this.viewBox=b;this.scale=g;this.rotation=k;this.offsetX=c;this.offsetY=p;var n=(b[2]+b[0])/2,d=(b[3]+b[1])/2,o,u,h,k=k%360;switch(0>k?k+360:k){case 180:k=-1;u=o=0;h=1;break;case 90:k=0;u=o=1;h=0;break;case 270:k=0;u=o=-1;h=0;break;default:k=1,u=o=0,h=-1}e&&(u=-u,h=-h);0===k?(c=Math.abs(d-b[1])*g+c,p=Math.abs(n-b[0])*g+p,e=Math.abs(b[3]-b[1])*g,b=Math.abs(b[2]-b[0])*g):(c=Math.abs(n-b[0])*g+c,p=Math.abs(d-b[1])*g+p,e=Math.abs(b[2]-b[0])*g,b=Math.abs(b[3]-
b[1])*g);this.transform=[k*g,o*g,u*g,h*g,c-k*g*n-u*g*d,p-o*g*n-h*g*d];this.width=e;this.height=b;this.fontScale=g}a.prototype={clone:function(b){var b=b||{},g="scale"in b?b.scale:this.scale,k="rotation"in b?b.rotation:this.rotation;return new a(this.viewBox.slice(),g,k,this.offsetX,this.offsetY,b.dontFlip)},convertToViewportPoint:function(a,b){return G.applyTransform([a,b],this.transform)},convertToViewportRectangle:function(a){var b=G.applyTransform([a[0],a[1]],this.transform),a=G.applyTransform([a[2],
a[3]],this.transform);return[b[0],b[1],a[0],a[1]]},convertToPdfPoint:function(a,b){return G.applyInverseTransform([a,b],this.transform)}};return a}(),F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,
8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],M=function(a,b){if("undefined"!==typeof Blob)return new Blob([a],{type:b});throw Error('The "Blob" constructor is not supported.');},D=function(){return function(a,b){if((!(2<arguments.length&&void 0!==arguments[2])||!arguments[2])&&URL.createObjectURL){var g=M(a,b);return URL.createObjectURL(g)}for(var g="data:"+b+";base64,",k=0,c=a.length;k<c;k+=3)var p=a[k]&255,e=a[k+1]&255,n=a[k+2]&255,g=g+("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[p>>
2]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[(p&3)<<4|e>>4]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[k+1<c?(e&15)<<2|n>>6:64]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[k+2<c?n&63:64]);return g}}();s.prototype={on:function(a,b,g){var k=this.actionHandler;if(k[a])throw Error('There is already an actionName called "'+a+'"');k[a]=[b,g]},send:function(a,b,g){this.postMessage({sourceName:this.sourceName,targetName:this.targetName,
action:a,data:b},g)},sendWithPromise:function(a,b,g){var k=this.callbackId++,a={sourceName:this.sourceName,targetName:this.targetName,action:a,data:b,callbackId:k},b=r();this.callbacksCapabilities[k]=b;try{this.postMessage(a,g)}catch(c){b.reject(c)}return b.promise},sendWithStream:function(a,b,g){var k=this,c=this.streamId++,p=this.sourceName,e=this.targetName;return new q.ReadableStream({start:function(g){var n=r();k.streamControllers[c]={controller:g,startCall:n,isClosed:!1};k.postMessage({sourceName:p,
targetName:e,action:a,streamId:c,data:b,desiredSize:g.desiredSize});return n.promise},pull:function(a){var b=r();k.streamControllers[c].pullCall=b;k.postMessage({sourceName:p,targetName:e,stream:"pull",streamId:c,desiredSize:a.desiredSize});return b.promise},cancel:function(a){var b=r();k.streamControllers[c].cancelCall=b;k.streamControllers[c].isClosed=!0;k.postMessage({sourceName:p,targetName:e,stream:"cancel",reason:a,streamId:c});return b.promise}},g)},_createStreamSink:function(a){var b=this,
g=this,k=this.actionHandler[a.action],c=a.streamId,p=a.desiredSize,e=this.sourceName,n=a.sourceName,d=function(k){b.postMessage({sourceName:e,targetName:n,stream:k.stream,streamId:c,chunk:k.chunk,success:k.success,reason:k.reason},k.transfers)},p={enqueue:function(k){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,b=arguments[2];if(!this.isCancelled){var g=this.desiredSize;this.desiredSize-=a;0<g&&0>=this.desiredSize&&(this.sinkCapability=r(),this.ready=this.sinkCapability.promise);
d({stream:"enqueue",chunk:k,transfers:b})}},close:function(){this.isCancelled||(this.isCancelled=!0,d({stream:"close"}),delete g.streamSinks[c])},error:function(k){this.isCancelled||(this.isCancelled=!0,d({stream:"error",reason:k}))},sinkCapability:r(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:p,ready:null};p.sinkCapability.resolve();p.ready=p.sinkCapability.promise;this.streamSinks[c]=p;i(k[0],[a.data,p],k[1]).then(function(){d({stream:"start_complete",success:!0})},function(k){d({stream:"start_complete",
success:!1,reason:k})})},_processStreamMessage:function(a){var b=this,g=this.sourceName,k=a.sourceName,c=a.streamId,p=function(a){b.comObj.postMessage({sourceName:g,targetName:k,stream:a.stream,success:a.success,streamId:c,reason:a.reason})},n=function(){Promise.all([b.streamControllers[a.streamId].startCall,b.streamControllers[a.streamId].pullCall,b.streamControllers[a.streamId].cancelCall].map(function(a){return a&&h(a.promise)})).then(function(){delete b.streamControllers[a.streamId]})};switch(a.stream){case "start_complete":x(this.streamControllers[a.streamId].startCall,
a.success,o(a.reason));break;case "pull_complete":x(this.streamControllers[a.streamId].pullCall,a.success,o(a.reason));break;case "pull":if(!this.streamSinks[a.streamId]){p({stream:"pull_complete",success:!0});break}0>=this.streamSinks[a.streamId].desiredSize&&0<a.desiredSize&&this.streamSinks[a.streamId].sinkCapability.resolve();this.streamSinks[a.streamId].desiredSize=a.desiredSize;i(this.streamSinks[a.streamId].onPull).then(function(){p({stream:"pull_complete",success:!0})},function(a){p({stream:"pull_complete",
success:!1,reason:a})});break;case "enqueue":e(this.streamControllers[a.streamId],"enqueue should have stream controller");this.streamControllers[a.streamId].isClosed||this.streamControllers[a.streamId].controller.enqueue(a.chunk);break;case "close":e(this.streamControllers[a.streamId],"close should have stream controller");if(this.streamControllers[a.streamId].isClosed)break;this.streamControllers[a.streamId].isClosed=!0;this.streamControllers[a.streamId].controller.close();n();break;case "error":e(this.streamControllers[a.streamId],
"error should have stream controller");this.streamControllers[a.streamId].controller.error(o(a.reason));n();break;case "cancel_complete":x(this.streamControllers[a.streamId].cancelCall,a.success,o(a.reason));n();break;case "cancel":if(!this.streamSinks[a.streamId])break;i(this.streamSinks[a.streamId].onCancel,[o(a.reason)]).then(function(){p({stream:"cancel_complete",success:!0})},function(a){p({stream:"cancel_complete",success:!1,reason:a})});this.streamSinks[a.streamId].sinkCapability.reject(o(a.reason));
this.streamSinks[a.streamId].isCancelled=!0;delete this.streamSinks[a.streamId];break;default:throw Error("Unexpected stream case");}},postMessage:function(a,b){b&&this.postMessageTransfers?this.comObj.postMessage(a,b):this.comObj.postMessage(a)},destroy:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}};d.FONT_IDENTITY_MATRIX=[0.001,0,0,0.001,0,0];d.IDENTITY_MATRIX=[1,0,0,1,0,0];d.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,
setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,
nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,
beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};d.VERBOSITY_LEVELS=y;d.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",
javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"};d.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};d.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};d.AnnotationFlag=
{INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};d.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};d.FontType={UNKNOWN:0,TYPE1:1,TYPE1C:2,CIDFONTTYPE0:3,CIDFONTTYPE0C:4,TRUETYPE:5,CIDFONTTYPE2:6,
TYPE3:7,OPENTYPE:8,TYPE0:9,MMTYPE1:10};d.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};d.CMapCompressionType={NONE:0,BINARY:1,STREAM:2};d.AbortException=p;d.InvalidPDFException=c;d.MessageHandler=s;d.MissingDataException=z;d.MissingPDFException=u;d.NativeImageDecoding={NONE:"none",DECODE:"decode",DISPLAY:"display"};d.NotImplementedException=n;d.PageViewport=H;d.PasswordException=f;d.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};d.StreamType={UNKNOWN:0,FLATE:1,LZW:2,DCT:3,JPX:4,
JBIG:5,A85:6,AHX:7,CCF:8,RL:9};d.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};d.UnexpectedResponseException=t;d.UnknownErrorException=a;d.Util=G;d.XRefParseException=A;d.FormatError=w;d.arrayByteLength=b;d.arraysToBytes=function(a){if(1===a.length&&a[0]instanceof Uint8Array)return a[0];var g=0,c,k=a.length,p,e;for(c=0;c<k;c++)p=a[c],e=b(p),g+=e;var n=0,g=new Uint8Array(g);
for(c=0;c<k;c++)p=a[c],p instanceof Uint8Array||(p="string"===typeof p?m(p):new Uint8Array(p)),e=p.byteLength,g.set(p,n),n+=e;return g};d.assert=e;d.bytesToString=function(a){e(null!==a&&"object"===("undefined"===typeof a?"undefined":v(a))&&void 0!==a.length,"Invalid argument for bytesToString");var b=a.length;if(8192>b)return String.fromCharCode.apply(null,a);for(var g=[],k=0;k<b;k+=8192){var c=Math.min(k+8192,b),c=a.subarray(k,c);g.push(String.fromCharCode.apply(null,c))}return g.join("")};d.createBlob=
M;d.createPromiseCapability=r;d.createObjectURL=D;d.deprecated=function(a){console.log("Deprecated API usage: "+a)};d.getLookupTableFactory=function(a){var b;return function(){a&&(b=Object.create(null),a(b),a=null);return b}};d.getVerbosityLevel=function(){return g};d.info=function(a){g>=y.infos&&console.log("Info: "+a)};d.isArrayBuffer=function(a){return"object"===("undefined"===typeof a?"undefined":v(a))&&null!==a&&void 0!==a.byteLength};d.isBool=function(a){return"boolean"===typeof a};d.isEmptyObj=
function(a){for(var b in a)return!1;return!0};d.isNum=function(a){return"number"===typeof a};d.isString=function(a){return"string"===typeof a};d.isSpace=function(a){return 32===a||9===a||13===a||10===a};d.isSameOrigin=function(a,b){try{var g=new URL(a);if(!g.origin||"null"===g.origin)return!1}catch(k){return!1}var c=new URL(b,g);return g.origin===c.origin};d.createValidAbsoluteUrl=function(a,b){if(!a)return null;try{var g=b?new URL(a,b):new URL(a),k;a:if(g)switch(g.protocol){case "http:":case "https:":case "ftp:":case "mailto:":case "tel:":k=
!0;break a;default:k=!1}else k=!1;if(k)return g}catch(c){}return null};d.isLittleEndian=function(){var a=new Uint8Array(4);a[0]=1;return 1===(new Uint32Array(a.buffer,0,1))[0]};d.isEvalSupported=function(){try{return new Function(""),!0}catch(a){return!1}};d.loadJpegStream=function(a,b,g){var k=new Image;k.onload=function(){g.resolve(a,k)};k.onerror=function(){g.resolve(a,null);l("Error during JPEG image loading")};k.src=b};d.log2=function(a){return 0>=a?0:Math.ceil(Math.log2(a))};d.readInt8=function(a,
b){return a[b]<<24>>24};d.readUint16=function(a,b){return a[b]<<8|a[b+1]};d.readUint32=function(a,b){return(a[b]<<24|a[b+1]<<16|a[b+2]<<8|a[b+3])>>>0};d.removeNullCharacters=function(a){return"string"!==typeof a?(l("The argument for removeNullCharacters must be a string."),a):a.replace(K,"")};d.ReadableStream=q.ReadableStream;d.setVerbosityLevel=function(a){g=a};d.shadow=function(a,b,g){Object.defineProperty(a,b,{value:g,enumerable:!0,configurable:!0,writable:!1});return g};d.string32=function(a){return String.fromCharCode(a>>
24&255,a>>16&255,a>>8&255,a&255)};d.stringToBytes=m;d.stringToPDFString=function(a){var b,g=a.length,k=[];if("\u00fe"===a[0]&&"\u00ff"===a[1])for(b=2;b<g;b+=2)k.push(String.fromCharCode(a.charCodeAt(b)<<8|a.charCodeAt(b+1)));else for(b=0;b<g;++b){var c=F[a.charCodeAt(b)];k.push(c?String.fromCharCode(c):a.charAt(b))}return k.join("")};d.stringToUTF8String=function(a){return decodeURIComponent(escape(a))};d.utf8StringToString=function(a){return unescape(encodeURIComponent(a))};d.warn=l;d.unreachable=
j},function(f){var d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c};f.exports=function(c){return"object"===("undefined"===typeof c?"undefined":d(c))?null!==c:"function"===typeof c}},function(f,d,c){var l=c(43)("wks"),j=c(20),e=c(3).Symbol,m="function"==typeof e;(f.exports=function(b){return l[b]||(l[b]=m&&e[b]||(m?e:j)("Symbol."+b))}).store=
l},function(f){f=f.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=f)},function(f,d,c){var l=c(3),j=c(5),e=c(11),m=c(8),b=c(9),d=function i(c,d,h){var s=c&i.F,v=c&i.G,q=c&i.S,y=c&i.P,g=c&i.B,q=v?l:q?l[d]||(l[d]={}):(l[d]||{}).prototype,a=v?j:j[d]||(j[d]={}),u=a.prototype||(a.prototype={}),t;v&&(h=d);for(t in h)v=!s&&q&&void 0!==q[t],d=(v?q:h)[t],v=g&&v?b(d,l):y&&"function"==typeof d?b(Function.call,
d):d,q&&m(q,t,d,c&i.U),a[t]!=d&&e(a,t,v),y&&u[t]!=d&&(u[t]=d)};l.core=j;d.F=1;d.G=2;d.S=4;d.P=8;d.B=16;d.W=32;d.U=64;d.R=128;f.exports=d},function(f){f=f.exports={version:"2.5.1"};"number"==typeof __e&&(__e=f)},function(f,d,c){var l=c(1);f.exports=function(c){if(!l(c))throw TypeError(c+" is not an object!");return c}},function(f){var d={}.hasOwnProperty;f.exports=function(c,l){return d.call(c,l)}},function(f,d,c){var l=c(3),j=c(11),e=c(7),m=c(20)("src"),b=Function.toString,r=(""+b).split("toString");
c(5).inspectSource=function(c){return b.call(c)};(f.exports=function(b,c,d,h){var s="function"==typeof d;s&&(e(d,"name")||j(d,"name",c));b[c]!==d&&(s&&(e(d,m)||j(d,m,b[c]?""+b[c]:r.join(""+c))),b===l?b[c]=d:h?b[c]?b[c]=d:j(b,c,d):(delete b[c],j(b,c,d)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[m]||b.call(this)})},function(f,d,c){var l=c(16);f.exports=function(c,e,d){l(c);if(void 0===e)return c;switch(d){case 1:return function(b){return c.call(e,b)};case 2:return function(b,
d){return c.call(e,b,d)};case 3:return function(b,d,m){return c.call(e,b,d,m)}}return function(){return c.apply(e,arguments)}}},function(f,d,c){function l(b,a){if(!(b instanceof a))throw new TypeError("Cannot call a class as a function");}function j(g){var a=b.default.PDFJS;switch(g){case "pdfBug":return a?a.pdfBug:!1;case "disableAutoFetch":return a?a.disableAutoFetch:!1;case "disableStream":return a?a.disableStream:!1;case "disableRange":return a?a.disableRange:!1;case "disableFontFace":return a?
a.disableFontFace:!1;case "disableCreateObjectURL":return a?a.disableCreateObjectURL:!1;case "disableWebGL":return a?a.disableWebGL:!0;case "cMapUrl":return a?a.cMapUrl:null;case "cMapPacked":return a?a.cMapPacked:!1;case "postMessageTransfers":return a?a.postMessageTransfers:!0;case "workerPort":return a?a.workerPort:null;case "workerSrc":return a?a.workerSrc:null;case "disableWorker":return a?a.disableWorker:!1;case "maxImageSize":return a?a.maxImageSize:-1;case "imageResourcesPath":return a?a.imageResourcesPath:
"";case "isEvalSupported":return a?a.isEvalSupported:!0;case "externalLinkTarget":if(!a)return s.NONE;switch(a.externalLinkTarget){case s.NONE:case s.SELF:case s.BLANK:case s.PARENT:case s.TOP:return a.externalLinkTarget}(0,m.warn)("PDFJS.externalLinkTarget is invalid: "+a.externalLinkTarget);return a.externalLinkTarget=s.NONE;case "externalLinkRel":return a?a.externalLinkRel:r;case "enableStats":return!(!a||!a.enableStats);default:throw Error("Unknown default setting: "+g);}}Object.defineProperty(d,
"__esModule",{value:!0});d.DummyStatTimer=d.StatTimer=d.SimpleXMLParser=d.DOMSVGFactory=d.DOMCMapReaderFactory=d.DOMCanvasFactory=d.DEFAULT_LINK_REL=d.getDefaultSetting=d.LinkTarget=d.getFilenameFromUrl=d.isExternalLinkTargetSet=d.addLinkAttributes=d.RenderingCancelledException=void 0;var e=function(){function b(a,g){for(var c=0;c<g.length;c++){var d=g[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(a,c,d){c&&b(a.prototype,
c);d&&b(a,d);return a}}(),m=c(0),b=(f=c(14))&&f.__esModule?f:{"default":f},r="noopener noreferrer nofollow",f=function(){function b(){l(this,b)}e(b,[{key:"create",value:function(a,b){if(0>=a||0>=b)throw Error("invalid canvas size");var g=document.createElement("canvas"),c=g.getContext("2d");g.width=a;g.height=b;return{canvas:g,context:c}}},{key:"reset",value:function(a,b,g){if(!a.canvas)throw Error("canvas is not specified");if(0>=b||0>=g)throw Error("invalid canvas size");a.canvas.width=b;a.canvas.height=
g}},{key:"destroy",value:function(a){if(!a.canvas)throw Error("canvas is not specified");a.canvas.width=0;a.canvas.height=0;a.canvas=null;a.context=null}}]);return b}(),c=function(){function b(a){var c=a.baseUrl,c=void 0===c?null:c,a=a.isCompressed,a=void 0===a?!1:a;l(this,b);this.baseUrl=c;this.isCompressed=a}e(b,[{key:"fetch",value:function(a){var b=this,g=a.name;return!this.baseUrl?Promise.reject(Error('CMap baseUrl must be specified, see "PDFJS.cMapUrl" (and also "PDFJS.cMapPacked").')):!g?Promise.reject(Error("CMap name must be specified.")):
new Promise(function(a,c){var d=b.baseUrl+g+(b.isCompressed?".bcmap":""),e=new XMLHttpRequest;e.open("GET",d,!0);b.isCompressed&&(e.responseType="arraybuffer");e.onreadystatechange=function(){if(e.readyState===XMLHttpRequest.DONE){if(e.status===200||e.status===0){var g=void 0;b.isCompressed&&e.response?g=new Uint8Array(e.response):!b.isCompressed&&e.responseText&&(g=(0,m.stringToBytes)(e.responseText));if(g){a({cMapData:g,compressionType:b.isCompressed?m.CMapCompressionType.BINARY:m.CMapCompressionType.NONE});
return}}c(Error("Unable to load "+(b.isCompressed?"binary ":"")+"CMap at: "+d))}};e.send(null)})}}]);return b}(),i=function(){function b(){l(this,b)}e(b,[{key:"create",value:function(a,b){(0,m.assert)(0<a&&0<b,"Invalid SVG dimensions");var g=document.createElementNS("http://www.w3.org/2000/svg","svg:svg");g.setAttribute("version","1.1");g.setAttribute("width",a+"px");g.setAttribute("height",b+"px");g.setAttribute("preserveAspectRatio","none");g.setAttribute("viewBox","0 0 "+a+" "+b);return g}},{key:"createElement",
value:function(a){(0,m.assert)("string"===typeof a,"Invalid SVG element type");return document.createElementNS("http://www.w3.org/2000/svg",a)}}]);return b}(),o=function(){function b(a,c){l(this,b);this.nodeName=a;this.nodeValue=c;Object.defineProperty(this,"parentNode",{value:null,writable:!0})}e(b,[{key:"hasChildNodes",value:function(){return this.childNodes&&0<this.childNodes.length}},{key:"firstChild",get:function(){return this.childNodes[0]}},{key:"nextSibling",get:function(){return this.parentNode.childNodes[this.parentNode.childNodes.indexOf(this)+
1]}},{key:"textContent",get:function(){return!this.childNodes?this.nodeValue||"":this.childNodes.map(function(a){return a.textContent}).join("")}}]);return b}(),x=function(){function b(){l(this,b)}e(b,[{key:"parseFromString",value:function(a){var b=this,g=[],a=a.replace(/<\?[\s\S]*?\?>|<\!--[\s\S]*?--\>/g,"").trim(),a=a.replace(/<!DOCTYPE[^>\[]+(\[[^\]]+)?[^>]+>/g,"").trim(),a=a.replace(/>([^<][\s\S]*?)</g,function(a,c){var p=g.length,d=new o("#text",b._decodeXML(c));g.push(d);return 0===d.textContent.trim().length?
"><":">"+p+",<"}),a=a.replace(/<!\[CDATA\[([\s\S]*?)\]\]>/g,function(a,b){var c=g.length,d=new o("#text",b);g.push(d);return c+","}),c=/<([\w\:]+)((?:[\s\w:=]|'[^']*'|"[^"]*")*)(?:\/>|>([\d,]*)<\/[^>]+>)/g,d=void 0;do d=g.length,a=a.replace(c,function(a,b,c,d){var a=g.length,e=new o(b),n=[];d&&(d=d.split(","),d.pop(),d.forEach(function(a){a=g[+a];a.parentNode=e;n.push(a)}));e.childNodes=n;g.push(e);return a+","});while(d<g.length);return{documentElement:g.pop()}}},{key:"_decodeXML",value:function(a){return 0>
a.indexOf("&")?a:a.replace(/&(#(x[0-9a-f]+|\d+)|\w+);/gi,function(a,b,g){if(g)return g="x"===g[0]?parseInt(g.substring(1),16):+g,String.fromCharCode(g);switch(b){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';case "apos":return"'"}return"&"+b+";"})}}]);return b}(),h=function(){function b(a,g){this.message=a;this.type=g}b.prototype=Error();b.prototype.name="RenderingCancelledException";return b.constructor=b}(),s={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4},v=["","_self",
"_blank","_parent","_top"],q=function(){function b(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!0;l(this,b);this.enabled=!!a;this.reset()}e(b,[{key:"reset",value:function(){this.started=Object.create(null);this.times=[]}},{key:"time",value:function(a){this.enabled&&(a in this.started&&(0,m.warn)("Timer is already running for "+a),this.started[a]=Date.now())}},{key:"timeEnd",value:function(a){this.enabled&&(a in this.started||(0,m.warn)("Timer has not been started for "+a),this.times.push({name:a,
start:this.started[a],end:Date.now()}),delete this.started[a])}},{key:"toString",value:function(){for(var a=this.times,b="",g=0,c=0,d=a.length;c<d;++c){var e=a[c].name;e.length>g&&(g=e.length)}c=0;for(d=a.length;c<d;++c)var e=a[c],h=e.end-e.start,b=b+(e.name.padEnd(g)+" "+h+"ms\n");return b}}]);return b}(),y=function(){function b(){l(this,b);(0,m.unreachable)("Cannot initialize DummyStatTimer.")}e(b,null,[{key:"reset",value:function(){}},{key:"time",value:function(){}},{key:"timeEnd",value:function(){}},
{key:"toString",value:function(){return""}}]);return b}();d.RenderingCancelledException=h;d.addLinkAttributes=function(b,a){var c=a&&a.url;b.href=b.title=c?(0,m.removeNullCharacters)(c):"";c&&(c=a.target,"undefined"===typeof c&&(c=j("externalLinkTarget")),b.target=v[c],c=a.rel,"undefined"===typeof c&&(c=j("externalLinkRel")),b.rel=c)};d.isExternalLinkTargetSet=function(){switch(j("externalLinkTarget")){case s.NONE:return!1;case s.SELF:case s.BLANK:case s.PARENT:case s.TOP:return!0}};d.getFilenameFromUrl=
function(b){var a=b.indexOf("#"),c=b.indexOf("?"),a=Math.min(0<a?a:b.length,0<c?c:b.length);return b.substring(b.lastIndexOf("/",a)+1,a)};d.LinkTarget=s;d.getDefaultSetting=j;d.DEFAULT_LINK_REL=r;d.DOMCanvasFactory=f;d.DOMCMapReaderFactory=c;d.DOMSVGFactory=i;d.SimpleXMLParser=x;d.StatTimer=q;d.DummyStatTimer=y},function(f,d,c){var l=c(15),j=c(26);f.exports=c(12)?function(c,d,b){return l.f(c,d,j(1,b))}:function(c,d,b){c[d]=b;return c}},function(f,d,c){f.exports=!c(13)(function(){return 7!=Object.defineProperty({},
"a",{get:function(){return 7}}).a})},function(f){f.exports=function(d){try{return!!d()}catch(c){return!0}}},function(f){f.exports="undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof global&&global.Math===Math?global:"undefined"!==typeof self&&self.Math===Math?self:{}},function(f,d,c){var l=c(6),j=c(40),e=c(41),m=Object.defineProperty;d.f=c(12)?Object.defineProperty:function(b,c,d){l(b);c=e(c,!0);l(d);if(j)try{return m(b,c,d)}catch(o){}if("get"in d||"set"in d)throw TypeError("Accessors not supported!");
"value"in d&&(b[c]=d.value);return b}},function(f){f.exports=function(d){if("function"!=typeof d)throw TypeError(d+" is not a function!");return d}},function(f,d,c){var l=c(27),j=c(28);f.exports=function(c){return l(j(c))}},function(f){var d={}.toString;f.exports=function(c){return d.call(c).slice(8,-1)}},function(f){f.exports={}},function(f){var d=0,c=Math.random();f.exports=function(l){return"Symbol(".concat(void 0===l?"":l,")_",(++d+c).toString(36))}},function(f,d,c){var l=c(68),j=c(44);f.exports=
Object.keys||function(c){return l(c,j)}},function(f,d,c){var l=c(15).f,j=c(7),e=c(2)("toStringTag");f.exports=function(c,b,d){c&&!j(c=d?c:c.prototype,e)&&l(c,e,{configurable:!0,value:b})}},function(f,d,c){var l=c(9),j=c(89),e=c(90),m=c(6),b=c(29),r=c(91),i={},o={},f=f.exports=function(c,d,s,v,q){var q=q?function(){return c}:r(c),s=l(s,v,d?2:1),v=0,y,g;if("function"!=typeof q)throw TypeError(c+" is not iterable!");if(e(q))for(y=b(c.length);y>v;v++){if(q=d?s(m(g=c[v])[0],g[1]):s(c[v]),q===i||q===o)return q}else for(v=
q.call(c);!(g=v.next()).done;)if(q=j(v,s,g.value,d),q===i||q===o)return q};f.BREAK=i;f.RETURN=o},function(f){var d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c};f.exports=function(){return"object"===("undefined"===typeof process?"undefined":d(process))&&"[object process]"===process+""}},function(f,d,c){var d=c(1),l=c(3).document,j=d(l)&&d(l.createElement);
f.exports=function(c){return j?l.createElement(c):{}}},function(f){f.exports=function(d,c){return{enumerable:!(d&1),configurable:!(d&2),writable:!(d&4),value:c}}},function(f,d,c){var l=c(18);f.exports=Object("z").propertyIsEnumerable(0)?Object:function(c){return"String"==l(c)?c.split(""):Object(c)}},function(f){f.exports=function(d){if(void 0==d)throw TypeError("Can't call method on  "+d);return d}},function(f,d,c){var l=c(30),j=Math.min;f.exports=function(c){return 0<c?j(l(c),9007199254740991):0}},
function(f){var d=Math.ceil,c=Math.floor;f.exports=function(l){return isNaN(l=+l)?0:(0<l?c:d)(l)}},function(f,d,c){var l=c(43)("keys"),j=c(20);f.exports=function(c){return l[c]||(l[c]=j(c))}},function(f,d){d.f={}.propertyIsEnumerable},function(f,d,c){var l=c(18),j=c(2)("toStringTag"),e="Arguments"==l(function(){return arguments}());f.exports=function(c){var b,d;if(void 0===c)b="Undefined";else{var i;if(null===c)i="Null";else{var o=c=Object(c);try{i=o[j]}catch(x){}i="string"==typeof(b=i)?b:e?l(c):
"Object"==(d=l(c))&&"function"==typeof c.callee?"Arguments":d}b=i}return b}},function(f,d,c){var l=c(28);f.exports=function(c){return Object(l(c))}},function(f){f.exports=function(d,c,l,j){if(!(d instanceof c)||void 0!==j&&j in d)throw TypeError(l+": incorrect invocation!");return d}},function(f,d,c){function l(c){var d,b;this.promise=new c(function(c,e){if(void 0!==d||void 0!==b)throw TypeError("Bad Promise constructor");d=c;b=e});this.resolve=j(d);this.reject=j(b)}var j=c(16);f.exports.f=function(c){return new l(c)}},
function(f,d,c){var l=c(8);f.exports=function(c,d,m){for(var b in d)l(c,b,d[b],m);return c}},function(f,d,c){var l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},j=c(20)("meta"),e=c(1),m=c(7),b=c(15).f,r=0,i=Object.isExtensible||function(){return!0},o=!c(13)(function(){return i(Object.preventExtensions({}))}),x=function(c){b(c,j,{value:{i:"O"+
++r,w:{}}})},h=f.exports={KEY:j,NEED:!1,fastKey:function(b,c){if(!e(b))return"symbol"==("undefined"===typeof b?"undefined":l(b))?b:("string"==typeof b?"S":"P")+b;if(!m(b,j)){if(!i(b))return"F";if(!c)return"E";x(b)}return b[j].i},getWeak:function(b,c){if(!m(b,j)){if(!i(b))return!0;if(!c)return!1;x(b)}return b[j].w},onFreeze:function(b){o&&(h.NEED&&i(b)&&!m(b,j))&&x(b);return b}}},function(f,d,c){Object.defineProperty(d,"__esModule",{value:!0});d.validateResponseStatus=d.validateRangeRequestCapabilities=
d.extractFilenameFromHeader=d.createResponseStatusError=void 0;var l=c(0),j=c(122);d.createResponseStatusError=function(c,d){return 404===c||0===c&&/^file:/.test(d)?new l.MissingPDFException('Missing PDF "'+d+'".'):new l.UnexpectedResponseException("Unexpected server response ("+c+') while retrieving PDF "'+d+'".',c)};d.extractFilenameFromHeader=function(c){if(c=c("Content-Disposition"))if(c=(0,j.getFilenameFromContentDispositionHeader)(c),/\.pdf$/i.test(c))return c;return null};d.validateRangeRequestCapabilities=
function(c){var d=c.getResponseHeader,b=c.isHttp,j=c.rangeChunkSize,i=c.disableRange;(0,l.assert)(0<j,"Range chunk size must be larger than zero");c={allowRangeRequests:!1,suggestedLength:void 0};if(i||!b||"bytes"!==d("Accept-Ranges")||"identity"!==(d("Content-Encoding")||"identity"))return c;d=parseInt(d("Content-Length"),10);if(!Number.isInteger(d))return c;c.suggestedLength=d;if(d<=2*j)return c;c.allowRangeRequests=!0;return c};d.validateResponseStatus=function(c){return 200===c||206===c}},function(f,
d,c){f.exports=!c(12)&&!c(13)(function(){return 7!=Object.defineProperty(c(25)("div"),"a",{get:function(){return 7}}).a})},function(f,d,c){var l=c(1);f.exports=function(c,d){if(!l(c))return c;var m,b;if(d&&"function"==typeof(m=c.toString)&&!l(b=m.call(c))||"function"==typeof(m=c.valueOf)&&!l(b=m.call(c))||!d&&"function"==typeof(m=c.toString)&&!l(b=m.call(c)))return b;throw TypeError("Can't convert object to primitive value");}},function(f,d,c){var l=c(17),j=c(29),e=c(69);f.exports=function(c){return function(b,
d,i){var b=l(b),o=j(b.length),i=e(i,o);if(c&&d!=d)for(;o>i;){if(d=b[i++],d!=d)return!0}else for(;o>i;i++)if((c||i in b)&&b[i]===d)return c||i||0;return!c&&-1}}},function(f,d,c){var d=c(3),l=d["__core-js_shared__"]||(d["__core-js_shared__"]={});f.exports=function(c){return l[c]||(l[c]={})}},function(f){f.exports="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ")},function(f,d,c){var l=c(2)("unscopables"),j=Array.prototype;void 0==j[l]&&c(11)(j,
l,{});f.exports=function(c){j[l][c]=!0}},function(f,d,c){var l=c(33),f={};f[c(2)("toStringTag")]="z";"[object z]"!=f+""&&c(8)(Object.prototype,"toString",function(){return"[object "+l(this)+"]"},!0)},function(f,d,c){var l=c(48),j=c(4),e=c(8),m=c(11),b=c(7),r=c(19),i=c(82),o=c(22),x=c(85),h=c(2)("iterator"),s=!([].keys&&"next"in[].keys()),v=function(){return this};f.exports=function(c,d,g,a,u,t,n){i(g,d,a);var a=function(a){return!s&&a in p?p[a]:function(){return new g(this,a)}},f=d+" Iterator",A=
"values"==u,w=!1,p=c.prototype,K=p[h]||p["@@iterator"]||u&&p[u],G=K||a(u),H=u?!A?G:a("entries"):void 0,F="Array"==d?p.entries||K:K,M,D;F&&(c=x(F.call(new c)),c!==Object.prototype&&c.next&&(o(c,f,!0),!l&&!b(c,h)&&m(c,h,v)));A&&(K&&"values"!==K.name)&&(w=!0,G=function(){return K.call(this)});(!l||n)&&(s||w||!p[h])&&m(p,h,G);r[d]=G;r[f]=v;if(u)if(M={values:A?G:a("values"),keys:t?G:a("keys"),entries:H},n)for(D in M)D in p||e(p,D,M[D]);else j(j.P+j.F*(s||w),d,M);return M}},function(f){f.exports=!1},function(f,
d,c){d=c(3).document;f.exports=d&&d.documentElement},function(f,d,c){for(var f=c(86),l=c(21),d=c(8),j=c(3),e=c(11),m=c(19),b=c(2),c=b("iterator"),b=b("toStringTag"),r=m.Array,i={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,
PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},l=l(i),o=0;o<l.length;o++){var x=l[o],h=i[x],s=j[x],s=s&&s.prototype,v;if(s&&(s[c]||e(s,c,r),s[b]||e(s,b,x),m[x]=r,h))for(v in f)s[v]||d(s,v,f[v],!0)}},function(f,d,c){var l=c(6),j=c(16),e=c(2)("species");f.exports=function(c,b){var d=l(c).constructor,i;return void 0===d||void 0==(i=l(d)[e])?
b:j(i)}},function(f,d,c){var l=c(9),j=c(92),e=c(49),m=c(25),b=c(3),r=b.process,d=b.setImmediate,i=b.clearImmediate,o=b.MessageChannel,x=b.Dispatch,h=0,s={},v,q=function(){var b=+this;if(s.hasOwnProperty(b)){var a=s[b];delete s[b];a()}},y=function(b){q.call(b.data)};if(!d||!i)d=function(b){for(var a=[],c=1;arguments.length>c;)a.push(arguments[c++]);s[++h]=function(){j("function"==typeof b?b:Function(b),a)};v(h);return h},i=function(b){delete s[b]},"process"==c(18)(r)?v=function(b){r.nextTick(l(q,b,
1))}:x&&x.now?v=function(b){x.now(l(q,b,1))}:o?(c=new o,o=c.port2,c.port1.onmessage=y,v=l(o.postMessage,o,1)):b.addEventListener&&"function"==typeof postMessage&&!b.importScripts?(v=function(c){b.postMessage(c+"","*")},b.addEventListener("message",y,!1)):v="onreadystatechange"in m("script")?function(b){e.appendChild(m("script")).onreadystatechange=function(){e.removeChild(this);q.call(b)}}:function(b){setTimeout(l(q,b,1),0)};f.exports={set:d,clear:i}},function(f){f.exports=function(d){try{return{e:!1,
v:d()}}catch(c){return{e:!0,v:c}}}},function(f,d,c){var l=c(6),j=c(1),e=c(36);f.exports=function(c,b){l(c);if(j(b)&&b.constructor===c)return b;var d=e.f(c),i=d.resolve;i(b);return d.promise}},function(f,d,c){var l=c(2)("iterator"),j=!1;try{var e=[7][l]();e["return"]=function(){j=!0};Array.from(e,function(){throw 2;})}catch(m){}f.exports=function(b,c){if(!c&&!j)return!1;var d=!1;try{var e=[7],x=e[l]();x.next=function(){return{done:d=!0}};e[l]=function(){return x};b(e)}catch(h){}return d}},function(f,
d,c){var l=c(9),j=c(27),e=c(34),m=c(29),b=c(99);f.exports=function(c,d){var o=1==c,x=2==c,h=3==c,s=4==c,v=6==c,q=5==c||v,y=d||b;return function(b,a,d){for(var i=e(b),n=j(i),a=l(a,d,3),d=m(n.length),f=0,b=o?y(b,d):x?y(b,0):void 0,A,w;d>f;f++)if(q||f in n)if(A=n[f],w=a(A,f,i),c)if(o)b[f]=w;else if(w)switch(c){case 3:return!0;case 5:return A;case 6:return f;case 2:b.push(A)}else if(s)return!1;return v?-1:h||s?s:b}}},function(f,d,c){var l=c(1);f.exports=function(c,d){if(!l(c)||c._t!==d)throw TypeError("Incompatible receiver, "+
d+" required!");return c}},function(f,d,c){function l(a,c,g,d){if(a.destroyed)return Promise.reject(Error("Worker was destroyed"));c.disableRange=(0,b.getDefaultSetting)("disableRange");c.disableAutoFetch=(0,b.getDefaultSetting)("disableAutoFetch");c.disableStream=(0,b.getDefaultSetting)("disableStream");g&&(c.length=g.length,c.initialData=g.initialData);return a.messageHandler.sendWithPromise("GetDocRequest",{docId:d,apiVersion:"2.0.290",source:{data:c.data,url:c.url,password:c.password,disableAutoFetch:c.disableAutoFetch,
rangeChunkSize:c.rangeChunkSize,length:c.length},maxImageSize:(0,b.getDefaultSetting)("maxImageSize"),disableFontFace:(0,b.getDefaultSetting)("disableFontFace"),disableCreateObjectURL:(0,b.getDefaultSetting)("disableCreateObjectURL"),postMessageTransfers:(0,b.getDefaultSetting)("postMessageTransfers")&&!y,docBaseUrl:c.docBaseUrl,nativeImageDecoderSupport:c.nativeImageDecoderSupport,ignoreErrors:c.ignoreErrors,isEvalSupported:(0,b.getDefaultSetting)("isEvalSupported")}).then(function(b){if(a.destroyed)throw Error("Worker was destroyed");
return b})}Object.defineProperty(d,"__esModule",{value:!0});d.build=d.version=d.setPDFNetworkStreamFactory=d.PDFPageProxy=d.PDFDocumentProxy=d.PDFWorker=d.PDFDataRangeTransport=d.LoopbackPort=d.getDocument=void 0;var j=function(){function a(b,c){for(var g=0;g<c.length;g++){var d=c[g];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,c,g){c&&a(b.prototype,c);g&&a(b,g);return b}}(),e="function"===typeof Symbol&&"symbol"===
typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},m=c(0),b=c(10),r=c(116),i=c(117),o=(f=c(14))&&f.__esModule?f:{"default":f},x=c(59),h=c(119),s=c(120),v=!1,q,y=!1,g="undefined"!==typeof document&&document.currentScript?document.currentScript.src:null,a=null,c=!1;"undefined"===typeof window?(v=!0,"undefined"===typeof require.ensure&&(require.ensure=require("node-ensure")),c=!0):"undefined"!==
typeof require&&"function"===typeof require.ensure&&(c=!0);"undefined"!==typeof requirejs&&requirejs.toUrl&&(q=requirejs.toUrl("pdfjs-dist/build/pdf.worker.js"));var f="undefined"!==typeof requirejs&&requirejs.load,a=c?function(a){require.ensure([],function(){var b;b=require("./pdf.worker.js");a(b.WorkerMessageHandler)})}:f?function(a){requirejs(["pdfjs-dist/build/pdf.worker"],function(b){a(b.WorkerMessageHandler)})}:null,u,t=function(){function a(){this._capability=(0,m.createPromiseCapability)();
this._worker=this._transport=null;this.docId="d"+b++;this.destroyed=false;this.onUnsupportedFeature=this.onProgress=this.onPassword=null}var b=0;a.prototype={get promise(){return this._capability.promise},destroy:function(){var a=this;this.destroyed=true;return(!this._transport?Promise.resolve():this._transport.destroy()).then(function(){a._transport=null;if(a._worker){a._worker.destroy();a._worker=null}})},then:function(a,b){return this.promise.then.apply(this.promise,arguments)}};return a}(),n=
function(){function a(b,c){this.length=b;this.initialData=c;this._rangeListeners=[];this._progressListeners=[];this._progressiveReadListeners=[];this._readyCapability=(0,m.createPromiseCapability)()}a.prototype={addRangeListener:function(a){this._rangeListeners.push(a)},addProgressListener:function(a){this._progressListeners.push(a)},addProgressiveReadListener:function(a){this._progressiveReadListeners.push(a)},onDataRange:function(a,b){for(var c=this._rangeListeners,g=0,k=c.length;g<k;++g)c[g](a,
b)},onDataProgress:function(a){var b=this;this._readyCapability.promise.then(function(){for(var c=b._progressListeners,g=0,k=c.length;g<k;++g)c[g](a)})},onDataProgressiveRead:function(a){var b=this;this._readyCapability.promise.then(function(){for(var c=b._progressiveReadListeners,g=0,k=c.length;g<k;++g)c[g](a)})},transportReady:function(){this._readyCapability.resolve()},requestDataRange:function(){(0,m.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")},abort:function(){}};return a}(),
z=function(){function a(b,c,g){this.pdfInfo=b;this.transport=c;this.loadingTask=g}a.prototype={get numPages(){return this.pdfInfo.numPages},get fingerprint(){return this.pdfInfo.fingerprint},getPage:function(a){return this.transport.getPage(a)},getPageIndex:function(a){return this.transport.getPageIndex(a)},getDestinations:function(){return this.transport.getDestinations()},getDestination:function(a){return this.transport.getDestination(a)},getPageLabels:function(){return this.transport.getPageLabels()},
getPageMode:function(){return this.transport.getPageMode()},getAttachments:function(){return this.transport.getAttachments()},getJavaScript:function(){return this.transport.getJavaScript()},getOutline:function(){return this.transport.getOutline()},getMetadata:function(){return this.transport.getMetadata()},getData:function(){return this.transport.getData()},getDownloadInfo:function(){return this.transport.downloadInfoCapability.promise},getStats:function(){return this.transport.getStats()},cleanup:function(){this.transport.startCleanup()},
destroy:function(){return this.loadingTask.destroy()}};return a}(),A=function(){function a(c,g,d){this.pageIndex=c;this.pageInfo=g;this.transport=d;this._stats=(0,b.getDefaultSetting)("enableStats")?new b.StatTimer:b.DummyStatTimer;this.commonObjs=d.commonObjs;this.objs=new G;this.pendingCleanup=this.cleanupAfterRender=false;this.intentStates=Object.create(null);this.destroyed=false}a.prototype={get pageNumber(){return this.pageIndex+1},get rotate(){return this.pageInfo.rotate},get ref(){return this.pageInfo.ref},
get userUnit(){return this.pageInfo.userUnit},get view(){return this.pageInfo.view},getViewport:function(a){return new m.PageViewport(this.view,a,arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.rotate,0,0,arguments.length>2&&arguments[2]!==void 0?arguments[2]:false)},getAnnotations:function(a){a=a&&a.intent||null;if(!this.annotationsPromise||this.annotationsIntent!==a){this.annotationsPromise=this.transport.getAnnotations(this.pageIndex,a);this.annotationsIntent=a}return this.annotationsPromise},
render:function(a){var c=this,g=this._stats;g.time("Overall");this.pendingCleanup=false;var d=a.intent==="print"?"print":"display",k=a.canvasFactory||new b.DOMCanvasFactory,p=new s.WebGLContext({enable:!(0,b.getDefaultSetting)("disableWebGL")});this.intentStates[d]||(this.intentStates[d]=Object.create(null));var n=this.intentStates[d];if(!n.displayReadyCapability){n.receivingOperatorList=true;n.displayReadyCapability=(0,m.createPromiseCapability)();n.operatorList={fnArray:[],argsArray:[],lastChunk:false};
g.time("Page Request");this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1,intent:d,renderInteractiveForms:a.renderInteractiveForms===true})}var e=function(a){var b=n.renderTasks.indexOf(h);b>=0&&n.renderTasks.splice(b,1);if(c.cleanupAfterRender)c.pendingCleanup=true;c._tryCleanup();a?h.capability.reject(a):h.capability.resolve();g.timeEnd("Rendering");g.timeEnd("Overall")},h=new F(e,a,this.objs,this.commonObjs,n.operatorList,this.pageNumber,k,p);h.useRequestAnimationFrame=
d!=="print";if(!n.renderTasks)n.renderTasks=[];n.renderTasks.push(h);a=h.task;n.displayReadyCapability.promise.then(function(a){if(c.pendingCleanup)e();else{g.time("Rendering");h.initializeGraphics(a);h.operatorListChanged()}}).catch(e);return a},getOperatorList:function(){function a(){if(b.operatorList.lastChunk){b.opListReadCapability.resolve(b.operatorList);var g=b.renderTasks.indexOf(c);g>=0&&b.renderTasks.splice(g,1)}}this.intentStates.oplist||(this.intentStates.oplist=Object.create(null));var b=
this.intentStates.oplist,c;if(!b.opListReadCapability){c={};c.operatorListChanged=a;b.receivingOperatorList=true;b.opListReadCapability=(0,m.createPromiseCapability)();b.renderTasks=[];b.renderTasks.push(c);b.operatorList={fnArray:[],argsArray:[],lastChunk:false};this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageIndex,intent:"oplist"})}return b.opListReadCapability.promise},streamTextContent:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.transport.messageHandler.sendWithStream("GetTextContent",
{pageIndex:this.pageNumber-1,normalizeWhitespace:a.normalizeWhitespace===true,combineTextItems:a.disableCombineTextItems!==true},{highWaterMark:100,size:function(a){return a.items.length}})},getTextContent:function(a){var a=a||{},b=this.streamTextContent(a);return new Promise(function(a,c){function k(){g.read().then(function(b){var c=b.value;if(b.done)a(d);else{m.Util.extendObj(d.styles,c.styles);m.Util.appendToArray(d.items,c.items);k()}},c)}var g=b.getReader(),d={items:[],styles:Object.create(null)};
k()})},_destroy:function(){this.destroyed=true;this.transport.pageCache[this.pageIndex]=null;var a=[];Object.keys(this.intentStates).forEach(function(b){b!=="oplist"&&this.intentStates[b].renderTasks.forEach(function(b){var c=b.capability.promise.catch(function(){});a.push(c);b.cancel()})},this);this.objs.clear();this.annotationsPromise=null;this.pendingCleanup=false;return Promise.all(a)},cleanup:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:false;this.pendingCleanup=true;
this._tryCleanup(a)},_tryCleanup:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:false;if(this.pendingCleanup&&!Object.keys(this.intentStates).some(function(a){a=this.intentStates[a];return a.renderTasks.length!==0||a.receivingOperatorList},this)){Object.keys(this.intentStates).forEach(function(a){delete this.intentStates[a]},this);this.objs.clear();this.annotationsPromise=null;a&&this._stats.reset();this.pendingCleanup=false}},_startRenderPage:function(a,b){var c=this.intentStates[b];
c.displayReadyCapability&&c.displayReadyCapability.resolve(a)},_renderPageChunk:function(a,b){var c=this.intentStates[b],g,k;g=0;for(k=a.length;g<k;g++){c.operatorList.fnArray.push(a.fnArray[g]);c.operatorList.argsArray.push(a.argsArray[g])}c.operatorList.lastChunk=a.lastChunk;for(g=0;g<c.renderTasks.length;g++)c.renderTasks[g].operatorListChanged();if(a.lastChunk){c.receivingOperatorList=false;this._tryCleanup()}},get stats(){return this._stats instanceof b.StatTimer?this._stats:null}};return a}(),
w=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._listeners=[];this._defer=b;this._deferred=Promise.resolve(void 0)}j(a,[{key:"postMessage",value:function(a,b){function c(a){if((typeof a==="undefined"?"undefined":e(a))!=="object"||a===null)return a;if(k.has(a))return k.get(a);var g;if((g=a.buffer)&&(0,m.isArrayBuffer)(g)){var d=b&&b.indexOf(g)>=0;g=a===g?a:d?new a.constructor(g,a.byteOffset,a.byteLength):new a.constructor(a);k.set(a,
g);return g}g=Array.isArray(a)?[]:{};k.set(a,g);for(d in a){for(var p,C=a;!(p=Object.getOwnPropertyDescriptor(C,d));)C=Object.getPrototypeOf(C);typeof p.value==="undefined"||typeof p.value==="function"||(g[d]=c(p.value))}return g}var g=this;if(this._defer){var k=new WeakMap,d={data:c(a)};this._deferred.then(function(){g._listeners.forEach(function(a){a.call(this,d)},g)})}else this._listeners.forEach(function(b){b.call(this,{data:a})},this)}},{key:"addEventListener",value:function(a,b){this._listeners.push(b)}},
{key:"removeEventListener",value:function(a,b){this._listeners.splice(this._listeners.indexOf(b),1)}},{key:"terminate",value:function(){this._listeners=[]}}]);return a}(),p=function(){function c(){if(typeof q!=="undefined")return q;if((0,b.getDefaultSetting)("workerSrc"))return(0,b.getDefaultSetting)("workerSrc");if(g)return g.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2");throw Error("No PDFJS.workerSrc specified");}function d(){if(k)return k.promise;k=(0,m.createPromiseCapability)();(a||function(a){m.Util.loadScript(c(),
function(){a(window.pdfjsDistBuildPdfWorker.WorkerMessageHandler)})})(k.resolve);return k.promise}function p(a){return URL.createObjectURL(new Blob(["importScripts('"+a+"');"]))}function n(a,b){if(b&&C.has(b))throw Error("Cannot use more than one PDFWorker per port");this.name=a;this.destroyed=false;this.postMessageTransfers=true;this._readyCapability=(0,m.createPromiseCapability)();this._messageHandler=this._webWorker=this._port=null;if(b){C.set(b,this);this._initializeFromPort(b)}else this._initialize()}
var e=0,k=void 0,C=new WeakMap;n.prototype={get promise(){return this._readyCapability.promise},get port(){return this._port},get messageHandler(){return this._messageHandler},_initializeFromPort:function(a){this._port=a;this._messageHandler=new m.MessageHandler("main","worker",a);this._messageHandler.on("ready",function(){});this._readyCapability.resolve()},_initialize:function(){var a=this;if(!v&&!(0,b.getDefaultSetting)("disableWorker")&&typeof Worker!=="undefined"){var k=c();try{if(!(0,m.isSameOrigin)(window.location.href,
k))k=p((new URL(k,window.location)).href);var g=new Worker(k),d=new m.MessageHandler("main","worker",g),C=function(){g.removeEventListener("error",n);d.destroy();g.terminate();a.destroyed?a._readyCapability.reject(Error("Worker was destroyed")):a._setupFakeWorker()},n=function(){a._webWorker||C()};g.addEventListener("error",n);d.on("test",function(b){g.removeEventListener("error",n);if(a.destroyed)C();else if(b&&b.supportTypedArray){a._messageHandler=d;a._port=g;a._webWorker=g;if(!b.supportTransfers){a.postMessageTransfers=
false;y=true}a._readyCapability.resolve();d.send("configure",{verbosity:(0,m.getVerbosityLevel)()})}else{a._setupFakeWorker();d.destroy();g.terminate()}});d.on("ready",function(){g.removeEventListener("error",n);if(a.destroyed)C();else try{e()}catch(b){a._setupFakeWorker()}});var e=function(){var a=(0,b.getDefaultSetting)("postMessageTransfers")&&!y,a=new Uint8Array([a?255:0]);try{d.send("test",a,[a.buffer])}catch(c){(0,m.info)("Cannot use postMessage transfers");a[0]=0;d.send("test",a)}};e();return}catch(h){(0,
m.info)("The worker has been disabled.")}}this._setupFakeWorker()},_setupFakeWorker:function(){var a=this;if(!v&&!(0,b.getDefaultSetting)("disableWorker")){(0,m.warn)("Setting up fake worker.");v=true}d().then(function(b){if(a.destroyed)a._readyCapability.reject(Error("Worker was destroyed"));else{var c=new w(Uint8Array!==Float32Array);a._port=c;var k="fake"+e++,g=new m.MessageHandler(k+"_worker",k,c);b.setup(g,c);b=new m.MessageHandler(k,k+"_worker",c);a._messageHandler=b;a._readyCapability.resolve()}})},
destroy:function(){this.destroyed=true;if(this._webWorker){this._webWorker.terminate();this._webWorker=null}C.delete(this._port);this._port=null;if(this._messageHandler){this._messageHandler.destroy();this._messageHandler=null}}};n.fromPort=function(a){return C.has(a)?C.get(a):new n(null,a)};return n}(),K=function(){function a(c,g,d,p){this.messageHandler=c;this.loadingTask=g;this.commonObjs=new G;this.fontLoader=new r.FontLoader(g.docId);this.CMapReaderFactory=new p({baseUrl:(0,b.getDefaultSetting)("cMapUrl"),
isCompressed:(0,b.getDefaultSetting)("cMapPacked")});this.destroyed=false;this._passwordCapability=this.destroyCapability=null;this._networkStream=d;this._lastProgress=this._fullReader=null;this.pageCache=[];this.pagePromises=[];this.downloadInfoCapability=(0,m.createPromiseCapability)();this.setupMessageHandler()}a.prototype={destroy:function(){var a=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=true;this.destroyCapability=(0,m.createPromiseCapability)();this._passwordCapability&&
this._passwordCapability.reject(Error("Worker was destroyed during onPassword callback"));var b=[];this.pageCache.forEach(function(a){a&&b.push(a._destroy())});this.pageCache=[];this.pagePromises=[];var c=this.messageHandler.sendWithPromise("Terminate",null);b.push(c);Promise.all(b).then(function(){a.fontLoader.clear();a._networkStream&&a._networkStream.cancelAllRequests();if(a.messageHandler){a.messageHandler.destroy();a.messageHandler=null}a.destroyCapability.resolve()},this.destroyCapability.reject);
return this.destroyCapability.promise},setupMessageHandler:function(){var a=this.messageHandler,c=this.loadingTask;a.on("GetReader",function(a,b){var c=this;(0,m.assert)(this._networkStream);this._fullReader=this._networkStream.getFullReader();this._fullReader.onProgress=function(a){c._lastProgress={loaded:a.loaded,total:a.total}};b.onPull=function(){c._fullReader.read().then(function(a){var c=a.value;if(a.done)b.close();else{(0,m.assert)((0,m.isArrayBuffer)(c));b.enqueue(new Uint8Array(c),1,[c])}}).catch(function(a){b.error(a)})};
b.onCancel=function(a){c._fullReader.cancel(a)}},this);a.on("ReaderHeadersReady",function(){var a=this,b=(0,m.createPromiseCapability)(),c=this._fullReader;c.headersReady.then(function(){if(!c.isStreamingSupported||!c.isRangeSupported){if(a._lastProgress){var g=a.loadingTask;if(g.onProgress)g.onProgress(a._lastProgress)}c.onProgress=function(b){var c=a.loadingTask;if(c.onProgress)c.onProgress({loaded:b.loaded,total:b.total})}}b.resolve({isStreamingSupported:c.isStreamingSupported,isRangeSupported:c.isRangeSupported,
contentLength:c.contentLength})},b.reject);return b.promise},this);a.on("GetRangeReader",function(a,b){(0,m.assert)(this._networkStream);var c=this._networkStream.getRangeReader(a.begin,a.end);b.onPull=function(){c.read().then(function(a){var c=a.value;if(a.done)b.close();else{(0,m.assert)((0,m.isArrayBuffer)(c));b.enqueue(new Uint8Array(c),1,[c])}}).catch(function(a){b.error(a)})};b.onCancel=function(a){c.cancel(a)}},this);a.on("GetDoc",function(a){var b=a.pdfInfo;this.numPages=b.numPages;a=this.loadingTask;
this.pdfDocument=b=new z(b,this,a);a._capability.resolve(b)},this);a.on("PasswordRequest",function(a){var b=this;this._passwordCapability=(0,m.createPromiseCapability)();if(c.onPassword)c.onPassword(function(a){b._passwordCapability.resolve({password:a})},a.code);else this._passwordCapability.reject(new m.PasswordException(a.message,a.code));return this._passwordCapability.promise},this);a.on("PasswordException",function(a){c._capability.reject(new m.PasswordException(a.message,a.code))},this);a.on("InvalidPDF",
function(a){this.loadingTask._capability.reject(new m.InvalidPDFException(a.message))},this);a.on("MissingPDF",function(a){this.loadingTask._capability.reject(new m.MissingPDFException(a.message))},this);a.on("UnexpectedResponse",function(a){this.loadingTask._capability.reject(new m.UnexpectedResponseException(a.message,a.status))},this);a.on("UnknownError",function(a){this.loadingTask._capability.reject(new m.UnknownErrorException(a.message,a.details))},this);a.on("DataLoaded",function(a){this.downloadInfoCapability.resolve(a)},
this);a.on("PDFManagerReady",function(){},this);a.on("StartRenderPage",function(a){if(!this.destroyed){var b=this.pageCache[a.pageIndex];b._stats.timeEnd("Page Request");b._startRenderPage(a.transparency,a.intent)}},this);a.on("RenderPageChunk",function(a){this.destroyed||this.pageCache[a.pageIndex]._renderPageChunk(a.operatorList,a.intent)},this);a.on("commonobj",function(a){var c=this;if(!this.destroyed){var k=a[0],g=a[1];if(!this.commonObjs.hasData(k))switch(g){case "Font":a=a[2];if("error"in a){a=
a.error;(0,m.warn)("Error during font loading: "+a);this.commonObjs.resolve(k,a);break}g=null;if((0,b.getDefaultSetting)("pdfBug")&&o.default.FontInspector&&o.default.FontInspector.enabled)g={registerFont:function(a,b){o.default.FontInspector.fontAdded(a,b)}};var d=new r.FontFaceObject(a,{isEvalSupported:(0,b.getDefaultSetting)("isEvalSupported"),disableFontFace:(0,b.getDefaultSetting)("disableFontFace"),fontRegistry:g});this.fontLoader.bind([d],function(){c.commonObjs.resolve(k,d)});break;case "FontPath":this.commonObjs.resolve(k,
a[2]);break;default:throw Error("Got unknown common object type "+g);}}},this);a.on("obj",function(a){if(!this.destroyed){var b=a[0],c=a[2],g=this.pageCache[a[1]];if(!g.objs.hasData(b))switch(c){case "JpegStream":a=a[3];(0,m.loadJpegStream)(b,a,g.objs);break;case "Image":a=a[3];g.objs.resolve(b,a);if(a&&"data"in a&&a.data.length>8E6)g.cleanupAfterRender=true;break;default:throw Error("Got unknown object type "+c);}}},this);a.on("DocProgress",function(a){if(!this.destroyed){var b=this.loadingTask;
if(b.onProgress)b.onProgress({loaded:a.loaded,total:a.total})}},this);a.on("PageError",function(a){if(!this.destroyed){var b=this.pageCache[a.pageNum-1].intentStates[a.intent];if(b.displayReadyCapability)b.displayReadyCapability.reject(a.error);else throw Error(a.error);if(b.operatorList){b.operatorList.lastChunk=true;for(a=0;a<b.renderTasks.length;a++)b.renderTasks[a].operatorListChanged()}}},this);a.on("UnsupportedFeature",function(a){if(!this.destroyed){var b=this.loadingTask;if(b.onUnsupportedFeature)b.onUnsupportedFeature(a.featureId)}},
this);a.on("JpegDecode",function(a){if(this.destroyed)return Promise.reject(Error("Worker was destroyed"));if(typeof document==="undefined")return Promise.reject(Error('"document" is not defined.'));var b=a[0],c=a[1];return c!==3&&c!==1?Promise.reject(Error("Only 3 components or 1 component can be returned")):new Promise(function(a,g){var d=new Image;d.onload=function(){var b=d.width,g=d.height,p=b*g,n=p*4,p=new Uint8Array(p*c),e=document.createElement("canvas");e.width=b;e.height=g;e=e.getContext("2d");
e.drawImage(d,0,0);var e=e.getImageData(0,0,b,g).data,h,o;if(c===3)for(o=h=0;h<n;h=h+4,o=o+3){p[o]=e[h];p[o+1]=e[h+1];p[o+2]=e[h+2]}else if(c===1)for(o=h=0;h<n;h=h+4,o++)p[o]=e[h];a({data:p,width:b,height:g})};d.onerror=function(){g(Error("JpegDecode failed to load image"))};d.src=b})},this);a.on("FetchBuiltInCMap",function(a){return this.destroyed?Promise.reject(Error("Worker was destroyed")):this.CMapReaderFactory.fetch({name:a.name})},this)},getData:function(){return this.messageHandler.sendWithPromise("GetData",
null)},getPage:function(a){var b=this;if(!Number.isInteger(a)||a<=0||a>this.numPages)return Promise.reject(Error("Invalid page request"));var c=a-1;if(c in this.pagePromises)return this.pagePromises[c];a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:c}).then(function(a){if(b.destroyed)throw Error("Transport destroyed");a=new A(c,a,b);return b.pageCache[c]=a});return this.pagePromises[c]=a},getPageIndex:function(a){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:a}).catch(function(a){return Promise.reject(Error(a))})},
getAnnotations:function(a,b){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:b})},getDestinations:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)},getDestination:function(a){return this.messageHandler.sendWithPromise("GetDestination",{id:a})},getPageLabels:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)},getPageMode:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)},getAttachments:function(){return this.messageHandler.sendWithPromise("GetAttachments",
null)},getJavaScript:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)},getOutline:function(){return this.messageHandler.sendWithPromise("GetOutline",null)},getMetadata:function(){var a=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(b){return{info:b[0],metadata:b[1]?new x.Metadata(b[1]):null,contentDispositionFilename:a._fullReader?a._fullReader.filename:null}})},getStats:function(){return this.messageHandler.sendWithPromise("GetStats",
null)},startCleanup:function(){var a=this;this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var b=0,c=a.pageCache.length;b<c;b++){var g=a.pageCache[b];g&&g.cleanup()}a.commonObjs.clear();a.fontLoader.clear()})}};return a}(),G=function(){function a(){this.objs=Object.create(null)}a.prototype={ensureObj:function(a){if(this.objs[a])return this.objs[a];var b={capability:(0,m.createPromiseCapability)(),data:null,resolved:false};return this.objs[a]=b},get:function(a,b){if(b){this.ensureObj(a).capability.promise.then(b);
return null}var c=this.objs[a];if(!c||!c.resolved)throw Error("Requesting object that isn't resolved yet "+a);return c.data},resolve:function(a,b){var c=this.ensureObj(a);c.resolved=true;c.data=b;c.capability.resolve(b)},isResolved:function(a){var b=this.objs;return!b[a]?false:b[a].resolved},hasData:function(a){return this.isResolved(a)},getData:function(a){var b=this.objs;return!b[a]||!b[a].resolved?null:b[a].data},clear:function(){this.objs=Object.create(null)}};return a}(),H=function(){function a(b){this._internalRenderTask=
b;this.onContinue=null}a.prototype={get promise(){return this._internalRenderTask.capability.promise},cancel:function(){this._internalRenderTask.cancel()},then:function(a,b){return this.promise.then.apply(this.promise,arguments)}};return a}(),F=function(){function a(b,c,g,k,d,p,n,e){this.callback=b;this.params=c;this.objs=g;this.commonObjs=k;this.operatorListIdx=null;this.operatorList=d;this.pageNumber=p;this.canvasFactory=n;this.webGLContext=e;this.running=false;this.graphicsReadyCallback=null;this.cancelled=
this.useRequestAnimationFrame=this.graphicsReady=false;this.capability=(0,m.createPromiseCapability)();this.task=new H(this);this._continueBound=this._continue.bind(this);this._scheduleNextBound=this._scheduleNext.bind(this);this._nextBound=this._next.bind(this);this._canvas=c.canvasContext.canvas}var c=new WeakMap;a.prototype={initializeGraphics:function(a){if(this._canvas){if(c.has(this._canvas))throw Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");
c.set(this._canvas,this)}if(!this.cancelled){if((0,b.getDefaultSetting)("pdfBug")&&o.default.StepperManager&&o.default.StepperManager.enabled){this.stepper=o.default.StepperManager.create(this.pageNumber-1);this.stepper.init(this.operatorList);this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint()}var g=this.params;this.gfx=new i.CanvasGraphics(g.canvasContext,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,g.imageLayer);this.gfx.beginDrawing({transform:g.transform,viewport:g.viewport,
transparency:a,background:g.background});this.operatorListIdx=0;this.graphicsReady=true;this.graphicsReadyCallback&&this.graphicsReadyCallback()}},cancel:function(){this.running=false;this.cancelled=true;this._canvas&&c.delete(this._canvas);this.callback(new b.RenderingCancelledException("Rendering cancelled, page "+this.pageNumber,"canvas"))},operatorListChanged:function(){if(this.graphicsReady){this.stepper&&this.stepper.updateOperatorList(this.operatorList);this.running||this._continue()}else if(!this.graphicsReadyCallback)this.graphicsReadyCallback=
this._continueBound},_continue:function(){this.running=true;if(!this.cancelled)if(this.task.onContinue)this.task.onContinue(this._scheduleNextBound);else this._scheduleNext()},_scheduleNext:function(){this.useRequestAnimationFrame&&typeof window!=="undefined"?window.requestAnimationFrame(this._nextBound):Promise.resolve(void 0).then(this._nextBound)},_next:function(){if(!this.cancelled){this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper);
if(this.operatorListIdx===this.operatorList.argsArray.length){this.running=false;if(this.operatorList.lastChunk){this.gfx.endDrawing();this._canvas&&c.delete(this._canvas);this.callback()}}}}};return a}();d.version="2.0.290";d.build="b6c57d90";d.getDocument=function(a){var c=new t;if(typeof a==="string")a={url:a};else if((0,m.isArrayBuffer)(a))a={data:a};else if(a instanceof n)a={range:a};else{if((typeof a==="undefined"?"undefined":e(a))!=="object")throw Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");
if(!a.url&&!a.data&&!a.range)throw Error("Invalid parameter object: need either .data, .range or .url");}var g={},d=null,o=null,k=b.DOMCMapReaderFactory,C;for(C in a)if(C==="url"&&typeof window!=="undefined")g[C]=(new URL(a[C],window.location)).href;else if(C==="range")d=a[C];else if(C==="worker")o=a[C];else if(C==="data"&&!(a[C]instanceof Uint8Array)){var i=a[C];if(typeof i==="string")g[C]=(0,m.stringToBytes)(i);else if((typeof i==="undefined"?"undefined":e(i))==="object"&&i!==null&&!isNaN(i.length))g[C]=
new Uint8Array(i);else if((0,m.isArrayBuffer)(i))g[C]=new Uint8Array(i);else throw Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");}else C==="CMapReaderFactory"?k=a[C]:g[C]=a[C];g.rangeChunkSize=g.rangeChunkSize||65536;g.ignoreErrors=g.stopAtErrors!==true;C=Object.values(m.NativeImageDecoding);if(g.nativeImageDecoderSupport===void 0||!C.includes(g.nativeImageDecoderSupport))g.nativeImageDecoderSupport=m.NativeImageDecoding.DECODE;
if(!o){o=(C=(0,b.getDefaultSetting)("workerPort"))?p.fromPort(C):new p;c._worker=o}var w=c.docId;o.promise.then(function(){if(c.destroyed)throw Error("Loading aborted");return l(o,g,d,w).then(function(a){if(c.destroyed)throw Error("Loading aborted");var b=void 0;d?b=new h.PDFDataTransportStream(g,d):g.data||(b=u(g));a=new m.MessageHandler(w,a,o.port);a.postMessageTransfers=o.postMessageTransfers;b=new K(a,c,b,k);c._transport=b;a.send("Ready",null)})}).catch(c._capability.reject);return c};d.LoopbackPort=
w;d.PDFDataRangeTransport=n;d.PDFWorker=p;d.PDFDocumentProxy=z;d.PDFPageProxy=A;d.setPDFNetworkStreamFactory=function(a){u=a};d.version="2.0.290";d.build="b6c57d90"},function(f,d,c){Object.defineProperty(d,"__esModule",{value:!0});d.Metadata=void 0;var l=function(){function c(b,d){for(var e=0;e<d.length;e++){var o=d[e];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(b,o.key,o)}}return function(b,d,e){d&&c(b.prototype,d);e&&c(b,e);return b}}(),j=c(0),
e=c(10),f=function(){function c(b){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");(0,j.assert)("string"===typeof b,"Metadata: input is not a string");b=this._repair(b);b=(new e.SimpleXMLParser).parseFromString(b);this._metadata=Object.create(null);this._parse(b)}l(c,[{key:"_repair",value:function(b){return b.replace(/>\\376\\377([^<]+)/g,function(b,c){for(var d=c.replace(/\\([0-3])([0-7])([0-7])/g,function(b,c,g,a){return String.fromCharCode(64*c+8*g+1*a)}).replace(/&(amp|apos|gt|lt|quot);/g,
function(b,c){switch(c){case "amp":return"&";case "apos":return"'";case "gt":return">";case "lt":return"<";case "quot":return'"'}throw Error("_repair: "+c+" isn't defined.");}),e="",h=0,j=d.length;h<j;h+=2)var v=256*d.charCodeAt(h)+d.charCodeAt(h+1),e=32<=v&&127>v&&60!==v&&62!==v&&38!==v?e+String.fromCharCode(v):e+("&#x"+(65536+v).toString(16).substring(1)+";");return">"+e})}},{key:"_parse",value:function(b){b=b.documentElement;if("rdf:rdf"!==b.nodeName.toLowerCase())for(b=b.firstChild;b&&"rdf:rdf"!==
b.nodeName.toLowerCase();)b=b.nextSibling;var c=b?b.nodeName.toLowerCase():null;if(b&&"rdf:rdf"===c&&b.hasChildNodes())for(var b=b.childNodes,c=0,d=b.length;c<d;c++){var e=b[c];if("rdf:description"===e.nodeName.toLowerCase())for(var j=0,h=e.childNodes.length;j<h;j++)if("#text"!==e.childNodes[j].nodeName.toLowerCase()){var s=e.childNodes[j];this._metadata[s.nodeName.toLowerCase()]=s.textContent.trim()}}}},{key:"get",value:function(b){return this._metadata[b]||null}},{key:"getAll",value:function(){return this._metadata}},
{key:"has",value:function(b){return"undefined"!==typeof this._metadata[b]}}]);return c}();d.Metadata=f},function(f,d,c){function l(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"===typeof b||"function"===typeof b)?b:a}function j(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,
writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(d,"__esModule",{value:!0});d.AnnotationLayer=void 0;var m=function I(a,b,c){null===a&&(a=Function.prototype);var g=Object.getOwnPropertyDescriptor(a,b);if(void 0===g)return a=Object.getPrototypeOf(a),null===a?void 0:I(a,b,c);if("value"in g)return g.value;b=g.get;return void 0===b?void 0:
b.call(c)},b=function(){function a(b,c){for(var g=0;g<c.length;g++){var d=c[g];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,c,g){c&&a(b.prototype,c);g&&a(b,g);return b}}(),r=c(10),i=c(0),o=function(){function c(){e(this,c)}b(c,null,[{key:"create",value:function(b){switch(b.data.annotationType){case i.AnnotationType.LINK:return new h(b);case i.AnnotationType.TEXT:return new s(b);case i.AnnotationType.WIDGET:switch(b.data.fieldType){case "Tx":return new q(b);
case "Btn":return b.data.radioButton?new g(b):b.data.checkBox?new y(b):new a(b);case "Ch":return new u(b)}return new v(b);case i.AnnotationType.POPUP:return new t(b);case i.AnnotationType.LINE:return new z(b);case i.AnnotationType.SQUARE:return new A(b);case i.AnnotationType.CIRCLE:return new w(b);case i.AnnotationType.POLYLINE:return new p(b);case i.AnnotationType.POLYGON:return new K(b);case i.AnnotationType.HIGHLIGHT:return new G(b);case i.AnnotationType.UNDERLINE:return new H(b);case i.AnnotationType.SQUIGGLY:return new F(b);
case i.AnnotationType.STRIKEOUT:return new M(b);case i.AnnotationType.STAMP:return new D(b);case i.AnnotationType.FILEATTACHMENT:return new L(b);default:return new x(b)}}}]);return c}(),x=function(){function a(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;e(this,a);this.isRenderable=c;this.data=b.data;this.layer=b.layer;this.page=b.page;this.viewport=b.viewport;this.linkService=b.linkService;this.downloadManager=b.downloadManager;
this.imageResourcesPath=b.imageResourcesPath;this.renderInteractiveForms=b.renderInteractiveForms;this.svgFactory=b.svgFactory;c&&(this.container=this._createContainer(g))}b(a,[{key:"_createContainer",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,b=this.data,c=this.page,g=this.viewport,d=document.createElement("section"),p=b.rect[2]-b.rect[0],e=b.rect[3]-b.rect[1];d.setAttribute("data-annotation-id",b.id);c=i.Util.normalizeRect([b.rect[0],c.view[3]-b.rect[1]+c.view[1],
b.rect[2],c.view[3]-b.rect[3]+c.view[1]]);d.style.transform="matrix("+g.transform.join(",")+")";d.style.transformOrigin=-c[0]+"px "+-c[1]+"px";if(!a&&0<b.borderStyle.width){d.style.borderWidth=b.borderStyle.width+"px";b.borderStyle.style!==i.AnnotationBorderStyleType.UNDERLINE&&(p-=2*b.borderStyle.width,e-=2*b.borderStyle.width);a=b.borderStyle.horizontalCornerRadius;g=b.borderStyle.verticalCornerRadius;if(0<a||0<g)d.style.borderRadius=a+"px / "+g+"px";switch(b.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:d.style.borderStyle=
"solid";break;case i.AnnotationBorderStyleType.DASHED:d.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:d.style.borderBottomStyle="solid"}b.color?d.style.borderColor=i.Util.makeCssRgb(b.color[0]|0,b.color[1]|0,b.color[2]|0):d.style.borderWidth=0}d.style.left=c[0]+"px";d.style.top=c[1]+
"px";d.style.width=p+"px";d.style.height=e+"px";return d}},{key:"_createPopup",value:function(a,b,c){b||(b=document.createElement("div"),b.style.height=a.style.height,b.style.width=a.style.width,a.appendChild(b));b=(new n({container:a,trigger:b,color:c.color,title:c.title,contents:c.contents,hideWrapper:!0})).render();b.style.left=a.style.width;a.appendChild(b)}},{key:"render",value:function(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}}]);return a}(),h=function(a){function c(a){e(this,
c);var b=!(!a.data.url&&!a.data.dest&&!a.data.action);return l(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a,b))}j(c,a);b(c,[{key:"render",value:function(){this.container.className="linkAnnotation";var a=document.createElement("a");(0,r.addLinkAttributes)(a,{url:this.data.url,target:this.data.newWindow?r.LinkTarget.BLANK:void 0});this.data.url||(this.data.action?this._bindNamedAction(a,this.data.action):this._bindLink(a,this.data.dest));this.container.appendChild(a);return this.container}},
{key:"_bindLink",value:function(a,b){var c=this;a.href=this.linkService.getDestinationHash(b);a.onclick=function(){b&&c.linkService.navigateTo(b);return!1};b&&(a.className="internalLink")}},{key:"_bindNamedAction",value:function(a,b){var c=this;a.href=this.linkService.getAnchorUrl("");a.onclick=function(){c.linkService.executeNamedAction(b);return!1};a.className="internalLink"}}]);return c}(x),s=function(a){function c(a){e(this,c);var b=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return l(this,
(c.__proto__||Object.getPrototypeOf(c)).call(this,a,b))}j(c,a);b(c,[{key:"render",value:function(){this.container.className="textAnnotation";var a=document.createElement("img");a.style.height=this.container.style.height;a.style.width=this.container.style.width;a.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg";a.alt="[{{type}} Annotation]";a.dataset.l10nId="text_annotation_type";a.dataset.l10nArgs=JSON.stringify({type:this.data.name});this.data.hasPopup||this._createPopup(this.container,
a,this.data);this.container.appendChild(a);return this.container}}]);return c}(x),v=function(a){function c(){e(this,c);return l(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}j(c,a);b(c,[{key:"render",value:function(){return this.container}}]);return c}(x),q=function(a){function c(a){e(this,c);var b=a.renderInteractiveForms||!a.data.hasAppearance&&!!a.data.fieldValue;return l(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a,b))}j(c,a);b(c,[{key:"render",value:function(){var a=
["left","center","right"];this.container.className="textWidgetAnnotation";var b=null;if(this.renderInteractiveForms){if(this.data.multiLine?(b=document.createElement("textarea"),b.textContent=this.data.fieldValue):(b=document.createElement("input"),b.type="text",b.setAttribute("value",this.data.fieldValue)),b.disabled=this.data.readOnly,null!==this.data.maxLen&&(b.maxLength=this.data.maxLen),this.data.comb){var c=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;b.classList.add("comb");b.style.letterSpacing=
"calc("+c+"px - 1ch)"}}else b=document.createElement("div"),b.textContent=this.data.fieldValue,b.style.verticalAlign="middle",b.style.display="table-cell",c=null,this.data.fontRefName&&(c=this.page.commonObjs.getData(this.data.fontRefName)),this._setTextStyle(b,c);null!==this.data.textAlignment&&(b.style.textAlign=a[this.data.textAlignment]);this.container.appendChild(b);return this.container}},{key:"_setTextStyle",value:function(a,b){var c=a.style;c.fontSize=this.data.fontSize+"px";c.direction=0>
this.data.fontDirection?"rtl":"ltr";b&&(c.fontWeight=b.black?b.bold?"900":"bold":b.bold?"bold":"normal",c.fontStyle=b.italic?"italic":"normal",c.fontFamily=(b.loadedName?'"'+b.loadedName+'", ':"")+(b.fallbackName||"Helvetica, sans-serif"))}}]);return c}(v),y=function(a){function c(a){e(this,c);return l(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a,a.renderInteractiveForms))}j(c,a);b(c,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation checkBox";var a=document.createElement("input");
a.disabled=this.data.readOnly;a.type="checkbox";this.data.fieldValue&&"Off"!==this.data.fieldValue&&a.setAttribute("checked",!0);this.container.appendChild(a);return this.container}}]);return c}(v),g=function(a){function c(a){e(this,c);return l(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a,a.renderInteractiveForms))}j(c,a);b(c,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation radioButton";var a=document.createElement("input");a.disabled=this.data.readOnly;
a.type="radio";a.name=this.data.fieldName;this.data.fieldValue===this.data.buttonValue&&a.setAttribute("checked",!0);this.container.appendChild(a);return this.container}}]);return c}(v),a=function(a){function c(){e(this,c);return l(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}j(c,a);b(c,[{key:"render",value:function(){var a=m(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"render",this).call(this);a.className="buttonWidgetAnnotation pushButton";return a}}]);return c}(h),
u=function(a){function c(a){e(this,c);return l(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a,a.renderInteractiveForms))}j(c,a);b(c,[{key:"render",value:function(){this.container.className="choiceWidgetAnnotation";var a=document.createElement("select");a.disabled=this.data.readOnly;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0));for(var b=0,c=this.data.options.length;b<c;b++){var g=this.data.options[b],d=document.createElement("option");d.textContent=
g.displayValue;d.value=g.exportValue;0<=this.data.fieldValue.indexOf(g.displayValue)&&d.setAttribute("selected",!0);a.appendChild(d)}this.container.appendChild(a);return this.container}}]);return c}(v),t=function(a){function c(a){e(this,c);var b=!(!a.data.title&&!a.data.contents);return l(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a,b))}j(c,a);b(c,[{key:"render",value:function(){this.container.className="popupAnnotation";if(0<=["Line","Square","Circle","PolyLine","Polygon"].indexOf(this.data.parentType))return this.container;
var a=this.layer.querySelector('[data-annotation-id="'+this.data.parentId+'"]');if(!a)return this.container;var b=new n({container:this.container,trigger:a,color:this.data.color,title:this.data.title,contents:this.data.contents}),c=parseFloat(a.style.left),g=parseFloat(a.style.width);this.container.style.transformOrigin=-(c+g)+"px -"+a.style.top;this.container.style.left=c+g+"px";this.container.appendChild(b.render());return this.container}}]);return c}(x),n=function(){function a(b){e(this,a);this.container=
b.container;this.trigger=b.trigger;this.color=b.color;this.title=b.title;this.contents=b.contents;this.hideWrapper=b.hideWrapper||!1;this.pinned=!1}b(a,[{key:"render",value:function(){var a=document.createElement("div");a.className="popupWrapper";this.hideElement=this.hideWrapper?a:this.container;this.hideElement.setAttribute("hidden",!0);var b=document.createElement("div");b.className="popup";var c=this.color;c&&(b.style.backgroundColor=i.Util.makeCssRgb(0.7*(255-c[0])+c[0]|0,0.7*(255-c[1])+c[1]|
0,0.7*(255-c[2])+c[2]|0));var c=this._formatContents(this.contents),g=document.createElement("h1");g.textContent=this.title;this.trigger.addEventListener("click",this._toggle.bind(this));this.trigger.addEventListener("mouseover",this._show.bind(this,!1));this.trigger.addEventListener("mouseout",this._hide.bind(this,!1));b.addEventListener("click",this._hide.bind(this,!0));b.appendChild(g);b.appendChild(c);a.appendChild(b);return a}},{key:"_formatContents",value:function(a){for(var b=document.createElement("p"),
a=a.split(/(?:\r\n?|\n)/),c=0,g=a.length;c<g;++c)b.appendChild(document.createTextNode(a[c])),c<g-1&&b.appendChild(document.createElement("br"));return b}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&(this.pinned=!0);this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}},{key:"_hide",value:function(){if(0<arguments.length&&
void 0!==arguments[0]?arguments[0]:1)this.pinned=!1;!this.hideElement.hasAttribute("hidden")&&!this.pinned&&(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}]);return a}(),z=function(a){function c(a){e(this,c);var b=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return l(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a,b,!0))}j(c,a);b(c,[{key:"render",value:function(){this.container.className="lineAnnotation";var a=this.data,b=this.svgFactory.create(a.rect[2]-
a.rect[0],a.rect[3]-a.rect[1]),c=this.svgFactory.createElement("svg:line");c.setAttribute("x1",a.rect[2]-a.lineCoordinates[0]);c.setAttribute("y1",a.rect[3]-a.lineCoordinates[1]);c.setAttribute("x2",a.rect[2]-a.lineCoordinates[2]);c.setAttribute("y2",a.rect[3]-a.lineCoordinates[3]);c.setAttribute("stroke-width",a.borderStyle.width);c.setAttribute("stroke","transparent");b.appendChild(c);this.container.append(b);this._createPopup(this.container,c,a);return this.container}}]);return c}(x),A=function(a){function c(a){e(this,
c);var b=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return l(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a,b,!0))}j(c,a);b(c,[{key:"render",value:function(){this.container.className="squareAnnotation";var a=this.data,b=a.rect[2]-a.rect[0],c=a.rect[3]-a.rect[1],g=this.svgFactory.create(b,c),d=a.borderStyle.width,k=this.svgFactory.createElement("svg:rect");k.setAttribute("x",d/2);k.setAttribute("y",d/2);k.setAttribute("width",b-d);k.setAttribute("height",c-d);k.setAttribute("stroke-width",
d);k.setAttribute("stroke","transparent");k.setAttribute("fill","none");g.appendChild(k);this.container.append(g);this._createPopup(this.container,k,a);return this.container}}]);return c}(x),w=function(a){function c(a){e(this,c);var b=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return l(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a,b,!0))}j(c,a);b(c,[{key:"render",value:function(){this.container.className="circleAnnotation";var a=this.data,b=a.rect[2]-a.rect[0],c=a.rect[3]-a.rect[1],
g=this.svgFactory.create(b,c),d=a.borderStyle.width,k=this.svgFactory.createElement("svg:ellipse");k.setAttribute("cx",b/2);k.setAttribute("cy",c/2);k.setAttribute("rx",b/2-d/2);k.setAttribute("ry",c/2-d/2);k.setAttribute("stroke-width",d);k.setAttribute("stroke","transparent");k.setAttribute("fill","none");g.appendChild(k);this.container.append(g);this._createPopup(this.container,k,a);return this.container}}]);return c}(x),p=function(a){function c(a){e(this,c);var b=!(!a.data.hasPopup&&!a.data.title&&
!a.data.contents),a=l(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a,b,!0));a.containerClassName="polylineAnnotation";a.svgElementName="svg:polyline";return a}j(c,a);b(c,[{key:"render",value:function(){this.container.className=this.containerClassName;for(var a=this.data,b=this.svgFactory.create(a.rect[2]-a.rect[0],a.rect[3]-a.rect[1]),c=a.vertices,g=[],d=0,k=c.length;d<k;d++)g.push(c[d].x-a.rect[0]+","+(a.rect[3]-c[d].y));g=g.join(" ");c=a.borderStyle.width;d=this.svgFactory.createElement(this.svgElementName);
d.setAttribute("points",g);d.setAttribute("stroke-width",c);d.setAttribute("stroke","transparent");d.setAttribute("fill","none");b.appendChild(d);this.container.append(b);this._createPopup(this.container,d,a);return this.container}}]);return c}(x),K=function(a){function b(a){e(this,b);a=l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));a.containerClassName="polygonAnnotation";a.svgElementName="svg:polygon";return a}j(b,a);return b}(p),G=function(a){function c(a){e(this,c);var b=!(!a.data.hasPopup&&
!a.data.title&&!a.data.contents);return l(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a,b,!0))}j(c,a);b(c,[{key:"render",value:function(){this.container.className="highlightAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return c}(x),H=function(a){function c(a){e(this,c);var b=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return l(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a,b,!0))}j(c,a);b(c,[{key:"render",value:function(){this.container.className=
"underlineAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return c}(x),F=function(a){function c(a){e(this,c);var b=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return l(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a,b,!0))}j(c,a);b(c,[{key:"render",value:function(){this.container.className="squigglyAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return c}(x),M=function(a){function c(a){e(this,
c);var b=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return l(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a,b,!0))}j(c,a);b(c,[{key:"render",value:function(){this.container.className="strikeoutAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return c}(x),D=function(a){function c(a){e(this,c);var b=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return l(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a,b,!0))}
j(c,a);b(c,[{key:"render",value:function(){this.container.className="stampAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return c}(x),L=function(a){function c(a){e(this,c);var a=l(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a,!0)),b=a.data.file;a.filename=(0,r.getFilenameFromUrl)(b.filename);a.content=b.content;a.linkService.onFileAttachmentAnnotation({id:(0,i.stringToPDFString)(b.filename),filename:b.filename,content:b.content});
return a}j(c,a);b(c,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var a=document.createElement("div");a.style.height=this.container.style.height;a.style.width=this.container.style.width;a.addEventListener("dblclick",this._download.bind(this));!this.data.hasPopup&&(this.data.title||this.data.contents)&&this._createPopup(this.container,a,this.data);this.container.appendChild(a);return this.container}},{key:"_download",value:function(){this.downloadManager?this.downloadManager.downloadData(this.content,
this.filename,""):(0,i.warn)("Download cannot be started due to unavailable download manager")}}]);return c}(x),f=function(){function a(){e(this,a)}b(a,null,[{key:"render",value:function(a){for(var b=0,c=a.annotations.length;b<c;b++){var g=a.annotations[b];g&&(g=o.create({data:g,layer:a.div,page:a.page,viewport:a.viewport,linkService:a.linkService,downloadManager:a.downloadManager,imageResourcesPath:a.imageResourcesPath||(0,r.getDefaultSetting)("imageResourcesPath"),renderInteractiveForms:a.renderInteractiveForms||
!1,svgFactory:new r.DOMSVGFactory}),g.isRenderable&&a.div.appendChild(g.render()))}}},{key:"update",value:function(a){for(var b=0,c=a.annotations.length;b<c;b++){var g=a.div.querySelector('[data-annotation-id="'+a.annotations[b].id+'"]');g&&(g.style.transform="matrix("+a.viewport.transform.join(",")+")")}a.div.removeAttribute("hidden")}}]);return a}();d.AnnotationLayer=f},function(f,d,c){Object.defineProperty(d,"__esModule",{value:!0});d.renderTextLayer=void 0;var l=c(0),j=c(10),f=function(){function c(b){if(!b._canceled){var d=
b._textDivs,e=b._capability,h=d.length;if(!(h>o)&&!b._textContentStream)for(var g=0;g<h;g++)b._layoutText(d[g]);b._renderingDone=!0;e.resolve()}}function d(c){for(var e=c._bounds,h=c._viewport,h=b(h.width,h.height,e),o=0;o<h.length;o++){var g=e[o].div,a=c._textDivProperties.get(g);if(0===a.angle)a.paddingLeft=e[o].left-h[o].left,a.paddingTop=e[o].top-h[o].top,a.paddingRight=h[o].right-e[o].right,a.paddingBottom=h[o].bottom-e[o].bottom;else{var i=h[o],j=e[o],n=j.m,x=n[0],m=n[1],j=[[0,0],[0,j.size[1]],
[j.size[0],0],j.size],w=new Float64Array(64);j.forEach(function(a,b){var c=l.Util.applyTransform(a,n);w[b+0]=x&&(i.left-c[0])/x;w[b+4]=m&&(i.top-c[1])/m;w[b+8]=x&&(i.right-c[0])/x;w[b+12]=m&&(i.bottom-c[1])/m;w[b+16]=m&&(i.left-c[0])/-m;w[b+20]=x&&(i.top-c[1])/x;w[b+24]=m&&(i.right-c[0])/-m;w[b+28]=x&&(i.bottom-c[1])/x;w[b+32]=x&&(i.left-c[0])/-x;w[b+36]=m&&(i.top-c[1])/-m;w[b+40]=x&&(i.right-c[0])/-x;w[b+44]=m&&(i.bottom-c[1])/-m;w[b+48]=m&&(i.left-c[0])/m;w[b+52]=x&&(i.top-c[1])/-x;w[b+56]=m&&(i.right-
c[0])/m;w[b+60]=x&&(i.bottom-c[1])/-x});var j=function(a,b,c){for(var g=0,d=0;d<c;d++){var p=a[b++];0<p&&(g=g?Math.min(p,g):p)}return g},p=1+Math.min(Math.abs(x),Math.abs(m));a.paddingLeft=j(w,32,16)/p;a.paddingTop=j(w,48,16)/p;a.paddingRight=j(w,0,16)/p;a.paddingBottom=j(w,16,16)/p}c._textDivProperties.set(g,a)}}function b(b,c,d){var e=d.map(function(a,b){return{x1:a.left,y1:a.top,x2:a.right,y2:a.bottom,index:b,x1New:void 0,x2New:void 0}});f(b,e);var g=Array(d.length);e.forEach(function(a){g[a.index]=
{left:a.x1New,top:0,right:a.x2New,bottom:0}});d.map(function(a,c){var d=g[c],n=e[c];n.x1=a.top;n.y1=b-d.right;n.x2=a.bottom;n.y2=b-d.left;n.index=c;n.x1New=void 0;n.x2New=void 0});f(c,e);e.forEach(function(a){var b=a.index;g[b].top=a.x1New;g[b].bottom=a.x2New});return g}function f(b,c){c.sort(function(b,c){return b.x1-c.x1||b.index-c.index});var d=[{start:-Infinity,end:Infinity,boundary:{x1:-Infinity,y1:-Infinity,x2:0,y2:Infinity,index:-1,x1New:0,x2New:0}}];c.forEach(function(b){for(var c=0;c<d.length&&
d[c].end<=b.y1;)c++;for(var a=d.length-1;0<=a&&d[a].start>=b.y2;)a--;var e,h,n,o=-Infinity;for(n=c;n<=a;n++){e=d[n];h=e.boundary;var i;i=h.x2>b.x1?h.index>b.index?h.x1New:b.x1:void 0===h.x2New?(h.x2+b.x1)/2:h.x2New;i>o&&(o=i)}b.x1New=o;for(n=c;n<=a;n++)e=d[n],h=e.boundary,void 0===h.x2New?h.x2>b.x1?h.index>b.index&&(h.x2New=h.x2):h.x2New=o:h.x2New>o&&(h.x2New=Math.max(o,h.x2));i=[];var j=null;for(n=c;n<=a;n++)e=d[n],h=e.boundary,h=h.x2>b.x2?h:b,j===h?i[i.length-1].end=e.end:(i.push({start:e.start,
end:e.end,boundary:h}),j=h);d[c].start<b.y1&&(i[0].start=b.y1,i.unshift({start:d[c].start,end:b.y1,boundary:d[c].boundary}));b.y2<d[a].end&&(i[i.length-1].end=b.y2,i.push({start:b.y2,end:d[a].end,boundary:d[a].boundary}));for(n=c;n<=a;n++)if(e=d[n],h=e.boundary,void 0===h.x2New){e=!1;for(b=c-1;!e&&0<=b&&d[b].start>=h.y1;b--)e=d[b].boundary===h;for(b=a+1;!e&&b<d.length&&d[b].end<=h.y2;b++)e=d[b].boundary===h;for(b=0;!e&&b<i.length;b++)e=i[b].boundary===h;e||(h.x2New=o)}Array.prototype.splice.apply(d,
[c,a-c+1].concat(i))});d.forEach(function(c){c=c.boundary;void 0===c.x2New&&(c.x2New=Math.max(b,c.x2))})}function i(b){var c=b.textContentStream,d=b.container,e=b.viewport,g=b.textDivs,a=b.textContentItemsStr,h=b.enhanceTextSelection;this._textContent=b.textContent;this._textContentStream=c;this._container=d;this._viewport=e;this._textDivs=g||[];this._textContentItemsStr=a||[];this._enhanceTextSelection=!!h;this._layoutTextCtx=this._layoutTextLastFontFamily=this._layoutTextLastFontSize=this._reader=
null;this._textDivProperties=new WeakMap;this._canceled=this._renderingDone=!1;this._capability=(0,l.createPromiseCapability)();this._renderTimer=null;this._bounds=[]}var o=1E5,x=/\S/,h=["left: ",0,"px; top: ",0,"px; font-size: ",0,"px; font-family: ","",";"];i.prototype={get promise(){return this._capability.promise},cancel:function(){this._reader&&(this._reader.cancel(new l.AbortException("text layer task cancelled")),this._reader=null);this._canceled=!0;null!==this._renderTimer&&(clearTimeout(this._renderTimer),
this._renderTimer=null);this._capability.reject("canceled")},_processItems:function(b,c){for(var d=0,e=b.length;d<e;d++){this._textContentItemsStr.push(b[d].str);var g=b[d],a=c,o=document.createElement("div"),i={style:null,angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};this._textDivs.push(o);if(x.test(g.str)){var n=l.Util.transform(this._viewport.transform,g.transform),m=Math.atan2(n[1],n[0]),f=a[g.fontName];f.vertical&&
(m+=Math.PI/2);var w=Math.sqrt(n[2]*n[2]+n[3]*n[3]),p=w;f.ascent?p*=f.ascent:f.descent&&(p*=1+f.descent);var r=a=void 0;0===m?(a=n[4],r=n[5]-p):(a=n[4]+p*Math.sin(m),r=n[5]-p*Math.cos(m));h[1]=a;h[3]=r;h[5]=w;h[7]=f.fontFamily;i.style=h.join("");o.setAttribute("style",i.style);o.textContent=g.str;if((0,j.getDefaultSetting)("pdfBug"))o.dataset.fontName=g.fontName;0!==m&&(i.angle=m*(180/Math.PI));1<g.str.length&&(i.canvasWidth=f.vertical?g.height*this._viewport.scale:g.width*this._viewport.scale);this._textDivProperties.set(o,
i);this._textContentStream&&this._layoutText(o);this._enhanceTextSelection&&(i=1,n=0,0!==m&&(i=Math.cos(m),n=Math.sin(m)),g=(f.vertical?g.height:g.width)*this._viewport.scale,p=f=void 0,0!==m?(f=[i,n,-n,i,a,r],p=l.Util.getAxialAlignedBoundingBox([0,0,g,w],f)):p=[a,r,a+g,r+w],this._bounds.push({left:p[0],top:p[1],right:p[2],bottom:p[3],div:o,size:[g,w],m:f}))}else i.isWhitespace=!0,this._textDivProperties.set(o,i)}},_layoutText:function(b){var c=this._container,d=this._textDivProperties.get(b);if(!d.isWhitespace){var e=
b.style.fontSize,g=b.style.fontFamily;if(e!==this._layoutTextLastFontSize||g!==this._layoutTextLastFontFamily)this._layoutTextCtx.font=e+" "+g,this._lastFontSize=e,this._lastFontFamily=g;e=this._layoutTextCtx.measureText(b.textContent).width;g="";0!==d.canvasWidth&&0<e&&(d.scale=d.canvasWidth/e,g="scaleX("+d.scale+")");0!==d.angle&&(g="rotate("+d.angle+"deg) "+g);""!==g&&(d.originalTransform=g,b.style.transform=g);this._textDivProperties.set(b,d);c.appendChild(b)}},_render:function(b){var d=this,
h=(0,l.createPromiseCapability)(),o=Object.create(null),g=document.createElement("canvas");g.mozOpaque=!0;this._layoutTextCtx=g.getContext("2d",{alpha:!1});if(this._textContent)this._processItems(this._textContent.items,this._textContent.styles),h.resolve();else if(this._textContentStream)this._reader=this._textContentStream.getReader(),function u(){d._reader.read().then(function(b){var c=b.value;b.done?h.resolve():(l.Util.extendObj(o,c.styles),d._processItems(c.items,o),u())},h.reject)}();else throw Error('Neither "textContent" nor "textContentStream" parameters specified.');
h.promise.then(function(){o=null;b?d._renderTimer=setTimeout(function(){c(d);d._renderTimer=null},b):c(d)},this._capability.reject)},expandTextDivs:function(b){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(d(this),this._bounds=null);for(var c=0,e=this._textDivs.length;c<e;c++){var h=this._textDivs[c],g=this._textDivProperties.get(h);if(!g.isWhitespace)if(b){var a="",o="";1!==g.scale&&(a="scaleX("+g.scale+")");0!==g.angle&&(a="rotate("+g.angle+"deg) "+a);0!==g.paddingLeft&&
(o+=" padding-left: "+g.paddingLeft/g.scale+"px;",a+=" translateX("+-g.paddingLeft/g.scale+"px)");0!==g.paddingTop&&(o+=" padding-top: "+g.paddingTop+"px;",a+=" translateY("+-g.paddingTop+"px)");0!==g.paddingRight&&(o+=" padding-right: "+g.paddingRight/g.scale+"px;");0!==g.paddingBottom&&(o+=" padding-bottom: "+g.paddingBottom+"px;");""!==o&&h.setAttribute("style",g.style+o);""!==a&&(h.style.transform=a)}else h.style.padding=0,h.style.transform=g.originalTransform||""}}}};return function(b){var c=
new i({textContent:b.textContent,textContentStream:b.textContentStream,container:b.container,viewport:b.viewport,textDivs:b.textDivs,textContentItemsStr:b.textContentItemsStr,enhanceTextSelection:b.enhanceTextSelection});c._render(b.timeout);return c}}();d.renderTextLayer=f},function(f,d,c){var l,j;Object.defineProperty(d,"__esModule",{value:!0});d.SVGGraphics=void 0;var e=c(0),m=c(10),b=(f=c(24))&&f.__esModule?f:{"default":f},f=function(){throw Error("Not implemented: SVGGraphics");};l="normal";
j="#000000";var r=function(){function c(b,d,a,e){var o=e,n=d.length;a[o]=n>>24&255;a[o+1]=n>>16&255;a[o+2]=n>>8&255;a[o+3]=n&255;o+=4;a[o]=b.charCodeAt(0)&255;a[o+1]=b.charCodeAt(1)&255;a[o+2]=b.charCodeAt(2)&255;a[o+3]=b.charCodeAt(3)&255;o+=4;a.set(d,o);o+=d.length;b=-1;for(e+=4;e<o;e++)b=b>>>8^h[(b^a[e])&255];e=b^-1;a[o]=e>>24&255;a[o+1]=e>>16&255;a[o+2]=e>>8&255;a[o+3]=e&255}for(var d=new Uint8Array([137,80,78,71,13,10,26,10]),h=new Int32Array(256),i=0;256>i;i++){for(var j=i,m=0;8>m;m++)j=j&1?
3988292384^j>>1&2147483647:j>>1&2147483647;h[i]=j}return function(h,g,a){var i=void 0===h.kind?e.ImageKind.GRAYSCALE_1BPP:h.kind,j=h.width,n=h.height,m,l,w,p=h.data;switch(i){case e.ImageKind.GRAYSCALE_1BPP:l=0;m=1;w=j+7>>3;break;case e.ImageKind.RGB_24BPP:l=2;m=8;w=3*j;break;case e.ImageKind.RGBA_32BPP:l=6;m=8;w=4*j;break;default:throw Error("invalid format");}var h=new Uint8Array((1+w)*n),f=0,v=0,s;for(s=0;s<n;++s)h[f++]=0,h.set(p.subarray(v,v+w),f),v+=w,f+=w;if(i===e.ImageKind.GRAYSCALE_1BPP&&
a)for(s=f=0;s<n;s++){f++;for(a=0;a<w;a++)h[f++]^=255}var j=new Uint8Array([j>>24&255,j>>16&255,j>>8&255,j&255,n>>24&255,n>>16&255,n>>8&255,n&255,m,l,0,0,0]),r;a:{if((0,b.default)())try{var q;q=8<=parseInt(process.versions.node)?h:new Buffer(h);var D=require("zlib").deflateSync(q,{level:9});r=D instanceof Uint8Array?D:new Uint8Array(D);break a}catch(L){(0,e.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+L)}D=h.length;r=Math.ceil(D/65535);r=new Uint8Array(2+D+5*r+4);q=0;r[q++]=
120;r[q++]=156;for(n=0;65535<D;)r[q++]=0,r[q++]=255,r[q++]=255,r[q++]=0,r[q++]=0,r.set(h.subarray(n,n+65535),q),q+=65535,n+=65535,D-=65535;r[q++]=1;r[q++]=D&255;r[q++]=D>>8&255;r[q++]=~D&255;r[q++]=(~D&65535)>>8&255;r.set(h.subarray(n),q);q+=h.length-n;D=1;for(a=n=0;a<h.length;++a)D=(D+(h[a]&255))%65521,n=(n+D)%65521;h=n<<16|D;r[q++]=h>>24&255;r[q++]=h>>16&255;r[q++]=h>>8&255;r[q++]=h&255}h=new Uint8Array(d.length+36+j.length+r.length);q=0;h.set(d,q);q+=d.length;c("IHDR",j,h,q);q+=12+j.length;c("IDATA",
r,h,q);q+=12+r.length;c("IEND",new Uint8Array(0),h,q);return(0,e.createObjectURL)(h,"image/png",g)}}(),i=function(){function b(){this.fontSizeScale=1;this.fontWeight=l;this.fontSize=0;this.textMatrix=e.IDENTITY_MATRIX;this.fontMatrix=e.FONT_IDENTITY_MATRIX;this.wordSpacing=this.charSpacing=this.lineY=this.lineX=this.y=this.x=this.leading=0;this.textHScale=1;this.textRise=0;this.fillColor=j;this.strokeColor="#000000";this.lineWidth=this.strokeAlpha=this.fillAlpha=1;this.lineCap=this.lineJoin="";this.miterLimit=
0;this.dashArray=[];this.dashPhase=0;this.dependencies=[];this.clipGroup=this.activeClipUrl=null;this.maskId=""}b.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(b,c){this.x=b;this.y=c}};return b}();d.SVGGraphics=f=function(){function b(c){if(Number.isInteger(c))return c.toString();var c=c.toFixed(10),a=c.length-1;if("0"!==c[a])return c;do a--;while("0"===c[a]);return c.substr(0,"."===c[a]?a:a+1)}function c(d){if(0===d[4]&&0===d[5]){if(0===d[1]&&0===d[2])return 1===
d[0]&&1===d[3]?"":"scale("+b(d[0])+" "+b(d[3])+")";if(d[0]===d[3]&&d[1]===-d[2])return d=180*Math.acos(d[0])/Math.PI,"rotate("+b(d)+")"}else if(1===d[0]&&0===d[1]&&0===d[2]&&1===d[3])return"translate("+b(d[4])+" "+b(d[5])+")";return"matrix("+b(d[0])+" "+b(d[1])+" "+b(d[2])+" "+b(d[3])+" "+b(d[4])+" "+b(d[5])+")"}function d(b,a,c){this.svgFactory=new m.DOMSVGFactory;this.current=new i;this.transformMatrix=e.IDENTITY_MATRIX;this.transformStack=[];this.extraStack=[];this.commonObjs=b;this.objs=a;this.pendingClip=
null;this.embedFonts=this.pendingEOFill=!1;this.embeddedFonts=Object.create(null);this.cssStyle=null;this.forceDataSchema=!!c}var f=["butt","round","square"],v=["miter","round","bevel"],q=0,y=0;d.prototype={save:function(){this.transformStack.push(this.transformMatrix);var b=this.current;this.extraStack.push(b);this.current=b.clone()},restore:function(){this.transformMatrix=this.transformStack.pop();this.current=this.extraStack.pop();this.tgrp=this.pendingClip=null},group:function(b){this.save();
this.executeOpTree(b);this.restore()},loadDependencies:function(b){for(var a=this,c=b.fnArray,d=c.length,b=b.argsArray,h=0;h<d;h++)if(e.OPS.dependency===c[h])for(var i=b[h],o=0,j=i.length;o<j;o++){var p=i[o];this.current.dependencies.push("g_"===p.substring(0,2)?new Promise(function(b){a.commonObjs.get(p,b)}):new Promise(function(b){a.objs.get(p,b)}))}return Promise.all(this.current.dependencies)},transform:function(b,a,c,d,h,i){this.transformMatrix=e.Util.transform(this.transformMatrix,[b,a,c,d,
h,i]);this.tgrp=null},getSVG:function(b,a){var c=this;this.viewport=a;var d=this._initialize(a);return this.loadDependencies(b).then(function(){c.transformMatrix=e.IDENTITY_MATRIX;var a=c.convertOpList(b);c.executeOpTree(a);return d})},convertOpList:function(b){var a=b.argsArray,c=b.fnArray,d=c.length,h=[],b=[],i;for(i in e.OPS)h[e.OPS[i]]=i;for(i=0;i<d;i++){var o=c[i];b.push({fnId:o,fn:h[o],args:a[i]})}a=[];c=[];d=b.length;for(h=0;h<d;h++)"save"===b[h].fn?(a.push({fnId:92,fn:"group",items:[]}),c.push(a),
a=a[a.length-1].items):"restore"===b[h].fn?a=c.pop():a.push(b[h]);return a},executeOpTree:function(b){for(var a=b.length,c=0;c<a;c++){var d=b[c].fn,h=b[c].args;switch(b[c].fnId|0){case e.OPS.beginText:this.beginText();break;case e.OPS.setLeading:this.setLeading(h);break;case e.OPS.setLeadingMoveText:this.setLeadingMoveText(h[0],h[1]);break;case e.OPS.setFont:this.setFont(h);break;case e.OPS.showText:this.showText(h[0]);break;case e.OPS.showSpacedText:this.showText(h[0]);break;case e.OPS.endText:this.endText();
break;case e.OPS.moveText:this.moveText(h[0],h[1]);break;case e.OPS.setCharSpacing:this.setCharSpacing(h[0]);break;case e.OPS.setWordSpacing:this.setWordSpacing(h[0]);break;case e.OPS.setHScale:this.setHScale(h[0]);break;case e.OPS.setTextMatrix:this.setTextMatrix(h[0],h[1],h[2],h[3],h[4],h[5]);break;case e.OPS.setTextRise:this.setTextRise(h[0]);break;case e.OPS.setLineWidth:this.setLineWidth(h[0]);break;case e.OPS.setLineJoin:this.setLineJoin(h[0]);break;case e.OPS.setLineCap:this.setLineCap(h[0]);
break;case e.OPS.setMiterLimit:this.setMiterLimit(h[0]);break;case e.OPS.setFillRGBColor:this.setFillRGBColor(h[0],h[1],h[2]);break;case e.OPS.setStrokeRGBColor:this.setStrokeRGBColor(h[0],h[1],h[2]);break;case e.OPS.setDash:this.setDash(h[0],h[1]);break;case e.OPS.setGState:this.setGState(h[0]);break;case e.OPS.fill:this.fill();break;case e.OPS.eoFill:this.eoFill();break;case e.OPS.stroke:this.stroke();break;case e.OPS.fillStroke:this.fillStroke();break;case e.OPS.eoFillStroke:this.eoFillStroke();
break;case e.OPS.clip:this.clip("nonzero");break;case e.OPS.eoClip:this.clip("evenodd");break;case e.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case e.OPS.paintJpegXObject:this.paintJpegXObject(h[0],h[1],h[2]);break;case e.OPS.paintImageXObject:this.paintImageXObject(h[0]);break;case e.OPS.paintInlineImageXObject:this.paintInlineImageXObject(h[0]);break;case e.OPS.paintImageMaskXObject:this.paintImageMaskXObject(h[0]);break;case e.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(h[0],
h[1]);break;case e.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case e.OPS.closePath:this.closePath();break;case e.OPS.closeStroke:this.closeStroke();break;case e.OPS.closeFillStroke:this.closeFillStroke();break;case e.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case e.OPS.nextLine:this.nextLine();break;case e.OPS.transform:this.transform(h[0],h[1],h[2],h[3],h[4],h[5]);break;case e.OPS.constructPath:this.constructPath(h[0],h[1]);break;case e.OPS.endPath:this.endPath();break;case 92:this.group(b[c].items);
break;default:(0,e.warn)("Unimplemented operator "+d)}}},setWordSpacing:function(b){this.current.wordSpacing=b},setCharSpacing:function(b){this.current.charSpacing=b},nextLine:function(){this.moveText(0,this.current.leading)},setTextMatrix:function(c,a,d,h,e,i){var j=this.current;this.current.textMatrix=this.current.lineMatrix=[c,a,d,h,e,i];this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0;j.xcoords=[];j.tspan=this.svgFactory.createElement("svg:tspan");j.tspan.setAttributeNS(null,
"font-family",j.fontFamily);j.tspan.setAttributeNS(null,"font-size",b(j.fontSize)+"px");j.tspan.setAttributeNS(null,"y",b(-j.y));j.txtElement=this.svgFactory.createElement("svg:text");j.txtElement.appendChild(j.tspan)},beginText:function(){this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0;this.current.textMatrix=e.IDENTITY_MATRIX;this.current.lineMatrix=e.IDENTITY_MATRIX;this.current.tspan=this.svgFactory.createElement("svg:tspan");this.current.txtElement=this.svgFactory.createElement("svg:text");
this.current.txtgrp=this.svgFactory.createElement("svg:g");this.current.xcoords=[]},moveText:function(c,a){var d=this.current;this.current.x=this.current.lineX+=c;this.current.y=this.current.lineY+=a;d.xcoords=[];d.tspan=this.svgFactory.createElement("svg:tspan");d.tspan.setAttributeNS(null,"font-family",d.fontFamily);d.tspan.setAttributeNS(null,"font-size",b(d.fontSize)+"px");d.tspan.setAttributeNS(null,"y",b(-d.y))},showText:function(d){var a=this.current,h=a.font,i=a.fontSize;if(0!==i){var n=a.charSpacing,
m=a.wordSpacing,f=a.fontDirection,w=a.textHScale*f,p=d.length,v=h.vertical,r=i*a.fontMatrix[0],s=0,q;for(q=0;q<p;++q){var y=d[q];if(null===y)s+=f*m;else if((0,e.isNum)(y))s+=0.001*-y*i;else{var D=y.fontChar,L=y.width*r+((y.isSpace?m:0)+n)*f;if(y.isInFont||h.missingFile)a.xcoords.push(a.x+s*w),a.tspan.textContent+=D;s+=L}}v?a.y-=s*w:a.x+=s*w;a.tspan.setAttributeNS(null,"x",a.xcoords.map(b).join(" "));a.tspan.setAttributeNS(null,"y",b(-a.y));a.tspan.setAttributeNS(null,"font-family",a.fontFamily);a.tspan.setAttributeNS(null,
"font-size",b(a.fontSize)+"px");"normal"!==a.fontStyle&&a.tspan.setAttributeNS(null,"font-style",a.fontStyle);a.fontWeight!==l&&a.tspan.setAttributeNS(null,"font-weight",a.fontWeight);a.fillColor!==j&&a.tspan.setAttributeNS(null,"fill",a.fillColor);d=a.textMatrix;0!==a.textRise&&(d=d.slice(),d[5]+=a.textRise);a.txtElement.setAttributeNS(null,"transform",c(d)+" scale(1, -1)");a.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve");a.txtElement.appendChild(a.tspan);
a.txtgrp.appendChild(a.txtElement);this._ensureTransformGroup().appendChild(a.txtElement)}},setLeadingMoveText:function(b,a){this.setLeading(-a);this.moveText(b,a)},addFontStyle:function(b){this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var a=(0,e.createObjectURL)(b.data,b.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'+b.loadedName+'"; src: url('+
a+"); }\n"},setFont:function(c){var a=this.current,d=this.commonObjs.get(c[0]),c=c[1];this.current.font=d;this.embedFonts&&(d.data&&!this.embeddedFonts[d.loadedName])&&(this.addFontStyle(d),this.embeddedFonts[d.loadedName]=d);a.fontMatrix=d.fontMatrix?d.fontMatrix:e.FONT_IDENTITY_MATRIX;var h=d.black?d.bold?"bolder":"bold":d.bold?"bold":"normal",i=d.italic?"italic":"normal";0>c?(c=-c,a.fontDirection=-1):a.fontDirection=1;a.fontSize=c;a.fontFamily=d.loadedName;a.fontWeight=h;a.fontStyle=i;a.tspan=
this.svgFactory.createElement("svg:tspan");a.tspan.setAttributeNS(null,"y",b(-a.y));a.xcoords=[]},endText:function(){},setLineWidth:function(b){this.current.lineWidth=b},setLineCap:function(b){this.current.lineCap=f[b]},setLineJoin:function(b){this.current.lineJoin=v[b]},setMiterLimit:function(b){this.current.miterLimit=b},setStrokeAlpha:function(b){this.current.strokeAlpha=b},setStrokeRGBColor:function(b,a,c){this.current.strokeColor=e.Util.makeCssRgb(b,a,c)},setFillAlpha:function(b){this.current.fillAlpha=
b},setFillRGBColor:function(b,a,c){this.current.fillColor=e.Util.makeCssRgb(b,a,c);this.current.tspan=this.svgFactory.createElement("svg:tspan");this.current.xcoords=[]},setDash:function(b,a){this.current.dashArray=b;this.current.dashPhase=a},constructPath:function(c,a){var d=this.current,h=d.x,i=d.y;d.path=this.svgFactory.createElement("svg:path");for(var j=[],m=c.length,w=0,p=0;w<m;w++)switch(c[w]|0){case e.OPS.rectangle:var h=a[p++],i=a[p++],l=a[p++],x=a[p++],l=h+l,x=i+x;j.push("M",b(h),b(i),"L",
b(l),b(i),"L",b(l),b(x),"L",b(h),b(x),"Z");break;case e.OPS.moveTo:h=a[p++];i=a[p++];j.push("M",b(h),b(i));break;case e.OPS.lineTo:h=a[p++];i=a[p++];j.push("L",b(h),b(i));break;case e.OPS.curveTo:h=a[p+4];i=a[p+5];j.push("C",b(a[p]),b(a[p+1]),b(a[p+2]),b(a[p+3]),b(h),b(i));p+=6;break;case e.OPS.curveTo2:h=a[p+2];i=a[p+3];j.push("C",b(h),b(i),b(a[p]),b(a[p+1]),b(a[p+2]),b(a[p+3]));p+=4;break;case e.OPS.curveTo3:h=a[p+2];i=a[p+3];j.push("C",b(a[p]),b(a[p+1]),b(h),b(i),b(h),b(i));p+=4;break;case e.OPS.closePath:j.push("Z")}d.path.setAttributeNS(null,
"d",j.join(" "));d.path.setAttributeNS(null,"fill","none");this._ensureTransformGroup().appendChild(d.path);d.element=d.path;d.setCurrentPoint(h,i)},endPath:function(){if(this.pendingClip){var b=this.current,a="clippath"+q;q++;var d=this.svgFactory.createElement("svg:clipPath");d.setAttributeNS(null,"id",a);d.setAttributeNS(null,"transform",c(this.transformMatrix));var h=b.element.cloneNode();"evenodd"===this.pendingClip?h.setAttributeNS(null,"clip-rule","evenodd"):h.setAttributeNS(null,"clip-rule",
"nonzero");this.pendingClip=null;d.appendChild(h);this.defs.appendChild(d);b.activeClipUrl&&(b.clipGroup=null,this.extraStack.forEach(function(a){a.clipGroup=null}));b.activeClipUrl="url(#"+a+")";this.tgrp=null}},clip:function(b){this.pendingClip=b},closePath:function(){var b=this.current;if(b.path){var a=b.path.getAttributeNS(null,"d");b.path.setAttributeNS(null,"d",a+"Z")}},setLeading:function(b){this.current.leading=-b},setTextRise:function(b){this.current.textRise=b},setHScale:function(b){this.current.textHScale=
b/100},setGState:function(b){for(var a=0,c=b.length;a<c;a++){var d=b[a],h=d[0],d=d[1];switch(h){case "LW":this.setLineWidth(d);break;case "LC":this.setLineCap(d);break;case "LJ":this.setLineJoin(d);break;case "ML":this.setMiterLimit(d);break;case "D":this.setDash(d[0],d[1]);break;case "Font":this.setFont(d);break;case "CA":this.setStrokeAlpha(d);break;case "ca":this.setFillAlpha(d);break;default:(0,e.warn)("Unimplemented graphic state "+h)}}},fill:function(){var b=this.current;b.element&&(b.element.setAttributeNS(null,
"fill",b.fillColor),b.element.setAttributeNS(null,"fill-opacity",b.fillAlpha))},stroke:function(){var c=this.current;c.element&&(c.element.setAttributeNS(null,"stroke",c.strokeColor),c.element.setAttributeNS(null,"stroke-opacity",c.strokeAlpha),c.element.setAttributeNS(null,"stroke-miterlimit",b(c.miterLimit)),c.element.setAttributeNS(null,"stroke-linecap",c.lineCap),c.element.setAttributeNS(null,"stroke-linejoin",c.lineJoin),c.element.setAttributeNS(null,"stroke-width",b(c.lineWidth)+"px"),c.element.setAttributeNS(null,
"stroke-dasharray",c.dashArray.map(b).join(" ")),c.element.setAttributeNS(null,"stroke-dashoffset",b(c.dashPhase)+"px"),c.element.setAttributeNS(null,"fill","none"))},eoFill:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd");this.fill()},fillStroke:function(){this.stroke();this.fill()},eoFillStroke:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd");this.fillStroke()},closeStroke:function(){this.closePath();
this.stroke()},closeFillStroke:function(){this.closePath();this.fillStroke()},closeEOFillStroke:function(){this.closePath();this.eoFillStroke()},paintSolidColorImageMask:function(){var b=this.current,a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x","0");a.setAttributeNS(null,"y","0");a.setAttributeNS(null,"width","1px");a.setAttributeNS(null,"height","1px");a.setAttributeNS(null,"fill",b.fillColor);this._ensureTransformGroup().appendChild(a)},paintJpegXObject:function(c,a,d){var c=
this.objs.get(c),h=this.svgFactory.createElement("svg:image");h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c.src);h.setAttributeNS(null,"width",b(a));h.setAttributeNS(null,"height",b(d));h.setAttributeNS(null,"x","0");h.setAttributeNS(null,"y",b(-d));h.setAttributeNS(null,"transform","scale("+b(1/a)+" "+b(-1/d)+")");this._ensureTransformGroup().appendChild(h)},paintImageXObject:function(b){(b=this.objs.get(b))?this.paintInlineImageXObject(b):(0,e.warn)("Dependent image isn't ready yet")},
paintInlineImageXObject:function(c,a){var d=c.width,h=c.height,e=r(c,this.forceDataSchema,!!a),i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x","0");i.setAttributeNS(null,"y","0");i.setAttributeNS(null,"width",b(d));i.setAttributeNS(null,"height",b(h));this.current.element=i;this.clip("nonzero");i=this.svgFactory.createElement("svg:image");i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e);i.setAttributeNS(null,"x","0");i.setAttributeNS(null,"y",b(-h));i.setAttributeNS(null,
"width",b(d)+"px");i.setAttributeNS(null,"height",b(h)+"px");i.setAttributeNS(null,"transform","scale("+b(1/d)+" "+b(-1/h)+")");a?a.appendChild(i):this._ensureTransformGroup().appendChild(i)},paintImageMaskXObject:function(c){var a=this.current,d=c.width,h=c.height,e=a.fillColor;a.maskId="mask"+y++;var i=this.svgFactory.createElement("svg:mask");i.setAttributeNS(null,"id",a.maskId);var j=this.svgFactory.createElement("svg:rect");j.setAttributeNS(null,"x","0");j.setAttributeNS(null,"y","0");j.setAttributeNS(null,
"width",b(d));j.setAttributeNS(null,"height",b(h));j.setAttributeNS(null,"fill",e);j.setAttributeNS(null,"mask","url(#"+a.maskId+")");this.defs.appendChild(i);this._ensureTransformGroup().appendChild(j);this.paintInlineImageXObject(c,i)},paintFormXObjectBegin:function(c,a){Array.isArray(c)&&6===c.length&&this.transform(c[0],c[1],c[2],c[3],c[4],c[5]);if(Array.isArray(a)&&4===a.length){var d=a[2]-a[0],h=a[3]-a[1],e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x",a[0]);e.setAttributeNS(null,
"y",a[1]);e.setAttributeNS(null,"width",b(d));e.setAttributeNS(null,"height",b(h));this.current.element=e;this.clip("nonzero");this.endPath()}},paintFormXObjectEnd:function(){},_initialize:function(b){var a=this.svgFactory.create(b.width,b.height),d=this.svgFactory.createElement("svg:defs");a.appendChild(d);this.defs=d;d=this.svgFactory.createElement("svg:g");d.setAttributeNS(null,"transform",c(b.transform));a.appendChild(d);this.svg=d;return a},_ensureClipGroup:function(){if(!this.current.clipGroup){var b=
this.svgFactory.createElement("svg:g");b.setAttributeNS(null,"clip-path",this.current.activeClipUrl);this.svg.appendChild(b);this.current.clipGroup=b}return this.current.clipGroup},_ensureTransformGroup:function(){this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",c(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp));return this.tgrp}};return d}();d.SVGGraphics=f},function(f,
d,c){var f=c(0),l=c(115),j=c(58),e=c(61),m=c(60),b=c(10),r=c(62);if(c(24)()){var i=c(121).PDFNodeStream;j.setPDFNetworkStreamFactory(function(b){return new i(b)})}else if("undefined"!==typeof Response&&"body"in Response.prototype&&"undefined"!==typeof ReadableStream){var o=c(123).PDFFetchStream;j.setPDFNetworkStreamFactory(function(b){return new o(b)})}else{var x=c(124).PDFNetworkStream;j.setPDFNetworkStreamFactory(function(b){return new x(b)})}d.PDFJS=l.PDFJS;d.build=j.build;d.version=j.version;
d.getDocument=j.getDocument;d.LoopbackPort=j.LoopbackPort;d.PDFDataRangeTransport=j.PDFDataRangeTransport;d.PDFWorker=j.PDFWorker;d.renderTextLayer=e.renderTextLayer;d.AnnotationLayer=m.AnnotationLayer;d.createPromiseCapability=f.createPromiseCapability;d.PasswordResponses=f.PasswordResponses;d.InvalidPDFException=f.InvalidPDFException;d.MissingPDFException=f.MissingPDFException;d.SVGGraphics=r.SVGGraphics;d.NativeImageDecoding=f.NativeImageDecoding;d.UnexpectedResponseException=f.UnexpectedResponseException;
d.OPS=f.OPS;d.UNSUPPORTED_FEATURES=f.UNSUPPORTED_FEATURES;d.createValidAbsoluteUrl=f.createValidAbsoluteUrl;d.createObjectURL=f.createObjectURL;d.removeNullCharacters=f.removeNullCharacters;d.shadow=f.shadow;d.createBlob=f.createBlob;d.RenderingCancelledException=b.RenderingCancelledException;d.getFilenameFromUrl=b.getFilenameFromUrl;d.addLinkAttributes=b.addLinkAttributes},function(f,d,c){var l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&
"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};if("undefined"===typeof PDFJS||!PDFJS.compatibilityChecked){var j=c(14),e=c(24),m="undefined"!==typeof navigator&&navigator.userAgent||"",f=/Android/.test(m),d=0<=m.indexOf("CriOS"),b=0<=m.indexOf("Trident"),r=/\b(iPad|iPhone|iPod)(?=;)/.test(m),m=/Safari\//.test(m)&&!/(Chrome\/|Android\s)/.test(m),i="object"===("undefined"===typeof window?"undefined":l(window))&&"object"===("undefined"===typeof document?"undefined":
l(document));"undefined"===typeof PDFJS&&(j.PDFJS={});PDFJS.compatibilityChecked=!0;(function(){if(!j.btoa&&e())j.btoa=function(b){return Buffer.from(b,"binary").toString("base64")}})();(function(){if(!j.atob&&e())j.atob=function(b){return Buffer.from(b,"base64").toString("binary")}})();if(b||d)PDFJS.disableCreateObjectURL=!0;"undefined"!==typeof navigator&&!("language"in navigator)&&(PDFJS.locale=navigator.userLanguage||"en-US");if(m||r)PDFJS.disableRange=!0,PDFJS.disableStream=!0;if(r||f)PDFJS.maxCanvasPixels=
5242880;i&&(b&&window.parent!==window)&&(PDFJS.disableFullscreen=!0);(function(){i&&("currentScript"in document||Object.defineProperty(document,"currentScript",{get:function(){var b=document.getElementsByTagName("script");return b[b.length-1]},enumerable:true,configurable:true}))})();(function(){if(i&&typeof Element.prototype.remove==="undefined")Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}})();Object.values||(Object.values=c(65));Array.prototype.includes||
(Array.prototype.includes=c(70));Math.log2||(Math.log2=c(72));Number.isNaN||(Number.isNaN=c(74));Number.isInteger||(Number.isInteger=c(76));j.Promise||(j.Promise=c(79));j.WeakMap||(j.WeakMap=c(97));(function(){function b(a){if(a===""){i.call(this);this._isInvalid=true}return a.toLowerCase()}function c(a){var b=a.charCodeAt(0);return b>32&&b<127&&[34,35,60,62,63,96].indexOf(b)===-1?a:encodeURIComponent(a)}function d(a){var b=a.charCodeAt(0);return b>32&&b<127&&[34,35,60,62,96].indexOf(b)===-1?a:encodeURIComponent(a)}
function e(a,g,j){function m(a){y.push(a)}var w=g||"scheme start",l=0,f="",s=false,q=false,y=[];a:for(;(a[l-1]!==n||l===0)&&!this._isInvalid;){var k=a[l];switch(w){case "scheme start":if(k&&z.test(k)){f=f+k.toLowerCase();w="scheme"}else if(g){m("Invalid scheme.");break a}else{f="";w="no scheme";continue}break;case "scheme":if(k&&A.test(k))f=f+k.toLowerCase();else if(k===":"){this._scheme=f;f="";if(g)break a;if(r[this._scheme]!==void 0)this._isRelative=true;w=this._scheme==="file"?"relative":this._isRelative&&
j&&j._scheme===this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}else if(g){k!==n&&m("Code point not allowed in scheme: "+k);break a}else{f="";l=0;w="no scheme";continue}break;case "scheme data":if(k==="?"){this._query="?";w="query"}else if(k==="#"){this._fragment="#";w="fragment"}else if(k!==n&&k!=="\t"&&k!=="\n"&&k!=="\r")this._schemeData=this._schemeData+c(k);break;case "no scheme":if(!j||r[j._scheme]===void 0){m("Missing scheme.");i.call(this);this._isInvalid=
true}else{w="relative";continue}break;case "relative or authority":if(k==="/"&&a[l+1]==="/")w="authority ignore slashes";else{m("Expected /, got: "+k);w="relative";continue}break;case "relative":this._isRelative=true;if(this._scheme!=="file")this._scheme=j._scheme;if(k===n){this._host=j._host;this._port=j._port;this._path=j._path.slice();this._query=j._query;this._username=j._username;this._password=j._password;break a}else if(k==="/"||k==="\\"){k==="\\"&&m("\\ is an invalid code point.");w="relative slash"}else if(k===
"?"){this._host=j._host;this._port=j._port;this._path=j._path.slice();this._query="?";this._username=j._username;this._password=j._password;w="query"}else if(k==="#"){this._host=j._host;this._port=j._port;this._path=j._path.slice();this._query=j._query;this._fragment="#";this._username=j._username;this._password=j._password;w="fragment"}else{var w=a[l+1],C=a[l+2];if(this._scheme!=="file"||!z.test(k)||w!==":"&&w!=="|"||C!==n&&C!=="/"&&C!=="\\"&&C!=="?"&&C!=="#"){this._host=j._host;this._port=j._port;
this._username=j._username;this._password=j._password;this._path=j._path.slice();this._path.pop()}w="relative path";continue}break;case "relative slash":if(k==="/"||k==="\\"){k==="\\"&&m("\\ is an invalid code point.");w=this._scheme==="file"?"file host":"authority ignore slashes"}else{if(this._scheme!=="file"){this._host=j._host;this._port=j._port;this._username=j._username;this._password=j._password}w="relative path";continue}break;case "authority first slash":if(k==="/")w="authority second slash";
else{m("Expected '/', got: "+k);w="authority ignore slashes";continue}break;case "authority second slash":w="authority ignore slashes";if(k!=="/"){m("Expected '/', got: "+k);continue}break;case "authority ignore slashes":if(k!=="/"&&k!=="\\"){w="authority";continue}else m("Expected authority, got: "+k);break;case "authority":if(k==="@"){if(s){m("@ already seen.");f=f+"%40"}s=true;for(k=0;k<f.length;k++){C=f[k];if(C==="\t"||C==="\n"||C==="\r")m("Invalid whitespace in authority.");else if(C===":"&&
this._password===null)this._password="";else{C=c(C);this._password!==null?this._password=this._password+C:this._username=this._username+C}}f=""}else if(k===n||k==="/"||k==="\\"||k==="?"||k==="#"){l=l-f.length;f="";w="host";continue}else f=f+k;break;case "file host":if(k===n||k==="/"||k==="\\"||k==="?"||k==="#"){if(f.length===2&&z.test(f[0])&&(f[1]===":"||f[1]==="|"))w="relative path";else{if(f.length!==0){this._host=b.call(this,f);f=""}w="relative path start"}continue}else k==="\t"||k==="\n"||k===
"\r"?m("Invalid whitespace in file host."):f=f+k;break;case "host":case "hostname":if(k===":"&&!q){this._host=b.call(this,f);f="";w="port";if(g==="hostname")break a}else if(k===n||k==="/"||k==="\\"||k==="?"||k==="#"){this._host=b.call(this,f);f="";w="relative path start";if(g)break a;continue}else if(k!=="\t"&&k!=="\n"&&k!=="\r"){k==="["?q=true:k==="]"&&(q=false);f=f+k}else m("Invalid code point in host/hostname: "+k);break;case "port":if(/[0-9]/.test(k))f=f+k;else if(k===n||k==="/"||k==="\\"||k===
"?"||k==="#"||g){if(f!==""){f=parseInt(f,10);if(f!==r[this._scheme])this._port=f+"";f=""}if(g)break a;w="relative path start";continue}else if(k==="\t"||k==="\n"||k==="\r")m("Invalid code point in port: "+k);else{i.call(this);this._isInvalid=true}break;case "relative path start":k==="\\"&&m("'\\' not allowed in path.");w="relative path";if(k!=="/"&&k!=="\\")continue;break;case "relative path":if(k===n||k==="/"||k==="\\"||!g&&(k==="?"||k==="#")){k==="\\"&&m("\\ not allowed in relative path.");if(C=
t[f.toLowerCase()])f=C;if(f===".."){this._path.pop();k!=="/"&&k!=="\\"&&this._path.push("")}else if(f==="."&&k!=="/"&&k!=="\\")this._path.push("");else if(f!=="."){this._scheme==="file"&&(this._path.length===0&&f.length===2&&z.test(f[0])&&f[1]==="|")&&(f=f[0]+":");this._path.push(f)}f="";if(k==="?"){this._query="?";w="query"}else if(k==="#"){this._fragment="#";w="fragment"}}else k!=="\t"&&(k!=="\n"&&k!=="\r")&&(f=f+c(k));break;case "query":if(!g&&k==="#"){this._fragment="#";w="fragment"}else if(k!==
n&&k!=="\t"&&k!=="\n"&&k!=="\r")this._query=this._query+d(k);break;case "fragment":if(k!==n&&k!=="\t"&&k!=="\n"&&k!=="\r")this._fragment=this._fragment+k}l++}}function i(){this._username=this._schemeData=this._scheme="";this._password=null;this._port=this._host="";this._path=[];this._fragment=this._query="";this._isRelative=this._isInvalid=false}function m(a,b){b!==void 0&&!(b instanceof m)&&(b=new m(""+b));this._url=a;i.call(this);var c=a.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");e.call(this,c,
null,b)}var f=false;try{if(typeof URL==="function"&&l(URL.prototype)==="object"&&"origin"in URL.prototype){var g=new URL("b","http://a");g.pathname="c%20d";f=g.href==="http://a/c%20d"}}catch(a){}if(!f){var r=Object.create(null);r.ftp=21;r.file=0;r.gopher=70;r.http=80;r.https=443;r.ws=80;r.wss=443;var t=Object.create(null);t["%2e"]=".";t[".%2e"]="..";t["%2e."]="..";t["%2e%2e"]="..";var n,z=/[a-zA-Z]/,A=/[a-zA-Z0-9\+\-\.]/;m.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;
var a="";if(this._username!==""||this._password!==null)a=this._username+(this._password!==null?":"+this._password:"")+"@";return this.protocol+(this._isRelative?"//"+a+this.host:"")+this.pathname+this._query+this._fragment},set href(a){i.call(this);e.call(this,a)},get protocol(){return this._scheme+":"},set protocol(a){this._isInvalid||e.call(this,a+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(a){!this._isInvalid&&this._isRelative&&
e.call(this,a,"host")},get hostname(){return this._host},set hostname(a){!this._isInvalid&&this._isRelative&&e.call(this,a,"hostname")},get port(){return this._port},set port(a){!this._isInvalid&&this._isRelative&&e.call(this,a,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(a){if(!this._isInvalid&&this._isRelative){this._path=[];e.call(this,a,"relative path start")}},get search(){return this._isInvalid||!this._query||this._query===
"?"?"":this._query},set search(a){if(!this._isInvalid&&this._isRelative){this._query="?";a[0]==="?"&&(a=a.slice(1));e.call(this,a,"query")}},get hash(){return this._isInvalid||!this._fragment||this._fragment==="#"?"":this._fragment},set hash(a){if(!this._isInvalid){this._fragment="#";a[0]==="#"&&(a=a.slice(1));e.call(this,a,"fragment")}},get origin(){var a;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case "data":case "file":case "javascript":case "mailto":return"null";case "blob":try{return(new m(this._schemeData)).origin||
"null"}catch(b){}return"null"}a=this.host;return!a?"":this._scheme+"://"+a}};var w=j.URL;if(w){m.createObjectURL=function(a){return w.createObjectURL.apply(w,arguments)};m.revokeObjectURL=function(a){w.revokeObjectURL(a)}}j.URL=m}})()}},function(f,d,c){c(66);f.exports=c(5).Object.values},function(f,d,c){var f=c(4),l=c(67)(!1);f(f.S,"Object",{values:function(c){return l(c)}})},function(f,d,c){var l=c(21),j=c(17),e=c(32).f;f.exports=function(c){return function(b){for(var b=j(b),d=l(b),i=d.length,f=
0,x=[],h;i>f;)if(e.call(b,h=d[f++]))x.push(c?[h,b[h]]:b[h]);return x}}},function(f,d,c){var l=c(7),j=c(17),e=c(42)(!1),m=c(31)("IE_PROTO");f.exports=function(b,c){var d=j(b),f=0,x=[],h;for(h in d)h!=m&&l(d,h)&&x.push(h);for(;c.length>f;)if(l(d,h=c[f++]))~e(x,h)||x.push(h);return x}},function(f,d,c){var l=c(30),j=Math.max,e=Math.min;f.exports=function(c,b){c=l(c);return 0>c?j(c+b,0):e(c,b)}},function(f,d,c){c(71);f.exports=c(5).Array.includes},function(f,d,c){var f=c(4),l=c(42)(!0);f(f.P,"Array",{includes:function(c){return l(this,
c,1<arguments.length?arguments[1]:void 0)}});c(45)("includes")},function(f,d,c){c(73);f.exports=c(5).Math.log2},function(f,d,c){f=c(4);f(f.S,"Math",{log2:function(c){return Math.log(c)/Math.LN2}})},function(f,d,c){c(75);f.exports=c(5).Number.isNaN},function(f,d,c){f=c(4);f(f.S,"Number",{isNaN:function(c){return c!=c}})},function(f,d,c){c(77);f.exports=c(5).Number.isInteger},function(f,d,c){f=c(4);f(f.S,"Number",{isInteger:c(78)})},function(f,d,c){var l=c(1),j=Math.floor;f.exports=function(c){return!l(c)&&
isFinite(c)&&j(c)===c}},function(f,d,c){c(46);c(80);c(50);c(88);c(95);c(96);f.exports=c(5).Promise},function(f,d,c){var l=c(81)(!0);c(47)(String,"String",function(c){this._t=""+c;this._i=0},function(){var c=this._t,d=this._i;if(d>=c.length)return{value:void 0,done:!0};c=l(c,d);this._i+=c.length;return{value:c,done:!1}})},function(f,d,c){var l=c(30),j=c(28);f.exports=function(c){return function(d,b){var f=""+j(d),i=l(b),o=f.length,x,h;if(0>i||i>=o)return c?"":void 0;x=f.charCodeAt(i);return 55296>
x||56319<x||i+1===o||56320>(h=f.charCodeAt(i+1))||57343<h?c?f.charAt(i):x:c?f.slice(i,i+2):(x-55296<<10)+(h-56320)+65536}}},function(f,d,c){var l=c(83),j=c(26),e=c(22),m={};c(11)(m,c(2)("iterator"),function(){return this});f.exports=function(b,c,d){b.prototype=l(m,{next:j(1,d)});e(b,c+" Iterator")}},function(f,d,c){var l=c(6),j=c(84),e=c(44),m=c(31)("IE_PROTO"),b=function(){},r=function(){var b=c(25)("iframe"),d=e.length;b.style.display="none";c(49).appendChild(b);b.src="javascript:";b=b.contentWindow.document;
b.open();b.write("<script>document.F=Object<\/script>");b.close();for(r=b.F;d--;)delete r.prototype[e[d]];return r()};f.exports=Object.create||function(c,d){var e;null!==c?(b.prototype=l(c),e=new b,b.prototype=null,e[m]=c):e=r();return void 0===d?e:j(e,d)}},function(f,d,c){var l=c(15),j=c(6),e=c(21);f.exports=c(12)?Object.defineProperties:function(c,b){j(c);for(var d=e(b),i=d.length,f=0,x;i>f;)l.f(c,x=d[f++],b[x]);return c}},function(f,d,c){var l=c(7),j=c(34),e=c(31)("IE_PROTO"),m=Object.prototype;
f.exports=Object.getPrototypeOf||function(b){b=j(b);return l(b,e)?b[e]:"function"==typeof b.constructor&&b instanceof b.constructor?b.constructor.prototype:b instanceof Object?m:null}},function(f,d,c){var d=c(45),l=c(87),j=c(19),e=c(17);f.exports=c(47)(Array,"Array",function(c,b){this._t=e(c);this._i=0;this._k=b},function(){var c=this._t,b=this._k,d=this._i++;return!c||d>=c.length?(this._t=void 0,l(1)):"keys"==b?l(0,d):"values"==b?l(0,c[d]):l(0,[d,c[d]])},"values");j.Arguments=j.Array;d("keys");d("values");
d("entries")},function(f){f.exports=function(d,c){return{value:c,done:!!d}}},function(f,d,c){var l=c(48),j=c(3),e=c(9),m=c(33),f=c(4),b=c(1),r=c(16),i=c(35),o=c(23),x=c(51),h=c(52).set,s=c(93)(),d=c(36),v=c(53),q=c(54),y=j.TypeError,g=j.process,a=j.Promise,u="process"==m(g),t=function(){},n,z,A,w,p=z=d.f,m=!!function(){try{var b=a.resolve(1),d=(b.constructor={})[c(2)("species")]=function(a){a(t,t)};return(u||"function"==typeof PromiseRejectionEvent)&&b.then(t)instanceof d}catch(h){}}(),K=function(a){var c;
return b(a)&&"function"==typeof(c=a.then)?c:!1},G=function(a,b){if(!a._n){a._n=!0;var c=a._c;s(function(){for(var d=a._v,h=1==a._s,g=0;c.length>g;){var e=c[g++],p=h?e.ok:e.fail,i=e.resolve,j=e.reject,f=e.domain,w=void 0,m=void 0;try{p?(h||(2==a._h&&M(a),a._h=1),!0===p?w=d:(f&&f.enter(),w=p(d),f&&f.exit()),w===e.promise?j(y("Promise-chain cycle")):(m=K(w))?m.call(w,i,j):i(w)):j(d)}catch(n){j(n)}}a._c=[];a._n=!1;b&&!a._h&&H(a)})}},H=function(a){h.call(j,function(){var b=a._v,c=F(a),d,h,e;c&&(d=v(function(){u?
g.emit("unhandledRejection",b,a):(h=j.onunhandledrejection)?h({promise:a,reason:b}):(e=j.console)&&e.error&&e.error("Unhandled promise rejection",b)}),a._h=u||F(a)?2:1);a._a=void 0;if(c&&d.e)throw d.v;})},F=function I(a){if(1==a._h)return!1;for(var a=a._a||a._c,b=0,c;a.length>b;)if(c=a[b++],c.fail||!I(c.promise))return!1;return!0},M=function(a){h.call(j,function(){var b;u?g.emit("rejectionHandled",a):(b=j.onrejectionhandled)&&b({promise:a,reason:a._v})})},D=function(a){var b=this;b._d||(b._d=!0,b=
b._w||b,b._v=a,b._s=2,b._a||(b._a=b._c.slice()),G(b,!0))},L=function k(a){var b=this,c;if(!b._d){b._d=!0;b=b._w||b;try{if(b===a)throw y("Promise can't be resolved itself");(c=K(a))?s(function(){var d={_w:b,_d:!1};try{c.call(a,e(k,d,1),e(D,d,1))}catch(h){D.call(d,h)}}):(b._v=a,b._s=1,G(b,!1))}catch(d){D.call({_w:b,_d:!1},d)}}};m||(a=function(b){i(this,a,"Promise","_h");r(b);n.call(this);try{b(e(L,this,1),e(D,this,1))}catch(c){D.call(this,c)}},n=function(){this._c=[];this._a=void 0;this._s=0;this._d=
!1;this._v=void 0;this._h=0;this._n=!1},n.prototype=c(37)(a.prototype,{then:function(b,c){var d=p(x(this,a));d.ok="function"==typeof b?b:!0;d.fail="function"==typeof c&&c;d.domain=u?g.domain:void 0;this._c.push(d);this._a&&this._a.push(d);this._s&&G(this,!1);return d.promise},"catch":function(a){return this.then(void 0,a)}}),A=function(){var a=new n;this.promise=a;this.resolve=e(L,a,1);this.reject=e(D,a,1)},d.f=p=function(b){return b===a||b===w?new A(b):z(b)});f(f.G+f.W+f.F*!m,{Promise:a});c(22)(a,
"Promise");c(94)("Promise");w=c(5).Promise;f(f.S+f.F*!m,"Promise",{reject:function(a){var b=p(this),c=b.reject;c(a);return b.promise}});f(f.S+f.F*(l||!m),"Promise",{resolve:function(b){return q(l&&this===w?a:this,b)}});f(f.S+f.F*!(m&&c(55)(function(b){a.all(b)["catch"](t)})),"Promise",{all:function(a){var b=this,c=p(b),d=c.resolve,h=c.reject,g=v(function(){var c=[],g=0,e=1;o(a,false,function(a){var k=g++,p=false;c.push(void 0);e++;b.resolve(a).then(function(a){if(!p){p=true;c[k]=a;--e||d(c)}},h)});
--e||d(c)});g.e&&h(g.v);return c.promise},race:function(a){var b=this,c=p(b),d=c.reject,h=v(function(){o(a,false,function(a){b.resolve(a).then(c.resolve,d)})});h.e&&d(h.v);return c.promise}})},function(f,d,c){var l=c(6);f.exports=function(c,d,f,b){try{return b?d(l(f)[0],f[1]):d(f)}catch(r){throw d=c["return"],void 0!==d&&l(d.call(c)),r;}}},function(f,d,c){var l=c(19),j=c(2)("iterator"),e=Array.prototype;f.exports=function(c){return void 0!==c&&(l.Array===c||e[j]===c)}},function(f,d,c){var l=c(33),
j=c(2)("iterator"),e=c(19);f.exports=c(5).getIteratorMethod=function(c){if(void 0!=c)return c[j]||c["@@iterator"]||e[l(c)]}},function(f){f.exports=function(d,c,f){var j=void 0===f;switch(c.length){case 0:return j?d():d.call(f);case 1:return j?d(c[0]):d.call(f,c[0]);case 2:return j?d(c[0],c[1]):d.call(f,c[0],c[1]);case 3:return j?d(c[0],c[1],c[2]):d.call(f,c[0],c[1],c[2]);case 4:return j?d(c[0],c[1],c[2],c[3]):d.call(f,c[0],c[1],c[2],c[3])}return d.apply(f,c)}},function(f,d,c){var l=c(3),j=c(52).set,
e=l.MutationObserver||l.WebKitMutationObserver,m=l.process,b=l.Promise,r="process"==c(18)(m);f.exports=function(){var c,d,f,h=function(){var b,h;for(r&&(b=m.domain)&&b.exit();c;){h=c.fn;c=c.next;try{h()}catch(a){throw c?f():d=void 0,a;}}d=void 0;b&&b.enter()};if(r)f=function(){m.nextTick(h)};else if(e){var s=!0,v=document.createTextNode("");(new e(h)).observe(v,{characterData:!0});f=function(){v.data=s=!s}}else if(b&&b.resolve){var q=b.resolve();f=function(){q.then(h)}}else f=function(){j.call(l,
h)};return function(b){b={fn:b,next:void 0};d&&(d.next=b);c||(c=b,f());d=b}}},function(f,d,c){var l=c(3),j=c(15),e=c(12),m=c(2)("species");f.exports=function(b){b=l[b];e&&(b&&!b[m])&&j.f(b,m,{configurable:!0,get:function(){return this}})}},function(f,d,c){var f=c(4),l=c(5),j=c(3),e=c(51),m=c(54);f(f.P+f.R,"Promise",{"finally":function(b){var c=e(this,l.Promise||j.Promise),d="function"==typeof b;return this.then(d?function(d){return m(c,b()).then(function(){return d})}:b,d?function(d){return m(c,b()).then(function(){throw d;
})}:b)}})},function(f,d,c){var f=c(4),l=c(36),j=c(53);f(f.S,"Promise",{"try":function(c){var d=l.f(this),c=j(c);(c.e?d.reject:d.resolve)(c.v);return d.promise}})},function(f,d,c){c(46);c(50);c(98);c(109);c(111);f.exports=c(5).WeakMap},function(f,d,c){var d=c(56)(0),l=c(8),j=c(38),e=c(102),m=c(104),b=c(1),r=c(13),i=c(57),o=j.getWeak,x=Object.isExtensible,h=m.ufstore,s={},v,q=function(a){return function(){return a(this,0<arguments.length?arguments[0]:void 0)}},y={get:function(a){if(b(a)){var c=o(a);
return!0===c?h(i(this,"WeakMap")).get(a):c?c[this._i]:void 0}},set:function(a,b){return m.def(i(this,"WeakMap"),a,b)}},g=f.exports=c(105)("WeakMap",q,y,m,!0,!0);r(function(){return 7!=(new g).set((Object.freeze||Object)(s),7).get(s)})&&(v=m.getConstructor(q,"WeakMap"),e(v.prototype,y),j.NEED=!0,d(["delete","has","get","set"],function(a){var c=g.prototype,d=c[a];l(c,a,function(c,h){if(b(c)&&!x(c)){this._f||(this._f=new v);var g=this._f[a](c,h);return"set"==a?this:g}return d.call(this,c,h)})}))},function(f,
d,c){var l=c(100);f.exports=function(c,d){return new (l(c))(d)}},function(f,d,c){var l=c(1),j=c(101),e=c(2)("species");f.exports=function(c){var b;if(j(c)){b=c.constructor;if("function"==typeof b&&(b===Array||j(b.prototype)))b=void 0;l(b)&&(b=b[e],null===b&&(b=void 0))}return void 0===b?Array:b}},function(f,d,c){var l=c(18);f.exports=Array.isArray||function(c){return"Array"==l(c)}},function(f,d,c){var l=c(21),j=c(103),e=c(32),m=c(34),b=c(27),r=Object.assign;f.exports=!r||c(13)(function(){var b={},
c={},d=Symbol();b[d]=7;"abcdefghijklmnopqrst".split("").forEach(function(b){c[b]=b});return 7!=r({},b)[d]||"abcdefghijklmnopqrst"!=Object.keys(r({},c)).join("")})?function(c,d){for(var f=m(c),h=arguments.length,s=1,v=j.f,q=e.f;h>s;)for(var r=b(arguments[s++]),g=v?l(r).concat(v(r)):l(r),a=g.length,u=0,t;a>u;)if(q.call(r,t=g[u++]))f[t]=r[t];return f}:r},function(f,d){d.f=Object.getOwnPropertySymbols},function(f,d,c){var l=c(37),j=c(38).getWeak,e=c(6),m=c(1),b=c(35),r=c(23),d=c(56),i=c(7),o=c(57),x=
d(5),h=d(6),s=0,v=function(b){return b._l||(b._l=new q)},q=function(){this.a=[]},y=function(b,a){return x(b.a,function(b){return b[0]===a})};q.prototype={get:function(b){if(b=y(this,b))return b[1]},has:function(b){return!!y(this,b)},set:function(b,a){var c=y(this,b);c?c[1]=a:this.a.push([b,a])},"delete":function(b){var a=h(this.a,function(a){return a[0]===b});~a&&this.a.splice(a,1);return!!~a}};f.exports={getConstructor:function(c,a,d,h){var e=c(function(c,g){b(c,e,a,"_i");c._t=a;c._i=s++;c._l=void 0;
void 0!=g&&r(g,d,c[h],c)});l(e.prototype,{"delete":function(b){if(!m(b))return!1;var c=j(b);return!0===c?v(o(this,a))["delete"](b):c&&i(c,this._i)&&delete c[this._i]},has:function(b){if(!m(b))return!1;var c=j(b);return!0===c?v(o(this,a)).has(b):c&&i(c,this._i)}});return e},def:function(b,a,c){var d=j(e(a),!0);!0===d?v(b).set(a,c):d[b._i]=c;return b},ufstore:v}},function(f,d,c){var l=c(3),j=c(4),e=c(8),m=c(37),b=c(38),r=c(23),i=c(35),o=c(1),x=c(13),h=c(55),s=c(22),v=c(106);f.exports=function(c,d,g,
a,f,t){var n=l[c],z=n,A=f?"set":"add",w=z&&z.prototype,p={},K=function(a){var b=w[a];e(w,a,"delete"==a?function(a){return t&&!o(a)?!1:b.call(this,0===a?0:a)}:"has"==a?function(a){return t&&!o(a)?!1:b.call(this,0===a?0:a)}:"get"==a?function(a){return t&&!o(a)?void 0:b.call(this,0===a?0:a)}:"add"==a?function(a){b.call(this,0===a?0:a);return this}:function(a,c){b.call(this,0===a?0:a,c);return this})};if("function"!=typeof z||!(t||w.forEach&&!x(function(){(new z).entries().next()})))z=a.getConstructor(d,
c,f,A),m(z.prototype,g),b.NEED=!0;else{var G=new z,g=G[A](t?{}:-0.0,1)!=G,H=x(function(){G.has(1)}),F=h(function(a){new z(a)}),M=!t&&x(function(){for(var a=new z,b=5;b--;)a[A](b,b);return!a.has(-0.0)});F||(z=d(function(a,b){i(a,z,c);var d=v(new n,a,z);void 0!=b&&r(b,f,d[A],d);return d}),z.prototype=w,w.constructor=z);if(H||M)K("delete"),K("has"),f&&K("get");(M||g)&&K(A);t&&w.clear&&delete w.clear}s(z,c);p[c]=z;j(j.G+j.W+j.F*(z!=n),p);t||a.setStrong(z,c,f);return z}},function(f,d,c){var l=c(1),j=c(107).set;
f.exports=function(c,d,b){var d=d.constructor,f;d!==b&&("function"==typeof d&&(f=d.prototype)!==b.prototype&&l(f)&&j)&&j(c,f);return c}},function(f,d,c){var l=c(1),j=c(6),e=function(c,b){j(c);if(!l(b)&&null!==b)throw TypeError(b+": can't set as prototype!");};f.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(d,b,f){try{f=c(9)(Function.call,c(108).f(Object.prototype,"__proto__").set,2),f(d,[]),b=!(d instanceof Array)}catch(i){b=!0}return function(c,d){e(c,d);b?c.__proto__=d:f(c,d);return c}}({},
!1):void 0),check:e}},function(f,d,c){var l=c(32),j=c(26),e=c(17),m=c(41),b=c(7),r=c(40),i=Object.getOwnPropertyDescriptor;d.f=c(12)?i:function(c,d){c=e(c);d=m(d,!0);if(r)try{return i(c,d)}catch(h){}if(b(c,d))return j(!l.f.call(c,d),c[d])}},function(f,d,c){c(110)("WeakMap")},function(f,d,c){var l=c(4);f.exports=function(c){l(l.S,c,{of:function(){for(var c=arguments.length,d=Array(c);c--;)d[c]=arguments[c];return new this(d)}})}},function(f,d,c){c(112)("WeakMap")},function(f,d,c){var l=c(4),j=c(16),
e=c(9),m=c(23);f.exports=function(b){l(l.S,b,{from:function(b,c,d){var f,h,l,v;j(this);(f=void 0!==c)&&j(c);if(void 0==b)return new this;h=[];f?(l=0,v=e(c,d,2),m(b,!1,function(b){h.push(v(b,l++))})):m(b,!1,h.push,h);return new this(h)}})}},function(f,d,c){f=!1;if("undefined"!==typeof ReadableStream)try{new ReadableStream({start:function(c){c.close()}}),f=!0}catch(l){}d.ReadableStream=f?ReadableStream:c(114).ReadableStream},function(f,d){var c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?
function(c){return typeof c}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c};(function(c,d){for(var e in d)c[e]=d[e]})(d,function(c){function d(f){if(e[f])return e[f].exports;var b=e[f]={i:f,l:!1,exports:{}};c[f].call(b.exports,b,b.exports,d);b.l=!0;return b.exports}var e={};d.m=c;d.c=e;d.i=function(c){return c};d.d=function(c,b,e){d.o(c,b)||Object.defineProperty(c,b,{configurable:!1,enumerable:!0,get:e})};d.n=function(c){var b=c&&
c.__esModule?function(){return c["default"]}:function(){return c};d.d(b,"a",b);return b};d.o=function(c,b){return Object.prototype.hasOwnProperty.call(c,b)};d.p="";return d(d.s=7)}([function(d,f,e){function m(b){return"string"===typeof b||"symbol"===("undefined"===typeof b?"undefined":r(b))}function b(b,c,d){if("function"!==typeof b)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(b,c,d)}var r="function"===typeof Symbol&&"symbol"===c(Symbol.iterator)?function(b){return"undefined"===
typeof b?"undefined":c(b)}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":"undefined"===typeof b?"undefined":c(b)},i=e(1).assert;f.typeIsObject=function(b){return"object"===("undefined"===typeof b?"undefined":r(b))&&null!==b||"function"===typeof b};f.createDataProperty=function(b,c,d){i(f.typeIsObject(b));Object.defineProperty(b,c,{value:d,writable:!0,enumerable:!0,configurable:!0})};f.createArrayFromList=function(b){return b.slice()};f.ArrayBufferCopy=
function(b,c,d,e,f){(new Uint8Array(b)).set(new Uint8Array(d,e,f),c)};f.CreateIterResultObject=function(b,c){i("boolean"===typeof c);var d={};Object.defineProperty(d,"value",{value:b,enumerable:!0,writable:!0,configurable:!0});Object.defineProperty(d,"done",{value:c,enumerable:!0,writable:!0,configurable:!0});return d};f.IsFiniteNonNegativeNumber=function(b){return Number.isNaN(b)||Infinity===b||0>b?!1:!0};f.InvokeOrNoop=function(c,d,h){i(void 0!==c);i(m(d));i(Array.isArray(h));d=c[d];return void 0===
d?void 0:b(d,c,h)};f.PromiseInvokeOrNoop=function(b,c,d){i(void 0!==b);i(m(c));i(Array.isArray(d));try{return Promise.resolve(f.InvokeOrNoop(b,c,d))}catch(e){return Promise.reject(e)}};f.PromiseInvokeOrPerformFallback=function(c,d,h,e,f){i(void 0!==c);i(m(d));i(Array.isArray(h));i(Array.isArray(f));var j=void 0;try{j=c[d]}catch(l){return Promise.reject(l)}if(void 0===j)return e.apply(null,f);try{return Promise.resolve(b(j,c,h))}catch(g){return Promise.reject(g)}};f.TransferArrayBuffer=function(b){return b.slice()};
f.ValidateAndNormalizeHighWaterMark=function(b){b=Number(b);if(Number.isNaN(b)||0>b)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return b};f.ValidateAndNormalizeQueuingStrategy=function(b,c){if(void 0!==b&&"function"!==typeof b)throw new TypeError("size property of a queuing strategy must be a function");c=f.ValidateAndNormalizeHighWaterMark(c);return{size:b,highWaterMark:c}}},function(c){function d(c){this.name="AssertionError";this.message=
c||"";this.stack=Error().stack}d.prototype=Object.create(Error.prototype);d.prototype.constructor=d;c.exports={rethrowAssertionErrorRejection:function(c){c&&c.constructor===d&&setTimeout(function(){throw c;},0)},AssertionError:d,assert:function(c,f){if(!c)throw new d(f);}}},function(c,d,e){function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function b(a){return new pa(a)}function r(a){return!Q(a)||!Object.prototype.hasOwnProperty.call(a,"_writableStreamController")?
!1:!0}function i(a){B(!0===r(a),"IsWritableStreamLocked should only be used on known writable streams");return void 0===a._writer?!1:!0}function o(a,b){var c=a._state;if("closed"===c)return Promise.resolve(void 0);if("errored"===c)return Promise.reject(a._storedError);var d=new TypeError("Requested to abort");if(void 0!==a._pendingAbortRequest)return Promise.reject(d);B("writable"===c||"erroring"===c,"state must be writable or erroring");var h=!1;"erroring"===c&&(h=!0,b=void 0);c=new Promise(function(c,
d){a._pendingAbortRequest={_resolve:c,_reject:d,_reason:b,_wasAlreadyErroring:h}});!1===h&&s(a,d);return c}function x(a){B(!0===i(a));B("writable"===a._state);return new Promise(function(b,c){a._writeRequests.push({_resolve:b,_reject:c})})}function h(a,b){var c=a._state;"writable"===c?s(a,b):(B("erroring"===c),v(a))}function s(a,b){B(void 0===a._storedError,"stream._storedError === undefined");B("writable"===a._state,"state must be writable");var c=a._writableStreamController;B(void 0!==c,"controller must not be undefined");
a._state="erroring";a._storedError=b;var d=a._writer;void 0!==d&&w(d,b);!1===y(a)&&!0===c._started&&v(a)}function v(a){B("erroring"===a._state,"stream._state === erroring");B(!1===y(a),"WritableStreamHasOperationMarkedInFlight(stream) === false");a._state="errored";a._writableStreamController.__errorSteps();for(var b=a._storedError,c=0;c<a._writeRequests.length;c++)a._writeRequests[c]._reject(b);a._writeRequests=[];if(void 0===a._pendingAbortRequest)u(a);else{var d=a._pendingAbortRequest;a._pendingAbortRequest=
void 0;!0===d._wasAlreadyErroring?(d._reject(b),u(a)):a._writableStreamController.__abortSteps(d._reason).then(function(){d._resolve();u(a)},function(b){d._reject(b);u(a)})}}function q(a){return void 0===a._closeRequest&&void 0===a._inFlightCloseRequest?!1:!0}function y(a){return void 0===a._inFlightWriteRequest&&void 0===a._inFlightCloseRequest?!1:!0}function g(a){B(void 0===a._inFlightCloseRequest);B(void 0!==a._closeRequest);a._inFlightCloseRequest=a._closeRequest;a._closeRequest=void 0}function a(a){B(void 0===
a._inFlightWriteRequest,"there must be no pending write request");B(0!==a._writeRequests.length,"writeRequests must not be empty");a._inFlightWriteRequest=a._writeRequests.shift()}function u(a){B("errored"===a._state,'_stream_.[[state]] is `"errored"`');void 0!==a._closeRequest&&(B(void 0===a._inFlightCloseRequest),a._closeRequest._reject(a._storedError),a._closeRequest=void 0);var b=a._writer;void 0!==b&&(C(b,a._storedError),b._closedPromise.catch(function(){}))}function t(a,b){B("writable"===a._state);
B(!1===q(a));var c=a._writer;void 0!==c&&b!==a._backpressure&&(!0===b?ia(c):(B(!1===b),Y(c)));a._backpressure=b}function n(a){return!Q(a)||!Object.prototype.hasOwnProperty.call(a,"_ownerWritableStream")?!1:!0}function z(a){var b=a._ownerWritableStream;B(void 0!==b);var c=b._state;if("closed"===c||"errored"===c)return Promise.reject(new TypeError("The stream (in "+c+" state) is not in the writable state and cannot be closed"));B("writable"===c||"erroring"===c);B(!1===q(b));var d=new Promise(function(a,
c){b._closeRequest={_resolve:a,_reject:c}});!0===b._backpressure&&"writable"===c&&Y(a);G(b._writableStreamController);return d}function A(a,b){"pending"===a._closedPromiseState?C(a,b):S(a,b);a._closedPromise.catch(function(){})}function w(a,b){"pending"===a._readyPromiseState?ha(a,b):ja(a,b);a._readyPromise.catch(function(){})}function p(a){var b=a._ownerWritableStream;B(void 0!==b);B(b._writer===a);var c=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");
w(a,c);A(a,c);b._writer=void 0;a._ownerWritableStream=void 0}function K(a,b){var c=a._ownerWritableStream;B(void 0!==c);var d=c._writableStreamController,h;var g=d._strategySize;if(void 0===g)h=1;else try{h=g(b)}catch(e){"writable"===d._controlledWritableStream._state&&D(d,e),h=1}if(c!==a._ownerWritableStream)return Promise.reject(I("write to"));g=c._state;if("errored"===g)return Promise.reject(c._storedError);if(!0===q(c)||"closed"===g)return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"));
if("erroring"===g)return Promise.reject(c._storedError);B("writable"===g);c=x(c);a:{g={chunk:b};try{Z(d,g,h)}catch(k){"writable"===d._controlledWritableStream._state&&D(d,k);break a}h=d._controlledWritableStream;!1===q(h)&&"writable"===h._state&&t(h,0>=d._strategyHWM-d._queueTotalSize);H(d)}return c}function G(a){Z(a,"close",0);H(a)}function H(a){var b=a._controlledWritableStream;if(!1!==a._started&&void 0===b._inFlightWriteRequest){var c=b._state;"closed"===c||"errored"===c||("erroring"===c?v(b):
0!==a._queue.length&&(b=ba(a),"close"===b?F(a):M(a,b.chunk)))}}function F(a){var b=a._controlledWritableStream;g(b);V(a);B(0===a._queue.length,"queue must be empty once the final write record is dequeued");T(a._underlyingSink,"close",[]).then(function(){B(void 0!==b._inFlightCloseRequest);b._inFlightCloseRequest._resolve(void 0);b._inFlightCloseRequest=void 0;var a=b._state;B("writable"===a||"erroring"===a);"erroring"===a&&(b._storedError=void 0,void 0!==b._pendingAbortRequest&&(b._pendingAbortRequest._resolve(),
b._pendingAbortRequest=void 0));b._state="closed";a=b._writer;void 0!==a&&(B(void 0!==a._closedPromise_resolve,"writer._closedPromise_resolve !== undefined"),B(void 0!==a._closedPromise_reject,"writer._closedPromise_reject !== undefined"),B("pending"===a._closedPromiseState,"writer._closedPromiseState is pending"),a._closedPromise_resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="resolved");B(void 0===b._pendingAbortRequest,"stream._pendingAbortRequest === undefined");
B(void 0===b._storedError,"stream._storedError === undefined")},function(a){B(void 0!==b._inFlightCloseRequest);b._inFlightCloseRequest._reject(a);b._inFlightCloseRequest=void 0;B("writable"===b._state||"erroring"===b._state);void 0!==b._pendingAbortRequest&&(b._pendingAbortRequest._reject(a),b._pendingAbortRequest=void 0);h(b,a)}).catch(O)}function M(b,c){var d=b._controlledWritableStream;a(d);T(b._underlyingSink,"write",[c,b]).then(function(){B(void 0!==d._inFlightWriteRequest);d._inFlightWriteRequest._resolve(void 0);
d._inFlightWriteRequest=void 0;var a=d._state;B("writable"===a||"erroring"===a);V(b);!1===q(d)&&"writable"===a&&t(d,0>=b._strategyHWM-b._queueTotalSize);H(b)},function(a){B(void 0!==d._inFlightWriteRequest);d._inFlightWriteRequest._reject(a);d._inFlightWriteRequest=void 0;B("writable"===d._state||"erroring"===d._state);h(d,a)}).catch(O)}function D(a,b){var c=a._controlledWritableStream;B("writable"===c._state);s(c,b)}function L(a){return new TypeError("WritableStream.prototype."+a+" can only be used on a WritableStream")}
function J(a){return new TypeError("WritableStreamDefaultWriter.prototype."+a+" can only be used on a WritableStreamDefaultWriter")}function I(a){return new TypeError("Cannot "+a+" a stream using a released writer")}function k(a){a._closedPromise=new Promise(function(b,c){a._closedPromise_resolve=b;a._closedPromise_reject=c;a._closedPromiseState="pending"})}function C(a,b){B(void 0!==a._closedPromise_resolve,"writer._closedPromise_resolve !== undefined");B(void 0!==a._closedPromise_reject,"writer._closedPromise_reject !== undefined");
B("pending"===a._closedPromiseState,"writer._closedPromiseState is pending");a._closedPromise_reject(b);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0;a._closedPromiseState="rejected"}function S(a,b){B(void 0===a._closedPromise_resolve,"writer._closedPromise_resolve === undefined");B(void 0===a._closedPromise_reject,"writer._closedPromise_reject === undefined");B("pending"!==a._closedPromiseState,"writer._closedPromiseState is not pending");a._closedPromise=Promise.reject(b);a._closedPromiseState=
"rejected"}function da(a){a._readyPromise=new Promise(function(b,c){a._readyPromise_resolve=b;a._readyPromise_reject=c});a._readyPromiseState="pending"}function ea(a,b){a._readyPromise=Promise.reject(b);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState="rejected"}function X(a){a._readyPromise=Promise.resolve(void 0);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState="fulfilled"}function ha(a,b){B(void 0!==a._readyPromise_resolve,"writer._readyPromise_resolve !== undefined");
B(void 0!==a._readyPromise_reject,"writer._readyPromise_reject !== undefined");a._readyPromise_reject(b);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState="rejected"}function ia(a){B(void 0===a._readyPromise_resolve,"writer._readyPromise_resolve === undefined");B(void 0===a._readyPromise_reject,"writer._readyPromise_reject === undefined");a._readyPromise=new Promise(function(b,c){a._readyPromise_resolve=b;a._readyPromise_reject=c});a._readyPromiseState="pending"}function ja(a,
b){B(void 0===a._readyPromise_resolve,"writer._readyPromise_resolve === undefined");B(void 0===a._readyPromise_reject,"writer._readyPromise_reject === undefined");a._readyPromise=Promise.reject(b);a._readyPromiseState="rejected"}function Y(a){B(void 0!==a._readyPromise_resolve,"writer._readyPromise_resolve !== undefined");B(void 0!==a._readyPromise_reject,"writer._readyPromise_reject !== undefined");a._readyPromise_resolve(void 0);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState=
"fulfilled"}var R=function(){function a(b,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(b,h.key,h)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),d=e(0),P=d.InvokeOrNoop,T=d.PromiseInvokeOrNoop,N=d.ValidateAndNormalizeQueuingStrategy,Q=d.typeIsObject,d=e(1),B=d.assert,O=d.rethrowAssertionErrorRejection,e=e(3),V=e.DequeueValue,Z=e.EnqueueValueWithSize,ba=e.PeekQueueValue,ma=e.ResetQueue,
e=function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=c.size,c=c.highWaterMark,c=void 0===c?1:c;f(this,a);this._state="writable";this._writableStreamController=this._writer=this._storedError=void 0;this._writeRequests=[];this._pendingAbortRequest=this._inFlightCloseRequest=this._closeRequest=this._inFlightWriteRequest=void 0;this._backpressure=!1;if(void 0!==b.type)throw new RangeError("Invalid type is specified");
this._writableStreamController=new qa(this,b,d,c);this._writableStreamController.__startSteps()}R(a,[{key:"abort",value:function(a){return!1===r(this)?Promise.reject(L("abort")):!0===i(this)?Promise.reject(new TypeError("Cannot abort a stream that already has a writer")):o(this,a)}},{key:"getWriter",value:function(){if(!1===r(this))throw L("getWriter");return b(this)}},{key:"locked",get:function(){if(!1===r(this))throw L("locked");return i(this)}}]);return a}();c.exports={AcquireWritableStreamDefaultWriter:b,
IsWritableStream:r,IsWritableStreamLocked:i,WritableStream:e,WritableStreamAbort:o,WritableStreamDefaultControllerError:D,WritableStreamDefaultWriterCloseWithErrorPropagation:function(a){var b=a._ownerWritableStream;B(void 0!==b);var c=b._state;if(!0===q(b)||"closed"===c)return Promise.resolve();if("errored"===c)return Promise.reject(b._storedError);B("writable"===c||"erroring"===c);return z(a)},WritableStreamDefaultWriterRelease:p,WritableStreamDefaultWriterWrite:K,WritableStreamCloseQueuedOrInFlight:q};
var pa=function(){function a(b){f(this,a);if(!1===r(b))throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===i(b))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=b;b._writer=this;var c=b._state;"writable"===c?(!1===q(b)&&!0===b._backpressure?da(this):X(this),k(this)):"erroring"===c?(ea(this,b._storedError),this._readyPromise.catch(function(){}),k(this)):"closed"===
c?(X(this),this._closedPromise=Promise.resolve(void 0),this._closedPromise_reject=this._closedPromise_resolve=void 0,this._closedPromiseState="resolved"):(B("errored"===c,"state must be errored"),b=b._storedError,ea(this,b),this._readyPromise.catch(function(){}),this._closedPromise=Promise.reject(b),this._closedPromise_reject=this._closedPromise_resolve=void 0,this._closedPromiseState="rejected",this._closedPromise.catch(function(){}))}R(a,[{key:"abort",value:function(a){if(!1===n(this))return Promise.reject(J("abort"));
if(void 0===this._ownerWritableStream)return Promise.reject(I("abort"));var b=this._ownerWritableStream;B(void 0!==b);return o(b,a)}},{key:"close",value:function(){if(!1===n(this))return Promise.reject(J("close"));var a=this._ownerWritableStream;return void 0===a?Promise.reject(I("close")):!0===q(a)?Promise.reject(new TypeError("cannot close an already-closing stream")):z(this)}},{key:"releaseLock",value:function(){if(!1===n(this))throw J("releaseLock");var a=this._ownerWritableStream;void 0!==a&&
(B(void 0!==a._writer),p(this))}},{key:"write",value:function(a){return!1===n(this)?Promise.reject(J("write")):void 0===this._ownerWritableStream?Promise.reject(I("write to")):K(this,a)}},{key:"closed",get:function(){return!1===n(this)?Promise.reject(J("closed")):this._closedPromise}},{key:"desiredSize",get:function(){if(!1===n(this))throw J("desiredSize");if(void 0===this._ownerWritableStream)throw I("desiredSize");var a;a=this._ownerWritableStream;var b=a._state;a="errored"===b||"erroring"===b?
null:"closed"===b?0:a._writableStreamController._strategyHWM-a._writableStreamController._queueTotalSize;return a}},{key:"ready",get:function(){return!1===n(this)?Promise.reject(J("ready")):this._readyPromise}}]);return a}(),qa=function(){function a(b,c,d,h){f(this,a);if(!1===r(b))throw new TypeError("WritableStreamDefaultController can only be constructed with a WritableStream instance");if(void 0!==b._writableStreamController)throw new TypeError("WritableStreamDefaultController instances can only be created by the WritableStream constructor");
this._controlledWritableStream=b;this._underlyingSink=c;this._queueTotalSize=this._queue=void 0;ma(this);this._started=!1;c=N(d,h);this._strategySize=c.size;this._strategyHWM=c.highWaterMark;t(b,0>=this._strategyHWM-this._queueTotalSize)}R(a,[{key:"error",value:function(a){var b;b=Q(this)?Object.prototype.hasOwnProperty.call(this,"_underlyingSink")?!0:!1:!1;if(!1===b)throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===
this._controlledWritableStream._state&&D(this,a)}},{key:"__abortSteps",value:function(a){return T(this._underlyingSink,"abort",[a])}},{key:"__errorSteps",value:function(){ma(this)}},{key:"__startSteps",value:function(){var a=this,b=P(this._underlyingSink,"start",[this]),c=this._controlledWritableStream;Promise.resolve(b).then(function(){B("writable"===c._state||"erroring"===c._state);a._started=!0;H(a)},function(b){B("writable"===c._state||"erroring"===c._state);a._started=!0;h(c,b)}).catch(O)}}]);
return a}()},function(c,d,e){var f=e(0).IsFiniteNonNegativeNumber,b=e(1).assert;d.DequeueValue=function(c){b("_queue"in c&&"_queueTotalSize"in c,"Spec-level failure: DequeueValue should only be used on containers with [[queue]] and [[queueTotalSize]].");b(0<c._queue.length,"Spec-level failure: should never dequeue from an empty queue.");var d=c._queue.shift();c._queueTotalSize-=d.size;0>c._queueTotalSize&&(c._queueTotalSize=0);return d.value};d.EnqueueValueWithSize=function(c,d,e){b("_queue"in c&&
"_queueTotalSize"in c,"Spec-level failure: EnqueueValueWithSize should only be used on containers with [[queue]] and [[queueTotalSize]].");e=Number(e);if(!f(e))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");c._queue.push({value:d,size:e});c._queueTotalSize+=e};d.PeekQueueValue=function(c){b("_queue"in c&&"_queueTotalSize"in c,"Spec-level failure: PeekQueueValue should only be used on containers with [[queue]] and [[queueTotalSize]].");b(0<c._queue.length,"Spec-level failure: should never peek at an empty queue.");
return c._queue[0].value};d.ResetQueue=function(c){b("_queue"in c&&"_queueTotalSize"in c,"Spec-level failure: ResetQueue should only be used on containers with [[queue]] and [[queueTotalSize]].");c._queue=[];c._queueTotalSize=0}},function(c,d,e){function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function b(a){return!$(a)||!Object.prototype.hasOwnProperty.call(a,"_readableStreamController")?!1:!0}function r(a){E(!0===b(a),"IsReadableStreamLocked should only be used on known readable streams");
return void 0===a._reader?!1:!0}function i(a,c){E(!0===b(a));E("boolean"===typeof c);var d=new ra(a),g={closedOrErrored:!1,canceled1:!1,canceled2:!1,reason1:void 0,reason2:void 0};g.promise=new Promise(function(a){g._resolve=a});var e=o();e._reader=d;e._teeState=g;e._cloneForBranch2=c;var k=x();k._stream=a;k._teeState=g;var p=h();p._stream=a;p._teeState=g;var f=Object.create(Object.prototype);na(f,"pull",e);na(f,"cancel",k);k=new sa(f);f=Object.create(Object.prototype);na(f,"pull",e);na(f,"cancel",
p);p=new sa(f);e._branch1=k._readableStreamController;e._branch2=p._readableStreamController;d._closedPromise.catch(function(a){!0!==g.closedOrErrored&&(L(e._branch1,a),L(e._branch2,a),g.closedOrErrored=!0)});return[k,p]}function o(){function a(){var b=a._branch1,c=a._branch2,d=a._teeState;return K(a._reader).then(function(a){E($(a));var h=a.value,a=a.done;E("boolean"===typeof a);!0===a&&!1===d.closedOrErrored&&(!1===d.canceled1&&M(b),!1===d.canceled2&&M(c),d.closedOrErrored=!0);!0!==d.closedOrErrored&&
(!1===d.canceled1&&D(b,h),!1===d.canceled2&&D(c,h))})}return a}function x(){function a(b){var c=a._stream,d=a._teeState;d.canceled1=!0;d.reason1=b;!0===d.canceled2&&(b=ta([d.reason1,d.reason2]),c=q(c,b),d._resolve(c));return d.promise}return a}function h(){function a(b){var c=a._stream,d=a._teeState;d.canceled2=!0;d.reason2=b;!0===d.canceled1&&(b=ta([d.reason1,d.reason2]),c=q(c,b),d._resolve(c));return d.promise}return a}function s(a){E(!0===n(a._reader));E("readable"===a._state||"closed"===a._state);
return new Promise(function(b,c){a._reader._readIntoRequests.push({_resolve:b,_reject:c})})}function v(a){E(!0===z(a._reader));E("readable"===a._state);return new Promise(function(b,c){a._reader._readRequests.push({_resolve:b,_reject:c})})}function q(a,b){a._disturbed=!0;if("closed"===a._state)return Promise.resolve(void 0);if("errored"===a._state)return Promise.reject(a._storedError);y(a);return a._readableStreamController.__cancelSteps(b).then(function(){})}function y(a){E("readable"===a._state);
a._state="closed";a=a._reader;if(void 0!==a){if(!0===z(a)){for(var b=0;b<a._readRequests.length;b++){var c=a._readRequests[b]._resolve;c(W(void 0,!0))}a._readRequests=[]}E(void 0!==a._closedPromise_resolve);E(void 0!==a._closedPromise_reject);a._closedPromise_resolve(void 0);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}}function g(a,c){E(!0===b(a),"stream must be ReadableStream");E("readable"===a._state,"state must be readable");a._state="errored";a._storedError=c;var d=a._reader;
if(void 0!==d){if(!0===z(d)){for(var h=0;h<d._readRequests.length;h++)d._readRequests[h]._reject(c);d._readRequests=[]}else{E(n(d),"reader must be ReadableStreamBYOBReader");for(h=0;h<d._readIntoRequests.length;h++)d._readIntoRequests[h]._reject(c);d._readIntoRequests=[]}va(d,c);d._closedPromise.catch(function(){})}}function a(a,b,c){a=a._reader;E(0<a._readRequests.length);a._readRequests.shift()._resolve(W(b,c))}function u(a){a=a._reader;return void 0===a||!1===n(a)?!1:!0}function t(a){a=a._reader;
return void 0===a||!1===z(a)?!1:!0}function n(a){return!$(a)||!Object.prototype.hasOwnProperty.call(a,"_readIntoRequests")?!1:!0}function z(a){return!$(a)||!Object.prototype.hasOwnProperty.call(a,"_readRequests")?!1:!0}function A(a,b){a._ownerReadableStream=b;b._reader=a;"readable"===b._state?ma(a):"closed"===b._state?qa(a):(E("errored"===b._state,"state must be errored"),pa(a,b._storedError),a._closedPromise.catch(function(){}))}function w(a,b){var c=a._ownerReadableStream;E(void 0!==c);return q(c,
b)}function p(a){E(void 0!==a._ownerReadableStream);E(a._ownerReadableStream._reader===a);"readable"===a._ownerReadableStream._state?va(a,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):ya(a,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"));a._closedPromise.catch(function(){});a._ownerReadableStream._reader=void 0;a._ownerReadableStream=void 0}function K(a){a=a._ownerReadableStream;E(void 0!==a);a._disturbed=
!0;if("closed"===a._state)return Promise.resolve(W(void 0,!0));if("errored"===a._state)return Promise.reject(a._storedError);E("readable"===a._state);return a._readableStreamController.__pullSteps()}function G(a){return!$(a)||!Object.prototype.hasOwnProperty.call(a,"_underlyingSource")?!1:!0}function H(a){!1!==F(a)&&(!0===a._pulling?a._pullAgain=!0:(E(!1===a._pullAgain),a._pulling=!0,oa(a._underlyingSource,"pull",[a]).then(function(){a._pulling=!1;if(!0===a._pullAgain)return a._pullAgain=!1,H(a)},
function(b){J(a,b)}).catch(U)))}function F(a){var b=a._controlledReadableStream;return"closed"===b._state||"errored"===b._state||!0===a._closeRequested||!1===a._started?!1:!0===r(b)&&0<b._reader._readRequests.length||0<I(a)?!0:!1}function M(a){var b=a._controlledReadableStream;E(!1===a._closeRequested);E("readable"===b._state);a._closeRequested=!0;0===a._queue.length&&y(b)}function D(b,c){var d=b._controlledReadableStream;E(!1===b._closeRequested);E("readable"===d._state);if(!0===r(d)&&0<d._reader._readRequests.length)a(d,
c,!1);else{d=1;if(void 0!==b._strategySize){var h=b._strategySize;try{d=h(c)}catch(g){throw J(b,g),g;}}try{Aa(b,c,d)}catch(e){throw J(b,e),e;}}H(b)}function L(a,b){var c=a._controlledReadableStream;E("readable"===c._state);ca(a);g(c,b)}function J(a,b){"readable"===a._controlledReadableStream._state&&L(a,b)}function I(a){var b=a._controlledReadableStream._state;return"errored"===b?null:"closed"===b?0:a._strategyHWM-a._queueTotalSize}function k(a){return!$(a)||!Object.prototype.hasOwnProperty.call(a,
"_underlyingByteSource")?!1:!0}function C(a){return!$(a)||!Object.prototype.hasOwnProperty.call(a,"_associatedReadableByteStreamController")?!1:!0}function S(a){!1!==Q(a)&&(!0===a._pulling?a._pullAgain=!0:(E(!1===a._pullAgain),a._pulling=!0,oa(a._underlyingByteSource,"pull",[a]).then(function(){a._pulling=!1;!0===a._pullAgain&&(a._pullAgain=!1,S(a))},function(b){"readable"===a._controlledReadableStream._state&&B(a,b)}).catch(U)))}function da(b,c){E("errored"!==b._state,"state must not be errored");
var d=!1;"closed"===b._state&&(E(0===c.bytesFilled),d=!0);var h=ea(c);if("default"===c.readerType)a(b,h,d);else{E("byob"===c.readerType);var g=b._reader;E(0<g._readIntoRequests.length);g._readIntoRequests.shift()._resolve(W(h,d))}}function ea(a){var b=a.bytesFilled,c=a.elementSize;E(b<=a.byteLength);E(0===b%c);return new a.ctor(a.buffer,a.byteOffset,b/c)}function X(a,b,c,d){a._queue.push({buffer:b,byteOffset:c,byteLength:d});a._queueTotalSize+=d}function ha(a,b){var c=b.elementSize,d=b.bytesFilled-
b.bytesFilled%c,h=Math.min(a._queueTotalSize,b.byteLength-b.bytesFilled),g=b.bytesFilled+h,g=g-g%c,c=!1;g>d&&(h=g-b.bytesFilled,c=!0);for(d=a._queue;0<h;){var g=d[0],e=Math.min(h,g.byteLength);Ba(b.buffer,b.byteOffset+b.bytesFilled,g.buffer,g.byteOffset,e);g.byteLength===e?d.shift():(g.byteOffset+=e,g.byteLength-=e);a._queueTotalSize-=e;ia(a,e,b);h-=e}!1===c&&(E(0===a._queueTotalSize,"queue must be empty"),E(0<b.bytesFilled),E(b.bytesFilled<b.elementSize));return c}function ia(a,b,c){E(0===a._pendingPullIntos.length||
a._pendingPullIntos[0]===c);Y(a);c.bytesFilled+=b}function ja(a){E("readable"===a._controlledReadableStream._state);0===a._queueTotalSize&&!0===a._closeRequested?y(a._controlledReadableStream):S(a)}function Y(a){void 0!==a._byobRequest&&(a._byobRequest._associatedReadableByteStreamController=void 0,a._byobRequest._view=void 0,a._byobRequest=void 0)}function R(a){for(E(!1===a._closeRequested);0<a._pendingPullIntos.length&&0!==a._queueTotalSize;){var b=a._pendingPullIntos[0];!0===ha(a,b)&&(N(a),da(a._controlledReadableStream,
b))}}function P(a,b){var c=a._controlledReadableStream,d=1;b.constructor!==DataView&&(d=b.constructor.BYTES_PER_ELEMENT);d={buffer:b.buffer,byteOffset:b.byteOffset,byteLength:b.byteLength,bytesFilled:0,elementSize:d,ctor:b.constructor,readerType:"byob"};if(0<a._pendingPullIntos.length)return d.buffer=ga(d.buffer),a._pendingPullIntos.push(d),s(c);if("closed"===c._state)return c=new b.constructor(d.buffer,d.byteOffset,0),Promise.resolve(W(c,!0));if(0<a._queueTotalSize){if(!0===ha(a,d))return c=ea(d),
ja(a),Promise.resolve(W(c,!1));if(!0===a._closeRequested)return c=new TypeError("Insufficient bytes to fill elements in the given buffer"),B(a,c),Promise.reject(c)}d.buffer=ga(d.buffer);a._pendingPullIntos.push(d);c=s(c);S(a);return c}function T(a,b){var c=a._pendingPullIntos[0],d=a._controlledReadableStream;if("closed"===d._state){if(0!==b)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");c.buffer=ga(c.buffer);E(0===c.bytesFilled,"bytesFilled must be 0");c=a._controlledReadableStream;
if(!0===u(c))for(;0<c._reader._readIntoRequests.length;)d=N(a),da(c,d)}else{E("readable"===d._state);if(c.bytesFilled+b>c.byteLength)throw new RangeError("bytesWritten out of range");ia(a,b,c);if(!(c.bytesFilled<c.elementSize)){N(a);d=c.bytesFilled%c.elementSize;if(0<d){var h=c.byteOffset+c.bytesFilled,h=c.buffer.slice(h-d,h);X(a,h,0,h.byteLength)}c.buffer=ga(c.buffer);c.bytesFilled-=d;da(a._controlledReadableStream,c);R(a)}}}function N(a){var b=a._pendingPullIntos.shift();Y(a);return b}function Q(a){var b=
a._controlledReadableStream;return"readable"!==b._state||!0===a._closeRequested||!1===a._started?!1:!0===t(b)&&0<b._reader._readRequests.length||!0===u(b)&&0<b._reader._readIntoRequests.length||0<O(a)?!0:!1}function B(a,b){var c=a._controlledReadableStream;E("readable"===c._state);Y(a);a._pendingPullIntos=[];ca(a);g(c,b)}function O(a){var b=a._controlledReadableStream._state;return"errored"===b?null:"closed"===b?0:a._strategyHWM-a._queueTotalSize}function V(a){return new TypeError("ReadableStream.prototype."+
a+" can only be used on a ReadableStream")}function Z(a){return new TypeError("Cannot "+a+" a stream using a released reader")}function ba(a){return new TypeError("ReadableStreamDefaultReader.prototype."+a+" can only be used on a ReadableStreamDefaultReader")}function ma(a){a._closedPromise=new Promise(function(b,c){a._closedPromise_resolve=b;a._closedPromise_reject=c})}function pa(a,b){a._closedPromise=Promise.reject(b);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}function qa(a){a._closedPromise=
Promise.resolve(void 0);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}function va(a,b){E(void 0!==a._closedPromise_resolve);E(void 0!==a._closedPromise_reject);a._closedPromise_reject(b);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}function ya(a,b){E(void 0===a._closedPromise_resolve);E(void 0===a._closedPromise_reject);a._closedPromise=Promise.reject(b)}function ka(a){return new TypeError("ReadableStreamBYOBReader.prototype."+a+" can only be used on a ReadableStreamBYOBReader")}
function la(a){return new TypeError("ReadableStreamDefaultController.prototype."+a+" can only be used on a ReadableStreamDefaultController")}function wa(a){return new TypeError("ReadableStreamBYOBRequest.prototype."+a+" can only be used on a ReadableStreamBYOBRequest")}function fa(a){return new TypeError("ReadableByteStreamController.prototype."+a+" can only be used on a ReadableByteStreamController")}function za(a){try{Promise.prototype.then.call(a,void 0,function(){})}catch(b){}}var aa=function(){function a(b,
c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(b,h.key,h)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),d=e(0),Ba=d.ArrayBufferCopy,W=d.CreateIterResultObject,Ca=d.IsFiniteNonNegativeNumber,xa=d.InvokeOrNoop,oa=d.PromiseInvokeOrNoop,ga=d.TransferArrayBuffer,Da=d.ValidateAndNormalizeQueuingStrategy,Ea=d.ValidateAndNormalizeHighWaterMark,d=e(0),ta=d.createArrayFromList,na=d.createDataProperty,
$=d.typeIsObject,d=e(1),E=d.assert,U=d.rethrowAssertionErrorRejection,d=e(3),Fa=d.DequeueValue,Aa=d.EnqueueValueWithSize,ca=d.ResetQueue,e=e(2),Ga=e.AcquireWritableStreamDefaultWriter,Ha=e.IsWritableStream,Ia=e.IsWritableStreamLocked,Ja=e.WritableStreamAbort,Ka=e.WritableStreamDefaultWriterCloseWithErrorPropagation,La=e.WritableStreamDefaultWriterRelease,Ma=e.WritableStreamDefaultWriterWrite,ua=e.WritableStreamCloseQueuedOrInFlight,sa=function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?
arguments[0]:{},c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=c.size,c=c.highWaterMark;f(this,a);this._state="readable";this._storedError=this._reader=void 0;this._disturbed=!1;this._readableStreamController=void 0;var h=b.type;if("bytes"===""+h)void 0===c&&(c=0),this._readableStreamController=new Na(this,b,c);else if(void 0===h)void 0===c&&(c=1),this._readableStreamController=new Oa(this,b,d,c);else throw new RangeError("Invalid type is specified");}aa(a,[{key:"cancel",value:function(a){return!1===
b(this)?Promise.reject(V("cancel")):!0===r(this)?Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")):q(this,a)}},{key:"getReader",value:function(){var a=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).mode;if(!1===b(this))throw V("getReader");if(void 0===a)return new ra(this);if("byob"===""+a)return new Pa(this);throw new RangeError("Invalid mode is specified");}},{key:"pipeThrough",value:function(a,b){var c=a.readable,d=this.pipeTo(a.writable,b);za(d);return c}},
{key:"pipeTo",value:function(a){var c=this,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},h=d.preventClose,g=d.preventAbort,e=d.preventCancel;if(!1===b(this))return Promise.reject(V("pipeTo"));if(!1===Ha(a))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));h=Boolean(h);g=Boolean(g);e=Boolean(e);if(!0===r(this))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"));
if(!0===Ia(a))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"));var k=new ra(this),f=Ga(a),i=!1,w=Promise.resolve();return new Promise(function(b,d){function j(){w=Promise.resolve();return!0===i?Promise.resolve():f._readyPromise.then(function(){return K(k).then(function(a){var b=a.value;!0!==a.done&&(w=Ma(f,b).catch(function(){}))})}).then(j)}function n(){var a=w;return w.then(function(){return a!==w?n():void 0})}function l(a,b,c){"errored"===
a._state?c(a._storedError):b.catch(c).catch(U)}function m(b,c,d){function h(){b().then(function(){return x(c,d)},function(a){return x(!0,a)}).catch(U)}!0!==i&&(i=!0,"writable"===a._state&&!1===ua(a)?n().then(h):h())}function v(b,c){!0!==i&&(i=!0,"writable"===a._state&&!1===ua(a)?n().then(function(){return x(b,c)}).catch(U):x(b,c))}function x(a,c){La(f);p(k);a?d(c):b(void 0)}l(c,k._closedPromise,function(b){!1===g?m(function(){return Ja(a,b)},!0,b):v(!0,b)});l(a,f._closedPromise,function(a){!1===e?
m(function(){return q(c,a)},!0,a):v(!0,a)});(function(a,b,c){"closed"===a._state?c():b.then(c).catch(U)})(c,k._closedPromise,function(){!1===h?m(function(){return Ka(f)}):v()});if(!0===ua(a)||"closed"===a._state){var s=new TypeError("the destination writable stream closed before all data could be piped to it");!1===e?m(function(){return q(c,s)},!0,s):v(!0,s)}j().catch(function(a){w=Promise.resolve();U(a)})})}},{key:"tee",value:function(){if(!1===b(this))throw V("tee");var a=i(this,!1);return ta(a)}},
{key:"locked",get:function(){if(!1===b(this))throw V("locked");return r(this)}}]);return a}();c.exports={ReadableStream:sa,IsReadableStreamDisturbed:function(a){E(!0===b(a),"IsReadableStreamDisturbed should only be used on known readable streams");return a._disturbed},ReadableStreamDefaultControllerClose:M,ReadableStreamDefaultControllerEnqueue:D,ReadableStreamDefaultControllerError:L,ReadableStreamDefaultControllerGetDesiredSize:I};var ra=function(){function a(c){f(this,a);if(!1===b(c))throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");
if(!0===r(c))throw new TypeError("This stream has already been locked for exclusive reading by another reader");A(this,c);this._readRequests=[]}aa(a,[{key:"cancel",value:function(a){return!1===z(this)?Promise.reject(ba("cancel")):void 0===this._ownerReadableStream?Promise.reject(Z("cancel")):w(this,a)}},{key:"read",value:function(){return!1===z(this)?Promise.reject(ba("read")):void 0===this._ownerReadableStream?Promise.reject(Z("read from")):K(this)}},{key:"releaseLock",value:function(){if(!1===z(this))throw ba("releaseLock");
if(void 0!==this._ownerReadableStream){if(0<this._readRequests.length)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");p(this)}}},{key:"closed",get:function(){return!1===z(this)?Promise.reject(ba("closed")):this._closedPromise}}]);return a}(),Pa=function(){function a(c){f(this,a);if(!b(c))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===k(c._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");
if(r(c))throw new TypeError("This stream has already been locked for exclusive reading by another reader");A(this,c);this._readIntoRequests=[]}aa(a,[{key:"cancel",value:function(a){return!n(this)?Promise.reject(ka("cancel")):void 0===this._ownerReadableStream?Promise.reject(Z("cancel")):w(this,a)}},{key:"read",value:function(a){if(!n(this))return Promise.reject(ka("read"));if(void 0===this._ownerReadableStream)return Promise.reject(Z("read from"));if(!ArrayBuffer.isView(a))return Promise.reject(new TypeError("view must be an array buffer view"));
if(0===a.byteLength)return Promise.reject(new TypeError("view must have non-zero byteLength"));var b=this._ownerReadableStream;E(void 0!==b);b._disturbed=!0;a="errored"===b._state?Promise.reject(b._storedError):P(b._readableStreamController,a);return a}},{key:"releaseLock",value:function(){if(!n(this))throw ka("releaseLock");if(void 0!==this._ownerReadableStream){if(0<this._readIntoRequests.length)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");
p(this)}}},{key:"closed",get:function(){return!n(this)?Promise.reject(ka("closed")):this._closedPromise}}]);return a}(),Oa=function(){function a(c,d,h,g){f(this,a);if(!1===b(c))throw new TypeError("ReadableStreamDefaultController can only be constructed with a ReadableStream instance");if(void 0!==c._readableStreamController)throw new TypeError("ReadableStreamDefaultController instances can only be created by the ReadableStream constructor");this._controlledReadableStream=c;this._underlyingSource=
d;this._queueTotalSize=this._queue=void 0;ca(this);this._pulling=this._pullAgain=this._closeRequested=this._started=!1;c=Da(h,g);this._strategySize=c.size;this._strategyHWM=c.highWaterMark;var e=this,d=xa(d,"start",[this]);Promise.resolve(d).then(function(){e._started=!0;E(!1===e._pulling);E(!1===e._pullAgain);H(e)},function(a){J(e,a)}).catch(U)}aa(a,[{key:"close",value:function(){if(!1===G(this))throw la("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");
var a=this._controlledReadableStream._state;if("readable"!==a)throw new TypeError("The stream (in "+a+" state) is not in the readable state and cannot be closed");M(this)}},{key:"enqueue",value:function(a){if(!1===G(this))throw la("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var b=this._controlledReadableStream._state;if("readable"!==b)throw new TypeError("The stream (in "+b+" state) is not in the readable state and cannot be enqueued to");return D(this,
a)}},{key:"error",value:function(a){if(!1===G(this))throw la("error");var b=this._controlledReadableStream;if("readable"!==b._state)throw new TypeError("The stream is "+b._state+" and so cannot be errored");L(this,a)}},{key:"__cancelSteps",value:function(a){ca(this);return oa(this._underlyingSource,"cancel",[a])}},{key:"__pullSteps",value:function(){var a=this._controlledReadableStream;if(0<this._queue.length){var b=Fa(this);!0===this._closeRequested&&0===this._queue.length?y(a):H(this);return Promise.resolve(W(b,
!1))}a=v(a);H(this);return a}},{key:"desiredSize",get:function(){if(!1===G(this))throw la("desiredSize");return I(this)}}]);return a}(),Qa=function(){function a(b,c){f(this,a);this._associatedReadableByteStreamController=b;this._view=c}aa(a,[{key:"respond",value:function(a){if(!1===C(this))throw wa("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");var b=this._associatedReadableByteStreamController,a=Number(a);if(!1===
Ca(a))throw new RangeError("bytesWritten must be a finite");E(0<b._pendingPullIntos.length);T(b,a)}},{key:"respondWithNewView",value:function(a){if(!1===C(this))throw wa("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(a))throw new TypeError("You can only respond with array buffer views");var b=this._associatedReadableByteStreamController;E(0<b._pendingPullIntos.length);var c=b._pendingPullIntos[0];
if(c.byteOffset+c.bytesFilled!==a.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(c.byteLength!==a.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");c.buffer=a.buffer;T(b,a.byteLength)}},{key:"view",get:function(){return this._view}}]);return a}(),Na=function(){function c(a,d,h){f(this,c);if(!1===b(a))throw new TypeError("ReadableByteStreamController can only be constructed with a ReadableStream instance given a byte source");
if(void 0!==a._readableStreamController)throw new TypeError("ReadableByteStreamController instances can only be created by the ReadableStream constructor given a byte source");this._controlledReadableStream=a;this._underlyingByteSource=d;this._pulling=this._pullAgain=!1;Y(this);this._pendingPullIntos=[];this._queue=this._queueTotalSize=void 0;ca(this);this._started=this._closeRequested=!1;this._strategyHWM=Ea(h);h=d.autoAllocateChunkSize;if(void 0!==h&&(!1===Number.isInteger(h)||0>=h))throw new RangeError("autoAllocateChunkSize must be a positive integer");
this._autoAllocateChunkSize=h;this._pendingPullIntos=[];var g=this,d=xa(d,"start",[this]);Promise.resolve(d).then(function(){g._started=!0;E(!1===g._pulling);E(!1===g._pullAgain);S(g)},function(b){"readable"===a._state&&B(g,b)}).catch(U)}aa(c,[{key:"close",value:function(){if(!1===k(this))throw fa("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var a=this._controlledReadableStream._state;if("readable"!==a)throw new TypeError("The stream (in "+
a+" state) is not in the readable state and cannot be closed");a=this._controlledReadableStream;E(!1===this._closeRequested);E("readable"===a._state);if(0<this._queueTotalSize)this._closeRequested=!0;else{if(0<this._pendingPullIntos.length&&0<this._pendingPullIntos[0].bytesFilled)throw a=new TypeError("Insufficient bytes to fill elements in the given buffer"),B(this,a),a;y(a)}}},{key:"enqueue",value:function(b){if(!1===k(this))throw fa("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");
var c=this._controlledReadableStream._state;if("readable"!==c)throw new TypeError("The stream (in "+c+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(b))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");c=this._controlledReadableStream;E(!1===this._closeRequested);E("readable"===c._state);var d=b.byteOffset,h=b.byteLength,b=ga(b.buffer);!0===t(c)?0===c._reader._readRequests.length?X(this,b,d,h):(E(0===
this._queue.length),b=new Uint8Array(b,d,h),a(c,b,!1)):!0===u(c)?(X(this,b,d,h),R(this)):(E(!1===r(c),"stream must not be locked"),X(this,b,d,h))}},{key:"error",value:function(a){if(!1===k(this))throw fa("error");var b=this._controlledReadableStream;if("readable"!==b._state)throw new TypeError("The stream is "+b._state+" and so cannot be errored");B(this,a)}},{key:"__cancelSteps",value:function(a){0<this._pendingPullIntos.length&&(this._pendingPullIntos[0].bytesFilled=0);ca(this);return oa(this._underlyingByteSource,
"cancel",[a])}},{key:"__pullSteps",value:function(){var a=this._controlledReadableStream;E(!0===t(a));if(0<this._queueTotalSize){E(0===a._reader._readRequests.length);a=this._queue.shift();this._queueTotalSize-=a.byteLength;ja(this);var b=void 0;try{b=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)}catch(c){return Promise.reject(c)}return Promise.resolve(W(b,!1))}b=this._autoAllocateChunkSize;if(void 0!==b){var d=void 0;try{d=new ArrayBuffer(b)}catch(h){return Promise.reject(h)}this._pendingPullIntos.push({buffer:d,
byteOffset:0,byteLength:b,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"})}a=v(a);S(this);return a}},{key:"byobRequest",get:function(){if(!1===k(this))throw fa("byobRequest");if(void 0===this._byobRequest&&0<this._pendingPullIntos.length){var a=this._pendingPullIntos[0],a=new Uint8Array(a.buffer,a.byteOffset+a.bytesFilled,a.byteLength-a.bytesFilled);this._byobRequest=new Qa(this,a)}return this._byobRequest}},{key:"desiredSize",get:function(){if(!1===k(this))throw fa("desiredSize");
return O(this)}}]);return c}()},function(c,d,e){var c=e(6),f=e(4),e=e(2);d.TransformStream=c.TransformStream;d.ReadableStream=f.ReadableStream;d.IsReadableStreamDisturbed=f.IsReadableStreamDisturbed;d.ReadableStreamDefaultControllerClose=f.ReadableStreamDefaultControllerClose;d.ReadableStreamDefaultControllerEnqueue=f.ReadableStreamDefaultControllerEnqueue;d.ReadableStreamDefaultControllerError=f.ReadableStreamDefaultControllerError;d.ReadableStreamDefaultControllerGetDesiredSize=f.ReadableStreamDefaultControllerGetDesiredSize;
d.AcquireWritableStreamDefaultWriter=e.AcquireWritableStreamDefaultWriter;d.IsWritableStream=e.IsWritableStream;d.IsWritableStreamLocked=e.IsWritableStreamLocked;d.WritableStream=e.WritableStream;d.WritableStreamAbort=e.WritableStreamAbort;d.WritableStreamDefaultControllerError=e.WritableStreamDefaultControllerError;d.WritableStreamDefaultWriterCloseWithErrorPropagation=e.WritableStreamDefaultWriterCloseWithErrorPropagation;d.WritableStreamDefaultWriterRelease=e.WritableStreamDefaultWriterRelease;
d.WritableStreamDefaultWriterWrite=e.WritableStreamDefaultWriterWrite},function(c,d,e){function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function b(a,b){if(!0===a._errored)throw new TypeError("TransformStream is already errored");if(!0===a._readableClosed)throw new TypeError("Readable side is already closed");var c=a._readableController;try{G(c,b)}catch(d){throw a._readableClosed=!0,i(a,d),a._storedError;}!0===0>=F(c)&&!1===a._backpressure&&h(a,!0)}function r(a){t(!1===
a._errored);t(!1===a._readableClosed);try{K(a._readableController)}catch(b){t(!1)}a._readableClosed=!0}function i(a,b){!1===a._errored&&o(a,b)}function o(a,b){t(!1===a._errored);a._errored=!0;a._storedError=b;!1===a._writableDone&&D(a._writableController,b);!1===a._readableClosed&&H(a._readableController,b)}function x(a){t(void 0!==a._backpressureChangePromise,"_backpressureChangePromise should have been initialized");if(!1===a._backpressure)return Promise.resolve();t(!0===a._backpressure,"_backpressure should have been initialized");
return a._backpressureChangePromise}function h(a,b){t(a._backpressure!==b,"TransformStreamSetBackpressure() should be called only when backpressure is changed");void 0!==a._backpressureChangePromise&&a._backpressureChangePromise_resolve(b);a._backpressureChangePromise=new Promise(function(b){a._backpressureChangePromise_resolve=b});a._backpressureChangePromise.then(function(a){t(a!==b,"_backpressureChangePromise should be fulfilled only when backpressure is changed")});a._backpressure=b}function s(a,
c){b(c._controlledTransformStream,a);return Promise.resolve()}function v(a,b){t(!1===a._errored);t(!1===a._transforming);t(!1===a._backpressure);a._transforming=!0;var c=a._transformStreamController;return z(a._transformer,"transform",[b,c],s,[b,c]).then(function(){a._transforming=!1;return x(a)},function(b){i(a,b);return Promise.reject(b)})}function q(a){return!w(a)||!Object.prototype.hasOwnProperty.call(a,"_controlledTransformStream")?!1:!0}function y(a){return!w(a)||!Object.prototype.hasOwnProperty.call(a,
"_transformStreamController")?!1:!0}function g(a){return new TypeError("TransformStreamDefaultController.prototype."+a+" can only be used on a TransformStreamDefaultController")}function a(a){return new TypeError("TransformStream.prototype."+a+" can only be used on a TransformStream")}var u=function(){function a(b,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(b,h.key,h)}}return function(b,c,d){c&&a(b.prototype,
c);d&&a(b,d);return b}}(),t=e(1).assert,d=e(0),n=d.InvokeOrNoop,z=d.PromiseInvokeOrPerformFallback,A=d.PromiseInvokeOrNoop,w=d.typeIsObject,d=e(4),p=d.ReadableStream,K=d.ReadableStreamDefaultControllerClose,G=d.ReadableStreamDefaultControllerEnqueue,H=d.ReadableStreamDefaultControllerError,F=d.ReadableStreamDefaultControllerGetDesiredSize,e=e(2),M=e.WritableStream,D=e.WritableStreamDefaultControllerError,L=function(){function a(b,c){f(this,a);this._transformStream=b;this._startPromise=c}u(a,[{key:"start",
value:function(a){var b=this._transformStream;b._writableController=a;return this._startPromise.then(function(){return x(b)})}},{key:"write",value:function(a){return v(this._transformStream,a)}},{key:"abort",value:function(){var a=this._transformStream;a._writableDone=!0;o(a,new TypeError("Writable side aborted"))}},{key:"close",value:function(){var a=this._transformStream;t(!1===a._transforming);a._writableDone=!0;return A(a._transformer,"flush",[a._transformStreamController]).then(function(){if(!0===
a._errored)return Promise.reject(a._storedError);!1===a._readableClosed&&r(a);return Promise.resolve()}).catch(function(b){i(a,b);return Promise.reject(a._storedError)})}}]);return a}(),J=function(){function a(b,c){f(this,a);this._transformStream=b;this._startPromise=c}u(a,[{key:"start",value:function(a){var b=this._transformStream;b._readableController=a;return this._startPromise.then(function(){t(void 0!==b._backpressureChangePromise,"_backpressureChangePromise should have been initialized");if(!0===
b._backpressure)return Promise.resolve();t(!1===b._backpressure,"_backpressure should have been initialized");return b._backpressureChangePromise})}},{key:"pull",value:function(){var a=this._transformStream;t(!0===a._backpressure,"pull() should be never called while _backpressure is false");t(void 0!==a._backpressureChangePromise,"_backpressureChangePromise should have been initialized");h(a,!1);return a._backpressureChangePromise}},{key:"cancel",value:function(){var a=this._transformStream;a._readableClosed=
!0;o(a,new TypeError("Readable side canceled"))}}]);return a}(),I=function(){function a(b){f(this,a);if(!1===y(b))throw new TypeError("TransformStreamDefaultController can only be constructed with a TransformStream instance");if(void 0!==b._transformStreamController)throw new TypeError("TransformStreamDefaultController instances can only be created by the TransformStream constructor");this._controlledTransformStream=b}u(a,[{key:"enqueue",value:function(a){if(!1===q(this))throw g("enqueue");b(this._controlledTransformStream,
a)}},{key:"close",value:function(){if(!1===q(this))throw g("close");var a=this._controlledTransformStream;if(!0===a._errored)throw new TypeError("TransformStream is already errored");if(!0===a._readableClosed)throw new TypeError("Readable side is already closed");r(a)}},{key:"error",value:function(a){if(!1===q(this))throw g("error");var b=this._controlledTransformStream;if(!0===b._errored)throw new TypeError("TransformStream is already errored");o(b,a)}},{key:"desiredSize",get:function(){if(!1===
q(this))throw g("desiredSize");return F(this._controlledTransformStream._readableController)}}]);return a}(),e=function(){function b(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};f(this,b);this._transformer=a;var c=a.readableStrategy,d=a.writableStrategy;this._errored=this._transforming=!1;this._transformStreamController=this._readableController=this._writableController=this._storedError=void 0;this._readableClosed=this._writableDone=!1;this._backpressureChangePromise_resolve=
this._backpressureChangePromise=this._backpressure=void 0;this._transformStreamController=new I(this);var g=void 0,e=new Promise(function(a){g=a}),i=new J(this,e);this._readable=new p(i,c);c=new L(this,e);this._writable=new M(c,d);t(void 0!==this._writableController);t(void 0!==this._readableController);d=F(this._readableController);h(this,0>=d);var w=this,a=n(a,"start",[w._transformStreamController]);g(a);e.catch(function(a){!1===w._errored&&(w._errored=!0,w._storedError=a)})}u(b,[{key:"readable",
get:function(){if(!1===y(this))throw a("readable");return this._readable}},{key:"writable",get:function(){if(!1===y(this))throw a("writable");return this._writable}}]);return b}();c.exports={TransformStream:e}},function(c,d,e){c.exports=e(5)}]))},function(f,d,c){Object.defineProperty(d,"__esModule",{value:!0});d.PDFJS=d.globalScope=void 0;var f=c(10),l=c(0),j=c(58),e=c(60),m=c(14),m=m&&m.__esModule?m:{"default":m},b=c(59),r=c(61),c=c(62);m.default.PDFJS||(m.default.PDFJS={});var i=m.default.PDFJS;
i.version="2.0.290";i.build="b6c57d90";i.pdfBug=!1;void 0!==i.verbosity&&(0,l.setVerbosityLevel)(i.verbosity);delete i.verbosity;Object.defineProperty(i,"verbosity",{get:function(){return(0,l.getVerbosityLevel)()},set:function(b){(0,l.setVerbosityLevel)(b)},enumerable:!0,configurable:!0});i.VERBOSITY_LEVELS=l.VERBOSITY_LEVELS;i.OPS=l.OPS;i.UNSUPPORTED_FEATURES=l.UNSUPPORTED_FEATURES;i.isValidUrl=f.isValidUrl;i.shadow=l.shadow;i.createBlob=l.createBlob;i.createObjectURL=function(b,c){return(0,l.createObjectURL)(b,
c,i.disableCreateObjectURL)};Object.defineProperty(i,"isLittleEndian",{configurable:!0,get:function(){return(0,l.shadow)(i,"isLittleEndian",(0,l.isLittleEndian)())}});i.removeNullCharacters=l.removeNullCharacters;i.PasswordResponses=l.PasswordResponses;i.PasswordException=l.PasswordException;i.UnknownErrorException=l.UnknownErrorException;i.InvalidPDFException=l.InvalidPDFException;i.MissingPDFException=l.MissingPDFException;i.UnexpectedResponseException=l.UnexpectedResponseException;i.Util=l.Util;
i.PageViewport=l.PageViewport;i.createPromiseCapability=l.createPromiseCapability;i.maxImageSize=void 0===i.maxImageSize?-1:i.maxImageSize;i.cMapUrl=void 0===i.cMapUrl?null:i.cMapUrl;i.cMapPacked=void 0===i.cMapPacked?!1:i.cMapPacked;i.disableFontFace=void 0===i.disableFontFace?!1:i.disableFontFace;i.imageResourcesPath=void 0===i.imageResourcesPath?"":i.imageResourcesPath;i.disableWorker=void 0===i.disableWorker?!1:i.disableWorker;i.workerSrc=void 0===i.workerSrc?null:i.workerSrc;i.workerPort=void 0===
i.workerPort?null:i.workerPort;i.disableRange=void 0===i.disableRange?!1:i.disableRange;i.disableStream=void 0===i.disableStream?!1:i.disableStream;i.disableAutoFetch=void 0===i.disableAutoFetch?!1:i.disableAutoFetch;i.pdfBug=void 0===i.pdfBug?!1:i.pdfBug;i.postMessageTransfers=void 0===i.postMessageTransfers?!0:i.postMessageTransfers;i.disableCreateObjectURL=void 0===i.disableCreateObjectURL?!1:i.disableCreateObjectURL;i.disableWebGL=void 0===i.disableWebGL?!0:i.disableWebGL;i.externalLinkTarget=
void 0===i.externalLinkTarget?f.LinkTarget.NONE:i.externalLinkTarget;i.externalLinkRel=void 0===i.externalLinkRel?f.DEFAULT_LINK_REL:i.externalLinkRel;i.isEvalSupported=void 0===i.isEvalSupported?!0:i.isEvalSupported;i.getDocument=j.getDocument;i.LoopbackPort=j.LoopbackPort;i.PDFDataRangeTransport=j.PDFDataRangeTransport;i.PDFWorker=j.PDFWorker;i.LinkTarget=f.LinkTarget;i.addLinkAttributes=f.addLinkAttributes;i.getFilenameFromUrl=f.getFilenameFromUrl;i.isExternalLinkTargetSet=f.isExternalLinkTargetSet;
i.AnnotationLayer=e.AnnotationLayer;i.renderTextLayer=r.renderTextLayer;i.Metadata=b.Metadata;i.SVGGraphics=c.SVGGraphics;d.globalScope=m.default;d.PDFJS=i},function(f,d,c){function l(c){this.docId=c;this.styleElement=null;this.nativeFontFaces=[];this.loadTestFontId=0;this.loadingContext={requests:[],nextRequestId:0}}Object.defineProperty(d,"__esModule",{value:!0});d.FontLoader=d.FontFaceObject=void 0;var j=c(0);l.prototype={insertRule:function(c){var b=this.styleElement;b||(b=this.styleElement=document.createElement("style"),
b.id="PDFJS_FONT_STYLE_TAG_"+this.docId,document.documentElement.getElementsByTagName("head")[0].appendChild(b));b=b.sheet;b.insertRule(c,b.cssRules.length)},clear:function(){this.styleElement&&(this.styleElement.remove(),this.styleElement=null);this.nativeFontFaces.forEach(function(c){document.fonts.delete(c)});this.nativeFontFaces.length=0}};Object.defineProperty(l.prototype,"loadTestFont",{get:function(){return(0,j.shadow)(this,"loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))},
configurable:!0});l.prototype.addNativeFontFace=function(c){this.nativeFontFaces.push(c);document.fonts.add(c)};l.prototype.bind=function(c,b){for(var d=[],e=[],f=[],x=function(a){return a.loaded.catch(function(b){(0,j.warn)('Failed to load font "'+a.family+'": '+b)})},h=l.isFontLoadingAPISupported&&!l.isSyncFontLoadingSupported,s=0,v=c.length;s<v;s++){var q=c[s];if(!(q.attached||!1===q.loading))if(q.attached=!0,h){if(q=q.createNativeFontFace())this.addNativeFontFace(q),f.push(x(q))}else{var y=q.createFontFaceRule();
y&&(this.insertRule(y),d.push(y),e.push(q))}}var g=this.queueLoadingCallback(b);h?Promise.all(f).then(function(){g.complete()}):0<d.length&&!l.isSyncFontLoadingSupported?this.prepareFontLoadEvent(d,e,g):g.complete()};l.prototype.queueLoadingCallback=function(c){var b=this.loadingContext,d={id:"pdfjs-font-loading-"+b.nextRequestId++,complete:function(){(0,j.assert)(!d.end,"completeRequest() cannot be called twice");for(d.end=Date.now();0<b.requests.length&&b.requests[0].end;){var c=b.requests.shift();
setTimeout(c.callback,0)}},callback:c,started:Date.now()};b.requests.push(d);return d};l.prototype.prepareFontLoadEvent=function(c,b,d){function e(a,b){return a.charCodeAt(b)<<24|a.charCodeAt(b+1)<<16|a.charCodeAt(b+2)<<8|a.charCodeAt(b+3)&255}function f(a,b,c,d){var h=a.substr(0,b),a=a.substr(b+c);return h+d+a}function l(a,b){q++;30<q?((0,j.warn)("Load test font never loaded."),b()):(v.font="30px "+a,v.fillText(".",0,20),0<v.getImageData(0,0,1,1).data[3]?b():setTimeout(l.bind(null,a,b)))}var h,s,
c=document.createElement("canvas");c.width=1;c.height=1;var v=c.getContext("2d"),q=0,c="lt"+Date.now()+this.loadTestFontId++,y=this.loadTestFont,y=f(y,976,c.length,c),g=e(y,16);h=0;for(s=c.length-3;h<s;h+=4)g=g-1482184792+e(c,h)|0;h<c.length&&(g=g-1482184792+e(c+"XXX",h)|0);y=f(y,16,4,(0,j.string32)(g));h="url(data:font/opentype;base64,"+btoa(y)+");";this.insertRule('@font-face { font-family:"'+c+'";src:'+h+"}");y=[];h=0;for(s=b.length;h<s;h++)y.push(b[h].loadedName);y.push(c);var a=document.createElement("div");
a.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");h=0;for(s=y.length;h<s;++h)b=document.createElement("span"),b.textContent="Hi",b.style.fontFamily=y[h],a.appendChild(b);document.body.appendChild(a);l(c,function(){document.body.removeChild(a);d.complete()})};l.isFontLoadingAPISupported="undefined"!==typeof document&&!!document.fonts;Object.defineProperty(l,"isSyncFontLoadingSupported",{get:function(){var c=(0,j.shadow),b;if("undefined"===
typeof navigator)b=!0;else{b=!1;var d=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);d&&14<=d[1]&&(b=!0)}return c(l,"isSyncFontLoadingSupported",b)},enumerable:!0,configurable:!0});var e={get value(){return(0,j.shadow)(this,"value",(0,j.isEvalSupported)())}},f=function(){function c(b,d){this.compiledGlyphs=Object.create(null);for(var e in b)this[e]=b[e];this.options=d}c.prototype={createNativeFontFace:function(){if(!this.data)return null;if(this.options.disableFontFace)return this.disableFontFace=
!0,null;var b=new FontFace(this.loadedName,this.data,{});this.options.fontRegistry&&this.options.fontRegistry.registerFont(this);return b},createFontFaceRule:function(){if(!this.data)return null;if(this.options.disableFontFace)return this.disableFontFace=!0,null;var b=(0,j.bytesToString)(new Uint8Array(this.data)),c=this.loadedName,b="url(data:"+this.mimetype+";base64,"+btoa(b)+");",c='@font-face { font-family:"'+c+'";src:'+b+"}";this.options.fontRegistry&&this.options.fontRegistry.registerFont(this,
b);return c},getPathGenerator:function(b,c){if(!(c in this.compiledGlyphs)){var d=b.get(this.loadedName+"_path_"+c),f,j,h;if(this.options.isEvalSupported&&e.value){var l,v="";j=0;for(h=d.length;j<h;j++)f=d[j],l=void 0!==f.args?f.args.join(","):"",v+="c."+f.cmd+"("+l+");\n";this.compiledGlyphs[c]=new Function("c","size",v)}else this.compiledGlyphs[c]=function(b,c){j=0;for(h=d.length;j<h;j++)f=d[j],"scale"===f.cmd&&(f.args=[c,-c]),b[f.cmd].apply(b,f.args)}}return this.compiledGlyphs[c]}};return c}();
d.FontFaceObject=f;d.FontLoader=l},function(f,d,c){function l(b){b.mozCurrentTransform||(b._originalSave=b.save,b._originalRestore=b.restore,b._originalRotate=b.rotate,b._originalScale=b.scale,b._originalTranslate=b.translate,b._originalTransform=b.transform,b._originalSetTransform=b.setTransform,b._transformMatrix=b._transformMatrix||[1,0,0,1,0,0],b._transformStack=[],Object.defineProperty(b,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(b,"mozCurrentTransformInverse",
{get:function(){var b=this._transformMatrix,c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],b=b[5],a=c*f-d*e,i=d*e-c*f;return[f/a,d/i,e/i,c/a,(f*g-e*b)/i,(d*g-c*b)/a]}}),b.save=function(){var b=this._transformMatrix;this._transformStack.push(b);this._transformMatrix=b.slice(0,6);this._originalSave()},b.restore=function(){var b=this._transformStack.pop();b&&(this._transformMatrix=b,this._originalRestore())},b.translate=function(b,c){var d=this._transformMatrix;d[4]=d[0]*b+d[2]*c+d[4];d[5]=d[1]*b+d[3]*c+d[5];this._originalTranslate(b,
c)},b.scale=function(b,c){var d=this._transformMatrix;d[0]*=b;d[1]*=b;d[2]*=c;d[3]*=c;this._originalScale(b,c)},b.transform=function(c,d,e,f,i,g){var a=this._transformMatrix;this._transformMatrix=[a[0]*c+a[2]*d,a[1]*c+a[3]*d,a[0]*e+a[2]*f,a[1]*e+a[3]*f,a[0]*i+a[2]*g+a[4],a[1]*i+a[3]*g+a[5]];b._originalTransform(c,d,e,f,i,g)},b.setTransform=function(c,d,e,f,i,g){this._transformMatrix=[c,d,e,f,i,g];b._originalSetTransform(c,d,e,f,i,g)},b.rotate=function(b){var c=Math.cos(b),d=Math.sin(b),e=this._transformMatrix;
this._transformMatrix=[e[0]*c+e[2]*d,e[1]*c+e[3]*d,e[0]*-d+e[2]*c,e[1]*-d+e[3]*c,e[4],e[5]];this._originalRotate(b)})}function j(b){var c=b.width,d=b.height,e,f,i=c+1,g=new Uint8Array(i*(d+1)),a=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),j=c+7&-8,l=b.data,n=new Uint8Array(j*d),m=0,b=0;for(e=l.length;b<e;b++){f=128;for(var o=l[b];0<f;)n[m++]=o&f?0:255,f>>=1}m=l=0;0!==n[m]&&(g[0]=1,++l);for(e=1;e<c;e++)n[m]!==n[m+1]&&(g[e]=n[m]?2:1,++l),m++;0!==n[m]&&(g[e]=2,++l);for(b=1;b<d;b++){m=b*j;f=b*
i;n[m-j]!==n[m]&&(g[f]=n[m]?1:8,++l);o=(n[m]?4:0)+(n[m-j]?8:0);for(e=1;e<c;e++)o=(o>>2)+(n[m+1]?4:0)+(n[m-j+1]?8:0),a[o]&&(g[f+e]=a[o],++l),m++;n[m-j]!==n[m]&&(g[f+e]=n[m]?2:4,++l);if(1E3<l)return null}m=j*(d-1);f=b*i;0!==n[m]&&(g[f]=8,++l);for(e=1;e<c;e++)n[m]!==n[m+1]&&(g[f+e]=n[m]?4:8,++l),m++;0!==n[m]&&(g[f+e]=4,++l);if(1E3<l)return null;for(var a=new Int32Array([0,i,-1,0,-i,0,0,0,1]),w=[],b=0;l&&b<=d;b++){j=b*i;for(n=j+c;j<n&&!g[j];)j++;if(j!==n){n=[j%i,b];m=g[j];e=j;do{f=a[m];do j+=f;while(!g[j]);
f=g[j];5!==f&&10!==f?(m=f,g[j]=0):(m=f&51*m>>4,g[j]&=m>>2|m<<2);n.push(j%i);n.push(j/i|0);--l}while(e!==j);w.push(n);--b}}return function(a){a.save();a.scale(1/c,-1/d);a.translate(0,-d);a.beginPath();for(var b=0,e=w.length;b<e;b++){var g=w[b];a.moveTo(g[0],g[1]);for(var f=2,i=g.length;f<i;f=f+2)a.lineTo(g[f],g[f+1])}a.fill();a.beginPath();a.restore()}}Object.defineProperty(d,"__esModule",{value:!0});d.CanvasGraphics=void 0;var e=c(0),m=c(118),b=16,r={get value(){return(0,e.shadow)(r,"value",(0,e.isLittleEndian)())}},
i=function(){function b(c){this.canvasFactory=c;this.cache=Object.create(null)}b.prototype={getCanvas:function(b,c,d,e){var f;void 0!==this.cache[b]?(f=this.cache[b],this.canvasFactory.reset(f,c,d),f.context.setTransform(1,0,0,1,0,0)):(f=this.canvasFactory.create(c,d),this.cache[b]=f);e&&l(f.context);return f},clear:function(){for(var b in this.cache)this.canvasFactory.destroy(this.cache[b]),delete this.cache[b]}};return b}(),o=function(){function b(){this.alphaIsShape=!1;this.fontSize=0;this.fontSizeScale=
1;this.textMatrix=e.IDENTITY_MATRIX;this.textMatrixScale=1;this.fontMatrix=e.FONT_IDENTITY_MATRIX;this.wordSpacing=this.charSpacing=this.lineY=this.lineX=this.y=this.x=this.leading=0;this.textHScale=1;this.textRenderingMode=e.TextRenderingMode.FILL;this.textRise=0;this.strokeColor=this.fillColor="#000000";this.patternFill=!1;this.lineWidth=this.strokeAlpha=this.fillAlpha=1;this.resumeSMaskCtx=this.activeSMask=null}b.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(b,
c){this.x=b;this.y=c}};return b}(),f=function(){function c(a,b,d,e,h,g){this.ctx=a;this.current=new o;this.stateStack=[];this.pendingClip=null;this.pendingEOFill=!1;this.xobjs=this.res=null;this.commonObjs=b;this.objs=d;this.canvasFactory=e;this.webGLContext=h;this.imageLayer=g;this.groupStack=[];this.baseTransform=this.processingType3=null;this.baseTransformStack=[];this.groupLevel=0;this.smaskStack=[];this.smaskCounter=0;this.tempSMask=null;this.cachedCanvases=new i(this.canvasFactory);a&&l(a);
this.cachedGetSinglePixelWidth=null}function d(a,c){if("undefined"!==typeof ImageData&&c instanceof ImageData)a.putImageData(c,0,0);else{var h=c.height,g=c.width,f=h%b,h=(h-f)/b,i=0===f?h:h+1,j=a.createImageData(g,b),n=0,l,m=c.data,o=j.data,k,v,s;if(c.kind===e.ImageKind.GRAYSCALE_1BPP){var q=m.byteLength,o=new Uint32Array(o.buffer,0,o.byteLength>>2),x=o.length,t=g+7>>3,y=r.value?4278190080:255;for(k=0;k<i;k++){s=k<h?b:f;for(v=l=0;v<s;v++){for(var z=q-n,u=0,z=z>t?g:8*z-7,A=z&-8,R=0,P=0;u<A;u+=8)P=
m[n++],o[l++]=P&128?4294967295:y,o[l++]=P&64?4294967295:y,o[l++]=P&32?4294967295:y,o[l++]=P&16?4294967295:y,o[l++]=P&8?4294967295:y,o[l++]=P&4?4294967295:y,o[l++]=P&2?4294967295:y,o[l++]=P&1?4294967295:y;for(;u<z;u++)0===R&&(P=m[n++],R=128),o[l++]=P&R?4294967295:y,R>>=1}for(;l<x;)o[l++]=0;a.putImageData(j,0,k*b)}}else if(c.kind===e.ImageKind.RGBA_32BPP){v=0;s=4*g*b;for(k=0;k<h;k++)o.set(m.subarray(n,n+s)),n+=s,a.putImageData(j,0,v),v+=b;k<i&&(o.set(m.subarray(n,n+4*g*f)),a.putImageData(j,0,v))}else if(c.kind===
e.ImageKind.RGB_24BPP){s=b;s*=g;for(k=0;k<i;k++){k>=h&&(s=f,s*=g);l=0;for(v=s;v--;)o[l++]=m[n++],o[l++]=m[n++],o[l++]=m[n++],o[l++]=255;a.putImageData(j,0,k*b)}}else throw Error("bad image kind: "+c.kind);}}function f(a,c){for(var d=c.height,h=c.width,e=d%b,d=(d-e)/b,g=0===e?d:d+1,i=a.createImageData(h,b),j=0,n=c.data,l=i.data,m=0;m<g;m++){for(var k=m<d?b:e,o=3,v=0;v<k;v++)for(var s=0,q=0;q<h;q++){if(!s)var r=n[j++],s=128;l[o]=r&s?0:255;o+=4;s>>=1}a.putImageData(i,0,m*b)}}function v(a,b){for(var c=
"strokeStyle fillStyle fillRule globalAlpha lineWidth lineCap lineJoin miterLimit globalCompositeOperation font".split(" "),d=0,h=c.length;d<h;d++){var e=c[d];void 0!==a[e]&&(b[e]=a[e])}void 0!==a.setLineDash&&(b.setLineDash(a.getLineDash()),b.lineDashOffset=a.lineDashOffset)}function q(a){a.strokeStyle="#000000";a.fillStyle="#000000";a.fillRule="nonzero";a.globalAlpha=1;a.lineWidth=1;a.lineCap="butt";a.lineJoin="miter";a.miterLimit=10;a.globalCompositeOperation="source-over";a.font="10px sans-serif";
void 0!==a.setLineDash&&(a.setLineDash([]),a.lineDashOffset=0)}function y(a,b,c){for(var d=a.length,h=1/255,e=3;e<d;e+=4)b[e]=b[e]*(c?c[a[e]]:a[e])*h|0}function g(a,b,c){for(var d=a.length,e=3;e<d;e+=4){var h=77*a[e-3]+152*a[e-2]+28*a[e-1];b[e]=c?b[e]*c[h>>8]>>8:b[e]*h>>16}}function a(a,b,c,d){var e=b.canvas,h=b.context;a.setTransform(b.scaleX,0,0,b.scaleY,b.offsetX,b.offsetY);var f=b.backdrop||null;if(!b.transferMap&&d.isEnabled)c=d.composeSMask({layer:c.canvas,mask:e,properties:{subtype:b.subtype,
backdrop:f}}),a.setTransform(1,0,0,1,0,0),a.drawImage(c,b.offsetX,b.offsetY);else{for(var d=e.width,i=e.height,j=b.transferMap,n=!!f,l=n?f[0]:0,k=n?f[1]:0,f=n?f[2]:0,b="Luminosity"===b.subtype?g:y,m=Math.min(i,Math.ceil(1048576/d)),o=0;o<i;o+=m){var s=Math.min(m,i-o),v=h.getImageData(0,o,d,s),s=c.getImageData(0,o,d,s);if(n)for(var q=v.data,r=l,x=k,t=f,z=q.length,u=3;u<z;u+=4){var A=q[u];if(0===A)q[u-3]=r,q[u-2]=x,q[u-1]=t;else if(255>A){var T=255-A;q[u-3]=q[u-3]*A+r*T>>8;q[u-2]=q[u-2]*A+x*T>>8;q[u-
1]=q[u-1]*A+t*T>>8}}b(v.data,s.data,j);h.putImageData(s,0,o)}a.drawImage(e,0,0)}}var u=["butt","round","square"],t=["miter","round","bevel"],n={},z={};c.prototype={beginDrawing:function(a){var b=a.transform,c=a.viewport,d=a.transparency,a=a.background,a=void 0===a?null:a,e=this.ctx.canvas.width,h=this.ctx.canvas.height;this.ctx.save();this.ctx.fillStyle=a||"rgb(255, 255, 255)";this.ctx.fillRect(0,0,e,h);this.ctx.restore();d&&(d=this.cachedCanvases.getCanvas("transparent",e,h,!0),this.compositeCtx=
this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform));this.ctx.save();q(this.ctx);b&&this.ctx.transform.apply(this.ctx,b);this.ctx.transform.apply(this.ctx,c.transform);this.baseTransform=this.ctx.mozCurrentTransform.slice();this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(a,b,c,d){var h=a.argsArray,a=a.fnArray,b=b||0,g=h.length;if(g===b)return b;for(var f=10<g-b&&"function"===
typeof c,i=f?Date.now()+15:0,n=0,j=this.commonObjs,l=this.objs,k;;){if(void 0!==d&&b===d.nextBreakPoint)return d.breakIt(b,c),b;k=a[b];if(k!==e.OPS.dependency)this[k].apply(this,h[b]);else{k=h[b];for(var m=0,o=k.length;m<o;m++){var s=k[m],v="g"===s[0]&&"_"===s[1]?j:l;if(!v.isResolved(s))return v.get(s,c),b}}b++;if(b===g)return b;if(f&&10<++n){if(Date.now()>i)return c(),b;n=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup();this.ctx.restore();this.transparentCanvas&&(this.ctx=
this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null);this.cachedCanvases.clear();this.webGLContext.clear();this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(a){this.current.lineWidth=a;this.ctx.lineWidth=a},setLineCap:function(a){this.ctx.lineCap=u[a]},setLineJoin:function(a){this.ctx.lineJoin=t[a]},setMiterLimit:function(a){this.ctx.miterLimit=a},setDash:function(a,b){var c=
this.ctx;void 0!==c.setLineDash&&(c.setLineDash(a),c.lineDashOffset=b)},setRenderingIntent:function(){},setFlatness:function(){},setGState:function(a){for(var b=0,c=a.length;b<c;b++){var d=a[b],e=d[1];switch(d[0]){case "LW":this.setLineWidth(e);break;case "LC":this.setLineCap(e);break;case "LJ":this.setLineJoin(e);break;case "ML":this.setMiterLimit(e);break;case "D":this.setDash(e[0],e[1]);break;case "RI":this.setRenderingIntent(e);break;case "FL":this.setFlatness(e);break;case "Font":this.setFont(e[0],
e[1]);break;case "CA":this.current.strokeAlpha=d[1];break;case "ca":this.current.fillAlpha=d[1];this.ctx.globalAlpha=d[1];break;case "BM":this.ctx.globalCompositeOperation=e;break;case "SMask":this.current.activeSMask&&(0<this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=e?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var a=
this.current.activeSMask,b=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,a.canvas.width,a.canvas.height,!0),c=this.ctx,d=c.mozCurrentTransform;this.ctx.save();b=b.context;b.scale(1/a.scaleX,1/a.scaleY);b.translate(-a.offsetX,-a.offsetY);b.transform.apply(b,d);a.startTransformInverse=b.mozCurrentTransformInverse;v(c,b);this.ctx=b;this.setGState([["BM","source-over"],["ca",1],["CA",1]]);this.groupStack.push(c);this.groupLevel++},suspendSMaskGroup:function(){var b=this.ctx;this.groupLevel--;
this.ctx=this.groupStack.pop();a(this.ctx,this.current.activeSMask,b,this.webGLContext);this.ctx.restore();this.ctx.save();v(b,this.ctx);this.current.resumeSMaskCtx=b;this.ctx.transform.apply(this.ctx,e.Util.transform(this.current.activeSMask.startTransformInverse,b.mozCurrentTransform));b.save();b.setTransform(1,0,0,1,0,0);b.clearRect(0,0,b.canvas.width,b.canvas.height);b.restore()},resumeSMaskGroup:function(){var a=this.ctx;this.ctx=this.current.resumeSMaskCtx;this.groupStack.push(a);this.groupLevel++},
endSMaskGroup:function(){var b=this.ctx;this.groupLevel--;this.ctx=this.groupStack.pop();a(this.ctx,this.current.activeSMask,b,this.webGLContext);this.ctx.restore();v(b,this.ctx);this.ctx.transform.apply(this.ctx,e.Util.transform(this.current.activeSMask.startTransformInverse,b.mozCurrentTransform))},save:function(){this.ctx.save();var a=this.current;this.stateStack.push(a);this.current=a.clone();this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup();
null!==this.current.activeSMask&&(0===this.stateStack.length||this.stateStack[this.stateStack.length-1].activeSMask!==this.current.activeSMask)&&this.endSMaskGroup();0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.cachedGetSinglePixelWidth=this.pendingClip=null)},transform:function(a,b,c,d,e,h){this.ctx.transform(a,b,c,d,e,h);this.cachedGetSinglePixelWidth=null},constructPath:function(a,b){for(var c=this.ctx,d=this.current,h=d.x,g=d.y,f=0,i=0,n=a.length;f<n;f++)switch(a[f]|
0){case e.OPS.rectangle:var h=b[i++],g=b[i++],j=b[i++],l=b[i++];0===j&&(j=this.getSinglePixelWidth());0===l&&(l=this.getSinglePixelWidth());j=h+j;l=g+l;this.ctx.moveTo(h,g);this.ctx.lineTo(j,g);this.ctx.lineTo(j,l);this.ctx.lineTo(h,l);this.ctx.lineTo(h,g);this.ctx.closePath();break;case e.OPS.moveTo:h=b[i++];g=b[i++];c.moveTo(h,g);break;case e.OPS.lineTo:h=b[i++];g=b[i++];c.lineTo(h,g);break;case e.OPS.curveTo:h=b[i+4];g=b[i+5];c.bezierCurveTo(b[i],b[i+1],b[i+2],b[i+3],h,g);i+=6;break;case e.OPS.curveTo2:c.bezierCurveTo(h,
g,b[i],b[i+1],b[i+2],b[i+3]);h=b[i+2];g=b[i+3];i+=4;break;case e.OPS.curveTo3:h=b[i+2];g=b[i+3];c.bezierCurveTo(b[i],b[i+1],h,g,h,g);i+=4;break;case e.OPS.closePath:c.closePath()}d.setCurrentPoint(h,g)},closePath:function(){this.ctx.closePath()},stroke:function(a){var a="undefined"!==typeof a?a:!0,b=this.ctx,c=this.current.strokeColor;b.lineWidth=Math.max(0.65*this.getSinglePixelWidth(),this.current.lineWidth);b.globalAlpha=this.current.strokeAlpha;c&&c.hasOwnProperty("type")&&"Pattern"===c.type?
(b.save(),b.strokeStyle=c.getPattern(b,this),b.stroke(),b.restore()):b.stroke();a&&this.consumePath();b.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath();this.stroke()},fill:function(a){var a="undefined"!==typeof a?a:!0,b=this.ctx,c=this.current.fillColor,d=!1;this.current.patternFill&&(b.save(),this.baseTransform&&b.setTransform.apply(b,this.baseTransform),b.fillStyle=c.getPattern(b,this),d=!0);this.pendingEOFill?(b.fill("evenodd"),this.pendingEOFill=!1):b.fill();d&&b.restore();
a&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0;this.fill()},fillStroke:function(){this.fill(!1);this.stroke(!1);this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0;this.fillStroke()},closeFillStroke:function(){this.closePath();this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0;this.closePath();this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=n},eoClip:function(){this.pendingClip=z},beginText:function(){this.current.textMatrix=
e.IDENTITY_MATRIX;this.current.textMatrixScale=1;this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},endText:function(){var a=this.pendingTextPaths,b=this.ctx;if(void 0===a)b.beginPath();else{b.save();b.beginPath();for(var c=0;c<a.length;c++){var d=a[c];b.setTransform.apply(b,d.transform);b.translate(d.x,d.y);d.addToPath(b,d.fontSize)}b.restore();b.clip();b.beginPath();delete this.pendingTextPaths}},setCharSpacing:function(a){this.current.charSpacing=a},setWordSpacing:function(a){this.current.wordSpacing=
a},setHScale:function(a){this.current.textHScale=a/100},setLeading:function(a){this.current.leading=-a},setFont:function(a,b){var c=this.commonObjs.get(a),d=this.current;if(!c)throw Error("Can't find font for "+a);d.fontMatrix=c.fontMatrix?c.fontMatrix:e.FONT_IDENTITY_MATRIX;if(0===d.fontMatrix[0]||0===d.fontMatrix[3])(0,e.warn)("Invalid font matrix for font "+a);0>b?(b=-b,d.fontDirection=-1):d.fontDirection=1;this.current.font=c;this.current.fontSize=b;if(!c.isType3Font){var d=c.black?"900":c.bold?
"bold":"normal",h=c.italic?"italic":"normal",c='"'+(c.loadedName||"sans-serif")+'", '+c.fallbackName,g=16>b?16:100<b?100:b;this.current.fontSizeScale=b/g;this.ctx.font=h+" "+d+" "+g+"px "+c}},setTextRenderingMode:function(a){this.current.textRenderingMode=a},setTextRise:function(a){this.current.textRise=a},moveText:function(a,b){this.current.x=this.current.lineX+=a;this.current.y=this.current.lineY+=b},setLeadingMoveText:function(a,b){this.setLeading(-b);this.moveText(a,b)},setTextMatrix:function(a,
b,c,d,h,e){this.current.textMatrix=[a,b,c,d,h,e];this.current.textMatrixScale=Math.sqrt(a*a+b*b);this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(a,b,c,d){var h=this.ctx,g=this.current,f=g.font,i=g.textRenderingMode,j=g.fontSize/g.fontSizeScale,n=i&e.TextRenderingMode.FILL_STROKE_MASK,i=!!(i&e.TextRenderingMode.ADD_TO_PATH_FLAG),g=g.patternFill&&f.data,l;if(f.disableFontFace||i||g)l=f.getPathGenerator(this.commonObjs,
a);f.disableFontFace||g?(h.save(),h.translate(b,c),h.beginPath(),l(h,j),d&&h.setTransform.apply(h,d),(n===e.TextRenderingMode.FILL||n===e.TextRenderingMode.FILL_STROKE)&&h.fill(),(n===e.TextRenderingMode.STROKE||n===e.TextRenderingMode.FILL_STROKE)&&h.stroke(),h.restore()):((n===e.TextRenderingMode.FILL||n===e.TextRenderingMode.FILL_STROKE)&&h.fillText(a,b,c),(n===e.TextRenderingMode.STROKE||n===e.TextRenderingMode.FILL_STROKE)&&h.strokeText(a,b,c));i&&(this.pendingTextPaths||(this.pendingTextPaths=
[])).push({transform:h.mozCurrentTransform,x:b,y:c,fontSize:j,addToPath:l})},get isFontSubpixelAAEnabled(){var a=this.canvasFactory.create(10,10).context;a.scale(1.5,1);a.fillText("I",0,10);for(var a=a.getImageData(0,0,10,10).data,b=!1,c=3;c<a.length;c+=4)if(0<a[c]&&255>a[c]){b=!0;break}return(0,e.shadow)(this,"isFontSubpixelAAEnabled",b)},showText:function(a){var b=this.current,c=b.font;if(c.isType3Font)return this.showType3Text(a);var d=b.fontSize;if(0!==d){var h=this.ctx,g=b.fontSizeScale,f=b.charSpacing,
i=b.wordSpacing,n=b.fontDirection,j=b.textHScale*n,l=a.length,k=c.vertical,m=k?1:-1,o=c.defaultVMetrics,s=d*b.fontMatrix[0],v=b.textRenderingMode===e.TextRenderingMode.FILL&&!c.disableFontFace&&!b.patternFill;h.save();var q=void 0;if(b.patternFill){h.save();var r=b.fillColor.getPattern(h,this),q=h.mozCurrentTransform;h.restore();h.fillStyle=r}h.transform.apply(h,b.textMatrix);h.translate(b.x,b.y+b.textRise);0<n?h.scale(j,-1):h.scale(j,1);var r=b.lineWidth,x=b.textMatrixScale;if(0===x||0===r){if(x=
b.textRenderingMode&e.TextRenderingMode.FILL_STROKE_MASK,x===e.TextRenderingMode.STROKE||x===e.TextRenderingMode.FILL_STROKE)this.cachedGetSinglePixelWidth=null,r=0.65*this.getSinglePixelWidth()}else r/=x;1!==g&&(h.scale(g,g),r/=g);h.lineWidth=r;for(x=r=0;x<l;++x){var t=a[x];if((0,e.isNum)(t))r+=m*t*d/1E3;else{var y=!1,z=(t.isSpace?i:0)+f,u=t.fontChar,A=t.accent,N,Q,B=t.width;if(k){var O;N=t.vmetric||o;O=t.vmetric?N[1]:0.5*B;O=-O*s;Q=N[2]*s;B=N?-N[0]:B;N=O/g;Q=(r+Q)/g}else N=r/g,Q=0;c.remeasure&&
0<B&&(O=1E3*h.measureText(u).width/d*g,B<O&&this.isFontSubpixelAAEnabled?(O=B/O,y=!0,h.save(),h.scale(O,1),N/=O):B!==O&&(N+=(B-O)/2E3*d/g));if(t.isInFont||c.missingFile)v&&!A?h.fillText(u,N,Q):(this.paintChar(u,N,Q,q),A&&(t=N+A.offset.x/g,u=Q-A.offset.y/g,this.paintChar(A.fontChar,t,u,q)));r+=B*s+z*n;y&&h.restore()}}k?b.y-=r*j:b.x+=r*j;h.restore()}},showType3Text:function(a){var b=this.ctx,c=this.current,d=c.font,h=c.fontSize,g=c.fontDirection,f=d.vertical?1:-1,i=c.charSpacing,n=c.wordSpacing,j=c.textHScale*
g,l=c.fontMatrix||e.FONT_IDENTITY_MATRIX,k=a.length,m;if(!(c.textRenderingMode===e.TextRenderingMode.INVISIBLE||0===h)){this.cachedGetSinglePixelWidth=null;b.save();b.transform.apply(b,c.textMatrix);b.translate(c.x,c.y);b.scale(j,g);for(g=0;g<k;++g)if(m=a[g],(0,e.isNum)(m))m=f*m*h/1E3,this.ctx.translate(m,0),c.x+=m*j;else{var o=(m.isSpace?n:0)+i,s=d.charProcOperatorList[m.operatorListId];s?(this.processingType3=m,this.save(),b.scale(h,h),b.transform.apply(b,l),this.executeOperatorList(s),this.restore(),
m=e.Util.applyTransform([m.width,0],l)[0]*h+o,b.translate(m,0),c.x+=m*j):(0,e.warn)('Type3 character "'+m.operatorListId+'" is not available.')}b.restore();this.processingType3=null}},setCharWidth:function(){},setCharWidthAndBounds:function(a,b,c,d,h,e){this.ctx.rect(c,d,h-c,e-d);this.clip();this.endPath()},getColorN_Pattern:function(a){var b=this;if("TilingPattern"===a[0])var d=a[1],h=this.baseTransform||this.ctx.mozCurrentTransform.slice(),a=new m.TilingPattern(a,d,this.ctx,{createCanvasGraphics:function(a){return new c(a,
b.commonObjs,b.objs,b.canvasFactory,b.webGLContext)}},h);else a=(0,m.getShadingPatternFromIR)(a);return a},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments);this.current.patternFill=!0},setStrokeRGBColor:function(a,b,c){a=e.Util.makeCssRgb(a,b,c);this.ctx.strokeStyle=a;this.current.strokeColor=a},setFillRGBColor:function(a,b,c){a=e.Util.makeCssRgb(a,b,c);this.ctx.fillStyle=a;this.current.fillColor=
a;this.current.patternFill=!1},shadingFill:function(a){var b=this.ctx;this.save();a=(0,m.getShadingPatternFromIR)(a);b.fillStyle=a.getPattern(b,this,!0);var c=b.mozCurrentTransformInverse;if(c){var b=b.canvas,d=b.width,h=b.height,b=e.Util.applyTransform([0,0],c),a=e.Util.applyTransform([0,h],c),g=e.Util.applyTransform([d,0],c),f=e.Util.applyTransform([d,h],c),c=Math.min(b[0],a[0],g[0],f[0]),d=Math.min(b[1],a[1],g[1],f[1]),h=Math.max(b[0],a[0],g[0],f[0]),b=Math.max(b[1],a[1],g[1],f[1]);this.ctx.fillRect(c,
d,h-c,b-d)}else this.ctx.fillRect(-1E10,-1E10,2E10,2E10);this.restore()},beginInlineImage:function(){(0,e.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,e.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(a,b){this.save();this.baseTransformStack.push(this.baseTransform);Array.isArray(a)&&6===a.length&&this.transform.apply(this,a);this.baseTransform=this.ctx.mozCurrentTransform;Array.isArray(b)&&4===b.length&&(this.ctx.rect(b[0],b[1],b[2]-
b[0],b[3]-b[1]),this.clip(),this.endPath())},paintFormXObjectEnd:function(){this.restore();this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(a){this.save();var b=this.ctx;a.isolated||(0,e.info)("TODO: Support non-isolated groups.");a.knockout&&(0,e.warn)("Knockout groups not supported.");var c=b.mozCurrentTransform;a.matrix&&b.transform.apply(b,a.matrix);if(!a.bbox)throw Error("Bounding box is required.");var d=e.Util.getAxialAlignedBoundingBox(a.bbox,b.mozCurrentTransform),d=
e.Util.intersect(d,[0,0,b.canvas.width,b.canvas.height])||[0,0,0,0],h=Math.floor(d[0]),g=Math.floor(d[1]),f=Math.max(Math.ceil(d[2])-h,1),i=Math.max(Math.ceil(d[3])-g,1),n=d=1;4096<f&&(d=f/4096,f=4096);4096<i&&(n=i/4096,i=4096);var j="groupAt"+this.groupLevel;a.smask&&(j+="_smask_"+this.smaskCounter++%2);f=this.cachedCanvases.getCanvas(j,f,i,!0);i=f.context;i.scale(1/d,1/n);i.translate(-h,-g);i.transform.apply(i,c);a.smask?this.smaskStack.push({canvas:f.canvas,context:i,offsetX:h,offsetY:g,scaleX:d,
scaleY:n,subtype:a.smask.subtype,backdrop:a.smask.backdrop,transferMap:a.smask.transferMap||null,startTransformInverse:null}):(b.setTransform(1,0,0,1,0,0),b.translate(h,g),b.scale(d,n));v(b,i);this.ctx=i;this.setGState([["BM","source-over"],["ca",1],["CA",1]]);this.groupStack.push(b);this.groupLevel++;this.current.activeSMask=null},endGroup:function(a){this.groupLevel--;var b=this.ctx;this.ctx=this.groupStack.pop();void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=
!1;a.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(b.canvas,0,0);this.restore()},beginAnnotations:function(){this.save();this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(a,b,c){this.save();q(this.ctx);this.current=new o;Array.isArray(a)&&4===a.length&&(this.ctx.rect(a[0],a[1],a[2]-a[0],a[3]-a[1]),this.clip(),this.endPath());this.transform.apply(this,b);this.transform.apply(this,c)},endAnnotation:function(){this.restore()},
paintJpegXObject:function(a,b,c){var d=this.objs.get(a);if(d){this.save();var h=this.ctx;h.scale(1/b,-1/c);h.drawImage(d,0,0,d.width,d.height,0,-c,b,c);this.imageLayer&&(d=h.mozCurrentTransformInverse,h=this.getCanvasPosition(0,0),this.imageLayer.appendImage({objId:a,left:h[0],top:h[1],width:b/d[0],height:c/d[3]}));this.restore()}else(0,e.warn)("Dependent image isn't ready yet")},paintImageMaskXObject:function(a){var b=this.ctx,c=a.width,d=a.height,h=this.current.fillColor,e=this.current.patternFill,
g=this.processingType3;g&&void 0===g.compiled&&(g.compiled=1E3>=c&&1E3>=d?j({data:a.data,width:c,height:d}):null);g&&g.compiled?g.compiled(b):(b=this.cachedCanvases.getCanvas("maskCanvas",c,d),g=b.context,g.save(),f(g,a),g.globalCompositeOperation="source-in",g.fillStyle=e?h.getPattern(g,this):h,g.fillRect(0,0,c,d),g.restore(),this.paintInlineImageXObject(b.canvas))},paintImageMaskXObjectRepeat:function(a,b,c,d){var h=a.width,e=a.height,g=this.current.fillColor,i=this.current.patternFill,n=this.cachedCanvases.getCanvas("maskCanvas",
h,e),j=n.context;j.save();f(j,a);j.globalCompositeOperation="source-in";j.fillStyle=i?g.getPattern(j,this):g;j.fillRect(0,0,h,e);j.restore();a=this.ctx;g=0;for(i=d.length;g<i;g+=2)a.save(),a.transform(b,0,0,c,d[g],d[g+1]),a.scale(1,-1),a.drawImage(n.canvas,0,0,h,e,0,-1,1,1),a.restore()},paintImageMaskXObjectGroup:function(a){for(var b=this.ctx,c=this.current.fillColor,d=this.current.patternFill,h=0,e=a.length;h<e;h++){var g=a[h],i=g.width,j=g.height,n=this.cachedCanvases.getCanvas("maskCanvas",i,
j),l=n.context;l.save();f(l,g);l.globalCompositeOperation="source-in";l.fillStyle=d?c.getPattern(l,this):c;l.fillRect(0,0,i,j);l.restore();b.save();b.transform.apply(b,g.transform);b.scale(1,-1);b.drawImage(n.canvas,0,0,i,j,0,-1,1,1);b.restore()}},paintImageXObject:function(a){(a=this.objs.get(a))?this.paintInlineImageXObject(a):(0,e.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(a,b,c,d){if(a=this.objs.get(a)){for(var h=a.width,g=a.height,f=[],i=0,j=d.length;i<j;i+=2)f.push({transform:[b,
0,0,c,d[i],d[i+1]],x:0,y:0,w:h,h:g});this.paintInlineImageXObjectGroup(a,f)}else(0,e.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(a){var b=a.width,c=a.height,g=this.ctx;this.save();g.scale(1/b,-1/c);var e=g.mozCurrentTransformInverse,f=e[0],i=e[1],f=Math.max(Math.sqrt(f*f+i*i),1),i=e[2],j=e[3],i=Math.max(Math.sqrt(i*i+j*j),1),n;if(a instanceof HTMLElement||!a.data)j=a;else{n=this.cachedCanvases.getCanvas("inlineImage",b,c);var l=n.context;d(l,a);j=n.canvas}for(var m=
b,k=c,o="prescale1";2<f&&1<m||2<i&&1<k;){var s=m,v=k;2<f&&1<m&&(s=Math.ceil(m/2),f/=m/s);2<i&&1<k&&(v=Math.ceil(k/2),i/=k/v);n=this.cachedCanvases.getCanvas(o,s,v);l=n.context;l.clearRect(0,0,s,v);l.drawImage(j,0,0,m,k,0,0,s,v);j=n.canvas;m=s;k=v;o="prescale1"===o?"prescale2":"prescale1"}g.drawImage(j,0,0,m,k,0,-c,b,c);this.imageLayer&&(g=this.getCanvasPosition(0,-c),this.imageLayer.appendImage({imgData:a,left:g[0],top:g[1],width:b/e[0],height:c/e[3]}));this.restore()},paintInlineImageXObjectGroup:function(a,
b){var c=this.ctx,g=a.width,e=a.height,f=this.cachedCanvases.getCanvas("inlineImage",g,e);d(f.context,a);for(var i=0,j=b.length;i<j;i++){var n=b[i];c.save();c.transform.apply(c,n.transform);c.scale(1,-1);c.drawImage(f.canvas,n.x,n.y,n.w,n.h,0,-1,1,1);this.imageLayer&&(n=this.getCanvasPosition(n.x,n.y),this.imageLayer.appendImage({imgData:a,left:n[0],top:n[1],width:g,height:e}));c.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,e.warn)("Unsupported 'paintXObject' command.")},
markPoint:function(){},markPointProps:function(){},beginMarkedContent:function(){},beginMarkedContentProps:function(){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var a=this.ctx;this.pendingClip&&(this.pendingClip===z?a.clip("evenodd"):a.clip(),this.pendingClip=null);a.beginPath()},getSinglePixelWidth:function(){if(null===this.cachedGetSinglePixelWidth){this.ctx.save();var a=this.ctx.mozCurrentTransformInverse;this.ctx.restore();this.cachedGetSinglePixelWidth=
Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3]))}return this.cachedGetSinglePixelWidth},getCanvasPosition:function(a,b){var c=this.ctx.mozCurrentTransform;return[c[0]*a+c[2]*b+c[4],c[1]*a+c[3]*b+c[5]]}};for(var A in e.OPS)c.prototype[e.OPS[A]]=c.prototype[A];return c}();d.CanvasGraphics=f},function(f,d,c){Object.defineProperty(d,"__esModule",{value:!0});d.TilingPattern=d.getShadingPatternFromIR=void 0;var l=c(0),j={RadialAxial:{fromIR:function(c){var b=c[1],d=c[2],e=c[3],f=c[4],j=c[5],
h=c[6];return{type:"Pattern",getPattern:function(c){var l;"axial"===b?l=c.createLinearGradient(e[0],e[1],f[0],f[1]):"radial"===b&&(l=c.createRadialGradient(e[0],e[1],j,f[0],f[1],h));for(var c=0,m=d.length;c<m;++c){var y=d[c];l.addColorStop(y[0],y[1])}return l}}}}},e=function(){function c(b,d,e,f,j,h,l,m){var q=d.coords,y=d.colors,g=b.data,b=4*b.width,a;q[e+1]>q[f+1]&&(a=e,e=f,f=a,a=h,h=l,l=a);q[f+1]>q[j+1]&&(a=f,f=j,j=a,a=l,l=m,m=a);q[e+1]>q[f+1]&&(a=e,e=f,f=a,a=h,h=l,l=a);a=(q[e]+d.offsetX)*d.scaleX;
var e=(q[e+1]+d.offsetY)*d.scaleY,u=(q[f]+d.offsetX)*d.scaleX,f=(q[f+1]+d.offsetY)*d.scaleY,t=(q[j]+d.offsetX)*d.scaleX,d=(q[j+1]+d.offsetY)*d.scaleY;if(!(e>=d))for(var j=y[h],q=y[h+1],h=y[h+2],n=y[l],z=y[l+1],l=y[l+2],A=y[m],w=y[m+1],m=y[m+2],p=Math.round(e),y=Math.round(d),K,G,H,F,M,D,L,J,I=p;I<=y;I++){I<f?(J=I<e?0:e===f?1:(e-I)/(e-f),p=a-(a-u)*J,K=j-(j-n)*J,G=q-(q-z)*J,H=h-(h-l)*J):(J=I>d?1:f===d?0:(f-I)/(f-d),p=u-(u-t)*J,K=n-(n-A)*J,G=z-(z-w)*J,H=l-(l-m)*J);J=I<e?0:I>d?1:(e-I)/(e-d);F=a-(a-t)*
J;M=j-(j-A)*J;D=q-(q-w)*J;L=h-(h-m)*J;J=Math.round(Math.min(p,F));for(var k=Math.round(Math.max(p,F)),C=b*I+4*J,S=J;S<=k;S++)J=(p-S)/(p-F),J=0>J?0:1<J?1:J,g[C++]=K-(K-M)*J|0,g[C++]=G-(G-D)*J|0,g[C++]=H-(H-L)*J|0,g[C++]=255}}return function(b,d,e,f,j,h,l,v){var q=Math.floor(b[0]),y=Math.floor(b[1]),g=Math.ceil(b[2])-q,b=Math.ceil(b[3])-y,a=Math.min(Math.ceil(Math.abs(1.1*g*d[0])),3E3),d=Math.min(Math.ceil(Math.abs(1.1*b*d[1])),3E3),g=g/a,b=b/d,e={coords:e,colors:f,offsetX:-q,offsetY:-y,scaleX:1/g,
scaleY:1/b},f=a+4,u=d+4;if(v.isEnabled)j=v.drawFigures({width:a,height:d,backgroundColor:h,figures:j,context:e}),l=l.getCanvas("mesh",f,u,!1),l.context.drawImage(j,2,2);else{l=l.getCanvas("mesh",f,u,!1);v=l.context;d=v.createImageData(a,d);if(h){u=d.data;a=0;for(f=u.length;a<f;a+=4)u[a]=h[0],u[a+1]=h[1],u[a+2]=h[2],u[a+3]=255}for(a=0;a<j.length;a++){var h=d,t=j[a],f=e,u=t.coords,n=t.colors,z=void 0,A=void 0;switch(t.type){case "lattice":for(var t=t.verticesPerRow,A=Math.floor(u.length/t)-1,w=t-1,
z=0;z<A;z++)for(var p=z*t,K=0;K<w;K++,p++)c(h,f,u[p],u[p+1],u[p+t],n[p],n[p+1],n[p+t]),c(h,f,u[p+t+1],u[p+1],u[p+t],n[p+t+1],n[p+1],n[p+t]);break;case "triangles":z=0;for(A=u.length;z<A;z+=3)c(h,f,u[z],u[z+1],u[z+2],n[z],n[z+1],n[z+2]);break;default:throw Error("illegal figure");}}v.putImageData(d,2,2)}j=l.canvas;return{canvas:j,offsetX:q-2*g,offsetY:y-2*b,scaleX:g,scaleY:b}}}();j.Mesh={fromIR:function(c){var b=c[2],d=c[3],f=c[4],j=c[5],x=c[6],h=c[8];return{type:"Pattern",getPattern:function(c,m,
q){var y;if(q)y=l.Util.singularValueDecompose2dScale(c.mozCurrentTransform);else if(y=l.Util.singularValueDecompose2dScale(m.baseTransform),x){var g=l.Util.singularValueDecompose2dScale(x);y=[y[0]*g[0],y[1]*g[1]]}y=e(j,y,b,d,f,q?null:h,m.cachedCanvases,m.webGLContext);q||(c.setTransform.apply(c,m.baseTransform),x&&c.transform.apply(c,x));c.translate(y.offsetX,y.offsetY);c.scale(y.scaleX,y.scaleY);return c.createPattern(y.canvas,"no-repeat")}}}};j.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};
f=function(){function c(b,d,e,f,j){this.operatorList=b[2];this.matrix=b[3]||[1,0,0,1,0,0];this.bbox=b[4];this.xstep=b[5];this.ystep=b[6];this.paintType=b[7];this.tilingType=b[8];this.color=d;this.canvasGraphicsFactory=f;this.baseTransform=j;this.type="Pattern";this.ctx=e}c.prototype={createPatternCanvas:function(b){var c=this.operatorList,d=this.bbox,e=this.xstep,f=this.ystep,h=this.paintType,j=this.tilingType,m=this.color,q=this.canvasGraphicsFactory;(0,l.info)("TilingType: "+j);var j=d[0],y=d[1],
g=d[2],a=d[3],u=[j,y],t=[j+e,y+f],n=t[0]-u[0],t=t[1]-u[1],z=l.Util.singularValueDecompose2dScale(this.matrix),A=l.Util.singularValueDecompose2dScale(this.baseTransform),z=[z[0]*A[0],z[1]*A[1]],n=Math.min(Math.ceil(Math.abs(n*z[0])),3E3),t=Math.min(Math.ceil(Math.abs(t*z[1])),3E3),z=b.cachedCanvases.getCanvas("pattern",n,t,!0),q=q.createCanvasGraphics(z.context);q.groupLevel=b.groupLevel;this.setFillAndStrokeStyleToContext(q,h,m);this.setScale(n,t,e,f);this.transformToScale(q);q.transform.apply(q,
[1,0,0,1,-u[0],-u[1]]);this.clipBbox(q,d,j,y,g,a);q.executeOperatorList(c);return z.canvas},setScale:function(b,c,d,e){this.scale=[b/d,c/e]},transformToScale:function(b){var c=this.scale;b.transform.apply(b,[c[0],0,0,c[1],0,0])},scaleToContext:function(){var b=this.scale;this.ctx.scale(1/b[0],1/b[1])},clipBbox:function(b,c,d,e,f,h){Array.isArray(c)&&4===c.length&&(b.ctx.rect(d,e,f-d,h-e),b.clip(),b.endPath())},setFillAndStrokeStyleToContext:function(b,c,d){var e=b.ctx,b=b.current;switch(c){case 1:c=
this.ctx;e.fillStyle=c.fillStyle;e.strokeStyle=c.strokeStyle;b.fillColor=c.fillStyle;b.strokeColor=c.strokeStyle;break;case 2:c=l.Util.makeCssRgb(d[0],d[1],d[2]);e.fillStyle=c;e.strokeStyle=c;b.fillColor=c;b.strokeColor=c;break;default:throw new l.FormatError("Unsupported paint type: "+c);}},getPattern:function(b,c){var d=this.createPatternCanvas(c),b=this.ctx;b.setTransform.apply(b,this.baseTransform);b.transform.apply(b,this.matrix);this.scaleToContext();return b.createPattern(d,"repeat")}};return c}();
d.getShadingPatternFromIR=function(c){var b=j[c[0]];if(!b)throw Error("Unknown IR type: "+c[0]);return b.fromIR(c)};d.TilingPattern=f},function(f,d,c){Object.defineProperty(d,"__esModule",{value:!0});d.PDFDataTransportStream=void 0;var l=c(0),f=function(){function c(b,d){var e=this;(0,l.assert)(d);this._queuedChunks=[];var f=b.initialData;f&&0<f.length&&this._queuedChunks.push((new Uint8Array(f)).buffer);this._pdfDataRangeTransport=d;this._isRangeSupported=!b.disableRange;this._isStreamingSupported=
!b.disableStream;this._contentLength=b.length;this._fullRequestReader=null;this._rangeReaders=[];this._pdfDataRangeTransport.addRangeListener(function(b,c){e._onReceiveData({begin:b,chunk:c})});this._pdfDataRangeTransport.addProgressListener(function(b){e._onProgress({loaded:b})});this._pdfDataRangeTransport.addProgressiveReadListener(function(b){e._onReceiveData({chunk:b})});this._pdfDataRangeTransport.transportReady()}function d(b,c){this._stream=b;this._done=!1;this._filename=null;this._queuedChunks=
c||[];this._requests=[];this._headersReady=Promise.resolve();b._fullRequestReader=this;this.onProgress=null}function f(b,c,d){this._stream=b;this._begin=c;this._end=d;this._queuedChunk=null;this._requests=[];this._done=!1;this.onProgress=null}c.prototype={_onReceiveData:function(b){var c=(new Uint8Array(b.chunk)).buffer;if(void 0===b.begin)this._fullRequestReader?this._fullRequestReader._enqueue(c):this._queuedChunks.push(c);else{var d=this._rangeReaders.some(function(d){if(d._begin!==b.begin)return!1;
d._enqueue(c);return!0});(0,l.assert)(d)}},_onProgress:function(b){if(0<this._rangeReaders.length){var c=this._rangeReaders[0];if(c.onProgress)c.onProgress({loaded:b.loaded})}},_removeRangeReader:function(b){b=this._rangeReaders.indexOf(b);0<=b&&this._rangeReaders.splice(b,1)},getFullReader:function(){(0,l.assert)(!this._fullRequestReader);var b=this._queuedChunks;this._queuedChunks=null;return new d(this,b)},getRangeReader:function(b,c){var d=new f(this,b,c);this._pdfDataRangeTransport.requestDataRange(b,
c);this._rangeReaders.push(d);return d},cancelAllRequests:function(b){this._fullRequestReader&&this._fullRequestReader.cancel(b);this._rangeReaders.slice(0).forEach(function(c){c.cancel(b)});this._pdfDataRangeTransport.abort()}};d.prototype={_enqueue:function(b){this._done||(0<this._requests.length?this._requests.shift().resolve({value:b,done:!1}):this._queuedChunks.push(b))},get headersReady(){return this._headersReady},get filename(){return this._filename},get isRangeSupported(){return this._stream._isRangeSupported},
get isStreamingSupported(){return this._stream._isStreamingSupported},get contentLength(){return this._stream._contentLength},read:function(){if(0<this._queuedChunks.length){var b=this._queuedChunks.shift();return Promise.resolve({value:b,done:!1})}if(this._done)return Promise.resolve({value:void 0,done:!0});b=(0,l.createPromiseCapability)();this._requests.push(b);return b.promise},cancel:function(){this._done=!0;this._requests.forEach(function(b){b.resolve({value:void 0,done:!0})});this._requests=
[]}};f.prototype={_enqueue:function(b){this._done||(0===this._requests.length?this._queuedChunk=b:(this._requests.shift().resolve({value:b,done:!1}),this._requests.forEach(function(b){b.resolve({value:void 0,done:!0})}),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))},get isStreamingSupported(){return!1},read:function(){if(this._queuedChunk){var b=this._queuedChunk;this._queuedChunk=null;return Promise.resolve({value:b,done:!1})}if(this._done)return Promise.resolve({value:void 0,
done:!0});b=(0,l.createPromiseCapability)();this._requests.push(b);return b.promise},cancel:function(){this._done=!0;this._requests.forEach(function(b){b.resolve({value:void 0,done:!0})});this._requests=[];this._stream._removeRangeReader(this)}};return c}();d.PDFDataTransportStream=f},function(f,d,c){Object.defineProperty(d,"__esModule",{value:!0});d.WebGLContext=void 0;var l=function(){function c(b,d){for(var e=0;e<d.length;e++){var f=d[e];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in
f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}return function(b,d,e){d&&c(b.prototype,d);e&&c(b,e);return b}}(),j=c(0),f=function(){function c(b){b=b.enable;b=void 0===b?!1:b;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this._enabled=!0===b}l(c,[{key:"composeSMask",value:function(b){return e.composeSMask(b.layer,b.mask,b.properties)}},{key:"drawFigures",value:function(b){return e.drawFigures(b.width,b.height,b.backgroundColor,b.figures,b.context)}},{key:"clear",
value:function(){e.cleanup()}},{key:"isEnabled",get:function(){var b=this._enabled;b&&(b=e.tryInitGL());return(0,j.shadow)(this,"isEnabled",b)}}]);return c}(),e=function(){function c(b,d,e){e=b.createShader(e);b.shaderSource(e,d);b.compileShader(e);if(!b.getShaderParameter(e,b.COMPILE_STATUS))throw b=b.getShaderInfoLog(e),Error("Error during shader compilation: "+b);return e}function b(b,c){for(var d=b.createProgram(),e=0,a=c.length;e<a;++e)b.attachShader(d,c[e]);b.linkProgram(d);if(!b.getProgramParameter(d,
b.LINK_STATUS))throw d=b.getProgramInfoLog(d),Error("Error during program linking: "+d);return d}function d(b,c,e){b.activeTexture(e);e=b.createTexture();b.bindTexture(b.TEXTURE_2D,e);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST);b.texImage2D(b.TEXTURE_2D,0,b.RGBA,b.RGBA,b.UNSIGNED_BYTE,c);return e}
function e(){f||(j=document.createElement("canvas"),f=j.getContext("webgl",{premultipliedalpha:!1}))}var f,j,h=null,l=null;return{tryInitGL:function(){try{return e(),!!f}catch(b){}return!1},composeSMask:function(l,q,s){var g=l.width,a=l.height;if(!h){var u,t;e();u=j;j=null;t=f;f=null;var n=c(t,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",
t.VERTEX_SHADER),z=c(t,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",
t.FRAGMENT_SHADER),A=b(t,[n,z]);t.useProgram(A);n={};n.gl=t;n.canvas=u;n.resolutionLocation=t.getUniformLocation(A,"u_resolution");n.positionLocation=t.getAttribLocation(A,"a_position");n.backdropLocation=t.getUniformLocation(A,"u_backdrop");n.subtypeLocation=t.getUniformLocation(A,"u_subtype");u=t.getAttribLocation(A,"a_texCoord");var z=t.getUniformLocation(A,"u_image"),A=t.getUniformLocation(A,"u_mask"),w=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,w);t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,
0,1,0,0,1,0,1,1,0,1,1]),t.STATIC_DRAW);t.enableVertexAttribArray(u);t.vertexAttribPointer(u,2,t.FLOAT,!1,0,0);t.uniform1i(z,0);t.uniform1i(A,1);h=n}t=h;n=t.canvas;u=t.gl;n.width=g;n.height=a;u.viewport(0,0,u.drawingBufferWidth,u.drawingBufferHeight);u.uniform2f(t.resolutionLocation,g,a);s.backdrop?u.uniform4f(t.resolutionLocation,s.backdrop[0],s.backdrop[1],s.backdrop[2],1):u.uniform4f(t.resolutionLocation,0,0,0,0);u.uniform1i(t.subtypeLocation,"Luminosity"===s.subtype?1:0);l=d(u,l,u.TEXTURE0);q=
d(u,q,u.TEXTURE1);s=u.createBuffer();u.bindBuffer(u.ARRAY_BUFFER,s);u.bufferData(u.ARRAY_BUFFER,new Float32Array([0,0,g,0,0,a,0,a,g,0,g,a]),u.STATIC_DRAW);u.enableVertexAttribArray(t.positionLocation);u.vertexAttribPointer(t.positionLocation,2,u.FLOAT,!1,0,0);u.clearColor(0,0,0,0);u.enable(u.BLEND);u.blendFunc(u.ONE,u.ONE_MINUS_SRC_ALPHA);u.clear(u.COLOR_BUFFER_BIT);u.drawArrays(u.TRIANGLES,0,6);u.flush();u.deleteTexture(l);u.deleteTexture(q);u.deleteBuffer(s);return n},drawFigures:function(d,h,r,
g,a){if(!l){var u,t;e();u=j;j=null;t=f;f=null;var n=c(t,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",
t.VERTEX_SHADER),z=c(t,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",t.FRAGMENT_SHADER),n=b(t,[n,
z]);t.useProgram(n);z={};z.gl=t;z.canvas=u;z.resolutionLocation=t.getUniformLocation(n,"u_resolution");z.scaleLocation=t.getUniformLocation(n,"u_scale");z.offsetLocation=t.getUniformLocation(n,"u_offset");z.positionLocation=t.getAttribLocation(n,"a_position");z.colorLocation=t.getAttribLocation(n,"a_color");l=z}u=l;t=u.canvas;n=u.gl;t.width=d;t.height=h;n.viewport(0,0,n.drawingBufferWidth,n.drawingBufferHeight);n.uniform2f(u.resolutionLocation,d,h);var d=0,A,w,p;A=0;for(w=g.length;A<w;A++)switch(g[A].type){case "lattice":p=
g[A].coords.length/g[A].verticesPerRow|0;d+=6*(p-1)*(g[A].verticesPerRow-1);break;case "triangles":d+=g[A].coords.length}var z=new Float32Array(2*d),h=new Uint8Array(3*d),K=a.coords,G=a.colors,H=0,F=0;A=0;for(w=g.length;A<w;A++){p=g[A];var M=p.coords,D=p.colors;switch(p.type){case "lattice":var L=p.verticesPerRow;p=M.length/L|0;for(var J=1;J<p;J++)for(var I=J*L+1,k=1;k<L;k++,I++)z[H]=K[M[I-L-1]],z[H+1]=K[M[I-L-1]+1],z[H+2]=K[M[I-L]],z[H+3]=K[M[I-L]+1],z[H+4]=K[M[I-1]],z[H+5]=K[M[I-1]+1],h[F]=G[D[I-
L-1]],h[F+1]=G[D[I-L-1]+1],h[F+2]=G[D[I-L-1]+2],h[F+3]=G[D[I-L]],h[F+4]=G[D[I-L]+1],h[F+5]=G[D[I-L]+2],h[F+6]=G[D[I-1]],h[F+7]=G[D[I-1]+1],h[F+8]=G[D[I-1]+2],z[H+6]=z[H+2],z[H+7]=z[H+3],z[H+8]=z[H+4],z[H+9]=z[H+5],z[H+10]=K[M[I]],z[H+11]=K[M[I]+1],h[F+9]=h[F+3],h[F+10]=h[F+4],h[F+11]=h[F+5],h[F+12]=h[F+6],h[F+13]=h[F+7],h[F+14]=h[F+8],h[F+15]=G[D[I]],h[F+16]=G[D[I]+1],h[F+17]=G[D[I]+2],H+=12,F+=18;break;case "triangles":p=0;for(L=M.length;p<L;p++)z[H]=K[M[p]],z[H+1]=K[M[p]+1],h[F]=G[D[p]],h[F+1]=
G[D[p]+1],h[F+2]=G[D[p]+2],H+=2,F+=3}}r?n.clearColor(r[0]/255,r[1]/255,r[2]/255,1):n.clearColor(0,0,0,0);n.clear(n.COLOR_BUFFER_BIT);r=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,r);n.bufferData(n.ARRAY_BUFFER,z,n.STATIC_DRAW);n.enableVertexAttribArray(u.positionLocation);n.vertexAttribPointer(u.positionLocation,2,n.FLOAT,!1,0,0);g=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,g);n.bufferData(n.ARRAY_BUFFER,h,n.STATIC_DRAW);n.enableVertexAttribArray(u.colorLocation);n.vertexAttribPointer(u.colorLocation,
3,n.UNSIGNED_BYTE,!1,0,0);n.uniform2f(u.scaleLocation,a.scaleX,a.scaleY);n.uniform2f(u.offsetLocation,a.offsetX,a.offsetY);n.drawArrays(n.TRIANGLES,0,d);n.flush();n.deleteBuffer(r);n.deleteBuffer(g);return t},cleanup:function(){h&&h.canvas&&(h.canvas.width=0,h.canvas.height=0);l&&l.canvas&&(l.canvas.width=0,l.canvas.height=0);l=h=null}}}();d.WebGLContext=f},function(f,d,c){function l(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"===
typeof b||"function"===typeof b)?b:a}function j(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function m(a,b){return{protocol:a.protocol,auth:a.auth,
host:a.hostname,port:a.port,path:a.path,method:"GET",headers:b}}Object.defineProperty(d,"__esModule",{value:!0});d.PDFNodeStream=void 0;var b=function(){function a(b,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(b,h.key,h)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),r=c(0),i=c(39),o=require("fs"),x=require("http"),h=require("https"),s=require("url"),v=/^file:\/\/\/[a-zA-Z]:\//,f=function(){function c(a){e(this,
c);this.source=a;this.url=s.parse(a.url);this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol;this.isFsUrl="file:"===this.url.protocol||!this.url.host;this.httpHeaders=this.isHttp&&a.httpHeaders||{};this._fullRequest=null;this._rangeRequestReaders=[]}b(c,[{key:"getFullReader",value:function(){(0,r.assert)(!this._fullRequest);return this._fullRequest=this.isFsUrl?new a(this):new y(this)}},{key:"getRangeReader",value:function(a,b){var c=this.isFsUrl?new u(this,a,b):new g(this,a,b);
this._rangeRequestReaders.push(c);return c}},{key:"cancelAllRequests",value:function(a){this._fullRequest&&this._fullRequest.cancel(a);this._rangeRequestReaders.slice(0).forEach(function(b){b.cancel(a)})}}]);return c}(),c=function(){function a(b){e(this,a);this._url=b.url;this._errored=this._done=!1;this.onProgress=this._reason=null;b=b.source;this._contentLength=b.length;this._loaded=0;this._filename=null;this._disableRange=b.disableRange||!1;this._rangeChunkSize=b.rangeChunkSize;!this._rangeChunkSize&&
!this._disableRange&&(this._disableRange=!0);this._isStreamingSupported=!b.disableStream;this._isRangeSupported=!b.disableRange;this._readableStream=null;this._readCapability=(0,r.createPromiseCapability)();this._headersCapability=(0,r.createPromiseCapability)()}b(a,[{key:"read",value:function(){var a=this;return this._readCapability.promise.then(function(){if(a._done)return Promise.resolve({value:void 0,done:!0});if(a._errored)return Promise.reject(a._reason);var b=a._readableStream.read();if(null===
b)return a._readCapability=(0,r.createPromiseCapability)(),a.read();a._loaded+=b.length;if(a.onProgress)a.onProgress({loaded:a._loaded,total:a._contentLength});b=(new Uint8Array(b)).buffer;return Promise.resolve({value:b,done:!1})})}},{key:"cancel",value:function(a){this._readableStream?this._readableStream.destroy(a):this._error(a)}},{key:"_error",value:function(a){this._errored=!0;this._reason=a;this._readCapability.resolve()}},{key:"_setReadableStream",value:function(a){var b=this;this._readableStream=
a;a.on("readable",function(){b._readCapability.resolve()});a.on("end",function(){a.destroy();b._done=!0;b._readCapability.resolve()});a.on("error",function(a){b._error(a)});!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled"));this._errored&&this._readableStream.destroy(this._reason)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},
{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return a}(),q=function(){function a(b){e(this,a);this._url=b.url;this._errored=this._done=!1;this.onProgress=this._reason=null;this._loaded=0;this._readableStream=null;this._readCapability=(0,r.createPromiseCapability)();this._isStreamingSupported=!b.source.disableStream}b(a,[{key:"read",value:function(){var a=this;return this._readCapability.promise.then(function(){if(a._done)return Promise.resolve({value:void 0,
done:!0});if(a._errored)return Promise.reject(a._reason);var b=a._readableStream.read();if(null===b)return a._readCapability=(0,r.createPromiseCapability)(),a.read();a._loaded+=b.length;if(a.onProgress)a.onProgress({loaded:a._loaded});b=(new Uint8Array(b)).buffer;return Promise.resolve({value:b,done:!1})})}},{key:"cancel",value:function(a){this._readableStream?this._readableStream.destroy(a):this._error(a)}},{key:"_error",value:function(a){this._errored=!0;this._reason=a;this._readCapability.resolve()}},
{key:"_setReadableStream",value:function(a){var b=this;this._readableStream=a;a.on("readable",function(){b._readCapability.resolve()});a.on("end",function(){a.destroy();b._done=!0;b._readCapability.resolve()});a.on("error",function(a){b._error(a)});this._errored&&this._readableStream.destroy(this._reason)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return a}(),y=function(a){function b(a){e(this,b);var c=l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,
a)),d=function(b){c._headersCapability.resolve();c._setReadableStream(b);var b=function(a){return c._readableStream.headers[a.toLowerCase()]},d=(0,i.validateRangeRequestCapabilities)({getResponseHeader:b,isHttp:a.isHttp,rangeChunkSize:c._rangeChunkSize,disableRange:c._disableRange}),h=d.suggestedLength;d.allowRangeRequests&&(c._isRangeSupported=!0);c._contentLength=h;c._filename=(0,i.extractFilenameFromHeader)(b)};c._request=null;c._request="http:"===c._url.protocol?x.request(m(c._url,a.httpHeaders),
d):h.request(m(c._url,a.httpHeaders),d);c._request.on("error",function(a){c._errored=!0;c._reason=a;c._headersCapability.reject(a)});c._request.end();return c}j(b,a);return b}(c),g=function(a){function b(a,c,d){e(this,b);var g=l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));g._httpHeaders={};for(var f in a.httpHeaders){var i=a.httpHeaders[f];"undefined"!==typeof i&&(g._httpHeaders[f]=i)}g._httpHeaders.Range="bytes="+c+"-"+(d-1);g._request=null;g._request="http:"===g._url.protocol?x.request(m(g._url,
g._httpHeaders),function(a){g._setReadableStream(a)}):h.request(m(g._url,g._httpHeaders),function(a){g._setReadableStream(a)});g._request.on("error",function(a){g._errored=!0;g._reason=a});g._request.end();return g}j(b,a);return b}(q),a=function(a){function b(a){e(this,b);var c=l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),d=decodeURIComponent(c._url.path);v.test(c._url.href)&&(d=d.replace(/^\//,""));o.lstat(d,function(a,b){a?(c._errored=!0,c._reason=a,c._headersCapability.reject(a)):
(c._contentLength=b.size,c._setReadableStream(o.createReadStream(d)),c._headersCapability.resolve())});return c}j(b,a);return b}(c),u=function(a){function b(a,c,d){e(this,b);var a=l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),h=decodeURIComponent(a._url.path);v.test(a._url.href)&&(h=h.replace(/^\//,""));a._setReadableStream(o.createReadStream(h,{start:c,end:d-1}));return a}j(b,a);return b}(q);d.PDFNodeStream=f},function(f,d){Object.defineProperty(d,"__esModule",{value:!0});var c=function(){return function(c,
d){if(Array.isArray(c))return c;if(Symbol.iterator in Object(c)){var e=[],f=!0,b=!1,r=void 0;try{for(var i=c[Symbol.iterator](),o;!(f=(o=i.next()).done)&&!(e.push(o.value),d&&e.length===d);f=!0);}catch(x){b=!0,r=x}finally{try{if(!f&&i["return"])i["return"]()}finally{if(b)throw r;}}return e}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();d.getFilenameFromContentDispositionHeader=function(d){function f(b,c){if(b){if(!/^[^\x00-\xFF]+$/.test(c))return c;try{for(var d=
new TextDecoder(b,{fatal:!0}),e=Array(c.length),j=0;j<c.length;++j)e[j]=c.charCodeAt(0);c=d.decode(new Uint8Array(e));i=!1}catch(l){/^utf-?8$/i.test(b)&&(c=decodeURIComponent(escape(c)),i=!1)}}return c}function e(b){return i&&/[\x80-\xff]/.test(b)?f("utf-8",b):b}function m(b){if('"'===b.charAt(0)){for(var b=b.slice(1).split('\\"'),c=0;c<b.length;++c){var d=b[c].indexOf('"');-1!==d&&(b[c]=b[c].slice(0,d),b.length=c+1);b[c]=b[c].replace(/\\(.)/g,"$1")}b=b.join('"')}return b}function b(b){var c=b.indexOf("'");
if(-1===c)return b;var d=b.slice(0,c),b=b.slice(c+1).replace(/^[^']*'/,"");return f(d,b)}function r(b){return"=?"!==b.slice(0,2)||/[\x00-\x19\x80-\xff]/.test(b)?b:b.replace(/=\?([\w\-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(b,c,d,e){if("q"===d||"Q"===d)return e=e.replace(/_/g," "),e=e.replace(/=([0-9a-fA-F]{2})/g,function(b,a){return String.fromCharCode(parseInt(a,16))}),f(c,e);try{return atob(e)}catch(i){return e}})}var i=!0,o=/(?:^|;)\s*filename\*\s*=\s*([^;\s]+)/i.exec(d);return o?(o=o[1],
d=m(o),d=unescape(d),d=b(d),d=r(d),e(d)):(o=function(d){for(var e=[],f=void 0,i=/(?:^|;)\s*filename\*((?!0\d)\d+)(\*?)\s*=\s*([^;\s]+)/ig;null!==(f=i.exec(d));){var j=c(f,4),f=j[1],l=j[2],j=j[3],f=parseInt(f,10);if(f in e){if(0===f)break}else e[f]=[l,j]}d=[];for(i=0;i<e.length&&i in e;++i)l=c(e[i],2),f=l[0],l=l[1],l=m(l),f&&(l=unescape(l),0===i&&(l=b(l))),d.push(l);return d.join("")}(d))?(d=r(o),e(d)):(o=/(?:^|;)\s*filename\s*=\s*([^;\s]+)/.exec(d))?(o=o[1],d=m(o),d=r(d),e(d)):""}},function(f,d,c){function l(b,
c){if(!(b instanceof c))throw new TypeError("Cannot call a class as a function");}function j(b,c){return{method:"GET",headers:b,mode:"cors",credentials:c?"include":"same-origin",redirect:"follow"}}Object.defineProperty(d,"__esModule",{value:!0});d.PDFFetchStream=void 0;var e=function(){function b(c,d){for(var e=0;e<d.length;e++){var f=d[e];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(c,f.key,f)}}return function(c,d,e){d&&b(c.prototype,d);e&&b(c,
e);return c}}(),m=c(0),b=c(39),f=function(){function b(c){l(this,b);this.source=c;this.httpHeaders=(this.isHttp=/^https?:/i.test(c.url))&&c.httpHeaders||{};this._fullRequestReader=null;this._rangeRequestReaders=[]}e(b,[{key:"getFullReader",value:function(){(0,m.assert)(!this._fullRequestReader);return this._fullRequestReader=new r(this)}},{key:"getRangeReader",value:function(b,c){var d=new i(this,b,c);this._rangeRequestReaders.push(d);return d}},{key:"cancelAllRequests",value:function(b){this._fullRequestReader&&
this._fullRequestReader.cancel(b);this._rangeRequestReaders.slice(0).forEach(function(c){c.cancel(b)})}}]);return b}(),r=function(){function c(d){var e=this;l(this,c);this._stream=d;this._reader=null;this._loaded=0;this._filename=null;d=d.source;this._withCredentials=d.withCredentials;this._contentLength=d.length;this._headersCapability=(0,m.createPromiseCapability)();this._disableRange=d.disableRange;this._rangeChunkSize=d.rangeChunkSize;!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=
!0);this._isRangeSupported=!d.disableRange;this._isStreamingSupported=!d.disableStream;this._headers=new Headers;for(var f in this._stream.httpHeaders){var i=this._stream.httpHeaders[f];"undefined"!==typeof i&&this._headers.append(f,i)}var q=d.url;fetch(q,j(this._headers,this._withCredentials)).then(function(c){if(!(0,b.validateResponseStatus)(c.status))throw(0,b.createResponseStatusError)(c.status,q);e._reader=c.body.getReader();e._headersCapability.resolve();var d=function(a){return c.headers.get(a)},
a=(0,b.validateRangeRequestCapabilities)({getResponseHeader:d,isHttp:e._stream.isHttp,rangeChunkSize:e._rangeChunkSize,disableRange:e._disableRange}),f=a.allowRangeRequests;e._contentLength=a.suggestedLength;e._isRangeSupported=f;e._filename=(0,b.extractFilenameFromHeader)(d);!e._isStreamingSupported&&e._isRangeSupported&&e.cancel(new m.AbortException("streaming is disabled"))}).catch(this._headersCapability.reject);this.onProgress=null}e(c,[{key:"read",value:function(){var b=this;return this._headersCapability.promise.then(function(){return b._reader.read().then(function(c){var d=
c.value;if(c=c.done)return Promise.resolve({value:d,done:c});b._loaded+=d.byteLength;if(b.onProgress)b.onProgress({loaded:b._loaded,total:b._contentLength});d=(new Uint8Array(d)).buffer;return Promise.resolve({value:d,done:!1})})})}},{key:"cancel",value:function(b){this._reader&&this._reader.cancel(b)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},
{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return c}(),i=function(){function c(d,e,f){var i=this;l(this,c);this._stream=d;this._reader=null;this._loaded=0;d=d.source;this._withCredentials=d.withCredentials;this._readCapability=(0,m.createPromiseCapability)();this._isStreamingSupported=!d.disableStream;this._headers=new Headers;for(var q in this._stream.httpHeaders){var r=this._stream.httpHeaders[q];
"undefined"!==typeof r&&this._headers.append(q,r)}this._headers.append("Range","bytes="+(e+"-"+(f-1)));var g=d.url;fetch(g,j(this._headers,this._withCredentials)).then(function(a){if(!(0,b.validateResponseStatus)(a.status))throw(0,b.createResponseStatusError)(a.status,g);i._readCapability.resolve();i._reader=a.body.getReader()});this.onProgress=null}e(c,[{key:"read",value:function(){var b=this;return this._readCapability.promise.then(function(){return b._reader.read().then(function(c){var d=c.value;
if(c=c.done)return Promise.resolve({value:d,done:c});b._loaded+=d.byteLength;if(b.onProgress)b.onProgress({loaded:b._loaded});d=(new Uint8Array(d)).buffer;return Promise.resolve({value:d,done:!1})})})}},{key:"cancel",value:function(b){this._reader&&this._reader.cancel(b)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return c}();d.PDFFetchStream=f},function(f,d,c){function l(b,c){this.url=b;c=c||{};this.httpHeaders=(this.isHttp=/^https?:/i.test(b))&&c.httpHeaders||
{};this.withCredentials=c.withCredentials||!1;this.getXhr=c.getXhr||function(){return new XMLHttpRequest};this.currXhrId=0;this.pendingRequests=Object.create(null);this.loadedRequests=Object.create(null)}function j(b){b=b.response;return"string"!==typeof b?b:(0,r.stringToBytes)(b).buffer}function e(b){this._source=b;this._manager=new l(b.url,{httpHeaders:b.httpHeaders,withCredentials:b.withCredentials});this._rangeChunkSize=b.rangeChunkSize;this._fullRequestReader=null;this._rangeRequestReaders=[]}
function m(b,c){this._manager=b;var d={onHeadersReceived:this._onHeadersReceived.bind(this),onProgressiveData:c.disableStream?null:this._onProgressiveData.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=c.url;this._fullRequestId=b.requestFull(d);this._headersReceivedCapability=(0,r.createPromiseCapability)();this._disableRange=c.disableRange||!1;this._contentLength=c.length;this._rangeChunkSize=c.rangeChunkSize;!this._rangeChunkSize&&
!this._disableRange&&(this._disableRange=!0);this._isRangeSupported=this._isStreamingSupported=!1;this._cachedChunks=[];this._requests=[];this._done=!1;this._storedError=void 0;this.onProgress=this._filename=null}function b(b,c,d){this._manager=b;var e={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=b.requestRange(c,d,e);this._requests=[];this._queuedChunk=null;this._done=!1;this.onClosed=this.onProgress=null}Object.defineProperty(d,"__esModule",{value:!0});
d.NetworkManager=d.PDFNetworkStream=void 0;var r=c(0),i=c(39),o=(f=c(14))&&f.__esModule?f:{"default":f},x=function(){try{var b=new XMLHttpRequest;b.open("GET",o.default.location.href);b.responseType="moz-chunked-arraybuffer";return"moz-chunked-arraybuffer"===b.responseType}catch(c){return!1}}();l.prototype={requestRange:function(b,c,d){var b={begin:b,end:c},e;for(e in d)b[e]=d[e];return this.request(b)},requestFull:function(b){return this.request(b)},request:function(b){var c=this.getXhr(),d=this.currXhrId++,
e=this.pendingRequests[d]={xhr:c};c.open("GET",this.url);c.withCredentials=this.withCredentials;for(var f in this.httpHeaders){var g=this.httpHeaders[f];"undefined"!==typeof g&&c.setRequestHeader(f,g)}this.isHttp&&"begin"in b&&"end"in b?(c.setRequestHeader("Range","bytes="+(b.begin+"-"+(b.end-1))),e.expectedStatus=206):e.expectedStatus=200;x&&b.onProgressiveData?(c.responseType="moz-chunked-arraybuffer",e.onProgressiveData=b.onProgressiveData,e.mozChunked=!0):c.responseType="arraybuffer";b.onError&&
(c.onerror=function(){b.onError(c.status)});c.onreadystatechange=this.onStateChange.bind(this,d);c.onprogress=this.onProgress.bind(this,d);e.onHeadersReceived=b.onHeadersReceived;e.onDone=b.onDone;e.onError=b.onError;e.onProgress=b.onProgress;c.send(null);return d},onProgress:function(b,c){var d=this.pendingRequests[b];if(d){if(d.mozChunked){var e=j(d.xhr);d.onProgressiveData(e)}(d=d.onProgress)&&d(c)}},onStateChange:function(b){var c=this.pendingRequests[b];if(c){var d=c.xhr;2<=d.readyState&&c.onHeadersReceived&&
(c.onHeadersReceived(),delete c.onHeadersReceived);if(4===d.readyState&&b in this.pendingRequests)if(delete this.pendingRequests[b],0===d.status&&this.isHttp){if(c.onError)c.onError(d.status)}else{var e=d.status||200;if(!(200===e&&206===c.expectedStatus)&&e!==c.expectedStatus){if(c.onError)c.onError(d.status)}else if(this.loadedRequests[b]=!0,b=j(d),206===e)d=/bytes (\d+)-(\d+)\/(\d+)/.exec(d.getResponseHeader("Content-Range")),d=parseInt(d[1],10),c.onDone({begin:d,chunk:b});else if(c.onProgressiveData)c.onDone(null);
else if(b)c.onDone({begin:0,chunk:b});else if(c.onError)c.onError(d.status)}}},hasPendingRequests:function(){for(var b in this.pendingRequests)return!0;return!1},getRequestXhr:function(b){return this.pendingRequests[b].xhr},isStreamingRequest:function(b){return!!this.pendingRequests[b].onProgressiveData},isPendingRequest:function(b){return b in this.pendingRequests},isLoadedRequest:function(b){return b in this.loadedRequests},abortAllRequests:function(){for(var b in this.pendingRequests)this.abortRequest(b|
0)},abortRequest:function(b){var c=this.pendingRequests[b].xhr;delete this.pendingRequests[b];c.abort()}};e.prototype={_onRangeRequestReaderClosed:function(b){b=this._rangeRequestReaders.indexOf(b);0<=b&&this._rangeRequestReaders.splice(b,1)},getFullReader:function(){(0,r.assert)(!this._fullRequestReader);return this._fullRequestReader=new m(this._manager,this._source)},getRangeReader:function(c,d){var e=new b(this._manager,c,d);e.onClosed=this._onRangeRequestReaderClosed.bind(this);this._rangeRequestReaders.push(e);
return e},cancelAllRequests:function(b){this._fullRequestReader&&this._fullRequestReader.cancel(b);this._rangeRequestReaders.slice(0).forEach(function(c){c.cancel(b)})}};m.prototype={_onHeadersReceived:function(){var b=this._fullRequestId,c=this._manager.getRequestXhr(b),d=function(b){return c.getResponseHeader(b)},e=(0,i.validateRangeRequestCapabilities)({getResponseHeader:d,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),f=e.allowRangeRequests;this._contentLength=
e.suggestedLength||this._contentLength;f&&(this._isRangeSupported=!0);this._filename=(0,i.extractFilenameFromHeader)(d);d=this._manager;d.isStreamingRequest(b)?this._isStreamingSupported=!0:this._isRangeSupported&&d.abortRequest(b);this._headersReceivedCapability.resolve()},_onProgressiveData:function(b){0<this._requests.length?this._requests.shift().resolve({value:b,done:!1}):this._cachedChunks.push(b)},_onDone:function(b){b&&this._onProgressiveData(b.chunk);this._done=!0;0<this._cachedChunks.length||
(this._requests.forEach(function(b){b.resolve({value:void 0,done:!0})}),this._requests=[])},_onError:function(b){var c=this._url,d=(0,i.createResponseStatusError)(b,c);this._storedError=d;this._headersReceivedCapability.reject(d);this._requests.forEach(function(b){b.reject(d)});this._requests=[];this._cachedChunks=[]},_onProgress:function(b){if(this.onProgress)this.onProgress({loaded:b.loaded,total:b.lengthComputable?b.total:this._contentLength})},get filename(){return this._filename},get isRangeSupported(){return this._isRangeSupported},
get isStreamingSupported(){return this._isStreamingSupported},get contentLength(){return this._contentLength},get headersReady(){return this._headersReceivedCapability.promise},read:function(){if(this._storedError)return Promise.reject(this._storedError);if(0<this._cachedChunks.length){var b=this._cachedChunks.shift();return Promise.resolve({value:b,done:!1})}if(this._done)return Promise.resolve({value:void 0,done:!0});b=(0,r.createPromiseCapability)();this._requests.push(b);return b.promise},cancel:function(b){this._done=
!0;this._headersReceivedCapability.reject(b);this._requests.forEach(function(b){b.resolve({value:void 0,done:!0})});this._requests=[];this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId);this._fullRequestReader=null}};b.prototype={_close:function(){if(this.onClosed)this.onClosed(this)},_onDone:function(b){b=b.chunk;0<this._requests.length?this._requests.shift().resolve({value:b,done:!1}):this._queuedChunk=b;this._done=!0;this._requests.forEach(function(b){b.resolve({value:void 0,
done:!0})});this._requests=[];this._close()},_onProgress:function(b){if(!this.isStreamingSupported&&this.onProgress)this.onProgress({loaded:b.loaded})},get isStreamingSupported(){return!1},read:function(){if(null!==this._queuedChunk){var b=this._queuedChunk;this._queuedChunk=null;return Promise.resolve({value:b,done:!1})}if(this._done)return Promise.resolve({value:void 0,done:!0});b=(0,r.createPromiseCapability)();this._requests.push(b);return b.promise},cancel:function(){this._done=!0;this._requests.forEach(function(b){b.resolve({value:void 0,
done:!0})});this._requests=[];this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId);this._close()}};d.PDFNetworkStream=e;d.NetworkManager=l}])});
