(function(j,b){"object"===typeof exports&&"object"===typeof module?module.exports=b():"function"===typeof define&&define.amd?define("pdfjs-dist/build/pdf",[],b):"object"===typeof exports?exports["pdfjs-dist/build/pdf"]=b():j["pdfjs-dist/build/pdf"]=j.pdfjsDistBuildPdf=b()})(this,function(){return function(j){function b(k){if(d[k])return d[k].exports;var e=d[k]={i:k,l:!1,exports:{}};j[k].call(e.exports,e,e.exports,b);e.l=!0;return e.exports}var d={};b.m=j;b.c=d;b.i=function(b){return b};b.d=function(d,
e,i){b.o(d,e)||Object.defineProperty(d,e,{configurable:!1,enumerable:!0,get:i})};b.n=function(d){var e=d&&d.__esModule?function(){return d["default"]}:function(){return d};b.d(e,"a",e);return e};b.o=function(b,e){return Object.prototype.hasOwnProperty.call(b,e)};b.p="";return b(b.s=87)}([function(j,b,d){function k(a){r>=c.warnings&&console.log("Warning: "+a)}function e(a){throw Error(a);}function i(a,c){a||e(c)}function n(a){i("string"===typeof a,"Invalid argument for stringToBytes");for(var c=a.length,
o=new Uint8Array(c),f=0;f<c;++f)o[f]=a.charCodeAt(f)&255;return o}function l(a){if(void 0!==a.length)return a.length;i(void 0!==a.byteLength);return a.byteLength}function p(){var a={};a.promise=new Promise(function(c,o){a.resolve=c;a.reject=o});return a}function w(a,c){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return!a?Promise.resolve(void 0):new Promise(function(f){f(a.apply(o,c))})}function h(a){if("object"!==("undefined"===typeof a?"undefined":y(a)))return a;switch(a.name){case "AbortException":return new A(a.message);
case "MissingPDFException":return new g(a.message);case "UnexpectedResponseException":return new f(a.message,a.status);default:return new m(a.message,a.details)}}function x(a,c,o){c?a.resolve():a.reject(o)}function q(a){return Promise.resolve(a).catch(function(){})}function u(a,c,o){var S=this;this.sourceName=a;this.targetName=c;this.comObj=o;this.streamId=this.callbackId=1;this.postMessageTransfers=!0;this.streamSinks=Object.create(null);this.streamControllers=Object.create(null);var s=this.callbacksCapabilities=
Object.create(null),r=this.actionHandler=Object.create(null);this._onComObjOnMessage=function(a){var c=a.data;if(c.targetName===S.sourceName)if(c.stream)S._processStreamMessage(c);else if(c.isReply)if(a=c.callbackId,c.callbackId in s){var D=s[a];delete s[a];"error"in c?D.reject(h(c.error)):D.resolve(c.data)}else throw Error("Cannot resolve callback "+a);else if(c.action in r){var t=r[c.action];if(c.callbackId){var e=S.sourceName,b=c.sourceName;Promise.resolve().then(function(){return t[0].call(t[1],
c.data)}).then(function(a){o.postMessage({sourceName:e,targetName:b,isReply:!0,callbackId:c.callbackId,data:a})},function(a){o.postMessage({sourceName:e,targetName:b,isReply:!0,callbackId:c.callbackId,error:!(a instanceof Error)||a instanceof A||a instanceof g||a instanceof f||a instanceof m?a:new m(a.message,a.toString())})})}else c.streamId?S._createStreamSink(c):t[0].call(t[1],c.data)}else throw Error("Unknown action from worker: "+c.action);};o.addEventListener("message",this._onComObjOnMessage)}
Object.defineProperty(b,"__esModule",{value:!0});b.unreachable=b.warn=b.utf8StringToString=b.stringToUTF8String=b.stringToPDFString=b.stringToBytes=b.string32=b.shadow=b.setVerbosityLevel=b.ReadableStream=b.removeNullCharacters=b.readUint32=b.readUint16=b.readInt8=b.log2=b.loadJpegStream=b.isEvalSupported=b.isLittleEndian=b.createValidAbsoluteUrl=b.isSameOrigin=b.isNodeJS=b.isSpace=b.isString=b.isNum=b.isEmptyObj=b.isBool=b.isArrayBuffer=b.info=b.getVerbosityLevel=b.getLookupTableFactory=b.deprecated=
b.createObjectURL=b.createPromiseCapability=b.createBlob=b.bytesToString=b.assert=b.arraysToBytes=b.arrayByteLength=b.FormatError=b.XRefParseException=b.Util=b.UnknownErrorException=b.UnexpectedResponseException=b.TextRenderingMode=b.StreamType=b.StatTimer=b.PasswordResponses=b.PasswordException=b.PageViewport=b.NotImplementedException=b.NativeImageDecoding=b.MissingPDFException=b.MissingDataException=b.MessageHandler=b.InvalidPDFException=b.AbortException=b.CMapCompressionType=b.ImageKind=b.FontType=
b.AnnotationType=b.AnnotationFlag=b.AnnotationFieldFlag=b.AnnotationBorderStyleType=b.UNSUPPORTED_FEATURES=b.VERBOSITY_LEVELS=b.OPS=b.IDENTITY_MATRIX=b.FONT_IDENTITY_MATRIX=void 0;var y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};d(88);var a=d(89),c={errors:0,warnings:1,infos:5},r=c.warnings,j=function(){function a(c,D){this.name="PasswordException";
this.message=c;this.code=D}a.prototype=Error();return a.constructor=a}(),m=function(){function a(c,D){this.name="UnknownErrorException";this.message=c;this.details=D}a.prototype=Error();return a.constructor=a}(),d=function(){function a(c){this.name="InvalidPDFException";this.message=c}a.prototype=Error();return a.constructor=a}(),g=function(){function a(c){this.name="MissingPDFException";this.message=c}a.prototype=Error();return a.constructor=a}(),f=function(){function a(c,D){this.name="UnexpectedResponseException";
this.message=c;this.status=D}a.prototype=Error();return a.constructor=a}(),E=function(){function a(c){this.message=c}a.prototype=Error();a.prototype.name="NotImplementedException";return a.constructor=a}(),G=function(){function a(c,D){this.begin=c;this.end=D;this.message="Missing data ["+c+", "+D+")"}a.prototype=Error();a.prototype.name="MissingDataException";return a.constructor=a}(),B=function(){function a(c){this.message=c}a.prototype=Error();a.prototype.name="XRefParseException";return a.constructor=
a}(),z=function(){function a(c){this.message=c}a.prototype=Error();a.prototype.name="FormatError";return a.constructor=a}(),A=function(){function a(c){this.name="AbortException";this.message=c}a.prototype=Error();return a.constructor=a}(),t=/\x00/g,o=function(){function a(){}var c=["rgb(",0,",",0,",",0,")"];a.makeCssRgb=function(a,o,f){c[1]=a;c[3]=o;c[5]=f;return c.join("")};a.transform=function(a,c){return[a[0]*c[0]+a[2]*c[1],a[1]*c[0]+a[3]*c[1],a[0]*c[2]+a[2]*c[3],a[1]*c[2]+a[3]*c[3],a[0]*c[4]+
a[2]*c[5]+a[4],a[1]*c[4]+a[3]*c[5]+a[5]]};a.applyTransform=function(a,c){return[a[0]*c[0]+a[1]*c[2]+c[4],a[0]*c[1]+a[1]*c[3]+c[5]]};a.applyInverseTransform=function(a,c){var o=c[0]*c[3]-c[1]*c[2];return[(a[0]*c[3]-a[1]*c[2]+c[2]*c[5]-c[4]*c[3])/o,(-a[0]*c[1]+a[1]*c[0]+c[4]*c[1]-c[5]*c[0])/o]};a.getAxialAlignedBoundingBox=function(c,o){var f=a.applyTransform(c,o),g=a.applyTransform(c.slice(2,4),o),s=a.applyTransform([c[0],c[3]],o),t=a.applyTransform([c[2],c[1]],o);return[Math.min(f[0],g[0],s[0],t[0]),
Math.min(f[1],g[1],s[1],t[1]),Math.max(f[0],g[0],s[0],t[0]),Math.max(f[1],g[1],s[1],t[1])]};a.inverseTransform=function(a){var c=a[0]*a[3]-a[1]*a[2];return[a[3]/c,-a[1]/c,-a[2]/c,a[0]/c,(a[2]*a[5]-a[4]*a[3])/c,(a[4]*a[1]-a[5]*a[0])/c]};a.apply3dTransform=function(a,c){return[a[0]*c[0]+a[1]*c[1]+a[2]*c[2],a[3]*c[0]+a[4]*c[1]+a[5]*c[2],a[6]*c[0]+a[7]*c[1]+a[8]*c[2]]};a.singularValueDecompose2dScale=function(a){var c=[a[0],a[2],a[1],a[3]],o=a[0]*c[0]+a[1]*c[2],f=a[2]*c[1]+a[3]*c[3],D=(o+f)/2,a=Math.sqrt((o+
f)*(o+f)-4*(o*f-(a[2]*c[0]+a[3]*c[2])*(a[0]*c[1]+a[1]*c[3])))/2,c=D-a||1;return[Math.sqrt(D+a||1),Math.sqrt(c)]};a.normalizeRect=function(a){var c=a.slice(0);a[0]>a[2]&&(c[0]=a[2],c[2]=a[0]);a[1]>a[3]&&(c[1]=a[3],c[3]=a[1]);return c};a.intersect=function(c,o){function f(a,c){return a-c}var g=[c[0],c[2],o[0],o[2]].sort(f),s=[c[1],c[3],o[1],o[3]].sort(f),t=[],c=a.normalizeRect(c),o=a.normalizeRect(o);if(g[0]===c[0]&&g[1]===o[0]||g[0]===o[0]&&g[1]===c[0])t[0]=g[1],t[2]=g[2];else return!1;if(s[0]===c[1]&&
s[1]===o[1]||s[0]===o[1]&&s[1]===c[1])t[1]=s[1],t[3]=s[2];else return!1;return t};a.sign=function(a){return 0>a?-1:1};var o=" C CC CCC CD D DC DCC DCCC CM  X XX XXX XL L LX LXX LXXX XC  I II III IV V VI VII VIII IX".split(" ");a.toRoman=function(a,c){i(Number.isInteger(a)&&0<a,"The number should be a positive integer.");for(var f,D=[];1E3<=a;)a-=1E3,D.push("M");f=a/100|0;a%=100;D.push(o[f]);f=a/10|0;a%=10;D.push(o[10+f]);D.push(o[20+a]);f=D.join("");return c?f.toLowerCase():f};a.appendToArray=function(a,
c){Array.prototype.push.apply(a,c)};a.prependToArray=function(a,c){Array.prototype.unshift.apply(a,c)};a.extendObj=function(a,c){for(var o in c)a[o]=c[o]};a.getInheritableProperty=function(a,c,o){for(;a&&!a.has(c);)a=a.get("Parent");return!a?null:o?a.getArray(c):a.get(c)};a.inherit=function(a,c,o){a.prototype=Object.create(c.prototype);a.prototype.constructor=a;for(var f in o)a.prototype[f]=o[f]};a.loadScript=function(a,c){var o=document.createElement("script"),f=!1;o.setAttribute("src",a);c&&(o.onload=
function(){f||c();f=!0});document.getElementsByTagName("head")[0].appendChild(o)};return a}(),s=function(){function a(c,o,f,D,g,s){this.viewBox=c;this.scale=o;this.rotation=f;this.offsetX=D;this.offsetY=g;var t=(c[2]+c[0])/2,r=(c[3]+c[1])/2,m,e,b,f=f%360;switch(0>f?f+360:f){case 180:f=-1;e=m=0;b=1;break;case 90:f=0;e=m=1;b=0;break;case 270:f=0;e=m=-1;b=0;break;default:f=1,e=m=0,b=-1}s&&(e=-e,b=-b);0===f?(D=Math.abs(r-c[1])*o+D,g=Math.abs(t-c[0])*o+g,s=Math.abs(c[3]-c[1])*o,c=Math.abs(c[2]-c[0])*o):
(D=Math.abs(t-c[0])*o+D,g=Math.abs(r-c[1])*o+g,s=Math.abs(c[2]-c[0])*o,c=Math.abs(c[3]-c[1])*o);this.transform=[f*o,m*o,e*o,b*o,D-f*o*t-e*o*r,g-m*o*t-b*o*r];this.width=s;this.height=c;this.fontScale=o}a.prototype={clone:function(c){var c=c||{},o="scale"in c?c.scale:this.scale,f="rotation"in c?c.rotation:this.rotation;return new a(this.viewBox.slice(),o,f,this.offsetX,this.offsetY,c.dontFlip)},convertToViewportPoint:function(a,c){return o.applyTransform([a,c],this.transform)},convertToViewportRectangle:function(a){var c=
o.applyTransform([a[0],a[1]],this.transform),a=o.applyTransform([a[2],a[3]],this.transform);return[c[0],c[1],a[0],a[1]]},convertToPdfPoint:function(a,c){return o.applyInverseTransform([a,c],this.transform)}};return a}(),J=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,
8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],H=function(){function a(){this.started=Object.create(null);this.times=[];this.enabled=!0}a.prototype={time:function(a){this.enabled&&(a in this.started&&k("Timer is already running for "+a),this.started[a]=Date.now())},timeEnd:function(a){this.enabled&&(a in this.started||k("Timer has not been started for "+a),this.times.push({name:a,start:this.started[a],
end:Date.now()}),delete this.started[a])},toString:function(){var a,c,o=this.times,f="",D=0;a=0;for(c=o.length;a<c;++a){var g=o[a].name;g.length>D&&(D=g.length)}a=0;for(c=o.length;a<c;++a){for(var s=o[a],g=s.end-s.start,s=s.name;s.length<D;)s+=" ";f+=s+" "+g+"ms\n"}return f}};return a}(),K=function(a,c){if("undefined"!==typeof Blob)return new Blob([a],{type:c});throw Error('The "Blob" constructor is not supported.');},M=function(){return function(a,c){if((!(2<arguments.length&&void 0!==arguments[2])||
!arguments[2])&&URL.createObjectURL){var o=K(a,c);return URL.createObjectURL(o)}for(var o="data:"+c+";base64,",f=0,g=a.length;f<g;f+=3)var s=a[f]&255,t=a[f+1]&255,r=a[f+2]&255,o=o+("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[s>>2]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[(s&3)<<4|t>>4]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[f+1<g?(t&15)<<2|r>>6:64]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[f+
2<g?r&63:64]);return o}}();u.prototype={on:function(a,c,o){var f=this.actionHandler;if(f[a])throw Error('There is already an actionName called "'+a+'"');f[a]=[c,o]},send:function(a,c,o){this.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:a,data:c},o)},sendWithPromise:function(a,c,o){var f=this.callbackId++,a={sourceName:this.sourceName,targetName:this.targetName,action:a,data:c,callbackId:f},c=p();this.callbacksCapabilities[f]=c;try{this.postMessage(a,o)}catch(g){c.reject(g)}return c.promise},
sendWithStream:function(c,o,f){var g=this,s=this.streamId++,t=this.sourceName,r=this.targetName;return new a.ReadableStream({start:function(a){var f=p();g.streamControllers[s]={controller:a,startCall:f,isClosed:!1};g.postMessage({sourceName:t,targetName:r,action:c,streamId:s,data:o,desiredSize:a.desiredSize});return f.promise},pull:function(a){var c=p();g.streamControllers[s].pullCall=c;g.postMessage({sourceName:t,targetName:r,stream:"pull",streamId:s,desiredSize:a.desiredSize});return c.promise},
cancel:function(a){var c=p();g.streamControllers[s].cancelCall=c;g.streamControllers[s].isClosed=!0;g.postMessage({sourceName:t,targetName:r,stream:"cancel",reason:a,streamId:s});return c.promise}},f)},_createStreamSink:function(a){var c=this,o=this,f=this.actionHandler[a.action],g=a.streamId,s=a.desiredSize,t=this.sourceName,r=a.sourceName,m=function(a){c.postMessage({sourceName:t,targetName:r,stream:a.stream,streamId:g,chunk:a.chunk,success:a.success,reason:a.reason},a.transfers)},s={enqueue:function(a){var c=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,o=arguments[2];if(!this.isCancelled){var f=this.desiredSize;this.desiredSize-=c;0<f&&0>=this.desiredSize&&(this.sinkCapability=p(),this.ready=this.sinkCapability.promise);m({stream:"enqueue",chunk:a,transfers:o})}},close:function(){this.isCancelled||(this.isCancelled=!0,m({stream:"close"}),delete o.streamSinks[g])},error:function(a){this.isCancelled||(this.isCancelled=!0,m({stream:"error",reason:a}))},sinkCapability:p(),onPull:null,onCancel:null,
isCancelled:!1,desiredSize:s,ready:null};s.sinkCapability.resolve();s.ready=s.sinkCapability.promise;this.streamSinks[g]=s;w(f[0],[a.data,s],f[1]).then(function(){m({stream:"start_complete",success:!0})},function(a){m({stream:"start_complete",success:!1,reason:a})})},_processStreamMessage:function(a){var c=this,o=this.sourceName,f=a.sourceName,g=a.streamId,s=function(a){c.comObj.postMessage({sourceName:o,targetName:f,stream:a.stream,success:a.success,streamId:g,reason:a.reason})},t=function(){Promise.all([c.streamControllers[a.streamId].startCall,
c.streamControllers[a.streamId].pullCall,c.streamControllers[a.streamId].cancelCall].map(function(a){return a&&q(a.promise)})).then(function(){delete c.streamControllers[a.streamId]})};switch(a.stream){case "start_complete":x(this.streamControllers[a.streamId].startCall,a.success,h(a.reason));break;case "pull_complete":x(this.streamControllers[a.streamId].pullCall,a.success,h(a.reason));break;case "pull":if(!this.streamSinks[a.streamId]){s({stream:"pull_complete",success:!0});break}0>=this.streamSinks[a.streamId].desiredSize&&
0<a.desiredSize&&this.streamSinks[a.streamId].sinkCapability.resolve();this.streamSinks[a.streamId].desiredSize=a.desiredSize;w(this.streamSinks[a.streamId].onPull).then(function(){s({stream:"pull_complete",success:!0})},function(a){s({stream:"pull_complete",success:!1,reason:a})});break;case "enqueue":i(this.streamControllers[a.streamId],"enqueue should have stream controller");this.streamControllers[a.streamId].isClosed||this.streamControllers[a.streamId].controller.enqueue(a.chunk);break;case "close":i(this.streamControllers[a.streamId],
"close should have stream controller");if(this.streamControllers[a.streamId].isClosed)break;this.streamControllers[a.streamId].isClosed=!0;this.streamControllers[a.streamId].controller.close();t();break;case "error":i(this.streamControllers[a.streamId],"error should have stream controller");this.streamControllers[a.streamId].controller.error(h(a.reason));t();break;case "cancel_complete":x(this.streamControllers[a.streamId].cancelCall,a.success,h(a.reason));t();break;case "cancel":if(!this.streamSinks[a.streamId])break;
w(this.streamSinks[a.streamId].onCancel,[h(a.reason)]).then(function(){s({stream:"cancel_complete",success:!0})},function(a){s({stream:"cancel_complete",success:!1,reason:a})});this.streamSinks[a.streamId].sinkCapability.reject(h(a.reason));this.streamSinks[a.streamId].isCancelled=!0;delete this.streamSinks[a.streamId];break;default:throw Error("Unexpected stream case");}},postMessage:function(a,c){c&&this.postMessageTransfers?this.comObj.postMessage(a,c):this.comObj.postMessage(a)},destroy:function(){this.comObj.removeEventListener("message",
this._onComObjOnMessage)}};b.FONT_IDENTITY_MATRIX=[0.001,0,0,0.001,0,0];b.IDENTITY_MATRIX=[1,0,0,1,0,0];b.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,
endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,
setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,
paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};b.VERBOSITY_LEVELS=c;b.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"};b.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};b.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,
COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};b.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};b.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,
POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};b.FontType={UNKNOWN:0,TYPE1:1,TYPE1C:2,CIDFONTTYPE0:3,CIDFONTTYPE0C:4,TRUETYPE:5,CIDFONTTYPE2:6,TYPE3:7,OPENTYPE:8,TYPE0:9,MMTYPE1:10};b.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};b.CMapCompressionType={NONE:0,BINARY:1,STREAM:2};b.AbortException=A;b.InvalidPDFException=d;b.MessageHandler=u;b.MissingDataException=G;b.MissingPDFException=g;b.NativeImageDecoding={NONE:"none",
DECODE:"decode",DISPLAY:"display"};b.NotImplementedException=E;b.PageViewport=s;b.PasswordException=j;b.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};b.StatTimer=H;b.StreamType={UNKNOWN:0,FLATE:1,LZW:2,DCT:3,JPX:4,JBIG:5,A85:6,AHX:7,CCF:8,RL:9};b.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};b.UnexpectedResponseException=f;b.UnknownErrorException=m;b.Util=
o;b.XRefParseException=B;b.FormatError=z;b.arrayByteLength=l;b.arraysToBytes=function(a){if(1===a.length&&a[0]instanceof Uint8Array)return a[0];var c=0,o,f=a.length,g,s;for(o=0;o<f;o++)g=a[o],s=l(g),c+=s;var t=0,c=new Uint8Array(c);for(o=0;o<f;o++)g=a[o],g instanceof Uint8Array||(g="string"===typeof g?n(g):new Uint8Array(g)),s=g.byteLength,c.set(g,t),t+=s;return c};b.assert=i;b.bytesToString=function(a){i(null!==a&&"object"===("undefined"===typeof a?"undefined":y(a))&&void 0!==a.length,"Invalid argument for bytesToString");
var c=a.length;if(8192>c)return String.fromCharCode.apply(null,a);for(var o=[],f=0;f<c;f+=8192){var g=Math.min(f+8192,c),g=a.subarray(f,g);o.push(String.fromCharCode.apply(null,g))}return o.join("")};b.createBlob=K;b.createPromiseCapability=p;b.createObjectURL=M;b.deprecated=function(a){console.log("Deprecated API usage: "+a)};b.getLookupTableFactory=function(a){var c;return function(){a&&(c=Object.create(null),a(c),a=null);return c}};b.getVerbosityLevel=function(){return r};b.info=function(a){r>=
c.infos&&console.log("Info: "+a)};b.isArrayBuffer=function(a){return"object"===("undefined"===typeof a?"undefined":y(a))&&null!==a&&void 0!==a.byteLength};b.isBool=function(a){return"boolean"===typeof a};b.isEmptyObj=function(a){for(var c in a)return!1;return!0};b.isNum=function(a){return"number"===typeof a};b.isString=function(a){return"string"===typeof a};b.isSpace=function(a){return 32===a||9===a||13===a||10===a};b.isNodeJS=function(){return"object"===("undefined"===typeof process?"undefined":
y(process))&&"[object process]"===process+""};b.isSameOrigin=function(a,c){try{var o=new URL(a);if(!o.origin||"null"===o.origin)return!1}catch(f){return!1}var g=new URL(c,o);return o.origin===g.origin};b.createValidAbsoluteUrl=function(a,c){if(!a)return null;try{var o=c?new URL(a,c):new URL(a),f;a:if(o)switch(o.protocol){case "http:":case "https:":case "ftp:":case "mailto:":case "tel:":f=!0;break a;default:f=!1}else f=!1;if(f)return o}catch(g){}return null};b.isLittleEndian=function(){var a=new Uint8Array(4);
a[0]=1;return 1===(new Uint32Array(a.buffer,0,1))[0]};b.isEvalSupported=function(){try{return new Function(""),!0}catch(a){return!1}};b.loadJpegStream=function(a,c,o){var f=new Image;f.onload=function(){o.resolve(a,f)};f.onerror=function(){o.resolve(a,null);k("Error during JPEG image loading")};f.src=c};b.log2=function(a){for(var c=1,o=0;a>c;)c<<=1,o++;return o};b.readInt8=function(a,c){return a[c]<<24>>24};b.readUint16=function(a,c){return a[c]<<8|a[c+1]};b.readUint32=function(a,c){return(a[c]<<
24|a[c+1]<<16|a[c+2]<<8|a[c+3])>>>0};b.removeNullCharacters=function(a){return"string"!==typeof a?(k("The argument for removeNullCharacters must be a string."),a):a.replace(t,"")};b.ReadableStream=a.ReadableStream;b.setVerbosityLevel=function(a){r=a};b.shadow=function(a,c,o){Object.defineProperty(a,c,{value:o,enumerable:!0,configurable:!0,writable:!1});return o};b.string32=function(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255)};b.stringToBytes=n;b.stringToPDFString=function(a){var c,
o=a.length,f=[];if("\u00fe"===a[0]&&"\u00ff"===a[1])for(c=2;c<o;c+=2)f.push(String.fromCharCode(a.charCodeAt(c)<<8|a.charCodeAt(c+1)));else for(c=0;c<o;++c){var g=J[a.charCodeAt(c)];f.push(g?String.fromCharCode(g):a.charAt(c))}return f.join("")};b.stringToUTF8String=function(a){return decodeURIComponent(escape(a))};b.utf8StringToString=function(a){return unescape(encodeURIComponent(a))};b.warn=k;b.unreachable=e},function(j,b,d){var k=d(49)("wks"),e=d(12),i=d(2).Symbol,n="function"==typeof i;(j.exports=
function(b){return k[b]||(k[b]=n&&i[b]||(n?i:e)("Symbol."+b))}).store=k},function(j){j=j.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=j)},function(j,b,d){j.exports=!d(16)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(j,b,d){var k=d(7),e=d(17);j.exports=d(3)?function(b,d,l){return k.f(b,d,e(1,l))}:function(e,b,d){e[b]=d;return e}},function(j){var b=
{}.hasOwnProperty;j.exports=function(d,k){return b.call(d,k)}},function(j,b,d){function k(e,b){if(!(e instanceof b))throw new TypeError("Cannot call a class as a function");}function e(e){var b=l.default.PDFJS;switch(e){case "pdfBug":return b?b.pdfBug:!1;case "disableAutoFetch":return b?b.disableAutoFetch:!1;case "disableStream":return b?b.disableStream:!1;case "disableRange":return b?b.disableRange:!1;case "disableFontFace":return b?b.disableFontFace:!1;case "disableCreateObjectURL":return b?b.disableCreateObjectURL:
!1;case "disableWebGL":return b?b.disableWebGL:!0;case "cMapUrl":return b?b.cMapUrl:null;case "cMapPacked":return b?b.cMapPacked:!1;case "postMessageTransfers":return b?b.postMessageTransfers:!0;case "workerPort":return b?b.workerPort:null;case "workerSrc":return b?b.workerSrc:null;case "disableWorker":return b?b.disableWorker:!1;case "maxImageSize":return b?b.maxImageSize:-1;case "imageResourcesPath":return b?b.imageResourcesPath:"";case "isEvalSupported":return b?b.isEvalSupported:!0;case "externalLinkTarget":if(!b)return x.NONE;
switch(b.externalLinkTarget){case x.NONE:case x.SELF:case x.BLANK:case x.PARENT:case x.TOP:return b.externalLinkTarget}(0,n.warn)("PDFJS.externalLinkTarget is invalid: "+b.externalLinkTarget);return b.externalLinkTarget=x.NONE;case "externalLinkRel":return b?b.externalLinkRel:p;case "enableStats":return!(!b||!b.enableStats);case "pdfjsNext":return!(!b||!b.pdfjsNext);default:throw Error("Unknown default setting: "+e);}}Object.defineProperty(b,"__esModule",{value:!0});b.DOMCMapReaderFactory=b.DOMCanvasFactory=
b.DEFAULT_LINK_REL=b.getDefaultSetting=b.LinkTarget=b.getFilenameFromUrl=b.isValidUrl=b.isExternalLinkTargetSet=b.addLinkAttributes=b.RenderingCancelledException=b.CustomStyle=void 0;var i=function(){function b(e,a){for(var c=0;c<a.length;c++){var r=a[c];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}return function(e,a,c){a&&b(e.prototype,a);c&&b(e,c);return e}}(),n=d(0),l=(j=d(13))&&j.__esModule?j:{"default":j},p="noopener noreferrer nofollow",
j=function(){function b(){k(this,b)}i(b,[{key:"create",value:function(b,a){if(0>=b||0>=a)throw Error("invalid canvas size");var c=document.createElement("canvas"),r=c.getContext("2d");c.width=b;c.height=a;return{canvas:c,context:r}}},{key:"reset",value:function(b,a,c){if(!b.canvas)throw Error("canvas is not specified");if(0>=a||0>=c)throw Error("invalid canvas size");b.canvas.width=a;b.canvas.height=c}},{key:"destroy",value:function(b){if(!b.canvas)throw Error("canvas is not specified");b.canvas.width=
0;b.canvas.height=0;b.canvas=null;b.context=null}}]);return b}(),d=function(){function b(e){var a=e.baseUrl,a=void 0===a?null:a,e=e.isCompressed,e=void 0===e?!1:e;k(this,b);this.baseUrl=a;this.isCompressed=e}i(b,[{key:"fetch",value:function(b){var a=this,c=b.name;return!c?Promise.reject(Error("CMap name must be specified.")):new Promise(function(b,e){var g=a.baseUrl+c+(a.isCompressed?".bcmap":""),f=new XMLHttpRequest;f.open("GET",g,!0);a.isCompressed&&(f.responseType="arraybuffer");f.onreadystatechange=
function(){if(f.readyState===XMLHttpRequest.DONE){if(f.status===200||f.status===0){var c=void 0;a.isCompressed&&f.response?c=new Uint8Array(f.response):!a.isCompressed&&f.responseText&&(c=(0,n.stringToBytes)(f.responseText));if(c){b({cMapData:c,compressionType:a.isCompressed?n.CMapCompressionType.BINARY:n.CMapCompressionType.NONE});return}}e(Error("Unable to load "+(a.isCompressed?"binary ":"")+"CMap at: "+g))}};f.send(null)})}}]);return b}(),w=function(){function b(){}var e=["ms","Moz","Webkit",
"O"],a=Object.create(null);b.getProp=function(c,b){if(1===arguments.length&&"string"===typeof a[c])return a[c];var b=b||document.documentElement,m=b.style,g,f;if("string"===typeof m[c])return a[c]=c;f=c.charAt(0).toUpperCase()+c.slice(1);for(var i=0,p=e.length;i<p;i++)if(g=e[i]+f,"string"===typeof m[g])return a[c]=g;return a[c]="undefined"};b.setProp=function(a,b,e){a=this.getProp(a);"undefined"!==a&&(b.style[a]=e)};return b}(),h=function(){function b(e,a){this.message=e;this.type=a}b.prototype=Error();
b.prototype.name="RenderingCancelledException";return b.constructor=b}(),x={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4},q=["","_self","_blank","_parent","_top"];b.CustomStyle=w;b.RenderingCancelledException=h;b.addLinkAttributes=function(b,i){var a=i&&i.url;b.href=b.title=a?(0,n.removeNullCharacters)(a):"";a&&(a=i.target,"undefined"===typeof a&&(a=e("externalLinkTarget")),b.target=q[a],a=i.rel,"undefined"===typeof a&&(a=e("externalLinkRel")),b.rel=a)};b.isExternalLinkTargetSet=function(){switch(e("externalLinkTarget")){case x.NONE:return!1;
case x.SELF:case x.BLANK:case x.PARENT:case x.TOP:return!0}};b.isValidUrl=function(b,e){(0,n.deprecated)("isValidUrl(), please use createValidAbsoluteUrl() instead.");return null!==(0,n.createValidAbsoluteUrl)(b,e?"http://example.com":null)};b.getFilenameFromUrl=function(b){var e=b.indexOf("#"),a=b.indexOf("?"),e=Math.min(0<e?e:b.length,0<a?a:b.length);return b.substring(b.lastIndexOf("/",e)+1,e)};b.LinkTarget=x;b.getDefaultSetting=e;b.DEFAULT_LINK_REL=p;b.DOMCanvasFactory=j;b.DOMCMapReaderFactory=
d},function(j,b,d){var k=d(14),e=d(42),i=d(28),n=Object.defineProperty;b.f=d(3)?Object.defineProperty:function(b,p,d){k(b);p=i(p,!0);k(d);if(e)try{return n(b,p,d)}catch(h){}if("get"in d||"set"in d)throw TypeError("Accessors not supported!");"value"in d&&(b[p]=d.value);return b}},function(j,b,d){var k=d(19),e=Math.min;j.exports=function(b){return 0<b?e(k(b),9007199254740991):0}},function(j){var b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&
"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};j.exports=function(d){return"object"===("undefined"===typeof d?"undefined":b(d))?null!==d:"function"===typeof d}},function(j){j.exports={}},function(j,b,d){var k=d(39);j.exports=function(b){return Object(k(b))}},function(j){var b=0,d=Math.random();j.exports=function(k){return"Symbol(".concat(void 0===k?"":k,")_",(++b+d).toString(36))}},function(j){j.exports="undefined"!==typeof window&&window.Math===Math?window:
"undefined"!==typeof global&&global.Math===Math?global:"undefined"!==typeof self&&self.Math===Math?self:{}},function(j,b,d){var k=d(9);j.exports=function(b){if(!k(b))throw TypeError(b+" is not an object!");return b}},function(j){j=j.exports={version:"2.4.0"};"number"==typeof __e&&(__e=j)},function(j){j.exports=function(b){try{return!!b()}catch(d){return!0}}},function(j){j.exports=function(b,d){return{enumerable:!(b&1),configurable:!(b&2),writable:!(b&4),value:d}}},function(j,b,d){var k=d(19),e=Math.max,
i=Math.min;j.exports=function(b,d){b=k(b);return 0>b?e(b+d,0):i(b,d)}},function(j){var b=Math.ceil,d=Math.floor;j.exports=function(k){return isNaN(k=+k)?0:(0<k?d:b)(k)}},function(j,b,d){var k=d(43),e=d(39);j.exports=function(b){return k(e(b))}},function(j){var b={}.toString;j.exports=function(d){return b.call(d).slice(8,-1)}},function(j,b,d){var k=d(34);j.exports=function(b,i,d){k(b);if(void 0===i)return b;switch(d){case 1:return function(d){return b.call(i,d)};case 2:return function(d,p){return b.call(i,
d,p)};case 3:return function(d,p,n){return b.call(i,d,p,n)}}return function(){return b.apply(i,arguments)}}},function(j){j.exports="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ")},function(j){j.exports=!1},function(j,b,d){var k=d(2),e=d(4),i=d(5),n=d(12)("src"),l=Function.toString,p=(""+l).split("toString");d(15).inspectSource=function(b){return l.call(b)};(j.exports=function(b,h,d,q){var u="function"==typeof d;u&&(i(d,"name")||e(d,"name",
h));b[h]!==d&&(u&&(i(d,n)||e(d,n,b[h]?""+b[h]:p.join(""+h))),b===k?b[h]=d:q?b[h]?b[h]=d:e(b,h,d):(delete b[h],e(b,h,d)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[n]||l.call(this)})},function(j,b,d){var k=d(7).f,e=d(5),i=d(1)("toStringTag");j.exports=function(b,d,p){b&&!e(b=p?b:b.prototype,i)&&k(b,i,{configurable:!0,value:d})}},function(j,b,d){var k=d(49)("keys"),e=d(12);j.exports=function(b){return k[b]||(k[b]=e(b))}},function(j,b,d){var k=d(9);j.exports=function(b,
i){if(!k(b))return b;var d,l;if(i&&"function"==typeof(d=b.toString)&&!k(l=d.call(b))||"function"==typeof(d=b.valueOf)&&!k(l=d.call(b))||!i&&"function"==typeof(d=b.toString)&&!k(l=d.call(b)))return l;throw TypeError("Can't convert object to primitive value");}},function(j,b,d){Object.defineProperty(b,"__esModule",{value:!0});b.validateResponseStatus=b.validateRangeRequestCapabilities=b.createResponseStatusError=void 0;var k=d(0);b.createResponseStatusError=function(b,d){return 404===b||0===b&&/^file:/.test(d)?
new k.MissingPDFException('Missing PDF "'+d+'".'):new k.UnexpectedResponseException("Unexpected server response ("+b+') while retrieving PDF "'+d+'".',b)};b.validateRangeRequestCapabilities=function(b){var d=b.getResponseHeader,n=b.isHttp,l=b.rangeChunkSize,p=b.disableRange;(0,k.assert)(0<l);b={allowRangeRequests:!1,suggestedLength:void 0};if(p||!n||"bytes"!==d("Accept-Ranges")||"identity"!==(d("Content-Encoding")||"identity"))return b;d=parseInt(d("Content-Length"),10);if(!Number.isInteger(d))return b;
b.suggestedLength=d;if(d<=2*l)return b;b.allowRangeRequests=!0;return b};b.validateResponseStatus=function(b,d){return!d?0===b:200===b||206===b}},function(j,b,d){function k(a,c){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&("object"===typeof c||"function"===typeof c)?c:a}function e(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,
{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}function i(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(b,"__esModule",{value:!0});b.AnnotationLayer=void 0;var n=function(){function a(c,b){for(var f=0;f<b.length;f++){var g=b[f];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(c,g.key,g)}}return function(c,
b,f){b&&a(c.prototype,b);f&&a(c,f);return c}}(),l=d(6),p=d(0),w=function(){function b(){i(this,b)}n(b,null,[{key:"create",value:function(b){switch(b.data.annotationType){case p.AnnotationType.LINK:return new x(b);case p.AnnotationType.TEXT:return new q(b);case p.AnnotationType.WIDGET:switch(b.data.fieldType){case "Tx":return new y(b);case "Btn":if(b.data.radioButton)return new c(b);if(b.data.checkBox)return new a(b);(0,p.warn)("Unimplemented button widget annotation: pushbutton");break;case "Ch":return new r(b)}return new u(b);
case p.AnnotationType.POPUP:return new m(b);case p.AnnotationType.LINE:return new f(b);case p.AnnotationType.HIGHLIGHT:return new E(b);case p.AnnotationType.UNDERLINE:return new G(b);case p.AnnotationType.SQUIGGLY:return new B(b);case p.AnnotationType.STRIKEOUT:return new z(b);case p.AnnotationType.FILEATTACHMENT:return new A(b);default:return new h(b)}}}]);return b}(),h=function(){function a(c){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,f=2<arguments.length&&void 0!==arguments[2]?
arguments[2]:!1;i(this,a);this.isRenderable=b;this.data=c.data;this.layer=c.layer;this.page=c.page;this.viewport=c.viewport;this.linkService=c.linkService;this.downloadManager=c.downloadManager;this.imageResourcesPath=c.imageResourcesPath;this.renderInteractiveForms=c.renderInteractiveForms;b&&(this.container=this._createContainer(f))}n(a,[{key:"_createContainer",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,c=this.data,b=this.page,f=this.viewport,g=document.createElement("section"),
t=c.rect[2]-c.rect[0],r=c.rect[3]-c.rect[1];g.setAttribute("data-annotation-id",c.id);b=p.Util.normalizeRect([c.rect[0],b.view[3]-c.rect[1]+b.view[1],c.rect[2],b.view[3]-c.rect[3]+b.view[1]]);l.CustomStyle.setProp("transform",g,"matrix("+f.transform.join(",")+")");l.CustomStyle.setProp("transformOrigin",g,-b[0]+"px "+-b[1]+"px");if(!a&&0<c.borderStyle.width){g.style.borderWidth=c.borderStyle.width+"px";c.borderStyle.style!==p.AnnotationBorderStyleType.UNDERLINE&&(t-=2*c.borderStyle.width,r-=2*c.borderStyle.width);
a=c.borderStyle.horizontalCornerRadius;f=c.borderStyle.verticalCornerRadius;(0<a||0<f)&&l.CustomStyle.setProp("borderRadius",g,a+"px / "+f+"px");switch(c.borderStyle.style){case p.AnnotationBorderStyleType.SOLID:g.style.borderStyle="solid";break;case p.AnnotationBorderStyleType.DASHED:g.style.borderStyle="dashed";break;case p.AnnotationBorderStyleType.BEVELED:(0,p.warn)("Unimplemented border style: beveled");break;case p.AnnotationBorderStyleType.INSET:(0,p.warn)("Unimplemented border style: inset");
break;case p.AnnotationBorderStyleType.UNDERLINE:g.style.borderBottomStyle="solid"}c.color?g.style.borderColor=p.Util.makeCssRgb(c.color[0]|0,c.color[1]|0,c.color[2]|0):g.style.borderWidth=0}g.style.left=b[0]+"px";g.style.top=b[1]+"px";g.style.width=t+"px";g.style.height=r+"px";return g}},{key:"_createPopup",value:function(a,c,b){c||(c=document.createElement("div"),c.style.height=a.style.height,c.style.width=a.style.width,a.appendChild(c));c=(new g({container:a,trigger:c,color:b.color,title:b.title,
contents:b.contents,hideWrapper:!0})).render();c.style.left=a.style.width;a.appendChild(c)}},{key:"render",value:function(){throw Error("Abstract method `AnnotationElement.render` called");}}]);return a}(),x=function(a){function c(a){i(this,c);return k(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a,!0))}e(c,a);n(c,[{key:"render",value:function(){this.container.className="linkAnnotation";var a=document.createElement("a");(0,l.addLinkAttributes)(a,{url:this.data.url,target:this.data.newWindow?
l.LinkTarget.BLANK:void 0});this.data.url||(this.data.action?this._bindNamedAction(a,this.data.action):this._bindLink(a,this.data.dest));this.container.appendChild(a);return this.container}},{key:"_bindLink",value:function(a,c){var b=this;a.href=this.linkService.getDestinationHash(c);a.onclick=function(){c&&b.linkService.navigateTo(c);return!1};c&&(a.className="internalLink")}},{key:"_bindNamedAction",value:function(a,c){var b=this;a.href=this.linkService.getAnchorUrl("");a.onclick=function(){b.linkService.executeNamedAction(c);
return!1};a.className="internalLink"}}]);return c}(h),q=function(a){function c(a){i(this,c);var b=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return k(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a,b))}e(c,a);n(c,[{key:"render",value:function(){this.container.className="textAnnotation";var a=document.createElement("img");a.style.height=this.container.style.height;a.style.width=this.container.style.width;a.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg";
a.alt="[{{type}} Annotation]";a.dataset.l10nId="text_annotation_type";a.dataset.l10nArgs=JSON.stringify({type:this.data.name});this.data.hasPopup||this._createPopup(this.container,a,this.data);this.container.appendChild(a);return this.container}}]);return c}(h),u=function(a){function c(){i(this,c);return k(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}e(c,a);n(c,[{key:"render",value:function(){return this.container}}]);return c}(h),y=function(a){function c(a){i(this,c);var b=
a.renderInteractiveForms||!a.data.hasAppearance&&!!a.data.fieldValue;return k(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a,b))}e(c,a);n(c,[{key:"render",value:function(){var a=["left","center","right"];this.container.className="textWidgetAnnotation";var c=null;if(this.renderInteractiveForms){if(this.data.multiLine?(c=document.createElement("textarea"),c.textContent=this.data.fieldValue):(c=document.createElement("input"),c.type="text",c.setAttribute("value",this.data.fieldValue)),c.disabled=
this.data.readOnly,null!==this.data.maxLen&&(c.maxLength=this.data.maxLen),this.data.comb){var b=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;c.classList.add("comb");c.style.letterSpacing="calc("+b+"px - 1ch)"}}else c=document.createElement("div"),c.textContent=this.data.fieldValue,c.style.verticalAlign="middle",c.style.display="table-cell",b=null,this.data.fontRefName&&(b=this.page.commonObjs.getData(this.data.fontRefName)),this._setTextStyle(c,b);null!==this.data.textAlignment&&(c.style.textAlign=
a[this.data.textAlignment]);this.container.appendChild(c);return this.container}},{key:"_setTextStyle",value:function(a,c){var b=a.style;b.fontSize=this.data.fontSize+"px";b.direction=0>this.data.fontDirection?"rtl":"ltr";c&&(b.fontWeight=c.black?c.bold?"900":"bold":c.bold?"bold":"normal",b.fontStyle=c.italic?"italic":"normal",b.fontFamily=(c.loadedName?'"'+c.loadedName+'", ':"")+(c.fallbackName||"Helvetica, sans-serif"))}}]);return c}(u),a=function(a){function c(a){i(this,c);return k(this,(c.__proto__||
Object.getPrototypeOf(c)).call(this,a,a.renderInteractiveForms))}e(c,a);n(c,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation checkBox";var a=document.createElement("input");a.disabled=this.data.readOnly;a.type="checkbox";this.data.fieldValue&&"Off"!==this.data.fieldValue&&a.setAttribute("checked",!0);this.container.appendChild(a);return this.container}}]);return c}(u),c=function(a){function c(a){i(this,c);return k(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,
a,a.renderInteractiveForms))}e(c,a);n(c,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation radioButton";var a=document.createElement("input");a.disabled=this.data.readOnly;a.type="radio";a.name=this.data.fieldName;this.data.fieldValue===this.data.buttonValue&&a.setAttribute("checked",!0);this.container.appendChild(a);return this.container}}]);return c}(u),r=function(a){function c(a){i(this,c);return k(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a,a.renderInteractiveForms))}
e(c,a);n(c,[{key:"render",value:function(){this.container.className="choiceWidgetAnnotation";var a=document.createElement("select");a.disabled=this.data.readOnly;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0));for(var c=0,b=this.data.options.length;c<b;c++){var f=this.data.options[c],g=document.createElement("option");g.textContent=f.displayValue;g.value=f.exportValue;0<=this.data.fieldValue.indexOf(f.displayValue)&&g.setAttribute("selected",!0);a.appendChild(g)}this.container.appendChild(a);
return this.container}}]);return c}(u),m=function(a){function c(a){i(this,c);var b=!(!a.data.title&&!a.data.contents);return k(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a,b))}e(c,a);n(c,[{key:"render",value:function(){this.container.className="popupAnnotation";if(0<=["Line"].indexOf(this.data.parentType))return this.container;var a=this.layer.querySelector('[data-annotation-id="'+this.data.parentId+'"]');if(!a)return this.container;var c=new g({container:this.container,trigger:a,color:this.data.color,
title:this.data.title,contents:this.data.contents}),b=parseFloat(a.style.left),f=parseFloat(a.style.width);l.CustomStyle.setProp("transformOrigin",this.container,-(b+f)+"px -"+a.style.top);this.container.style.left=b+f+"px";this.container.appendChild(c.render());return this.container}}]);return c}(h),g=function(){function a(c){i(this,a);this.container=c.container;this.trigger=c.trigger;this.color=c.color;this.title=c.title;this.contents=c.contents;this.hideWrapper=c.hideWrapper||!1;this.pinned=!1}
n(a,[{key:"render",value:function(){var a=document.createElement("div");a.className="popupWrapper";this.hideElement=this.hideWrapper?a:this.container;this.hideElement.setAttribute("hidden",!0);var c=document.createElement("div");c.className="popup";var b=this.color;b&&(c.style.backgroundColor=p.Util.makeCssRgb(0.7*(255-b[0])+b[0]|0,0.7*(255-b[1])+b[1]|0,0.7*(255-b[2])+b[2]|0));var b=this._formatContents(this.contents),f=document.createElement("h1");f.textContent=this.title;this.trigger.addEventListener("click",
this._toggle.bind(this));this.trigger.addEventListener("mouseover",this._show.bind(this,!1));this.trigger.addEventListener("mouseout",this._hide.bind(this,!1));c.addEventListener("click",this._hide.bind(this,!0));c.appendChild(f);c.appendChild(b);a.appendChild(c);return a}},{key:"_formatContents",value:function(a){for(var c=document.createElement("p"),a=a.split(/(?:\r\n?|\n)/),b=0,f=a.length;b<f;++b)c.appendChild(document.createTextNode(a[b])),b<f-1&&c.appendChild(document.createElement("br"));return c}},
{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&(this.pinned=!0);this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}},{key:"_hide",value:function(){if(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1)this.pinned=!1;!this.hideElement.hasAttribute("hidden")&&!this.pinned&&(this.hideElement.setAttribute("hidden",!0),
this.container.style.zIndex-=1)}}]);return a}(),f=function(a){function c(a){i(this,c);var b=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return k(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a,b,!0))}e(c,a);n(c,[{key:"render",value:function(){this.container.className="lineAnnotation";var a=this.data,c=a.rect[2]-a.rect[0],b=a.rect[3]-a.rect[1],f=document.createElementNS("http://www.w3.org/2000/svg","svg:svg");f.setAttributeNS(null,"version","1.1");f.setAttributeNS(null,"width",c+
"px");f.setAttributeNS(null,"height",b+"px");f.setAttributeNS(null,"preserveAspectRatio","none");f.setAttributeNS(null,"viewBox","0 0 "+c+" "+b);c=document.createElementNS("http://www.w3.org/2000/svg","svg:line");c.setAttributeNS(null,"x1",a.rect[2]-a.lineCoordinates[0]);c.setAttributeNS(null,"y1",a.rect[3]-a.lineCoordinates[1]);c.setAttributeNS(null,"x2",a.rect[2]-a.lineCoordinates[2]);c.setAttributeNS(null,"y2",a.rect[3]-a.lineCoordinates[3]);c.setAttributeNS(null,"stroke-width",a.borderStyle.width);
c.setAttributeNS(null,"stroke","transparent");f.appendChild(c);this.container.append(f);this._createPopup(this.container,c,this.data);return this.container}}]);return c}(h),E=function(a){function c(a){i(this,c);var b=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return k(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a,b,!0))}e(c,a);n(c,[{key:"render",value:function(){this.container.className="highlightAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);
return this.container}}]);return c}(h),G=function(a){function c(a){i(this,c);var b=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return k(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a,b,!0))}e(c,a);n(c,[{key:"render",value:function(){this.container.className="underlineAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return c}(h),B=function(a){function c(a){i(this,c);var b=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);
return k(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a,b,!0))}e(c,a);n(c,[{key:"render",value:function(){this.container.className="squigglyAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return c}(h),z=function(a){function c(a){i(this,c);var b=!(!a.data.hasPopup&&!a.data.title&&!a.data.contents);return k(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a,b,!0))}e(c,a);n(c,[{key:"render",value:function(){this.container.className=
"strikeoutAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return c}(h),A=function(a){function c(a){i(this,c);var a=k(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a,!0)),b=a.data.file;a.filename=(0,l.getFilenameFromUrl)(b.filename);a.content=b.content;a.linkService.onFileAttachmentAnnotation({id:(0,p.stringToPDFString)(b.filename),filename:b.filename,content:b.content});return a}e(c,a);n(c,[{key:"render",value:function(){this.container.className=
"fileAttachmentAnnotation";var a=document.createElement("div");a.style.height=this.container.style.height;a.style.width=this.container.style.width;a.addEventListener("dblclick",this._download.bind(this));!this.data.hasPopup&&(this.data.title||this.data.contents)&&this._createPopup(this.container,a,this.data);this.container.appendChild(a);return this.container}},{key:"_download",value:function(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,p.warn)("Download cannot be started due to unavailable download manager")}}]);
return c}(h),j=function(){function a(){i(this,a)}n(a,null,[{key:"render",value:function(a){for(var c=0,b=a.annotations.length;c<b;c++){var f=a.annotations[c];f&&(f=w.create({data:f,layer:a.div,page:a.page,viewport:a.viewport,linkService:a.linkService,downloadManager:a.downloadManager,imageResourcesPath:a.imageResourcesPath||(0,l.getDefaultSetting)("imageResourcesPath"),renderInteractiveForms:a.renderInteractiveForms||!1}),f.isRenderable&&a.div.appendChild(f.render()))}}},{key:"update",value:function(a){for(var c=
0,b=a.annotations.length;c<b;c++){var f=a.div.querySelector('[data-annotation-id="'+a.annotations[c].id+'"]');f&&l.CustomStyle.setProp("transform",f,"matrix("+a.viewport.transform.join(",")+")")}a.div.removeAttribute("hidden")}}]);return a}();b.AnnotationLayer=j},function(j,b,d){function k(c,b,f,g){if(c.destroyed)return Promise.reject(Error("Worker was destroyed"));b.disableAutoFetch=(0,l.getDefaultSetting)("disableAutoFetch");b.disableStream=(0,l.getDefaultSetting)("disableStream");b.chunkedViewerLoading=
!!f;f&&(b.length=f.length,b.initialData=f.initialData);return c.messageHandler.sendWithPromise("GetDocRequest",{docId:g,source:{data:b.data,url:b.url,password:b.password,disableAutoFetch:b.disableAutoFetch,rangeChunkSize:b.rangeChunkSize,length:b.length},maxImageSize:(0,l.getDefaultSetting)("maxImageSize"),disableFontFace:(0,l.getDefaultSetting)("disableFontFace"),disableCreateObjectURL:(0,l.getDefaultSetting)("disableCreateObjectURL"),postMessageTransfers:(0,l.getDefaultSetting)("postMessageTransfers")&&
!a,docBaseUrl:b.docBaseUrl,nativeImageDecoderSupport:b.nativeImageDecoderSupport,ignoreErrors:b.ignoreErrors}).then(function(a){if(c.destroyed)throw Error("Worker was destroyed");return a})}Object.defineProperty(b,"__esModule",{value:!0});b.build=b.version=b._UnsupportedManager=b.setPDFNetworkStreamClass=b.PDFPageProxy=b.PDFDocumentProxy=b.PDFWorker=b.PDFDataRangeTransport=b.LoopbackPort=b.getDocument=void 0;var e=function(){function a(c,b){for(var f=0;f<b.length;f++){var g=b[f];g.enumerable=g.enumerable||
!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(c,g.key,g)}}return function(c,b,f){b&&a(c.prototype,b);f&&a(c,f);return c}}(),i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},n=d(0),l=d(6),p=d(84),w=d(83),h=(j=d(13))&&j.__esModule?j:{"default":j},x=d(51),q=d(86),u=!1,y,a=!1,c="undefined"!==typeof document&&document.currentScript?
document.currentScript.src:null,r=null,d=!1;"undefined"===typeof window?(u=!0,"undefined"===typeof require.ensure&&(require.ensure=require("node-ensure")),d=!0):"undefined"!==typeof require&&"function"===typeof require.ensure&&(d=!0);"undefined"!==typeof requirejs&&requirejs.toUrl&&(y=requirejs.toUrl("pdfjs-dist/build/pdf.worker.js"));var j="undefined"!==typeof requirejs&&requirejs.load,r=d?function(a){require.ensure([],function(){var c;c=require("./pdf.worker.js");a(c.WorkerMessageHandler)})}:j?
function(a){requirejs(["pdfjs-dist/build/pdf.worker"],function(c){a(c.WorkerMessageHandler)})}:null,m,g=function(){function a(){this._capability=(0,n.createPromiseCapability)();this._worker=this._transport=null;this.docId="d"+c++;this.destroyed=false;this.onUnsupportedFeature=this.onProgress=this.onPassword=null}var c=0;a.prototype={get promise(){return this._capability.promise},destroy:function(){var a=this;this.destroyed=true;return(!this._transport?Promise.resolve():this._transport.destroy()).then(function(){a._transport=
null;if(a._worker){a._worker.destroy();a._worker=null}})},then:function(a,c){return this.promise.then.apply(this.promise,arguments)}};return a}(),f=function(){function a(c,b){this.length=c;this.initialData=b;this._rangeListeners=[];this._progressListeners=[];this._progressiveReadListeners=[];this._readyCapability=(0,n.createPromiseCapability)()}a.prototype={addRangeListener:function(a){this._rangeListeners.push(a)},addProgressListener:function(a){this._progressListeners.push(a)},addProgressiveReadListener:function(a){this._progressiveReadListeners.push(a)},
onDataRange:function(a,c){for(var b=this._rangeListeners,f=0,g=b.length;f<g;++f)b[f](a,c)},onDataProgress:function(a){var c=this;this._readyCapability.promise.then(function(){for(var b=c._progressListeners,f=0,g=b.length;f<g;++f)b[f](a)})},onDataProgressiveRead:function(a){var c=this;this._readyCapability.promise.then(function(){for(var b=c._progressiveReadListeners,f=0,g=b.length;f<g;++f)b[f](a)})},transportReady:function(){this._readyCapability.resolve()},requestDataRange:function(){throw Error("Abstract method PDFDataRangeTransport.requestDataRange");
},abort:function(){}};return a}(),E=function(){function a(c,b,f){this.pdfInfo=c;this.transport=b;this.loadingTask=f}a.prototype={get numPages(){return this.pdfInfo.numPages},get fingerprint(){return this.pdfInfo.fingerprint},getPage:function(a){return this.transport.getPage(a)},getPageIndex:function(a){return this.transport.getPageIndex(a)},getDestinations:function(){return this.transport.getDestinations()},getDestination:function(a){return this.transport.getDestination(a)},getPageLabels:function(){return this.transport.getPageLabels()},
getPageMode:function(){return this.transport.getPageMode()},getAttachments:function(){return this.transport.getAttachments()},getJavaScript:function(){return this.transport.getJavaScript()},getOutline:function(){return this.transport.getOutline()},getMetadata:function(){return this.transport.getMetadata()},getData:function(){return this.transport.getData()},getDownloadInfo:function(){return this.transport.downloadInfoCapability.promise},getStats:function(){return this.transport.getStats()},cleanup:function(){this.transport.startCleanup()},
destroy:function(){return this.loadingTask.destroy()}};return a}(),G=function(){function a(c,b,f){this.pageIndex=c;this.pageInfo=b;this.transport=f;this.stats=new n.StatTimer;this.stats.enabled=(0,l.getDefaultSetting)("enableStats");this.commonObjs=f.commonObjs;this.objs=new t;this.pendingCleanup=this.cleanupAfterRender=false;this.intentStates=Object.create(null);this.destroyed=false}a.prototype={get pageNumber(){return this.pageIndex+1},get rotate(){return this.pageInfo.rotate},get ref(){return this.pageInfo.ref},
get userUnit(){return this.pageInfo.userUnit},get view(){return this.pageInfo.view},getViewport:function(a,c){if(arguments.length<2)c=this.rotate;return new n.PageViewport(this.view,a,c,0,0)},getAnnotations:function(a){a=a&&a.intent||null;if(!this.annotationsPromise||this.annotationsIntent!==a){this.annotationsPromise=this.transport.getAnnotations(this.pageIndex,a);this.annotationsIntent=a}return this.annotationsPromise},render:function(a){var c=this,b=this.stats;b.time("Overall");this.pendingCleanup=
false;var f=a.intent==="print"?"print":"display",g=a.canvasFactory||new l.DOMCanvasFactory;this.intentStates[f]||(this.intentStates[f]=Object.create(null));var r=this.intentStates[f];if(!r.displayReadyCapability){r.receivingOperatorList=true;r.displayReadyCapability=(0,n.createPromiseCapability)();r.operatorList={fnArray:[],argsArray:[],lastChunk:false};this.stats.time("Page Request");this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1,intent:f,renderInteractiveForms:a.renderInteractiveForms===
true})}var m=function(a){var f=r.renderTasks.indexOf(e);f>=0&&r.renderTasks.splice(f,1);if(c.cleanupAfterRender)c.pendingCleanup=true;c._tryCleanup();a?e.capability.reject(a):e.capability.resolve();b.timeEnd("Rendering");b.timeEnd("Overall")},e=new s(m,a,this.objs,this.commonObjs,r.operatorList,this.pageNumber,g);e.useRequestAnimationFrame=f!=="print";if(!r.renderTasks)r.renderTasks=[];r.renderTasks.push(e);f=e.task;if(a.continueCallback){(0,n.deprecated)("render is used with continueCallback parameter");
f.onContinue=a.continueCallback}r.displayReadyCapability.promise.then(function(a){if(c.pendingCleanup)m();else{b.time("Rendering");e.initializeGraphics(a);e.operatorListChanged()}}).catch(m);return f},getOperatorList:function(){function a(){if(c.operatorList.lastChunk){c.opListReadCapability.resolve(c.operatorList);var f=c.renderTasks.indexOf(b);f>=0&&c.renderTasks.splice(f,1)}}this.intentStates.oplist||(this.intentStates.oplist=Object.create(null));var c=this.intentStates.oplist,b;if(!c.opListReadCapability){b=
{};b.operatorListChanged=a;c.receivingOperatorList=true;c.opListReadCapability=(0,n.createPromiseCapability)();c.renderTasks=[];c.renderTasks.push(b);c.operatorList={fnArray:[],argsArray:[],lastChunk:false};this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageIndex,intent:"oplist"})}return c.opListReadCapability.promise},streamTextContent:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.transport.messageHandler.sendWithStream("GetTextContent",
{pageIndex:this.pageNumber-1,normalizeWhitespace:a.normalizeWhitespace===true,combineTextItems:a.disableCombineTextItems!==true},{highWaterMark:100,size:function(a){return a.items.length}})},getTextContent:function(a){var a=a||{},c=this.streamTextContent(a);return new Promise(function(a,b){function f(){g.read().then(function(c){var b=c.value;if(c.done)a(r);else{n.Util.extendObj(r.styles,b.styles);n.Util.appendToArray(r.items,b.items);f()}},b)}var g=c.getReader(),r={items:[],styles:Object.create(null)};
f()})},_destroy:function(){this.destroyed=true;this.transport.pageCache[this.pageIndex]=null;var a=[];Object.keys(this.intentStates).forEach(function(c){c!=="oplist"&&this.intentStates[c].renderTasks.forEach(function(c){var b=c.capability.promise.catch(function(){});a.push(b);c.cancel()})},this);this.objs.clear();this.annotationsPromise=null;this.pendingCleanup=false;return Promise.all(a)},destroy:function(){(0,n.deprecated)("page destroy method, use cleanup() instead");this.cleanup()},cleanup:function(){this.pendingCleanup=
true;this._tryCleanup()},_tryCleanup:function(){if(this.pendingCleanup&&!Object.keys(this.intentStates).some(function(a){a=this.intentStates[a];return a.renderTasks.length!==0||a.receivingOperatorList},this)){Object.keys(this.intentStates).forEach(function(a){delete this.intentStates[a]},this);this.objs.clear();this.annotationsPromise=null;this.pendingCleanup=false}},_startRenderPage:function(a,c){var b=this.intentStates[c];b.displayReadyCapability&&b.displayReadyCapability.resolve(a)},_renderPageChunk:function(a,
c){var b=this.intentStates[c],f,g;f=0;for(g=a.length;f<g;f++){b.operatorList.fnArray.push(a.fnArray[f]);b.operatorList.argsArray.push(a.argsArray[f])}b.operatorList.lastChunk=a.lastChunk;for(f=0;f<b.renderTasks.length;f++)b.renderTasks[f].operatorListChanged();if(a.lastChunk){b.receivingOperatorList=false;this._tryCleanup()}}};return a}(),B=function(){function a(c){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._listeners=[];this._defer=c;this._deferred=Promise.resolve(void 0)}
e(a,[{key:"postMessage",value:function(a,c){function b(a){if((typeof a==="undefined"?"undefined":i(a))!=="object"||a===null)return a;if(g.has(a))return g.get(a);var f;if((f=a.buffer)&&(0,n.isArrayBuffer)(f)){var r=c&&c.indexOf(f)>=0;f=a===f?a:r?new a.constructor(f,a.byteOffset,a.byteLength):new a.constructor(a);g.set(a,f);return f}f=Array.isArray(a)?[]:{};g.set(a,f);for(r in a){for(var m,e=a;!(m=Object.getOwnPropertyDescriptor(e,r));)e=Object.getPrototypeOf(e);typeof m.value==="undefined"||typeof m.value===
"function"||(f[r]=b(m.value))}return f}var f=this;if(this._defer){var g=new WeakMap,r={data:b(a)};this._deferred.then(function(){f._listeners.forEach(function(a){a.call(this,r)},f)})}else this._listeners.forEach(function(c){c.call(this,{data:a})},this)}},{key:"addEventListener",value:function(a,c){this._listeners.push(c)}},{key:"removeEventListener",value:function(a,c){this._listeners.splice(this._listeners.indexOf(c),1)}},{key:"terminate",value:function(){this._listeners=[]}}]);return a}(),z=function(){function b(){if(typeof y!==
"undefined")return y;if((0,l.getDefaultSetting)("workerSrc"))return(0,l.getDefaultSetting)("workerSrc");if(c)return c.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2");throw Error("No PDFJS.workerSrc specified");}function f(){if(t)return t.promise;t=(0,n.createPromiseCapability)();(r||function(a){n.Util.loadScript(b(),function(){a(window.pdfjsDistBuildPdfWorker.WorkerMessageHandler)})})(t.resolve);return t.promise}function g(a){return URL.createObjectURL(new Blob(["importScripts('"+a+"');"]))}function m(a,
c){if(c&&o.has(c))throw Error("Cannot use more than one PDFWorker per port");this.name=a;this.destroyed=false;this.postMessageTransfers=true;this._readyCapability=(0,n.createPromiseCapability)();this._messageHandler=this._webWorker=this._port=null;if(c){o.set(c,this);this._initializeFromPort(c)}else this._initialize()}var e=0,t=void 0,o=new WeakMap;m.prototype={get promise(){return this._readyCapability.promise},get port(){return this._port},get messageHandler(){return this._messageHandler},_initializeFromPort:function(a){this._port=
a;this._messageHandler=new n.MessageHandler("main","worker",a);this._messageHandler.on("ready",function(){});this._readyCapability.resolve()},_initialize:function(){var c=this;if(!u&&!(0,l.getDefaultSetting)("disableWorker")&&typeof Worker!=="undefined"){var f=b();try{if(!(0,n.isSameOrigin)(window.location.href,f))f=g((new URL(f,window.location)).href);var r=new Worker(f),m=new n.MessageHandler("main","worker",r),e=function(){r.removeEventListener("error",t);m.destroy();r.terminate();c.destroyed?
c._readyCapability.reject(Error("Worker was destroyed")):c._setupFakeWorker()},t=function(){c._webWorker||e()};r.addEventListener("error",t);m.on("test",function(b){r.removeEventListener("error",t);if(c.destroyed)e();else if(b&&b.supportTypedArray){c._messageHandler=m;c._port=r;c._webWorker=r;if(!b.supportTransfers){c.postMessageTransfers=false;a=true}c._readyCapability.resolve();m.send("configure",{verbosity:(0,n.getVerbosityLevel)()})}else{c._setupFakeWorker();m.destroy();r.terminate()}});m.on("console_log",
function(a){console.log.apply(console,a)});m.on("console_error",function(a){console.error.apply(console,a)});m.on("ready",function(){r.removeEventListener("error",t);if(c.destroyed)e();else try{o()}catch(a){c._setupFakeWorker()}});var o=function(){var c=(0,l.getDefaultSetting)("postMessageTransfers")&&!a,c=new Uint8Array([c?255:0]);try{m.send("test",c,[c.buffer])}catch(b){(0,n.info)("Cannot use postMessage transfers");c[0]=0;m.send("test",c)}};o();return}catch(d){(0,n.info)("The worker has been disabled.")}}this._setupFakeWorker()},
_setupFakeWorker:function(){var a=this;if(!u&&!(0,l.getDefaultSetting)("disableWorker")){(0,n.warn)("Setting up fake worker.");u=true}f().then(function(c){if(a.destroyed)a._readyCapability.reject(Error("Worker was destroyed"));else{var b=new B(Uint8Array!==Float32Array);a._port=b;var f="fake"+e++,g=new n.MessageHandler(f+"_worker",f,b);c.setup(g,b);c=new n.MessageHandler(f,f+"_worker",b);a._messageHandler=c;a._readyCapability.resolve()}})},destroy:function(){this.destroyed=true;if(this._webWorker){this._webWorker.terminate();
this._webWorker=null}o.delete(this._port);this._port=null;if(this._messageHandler){this._messageHandler.destroy();this._messageHandler=null}}};m.fromPort=function(a){return o.has(a)?o.get(a):new m(null,a)};return m}(),A=function(){function a(c,b,f,g){this.messageHandler=c;this.loadingTask=b;this.commonObjs=new t;this.fontLoader=new p.FontLoader(b.docId);this.CMapReaderFactory=new g({baseUrl:(0,l.getDefaultSetting)("cMapUrl"),isCompressed:(0,l.getDefaultSetting)("cMapPacked")});this.destroyed=false;
this._passwordCapability=this.destroyCapability=null;this._networkStream=f;this._lastProgress=this._fullReader=null;this.pageCache=[];this.pagePromises=[];this.downloadInfoCapability=(0,n.createPromiseCapability)();this.setupMessageHandler()}a.prototype={destroy:function(){var a=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=true;this.destroyCapability=(0,n.createPromiseCapability)();this._passwordCapability&&this._passwordCapability.reject(Error("Worker was destroyed during onPassword callback"));
var c=[];this.pageCache.forEach(function(a){a&&c.push(a._destroy())});this.pageCache=[];this.pagePromises=[];var b=this.messageHandler.sendWithPromise("Terminate",null);c.push(b);Promise.all(c).then(function(){a.fontLoader.clear();a._networkStream&&a._networkStream.cancelAllRequests();if(a.messageHandler){a.messageHandler.destroy();a.messageHandler=null}a.destroyCapability.resolve()},this.destroyCapability.reject);return this.destroyCapability.promise},setupMessageHandler:function(){var a=this.messageHandler,
c=this.loadingTask;a.on("GetReader",function(a,c){var b=this;(0,n.assert)(this._networkStream);this._fullReader=this._networkStream.getFullReader();this._fullReader.onProgress=function(a){b._lastProgress={loaded:a.loaded,total:a.total}};c.onPull=function(){b._fullReader.read().then(function(a){var b=a.value;if(a.done)c.close();else{(0,n.assert)((0,n.isArrayBuffer)(b));c.enqueue(new Uint8Array(b),1,[b])}}).catch(function(a){c.error(a)})};c.onCancel=function(a){b._fullReader.cancel(a)}},this);a.on("ReaderHeadersReady",
function(){var a=this,c=(0,n.createPromiseCapability)(),b=this._fullReader;b.headersReady.then(function(){if(!b.isStreamingSupported||!b.isRangeSupported){if(a._lastProgress){var f=a.loadingTask;if(f.onProgress)f.onProgress(a._lastProgress)}b.onProgress=function(c){var b=a.loadingTask;if(b.onProgress)b.onProgress({loaded:c.loaded,total:c.total})}}c.resolve({isStreamingSupported:b.isStreamingSupported,isRangeSupported:b.isRangeSupported,contentLength:b.contentLength})},c.reject);return c.promise},
this);a.on("GetRangeReader",function(a,c){(0,n.assert)(this._networkStream);var b=this._networkStream.getRangeReader(a.begin,a.end);c.onPull=function(){b.read().then(function(a){var b=a.value;if(a.done)c.close();else{(0,n.assert)((0,n.isArrayBuffer)(b));c.enqueue(new Uint8Array(b),1,[b])}}).catch(function(a){c.error(a)})};c.onCancel=function(a){b.cancel(a)}},this);a.on("GetDoc",function(a){var c=a.pdfInfo;this.numPages=a.pdfInfo.numPages;a=this.loadingTask;this.pdfDocument=c=new E(c,this,a);a._capability.resolve(c)},
this);a.on("PasswordRequest",function(a){var b=this;this._passwordCapability=(0,n.createPromiseCapability)();if(c.onPassword)c.onPassword(function(a){b._passwordCapability.resolve({password:a})},a.code);else this._passwordCapability.reject(new n.PasswordException(a.message,a.code));return this._passwordCapability.promise},this);a.on("PasswordException",function(a){c._capability.reject(new n.PasswordException(a.message,a.code))},this);a.on("InvalidPDF",function(a){this.loadingTask._capability.reject(new n.InvalidPDFException(a.message))},
this);a.on("MissingPDF",function(a){this.loadingTask._capability.reject(new n.MissingPDFException(a.message))},this);a.on("UnexpectedResponse",function(a){this.loadingTask._capability.reject(new n.UnexpectedResponseException(a.message,a.status))},this);a.on("UnknownError",function(a){this.loadingTask._capability.reject(new n.UnknownErrorException(a.message,a.details))},this);a.on("DataLoaded",function(a){this.downloadInfoCapability.resolve(a)},this);a.on("PDFManagerReady",function(){},this);a.on("StartRenderPage",
function(a){if(!this.destroyed){var c=this.pageCache[a.pageIndex];c.stats.timeEnd("Page Request");c._startRenderPage(a.transparency,a.intent)}},this);a.on("RenderPageChunk",function(a){this.destroyed||this.pageCache[a.pageIndex]._renderPageChunk(a.operatorList,a.intent)},this);a.on("commonobj",function(a){var c=this;if(!this.destroyed){var b=a[0],f=a[1];if(!this.commonObjs.hasData(b))switch(f){case "Font":a=a[2];if("error"in a){a=a.error;(0,n.warn)("Error during font loading: "+a);this.commonObjs.resolve(b,
a);break}f=null;if((0,l.getDefaultSetting)("pdfBug")&&h.default.FontInspector&&h.default.FontInspector.enabled)f={registerFont:function(a,c){h.default.FontInspector.fontAdded(a,c)}};var g=new p.FontFaceObject(a,{isEvalSuported:(0,l.getDefaultSetting)("isEvalSupported"),disableFontFace:(0,l.getDefaultSetting)("disableFontFace"),fontRegistry:f});this.fontLoader.bind([g],function(){c.commonObjs.resolve(b,g)});break;case "FontPath":this.commonObjs.resolve(b,a[2]);break;default:throw Error("Got unknown common object type "+
f);}}},this);a.on("obj",function(a){if(!this.destroyed){var c=a[0],b=a[2],f=this.pageCache[a[1]];if(!f.objs.hasData(c))switch(b){case "JpegStream":a=a[3];(0,n.loadJpegStream)(c,a,f.objs);break;case "Image":a=a[3];f.objs.resolve(c,a);if(a&&"data"in a&&a.data.length>8E6)f.cleanupAfterRender=true;break;default:throw Error("Got unknown object type "+b);}}},this);a.on("DocProgress",function(a){if(!this.destroyed){var c=this.loadingTask;if(c.onProgress)c.onProgress({loaded:a.loaded,total:a.total})}},this);
a.on("PageError",function(a){if(!this.destroyed){var c=this.pageCache[a.pageNum-1].intentStates[a.intent];if(c.displayReadyCapability)c.displayReadyCapability.reject(a.error);else throw Error(a.error);if(c.operatorList){c.operatorList.lastChunk=true;for(a=0;a<c.renderTasks.length;a++)c.renderTasks[a].operatorListChanged()}}},this);a.on("UnsupportedFeature",function(a){if(!this.destroyed){var a=a.featureId,c=this.loadingTask;if(c.onUnsupportedFeature)c.onUnsupportedFeature(a);J.notify(a)}},this);a.on("JpegDecode",
function(a){if(this.destroyed)return Promise.reject(Error("Worker was destroyed"));if(typeof document==="undefined")return Promise.reject(Error('"document" is not defined.'));var c=a[0],b=a[1];return b!==3&&b!==1?Promise.reject(Error("Only 3 components or 1 component can be returned")):new Promise(function(a,f){var g=new Image;g.onload=function(){var c=g.width,f=g.height,r=c*f,m=r*4,r=new Uint8Array(r*b),e=document.createElement("canvas");e.width=c;e.height=f;e=e.getContext("2d");e.drawImage(g,0,
0);var e=e.getImageData(0,0,c,f).data,t,o;if(b===3)for(o=t=0;t<m;t=t+4,o=o+3){r[o]=e[t];r[o+1]=e[t+1];r[o+2]=e[t+2]}else if(b===1)for(o=t=0;t<m;t=t+4,o++)r[o]=e[t];a({data:r,width:c,height:f})};g.onerror=function(){f(Error("JpegDecode failed to load image"))};g.src=c})},this);a.on("FetchBuiltInCMap",function(a){return this.destroyed?Promise.reject(Error("Worker was destroyed")):this.CMapReaderFactory.fetch({name:a.name})},this)},getData:function(){return this.messageHandler.sendWithPromise("GetData",
null)},getPage:function(a){var c=this;if(!Number.isInteger(a)||a<=0||a>this.numPages)return Promise.reject(Error("Invalid page request"));var b=a-1;if(b in this.pagePromises)return this.pagePromises[b];a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:b}).then(function(a){if(c.destroyed)throw Error("Transport destroyed");a=new G(b,a,c);return c.pageCache[b]=a});return this.pagePromises[b]=a},getPageIndex:function(a){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:a}).catch(function(a){return Promise.reject(Error(a))})},
getAnnotations:function(a,c){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:c})},getDestinations:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)},getDestination:function(a){return this.messageHandler.sendWithPromise("GetDestination",{id:a})},getPageLabels:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)},getPageMode:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)},getAttachments:function(){return this.messageHandler.sendWithPromise("GetAttachments",
null)},getJavaScript:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)},getOutline:function(){return this.messageHandler.sendWithPromise("GetOutline",null)},getMetadata:function(){return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(a){return{info:a[0],metadata:a[1]?new x.Metadata(a[1]):null}})},getStats:function(){return this.messageHandler.sendWithPromise("GetStats",null)},startCleanup:function(){var a=this;this.messageHandler.sendWithPromise("Cleanup",
null).then(function(){for(var c=0,b=a.pageCache.length;c<b;c++){var f=a.pageCache[c];f&&f.cleanup()}a.commonObjs.clear();a.fontLoader.clear()})}};return a}(),t=function(){function a(){this.objs=Object.create(null)}a.prototype={ensureObj:function(a){if(this.objs[a])return this.objs[a];var c={capability:(0,n.createPromiseCapability)(),data:null,resolved:false};return this.objs[a]=c},get:function(a,c){if(c){this.ensureObj(a).capability.promise.then(c);return null}var b=this.objs[a];if(!b||!b.resolved)throw Error("Requesting object that isn't resolved yet "+
a);return b.data},resolve:function(a,c){var b=this.ensureObj(a);b.resolved=true;b.data=c;b.capability.resolve(c)},isResolved:function(a){var c=this.objs;return!c[a]?false:c[a].resolved},hasData:function(a){return this.isResolved(a)},getData:function(a){var c=this.objs;return!c[a]||!c[a].resolved?null:c[a].data},clear:function(){this.objs=Object.create(null)}};return a}(),o=function(){function a(c){this._internalRenderTask=c;this.onContinue=null}a.prototype={get promise(){return this._internalRenderTask.capability.promise},
cancel:function(){this._internalRenderTask.cancel()},then:function(a,c){return this.promise.then.apply(this.promise,arguments)}};return a}(),s=function(){function a(c,b,f,g,r,m,e){this.callback=c;this.params=b;this.objs=f;this.commonObjs=g;this.operatorListIdx=null;this.operatorList=r;this.pageNumber=m;this.canvasFactory=e;this.running=false;this.graphicsReadyCallback=null;this.cancelled=this.useRequestAnimationFrame=this.graphicsReady=false;this.capability=(0,n.createPromiseCapability)();this.task=
new o(this);this._continueBound=this._continue.bind(this);this._scheduleNextBound=this._scheduleNext.bind(this);this._nextBound=this._next.bind(this);this._canvas=b.canvasContext.canvas}var c=new WeakMap;a.prototype={initializeGraphics:function(a){if(this._canvas){if(c.has(this._canvas))throw Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");c.set(this._canvas,this)}if(!this.cancelled){if((0,l.getDefaultSetting)("pdfBug")&&
h.default.StepperManager&&h.default.StepperManager.enabled){this.stepper=h.default.StepperManager.create(this.pageNumber-1);this.stepper.init(this.operatorList);this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint()}var b=this.params;this.gfx=new w.CanvasGraphics(b.canvasContext,this.commonObjs,this.objs,this.canvasFactory,b.imageLayer);this.gfx.beginDrawing({transform:b.transform,viewport:b.viewport,transparency:a,background:b.background});this.operatorListIdx=0;this.graphicsReady=true;this.graphicsReadyCallback&&
this.graphicsReadyCallback()}},cancel:function(){this.running=false;this.cancelled=true;this._canvas&&c.delete(this._canvas);(0,l.getDefaultSetting)("pdfjsNext")?this.callback(new l.RenderingCancelledException("Rendering cancelled, page "+this.pageNumber,"canvas")):this.callback("cancelled")},operatorListChanged:function(){if(this.graphicsReady){this.stepper&&this.stepper.updateOperatorList(this.operatorList);this.running||this._continue()}else if(!this.graphicsReadyCallback)this.graphicsReadyCallback=
this._continueBound},_continue:function(){this.running=true;if(!this.cancelled)if(this.task.onContinue)this.task.onContinue(this._scheduleNextBound);else this._scheduleNext()},_scheduleNext:function(){this.useRequestAnimationFrame&&typeof window!=="undefined"?window.requestAnimationFrame(this._nextBound):Promise.resolve(void 0).then(this._nextBound)},_next:function(){if(!this.cancelled){this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper);
if(this.operatorListIdx===this.operatorList.argsArray.length){this.running=false;if(this.operatorList.lastChunk){this.gfx.endDrawing();this._canvas&&c.delete(this._canvas);this.callback()}}}}};return a}(),J=function(){var a=[];return{listen:function(c){(0,n.deprecated)("Global UnsupportedManager.listen is used:  use PDFDocumentLoadingTask.onUnsupportedFeature instead");a.push(c)},notify:function(c){for(var b=0,f=a.length;b<f;b++)a[b](c)}}}();b.version="1.9.523";b.build="1c9af00b";b.getDocument=function(a,
c,b,r){var e=new g;arguments.length>1&&(0,n.deprecated)("getDocument is called with pdfDataRangeTransport, passwordCallback or progressCallback argument");if(c){if(!(c instanceof f)){c=Object.create(c);c.length=a.length;c.initialData=a.initialData;if(!c.abort)c.abort=function(){}}a=Object.create(a);a.range=c}e.onPassword=b||null;e.onProgress=r||null;var t;if(typeof a==="string")t={url:a};else if((0,n.isArrayBuffer)(a))t={data:a};else if(a instanceof f)t={range:a};else{if((typeof a==="undefined"?"undefined":
i(a))!=="object")throw Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!a.url&&!a.data&&!a.range)throw Error("Invalid parameter object: need either .data, .range or .url");t=a}var o={},d=null,p=null,h=l.DOMCMapReaderFactory,u;for(u in t)if(u==="url"&&typeof window!=="undefined")o[u]=(new URL(t[u],window.location)).href;else if(u==="range")d=t[u];else if(u==="worker")p=t[u];else if(u==="data"&&!(t[u]instanceof Uint8Array)){var s=t[u];if(typeof s===
"string")o[u]=(0,n.stringToBytes)(s);else if((typeof s==="undefined"?"undefined":i(s))==="object"&&s!==null&&!isNaN(s.length))o[u]=new Uint8Array(s);else if((0,n.isArrayBuffer)(s))o[u]=new Uint8Array(s);else throw Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");}else u==="CMapReaderFactory"?h=t[u]:o[u]=t[u];o.rangeChunkSize=o.rangeChunkSize||65536;o.ignoreErrors=o.stopAtErrors!==true;o.disableNativeImageDecoder!==void 0&&(0,n.deprecated)("parameter disableNativeImageDecoder, use nativeImageDecoderSupport instead");
o.nativeImageDecoderSupport=o.nativeImageDecoderSupport||(o.disableNativeImageDecoder===true?n.NativeImageDecoding.NONE:n.NativeImageDecoding.DECODE);if(o.nativeImageDecoderSupport!==n.NativeImageDecoding.DECODE&&o.nativeImageDecoderSupport!==n.NativeImageDecoding.NONE&&o.nativeImageDecoderSupport!==n.NativeImageDecoding.DISPLAY){(0,n.warn)("Invalid parameter nativeImageDecoderSupport: need a state of enum {NativeImageDecoding}");o.nativeImageDecoderSupport=n.NativeImageDecoding.DECODE}if(!p){p=(t=
(0,l.getDefaultSetting)("workerPort"))?z.fromPort(t):new z;e._worker=p}var E=e.docId;p.promise.then(function(){if(e.destroyed)throw Error("Loading aborted");return k(p,o,d,E).then(function(a){if(e.destroyed)throw Error("Loading aborted");var c=void 0;d?c=new q.PDFDataTransportStream(o,d):o.data||(c=new m({source:o,disableRange:(0,l.getDefaultSetting)("disableRange")}));a=new n.MessageHandler(E,a,p.port);a.postMessageTransfers=p.postMessageTransfers;c=new A(a,e,c,h);e._transport=c;a.send("Ready",null)})}).catch(e._capability.reject);
return e};b.LoopbackPort=B;b.PDFDataRangeTransport=f;b.PDFWorker=z;b.PDFDocumentProxy=E;b.PDFPageProxy=G;b.setPDFNetworkStreamClass=function(a){m=a};b._UnsupportedManager=J;b.version="1.9.523";b.build="1c9af00b"},function(j,b,d){var k,e;Object.defineProperty(b,"__esModule",{value:!0});b.SVGGraphics=void 0;var i=d(0),j=function(){throw Error("Not implemented: SVGGraphics");};k="normal";e="#000000";var n=function(){function b(e,a,c,r){var m=r,g=a.length;c[m]=g>>24&255;c[m+1]=g>>16&255;c[m+2]=g>>8&255;
c[m+3]=g&255;m+=4;c[m]=e.charCodeAt(0)&255;c[m+1]=e.charCodeAt(1)&255;c[m+2]=e.charCodeAt(2)&255;c[m+3]=e.charCodeAt(3)&255;m+=4;c.set(a,m);m+=a.length;e=-1;for(r+=4;r<m;r++)e=e>>>8^d[(e^c[r])&255];r=e^-1;c[m]=r>>24&255;c[m+1]=r>>16&255;c[m+2]=r>>8&255;c[m+3]=r&255}for(var e=new Uint8Array([137,80,78,71,13,10,26,10]),d=new Int32Array(256),l=0;256>l;l++){for(var q=l,u=0;8>u;u++)q=q&1?3988292384^q>>1&2147483647:q>>1&2147483647;d[l]=q}return function(d,a){var c=void 0===d.kind?i.ImageKind.GRAYSCALE_1BPP:
d.kind,r=d.width,m=d.height,g,f,h,u=d.data;switch(c){case i.ImageKind.GRAYSCALE_1BPP:f=0;g=1;h=r+7>>3;break;case i.ImageKind.RGB_24BPP:f=2;g=8;h=3*r;break;case i.ImageKind.RGBA_32BPP:f=6;g=8;h=4*r;break;default:throw Error("invalid format");}var q=new Uint8Array((1+h)*m),l=0,A=0,t;for(t=0;t<m;++t)q[l++]=0,q.set(u.subarray(A,A+h),l),A+=h,l+=h;if(c===i.ImageKind.GRAYSCALE_1BPP)for(t=l=0;t<m;t++){l++;for(c=0;c<h;c++)q[l++]^=255}var r=new Uint8Array([r>>24&255,r>>16&255,r>>8&255,r&255,m>>24&255,m>>16&
255,m>>8&255,m&255,g,f,0,0,0]),o;a:{if((0,i.isNodeJS)())try{var s;s=8<=parseInt(process.versions.node)?q:new Buffer(q);var n=require("zlib").deflateSync(s,{level:9});o=n instanceof Uint8Array?n:new Uint8Array(n);break a}catch(k){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+k)}n=q.length;o=Math.ceil(n/65535);o=new Uint8Array(2+n+5*o+4);s=0;o[s++]=120;o[s++]=156;for(m=0;65535<n;)o[s++]=0,o[s++]=255,o[s++]=255,o[s++]=0,o[s++]=0,o.set(q.subarray(m,m+65535),s),s+=65535,m+=
65535,n-=65535;o[s++]=1;o[s++]=n&255;o[s++]=n>>8&255;o[s++]=~n&255;o[s++]=(~n&65535)>>8&255;o.set(q.subarray(m),s);s+=q.length-m;n=1;for(g=m=0;g<q.length;++g)n=(n+(q[g]&255))%65521,m=(m+n)%65521;q=m<<16|n;o[s++]=q>>24&255;o[s++]=q>>16&255;o[s++]=q>>8&255;o[s++]=q&255}q=new Uint8Array(e.length+36+r.length+o.length);s=0;q.set(e,s);s+=e.length;b("IHDR",r,q,s);s+=12+r.length;b("IDATA",o,q,s);s+=12+o.length;b("IEND",new Uint8Array(0),q,s);return(0,i.createObjectURL)(q,"image/png",a)}}(),l=function(){function b(){this.fontSizeScale=
1;this.fontWeight=k;this.fontSize=0;this.textMatrix=i.IDENTITY_MATRIX;this.fontMatrix=i.FONT_IDENTITY_MATRIX;this.wordSpacing=this.charSpacing=this.lineY=this.lineX=this.y=this.x=this.leading=0;this.textHScale=1;this.textRise=0;this.fillColor=e;this.strokeColor="#000000";this.lineWidth=this.strokeAlpha=this.fillAlpha=1;this.lineCap=this.lineJoin="";this.miterLimit=0;this.dashArray=[];this.dashPhase=0;this.dependencies=[];this.clipGroup=this.activeClipUrl=null;this.maskId=""}b.prototype={clone:function(){return Object.create(this)},
setCurrentPoint:function(b,e){this.x=b;this.y=e}};return b}();b.SVGGraphics=j=function(){function b(a){if(a===(a|0))return a.toString();var a=a.toFixed(10),c=a.length-1;if("0"!==a[c])return a;do c--;while("0"===a[c]);return a.substr(0,"."===a[c]?c:c+1)}function d(a){if(0===a[4]&&0===a[5]){if(0===a[1]&&0===a[2])return 1===a[0]&&1===a[3]?"":"scale("+b(a[0])+" "+b(a[3])+")";if(a[0]===a[3]&&a[1]===-a[2])return a=180*Math.acos(a[0])/Math.PI,"rotate("+b(a)+")"}else if(1===a[0]&&0===a[1]&&0===a[2]&&1===
a[3])return"translate("+b(a[4])+" "+b(a[5])+")";return"matrix("+b(a[0])+" "+b(a[1])+" "+b(a[2])+" "+b(a[3])+" "+b(a[4])+" "+b(a[5])+")"}function h(a,c,b){this.current=new l;this.transformMatrix=i.IDENTITY_MATRIX;this.transformStack=[];this.extraStack=[];this.commonObjs=a;this.objs=c;this.pendingClip=null;this.embedFonts=this.pendingEOFill=!1;this.embeddedFonts=Object.create(null);this.cssStyle=null;this.forceDataSchema=!!b}var x=["butt","round","square"],q=["miter","round","bevel"],u=0,y=0;h.prototype=
{save:function(){this.transformStack.push(this.transformMatrix);var a=this.current;this.extraStack.push(a);this.current=a.clone()},restore:function(){this.transformMatrix=this.transformStack.pop();this.current=this.extraStack.pop();this.tgrp=this.pendingClip=null},group:function(a){this.save();this.executeOpTree(a);this.restore()},loadDependencies:function(a){for(var c=this,b=a.fnArray,e=b.length,a=a.argsArray,g=0;g<e;g++)if(i.OPS.dependency===b[g])for(var f=a[g],d=0,h=f.length;d<h;d++){var q=f[d];
this.current.dependencies.push("g_"===q.substring(0,2)?new Promise(function(a){c.commonObjs.get(q,a)}):new Promise(function(a){c.objs.get(q,a)}))}return Promise.all(this.current.dependencies)},transform:function(a,c,b,e,g,f){this.transformMatrix=i.Util.transform(this.transformMatrix,[a,c,b,e,g,f]);this.tgrp=null},getSVG:function(a,c){var b=this;this.viewport=c;var e=this._initialize(c);return this.loadDependencies(a).then(function(){b.transformMatrix=i.IDENTITY_MATRIX;var c=b.convertOpList(a);b.executeOpTree(c);
return e})},convertOpList:function(a){var c=a.argsArray,b=a.fnArray,e=b.length,g=[],a=[],f;for(f in i.OPS)g[i.OPS[f]]=f;for(f=0;f<e;f++){var d=b[f];a.push({fnId:d,fn:g[d],args:c[f]})}c=[];b=[];e=a.length;for(g=0;g<e;g++)"save"===a[g].fn?(c.push({fnId:92,fn:"group",items:[]}),b.push(c),c=c[c.length-1].items):"restore"===a[g].fn?c=b.pop():c.push(a[g]);return c},executeOpTree:function(a){for(var c=a.length,b=0;b<c;b++){var e=a[b].fn,g=a[b].args;switch(a[b].fnId|0){case i.OPS.beginText:this.beginText();
break;case i.OPS.setLeading:this.setLeading(g);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(g[0],g[1]);break;case i.OPS.setFont:this.setFont(g);break;case i.OPS.showText:this.showText(g[0]);break;case i.OPS.showSpacedText:this.showText(g[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(g[0],g[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(g[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(g[0]);break;case i.OPS.setHScale:this.setHScale(g[0]);
break;case i.OPS.setTextMatrix:this.setTextMatrix(g[0],g[1],g[2],g[3],g[4],g[5]);break;case i.OPS.setTextRise:this.setTextRise(g[0]);break;case i.OPS.setLineWidth:this.setLineWidth(g[0]);break;case i.OPS.setLineJoin:this.setLineJoin(g[0]);break;case i.OPS.setLineCap:this.setLineCap(g[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(g[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(g[0],g[1],g[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(g[0],g[1],g[2]);break;case i.OPS.setDash:this.setDash(g[0],
g[1]);break;case i.OPS.setGState:this.setGState(g[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintJpegXObject:this.paintJpegXObject(g[0],g[1],g[2]);break;case i.OPS.paintImageXObject:this.paintImageXObject(g[0]);
break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(g[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(g[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(g[0],g[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(g[0],
g[1],g[2],g[3],g[4],g[5]);break;case i.OPS.constructPath:this.constructPath(g[0],g[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(a[b].items);break;default:(0,i.warn)("Unimplemented operator "+e)}}},setWordSpacing:function(a){this.current.wordSpacing=a},setCharSpacing:function(a){this.current.charSpacing=a},nextLine:function(){this.moveText(0,this.current.leading)},setTextMatrix:function(a,c,e,m,g,f){var d=this.current;this.current.textMatrix=this.current.lineMatrix=[a,c,e,m,
g,f];this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0;d.xcoords=[];d.tspan=document.createElementNS("http://www.w3.org/2000/svg","svg:tspan");d.tspan.setAttributeNS(null,"font-family",d.fontFamily);d.tspan.setAttributeNS(null,"font-size",b(d.fontSize)+"px");d.tspan.setAttributeNS(null,"y",b(-d.y));d.txtElement=document.createElementNS("http://www.w3.org/2000/svg","svg:text");d.txtElement.appendChild(d.tspan)},beginText:function(){this.current.x=this.current.lineX=0;this.current.y=
this.current.lineY=0;this.current.textMatrix=i.IDENTITY_MATRIX;this.current.lineMatrix=i.IDENTITY_MATRIX;this.current.tspan=document.createElementNS("http://www.w3.org/2000/svg","svg:tspan");this.current.txtElement=document.createElementNS("http://www.w3.org/2000/svg","svg:text");this.current.txtgrp=document.createElementNS("http://www.w3.org/2000/svg","svg:g");this.current.xcoords=[]},moveText:function(a,c){var e=this.current;this.current.x=this.current.lineX+=a;this.current.y=this.current.lineY+=
c;e.xcoords=[];e.tspan=document.createElementNS("http://www.w3.org/2000/svg","svg:tspan");e.tspan.setAttributeNS(null,"font-family",e.fontFamily);e.tspan.setAttributeNS(null,"font-size",b(e.fontSize)+"px");e.tspan.setAttributeNS(null,"y",b(-e.y))},showText:function(a){var c=this.current,r=c.font,m=c.fontSize;if(0!==m){var g=c.charSpacing,f=c.wordSpacing,h=c.fontDirection,q=c.textHScale*h,u=a.length,l=r.vertical,A=m*c.fontMatrix[0],t=0,o;for(o=0;o<u;++o){var s=a[o];if(null===s)t+=h*f;else if((0,i.isNum)(s))t+=
0.001*-s*m;else{var n=s.fontChar,y=s.width*A+((s.isSpace?f:0)+g)*h;if(s.isInFont||r.missingFile)c.xcoords.push(c.x+t*q),c.tspan.textContent+=n;t+=y}}l?c.y-=t*q:c.x+=t*q;c.tspan.setAttributeNS(null,"x",c.xcoords.map(b).join(" "));c.tspan.setAttributeNS(null,"y",b(-c.y));c.tspan.setAttributeNS(null,"font-family",c.fontFamily);c.tspan.setAttributeNS(null,"font-size",b(c.fontSize)+"px");"normal"!==c.fontStyle&&c.tspan.setAttributeNS(null,"font-style",c.fontStyle);c.fontWeight!==k&&c.tspan.setAttributeNS(null,
"font-weight",c.fontWeight);c.fillColor!==e&&c.tspan.setAttributeNS(null,"fill",c.fillColor);a=c.textMatrix;0!==c.textRise&&(a=a.slice(),a[5]+=c.textRise);c.txtElement.setAttributeNS(null,"transform",d(a)+" scale(1, -1)");c.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve");c.txtElement.appendChild(c.tspan);c.txtgrp.appendChild(c.txtElement);this._ensureTransformGroup().appendChild(c.txtElement)}},setLeadingMoveText:function(a,c){this.setLeading(-c);this.moveText(a,
c)},addFontStyle:function(a){this.cssStyle||(this.cssStyle=document.createElementNS("http://www.w3.org/2000/svg","svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var c=(0,i.createObjectURL)(a.data,a.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'+a.loadedName+'"; src: url('+c+"); }\n"},setFont:function(a){var c=this.current,e=this.commonObjs.get(a[0]),a=a[1];this.current.font=e;this.embedFonts&&(e.data&&
!this.embeddedFonts[e.loadedName])&&(this.addFontStyle(e),this.embeddedFonts[e.loadedName]=e);c.fontMatrix=e.fontMatrix?e.fontMatrix:i.FONT_IDENTITY_MATRIX;var m=e.black?e.bold?"bolder":"bold":e.bold?"bold":"normal",g=e.italic?"italic":"normal";0>a?(a=-a,c.fontDirection=-1):c.fontDirection=1;c.fontSize=a;c.fontFamily=e.loadedName;c.fontWeight=m;c.fontStyle=g;c.tspan=document.createElementNS("http://www.w3.org/2000/svg","svg:tspan");c.tspan.setAttributeNS(null,"y",b(-c.y));c.xcoords=[]},endText:function(){},
setLineWidth:function(a){this.current.lineWidth=a},setLineCap:function(a){this.current.lineCap=x[a]},setLineJoin:function(a){this.current.lineJoin=q[a]},setMiterLimit:function(a){this.current.miterLimit=a},setStrokeAlpha:function(a){this.current.strokeAlpha=a},setStrokeRGBColor:function(a,c,b){this.current.strokeColor=i.Util.makeCssRgb(a,c,b)},setFillAlpha:function(a){this.current.fillAlpha=a},setFillRGBColor:function(a,c,b){this.current.fillColor=i.Util.makeCssRgb(a,c,b);this.current.tspan=document.createElementNS("http://www.w3.org/2000/svg",
"svg:tspan");this.current.xcoords=[]},setDash:function(a,c){this.current.dashArray=a;this.current.dashPhase=c},constructPath:function(a,c){var e=this.current,m=e.x,g=e.y;e.path=document.createElementNS("http://www.w3.org/2000/svg","svg:path");for(var f=[],d=a.length,h=0,q=0;h<d;h++)switch(a[h]|0){case i.OPS.rectangle:var m=c[q++],g=c[q++],u=c[q++],A=c[q++],u=m+u,A=g+A;f.push("M",b(m),b(g),"L",b(u),b(g),"L",b(u),b(A),"L",b(m),b(A),"Z");break;case i.OPS.moveTo:m=c[q++];g=c[q++];f.push("M",b(m),b(g));
break;case i.OPS.lineTo:m=c[q++];g=c[q++];f.push("L",b(m),b(g));break;case i.OPS.curveTo:m=c[q+4];g=c[q+5];f.push("C",b(c[q]),b(c[q+1]),b(c[q+2]),b(c[q+3]),b(m),b(g));q+=6;break;case i.OPS.curveTo2:m=c[q+2];g=c[q+3];f.push("C",b(m),b(g),b(c[q]),b(c[q+1]),b(c[q+2]),b(c[q+3]));q+=4;break;case i.OPS.curveTo3:m=c[q+2];g=c[q+3];f.push("C",b(c[q]),b(c[q+1]),b(m),b(g),b(m),b(g));q+=4;break;case i.OPS.closePath:f.push("Z")}e.path.setAttributeNS(null,"d",f.join(" "));e.path.setAttributeNS(null,"fill","none");
this._ensureTransformGroup().appendChild(e.path);e.element=e.path;e.setCurrentPoint(m,g)},endPath:function(){if(this.pendingClip){var a=this.current,c="clippath"+u;u++;var b=document.createElementNS("http://www.w3.org/2000/svg","svg:clipPath");b.setAttributeNS(null,"id",c);b.setAttributeNS(null,"transform",d(this.transformMatrix));var e=a.element.cloneNode();"evenodd"===this.pendingClip?e.setAttributeNS(null,"clip-rule","evenodd"):e.setAttributeNS(null,"clip-rule","nonzero");this.pendingClip=null;
b.appendChild(e);this.defs.appendChild(b);a.activeClipUrl&&(a.clipGroup=null,this.extraStack.forEach(function(a){a.clipGroup=null}));a.activeClipUrl="url(#"+c+")";this.tgrp=null}},clip:function(a){this.pendingClip=a},closePath:function(){var a=this.current,c=a.path.getAttributeNS(null,"d");a.path.setAttributeNS(null,"d",c+"Z")},setLeading:function(a){this.current.leading=-a},setTextRise:function(a){this.current.textRise=a},setHScale:function(a){this.current.textHScale=a/100},setGState:function(a){for(var c=
0,b=a.length;c<b;c++){var e=a[c],g=e[0],e=e[1];switch(g){case "LW":this.setLineWidth(e);break;case "LC":this.setLineCap(e);break;case "LJ":this.setLineJoin(e);break;case "ML":this.setMiterLimit(e);break;case "D":this.setDash(e[0],e[1]);break;case "Font":this.setFont(e);break;case "CA":this.setStrokeAlpha(e);break;case "ca":this.setFillAlpha(e);break;default:(0,i.warn)("Unimplemented graphic state "+g)}}},fill:function(){var a=this.current;a.element.setAttributeNS(null,"fill",a.fillColor);a.element.setAttributeNS(null,
"fill-opacity",a.fillAlpha)},stroke:function(){var a=this.current;a.element.setAttributeNS(null,"stroke",a.strokeColor);a.element.setAttributeNS(null,"stroke-opacity",a.strokeAlpha);a.element.setAttributeNS(null,"stroke-miterlimit",b(a.miterLimit));a.element.setAttributeNS(null,"stroke-linecap",a.lineCap);a.element.setAttributeNS(null,"stroke-linejoin",a.lineJoin);a.element.setAttributeNS(null,"stroke-width",b(a.lineWidth)+"px");a.element.setAttributeNS(null,"stroke-dasharray",a.dashArray.map(b).join(" "));
a.element.setAttributeNS(null,"stroke-dashoffset",b(a.dashPhase)+"px");a.element.setAttributeNS(null,"fill","none")},eoFill:function(){this.current.element.setAttributeNS(null,"fill-rule","evenodd");this.fill()},fillStroke:function(){this.stroke();this.fill()},eoFillStroke:function(){this.current.element.setAttributeNS(null,"fill-rule","evenodd");this.fillStroke()},closeStroke:function(){this.closePath();this.stroke()},closeFillStroke:function(){this.closePath();this.fillStroke()},paintSolidColorImageMask:function(){var a=
this.current,c=document.createElementNS("http://www.w3.org/2000/svg","svg:rect");c.setAttributeNS(null,"x","0");c.setAttributeNS(null,"y","0");c.setAttributeNS(null,"width","1px");c.setAttributeNS(null,"height","1px");c.setAttributeNS(null,"fill",a.fillColor);this._ensureTransformGroup().appendChild(c)},paintJpegXObject:function(a,c,e){var a=this.objs.get(a),d=document.createElementNS("http://www.w3.org/2000/svg","svg:image");d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.src);d.setAttributeNS(null,
"width",b(c));d.setAttributeNS(null,"height",b(e));d.setAttributeNS(null,"x","0");d.setAttributeNS(null,"y",b(-e));d.setAttributeNS(null,"transform","scale("+b(1/c)+" "+b(-1/e)+")");this._ensureTransformGroup().appendChild(d)},paintImageXObject:function(a){(a=this.objs.get(a))?this.paintInlineImageXObject(a):(0,i.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(a,c){var e=a.width,d=a.height,g=n(a,this.forceDataSchema),f=document.createElementNS("http://www.w3.org/2000/svg",
"svg:rect");f.setAttributeNS(null,"x","0");f.setAttributeNS(null,"y","0");f.setAttributeNS(null,"width",b(e));f.setAttributeNS(null,"height",b(d));this.current.element=f;this.clip("nonzero");f=document.createElementNS("http://www.w3.org/2000/svg","svg:image");f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);f.setAttributeNS(null,"x","0");f.setAttributeNS(null,"y",b(-d));f.setAttributeNS(null,"width",b(e)+"px");f.setAttributeNS(null,"height",b(d)+"px");f.setAttributeNS(null,"transform",
"scale("+b(1/e)+" "+b(-1/d)+")");c?c.appendChild(f):this._ensureTransformGroup().appendChild(f)},paintImageMaskXObject:function(a){var c=this.current,e=a.width,d=a.height,g=c.fillColor;c.maskId="mask"+y++;var f=document.createElementNS("http://www.w3.org/2000/svg","svg:mask");f.setAttributeNS(null,"id",c.maskId);var q=document.createElementNS("http://www.w3.org/2000/svg","svg:rect");q.setAttributeNS(null,"x","0");q.setAttributeNS(null,"y","0");q.setAttributeNS(null,"width",b(e));q.setAttributeNS(null,
"height",b(d));q.setAttributeNS(null,"fill",g);q.setAttributeNS(null,"mask","url(#"+c.maskId+")");this.defs.appendChild(f);this._ensureTransformGroup().appendChild(q);this.paintInlineImageXObject(a,f)},paintFormXObjectBegin:function(a,c){Array.isArray(a)&&6===a.length&&this.transform(a[0],a[1],a[2],a[3],a[4],a[5]);if(Array.isArray(c)&&4===c.length){var e=c[2]-c[0],d=c[3]-c[1],g=document.createElementNS("http://www.w3.org/2000/svg","svg:rect");g.setAttributeNS(null,"x",c[0]);g.setAttributeNS(null,
"y",c[1]);g.setAttributeNS(null,"width",b(e));g.setAttributeNS(null,"height",b(d));this.current.element=g;this.clip("nonzero");this.endPath()}},paintFormXObjectEnd:function(){},_initialize:function(a){var c=document.createElementNS("http://www.w3.org/2000/svg","svg:svg");c.setAttributeNS(null,"version","1.1");c.setAttributeNS(null,"width",a.width+"px");c.setAttributeNS(null,"height",a.height+"px");c.setAttributeNS(null,"preserveAspectRatio","none");c.setAttributeNS(null,"viewBox","0 0 "+a.width+" "+
a.height);var b=document.createElementNS("http://www.w3.org/2000/svg","svg:defs");c.appendChild(b);this.defs=b;b=document.createElementNS("http://www.w3.org/2000/svg","svg:g");b.setAttributeNS(null,"transform",d(a.transform));c.appendChild(b);this.svg=b;return c},_ensureClipGroup:function(){if(!this.current.clipGroup){var a=document.createElementNS("http://www.w3.org/2000/svg","svg:g");a.setAttributeNS(null,"clip-path",this.current.activeClipUrl);this.svg.appendChild(a);this.current.clipGroup=a}return this.current.clipGroup},
_ensureTransformGroup:function(){this.tgrp||(this.tgrp=document.createElementNS("http://www.w3.org/2000/svg","svg:g"),this.tgrp.setAttributeNS(null,"transform",d(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp));return this.tgrp}};return h}();b.SVGGraphics=j},function(j,b,d){Object.defineProperty(b,"__esModule",{value:!0});b.renderTextLayer=void 0;var k=d(0),e=d(6),j=function(){function b(e){if(!e._canceled){var d=e._textDivs,
a=e._capability,c=d.length;if(!(c>h)&&!e._textContentStream)for(var q=0;q<c;q++)e._layoutText(d[q]);e._renderingDone=!0;a.resolve()}}function d(b){for(var e=b._bounds,a=b._viewport,a=l(a.width,a.height,e),c=0;c<a.length;c++){var q=e[c].div,m=b._textDivProperties.get(q);if(0===m.angle)m.paddingLeft=e[c].left-a[c].left,m.paddingTop=e[c].top-a[c].top,m.paddingRight=a[c].right-e[c].right,m.paddingBottom=a[c].bottom-e[c].bottom;else{var g=a[c],f=e[c],h=f.m,i=h[0],p=h[1],f=[[0,0],[0,f.size[1]],[f.size[0],
0],f.size],n=new Float64Array(64);f.forEach(function(a,c){var b=k.Util.applyTransform(a,h);n[c+0]=i&&(g.left-b[0])/i;n[c+4]=p&&(g.top-b[1])/p;n[c+8]=i&&(g.right-b[0])/i;n[c+12]=p&&(g.bottom-b[1])/p;n[c+16]=p&&(g.left-b[0])/-p;n[c+20]=i&&(g.top-b[1])/i;n[c+24]=p&&(g.right-b[0])/-p;n[c+28]=i&&(g.bottom-b[1])/i;n[c+32]=i&&(g.left-b[0])/-i;n[c+36]=p&&(g.top-b[1])/-p;n[c+40]=i&&(g.right-b[0])/-i;n[c+44]=p&&(g.bottom-b[1])/-p;n[c+48]=p&&(g.left-b[0])/p;n[c+52]=i&&(g.top-b[1])/-i;n[c+56]=p&&(g.right-b[0])/
p;n[c+60]=i&&(g.bottom-b[1])/-i});var f=function(a,c,b){for(var f=0,g=0;g<b;g++){var e=a[c++];0<e&&(f=f?Math.min(e,f):e)}return f},A=1+Math.min(Math.abs(i),Math.abs(p));m.paddingLeft=f(n,32,16)/A;m.paddingTop=f(n,48,16)/A;m.paddingRight=f(n,0,16)/A;m.paddingBottom=f(n,16,16)/A}b._textDivProperties.set(q,m)}}function l(b,e,a){var c=a.map(function(a,c){return{x1:a.left,y1:a.top,x2:a.right,y2:a.bottom,index:c,x1New:void 0,x2New:void 0}});p(b,c);var d=Array(a.length);c.forEach(function(a){d[a.index]=
{left:a.x1New,top:0,right:a.x2New,bottom:0}});a.map(function(a,g){var f=d[g],e=c[g];e.x1=a.top;e.y1=b-f.right;e.x2=a.bottom;e.y2=b-f.left;e.index=g;e.x1New=void 0;e.x2New=void 0});p(e,c);c.forEach(function(a){var c=a.index;d[c].top=a.x1New;d[c].bottom=a.x2New});return d}function p(b,e){e.sort(function(a,b){return a.x1-b.x1||a.index-b.index});var a=[{start:-Infinity,end:Infinity,boundary:{x1:-Infinity,y1:-Infinity,x2:0,y2:Infinity,index:-1,x1New:0,x2New:0}}];e.forEach(function(c){for(var b=0;b<a.length&&
a[b].end<=c.y1;)b++;for(var e=a.length-1;0<=e&&a[e].start>=c.y2;)e--;var g,f,d,q=-Infinity;for(d=b;d<=e;d++){g=a[d];f=g.boundary;var h;h=f.x2>c.x1?f.index>c.index?f.x1New:c.x1:void 0===f.x2New?(f.x2+c.x1)/2:f.x2New;h>q&&(q=h)}c.x1New=q;for(d=b;d<=e;d++)g=a[d],f=g.boundary,void 0===f.x2New?f.x2>c.x1?f.index>c.index&&(f.x2New=f.x2):f.x2New=q:f.x2New>q&&(f.x2New=Math.max(q,f.x2));h=[];var i=null;for(d=b;d<=e;d++)g=a[d],f=g.boundary,f=f.x2>c.x2?f:c,i===f?h[h.length-1].end=g.end:(h.push({start:g.start,
end:g.end,boundary:f}),i=f);a[b].start<c.y1&&(h[0].start=c.y1,h.unshift({start:a[b].start,end:c.y1,boundary:a[b].boundary}));c.y2<a[e].end&&(h[h.length-1].end=c.y2,h.push({start:c.y2,end:a[e].end,boundary:a[e].boundary}));for(d=b;d<=e;d++)if(g=a[d],f=g.boundary,void 0===f.x2New){g=!1;for(c=b-1;!g&&0<=c&&a[c].start>=f.y1;c--)g=a[c].boundary===f;for(c=e+1;!g&&c<a.length&&a[c].end<=f.y2;c++)g=a[c].boundary===f;for(c=0;!g&&c<h.length;c++)g=h[c].boundary===f;g||(f.x2New=q)}Array.prototype.splice.apply(a,
[b,e-b+1].concat(h))});a.forEach(function(a){a=a.boundary;void 0===a.x2New&&(a.x2New=Math.max(b,a.x2))})}function w(b){var e=b.textContentStream,a=b.container,c=b.viewport,d=b.textDivs,q=b.textContentItemsStr,g=b.enhanceTextSelection;this._textContent=b.textContent;this._textContentStream=e;this._container=a;this._viewport=c;this._textDivs=d||[];this._textContentItemsStr=q||[];this._enhanceTextSelection=!!g;this._layoutTextCtx=this._layoutTextLastFontFamily=this._layoutTextLastFontSize=this._reader=
null;this._textDivProperties=new WeakMap;this._canceled=this._renderingDone=!1;this._capability=(0,k.createPromiseCapability)();this._renderTimer=null;this._bounds=[]}var h=1E5,x=/\S/,q=["left: ",0,"px; top: ",0,"px; font-size: ",0,"px; font-family: ","",";"];w.prototype={get promise(){return this._capability.promise},cancel:function(){this._reader&&(this._reader.cancel(new k.AbortException("text layer task cancelled")),this._reader=null);this._canceled=!0;null!==this._renderTimer&&(clearTimeout(this._renderTimer),
this._renderTimer=null);this._capability.reject("canceled")},_processItems:function(b,d){for(var a=0,c=b.length;a<c;a++){this._textContentItemsStr.push(b[a].str);var h=b[a],i=d,g=document.createElement("div"),f={style:null,angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};this._textDivs.push(g);if(x.test(h.str)){var l=k.Util.transform(this._viewport.transform,h.transform),p=Math.atan2(l[1],l[0]),n=i[h.fontName];n.vertical&&
(p+=Math.PI/2);var w=Math.sqrt(l[2]*l[2]+l[3]*l[3]),A=w;n.ascent?A*=n.ascent:n.descent&&(A*=1+n.descent);var t=i=void 0;0===p?(i=l[4],t=l[5]-A):(i=l[4]+A*Math.sin(p),t=l[5]-A*Math.cos(p));q[1]=i;q[3]=t;q[5]=w;q[7]=n.fontFamily;f.style=q.join("");g.setAttribute("style",f.style);g.textContent=h.str;if((0,e.getDefaultSetting)("pdfBug"))g.dataset.fontName=h.fontName;0!==p&&(f.angle=p*(180/Math.PI));1<h.str.length&&(f.canvasWidth=n.vertical?h.height*this._viewport.scale:h.width*this._viewport.scale);this._textDivProperties.set(g,
f);this._textContentStream&&this._layoutText(g);this._enhanceTextSelection&&(f=1,l=0,0!==p&&(f=Math.cos(p),l=Math.sin(p)),h=(n.vertical?h.height:h.width)*this._viewport.scale,A=n=void 0,0!==p?(n=[f,l,-l,f,i,t],A=k.Util.getAxialAlignedBoundingBox([0,0,h,w],n)):A=[i,t,i+h,t+w],this._bounds.push({left:A[0],top:A[1],right:A[2],bottom:A[3],div:g,size:[h,w],m:n}))}else f.isWhitespace=!0,this._textDivProperties.set(g,f)}},_layoutText:function(b){var d=this._container,a=this._textDivProperties.get(b);if(!a.isWhitespace){var c=
b.style.fontSize,q=b.style.fontFamily;if(c!==this._layoutTextLastFontSize||q!==this._layoutTextLastFontFamily)this._layoutTextCtx.font=c+" "+q,this._lastFontSize=c,this._lastFontFamily=q;c=this._layoutTextCtx.measureText(b.textContent).width;q="";0!==a.canvasWidth&&0<c&&(a.scale=a.canvasWidth/c,q="scaleX("+a.scale+")");0!==a.angle&&(q="rotate("+a.angle+"deg) "+q);""!==q&&(a.originalTransform=q,e.CustomStyle.setProp("transform",b,q));this._textDivProperties.set(b,a);d.appendChild(b)}},_render:function(e){var d=
this,a=(0,k.createPromiseCapability)(),c=Object.create(null),q=document.createElement("canvas");q.mozOpaque=!0;this._layoutTextCtx=q.getContext("2d",{alpha:!1});if(this._textContent)this._processItems(this._textContent.items,this._textContent.styles),a.resolve();else if(this._textContentStream)this._reader=this._textContentStream.getReader(),function g(){d._reader.read().then(function(b){var e=b.value;b.done?a.resolve():(k.Util.extendObj(c,e.styles),d._processItems(e.items,c),g())},a.reject)}();else throw Error('Neither "textContent" nor "textContentStream" parameters specified.');
a.promise.then(function(){c=null;e?d._renderTimer=setTimeout(function(){b(d);d._renderTimer=null},e):b(d)},this._capability.reject)},expandTextDivs:function(b){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(d(this),this._bounds=null);for(var q=0,a=this._textDivs.length;q<a;q++){var c=this._textDivs[q],h=this._textDivProperties.get(c);if(!h.isWhitespace)if(b){var i="",g="";1!==h.scale&&(i="scaleX("+h.scale+")");0!==h.angle&&(i="rotate("+h.angle+"deg) "+i);0!==h.paddingLeft&&
(g+=" padding-left: "+h.paddingLeft/h.scale+"px;",i+=" translateX("+-h.paddingLeft/h.scale+"px)");0!==h.paddingTop&&(g+=" padding-top: "+h.paddingTop+"px;",i+=" translateY("+-h.paddingTop+"px)");0!==h.paddingRight&&(g+=" padding-right: "+h.paddingRight/h.scale+"px;");0!==h.paddingBottom&&(g+=" padding-bottom: "+h.paddingBottom+"px;");""!==g&&c.setAttribute("style",h.style+g);""!==i&&e.CustomStyle.setProp("transform",c,i)}else c.style.padding=0,e.CustomStyle.setProp("transform",c,h.originalTransform||
"")}}}};return function(b){var e=new w({textContent:b.textContent,textContentStream:b.textContentStream,container:b.container,viewport:b.viewport,textDivs:b.textDivs,textContentItemsStr:b.textContentItemsStr,enhanceTextSelection:b.enhanceTextSelection});e._render(b.timeout);return e}}();b.renderTextLayer=j},function(j){j.exports=function(b){if("function"!=typeof b)throw TypeError(b+" is not a function!");return b}},function(j){j.exports=function(b,d,k,e){if(!(b instanceof d)||void 0!==e&&e in b)throw TypeError(k+
": incorrect invocation!");return b}},function(j,b,d){var k=d(11),e=d(18),i=d(8);j.exports=function(b){for(var d=k(this),p=i(d.length),w=arguments.length,h=e(1<w?arguments[1]:void 0,p),w=2<w?arguments[2]:void 0,p=void 0===w?p:e(w,p);p>h;)d[h++]=b;return d}},function(j,b,d){var k=d(20),e=d(8),i=d(18);j.exports=function(b){return function(d,p,w){var d=k(d),h=e(d.length),w=i(w,h);if(b&&p!=p)for(;h>w;){if(p=d[w++],p!=p)return!0}else for(;h>w;w++)if((b||w in d)&&d[w]===p)return b||w||0;return!b&&-1}}},
function(j,b,d){var k=d(21),e=d(1)("toStringTag"),i="Arguments"==k(function(){return arguments}());j.exports=function(b){var d,p;if(void 0===b)d="Undefined";else{var w;if(null===b)w="Null";else{var h=b=Object(b);try{w=h[e]}catch(x){}w="string"==typeof(d=w)?d:i?k(b):"Object"==(p=k(b))&&"function"==typeof b.callee?"Arguments":p}d=w}return d}},function(j){j.exports=function(b){if(void 0==b)throw TypeError("Can't call method on  "+b);return b}},function(j,b,d){var b=d(9),k=d(2).document,e=b(k)&&b(k.createElement);
j.exports=function(b){return e?k.createElement(b):{}}},function(j,b,d){var k=d(2),e=d(15),i=d(4),n=d(25),l=d(22),b=function w(b,d,q){var u=b&w.F,y=b&w.G,a=b&w.S,c=b&w.P,r=b&w.B,a=y?k:a?k[d]||(k[d]={}):(k[d]||{}).prototype,m=y?e:e[d]||(e[d]={}),g=m.prototype||(m.prototype={}),f;y&&(q=d);for(f in q)y=!u&&a&&void 0!==a[f],d=(y?a:q)[f],y=r&&y?l(d,k):c&&"function"==typeof d?l(Function.call,d):d,a&&n(a,f,d,b&w.U),m[f]!=d&&i(m,f,y),c&&g[f]!=d&&(g[f]=d)};k.core=e;b.F=1;b.G=2;b.S=4;b.P=8;b.B=16;b.W=32;b.U=
64;b.R=128;j.exports=b},function(j,b,d){j.exports=!d(3)&&!d(16)(function(){return 7!=Object.defineProperty(d(40)("div"),"a",{get:function(){return 7}}).a})},function(j,b,d){var k=d(21);j.exports=Object("z").propertyIsEnumerable(0)?Object:function(b){return"String"==k(b)?b.split(""):Object(b)}},function(j,b,d){var k=d(14),e=d(71),i=d(23),n=d(27)("IE_PROTO"),l=function(){},p=function(){var b=d(40)("iframe"),e=i.length;b.style.display="none";d(64).appendChild(b);b.src="javascript:";b=b.contentWindow.document;
b.open();b.write("<script>document.F=Object<\/script>");b.close();for(p=b.F;e--;)delete p.prototype[i[e]];return p()};j.exports=Object.create||function(b,d){var i;null!==b?(l.prototype=k(b),i=new l,l.prototype=null,i[n]=b):i=p();return void 0===d?i:e(i,d)}},function(j,b,d){var k=d(47),e=d(23).concat("length","prototype");b.f=Object.getOwnPropertyNames||function(b){return k(b,e)}},function(j,b,d){var k=d(5),e=d(11),i=d(27)("IE_PROTO"),n=Object.prototype;j.exports=Object.getPrototypeOf||function(b){b=
e(b);return k(b,i)?b[i]:"function"==typeof b.constructor&&b instanceof b.constructor?b.constructor.prototype:b instanceof Object?n:null}},function(j,b,d){var k=d(5),e=d(20),i=d(37)(!1),n=d(27)("IE_PROTO");j.exports=function(b,d){var w=e(b),h=0,x=[],q;for(q in w)q!=n&&k(w,q)&&x.push(q);for(;d.length>h;)if(k(w,q=d[h++]))~i(x,q)||x.push(q);return x}},function(j,b,d){var k=d(25);j.exports=function(b,d,n){for(var l in d)k(b,l,d[l],n);return b}},function(j,b,d){var b=d(2),k=b["__core-js_shared__"]||(b["__core-js_shared__"]=
{});j.exports=function(b){return k[b]||(k[b]={})}},function(j,b,d){for(var b=d(2),k=d(4),e=d(12),d=e("typed_array"),e=e("view"),i=!(!b.ArrayBuffer||!b.DataView),n=i,l=0,p,w="Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" ");9>l;)(p=b[w[l++]])?(k(p.prototype,d,!0),k(p.prototype,e,!0)):n=!1;j.exports={ABV:i,CONSTR:n,TYPED:d,VIEW:e}},function(j,b){function d(b){return b.replace(/>\\376\\377([^<]+)/g,function(b,e){for(var d=e.replace(/\\([0-3])([0-7])([0-7])/g,
function(b,e,d,h){return String.fromCharCode(64*e+8*d+1*h)}),p="",k=0;k<d.length;k+=2)var h=256*d.charCodeAt(k)+d.charCodeAt(k+1),p=p+(32<=h&&127>h&&60!==h&&62!==h&&38!==h?String.fromCharCode(h):"&#x"+(65536+h).toString(16).substring(1)+";");return">"+p})}function k(b){if("string"===typeof b)b=d(b),b=(new DOMParser).parseFromString(b,"application/xml");else if(!(b instanceof Document))throw Error("Metadata: Invalid metadata object");this.metaDocument=b;this.metadata=Object.create(null);this.parse()}
Object.defineProperty(b,"__esModule",{value:!0});k.prototype={parse:function(){var b=this.metaDocument.documentElement;if("rdf:rdf"!==b.nodeName.toLowerCase())for(b=b.firstChild;b&&"rdf:rdf"!==b.nodeName.toLowerCase();)b=b.nextSibling;var d=b?b.nodeName.toLowerCase():null;if(b&&"rdf:rdf"===d&&b.hasChildNodes()){var b=b.childNodes,n,l,p,k,h,x;p=0;for(h=b.length;p<h;p++)if(d=b[p],"rdf:description"===d.nodeName.toLowerCase()){k=0;for(x=d.childNodes.length;k<x;k++)"#text"!==d.childNodes[k].nodeName.toLowerCase()&&
(n=d.childNodes[k],l=n.nodeName.toLowerCase(),this.metadata[l]=n.textContent.trim())}}},get:function(b){return this.metadata[b]||null},has:function(b){return"undefined"!==typeof this.metadata[b]}};b.Metadata=k},function(j,b,d){Object.defineProperty(b,"__esModule",{value:!0});b.WebGLUtils=void 0;var k=d(6),e=d(0),j=function(){function b(e,d,a){a=e.createShader(a);e.shaderSource(a,d);e.compileShader(a);if(!e.getShaderParameter(a,e.COMPILE_STATUS))throw e=e.getShaderInfoLog(a),Error("Error during shader compilation: "+
e);return a}function d(b,e){for(var a=b.createProgram(),c=0,q=e.length;c<q;++c)b.attachShader(a,e[c]);b.linkProgram(a);if(!b.getProgramParameter(a,b.LINK_STATUS))throw a=b.getProgramInfoLog(a),Error("Error during program linking: "+a);return a}function l(b,e,a){b.activeTexture(a);a=b.createTexture();b.bindTexture(b.TEXTURE_2D,a);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,
b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST);b.texImage2D(b.TEXTURE_2D,0,b.RGBA,b.RGBA,b.UNSIGNED_BYTE,e);return a}function p(){w||(h=document.createElement("canvas"),w=h.getContext("webgl",{premultipliedalpha:!1}))}var w,h,x=null,q=null;return{get isEnabled(){if((0,k.getDefaultSetting)("disableWebGL"))return!1;var b=!1;try{p(),b=!!w}catch(d){}return(0,e.shadow)(this,"isEnabled",b)},composeSMask:function(e,q,a){var c=e.width,r=e.height;if(!x){var m,g;p();m=h;h=null;g=w;
w=null;var f=b(g,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",
g.VERTEX_SHADER),k=b(g,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",
g.FRAGMENT_SHADER),j=d(g,[f,k]);g.useProgram(j);f={};f.gl=g;f.canvas=m;f.resolutionLocation=g.getUniformLocation(j,"u_resolution");f.positionLocation=g.getAttribLocation(j,"a_position");f.backdropLocation=g.getUniformLocation(j,"u_backdrop");f.subtypeLocation=g.getUniformLocation(j,"u_subtype");m=g.getAttribLocation(j,"a_texCoord");var k=g.getUniformLocation(j,"u_image"),j=g.getUniformLocation(j,"u_mask"),B=g.createBuffer();g.bindBuffer(g.ARRAY_BUFFER,B);g.bufferData(g.ARRAY_BUFFER,new Float32Array([0,
0,1,0,0,1,0,1,1,0,1,1]),g.STATIC_DRAW);g.enableVertexAttribArray(m);g.vertexAttribPointer(m,2,g.FLOAT,!1,0,0);g.uniform1i(k,0);g.uniform1i(j,1);x=f}g=x;f=g.canvas;m=g.gl;f.width=c;f.height=r;m.viewport(0,0,m.drawingBufferWidth,m.drawingBufferHeight);m.uniform2f(g.resolutionLocation,c,r);a.backdrop?m.uniform4f(g.resolutionLocation,a.backdrop[0],a.backdrop[1],a.backdrop[2],1):m.uniform4f(g.resolutionLocation,0,0,0,0);m.uniform1i(g.subtypeLocation,"Luminosity"===a.subtype?1:0);e=l(m,e,m.TEXTURE0);q=
l(m,q,m.TEXTURE1);a=m.createBuffer();m.bindBuffer(m.ARRAY_BUFFER,a);m.bufferData(m.ARRAY_BUFFER,new Float32Array([0,0,c,0,0,r,0,r,c,0,c,r]),m.STATIC_DRAW);m.enableVertexAttribArray(g.positionLocation);m.vertexAttribPointer(g.positionLocation,2,m.FLOAT,!1,0,0);m.clearColor(0,0,0,0);m.enable(m.BLEND);m.blendFunc(m.ONE,m.ONE_MINUS_SRC_ALPHA);m.clear(m.COLOR_BUFFER_BIT);m.drawArrays(m.TRIANGLES,0,6);m.flush();m.deleteTexture(e);m.deleteTexture(q);m.deleteBuffer(a);return f},drawFigures:function(e,l,a,
c,r){if(!q){var m,g;p();m=h;h=null;g=w;w=null;var f=b(g,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",
g.VERTEX_SHADER),k=b(g,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",g.FRAGMENT_SHADER),f=d(g,[f,
k]);g.useProgram(f);k={};k.gl=g;k.canvas=m;k.resolutionLocation=g.getUniformLocation(f,"u_resolution");k.scaleLocation=g.getUniformLocation(f,"u_scale");k.offsetLocation=g.getUniformLocation(f,"u_offset");k.positionLocation=g.getAttribLocation(f,"a_position");k.colorLocation=g.getAttribLocation(f,"a_color");q=k}m=q;g=m.canvas;f=m.gl;g.width=e;g.height=l;f.viewport(0,0,f.drawingBufferWidth,f.drawingBufferHeight);f.uniform2f(m.resolutionLocation,e,l);var e=0,j,x,z;j=0;for(x=c.length;j<x;j++)switch(c[j].type){case "lattice":z=
c[j].coords.length/c[j].verticesPerRow|0;e+=6*(z-1)*(c[j].verticesPerRow-1);break;case "triangles":e+=c[j].coords.length}var k=new Float32Array(2*e),l=new Uint8Array(3*e),A=r.coords,t=r.colors,o=0,s=0;j=0;for(x=c.length;j<x;j++){z=c[j];var J=z.coords,H=z.colors;switch(z.type){case "lattice":var K=z.verticesPerRow;z=J.length/K|0;for(var M=1;M<z;M++)for(var D=M*K+1,I=1;I<K;I++,D++)k[o]=A[J[D-K-1]],k[o+1]=A[J[D-K-1]+1],k[o+2]=A[J[D-K]],k[o+3]=A[J[D-K]+1],k[o+4]=A[J[D-1]],k[o+5]=A[J[D-1]+1],l[s]=t[H[D-
K-1]],l[s+1]=t[H[D-K-1]+1],l[s+2]=t[H[D-K-1]+2],l[s+3]=t[H[D-K]],l[s+4]=t[H[D-K]+1],l[s+5]=t[H[D-K]+2],l[s+6]=t[H[D-1]],l[s+7]=t[H[D-1]+1],l[s+8]=t[H[D-1]+2],k[o+6]=k[o+2],k[o+7]=k[o+3],k[o+8]=k[o+4],k[o+9]=k[o+5],k[o+10]=A[J[D]],k[o+11]=A[J[D]+1],l[s+9]=l[s+3],l[s+10]=l[s+4],l[s+11]=l[s+5],l[s+12]=l[s+6],l[s+13]=l[s+7],l[s+14]=l[s+8],l[s+15]=t[H[D]],l[s+16]=t[H[D]+1],l[s+17]=t[H[D]+2],o+=12,s+=18;break;case "triangles":z=0;for(K=J.length;z<K;z++)k[o]=A[J[z]],k[o+1]=A[J[z]+1],l[s]=t[H[z]],l[s+1]=
t[H[z]+1],l[s+2]=t[H[z]+2],o+=2,s+=3}}a?f.clearColor(a[0]/255,a[1]/255,a[2]/255,1):f.clearColor(0,0,0,0);f.clear(f.COLOR_BUFFER_BIT);a=f.createBuffer();f.bindBuffer(f.ARRAY_BUFFER,a);f.bufferData(f.ARRAY_BUFFER,k,f.STATIC_DRAW);f.enableVertexAttribArray(m.positionLocation);f.vertexAttribPointer(m.positionLocation,2,f.FLOAT,!1,0,0);c=f.createBuffer();f.bindBuffer(f.ARRAY_BUFFER,c);f.bufferData(f.ARRAY_BUFFER,l,f.STATIC_DRAW);f.enableVertexAttribArray(m.colorLocation);f.vertexAttribPointer(m.colorLocation,
3,f.UNSIGNED_BYTE,!1,0,0);f.uniform2f(m.scaleLocation,r.scaleX,r.scaleY);f.uniform2f(m.offsetLocation,r.offsetX,r.offsetY);f.drawArrays(f.TRIANGLES,0,e);f.flush();f.deleteBuffer(a);f.deleteBuffer(c);return g},clear:function(){x&&x.canvas&&(x.canvas.width=0,x.canvas.height=0);q&&q.canvas&&(q.canvas.width=0,q.canvas.height=0);q=x=null}}}();b.WebGLUtils=j},function(j,b,d){function k(b,e){if(!(b instanceof e))throw new TypeError("Cannot call a class as a function");}function e(b,e){return{method:"GET",
headers:b,mode:"cors",credentials:e?"include":"omit",redirect:"follow"}}Object.defineProperty(b,"__esModule",{value:!0});b.PDFFetchStream=void 0;var i=function(){function b(e,d){for(var h=0;h<d.length;h++){var i=d[h];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(e,i.key,i)}}return function(e,d,i){d&&b(e.prototype,d);i&&b(e,i);return e}}(),n=d(0),l=d(29),j=function(){function b(e){k(this,b);this.options=e;this.source=e.source;this.httpHeaders=(this.isHttp=
/^https?:/i.test(this.source.url))&&this.source.httpHeaders||{};this._fullRequestReader=null;this._rangeRequestReaders=[]}i(b,[{key:"getFullReader",value:function(){(0,n.assert)(!this._fullRequestReader);return this._fullRequestReader=new p(this)}},{key:"getRangeReader",value:function(b,e){var d=new w(this,b,e);this._rangeRequestReaders.push(d);return d}},{key:"cancelAllRequests",value:function(b){this._fullRequestReader&&this._fullRequestReader.cancel(b);this._rangeRequestReaders.slice(0).forEach(function(e){e.cancel(b)})}}]);
return b}(),p=function(){function b(d){var q=this;k(this,b);this._stream=d;this._reader=null;this._loaded=0;this._withCredentials=d.source.withCredentials;this._contentLength=this._stream.source.length;this._headersCapability=(0,n.createPromiseCapability)();this._disableRange=this._stream.options.disableRange;this._rangeChunkSize=this._stream.source.rangeChunkSize;!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0);this._isRangeSupported=!this._stream.options.disableRange;this._isStreamingSupported=
!this._stream.source.disableStream;this._headers=new Headers;for(var i in this._stream.httpHeaders)d=this._stream.httpHeaders[i],"undefined"!==typeof d&&this._headers.append(i,d);var p=this._stream.source.url;fetch(p,e(this._headers,this._withCredentials)).then(function(a){if(!(0,l.validateResponseStatus)(a.status,q._stream.isHttp))throw(0,l.createResponseStatusError)(a.status,p);q._reader=a.body.getReader();q._headersCapability.resolve();var c=(0,l.validateRangeRequestCapabilities)({getResponseHeader:function(c){return a.headers.get(c)},
isHttp:q._stream.isHttp,rangeChunkSize:q._rangeChunkSize,disableRange:q._disableRange}),b=c.allowRangeRequests;q._contentLength=c.suggestedLength;q._isRangeSupported=b;!q._isStreamingSupported&&q._isRangeSupported&&q.cancel(new n.AbortException("streaming is disabled"))}).catch(this._headersCapability.reject);this.onProgress=null}i(b,[{key:"read",value:function(){var b=this;return this._headersCapability.promise.then(function(){return b._reader.read().then(function(e){var d=e.value;if(e=e.done)return Promise.resolve({value:d,
done:e});b._loaded+=d.byteLength;if(b.onProgress)b.onProgress({loaded:b._loaded,total:b._contentLength});d=(new Uint8Array(d)).buffer;return Promise.resolve({value:d,done:!1})})})}},{key:"cancel",value:function(b){this._reader&&this._reader.cancel(b)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);
return b}(),w=function(){function b(d,q,i){var p=this;k(this,b);this._stream=d;this._reader=null;this._loaded=0;this._withCredentials=d.source.withCredentials;this._readCapability=(0,n.createPromiseCapability)();this._isStreamingSupported=!d.source.disableStream;this._headers=new Headers;for(var a in this._stream.httpHeaders)d=this._stream.httpHeaders[a],"undefined"!==typeof d&&this._headers.append(a,d);this._headers.append("Range","bytes="+(q+"-"+(i-1)));var c=this._stream.source.url;fetch(c,e(this._headers,
this._withCredentials)).then(function(a){if(!(0,l.validateResponseStatus)(a.status,p._stream.isHttp))throw(0,l.createResponseStatusError)(a.status,c);p._readCapability.resolve();p._reader=a.body.getReader()});this.onProgress=null}i(b,[{key:"read",value:function(){var b=this;return this._readCapability.promise.then(function(){return b._reader.read().then(function(e){var d=e.value;if(e=e.done)return Promise.resolve({value:d,done:e});b._loaded+=d.byteLength;if(b.onProgress)b.onProgress({loaded:b._loaded});
d=(new Uint8Array(d)).buffer;return Promise.resolve({value:d,done:!1})})})}},{key:"cancel",value:function(b){this._reader&&this._reader.cancel(b)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return b}();b.PDFFetchStream=j},function(j,b,d){Object.defineProperty(b,"__esModule",{value:!0});b.PDFJS=b.isWorker=b.globalScope=void 0;var j=d(31),k=d(6),e=d(0),i=d(30),n=d(13),n=n&&n.__esModule?n:{"default":n},l=d(51),p=d(33),d=d(32),w="undefined"===typeof window;n.default.PDFJS||
(n.default.PDFJS={});var h=n.default.PDFJS;h.version="1.9.523";h.build="1c9af00b";h.pdfBug=!1;void 0!==h.verbosity&&(0,e.setVerbosityLevel)(h.verbosity);delete h.verbosity;Object.defineProperty(h,"verbosity",{get:function(){return(0,e.getVerbosityLevel)()},set:function(b){(0,e.setVerbosityLevel)(b)},enumerable:!0,configurable:!0});h.VERBOSITY_LEVELS=e.VERBOSITY_LEVELS;h.OPS=e.OPS;h.UNSUPPORTED_FEATURES=e.UNSUPPORTED_FEATURES;h.isValidUrl=k.isValidUrl;h.shadow=e.shadow;h.createBlob=e.createBlob;h.createObjectURL=
function(b,d){return(0,e.createObjectURL)(b,d,h.disableCreateObjectURL)};Object.defineProperty(h,"isLittleEndian",{configurable:!0,get:function(){return(0,e.shadow)(h,"isLittleEndian",(0,e.isLittleEndian)())}});h.removeNullCharacters=e.removeNullCharacters;h.PasswordResponses=e.PasswordResponses;h.PasswordException=e.PasswordException;h.UnknownErrorException=e.UnknownErrorException;h.InvalidPDFException=e.InvalidPDFException;h.MissingPDFException=e.MissingPDFException;h.UnexpectedResponseException=
e.UnexpectedResponseException;h.Util=e.Util;h.PageViewport=e.PageViewport;h.createPromiseCapability=e.createPromiseCapability;h.maxImageSize=void 0===h.maxImageSize?-1:h.maxImageSize;h.cMapUrl=void 0===h.cMapUrl?null:h.cMapUrl;h.cMapPacked=void 0===h.cMapPacked?!1:h.cMapPacked;h.disableFontFace=void 0===h.disableFontFace?!1:h.disableFontFace;h.imageResourcesPath=void 0===h.imageResourcesPath?"":h.imageResourcesPath;h.disableWorker=void 0===h.disableWorker?!1:h.disableWorker;h.workerSrc=void 0===h.workerSrc?
null:h.workerSrc;h.workerPort=void 0===h.workerPort?null:h.workerPort;h.disableRange=void 0===h.disableRange?!1:h.disableRange;h.disableStream=void 0===h.disableStream?!1:h.disableStream;h.disableAutoFetch=void 0===h.disableAutoFetch?!1:h.disableAutoFetch;h.pdfBug=void 0===h.pdfBug?!1:h.pdfBug;h.postMessageTransfers=void 0===h.postMessageTransfers?!0:h.postMessageTransfers;h.disableCreateObjectURL=void 0===h.disableCreateObjectURL?!1:h.disableCreateObjectURL;h.disableWebGL=void 0===h.disableWebGL?
!0:h.disableWebGL;h.externalLinkTarget=void 0===h.externalLinkTarget?k.LinkTarget.NONE:h.externalLinkTarget;h.externalLinkRel=void 0===h.externalLinkRel?k.DEFAULT_LINK_REL:h.externalLinkRel;h.isEvalSupported=void 0===h.isEvalSupported?!0:h.isEvalSupported;h.pdfjsNext=void 0===h.pdfjsNext?!1:h.pdfjsNext;var x=h.openExternalLinksInNewWindow;delete h.openExternalLinksInNewWindow;Object.defineProperty(h,"openExternalLinksInNewWindow",{get:function(){return h.externalLinkTarget===k.LinkTarget.BLANK},set:function(b){b&&
(0,e.deprecated)('PDFJS.openExternalLinksInNewWindow, please use "PDFJS.externalLinkTarget = PDFJS.LinkTarget.BLANK" instead.');h.externalLinkTarget!==k.LinkTarget.NONE?(0,e.warn)("PDFJS.externalLinkTarget is already initialized"):h.externalLinkTarget=b?k.LinkTarget.BLANK:k.LinkTarget.NONE},enumerable:!0,configurable:!0});x&&(h.openExternalLinksInNewWindow=x);h.getDocument=j.getDocument;h.LoopbackPort=j.LoopbackPort;h.PDFDataRangeTransport=j.PDFDataRangeTransport;h.PDFWorker=j.PDFWorker;h.hasCanvasTypedArrays=
!0;h.CustomStyle=k.CustomStyle;h.LinkTarget=k.LinkTarget;h.addLinkAttributes=k.addLinkAttributes;h.getFilenameFromUrl=k.getFilenameFromUrl;h.isExternalLinkTargetSet=k.isExternalLinkTargetSet;h.AnnotationLayer=i.AnnotationLayer;h.renderTextLayer=p.renderTextLayer;h.Metadata=l.Metadata;h.SVGGraphics=d.SVGGraphics;h.UnsupportedManager=j._UnsupportedManager;b.globalScope=n.default;b.isWorker=w;b.PDFJS=h},function(j,b,d){function k(b,e){this.url=b;e=e||{};this.httpHeaders=(this.isHttp=/^https?:/i.test(b))&&
e.httpHeaders||{};this.withCredentials=e.withCredentials||!1;this.getXhr=e.getXhr||function(){return new XMLHttpRequest};this.currXhrId=0;this.pendingRequests=Object.create(null);this.loadedRequests=Object.create(null)}function e(b){b=b.response;if("string"!==typeof b)return b;for(var e=b.length,d=new Uint8Array(e),a=0;a<e;a++)d[a]=b.charCodeAt(a)&255;return d.buffer}function i(b){this._options=b;b=b.source;this._manager=new k(b.url,{httpHeaders:b.httpHeaders,withCredentials:b.withCredentials});this._rangeChunkSize=
b.rangeChunkSize;this._fullRequestReader=null;this._rangeRequestReaders=[]}function n(b,e){this._manager=b;var d=e.source,a={onHeadersReceived:this._onHeadersReceived.bind(this),onProgressiveData:d.disableStream?null:this._onProgressiveData.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=d.url;this._fullRequestId=b.requestFull(a);this._headersReceivedCapability=(0,p.createPromiseCapability)();this._disableRange=e.disableRange||
!1;this._contentLength=d.length;this._rangeChunkSize=d.rangeChunkSize;!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0);this._isRangeSupported=this._isStreamingSupported=!1;this._cachedChunks=[];this._requests=[];this._done=!1;this._storedError=void 0;this.onProgress=null}function l(b,e,d){this._manager=b;var a={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=b.requestRange(e,d,a);this._requests=[];this._queuedChunk=null;this._done=!1;this.onClosed=
this.onProgress=null}Object.defineProperty(b,"__esModule",{value:!0});b.NetworkManager=b.PDFNetworkStream=void 0;var p=d(0),w=d(29),h=(j=d(13))&&j.__esModule?j:{"default":j},x=function(){try{var b=new XMLHttpRequest;b.open("GET",h.default.location.href);b.responseType="moz-chunked-arraybuffer";return"moz-chunked-arraybuffer"===b.responseType}catch(e){return!1}}();k.prototype={requestRange:function(b,e,d){var b={begin:b,end:e},a;for(a in d)b[a]=d[a];return this.request(b)},requestFull:function(b){return this.request(b)},
request:function(b){var e=this.getXhr(),d=this.currXhrId++,a=this.pendingRequests[d]={xhr:e};e.open("GET",this.url);e.withCredentials=this.withCredentials;for(var c in this.httpHeaders){var h=this.httpHeaders[c];"undefined"!==typeof h&&e.setRequestHeader(c,h)}this.isHttp&&"begin"in b&&"end"in b?(e.setRequestHeader("Range","bytes="+(b.begin+"-"+(b.end-1))),a.expectedStatus=206):a.expectedStatus=200;x&&b.onProgressiveData?(e.responseType="moz-chunked-arraybuffer",a.onProgressiveData=b.onProgressiveData,
a.mozChunked=!0):e.responseType="arraybuffer";b.onError&&(e.onerror=function(){b.onError(e.status)});e.onreadystatechange=this.onStateChange.bind(this,d);e.onprogress=this.onProgress.bind(this,d);a.onHeadersReceived=b.onHeadersReceived;a.onDone=b.onDone;a.onError=b.onError;a.onProgress=b.onProgress;e.send(null);return d},onProgress:function(b,d){var h=this.pendingRequests[b];if(h){if(h.mozChunked){var a=e(h.xhr);h.onProgressiveData(a)}(h=h.onProgress)&&h(d)}},onStateChange:function(b){var d=this.pendingRequests[b];
if(d){var h=d.xhr;2<=h.readyState&&d.onHeadersReceived&&(d.onHeadersReceived(),delete d.onHeadersReceived);if(4===h.readyState&&b in this.pendingRequests)if(delete this.pendingRequests[b],0===h.status&&this.isHttp){if(d.onError)d.onError(h.status)}else{var a=h.status||200;if(!(200===a&&206===d.expectedStatus)&&a!==d.expectedStatus){if(d.onError)d.onError(h.status)}else if(this.loadedRequests[b]=!0,b=e(h),206===a)h=/bytes (\d+)-(\d+)\/(\d+)/.exec(h.getResponseHeader("Content-Range")),h=parseInt(h[1],
10),d.onDone({begin:h,chunk:b});else if(d.onProgressiveData)d.onDone(null);else if(b)d.onDone({begin:0,chunk:b});else if(d.onError)d.onError(h.status)}}},hasPendingRequests:function(){for(var b in this.pendingRequests)return!0;return!1},getRequestXhr:function(b){return this.pendingRequests[b].xhr},isStreamingRequest:function(b){return!!this.pendingRequests[b].onProgressiveData},isPendingRequest:function(b){return b in this.pendingRequests},isLoadedRequest:function(b){return b in this.loadedRequests},
abortAllRequests:function(){for(var b in this.pendingRequests)this.abortRequest(b|0)},abortRequest:function(b){var e=this.pendingRequests[b].xhr;delete this.pendingRequests[b];e.abort()}};i.prototype={_onRangeRequestReaderClosed:function(b){b=this._rangeRequestReaders.indexOf(b);0<=b&&this._rangeRequestReaders.splice(b,1)},getFullReader:function(){(0,p.assert)(!this._fullRequestReader);return this._fullRequestReader=new n(this._manager,this._options)},getRangeReader:function(b,e){var d=new l(this._manager,
b,e);d.onClosed=this._onRangeRequestReaderClosed.bind(this);this._rangeRequestReaders.push(d);return d},cancelAllRequests:function(b){this._fullRequestReader&&this._fullRequestReader.cancel(b);this._rangeRequestReaders.slice(0).forEach(function(e){e.cancel(b)})}};n.prototype={_onHeadersReceived:function(){var b=this._fullRequestId,e=this._manager.getRequestXhr(b),d=(0,w.validateRangeRequestCapabilities)({getResponseHeader:function(a){return e.getResponseHeader(a)},isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,
disableRange:this._disableRange}),a=d.allowRangeRequests;this._contentLength=d.suggestedLength||this._contentLength;a&&(this._isRangeSupported=!0);d=this._manager;d.isStreamingRequest(b)?this._isStreamingSupported=!0:this._isRangeSupported&&d.abortRequest(b);this._headersReceivedCapability.resolve()},_onProgressiveData:function(b){0<this._requests.length?this._requests.shift().resolve({value:b,done:!1}):this._cachedChunks.push(b)},_onDone:function(b){b&&this._onProgressiveData(b.chunk);this._done=
!0;0<this._cachedChunks.length||(this._requests.forEach(function(b){b.resolve({value:void 0,done:!0})}),this._requests=[])},_onError:function(b){var e=this._url,d=(0,w.createResponseStatusError)(b,e);this._storedError=d;this._headersReceivedCapability.reject(d);this._requests.forEach(function(a){a.reject(d)});this._requests=[];this._cachedChunks=[]},_onProgress:function(b){if(this.onProgress)this.onProgress({loaded:b.loaded,total:b.lengthComputable?b.total:this._contentLength})},get isRangeSupported(){return this._isRangeSupported},
get isStreamingSupported(){return this._isStreamingSupported},get contentLength(){return this._contentLength},get headersReady(){return this._headersReceivedCapability.promise},read:function(){if(this._storedError)return Promise.reject(this._storedError);if(0<this._cachedChunks.length){var b=this._cachedChunks.shift();return Promise.resolve({value:b,done:!1})}if(this._done)return Promise.resolve({value:void 0,done:!0});b=(0,p.createPromiseCapability)();this._requests.push(b);return b.promise},cancel:function(b){this._done=
!0;this._headersReceivedCapability.reject(b);this._requests.forEach(function(b){b.resolve({value:void 0,done:!0})});this._requests=[];this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId);this._fullRequestReader=null}};l.prototype={_close:function(){if(this.onClosed)this.onClosed(this)},_onDone:function(b){b=b.chunk;0<this._requests.length?this._requests.shift().resolve({value:b,done:!1}):this._queuedChunk=b;this._done=!0;this._requests.forEach(function(b){b.resolve({value:void 0,
done:!0})});this._requests=[];this._close()},_onProgress:function(b){if(!this.isStreamingSupported&&this.onProgress)this.onProgress({loaded:b.loaded})},get isStreamingSupported(){return!1},read:function(){if(null!==this._queuedChunk){var b=this._queuedChunk;this._queuedChunk=null;return Promise.resolve({value:b,done:!1})}if(this._done)return Promise.resolve({value:void 0,done:!0});b=(0,p.createPromiseCapability)();this._requests.push(b);return b.promise},cancel:function(){this._done=!0;this._requests.forEach(function(b){b.resolve({value:void 0,
done:!0})});this._requests=[];this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId);this._close()}};b.PDFNetworkStream=i;b.NetworkManager=k},function(j,b,d){function k(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"===typeof b||"function"===typeof b)?b:a}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);
a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function n(a,b){return{protocol:a.protocol,auth:a.auth,host:a.hostname,port:a.port,path:a.path,method:"GET",headers:b}}Object.defineProperty(b,"__esModule",{value:!0});b.PDFNodeStream=void 0;var l=function(){function a(b,c){for(var e=
0;e<c.length;e++){var d=c[e];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),p=d(0),w=d(29),h=require("fs"),x=require("http"),q=require("https"),u=require("url"),j=function(){function b(a){i(this,b);this.options=a;this.source=a.source;this.url=u.parse(this.source.url);this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol;this.isFsUrl="file:"===this.url.protocol||
!this.url.host;this.httpHeaders=this.isHttp&&this.source.httpHeaders||{};this._fullRequest=null;this._rangeRequestReaders=[]}l(b,[{key:"getFullReader",value:function(){(0,p.assert)(!this._fullRequest);return this._fullRequest=this.isFsUrl?new r(this):new a(this)}},{key:"getRangeReader",value:function(a,b){var e=this.isFsUrl?new m(this,a,b):new c(this,a,b);this._rangeRequestReaders.push(e);return e}},{key:"cancelAllRequests",value:function(a){this._fullRequest&&this._fullRequest.cancel(a);this._rangeRequestReaders.slice(0).forEach(function(b){b.cancel(a)})}}]);
return b}(),d=function(){function a(b){i(this,a);this._url=b.url;this._errored=this._done=!1;this.onProgress=this._reason=null;this._contentLength=b.source.length;this._loaded=0;this._disableRange=b.options.disableRange||!1;this._rangeChunkSize=b.source.rangeChunkSize;!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0);this._isStreamingSupported=!b.source.disableStream;this._isRangeSupported=!b.options.disableRange;this._readableStream=null;this._readCapability=(0,p.createPromiseCapability)();
this._headersCapability=(0,p.createPromiseCapability)()}l(a,[{key:"read",value:function(){var a=this;return this._readCapability.promise.then(function(){if(a._done)return Promise.resolve({value:void 0,done:!0});if(a._errored)return Promise.reject(a._reason);var b=a._readableStream.read();if(null===b)return a._readCapability=(0,p.createPromiseCapability)(),a.read();a._loaded+=b.length;if(a.onProgress)a.onProgress({loaded:a._loaded,total:a._contentLength});b=(new Uint8Array(b)).buffer;return Promise.resolve({value:b,
done:!1})})}},{key:"cancel",value:function(a){this._readableStream?this._readableStream.destroy(a):this._error(a)}},{key:"_error",value:function(a){this._errored=!0;this._reason=a;this._readCapability.resolve()}},{key:"_setReadableStream",value:function(a){var b=this;this._readableStream=a;a.on("readable",function(){b._readCapability.resolve()});a.on("end",function(){a.destroy();b._done=!0;b._readCapability.resolve()});a.on("error",function(a){b._error(a)});!this._isStreamingSupported&&this._isRangeSupported&&
this._error(new p.AbortException("streaming is disabled"));this._errored&&this._readableStream.destroy(this._reason)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return a}(),y=function(){function a(b){i(this,a);this._url=b.url;this._errored=this._done=
!1;this.onProgress=this._reason=null;this._loaded=0;this._readableStream=null;this._readCapability=(0,p.createPromiseCapability)();this._isStreamingSupported=!b.source.disableStream}l(a,[{key:"read",value:function(){var a=this;return this._readCapability.promise.then(function(){if(a._done)return Promise.resolve({value:void 0,done:!0});if(a._errored)return Promise.reject(a._reason);var b=a._readableStream.read();if(null===b)return a._readCapability=(0,p.createPromiseCapability)(),a.read();a._loaded+=
b.length;if(a.onProgress)a.onProgress({loaded:a._loaded});b=(new Uint8Array(b)).buffer;return Promise.resolve({value:b,done:!1})})}},{key:"cancel",value:function(a){this._readableStream?this._readableStream.destroy(a):this._error(a)}},{key:"_error",value:function(a){this._errored=!0;this._reason=a;this._readCapability.resolve()}},{key:"_setReadableStream",value:function(a){var b=this;this._readableStream=a;a.on("readable",function(){b._readCapability.resolve()});a.on("end",function(){a.destroy();
b._done=!0;b._readCapability.resolve()});a.on("error",function(a){b._error(a)});this._errored&&this._readableStream.destroy(this._reason)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return a}(),a=function(a){function b(a){i(this,b);var c=k(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),e=function(b){c._headersCapability.resolve();c._setReadableStream(b);var b=(0,w.validateRangeRequestCapabilities)({getResponseHeader:function(a){return c._readableStream.headers[a.toLowerCase()]},
isHttp:a.isHttp,rangeChunkSize:c._rangeChunkSize,disableRange:c._disableRange}),e=b.suggestedLength;b.allowRangeRequests&&(c._isRangeSupported=!0);c._contentLength=e};c._request=null;c._request="http:"===c._url.protocol?x.request(n(c._url,a.httpHeaders),e):q.request(n(c._url,a.httpHeaders),e);c._request.on("error",function(a){c._errored=!0;c._reason=a;c._headersCapability.reject(a)});c._request.end();return c}e(b,a);return b}(d),c=function(a){function b(a,c,e){i(this,b);var d=k(this,(b.__proto__||
Object.getPrototypeOf(b)).call(this,a));d._httpHeaders={};for(var g in a.httpHeaders){var h=a.httpHeaders[g];"undefined"!==typeof h&&(d._httpHeaders[g]=h)}d._httpHeaders.Range="bytes="+c+"-"+(e-1);d._request=null;d._request="http:"===d._url.protocol?x.request(n(d._url,d._httpHeaders),function(a){d._setReadableStream(a)}):q.request(n(d._url,d._httpHeaders),function(a){d._setReadableStream(a)});d._request.on("error",function(a){d._errored=!0;d._reason=a});d._request.end();return d}e(b,a);return b}(y),
r=function(a){function b(a){i(this,b);var c=k(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));h.lstat(c._url.path,function(a,b){a?(c._errored=!0,c._reason=a,c._headersCapability.reject(a)):(c._contentLength=b.size,c._setReadableStream(h.createReadStream(c._url.path)),c._headersCapability.resolve())});return c}e(b,a);return b}(d),m=function(a){function b(a,c,e){i(this,b);a=k(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));a._setReadableStream(h.createReadStream(a._url.path,{start:c,
end:e-1}));return a}e(b,a);return b}(y);b.PDFNodeStream=j},function(j,b){var d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};(function(b,e){for(var d in e)b[d]=e[d]})(b,function(b){function e(n){if(d[n])return d[n].exports;var l=d[n]={i:n,l:!1,exports:{}};b[n].call(l.exports,l,l.exports,e);l.l=!0;return l.exports}var d={};e.m=b;e.c=d;e.i=function(b){return b};
e.d=function(b,d,i){e.o(b,d)||Object.defineProperty(b,d,{configurable:!1,enumerable:!0,get:i})};e.n=function(b){var d=b&&b.__esModule?function(){return b["default"]}:function(){return b};e.d(d,"a",d);return d};e.o=function(b,e){return Object.prototype.hasOwnProperty.call(b,e)};e.p="";return e(e.s=7)}([function(b,e,i){function n(b){return"string"===typeof b||"symbol"===("undefined"===typeof b?"undefined":p(b))}function l(b,e,d){if("function"!==typeof b)throw new TypeError("Argument is not a function");
return Function.prototype.apply.call(b,e,d)}var p="function"===typeof Symbol&&"symbol"===d(Symbol.iterator)?function(b){return"undefined"===typeof b?"undefined":d(b)}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":"undefined"===typeof b?"undefined":d(b)},j=i(1).assert;e.typeIsObject=function(b){return"object"===("undefined"===typeof b?"undefined":p(b))&&null!==b||"function"===typeof b};e.createDataProperty=function(b,d,i){j(e.typeIsObject(b));
Object.defineProperty(b,d,{value:i,writable:!0,enumerable:!0,configurable:!0})};e.createArrayFromList=function(b){return b.slice()};e.ArrayBufferCopy=function(b,e,d,i,l){(new Uint8Array(b)).set(new Uint8Array(d,i,l),e)};e.CreateIterResultObject=function(b,e){j("boolean"===typeof e);var d={};Object.defineProperty(d,"value",{value:b,enumerable:!0,writable:!0,configurable:!0});Object.defineProperty(d,"done",{value:e,enumerable:!0,writable:!0,configurable:!0});return d};e.IsFiniteNonNegativeNumber=function(b){return Number.isNaN(b)||
Infinity===b||0>b?!1:!0};e.InvokeOrNoop=function(b,e,d){j(void 0!==b);j(n(e));j(Array.isArray(d));e=b[e];return void 0===e?void 0:l(e,b,d)};e.PromiseInvokeOrNoop=function(b,d,i){j(void 0!==b);j(n(d));j(Array.isArray(i));try{return Promise.resolve(e.InvokeOrNoop(b,d,i))}catch(l){return Promise.reject(l)}};e.PromiseInvokeOrPerformFallback=function(b,e,d,i,p){j(void 0!==b);j(n(e));j(Array.isArray(d));j(Array.isArray(p));var a=void 0;try{a=b[e]}catch(c){return Promise.reject(c)}if(void 0===a)return i.apply(null,
p);try{return Promise.resolve(l(a,b,d))}catch(r){return Promise.reject(r)}};e.TransferArrayBuffer=function(b){return b.slice()};e.ValidateAndNormalizeHighWaterMark=function(b){b=Number(b);if(Number.isNaN(b)||0>b)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return b};e.ValidateAndNormalizeQueuingStrategy=function(b,d){if(void 0!==b&&"function"!==typeof b)throw new TypeError("size property of a queuing strategy must be a function");d=e.ValidateAndNormalizeHighWaterMark(d);
return{size:b,highWaterMark:d}}},function(b){function e(b){this.name="AssertionError";this.message=b||"";this.stack=Error().stack}e.prototype=Object.create(Error.prototype);e.prototype.constructor=e;b.exports={rethrowAssertionErrorRejection:function(b){b&&b.constructor===e&&setTimeout(function(){throw b;},0)},AssertionError:e,assert:function(b,d){if(!b)throw new e(d);}}},function(b,e,d){function n(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function l(a){return new va(a)}
function p(a){return!U(a)||!Object.prototype.hasOwnProperty.call(a,"_writableStreamController")?!1:!0}function j(a){C(!0===p(a),"IsWritableStreamLocked should only be used on known writable streams");return void 0===a._writer?!1:!0}function h(a,b){var c=a._state;if("closed"===c)return Promise.resolve(void 0);if("errored"===c)return Promise.reject(a._storedError);var d=new TypeError("Requested to abort");if(void 0!==a._pendingAbortRequest)return Promise.reject(d);C("writable"===c||"erroring"===c,"state must be writable or erroring");
var e=!1;"erroring"===c&&(e=!0,b=void 0);c=new Promise(function(c,d){a._pendingAbortRequest={_resolve:c,_reject:d,_reason:b,_wasAlreadyErroring:e}});!1===e&&u(a,d);return c}function x(a){C(!0===j(a));C("writable"===a._state);return new Promise(function(b,c){a._writeRequests.push({_resolve:b,_reject:c})})}function q(a,b){var c=a._state;"writable"===c?u(a,b):(C("erroring"===c),y(a))}function u(a,b){C(void 0===a._storedError,"stream._storedError === undefined");C("writable"===a._state,"state must be writable");
var d=a._writableStreamController;C(void 0!==d,"controller must not be undefined");a._state="erroring";a._storedError=b;var e=a._writer;void 0!==e&&z(e,b);!1===c(a)&&!0===d._started&&y(a)}function y(a){C("erroring"===a._state,"stream._state === erroring");C(!1===c(a),"WritableStreamHasOperationMarkedInFlight(stream) === false");a._state="errored";a._writableStreamController.__errorSteps();for(var b=a._storedError,d=0;d<a._writeRequests.length;d++)a._writeRequests[d]._reject(b);a._writeRequests=[];
if(void 0===a._pendingAbortRequest)g(a);else{var e=a._pendingAbortRequest;a._pendingAbortRequest=void 0;!0===e._wasAlreadyErroring?(e._reject(b),g(a)):a._writableStreamController.__abortSteps(e._reason).then(function(){e._resolve();g(a)},function(b){e._reject(b);g(a)})}}function a(a){return void 0===a._closeRequest&&void 0===a._inFlightCloseRequest?!1:!0}function c(a){return void 0===a._inFlightWriteRequest&&void 0===a._inFlightCloseRequest?!1:!0}function r(a){C(void 0===a._inFlightCloseRequest);
C(void 0!==a._closeRequest);a._inFlightCloseRequest=a._closeRequest;a._closeRequest=void 0}function m(a){C(void 0===a._inFlightWriteRequest,"there must be no pending write request");C(0!==a._writeRequests.length,"writeRequests must not be empty");a._inFlightWriteRequest=a._writeRequests.shift()}function g(a){C("errored"===a._state,'_stream_.[[state]] is `"errored"`');void 0!==a._closeRequest&&(C(void 0===a._inFlightCloseRequest),a._closeRequest._reject(a._storedError),a._closeRequest=void 0);var b=
a._writer;void 0!==b&&(S(b,a._storedError),b._closedPromise.catch(function(){}))}function f(b,c){C("writable"===b._state);C(!1===a(b));var d=b._writer;void 0!==d&&c!==b._backpressure&&(!0===c?ba(d):(C(!1===c),V(d)));b._backpressure=c}function E(a){return!U(a)||!Object.prototype.hasOwnProperty.call(a,"_ownerWritableStream")?!1:!0}function G(b){var c=b._ownerWritableStream;C(void 0!==c);var d=c._state;if("closed"===d||"errored"===d)return Promise.reject(new TypeError("The stream (in "+d+" state) is not in the writable state and cannot be closed"));
C("writable"===d||"erroring"===d);C(!1===a(c));var e=new Promise(function(a,b){c._closeRequest={_resolve:a,_reject:b}});!0===c._backpressure&&"writable"===d&&V(b);o(c._writableStreamController);return e}function B(a,b){"pending"===a._closedPromiseState?S(a,b):P(a,b);a._closedPromise.catch(function(){})}function z(a,b){"pending"===a._readyPromiseState?fa(a,b):ia(a,b);a._readyPromise.catch(function(){})}function A(a){var b=a._ownerWritableStream;C(void 0!==b);C(b._writer===a);var c=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");
z(a,c);B(a,c);b._writer=void 0;a._ownerWritableStream=void 0}function t(b,c){var d=b._ownerWritableStream;C(void 0!==d);var e=d._writableStreamController,g;var t=e._strategySize;if(void 0===t)g=1;else try{g=t(c)}catch(o){"writable"===e._controlledWritableStream._state&&K(e,o),g=1}if(d!==b._ownerWritableStream)return Promise.reject(I("write to"));t=d._state;if("errored"===t)return Promise.reject(d._storedError);if(!0===a(d)||"closed"===t)return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"));
if("erroring"===t)return Promise.reject(d._storedError);C("writable"===t);d=x(d);a:{t={chunk:c};try{ga(e,t,g)}catch(h){"writable"===e._controlledWritableStream._state&&K(e,h);break a}g=e._controlledWritableStream;!1===a(g)&&"writable"===g._state&&f(g,0>=e._strategyHWM-e._queueTotalSize);s(e)}return d}function o(a){ga(a,"close",0);s(a)}function s(a){var b=a._controlledWritableStream;if(!1!==a._started&&void 0===b._inFlightWriteRequest){var c=b._state;"closed"===c||"errored"===c||("erroring"===c?y(b):
0!==a._queue.length&&(b=ja(a),"close"===b?J(a):H(a,b.chunk)))}}function J(a){var b=a._controlledWritableStream;r(b);ca(a);C(0===a._queue.length,"queue must be empty once the final write record is dequeued");N(a._underlyingSink,"close",[]).then(function(){C(void 0!==b._inFlightCloseRequest);b._inFlightCloseRequest._resolve(void 0);b._inFlightCloseRequest=void 0;var a=b._state;C("writable"===a||"erroring"===a);"erroring"===a&&(b._storedError=void 0,void 0!==b._pendingAbortRequest&&(b._pendingAbortRequest._resolve(),
b._pendingAbortRequest=void 0));b._state="closed";a=b._writer;void 0!==a&&(C(void 0!==a._closedPromise_resolve,"writer._closedPromise_resolve !== undefined"),C(void 0!==a._closedPromise_reject,"writer._closedPromise_reject !== undefined"),C("pending"===a._closedPromiseState,"writer._closedPromiseState is pending"),a._closedPromise_resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="resolved");C(void 0===b._pendingAbortRequest,"stream._pendingAbortRequest === undefined");
C(void 0===b._storedError,"stream._storedError === undefined")},function(a){C(void 0!==b._inFlightCloseRequest);b._inFlightCloseRequest._reject(a);b._inFlightCloseRequest=void 0;C("writable"===b._state||"erroring"===b._state);void 0!==b._pendingAbortRequest&&(b._pendingAbortRequest._reject(a),b._pendingAbortRequest=void 0);q(b,a)}).catch(Q)}function H(b,c){var d=b._controlledWritableStream;m(d);N(b._underlyingSink,"write",[c,b]).then(function(){C(void 0!==d._inFlightWriteRequest);d._inFlightWriteRequest._resolve(void 0);
d._inFlightWriteRequest=void 0;var c=d._state;C("writable"===c||"erroring"===c);ca(b);!1===a(d)&&"writable"===c&&f(d,0>=b._strategyHWM-b._queueTotalSize);s(b)},function(a){C(void 0!==d._inFlightWriteRequest);d._inFlightWriteRequest._reject(a);d._inFlightWriteRequest=void 0;C("writable"===d._state||"erroring"===d._state);q(d,a)}).catch(Q)}function K(a,b){var c=a._controlledWritableStream;C("writable"===c._state);u(c,b)}function M(a){return new TypeError("WritableStream.prototype."+a+" can only be used on a WritableStream")}
function D(a){return new TypeError("WritableStreamDefaultWriter.prototype."+a+" can only be used on a WritableStreamDefaultWriter")}function I(a){return new TypeError("Cannot "+a+" a stream using a released writer")}function O(a){a._closedPromise=new Promise(function(b,c){a._closedPromise_resolve=b;a._closedPromise_reject=c;a._closedPromiseState="pending"})}function S(a,b){C(void 0!==a._closedPromise_resolve,"writer._closedPromise_resolve !== undefined");C(void 0!==a._closedPromise_reject,"writer._closedPromise_reject !== undefined");
C("pending"===a._closedPromiseState,"writer._closedPromiseState is pending");a._closedPromise_reject(b);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0;a._closedPromiseState="rejected"}function P(a,b){C(void 0===a._closedPromise_resolve,"writer._closedPromise_resolve === undefined");C(void 0===a._closedPromise_reject,"writer._closedPromise_reject === undefined");C("pending"!==a._closedPromiseState,"writer._closedPromiseState is not pending");a._closedPromise=Promise.reject(b);a._closedPromiseState=
"rejected"}function R(a){a._readyPromise=new Promise(function(b,c){a._readyPromise_resolve=b;a._readyPromise_reject=c});a._readyPromiseState="pending"}function aa(a,b){a._readyPromise=Promise.reject(b);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState="rejected"}function v(a){a._readyPromise=Promise.resolve(void 0);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState="fulfilled"}function fa(a,b){C(void 0!==a._readyPromise_resolve,"writer._readyPromise_resolve !== undefined");
C(void 0!==a._readyPromise_reject,"writer._readyPromise_reject !== undefined");a._readyPromise_reject(b);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState="rejected"}function ba(a){C(void 0===a._readyPromise_resolve,"writer._readyPromise_resolve === undefined");C(void 0===a._readyPromise_reject,"writer._readyPromise_reject === undefined");a._readyPromise=new Promise(function(b,c){a._readyPromise_resolve=b;a._readyPromise_reject=c});a._readyPromiseState="pending"}function ia(a,
b){C(void 0===a._readyPromise_resolve,"writer._readyPromise_resolve === undefined");C(void 0===a._readyPromise_reject,"writer._readyPromise_reject === undefined");a._readyPromise=Promise.reject(b);a._readyPromiseState="rejected"}function V(a){C(void 0!==a._readyPromise_resolve,"writer._readyPromise_resolve !== undefined");C(void 0!==a._readyPromise_reject,"writer._readyPromise_reject !== undefined");a._readyPromise_resolve(void 0);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState=
"fulfilled"}var T=function(){function a(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),e=d(0),la=e.InvokeOrNoop,N=e.PromiseInvokeOrNoop,Y=e.ValidateAndNormalizeQueuingStrategy,U=e.typeIsObject,e=d(1),C=e.assert,Q=e.rethrowAssertionErrorRejection,d=d(3),ca=d.DequeueValue,ga=d.EnqueueValueWithSize,ja=d.PeekQueueValue,pa=d.ResetQueue,
d=function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=c.size,c=c.highWaterMark,c=void 0===c?1:c;n(this,a);this._state="writable";this._writableStreamController=this._writer=this._storedError=void 0;this._writeRequests=[];this._pendingAbortRequest=this._inFlightCloseRequest=this._closeRequest=this._inFlightWriteRequest=void 0;this._backpressure=!1;if(void 0!==b.type)throw new RangeError("Invalid type is specified");
this._writableStreamController=new xa(this,b,d,c);this._writableStreamController.__startSteps()}T(a,[{key:"abort",value:function(a){return!1===p(this)?Promise.reject(M("abort")):!0===j(this)?Promise.reject(new TypeError("Cannot abort a stream that already has a writer")):h(this,a)}},{key:"getWriter",value:function(){if(!1===p(this))throw M("getWriter");return l(this)}},{key:"locked",get:function(){if(!1===p(this))throw M("locked");return j(this)}}]);return a}();b.exports={AcquireWritableStreamDefaultWriter:l,
IsWritableStream:p,IsWritableStreamLocked:j,WritableStream:d,WritableStreamAbort:h,WritableStreamDefaultControllerError:K,WritableStreamDefaultWriterCloseWithErrorPropagation:function(b){var c=b._ownerWritableStream;C(void 0!==c);var d=c._state;if(!0===a(c)||"closed"===d)return Promise.resolve();if("errored"===d)return Promise.reject(c._storedError);C("writable"===d||"erroring"===d);return G(b)},WritableStreamDefaultWriterRelease:A,WritableStreamDefaultWriterWrite:t,WritableStreamCloseQueuedOrInFlight:a};
var va=function(){function b(c){n(this,b);if(!1===p(c))throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===j(c))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=c;c._writer=this;var d=c._state;"writable"===d?(!1===a(c)&&!0===c._backpressure?R(this):v(this),O(this)):"erroring"===d?(aa(this,c._storedError),this._readyPromise.catch(function(){}),O(this)):"closed"===
d?(v(this),this._closedPromise=Promise.resolve(void 0),this._closedPromise_reject=this._closedPromise_resolve=void 0,this._closedPromiseState="resolved"):(C("errored"===d,"state must be errored"),c=c._storedError,aa(this,c),this._readyPromise.catch(function(){}),this._closedPromise=Promise.reject(c),this._closedPromise_reject=this._closedPromise_resolve=void 0,this._closedPromiseState="rejected",this._closedPromise.catch(function(){}))}T(b,[{key:"abort",value:function(a){if(!1===E(this))return Promise.reject(D("abort"));
if(void 0===this._ownerWritableStream)return Promise.reject(I("abort"));var b=this._ownerWritableStream;C(void 0!==b);return h(b,a)}},{key:"close",value:function(){if(!1===E(this))return Promise.reject(D("close"));var b=this._ownerWritableStream;return void 0===b?Promise.reject(I("close")):!0===a(b)?Promise.reject(new TypeError("cannot close an already-closing stream")):G(this)}},{key:"releaseLock",value:function(){if(!1===E(this))throw D("releaseLock");var a=this._ownerWritableStream;void 0!==a&&
(C(void 0!==a._writer),A(this))}},{key:"write",value:function(a){return!1===E(this)?Promise.reject(D("write")):void 0===this._ownerWritableStream?Promise.reject(I("write to")):t(this,a)}},{key:"closed",get:function(){return!1===E(this)?Promise.reject(D("closed")):this._closedPromise}},{key:"desiredSize",get:function(){if(!1===E(this))throw D("desiredSize");if(void 0===this._ownerWritableStream)throw I("desiredSize");var a;a=this._ownerWritableStream;var b=a._state;a="errored"===b||"erroring"===b?
null:"closed"===b?0:a._writableStreamController._strategyHWM-a._writableStreamController._queueTotalSize;return a}},{key:"ready",get:function(){return!1===E(this)?Promise.reject(D("ready")):this._readyPromise}}]);return b}(),xa=function(){function a(b,c,d,e){n(this,a);if(!1===p(b))throw new TypeError("WritableStreamDefaultController can only be constructed with a WritableStream instance");if(void 0!==b._writableStreamController)throw new TypeError("WritableStreamDefaultController instances can only be created by the WritableStream constructor");
this._controlledWritableStream=b;this._underlyingSink=c;this._queueTotalSize=this._queue=void 0;pa(this);this._started=!1;c=Y(d,e);this._strategySize=c.size;this._strategyHWM=c.highWaterMark;f(b,0>=this._strategyHWM-this._queueTotalSize)}T(a,[{key:"error",value:function(a){var b;b=U(this)?Object.prototype.hasOwnProperty.call(this,"_underlyingSink")?!0:!1:!1;if(!1===b)throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===
this._controlledWritableStream._state&&K(this,a)}},{key:"__abortSteps",value:function(a){return N(this._underlyingSink,"abort",[a])}},{key:"__errorSteps",value:function(){pa(this)}},{key:"__startSteps",value:function(){var a=this,b=la(this._underlyingSink,"start",[this]),c=this._controlledWritableStream;Promise.resolve(b).then(function(){C("writable"===c._state||"erroring"===c._state);a._started=!0;s(a)},function(b){C("writable"===c._state||"erroring"===c._state);a._started=!0;q(c,b)}).catch(Q)}}]);
return a}()},function(b,d,i){var n=i(0).IsFiniteNonNegativeNumber,l=i(1).assert;d.DequeueValue=function(b){l("_queue"in b&&"_queueTotalSize"in b,"Spec-level failure: DequeueValue should only be used on containers with [[queue]] and [[queueTotalSize]].");l(0<b._queue.length,"Spec-level failure: should never dequeue from an empty queue.");var d=b._queue.shift();b._queueTotalSize-=d.size;0>b._queueTotalSize&&(b._queueTotalSize=0);return d.value};d.EnqueueValueWithSize=function(b,d,e){l("_queue"in b&&
"_queueTotalSize"in b,"Spec-level failure: EnqueueValueWithSize should only be used on containers with [[queue]] and [[queueTotalSize]].");e=Number(e);if(!n(e))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");b._queue.push({value:d,size:e});b._queueTotalSize+=e};d.PeekQueueValue=function(b){l("_queue"in b&&"_queueTotalSize"in b,"Spec-level failure: PeekQueueValue should only be used on containers with [[queue]] and [[queueTotalSize]].");l(0<b._queue.length,"Spec-level failure: should never peek at an empty queue.");
return b._queue[0].value};d.ResetQueue=function(b){l("_queue"in b&&"_queueTotalSize"in b,"Spec-level failure: ResetQueue should only be used on containers with [[queue]] and [[queueTotalSize]].");b._queue=[];b._queueTotalSize=0}},function(b,d,i){function n(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function l(a){return!da(a)||!Object.prototype.hasOwnProperty.call(a,"_readableStreamController")?!1:!0}function p(a){F(!0===l(a),"IsReadableStreamLocked should only be used on known readable streams");
return void 0===a._reader?!1:!0}function j(a,b){F(!0===l(a));F("boolean"===typeof b);var c=new W(a),d={closedOrErrored:!1,canceled1:!1,canceled2:!1,reason1:void 0,reason2:void 0};d.promise=new Promise(function(a){d._resolve=a});var e=h();e._reader=c;e._teeState=d;e._cloneForBranch2=b;var f=x();f._stream=a;f._teeState=d;var g=q();g._stream=a;g._teeState=d;var t=Object.create(Object.prototype);qa(t,"pull",e);qa(t,"cancel",f);f=new ra(t);t=Object.create(Object.prototype);qa(t,"pull",e);qa(t,"cancel",
g);g=new ra(t);e._branch1=f._readableStreamController;e._branch2=g._readableStreamController;c._closedPromise.catch(function(a){!0!==d.closedOrErrored&&(M(e._branch1,a),M(e._branch2,a),d.closedOrErrored=!0)});return[f,g]}function h(){function a(){var b=a._branch1,c=a._branch2,d=a._teeState;return t(a._reader).then(function(a){F(da(a));var e=a.value,a=a.done;F("boolean"===typeof a);!0===a&&!1===d.closedOrErrored&&(!1===d.canceled1&&H(b),!1===d.canceled2&&H(c),d.closedOrErrored=!0);!0!==d.closedOrErrored&&
(!1===d.canceled1&&K(b,e),!1===d.canceled2&&K(c,e))})}return a}function x(){function b(c){var d=b._stream,e=b._teeState;e.canceled1=!0;e.reason1=c;!0===e.canceled2&&(c=sa([e.reason1,e.reason2]),d=a(d,c),e._resolve(d));return e.promise}return b}function q(){function b(c){var d=b._stream,e=b._teeState;e.canceled2=!0;e.reason2=c;!0===e.canceled1&&(c=sa([e.reason1,e.reason2]),d=a(d,c),e._resolve(d));return e.promise}return b}function u(a){F(!0===E(a._reader));F("readable"===a._state||"closed"===a._state);
return new Promise(function(b,c){a._reader._readIntoRequests.push({_resolve:b,_reject:c})})}function y(a){F(!0===G(a._reader));F("readable"===a._state);return new Promise(function(b,c){a._reader._readRequests.push({_resolve:b,_reject:c})})}function a(a,b){a._disturbed=!0;if("closed"===a._state)return Promise.resolve(void 0);if("errored"===a._state)return Promise.reject(a._storedError);c(a);return a._readableStreamController.__cancelSteps(b).then(function(){})}function c(a){F("readable"===a._state);
a._state="closed";a=a._reader;if(void 0!==a){if(!0===G(a)){for(var b=0;b<a._readRequests.length;b++){var c=a._readRequests[b]._resolve;c(Z(void 0,!0))}a._readRequests=[]}F(void 0!==a._closedPromise_resolve);F(void 0!==a._closedPromise_reject);a._closedPromise_resolve(void 0);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}}function r(a,b){F(!0===l(a),"stream must be ReadableStream");F("readable"===a._state,"state must be readable");a._state="errored";a._storedError=b;var c=a._reader;
if(void 0!==c){if(!0===G(c)){for(var d=0;d<c._readRequests.length;d++)c._readRequests[d]._reject(b);c._readRequests=[]}else{F(E(c),"reader must be ReadableStreamBYOBReader");for(d=0;d<c._readIntoRequests.length;d++)c._readIntoRequests[d]._reject(b);c._readIntoRequests=[]}Ba(c,b);c._closedPromise.catch(function(){})}}function m(a,b,c){a=a._reader;F(0<a._readRequests.length);a._readRequests.shift()._resolve(Z(b,c))}function g(a){a=a._reader;return void 0===a||!1===E(a)?!1:!0}function f(a){a=a._reader;
return void 0===a||!1===G(a)?!1:!0}function E(a){return!da(a)||!Object.prototype.hasOwnProperty.call(a,"_readIntoRequests")?!1:!0}function G(a){return!da(a)||!Object.prototype.hasOwnProperty.call(a,"_readRequests")?!1:!0}function B(a,b){a._ownerReadableStream=b;b._reader=a;"readable"===b._state?pa(a):"closed"===b._state?xa(a):(F("errored"===b._state,"state must be errored"),va(a,b._storedError),a._closedPromise.catch(function(){}))}function z(b,c){var d=b._ownerReadableStream;F(void 0!==d);return a(d,
c)}function A(a){F(void 0!==a._ownerReadableStream);F(a._ownerReadableStream._reader===a);"readable"===a._ownerReadableStream._state?Ba(a,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):Ia(a,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"));a._closedPromise.catch(function(){});a._ownerReadableStream._reader=void 0;a._ownerReadableStream=void 0}function t(a){a=a._ownerReadableStream;F(void 0!==a);a._disturbed=
!0;if("closed"===a._state)return Promise.resolve(Z(void 0,!0));if("errored"===a._state)return Promise.reject(a._storedError);F("readable"===a._state);return a._readableStreamController.__pullSteps()}function o(a){return!da(a)||!Object.prototype.hasOwnProperty.call(a,"_underlyingSource")?!1:!0}function s(a){!1!==J(a)&&(!0===a._pulling?a._pullAgain=!0:(F(!1===a._pullAgain),a._pulling=!0,ha(a._underlyingSource,"pull",[a]).then(function(){a._pulling=!1;if(!0===a._pullAgain)return a._pullAgain=!1,s(a)},
function(b){D(a,b)}).catch(L)))}function J(a){var b=a._controlledReadableStream;return"closed"===b._state||"errored"===b._state||!0===a._closeRequested||!1===a._started?!1:!0===p(b)&&0<b._reader._readRequests.length||0<I(a)?!0:!1}function H(a){var b=a._controlledReadableStream;F(!1===a._closeRequested);F("readable"===b._state);a._closeRequested=!0;0===a._queue.length&&c(b)}function K(a,b){var c=a._controlledReadableStream;F(!1===a._closeRequested);F("readable"===c._state);if(!0===p(c)&&0<c._reader._readRequests.length)m(c,
b,!1);else{c=1;if(void 0!==a._strategySize){var d=a._strategySize;try{c=d(b)}catch(e){throw D(a,e),e;}}try{Da(a,b,c)}catch(f){throw D(a,f),f;}}s(a)}function M(a,b){var c=a._controlledReadableStream;F("readable"===c._state);ea(a);r(c,b)}function D(a,b){"readable"===a._controlledReadableStream._state&&M(a,b)}function I(a){var b=a._controlledReadableStream._state;return"errored"===b?null:"closed"===b?0:a._strategyHWM-a._queueTotalSize}function O(a){return!da(a)||!Object.prototype.hasOwnProperty.call(a,
"_underlyingByteSource")?!1:!0}function S(a){return!da(a)||!Object.prototype.hasOwnProperty.call(a,"_associatedReadableByteStreamController")?!1:!0}function P(a){!1!==U(a)&&(!0===a._pulling?a._pullAgain=!0:(F(!1===a._pullAgain),a._pulling=!0,ha(a._underlyingByteSource,"pull",[a]).then(function(){a._pulling=!1;!0===a._pullAgain&&(a._pullAgain=!1,P(a))},function(b){"readable"===a._controlledReadableStream._state&&C(a,b)}).catch(L)))}function R(a,b){F("errored"!==a._state,"state must not be errored");
var c=!1;"closed"===a._state&&(F(0===b.bytesFilled),c=!0);var d=aa(b);if("default"===b.readerType)m(a,d,c);else{F("byob"===b.readerType);var e=a._reader;F(0<e._readIntoRequests.length);e._readIntoRequests.shift()._resolve(Z(d,c))}}function aa(a){var b=a.bytesFilled,c=a.elementSize;F(b<=a.byteLength);F(0===b%c);return new a.ctor(a.buffer,a.byteOffset,b/c)}function v(a,b,c,d){a._queue.push({buffer:b,byteOffset:c,byteLength:d});a._queueTotalSize+=d}function fa(a,b){var c=b.elementSize,d=b.bytesFilled-
b.bytesFilled%c,e=Math.min(a._queueTotalSize,b.byteLength-b.bytesFilled),f=b.bytesFilled+e,f=f-f%c,c=!1;f>d&&(e=f-b.bytesFilled,c=!0);for(d=a._queue;0<e;){var f=d[0],g=Math.min(e,f.byteLength);ya(b.buffer,b.byteOffset+b.bytesFilled,f.buffer,f.byteOffset,g);f.byteLength===g?d.shift():(f.byteOffset+=g,f.byteLength-=g);a._queueTotalSize-=g;ba(a,g,b);e-=g}!1===c&&(F(0===a._queueTotalSize,"queue must be empty"),F(0<b.bytesFilled),F(b.bytesFilled<b.elementSize));return c}function ba(a,b,c){F(0===a._pendingPullIntos.length||
a._pendingPullIntos[0]===c);V(a);c.bytesFilled+=b}function ia(a){F("readable"===a._controlledReadableStream._state);0===a._queueTotalSize&&!0===a._closeRequested?c(a._controlledReadableStream):P(a)}function V(a){void 0!==a._byobRequest&&(a._byobRequest._associatedReadableByteStreamController=void 0,a._byobRequest._view=void 0,a._byobRequest=void 0)}function T(a){for(F(!1===a._closeRequested);0<a._pendingPullIntos.length&&0!==a._queueTotalSize;){var b=a._pendingPullIntos[0];!0===fa(a,b)&&(Y(a),R(a._controlledReadableStream,
b))}}function la(a,b){var c=a._controlledReadableStream,d=1;b.constructor!==DataView&&(d=b.constructor.BYTES_PER_ELEMENT);d={buffer:b.buffer,byteOffset:b.byteOffset,byteLength:b.byteLength,bytesFilled:0,elementSize:d,ctor:b.constructor,readerType:"byob"};if(0<a._pendingPullIntos.length)return d.buffer=$(d.buffer),a._pendingPullIntos.push(d),u(c);if("closed"===c._state)return c=new b.constructor(d.buffer,d.byteOffset,0),Promise.resolve(Z(c,!0));if(0<a._queueTotalSize){if(!0===fa(a,d))return c=aa(d),
ia(a),Promise.resolve(Z(c,!1));if(!0===a._closeRequested)return c=new TypeError("Insufficient bytes to fill elements in the given buffer"),C(a,c),Promise.reject(c)}d.buffer=$(d.buffer);a._pendingPullIntos.push(d);c=u(c);P(a);return c}function N(a,b){var c=a._pendingPullIntos[0],d=a._controlledReadableStream;if("closed"===d._state){if(0!==b)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");c.buffer=$(c.buffer);F(0===c.bytesFilled,"bytesFilled must be 0");c=a._controlledReadableStream;
if(!0===g(c))for(;0<c._reader._readIntoRequests.length;)d=Y(a),R(c,d)}else{F("readable"===d._state);if(c.bytesFilled+b>c.byteLength)throw new RangeError("bytesWritten out of range");ba(a,b,c);if(!(c.bytesFilled<c.elementSize)){Y(a);d=c.bytesFilled%c.elementSize;if(0<d){var e=c.byteOffset+c.bytesFilled,e=c.buffer.slice(e-d,e);v(a,e,0,e.byteLength)}c.buffer=$(c.buffer);c.bytesFilled-=d;R(a._controlledReadableStream,c);T(a)}}}function Y(a){var b=a._pendingPullIntos.shift();V(a);return b}function U(a){var b=
a._controlledReadableStream;return"readable"!==b._state||!0===a._closeRequested||!1===a._started?!1:!0===f(b)&&0<b._reader._readRequests.length||!0===g(b)&&0<b._reader._readIntoRequests.length||0<Q(a)?!0:!1}function C(a,b){var c=a._controlledReadableStream;F("readable"===c._state);V(a);a._pendingPullIntos=[];ea(a);r(c,b)}function Q(a){var b=a._controlledReadableStream._state;return"errored"===b?null:"closed"===b?0:a._strategyHWM-a._queueTotalSize}function ca(a){return new TypeError("ReadableStream.prototype."+
a+" can only be used on a ReadableStream")}function ga(a){return new TypeError("Cannot "+a+" a stream using a released reader")}function ja(a){return new TypeError("ReadableStreamDefaultReader.prototype."+a+" can only be used on a ReadableStreamDefaultReader")}function pa(a){a._closedPromise=new Promise(function(b,c){a._closedPromise_resolve=b;a._closedPromise_reject=c})}function va(a,b){a._closedPromise=Promise.reject(b);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}function xa(a){a._closedPromise=
Promise.resolve(void 0);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}function Ba(a,b){F(void 0!==a._closedPromise_resolve);F(void 0!==a._closedPromise_reject);a._closedPromise_reject(b);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}function Ia(a,b){F(void 0===a._closedPromise_resolve);F(void 0===a._closedPromise_reject);a._closedPromise=Promise.reject(b)}function na(a){return new TypeError("ReadableStreamBYOBReader.prototype."+a+" can only be used on a ReadableStreamBYOBReader")}
function oa(a){return new TypeError("ReadableStreamDefaultController.prototype."+a+" can only be used on a ReadableStreamDefaultController")}function wa(a){return new TypeError("ReadableStreamBYOBRequest.prototype."+a+" can only be used on a ReadableStreamBYOBRequest")}function ma(a){return new TypeError("ReadableByteStreamController.prototype."+a+" can only be used on a ReadableByteStreamController")}function Ca(a){try{Promise.prototype.then.call(a,void 0,function(){})}catch(b){}}var X=function(){function a(b,
c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),d=i(0),ya=d.ArrayBufferCopy,Z=d.CreateIterResultObject,ta=d.IsFiniteNonNegativeNumber,za=d.InvokeOrNoop,ha=d.PromiseInvokeOrNoop,$=d.TransferArrayBuffer,Ja=d.ValidateAndNormalizeQueuingStrategy,Ka=d.ValidateAndNormalizeHighWaterMark,d=i(0),sa=d.createArrayFromList,qa=d.createDataProperty,
da=d.typeIsObject,d=i(1),F=d.assert,L=d.rethrowAssertionErrorRejection,d=i(3),ua=d.DequeueValue,Da=d.EnqueueValueWithSize,ea=d.ResetQueue,i=i(2),Aa=i.AcquireWritableStreamDefaultWriter,La=i.IsWritableStream,Ma=i.IsWritableStreamLocked,Ea=i.WritableStreamAbort,Fa=i.WritableStreamDefaultWriterCloseWithErrorPropagation,Ga=i.WritableStreamDefaultWriterRelease,Ha=i.WritableStreamDefaultWriterWrite,ka=i.WritableStreamCloseQueuedOrInFlight,ra=function(){function b(){var a=0<arguments.length&&void 0!==arguments[0]?
arguments[0]:{},c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=c.size,c=c.highWaterMark;n(this,b);this._state="readable";this._storedError=this._reader=void 0;this._disturbed=!1;this._readableStreamController=void 0;var e=a.type;if("bytes"===""+e)void 0===c&&(c=0),this._readableStreamController=new Na(this,a,c);else if(void 0===e)void 0===c&&(c=1),this._readableStreamController=new Oa(this,a,d,c);else throw new RangeError("Invalid type is specified");}X(b,[{key:"cancel",value:function(b){return!1===
l(this)?Promise.reject(ca("cancel")):!0===p(this)?Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")):a(this,b)}},{key:"getReader",value:function(){var a=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).mode;if(!1===l(this))throw ca("getReader");if(void 0===a)return new W(this);if("byob"===""+a)return new Pa(this);throw new RangeError("Invalid mode is specified");}},{key:"pipeThrough",value:function(a,b){var c=a.readable,d=this.pipeTo(a.writable,b);Ca(d);return c}},
{key:"pipeTo",value:function(b){var c=this,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=d.preventClose,f=d.preventAbort,g=d.preventCancel;if(!1===l(this))return Promise.reject(ca("pipeTo"));if(!1===La(b))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));e=Boolean(e);f=Boolean(f);g=Boolean(g);if(!0===p(this))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"));
if(!0===Ma(b))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"));var o=new W(this),h=Aa(b),i=!1,m=Promise.resolve();return new Promise(function(d,l){function p(){m=Promise.resolve();return!0===i?Promise.resolve():h._readyPromise.then(function(){return t(o).then(function(a){var b=a.value;!0!==a.done&&(m=Ha(h,b).catch(function(){}))})}).then(p)}function r(){var a=m;return m.then(function(){return a!==m?r():void 0})}function n(a,b,c){"errored"===
a._state?c(a._storedError):b.catch(c).catch(L)}function q(a,c,d){function e(){a().then(function(){return k(c,d)},function(a){return k(!0,a)}).catch(L)}!0!==i&&(i=!0,"writable"===b._state&&!1===ka(b)?r().then(e):e())}function s(a,c){!0!==i&&(i=!0,"writable"===b._state&&!1===ka(b)?r().then(function(){return k(a,c)}).catch(L):k(a,c))}function k(a,b){Ga(h);A(o);a?l(b):d(void 0)}n(c,o._closedPromise,function(a){!1===f?q(function(){return Ea(b,a)},!0,a):s(!0,a)});n(b,h._closedPromise,function(b){!1===g?
q(function(){return a(c,b)},!0,b):s(!0,b)});(function(a,b,c){"closed"===a._state?c():b.then(c).catch(L)})(c,o._closedPromise,function(){!1===e?q(function(){return Fa(h)}):s()});if(!0===ka(b)||"closed"===b._state){var j=new TypeError("the destination writable stream closed before all data could be piped to it");!1===g?q(function(){return a(c,j)},!0,j):s(!0,j)}p().catch(function(a){m=Promise.resolve();L(a)})})}},{key:"tee",value:function(){if(!1===l(this))throw ca("tee");var a=j(this,!1);return sa(a)}},
{key:"locked",get:function(){if(!1===l(this))throw ca("locked");return p(this)}}]);return b}();b.exports={ReadableStream:ra,IsReadableStreamDisturbed:function(a){F(!0===l(a),"IsReadableStreamDisturbed should only be used on known readable streams");return a._disturbed},ReadableStreamDefaultControllerClose:H,ReadableStreamDefaultControllerEnqueue:K,ReadableStreamDefaultControllerError:M,ReadableStreamDefaultControllerGetDesiredSize:I};var W=function(){function a(b){n(this,a);if(!1===l(b))throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");
if(!0===p(b))throw new TypeError("This stream has already been locked for exclusive reading by another reader");B(this,b);this._readRequests=[]}X(a,[{key:"cancel",value:function(a){return!1===G(this)?Promise.reject(ja("cancel")):void 0===this._ownerReadableStream?Promise.reject(ga("cancel")):z(this,a)}},{key:"read",value:function(){return!1===G(this)?Promise.reject(ja("read")):void 0===this._ownerReadableStream?Promise.reject(ga("read from")):t(this)}},{key:"releaseLock",value:function(){if(!1===
G(this))throw ja("releaseLock");if(void 0!==this._ownerReadableStream){if(0<this._readRequests.length)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");A(this)}}},{key:"closed",get:function(){return!1===G(this)?Promise.reject(ja("closed")):this._closedPromise}}]);return a}(),Pa=function(){function a(b){n(this,a);if(!l(b))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");
if(!1===O(b._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(p(b))throw new TypeError("This stream has already been locked for exclusive reading by another reader");B(this,b);this._readIntoRequests=[]}X(a,[{key:"cancel",value:function(a){return!E(this)?Promise.reject(na("cancel")):void 0===this._ownerReadableStream?Promise.reject(ga("cancel")):z(this,a)}},{key:"read",value:function(a){if(!E(this))return Promise.reject(na("read"));
if(void 0===this._ownerReadableStream)return Promise.reject(ga("read from"));if(!ArrayBuffer.isView(a))return Promise.reject(new TypeError("view must be an array buffer view"));if(0===a.byteLength)return Promise.reject(new TypeError("view must have non-zero byteLength"));var b=this._ownerReadableStream;F(void 0!==b);b._disturbed=!0;a="errored"===b._state?Promise.reject(b._storedError):la(b._readableStreamController,a);return a}},{key:"releaseLock",value:function(){if(!E(this))throw na("releaseLock");
if(void 0!==this._ownerReadableStream){if(0<this._readIntoRequests.length)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");A(this)}}},{key:"closed",get:function(){return!E(this)?Promise.reject(na("closed")):this._closedPromise}}]);return a}(),Oa=function(){function a(b,c,d,e){n(this,a);if(!1===l(b))throw new TypeError("ReadableStreamDefaultController can only be constructed with a ReadableStream instance");if(void 0!==b._readableStreamController)throw new TypeError("ReadableStreamDefaultController instances can only be created by the ReadableStream constructor");
this._controlledReadableStream=b;this._underlyingSource=c;this._queueTotalSize=this._queue=void 0;ea(this);this._pulling=this._pullAgain=this._closeRequested=this._started=!1;b=Ja(d,e);this._strategySize=b.size;this._strategyHWM=b.highWaterMark;var f=this,c=za(c,"start",[this]);Promise.resolve(c).then(function(){f._started=!0;F(!1===f._pulling);F(!1===f._pullAgain);s(f)},function(a){D(f,a)}).catch(L)}X(a,[{key:"close",value:function(){if(!1===o(this))throw oa("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");
var a=this._controlledReadableStream._state;if("readable"!==a)throw new TypeError("The stream (in "+a+" state) is not in the readable state and cannot be closed");H(this)}},{key:"enqueue",value:function(a){if(!1===o(this))throw oa("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var b=this._controlledReadableStream._state;if("readable"!==b)throw new TypeError("The stream (in "+b+" state) is not in the readable state and cannot be enqueued to");return K(this,
a)}},{key:"error",value:function(a){if(!1===o(this))throw oa("error");var b=this._controlledReadableStream;if("readable"!==b._state)throw new TypeError("The stream is "+b._state+" and so cannot be errored");M(this,a)}},{key:"__cancelSteps",value:function(a){ea(this);return ha(this._underlyingSource,"cancel",[a])}},{key:"__pullSteps",value:function(){var a=this._controlledReadableStream;if(0<this._queue.length){var b=ua(this);!0===this._closeRequested&&0===this._queue.length?c(a):s(this);return Promise.resolve(Z(b,
!1))}a=y(a);s(this);return a}},{key:"desiredSize",get:function(){if(!1===o(this))throw oa("desiredSize");return I(this)}}]);return a}(),Qa=function(){function a(b,c){n(this,a);this._associatedReadableByteStreamController=b;this._view=c}X(a,[{key:"respond",value:function(a){if(!1===S(this))throw wa("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");var b=this._associatedReadableByteStreamController,a=Number(a);if(!1===ta(a))throw new RangeError("bytesWritten must be a finite");
F(0<b._pendingPullIntos.length);N(b,a)}},{key:"respondWithNewView",value:function(a){if(!1===S(this))throw wa("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(a))throw new TypeError("You can only respond with array buffer views");var b=this._associatedReadableByteStreamController;F(0<b._pendingPullIntos.length);var c=b._pendingPullIntos[0];if(c.byteOffset+c.bytesFilled!==a.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");
if(c.byteLength!==a.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");c.buffer=a.buffer;N(b,a.byteLength)}},{key:"view",get:function(){return this._view}}]);return a}(),Na=function(){function a(b,c,d){n(this,a);if(!1===l(b))throw new TypeError("ReadableByteStreamController can only be constructed with a ReadableStream instance given a byte source");if(void 0!==b._readableStreamController)throw new TypeError("ReadableByteStreamController instances can only be created by the ReadableStream constructor given a byte source");
this._controlledReadableStream=b;this._underlyingByteSource=c;this._pulling=this._pullAgain=!1;V(this);this._pendingPullIntos=[];this._queue=this._queueTotalSize=void 0;ea(this);this._started=this._closeRequested=!1;this._strategyHWM=Ka(d);d=c.autoAllocateChunkSize;if(void 0!==d&&(!1===Number.isInteger(d)||0>=d))throw new RangeError("autoAllocateChunkSize must be a positive integer");this._autoAllocateChunkSize=d;this._pendingPullIntos=[];var e=this,c=za(c,"start",[this]);Promise.resolve(c).then(function(){e._started=
!0;F(!1===e._pulling);F(!1===e._pullAgain);P(e)},function(a){"readable"===b._state&&C(e,a)}).catch(L)}X(a,[{key:"close",value:function(){if(!1===O(this))throw ma("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var a=this._controlledReadableStream._state;if("readable"!==a)throw new TypeError("The stream (in "+a+" state) is not in the readable state and cannot be closed");a=this._controlledReadableStream;F(!1===this._closeRequested);
F("readable"===a._state);if(0<this._queueTotalSize)this._closeRequested=!0;else{if(0<this._pendingPullIntos.length&&0<this._pendingPullIntos[0].bytesFilled)throw a=new TypeError("Insufficient bytes to fill elements in the given buffer"),C(this,a),a;c(a)}}},{key:"enqueue",value:function(a){if(!1===O(this))throw ma("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var b=this._controlledReadableStream._state;if("readable"!==b)throw new TypeError("The stream (in "+
b+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(a))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");b=this._controlledReadableStream;F(!1===this._closeRequested);F("readable"===b._state);var c=a.byteOffset,d=a.byteLength,a=$(a.buffer);!0===f(b)?0===b._reader._readRequests.length?v(this,a,c,d):(F(0===this._queue.length),a=new Uint8Array(a,c,d),m(b,a,!1)):!0===g(b)?(v(this,a,c,d),T(this)):(F(!1===p(b),
"stream must not be locked"),v(this,a,c,d))}},{key:"error",value:function(a){if(!1===O(this))throw ma("error");var b=this._controlledReadableStream;if("readable"!==b._state)throw new TypeError("The stream is "+b._state+" and so cannot be errored");C(this,a)}},{key:"__cancelSteps",value:function(a){0<this._pendingPullIntos.length&&(this._pendingPullIntos[0].bytesFilled=0);ea(this);return ha(this._underlyingByteSource,"cancel",[a])}},{key:"__pullSteps",value:function(){var a=this._controlledReadableStream;
F(!0===f(a));if(0<this._queueTotalSize){F(0===a._reader._readRequests.length);a=this._queue.shift();this._queueTotalSize-=a.byteLength;ia(this);var b=void 0;try{b=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)}catch(c){return Promise.reject(c)}return Promise.resolve(Z(b,!1))}b=this._autoAllocateChunkSize;if(void 0!==b){var d=void 0;try{d=new ArrayBuffer(b)}catch(e){return Promise.reject(e)}this._pendingPullIntos.push({buffer:d,byteOffset:0,byteLength:b,bytesFilled:0,elementSize:1,ctor:Uint8Array,
readerType:"default"})}a=y(a);P(this);return a}},{key:"byobRequest",get:function(){if(!1===O(this))throw ma("byobRequest");if(void 0===this._byobRequest&&0<this._pendingPullIntos.length){var a=this._pendingPullIntos[0],a=new Uint8Array(a.buffer,a.byteOffset+a.bytesFilled,a.byteLength-a.bytesFilled);this._byobRequest=new Qa(this,a)}return this._byobRequest}},{key:"desiredSize",get:function(){if(!1===O(this))throw ma("desiredSize");return Q(this)}}]);return a}()},function(b,d,i){var b=i(6),n=i(4),i=
i(2);d.TransformStream=b.TransformStream;d.ReadableStream=n.ReadableStream;d.IsReadableStreamDisturbed=n.IsReadableStreamDisturbed;d.ReadableStreamDefaultControllerClose=n.ReadableStreamDefaultControllerClose;d.ReadableStreamDefaultControllerEnqueue=n.ReadableStreamDefaultControllerEnqueue;d.ReadableStreamDefaultControllerError=n.ReadableStreamDefaultControllerError;d.ReadableStreamDefaultControllerGetDesiredSize=n.ReadableStreamDefaultControllerGetDesiredSize;d.AcquireWritableStreamDefaultWriter=
i.AcquireWritableStreamDefaultWriter;d.IsWritableStream=i.IsWritableStream;d.IsWritableStreamLocked=i.IsWritableStreamLocked;d.WritableStream=i.WritableStream;d.WritableStreamAbort=i.WritableStreamAbort;d.WritableStreamDefaultControllerError=i.WritableStreamDefaultControllerError;d.WritableStreamDefaultWriterCloseWithErrorPropagation=i.WritableStreamDefaultWriterCloseWithErrorPropagation;d.WritableStreamDefaultWriterRelease=i.WritableStreamDefaultWriterRelease;d.WritableStreamDefaultWriterWrite=i.WritableStreamDefaultWriterWrite},
function(b,d,i){function n(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function l(a,b){if(!0===a._errored)throw new TypeError("TransformStream is already errored");if(!0===a._readableClosed)throw new TypeError("Readable side is already closed");var c=a._readableController;try{o(c,b)}catch(d){throw a._readableClosed=!0,j(a,d),a._storedError;}!0===0>=J(c)&&!1===a._backpressure&&q(a,!0)}function p(a){f(!1===a._errored);f(!1===a._readableClosed);try{t(a._readableController)}catch(b){f(!1)}a._readableClosed=
!0}function j(a,b){!1===a._errored&&h(a,b)}function h(a,b){f(!1===a._errored);a._errored=!0;a._storedError=b;!1===a._writableDone&&K(a._writableController,b);!1===a._readableClosed&&s(a._readableController,b)}function x(a){f(void 0!==a._backpressureChangePromise,"_backpressureChangePromise should have been initialized");if(!1===a._backpressure)return Promise.resolve();f(!0===a._backpressure,"_backpressure should have been initialized");return a._backpressureChangePromise}function q(a,b){f(a._backpressure!==
b,"TransformStreamSetBackpressure() should be called only when backpressure is changed");void 0!==a._backpressureChangePromise&&a._backpressureChangePromise_resolve(b);a._backpressureChangePromise=new Promise(function(b){a._backpressureChangePromise_resolve=b});a._backpressureChangePromise.then(function(a){f(a!==b,"_backpressureChangePromise should be fulfilled only when backpressure is changed")});a._backpressure=b}function u(a,b){l(b._controlledTransformStream,a);return Promise.resolve()}function y(a,
b){f(!1===a._errored);f(!1===a._transforming);f(!1===a._backpressure);a._transforming=!0;var c=a._transformStreamController;return G(a._transformer,"transform",[b,c],u,[b,c]).then(function(){a._transforming=!1;return x(a)},function(b){j(a,b);return Promise.reject(b)})}function a(a){return!z(a)||!Object.prototype.hasOwnProperty.call(a,"_controlledTransformStream")?!1:!0}function c(a){return!z(a)||!Object.prototype.hasOwnProperty.call(a,"_transformStreamController")?!1:!0}function r(a){return new TypeError("TransformStreamDefaultController.prototype."+
a+" can only be used on a TransformStreamDefaultController")}function m(a){return new TypeError("TransformStream.prototype."+a+" can only be used on a TransformStream")}var g=function(){function a(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),f=i(1).assert,d=i(0),E=d.InvokeOrNoop,G=d.PromiseInvokeOrPerformFallback,B=d.PromiseInvokeOrNoop,
z=d.typeIsObject,d=i(4),A=d.ReadableStream,t=d.ReadableStreamDefaultControllerClose,o=d.ReadableStreamDefaultControllerEnqueue,s=d.ReadableStreamDefaultControllerError,J=d.ReadableStreamDefaultControllerGetDesiredSize,i=i(2),H=i.WritableStream,K=i.WritableStreamDefaultControllerError,M=function(){function a(b,c){n(this,a);this._transformStream=b;this._startPromise=c}g(a,[{key:"start",value:function(a){var b=this._transformStream;b._writableController=a;return this._startPromise.then(function(){return x(b)})}},
{key:"write",value:function(a){return y(this._transformStream,a)}},{key:"abort",value:function(){var a=this._transformStream;a._writableDone=!0;h(a,new TypeError("Writable side aborted"))}},{key:"close",value:function(){var a=this._transformStream;f(!1===a._transforming);a._writableDone=!0;return B(a._transformer,"flush",[a._transformStreamController]).then(function(){if(!0===a._errored)return Promise.reject(a._storedError);!1===a._readableClosed&&p(a);return Promise.resolve()}).catch(function(b){j(a,
b);return Promise.reject(a._storedError)})}}]);return a}(),D=function(){function a(b,c){n(this,a);this._transformStream=b;this._startPromise=c}g(a,[{key:"start",value:function(a){var b=this._transformStream;b._readableController=a;return this._startPromise.then(function(){f(void 0!==b._backpressureChangePromise,"_backpressureChangePromise should have been initialized");if(!0===b._backpressure)return Promise.resolve();f(!1===b._backpressure,"_backpressure should have been initialized");return b._backpressureChangePromise})}},
{key:"pull",value:function(){var a=this._transformStream;f(!0===a._backpressure,"pull() should be never called while _backpressure is false");f(void 0!==a._backpressureChangePromise,"_backpressureChangePromise should have been initialized");q(a,!1);return a._backpressureChangePromise}},{key:"cancel",value:function(){var a=this._transformStream;a._readableClosed=!0;h(a,new TypeError("Readable side canceled"))}}]);return a}(),I=function(){function b(a){n(this,b);if(!1===c(a))throw new TypeError("TransformStreamDefaultController can only be constructed with a TransformStream instance");
if(void 0!==a._transformStreamController)throw new TypeError("TransformStreamDefaultController instances can only be created by the TransformStream constructor");this._controlledTransformStream=a}g(b,[{key:"enqueue",value:function(b){if(!1===a(this))throw r("enqueue");l(this._controlledTransformStream,b)}},{key:"close",value:function(){if(!1===a(this))throw r("close");var b=this._controlledTransformStream;if(!0===b._errored)throw new TypeError("TransformStream is already errored");if(!0===b._readableClosed)throw new TypeError("Readable side is already closed");
p(b)}},{key:"error",value:function(b){if(!1===a(this))throw r("error");var c=this._controlledTransformStream;if(!0===c._errored)throw new TypeError("TransformStream is already errored");h(c,b)}},{key:"desiredSize",get:function(){if(!1===a(this))throw r("desiredSize");return J(this._controlledTransformStream._readableController)}}]);return b}(),i=function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};n(this,a);this._transformer=b;var c=b.readableStrategy,d=b.writableStrategy;
this._errored=this._transforming=!1;this._transformStreamController=this._readableController=this._writableController=this._storedError=void 0;this._readableClosed=this._writableDone=!1;this._backpressureChangePromise_resolve=this._backpressureChangePromise=this._backpressure=void 0;this._transformStreamController=new I(this);var e=void 0,g=new Promise(function(a){e=a}),t=new D(this,g);this._readable=new A(t,c);c=new M(this,g);this._writable=new H(c,d);f(void 0!==this._writableController);f(void 0!==
this._readableController);d=J(this._readableController);q(this,0>=d);var o=this,b=E(b,"start",[o._transformStreamController]);e(b);g.catch(function(a){!1===o._errored&&(o._errored=!0,o._storedError=a)})}g(a,[{key:"readable",get:function(){if(!1===c(this))throw m("readable");return this._readable}},{key:"writable",get:function(){if(!1===c(this))throw m("writable");return this._writable}}]);return a}();b.exports={TransformStream:i}},function(b,d,i){b.exports=i(5)}]))},function(j,b,d){d(82);j.exports=
d(15).Uint8ClampedArray},function(j,b,d){var k=d(1)("unscopables"),e=Array.prototype;void 0==e[k]&&d(4)(e,k,{});j.exports=function(b){e[k][b]=!0}},function(j,b,d){var k=d(11),e=d(18),i=d(8);j.exports=[].copyWithin||function(b,d){var p=k(this),j=i(p.length),h=e(b,j),x=e(d,j),q=2<arguments.length?arguments[2]:void 0,j=Math.min((void 0===q?j:e(q,j))-x,j-h),q=1;x<h&&h<x+j&&(q=-1,x+=j-1,h+=j-1);for(;0<j--;)x in p?p[h]=p[x]:delete p[h],h+=q,x+=q;return p}},function(j,b,d){var k=d(22),e=d(43),i=d(11),n=
d(8),l=d(63);j.exports=function(b,d){var h=1==b,j=2==b,q=3==b,u=4==b,y=6==b,a=5==b||y,c=d||l;return function(d,m,g){for(var f=i(d),l=e(f),m=k(m,g,3),g=n(l.length),w=0,d=h?c(d,g):j?c(d,0):void 0,B,z;g>w;w++)if(a||w in l)if(B=l[w],z=m(B,w,f),b)if(h)d[w]=z;else if(z)switch(b){case 3:return!0;case 5:return B;case 6:return w;case 2:d.push(B)}else if(u)return!1;return y?-1:q||u?u:d}}},function(j,b,d){var k=d(9),e=d(66),i=d(1)("species");j.exports=function(b){var d;if(e(b)){d=b.constructor;if("function"==
typeof d&&(d===Array||e(d.prototype)))d=void 0;k(d)&&(d=d[i],null===d&&(d=void 0))}return void 0===d?Array:d}},function(j,b,d){var k=d(62);j.exports=function(b,d){return new (k(b))(d)}},function(j,b,d){j.exports=d(2).document&&document.documentElement},function(j,b,d){var k=d(10),e=d(1)("iterator"),i=Array.prototype;j.exports=function(b){return void 0!==b&&(k.Array===b||i[e]===b)}},function(j,b,d){var k=d(21);j.exports=Array.isArray||function(b){return"Array"==k(b)}},function(j,b,d){var k=d(44),e=
d(17),i=d(26),n={};d(4)(n,d(1)("iterator"),function(){return this});j.exports=function(b,d,j){b.prototype=k(n,{next:e(1,j)});i(b,d+" Iterator")}},function(j,b,d){var k=d(24),e=d(41),i=d(25),n=d(4),l=d(5),p=d(10),w=d(67),h=d(26),x=d(46),q=d(1)("iterator"),u=!([].keys&&"next"in[].keys()),y=function(){return this};j.exports=function(a,b,d,m,g,f,j){w(d,b,m);var m=function(a){return!u&&a in A?A[a]:function(){return new d(this,a)}},G=b+" Iterator",B="values"==g,z=!1,A=a.prototype,t=A[q]||A["@@iterator"]||
g&&A[g],o=t||m(g),s=g?!B?o:m("entries"):void 0,J="Array"==b?A.entries||t:t,H,K;J&&(a=x(J.call(new a)),a!==Object.prototype&&(h(a,G,!0),!k&&!l(a,q)&&n(a,q,y)));B&&(t&&"values"!==t.name)&&(z=!0,o=function(){return t.call(this)});(!k||j)&&(u||z||!A[q])&&n(A,q,o);p[b]=o;p[G]=y;if(g)if(H={values:B?o:m("values"),keys:f?o:m("keys"),entries:s},j)for(K in H)K in A||i(A,K,H[K]);else e(e.P+e.F*(u||z),b,H);return H}},function(j,b,d){var k=d(1)("iterator"),e=!1;try{var i=[7][k]();i["return"]=function(){e=!0};
Array.from(i,function(){throw 2;})}catch(n){}j.exports=function(b,d){if(!d&&!e)return!1;var i=!1;try{var h=[7],n=h[k]();n.next=function(){return{done:i=!0}};h[k]=function(){return n};b(h)}catch(q){}return i}},function(j){j.exports=function(b,d){return{value:d,done:!!b}}},function(j,b,d){var k=d(7),e=d(14),i=d(73);j.exports=d(3)?Object.defineProperties:function(b,d){e(b);for(var p=i(d),j=p.length,h=0,x;j>h;)k.f(b,x=p[h++],d[x]);return b}},function(j,b,d){var k=d(74),e=d(17),i=d(20),n=d(28),l=d(5),
p=d(42),w=Object.getOwnPropertyDescriptor;b.f=d(3)?w:function(b,d){b=i(b);d=n(d,!0);if(p)try{return w(b,d)}catch(q){}if(l(b,d))return e(!k.f.call(b,d),b[d])}},function(j,b,d){var k=d(47),e=d(23);j.exports=Object.keys||function(b){return k(b,e)}},function(j,b){b.f={}.propertyIsEnumerable},function(j){j.exports=Object.is||function(b,d){return b===d?0!==b||1/b===1/d:b!=b&&d!=d}},function(j,b,d){var k=d(2),e=d(7),i=d(3),n=d(1)("species");j.exports=function(b){b=k[b];i&&(b&&!b[n])&&e.f(b,n,{configurable:!0,
get:function(){return this}})}},function(j,b,d){var k=d(14),e=d(34),i=d(1)("species");j.exports=function(b,d){var p=k(b).constructor,j;return void 0===p||void 0==(j=k(p)[i])?d:e(j)}},function(j,b,d){var k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};if(d(3)){var e=d(24),i=d(2),n=d(16),l=d(41),p=d(50),w=d(79),h=d(22),x=d(35),q=d(17),u=d(4),
b=d(48),y=d(19),a=d(8),c=d(18),r=d(28),m=d(5),g=d(75),f=d(38),E=d(9),G=d(11),B=d(65),z=d(44),A=d(46),t=d(45).f,o=d(80),s=d(12),J=d(1),H=d(61),K=d(37),M=d(77),D=d(81),I=d(10),O=d(69),S=d(76),P=d(36),R=d(60),aa=d(7),d=d(72),v=aa.f,fa=d.f,ba=i.RangeError,ia=i.TypeError,V=i.Uint8Array,T=Array.prototype,la=w.ArrayBuffer,N=w.DataView,Y=H(0),U=H(2),C=H(3),Q=H(4),ca=H(5),ga=H(6),ja=K(!0),pa=K(!1),va=D.values,xa=D.keys,Ba=D.entries,Ia=T.lastIndexOf,na=T.reduce,oa=T.reduceRight,wa=T.join,ma=T.sort,Ca=T.slice,
X=T.toString,ya=T.toLocaleString,Z=J("iterator"),ta=J("toStringTag"),za=s("typed_constructor"),ha=s("def_constructor"),w=p.CONSTR,$=p.TYPED,Ja=p.VIEW,Ka=H(1,function(a,b){return ua(M(a,a[ha]),b)}),sa=n(function(){return 1===(new V((new Uint16Array([1])).buffer))[0]}),qa=!!V&&!!V.prototype.set&&n(function(){(new V(1)).set({})}),da=function(b,c){if(void 0===b)throw ia("Wrong length!");var d=+b,e=a(b);if(c&&!g(d,e))throw ba("Wrong length!");return e},F=function(a,b){var c=y(a);if(0>c||c%b)throw ba("Wrong offset!");
return c},L=function(a){if(E(a)&&$ in a)return a;throw ia(a+" is not a typed array!");},ua=function(a,b){if(!(E(a)&&za in a))throw ia("It is not a typed array constructor!");return new a(b)},Da=function(a,b){return ea(M(a,a[ha]),b)},ea=function(a,b){for(var c=0,d=b.length,e=ua(a,d);d>c;)e[c]=b[c++];return e},H=function(a,b,c){v(a,b,{get:function(){return this._d[c]}})},Aa=function(b){var c=G(b),d=arguments.length,e=1<d?arguments[1]:void 0,f=void 0!==e,g=o(c),t,i;if(void 0!=g&&!B(g)){i=g.call(c);c=
[];for(g=0;!(t=i.next()).done;g++)c.push(t.value)}f&&2<d&&(e=h(e,arguments[2],2));g=0;d=a(c.length);for(t=ua(this,d);d>g;g++)t[g]=f?e(c[g],g):c[g];return t},La=function(){for(var a=0,b=arguments.length,c=ua(this,b);b>a;)c[a]=arguments[a++];return c},Ma=!!V&&n(function(){ya.call(new V(1))}),Ea=function(){return ya.apply(Ma?Ca.call(L(this)):L(this),arguments)},Fa={copyWithin:function(a,b){return R.call(L(this),a,b,2<arguments.length?arguments[2]:void 0)},every:function(a){return Q(L(this),a,1<arguments.length?
arguments[1]:void 0)},fill:function(a){return P.apply(L(this),arguments)},filter:function(a){return Da(this,U(L(this),a,1<arguments.length?arguments[1]:void 0))},find:function(a){return ca(L(this),a,1<arguments.length?arguments[1]:void 0)},findIndex:function(a){return ga(L(this),a,1<arguments.length?arguments[1]:void 0)},forEach:function(a){Y(L(this),a,1<arguments.length?arguments[1]:void 0)},indexOf:function(a){return pa(L(this),a,1<arguments.length?arguments[1]:void 0)},includes:function(a){return ja(L(this),
a,1<arguments.length?arguments[1]:void 0)},join:function(a){return wa.apply(L(this),arguments)},lastIndexOf:function(a){return Ia.apply(L(this),arguments)},map:function(a){return Ka(L(this),a,1<arguments.length?arguments[1]:void 0)},reduce:function(a){return na.apply(L(this),arguments)},reduceRight:function(a){return oa.apply(L(this),arguments)},reverse:function(){for(var a=L(this).length,b=Math.floor(a/2),c=0,d;c<b;)d=this[c],this[c++]=this[--a],this[a]=d;return this},some:function(a){return C(L(this),
a,1<arguments.length?arguments[1]:void 0)},sort:function(a){return ma.call(L(this),a)},subarray:function(b,d){var e=L(this),f=e.length,g=c(b,f);return new (M(e,e[ha]))(e.buffer,e.byteOffset+g*e.BYTES_PER_ELEMENT,a((void 0===d?f:c(d,f))-g))}},Ga=function(a,b){return Da(this,Ca.call(L(this),a,b))},Ha=function(b,c){L(this);var d=F(c,1),e=this.length,f=G(b),g=a(f.length),t=0;if(g+d>e)throw ba("Wrong length!");for(;t<g;)this[d+t]=f[t++]},ka={entries:function(){return Ba.call(L(this))},keys:function(){return xa.call(L(this))},
values:function(){return va.call(L(this))}},ra=function(a,b){return E(a)&&a[$]&&"symbol"!=("undefined"===typeof b?"undefined":k(b))&&b in a&&""+ +b==""+b},s=function(a,b){return ra(a,b=r(b,!0))?q(2,a[b]):fa(a,b)},J=function(a,b,c){return ra(a,b=r(b,!0))&&E(c)&&m(c,"value")&&!m(c,"get")&&!m(c,"set")&&!c.configurable&&(!m(c,"writable")||c.writable)&&(!m(c,"enumerable")||c.enumerable)?(a[b]=c.value,a):v(a,b,c)};w||(d.f=s,aa.f=J);l(l.S+l.F*!w,"Object",{getOwnPropertyDescriptor:s,defineProperty:J});n(function(){X.call({})})&&
(X=ya=function(){return wa.call(this)});var W=b({},Fa);b(W,ka);u(W,Z,ka.values);b(W,{slice:Ga,set:Ha,constructor:function(){},toString:X,toLocaleString:Ea});H(W,"buffer","b");H(W,"byteOffset","o");H(W,"byteLength","l");H(W,"length","e");v(W,ta,{get:function(){return this[$]}});j.exports=function(b,c,d,g){var g=!!g,o=b+(g?"Clamped":"")+"Array",h=o!="Uint8Array",m="get"+b,q="set"+b,s=i[o],r=s||{},k=s&&A(s),b={},j=s&&s.prototype,H=function(a,b){v(a,b,{get:function(){var a=this._d;return a.v[m](b*c+a.o,
sa)},set:function(a){var d=this._d;g&&(a=(a=Math.round(a))<0?0:a>255?255:a&255);d.v[q](b*c+d.o,a,sa)},enumerable:true})};if(!s||!p.ABV){s=d(function(b,d,e,g){x(b,s,o,"_d");var t=0,i=0,h;if(E(d))if(d instanceof la||(h=f(d))=="ArrayBuffer"||h=="SharedArrayBuffer"){h=d;i=F(e,c);d=d.byteLength;if(g===void 0){if(d%c)throw ba("Wrong length!");g=d-i;if(g<0)throw ba("Wrong length!");}else{g=a(g)*c;if(g+i>d)throw ba("Wrong length!");}d=g/c}else return $ in d?ea(s,d):Aa.call(s,d);else{d=da(d,true);g=d*c;h=
new la(g)}for(u(b,"_d",{b:h,o:i,l:g,e:d,v:new N(h)});t<d;)H(b,t++)});j=s.prototype=z(W);u(j,"constructor",s)}else if(!O(function(a){new s(null);new s(a)},true)){s=d(function(a,b,d,e){x(a,s,o);var g;return!E(b)?new r(da(b,h)):b instanceof la||(g=f(b))=="ArrayBuffer"||g=="SharedArrayBuffer"?e!==void 0?new r(b,F(d,c),e):d!==void 0?new r(b,F(d,c)):new r(b):$ in b?ea(s,b):Aa.call(s,b)});Y(k!==Function.prototype?t(r).concat(t(k)):t(r),function(a){a in s||u(s,a,r[a])});s.prototype=j;if(!e)j.constructor=
s}var d=j[Z],k=!!d&&(d.name=="values"||d.name==void 0),J=ka.values;u(s,za,true);u(j,$,o);u(j,Ja,true);u(j,ha,s);(g?(new s(1))[ta]!=o:!(ta in j))&&v(j,ta,{get:function(){return o}});b[o]=s;l(l.G+l.W+l.F*(s!=r),b);l(l.S,o,{BYTES_PER_ELEMENT:c,from:Aa,of:La});"BYTES_PER_ELEMENT"in j||u(j,"BYTES_PER_ELEMENT",c);l(l.P,o,Fa);S(o);l(l.P+l.F*qa,o,{set:Ha});l(l.P+l.F*!k,o,ka);l(l.P+l.F*(j.toString!=X),o,{toString:X});l(l.P+l.F*n(function(){(new s(1)).slice()}),o,{slice:Ga});l(l.P+l.F*(n(function(){return[1,
2].toLocaleString()!=(new s([1,2])).toLocaleString()})||!n(function(){j.toLocaleString.call([1,2])})),o,{toLocaleString:Ea});I[o]=k?d:J;!e&&!k&&u(j,Z,J)}}else j.exports=function(){}},function(j,b,d){var k=d(2),e=d(3),i=d(24),j=d(50),n=d(4),l=d(48),p=d(16),w=d(35),h=d(19),x=d(8),q=d(45).f,u=d(7).f,y=d(36),d=d(26),a=k.ArrayBuffer,c=k.DataView,r=k.Math,m=k.RangeError,g=k.Infinity,f=a,E=r.abs,G=r.pow,B=r.floor,z=r.log,A=r.LN2,t=e?"_b":"buffer",o=e?"_l":"byteLength",s=e?"_o":"byteOffset",J=function(a,
b,c){var d=Array(c),c=8*c-b-1,e=(1<<c)-1,f=e>>1,t=23===b?G(2,-24)-G(2,-77):0,o=0,i=0>a||0===a&&0>1/a?1:0,h,m,a=E(a);if(a!=a||a===g)a=a!=a?1:0,h=e;else{h=B(z(a)/A);if(1>a*(m=G(2,-h)))h--,m*=2;a=1<=h+f?a+t/m:a+t*G(2,1-f);2<=a*m&&(h++,m/=2);h+f>=e?(a=0,h=e):1<=h+f?(a=(a*m-1)*G(2,b),h+=f):(a=a*G(2,f-1)*G(2,b),h=0)}for(;8<=b;d[o++]=a&255,a/=256,b-=8);h=h<<b|a;for(c+=b;0<c;d[o++]=h&255,h/=256,c-=8);d[--o]|=128*i;return d},H=function(a,b,c){for(var d=8*c-b-1,e=(1<<d)-1,f=e>>1,d=d-7,c=c-1,t=a[c--],o=t&127,
h,t=t>>7;0<d;o=256*o+a[c],c--,d-=8);h=o&(1<<-d)-1;o>>=-d;for(d+=b;0<d;h=256*h+a[c],c--,d-=8);if(0===o)o=1-f;else{if(o===e)return h?NaN:t?-g:g;h+=G(2,b);o-=f}return(t?-1:1)*h*G(2,o-b)},K=function(a){return a[3]<<24|a[2]<<16|a[1]<<8|a[0]},M=function(a){return[a&255]},D=function(a){return[a&255,a>>8&255]},I=function(a){return[a&255,a>>8&255,a>>16&255,a>>24&255]},O=function(a){return J(a,52,8)},S=function(a){return J(a,23,4)},k=function(a,b,c){u(a.prototype,b,{get:function(){return this[c]}})},P=function(a,
b,c,d){var c=+c,e=h(c);if(c!=e||0>e||e+b>a[o])throw m("Wrong index!");c=e+a[s];a=a[t]._b.slice(c,c+b);return d?a:a.reverse()},R=function(a,b,c,d,e,f){var c=+c,g=h(c);if(c!=g||0>g||g+b>a[o])throw m("Wrong index!");c=a[t]._b;a=g+a[s];d=d(+e);for(e=0;e<b;e++)c[a+e]=d[f?e:b-e-1]},aa=function(b,c){w(b,a,"ArrayBuffer");var d=+c,e=x(d);if(d!=e)throw m("Wrong length!");return e};if(j.ABV){if(!p(function(){new a})||!p(function(){new a(0.5)})){for(var a=function(a){return new f(aa(this,a))},e=a.prototype=f.prototype,
q=q(f),p=0,v;q.length>p;)(v=q[p++])in a||n(a,v,f[v]);i||(e.constructor=a)}v=new c(new a(2));var fa=c.prototype.setInt8;v.setInt8(0,2147483648);v.setInt8(1,2147483649);(v.getInt8(0)||!v.getInt8(1))&&l(c.prototype,{setInt8:function(a,b){fa.call(this,a,b<<24>>24)},setUint8:function(a,b){fa.call(this,a,b<<24>>24)}},!0)}else a=function(a){a=aa(this,a);this._b=y.call(Array(a),0);this[o]=a},c=function(b,d,e){w(this,c,"DataView");w(b,a,"DataView");var f=b[o],d=h(d);if(0>d||d>f)throw m("Wrong offset!");e=
void 0===e?f-d:x(e);if(d+e>f)throw m("Wrong length!");this[t]=b;this[s]=d;this[o]=e},e&&(k(a,"byteLength","_l"),k(c,"buffer","_b"),k(c,"byteLength","_l"),k(c,"byteOffset","_o")),l(c.prototype,{getInt8:function(a){return P(this,1,a)[0]<<24>>24},getUint8:function(a){return P(this,1,a)[0]},getInt16:function(a,b){var c=P(this,2,a,b);return(c[1]<<8|c[0])<<16>>16},getUint16:function(a,b){var c=P(this,2,a,b);return c[1]<<8|c[0]},getInt32:function(a,b){return K(P(this,4,a,b))},getUint32:function(a,b){return K(P(this,
4,a,b))>>>0},getFloat32:function(a,b){return H(P(this,4,a,b),23,4)},getFloat64:function(a,b){return H(P(this,8,a,b),52,8)},setInt8:function(a,b){R(this,1,a,M,b)},setUint8:function(a,b){R(this,1,a,M,b)},setInt16:function(a,b,c){R(this,2,a,D,b,c)},setUint16:function(a,b,c){R(this,2,a,D,b,c)},setInt32:function(a,b,c){R(this,4,a,I,b,c)},setUint32:function(a,b,c){R(this,4,a,I,b,c)},setFloat32:function(a,b,c){R(this,4,a,S,b,c)},setFloat64:function(a,b,c){R(this,8,a,O,b,c)}});d(a,"ArrayBuffer");d(c,"DataView");
n(c.prototype,j.VIEW,!0);b.ArrayBuffer=a;b.DataView=c},function(j,b,d){var k=d(38),e=d(1)("iterator"),i=d(10);j.exports=d(15).getIteratorMethod=function(b){if(void 0!=b)return b[e]||b["@@iterator"]||i[k(b)]}},function(j,b,d){var b=d(59),k=d(70),e=d(10),i=d(20);j.exports=d(68)(Array,"Array",function(b,d){this._t=i(b);this._i=0;this._k=d},function(){var b=this._t,d=this._k,e=this._i++;return!b||e>=b.length?(this._t=void 0,k(1)):"keys"==d?k(0,e):"values"==d?k(0,b[e]):k(0,[e,b[e]])},"values");e.Arguments=
e.Array;b("keys");b("values");b("entries")},function(j,b,d){d(78)("Uint8",1,function(b){return function(d,i,j){return b(this,d,i,j)}},!0)},function(j,b,d){function k(b){b.mozCurrentTransform||(b._originalSave=b.save,b._originalRestore=b.restore,b._originalRotate=b.rotate,b._originalScale=b.scale,b._originalTranslate=b.translate,b._originalTransform=b.transform,b._originalSetTransform=b.setTransform,b._transformMatrix=b._transformMatrix||[1,0,0,1,0,0],b._transformStack=[],Object.defineProperty(b,"mozCurrentTransform",
{get:function(){return this._transformMatrix}}),Object.defineProperty(b,"mozCurrentTransformInverse",{get:function(){var b=this._transformMatrix,d=b[0],a=b[1],c=b[2],e=b[3],h=b[4],b=b[5],g=d*e-a*c,f=a*c-d*e;return[e/g,a/f,c/f,d/g,(e*h-c*b)/f,(a*h-d*b)/g]}}),b.save=function(){var b=this._transformMatrix;this._transformStack.push(b);this._transformMatrix=b.slice(0,6);this._originalSave()},b.restore=function(){var b=this._transformStack.pop();b&&(this._transformMatrix=b,this._originalRestore())},b.translate=
function(b,d){var a=this._transformMatrix;a[4]=a[0]*b+a[2]*d+a[4];a[5]=a[1]*b+a[3]*d+a[5];this._originalTranslate(b,d)},b.scale=function(b,d){var a=this._transformMatrix;a[0]*=b;a[1]*=b;a[2]*=d;a[3]*=d;this._originalScale(b,d)},b.transform=function(d,e,a,c,h,i){var g=this._transformMatrix;this._transformMatrix=[g[0]*d+g[2]*e,g[1]*d+g[3]*e,g[0]*a+g[2]*c,g[1]*a+g[3]*c,g[0]*h+g[2]*i+g[4],g[1]*h+g[3]*i+g[5]];b._originalTransform(d,e,a,c,h,i)},b.setTransform=function(d,e,a,c,h,i){this._transformMatrix=
[d,e,a,c,h,i];b._originalSetTransform(d,e,a,c,h,i)},b.rotate=function(b){var d=Math.cos(b),a=Math.sin(b),c=this._transformMatrix;this._transformMatrix=[c[0]*d+c[2]*a,c[1]*d+c[3]*a,c[0]*-a+c[2]*d,c[1]*-a+c[3]*d,c[4],c[5]];this._originalRotate(b)})}function e(b){var d=b.width,e=b.height,a,c,h=d+1,i=new Uint8Array(h*(e+1)),g=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),f=d+7&-8,l=b.data,p=new Uint8Array(f*e),j=0,b=0;for(a=l.length;b<a;b++){c=128;for(var k=l[b];0<c;)p[j++]=k&c?0:255,c>>=1}j=l=0;
0!==p[j]&&(i[0]=1,++l);for(a=1;a<d;a++)p[j]!==p[j+1]&&(i[a]=p[j]?2:1,++l),j++;0!==p[j]&&(i[a]=2,++l);for(b=1;b<e;b++){j=b*f;c=b*h;p[j-f]!==p[j]&&(i[c]=p[j]?1:8,++l);k=(p[j]?4:0)+(p[j-f]?8:0);for(a=1;a<d;a++)k=(k>>2)+(p[j+1]?4:0)+(p[j-f+1]?8:0),g[k]&&(i[c+a]=g[k],++l),j++;p[j-f]!==p[j]&&(i[c+a]=p[j]?2:4,++l);if(1E3<l)return null}j=f*(e-1);c=b*h;0!==p[j]&&(i[c]=8,++l);for(a=1;a<d;a++)p[j]!==p[j+1]&&(i[c+a]=p[j]?4:8,++l),j++;0!==p[j]&&(i[c+a]=4,++l);if(1E3<l)return null;for(var g=new Int32Array([0,h,
-1,0,-h,0,0,0,1]),A=[],b=0;l&&b<=e;b++){f=b*h;for(p=f+d;f<p&&!i[f];)f++;if(f!==p){p=[f%h,b];j=i[f];a=f;do{c=g[j];do f+=c;while(!i[f]);c=i[f];5!==c&&10!==c?(j=c,i[f]=0):(j=c&51*j>>4,i[f]&=j>>2|j<<2);p.push(f%h);p.push(f/h|0);--l}while(a!==f);A.push(p);--b}}return function(a){a.save();a.scale(1/d,-1/e);a.translate(0,-e);a.beginPath();for(var b=0,c=A.length;b<c;b++){var f=A[b];a.moveTo(f[0],f[1]);for(var g=2,h=f.length;g<h;g=g+2)a.lineTo(f[g],f[g+1])}a.fill();a.beginPath();a.restore()}}Object.defineProperty(b,
"__esModule",{value:!0});b.CanvasGraphics=void 0;var i=d(0),n=d(85),l=d(52),p=16,w={get value(){return(0,i.shadow)(w,"value",(0,i.isLittleEndian)())}},h=function(){function b(d){this.canvasFactory=d;this.cache=Object.create(null)}b.prototype={getCanvas:function(b,d,a,c){var e;void 0!==this.cache[b]?(e=this.cache[b],this.canvasFactory.reset(e,d,a),e.context.setTransform(1,0,0,1,0,0)):(e=this.canvasFactory.create(d,a),this.cache[b]=e);c&&k(e.context);return e},clear:function(){for(var b in this.cache)this.canvasFactory.destroy(this.cache[b]),
delete this.cache[b]}};return b}(),x=function(){function b(){this.alphaIsShape=!1;this.fontSize=0;this.fontSizeScale=1;this.textMatrix=i.IDENTITY_MATRIX;this.textMatrixScale=1;this.fontMatrix=i.FONT_IDENTITY_MATRIX;this.wordSpacing=this.charSpacing=this.lineY=this.lineX=this.y=this.x=this.leading=0;this.textHScale=1;this.textRenderingMode=i.TextRenderingMode.FILL;this.textRise=0;this.strokeColor=this.fillColor="#000000";this.patternFill=!1;this.lineWidth=this.strokeAlpha=this.fillAlpha=1;this.resumeSMaskCtx=
this.activeSMask=null}b.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(b,d){this.x=b;this.y=d}};return b}(),j=function(){function b(a,c,d,e,f){this.ctx=a;this.current=new x;this.stateStack=[];this.pendingClip=null;this.pendingEOFill=!1;this.xobjs=this.res=null;this.commonObjs=c;this.objs=d;this.canvasFactory=e;this.imageLayer=f;this.groupStack=[];this.baseTransform=this.processingType3=null;this.baseTransformStack=[];this.groupLevel=0;this.smaskStack=[];this.smaskCounter=
0;this.tempSMask=null;this.cachedCanvases=new h(this.canvasFactory);a&&k(a);this.cachedGetSinglePixelWidth=null}function d(a,b){if("undefined"!==typeof ImageData&&b instanceof ImageData)a.putImageData(b,0,0);else{var c=b.height,e=b.width,f=c%p,c=(c-f)/p,g=0===f?c:c+1,h=a.createImageData(e,p),m=0,l,j=b.data,k=h.data,n,r,q;if(b.kind===i.ImageKind.GRAYSCALE_1BPP){var x=j.byteLength,k=new Uint32Array(k.buffer,0,k.byteLength>>2),v=k.length,E=e+7>>3,u=w.value?4278190080:255;for(n=0;n<g;n++){q=n<c?p:f;for(r=
l=0;r<q;r++){for(var G=x-m,y=0,G=G>E?e:8*G-7,B=G&-8,z=0,N=0;y<B;y+=8)N=j[m++],k[l++]=N&128?4294967295:u,k[l++]=N&64?4294967295:u,k[l++]=N&32?4294967295:u,k[l++]=N&16?4294967295:u,k[l++]=N&8?4294967295:u,k[l++]=N&4?4294967295:u,k[l++]=N&2?4294967295:u,k[l++]=N&1?4294967295:u;for(;y<G;y++)0===z&&(N=j[m++],z=128),k[l++]=N&z?4294967295:u,z>>=1}for(;l<v;)k[l++]=0;a.putImageData(h,0,n*p)}}else if(b.kind===i.ImageKind.RGBA_32BPP){r=0;q=4*e*p;for(n=0;n<c;n++)k.set(j.subarray(m,m+q)),m+=q,a.putImageData(h,
0,r),r+=p;n<g&&(k.set(j.subarray(m,m+4*e*f)),a.putImageData(h,0,r))}else if(b.kind===i.ImageKind.RGB_24BPP){q=p;q*=e;for(n=0;n<g;n++){n>=c&&(q=f,q*=e);l=0;for(r=q;r--;)k[l++]=j[m++],k[l++]=j[m++],k[l++]=j[m++],k[l++]=255;a.putImageData(h,0,n*p)}}else throw Error("bad image kind: "+b.kind);}}function j(a,b){for(var c=b.height,d=b.width,e=c%p,c=(c-e)/p,f=0===e?c:c+1,g=a.createImageData(d,p),h=0,i=b.data,m=g.data,l=0;l<f;l++){for(var k=l<c?p:e,n=3,r=0;r<k;r++)for(var q=0,w=0;w<d;w++){if(!q)var x=i[h++],
q=128;m[n]=x&q?0:255;n+=4;q>>=1}a.putImageData(g,0,l*p)}}function a(a,b){for(var c="strokeStyle fillStyle fillRule globalAlpha lineWidth lineCap lineJoin miterLimit globalCompositeOperation font".split(" "),d=0,e=c.length;d<e;d++){var f=c[d];void 0!==a[f]&&(b[f]=a[f])}void 0!==a.setLineDash&&(b.setLineDash(a.getLineDash()),b.lineDashOffset=a.lineDashOffset)}function c(a){a.strokeStyle="#000000";a.fillStyle="#000000";a.fillRule="nonzero";a.globalAlpha=1;a.lineWidth=1;a.lineCap="butt";a.lineJoin="miter";
a.miterLimit=10;a.globalCompositeOperation="source-over";a.font="10px sans-serif";void 0!==a.setLineDash&&(a.setLineDash([]),a.lineDashOffset=0)}function r(a,b,c){for(var d=a.length,e=1/255,f=3;f<d;f+=4)b[f]=b[f]*(c?c[a[f]]:a[f])*e|0}function m(a,b,c){for(var d=a.length,e=3;e<d;e+=4){var f=77*a[e-3]+152*a[e-2]+28*a[e-1];b[e]=c?b[e]*c[f>>8]>>8:b[e]*f>>16}}function g(a,b,c){var d=b.canvas,e=b.context;a.setTransform(b.scaleX,0,0,b.scaleY,b.offsetX,b.offsetY);var f=b.backdrop||null;if(!b.transferMap&&
l.WebGLUtils.isEnabled)c=l.WebGLUtils.composeSMask(c.canvas,d,{subtype:b.subtype,backdrop:f}),a.setTransform(1,0,0,1,0,0),a.drawImage(c,b.offsetX,b.offsetY);else{for(var g=d.width,h=d.height,i=b.transferMap,j=!!f,p=j?f[0]:0,k=j?f[1]:0,f=j?f[2]:0,b="Luminosity"===b.subtype?m:r,n=Math.min(h,Math.ceil(1048576/g)),q=0;q<h;q+=n){var w=Math.min(n,h-q),x=e.getImageData(0,q,g,w),w=c.getImageData(0,q,g,w);if(j)for(var u=x.data,E=p,G=k,y=f,z=u.length,B=3;B<z;B+=4){var N=u[B];if(0===N)u[B-3]=E,u[B-2]=G,u[B-
1]=y;else if(255>N){var Y=255-N;u[B-3]=u[B-3]*N+E*Y>>8;u[B-2]=u[B-2]*N+G*Y>>8;u[B-1]=u[B-1]*N+y*Y>>8}}b(x.data,w.data,i);e.putImageData(w,0,q)}a.drawImage(d,0,0)}}var f=["butt","round","square"],E=["miter","round","bevel"],G={},B={};b.prototype={beginDrawing:function(a){var b=a.transform,d=a.viewport,e=a.transparency,a=a.background,a=void 0===a?null:a,f=this.ctx.canvas.width,g=this.ctx.canvas.height;this.ctx.save();this.ctx.fillStyle=a||"rgb(255, 255, 255)";this.ctx.fillRect(0,0,f,g);this.ctx.restore();
e&&(e=this.cachedCanvases.getCanvas("transparent",f,g,!0),this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform));this.ctx.save();c(this.ctx);b&&this.ctx.transform.apply(this.ctx,b);this.ctx.transform.apply(this.ctx,d.transform);this.baseTransform=this.ctx.mozCurrentTransform.slice();this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(a,b,c,d){var e=a.argsArray,
a=a.fnArray,b=b||0,f=e.length;if(f===b)return b;for(var g=10<f-b&&"function"===typeof c,h=g?Date.now()+15:0,m=0,l=this.commonObjs,j=this.objs,p;;){if(void 0!==d&&b===d.nextBreakPoint)return d.breakIt(b,c),b;p=a[b];if(p!==i.OPS.dependency)this[p].apply(this,e[b]);else{p=e[b];for(var k=0,n=p.length;k<n;k++){var r=p[k],q="g"===r[0]&&"_"===r[1]?l:j;if(!q.isResolved(r))return q.get(r,c),b}}b++;if(b===f)return b;if(g&&10<++m){if(Date.now()>h)return c(),b;m=0}}},endDrawing:function(){null!==this.current.activeSMask&&
this.endSMaskGroup();this.ctx.restore();this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null);this.cachedCanvases.clear();l.WebGLUtils.clear();this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(a){this.current.lineWidth=a;this.ctx.lineWidth=a},setLineCap:function(a){this.ctx.lineCap=f[a]},setLineJoin:function(a){this.ctx.lineJoin=E[a]},setMiterLimit:function(a){this.ctx.miterLimit=
a},setDash:function(a,b){var c=this.ctx;void 0!==c.setLineDash&&(c.setLineDash(a),c.lineDashOffset=b)},setRenderingIntent:function(){},setFlatness:function(){},setGState:function(a){for(var b=0,c=a.length;b<c;b++){var d=a[b],e=d[1];switch(d[0]){case "LW":this.setLineWidth(e);break;case "LC":this.setLineCap(e);break;case "LJ":this.setLineJoin(e);break;case "ML":this.setMiterLimit(e);break;case "D":this.setDash(e[0],e[1]);break;case "RI":this.setRenderingIntent(e);break;case "FL":this.setFlatness(e);
break;case "Font":this.setFont(e[0],e[1]);break;case "CA":this.current.strokeAlpha=d[1];break;case "ca":this.current.fillAlpha=d[1];this.ctx.globalAlpha=d[1];break;case "BM":this.ctx.globalCompositeOperation=e;break;case "SMask":this.current.activeSMask&&(0<this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=e?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),
this.tempSMask=null}}},beginSMaskGroup:function(){var b=this.current.activeSMask,c=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,b.canvas.width,b.canvas.height,!0),d=this.ctx,e=d.mozCurrentTransform;this.ctx.save();c=c.context;c.scale(1/b.scaleX,1/b.scaleY);c.translate(-b.offsetX,-b.offsetY);c.transform.apply(c,e);b.startTransformInverse=c.mozCurrentTransformInverse;a(d,c);this.ctx=c;this.setGState([["BM","source-over"],["ca",1],["CA",1]]);this.groupStack.push(d);this.groupLevel++},
suspendSMaskGroup:function(){var b=this.ctx;this.groupLevel--;this.ctx=this.groupStack.pop();g(this.ctx,this.current.activeSMask,b);this.ctx.restore();this.ctx.save();a(b,this.ctx);this.current.resumeSMaskCtx=b;this.ctx.transform.apply(this.ctx,i.Util.transform(this.current.activeSMask.startTransformInverse,b.mozCurrentTransform));b.save();b.setTransform(1,0,0,1,0,0);b.clearRect(0,0,b.canvas.width,b.canvas.height);b.restore()},resumeSMaskGroup:function(){var a=this.ctx;this.ctx=this.current.resumeSMaskCtx;
this.groupStack.push(a);this.groupLevel++},endSMaskGroup:function(){var b=this.ctx;this.groupLevel--;this.ctx=this.groupStack.pop();g(this.ctx,this.current.activeSMask,b);this.ctx.restore();a(b,this.ctx);this.ctx.transform.apply(this.ctx,i.Util.transform(this.current.activeSMask.startTransformInverse,b.mozCurrentTransform))},save:function(){this.ctx.save();var a=this.current;this.stateStack.push(a);this.current=a.clone();this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&
this.resumeSMaskGroup();null!==this.current.activeSMask&&(0===this.stateStack.length||this.stateStack[this.stateStack.length-1].activeSMask!==this.current.activeSMask)&&this.endSMaskGroup();0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.cachedGetSinglePixelWidth=this.pendingClip=null)},transform:function(a,b,c,d,e,f){this.ctx.transform(a,b,c,d,e,f);this.cachedGetSinglePixelWidth=null},constructPath:function(a,b){for(var c=this.ctx,d=this.current,e=d.x,f=d.y,
g=0,h=0,m=a.length;g<m;g++)switch(a[g]|0){case i.OPS.rectangle:var e=b[h++],f=b[h++],l=b[h++],j=b[h++];0===l&&(l=this.getSinglePixelWidth());0===j&&(j=this.getSinglePixelWidth());l=e+l;j=f+j;this.ctx.moveTo(e,f);this.ctx.lineTo(l,f);this.ctx.lineTo(l,j);this.ctx.lineTo(e,j);this.ctx.lineTo(e,f);this.ctx.closePath();break;case i.OPS.moveTo:e=b[h++];f=b[h++];c.moveTo(e,f);break;case i.OPS.lineTo:e=b[h++];f=b[h++];c.lineTo(e,f);break;case i.OPS.curveTo:e=b[h+4];f=b[h+5];c.bezierCurveTo(b[h],b[h+1],b[h+
2],b[h+3],e,f);h+=6;break;case i.OPS.curveTo2:c.bezierCurveTo(e,f,b[h],b[h+1],b[h+2],b[h+3]);e=b[h+2];f=b[h+3];h+=4;break;case i.OPS.curveTo3:e=b[h+2];f=b[h+3];c.bezierCurveTo(b[h],b[h+1],e,f,e,f);h+=4;break;case i.OPS.closePath:c.closePath()}d.setCurrentPoint(e,f)},closePath:function(){this.ctx.closePath()},stroke:function(a){var a="undefined"!==typeof a?a:!0,b=this.ctx,c=this.current.strokeColor;b.lineWidth=Math.max(0.65*this.getSinglePixelWidth(),this.current.lineWidth);b.globalAlpha=this.current.strokeAlpha;
c&&c.hasOwnProperty("type")&&"Pattern"===c.type?(b.save(),b.strokeStyle=c.getPattern(b,this),b.stroke(),b.restore()):b.stroke();a&&this.consumePath();b.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath();this.stroke()},fill:function(a){var a="undefined"!==typeof a?a:!0,b=this.ctx,c=this.current.fillColor,d=!1;this.current.patternFill&&(b.save(),this.baseTransform&&b.setTransform.apply(b,this.baseTransform),b.fillStyle=c.getPattern(b,this),d=!0);this.pendingEOFill?(b.fill("evenodd"),
this.pendingEOFill=!1):b.fill();d&&b.restore();a&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0;this.fill()},fillStroke:function(){this.fill(!1);this.stroke(!1);this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0;this.fillStroke()},closeFillStroke:function(){this.closePath();this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0;this.closePath();this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=G},eoClip:function(){this.pendingClip=
B},beginText:function(){this.current.textMatrix=i.IDENTITY_MATRIX;this.current.textMatrixScale=1;this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},endText:function(){var a=this.pendingTextPaths,b=this.ctx;if(void 0===a)b.beginPath();else{b.save();b.beginPath();for(var c=0;c<a.length;c++){var d=a[c];b.setTransform.apply(b,d.transform);b.translate(d.x,d.y);d.addToPath(b,d.fontSize)}b.restore();b.clip();b.beginPath();delete this.pendingTextPaths}},setCharSpacing:function(a){this.current.charSpacing=
a},setWordSpacing:function(a){this.current.wordSpacing=a},setHScale:function(a){this.current.textHScale=a/100},setLeading:function(a){this.current.leading=-a},setFont:function(a,b){var c=this.commonObjs.get(a),d=this.current;if(!c)throw Error("Can't find font for "+a);d.fontMatrix=c.fontMatrix?c.fontMatrix:i.FONT_IDENTITY_MATRIX;if(0===d.fontMatrix[0]||0===d.fontMatrix[3])(0,i.warn)("Invalid font matrix for font "+a);0>b?(b=-b,d.fontDirection=-1):d.fontDirection=1;this.current.font=c;this.current.fontSize=
b;if(!c.isType3Font){var d=c.black?"900":c.bold?"bold":"normal",e=c.italic?"italic":"normal",c='"'+(c.loadedName||"sans-serif")+'", '+c.fallbackName,f=16>b?16:100<b?100:b;this.current.fontSizeScale=b/f;this.ctx.font=e+" "+d+" "+f+"px "+c}},setTextRenderingMode:function(a){this.current.textRenderingMode=a},setTextRise:function(a){this.current.textRise=a},moveText:function(a,b){this.current.x=this.current.lineX+=a;this.current.y=this.current.lineY+=b},setLeadingMoveText:function(a,b){this.setLeading(-b);
this.moveText(a,b)},setTextMatrix:function(a,b,c,d,e,f){this.current.textMatrix=[a,b,c,d,e,f];this.current.textMatrixScale=Math.sqrt(a*a+b*b);this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(a,b,c){var d=this.ctx,e=this.current,f=e.font,g=e.textRenderingMode,e=e.fontSize/e.fontSizeScale,h=g&i.TextRenderingMode.FILL_STROKE_MASK,g=!!(g&i.TextRenderingMode.ADD_TO_PATH_FLAG),l;if(f.disableFontFace||g)l=
f.getPathGenerator(this.commonObjs,a);f.disableFontFace?(d.save(),d.translate(b,c),d.beginPath(),l(d,e),(h===i.TextRenderingMode.FILL||h===i.TextRenderingMode.FILL_STROKE)&&d.fill(),(h===i.TextRenderingMode.STROKE||h===i.TextRenderingMode.FILL_STROKE)&&d.stroke(),d.restore()):((h===i.TextRenderingMode.FILL||h===i.TextRenderingMode.FILL_STROKE)&&d.fillText(a,b,c),(h===i.TextRenderingMode.STROKE||h===i.TextRenderingMode.FILL_STROKE)&&d.strokeText(a,b,c));g&&(this.pendingTextPaths||(this.pendingTextPaths=
[])).push({transform:d.mozCurrentTransform,x:b,y:c,fontSize:e,addToPath:l})},get isFontSubpixelAAEnabled(){var a=this.canvasFactory.create(10,10).context;a.scale(1.5,1);a.fillText("I",0,10);for(var a=a.getImageData(0,0,10,10).data,b=!1,c=3;c<a.length;c+=4)if(0<a[c]&&255>a[c]){b=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",b)},showText:function(a){var b=this.current,c=b.font;if(c.isType3Font)return this.showType3Text(a);var d=b.fontSize;if(0!==d){var e=this.ctx,f=b.fontSizeScale,g=b.charSpacing,
h=b.wordSpacing,l=b.fontDirection,m=b.textHScale*l,j=a.length,p=c.vertical,k=p?1:-1,n=c.defaultVMetrics,r=d*b.fontMatrix[0],q=b.textRenderingMode===i.TextRenderingMode.FILL&&!c.disableFontFace;e.save();e.transform.apply(e,b.textMatrix);e.translate(b.x,b.y+b.textRise);b.patternFill&&(e.fillStyle=b.fillColor.getPattern(e,this));0<l?e.scale(m,-1):e.scale(m,1);var w=b.lineWidth,x=b.textMatrixScale;if(0===x||0===w){if(x=b.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK,x===i.TextRenderingMode.STROKE||
x===i.TextRenderingMode.FILL_STROKE)this.cachedGetSinglePixelWidth=null,w=0.65*this.getSinglePixelWidth()}else w/=x;1!==f&&(e.scale(f,f),w/=f);e.lineWidth=w;for(x=w=0;x<j;++x){var u=a[x];if((0,i.isNum)(u))w+=k*u*d/1E3;else{var E=!1,G=(u.isSpace?h:0)+g,y=u.fontChar,B=u.accent,z,U,C=u.width;if(p){var Q;z=u.vmetric||n;Q=u.vmetric?z[1]:0.5*C;Q=-Q*r;U=z[2]*r;C=z?-z[0]:C;z=Q/f;U=(w+U)/f}else z=w/f,U=0;c.remeasure&&0<C&&(Q=1E3*e.measureText(y).width/d*f,C<Q&&this.isFontSubpixelAAEnabled?(Q=C/Q,E=!0,e.save(),
e.scale(Q,1),z/=Q):C!==Q&&(z+=(C-Q)/2E3*d/f));if(u.isInFont||c.missingFile)q&&!B?e.fillText(y,z,U):(this.paintChar(y,z,U),B&&(u=z+B.offset.x/f,y=U-B.offset.y/f,this.paintChar(B.fontChar,u,y)));w+=C*r+G*l;E&&e.restore()}}p?b.y-=w*m:b.x+=w*m;e.restore()}},showType3Text:function(a){var b=this.ctx,c=this.current,d=c.font,e=c.fontSize,f=c.fontDirection,g=d.vertical?1:-1,h=c.charSpacing,l=c.wordSpacing,m=c.textHScale*f,j=c.fontMatrix||i.FONT_IDENTITY_MATRIX,p=a.length,k;if(!(c.textRenderingMode===i.TextRenderingMode.INVISIBLE||
0===e)){this.cachedGetSinglePixelWidth=null;b.save();b.transform.apply(b,c.textMatrix);b.translate(c.x,c.y);b.scale(m,f);for(f=0;f<p;++f)if(k=a[f],(0,i.isNum)(k))k=g*k*e/1E3,this.ctx.translate(k,0),c.x+=k*m;else{var n=(k.isSpace?l:0)+h,r=d.charProcOperatorList[k.operatorListId];r?(this.processingType3=k,this.save(),b.scale(e,e),b.transform.apply(b,j),this.executeOperatorList(r),this.restore(),k=i.Util.applyTransform([k.width,0],j)[0]*e+n,b.translate(k,0),c.x+=k*m):(0,i.warn)('Type3 character "'+k.operatorListId+
'" is not available.')}b.restore();this.processingType3=null}},setCharWidth:function(){},setCharWidthAndBounds:function(a,b,c,d,e,f){this.ctx.rect(c,d,e-c,f-d);this.clip();this.endPath()},getColorN_Pattern:function(a){var c=this;if("TilingPattern"===a[0])var d=a[1],e=this.baseTransform||this.ctx.mozCurrentTransform.slice(),a=new n.TilingPattern(a,d,this.ctx,{createCanvasGraphics:function(a){return new b(a,c.commonObjs,c.objs,c.canvasFactory)}},e);else a=(0,n.getShadingPatternFromIR)(a);return a},
setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments);this.current.patternFill=!0},setStrokeRGBColor:function(a,b,c){a=i.Util.makeCssRgb(a,b,c);this.ctx.strokeStyle=a;this.current.strokeColor=a},setFillRGBColor:function(a,b,c){a=i.Util.makeCssRgb(a,b,c);this.ctx.fillStyle=a;this.current.fillColor=a;this.current.patternFill=!1},shadingFill:function(a){var b=this.ctx;this.save();a=(0,n.getShadingPatternFromIR)(a);
b.fillStyle=a.getPattern(b,this,!0);var c=b.mozCurrentTransformInverse;if(c){var b=b.canvas,d=b.width,e=b.height,b=i.Util.applyTransform([0,0],c),a=i.Util.applyTransform([0,e],c),f=i.Util.applyTransform([d,0],c),g=i.Util.applyTransform([d,e],c),c=Math.min(b[0],a[0],f[0],g[0]),d=Math.min(b[1],a[1],f[1],g[1]),e=Math.max(b[0],a[0],f[0],g[0]),b=Math.max(b[1],a[1],f[1],g[1]);this.ctx.fillRect(c,d,e-c,b-d)}else this.ctx.fillRect(-1E10,-1E10,2E10,2E10);this.restore()},beginInlineImage:function(){throw Error("Should not call beginInlineImage");
},beginImageData:function(){throw Error("Should not call beginImageData");},paintFormXObjectBegin:function(a,b){this.save();this.baseTransformStack.push(this.baseTransform);Array.isArray(a)&&6===a.length&&this.transform.apply(this,a);this.baseTransform=this.ctx.mozCurrentTransform;Array.isArray(b)&&4===b.length&&(this.ctx.rect(b[0],b[1],b[2]-b[0],b[3]-b[1]),this.clip(),this.endPath())},paintFormXObjectEnd:function(){this.restore();this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(b){this.save();
var c=this.ctx;b.isolated||(0,i.info)("TODO: Support non-isolated groups.");b.knockout&&(0,i.warn)("Knockout groups not supported.");var d=c.mozCurrentTransform;b.matrix&&c.transform.apply(c,b.matrix);if(!b.bbox)throw Error("Bounding box is required.");var e=i.Util.getAxialAlignedBoundingBox(b.bbox,c.mozCurrentTransform),e=i.Util.intersect(e,[0,0,c.canvas.width,c.canvas.height])||[0,0,0,0],f=Math.floor(e[0]),g=Math.floor(e[1]),h=Math.max(Math.ceil(e[2])-f,1),l=Math.max(Math.ceil(e[3])-g,1),m=e=1;
4096<h&&(e=h/4096,h=4096);4096<l&&(m=l/4096,l=4096);var j="groupAt"+this.groupLevel;b.smask&&(j+="_smask_"+this.smaskCounter++%2);h=this.cachedCanvases.getCanvas(j,h,l,!0);l=h.context;l.scale(1/e,1/m);l.translate(-f,-g);l.transform.apply(l,d);b.smask?this.smaskStack.push({canvas:h.canvas,context:l,offsetX:f,offsetY:g,scaleX:e,scaleY:m,subtype:b.smask.subtype,backdrop:b.smask.backdrop,transferMap:b.smask.transferMap||null,startTransformInverse:null}):(c.setTransform(1,0,0,1,0,0),c.translate(f,g),c.scale(e,
m));a(c,l);this.ctx=l;this.setGState([["BM","source-over"],["ca",1],["CA",1]]);this.groupStack.push(c);this.groupLevel++;this.current.activeSMask=null},endGroup:function(a){this.groupLevel--;var b=this.ctx;this.ctx=this.groupStack.pop();void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1;a.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(b.canvas,0,0);this.restore()},beginAnnotations:function(){this.save();this.baseTransform&&
this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(a,b,d){this.save();c(this.ctx);this.current=new x;Array.isArray(a)&&4===a.length&&(this.ctx.rect(a[0],a[1],a[2]-a[0],a[3]-a[1]),this.clip(),this.endPath());this.transform.apply(this,b);this.transform.apply(this,d)},endAnnotation:function(){this.restore()},paintJpegXObject:function(a,b,c){var d=this.objs.get(a);if(d){this.save();var e=this.ctx;e.scale(1/b,-1/c);e.drawImage(d,
0,0,d.width,d.height,0,-c,b,c);this.imageLayer&&(d=e.mozCurrentTransformInverse,e=this.getCanvasPosition(0,0),this.imageLayer.appendImage({objId:a,left:e[0],top:e[1],width:b/d[0],height:c/d[3]}));this.restore()}else(0,i.warn)("Dependent image isn't ready yet")},paintImageMaskXObject:function(a){var b=this.ctx,c=a.width,d=a.height,f=this.current.fillColor,g=this.current.patternFill,h=this.processingType3;h&&void 0===h.compiled&&(h.compiled=1E3>=c&&1E3>=d?e({data:a.data,width:c,height:d}):null);h&&
h.compiled?h.compiled(b):(b=this.cachedCanvases.getCanvas("maskCanvas",c,d),h=b.context,h.save(),j(h,a),h.globalCompositeOperation="source-in",h.fillStyle=g?f.getPattern(h,this):f,h.fillRect(0,0,c,d),h.restore(),this.paintInlineImageXObject(b.canvas))},paintImageMaskXObjectRepeat:function(a,b,c,d){var e=a.width,f=a.height,g=this.current.fillColor,h=this.current.patternFill,i=this.cachedCanvases.getCanvas("maskCanvas",e,f),l=i.context;l.save();j(l,a);l.globalCompositeOperation="source-in";l.fillStyle=
h?g.getPattern(l,this):g;l.fillRect(0,0,e,f);l.restore();a=this.ctx;g=0;for(h=d.length;g<h;g+=2)a.save(),a.transform(b,0,0,c,d[g],d[g+1]),a.scale(1,-1),a.drawImage(i.canvas,0,0,e,f,0,-1,1,1),a.restore()},paintImageMaskXObjectGroup:function(a){for(var b=this.ctx,c=this.current.fillColor,d=this.current.patternFill,e=0,f=a.length;e<f;e++){var g=a[e],h=g.width,i=g.height,l=this.cachedCanvases.getCanvas("maskCanvas",h,i),m=l.context;m.save();j(m,g);m.globalCompositeOperation="source-in";m.fillStyle=d?
c.getPattern(m,this):c;m.fillRect(0,0,h,i);m.restore();b.save();b.transform.apply(b,g.transform);b.scale(1,-1);b.drawImage(l.canvas,0,0,h,i,0,-1,1,1);b.restore()}},paintImageXObject:function(a){(a=this.objs.get(a))?this.paintInlineImageXObject(a):(0,i.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(a,b,c,d){if(a=this.objs.get(a)){for(var e=a.width,f=a.height,g=[],h=0,l=d.length;h<l;h+=2)g.push({transform:[b,0,0,c,d[h],d[h+1]],x:0,y:0,w:e,h:f});this.paintInlineImageXObjectGroup(a,
g)}else(0,i.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(a){var b=a.width,c=a.height,e=this.ctx;this.save();e.scale(1/b,-1/c);var f=e.mozCurrentTransformInverse,g=f[0],h=f[1],g=Math.max(Math.sqrt(g*g+h*h),1),h=f[2],i=f[3],h=Math.max(Math.sqrt(h*h+i*i),1),l;if(a instanceof HTMLElement||!a.data)i=a;else{l=this.cachedCanvases.getCanvas("inlineImage",b,c);var m=l.context;d(m,a);i=l.canvas}for(var j=b,p=c,k="prescale1";2<g&&1<j||2<h&&1<p;){var n=j,r=p;2<g&&1<j&&(n=Math.ceil(j/
2),g/=j/n);2<h&&1<p&&(r=Math.ceil(p/2),h/=p/r);l=this.cachedCanvases.getCanvas(k,n,r);m=l.context;m.clearRect(0,0,n,r);m.drawImage(i,0,0,j,p,0,0,n,r);i=l.canvas;j=n;p=r;k="prescale1"===k?"prescale2":"prescale1"}e.drawImage(i,0,0,j,p,0,-c,b,c);this.imageLayer&&(e=this.getCanvasPosition(0,-c),this.imageLayer.appendImage({imgData:a,left:e[0],top:e[1],width:b/f[0],height:c/f[3]}));this.restore()},paintInlineImageXObjectGroup:function(a,b){var c=this.ctx,e=a.width,f=a.height,g=this.cachedCanvases.getCanvas("inlineImage",
e,f);d(g.context,a);for(var h=0,i=b.length;h<i;h++){var l=b[h];c.save();c.transform.apply(c,l.transform);c.scale(1,-1);c.drawImage(g.canvas,l.x,l.y,l.w,l.h,0,-1,1,1);this.imageLayer&&(l=this.getCanvasPosition(l.x,l.y),this.imageLayer.appendImage({imgData:a,left:l[0],top:l[1],width:e,height:f}));c.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,i.warn)("Unsupported 'paintXObject' command.")},markPoint:function(){},markPointProps:function(){},beginMarkedContent:function(){},
beginMarkedContentProps:function(){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var a=this.ctx;this.pendingClip&&(this.pendingClip===B?a.clip("evenodd"):a.clip(),this.pendingClip=null);a.beginPath()},getSinglePixelWidth:function(){if(null===this.cachedGetSinglePixelWidth){this.ctx.save();var a=this.ctx.mozCurrentTransformInverse;this.ctx.restore();this.cachedGetSinglePixelWidth=Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3]))}return this.cachedGetSinglePixelWidth},
getCanvasPosition:function(a,b){var c=this.ctx.mozCurrentTransform;return[c[0]*a+c[2]*b+c[4],c[1]*a+c[3]*b+c[5]]}};for(var z in i.OPS)b.prototype[i.OPS[z]]=b.prototype[z];return b}();b.CanvasGraphics=j},function(j,b,d){function k(b){this.docId=b;this.styleElement=null;this.nativeFontFaces=[];this.loadTestFontId=0;this.loadingContext={requests:[],nextRequestId:0}}Object.defineProperty(b,"__esModule",{value:!0});b.FontLoader=b.FontFaceObject=void 0;var e=d(0);k.prototype={insertRule:function(b){var d=
this.styleElement;d||(d=this.styleElement=document.createElement("style"),d.id="PDFJS_FONT_STYLE_TAG_"+this.docId,document.documentElement.getElementsByTagName("head")[0].appendChild(d));d=d.sheet;d.insertRule(b,d.cssRules.length)},clear:function(){this.styleElement&&(this.styleElement.remove(),this.styleElement=null);this.nativeFontFaces.forEach(function(b){document.fonts.delete(b)});this.nativeFontFaces.length=0}};Object.defineProperty(k.prototype,"loadTestFont",{get:function(){return(0,e.shadow)(this,
"loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))},
configurable:!0});k.prototype.addNativeFontFace=function(b){this.nativeFontFaces.push(b);document.fonts.add(b)};k.prototype.bind=function(b,d){for(var i=[],j=[],h=[],x=function(a){return a.loaded.catch(function(b){(0,e.warn)('Failed to load font "'+a.family+'": '+b)})},q=k.isFontLoadingAPISupported&&!k.isSyncFontLoadingSupported,u=0,y=b.length;u<y;u++){var a=b[u];if(!(a.attached||!1===a.loading))if(a.attached=!0,q){if(a=a.createNativeFontFace())this.addNativeFontFace(a),h.push(x(a))}else{var c=a.createFontFaceRule();
c&&(this.insertRule(c),i.push(c),j.push(a))}}var r=this.queueLoadingCallback(d);q?Promise.all(h).then(function(){r.complete()}):0<i.length&&!k.isSyncFontLoadingSupported?this.prepareFontLoadEvent(i,j,r):r.complete()};k.prototype.queueLoadingCallback=function(b){var d=this.loadingContext,i={id:"pdfjs-font-loading-"+d.nextRequestId++,complete:function(){(0,e.assert)(!i.end,"completeRequest() cannot be called twice");for(i.end=Date.now();0<d.requests.length&&d.requests[0].end;){var b=d.requests.shift();
setTimeout(b.callback,0)}},callback:b,started:Date.now()};d.requests.push(i);return i};k.prototype.prepareFontLoadEvent=function(b,d,i){function j(a,b){return a.charCodeAt(b)<<24|a.charCodeAt(b+1)<<16|a.charCodeAt(b+2)<<8|a.charCodeAt(b+3)&255}function h(a,b,c,d){var e=a.substr(0,b),a=a.substr(b+c);return e+d+a}function k(b,c){a++;30<a?((0,e.warn)("Load test font never loaded."),c()):(y.font="30px "+b,y.fillText(".",0,20),0<y.getImageData(0,0,1,1).data[3]?c():setTimeout(k.bind(null,b,c)))}var q,u,
b=document.createElement("canvas");b.width=1;b.height=1;var y=b.getContext("2d"),a=0,b="lt"+Date.now()+this.loadTestFontId++,c=this.loadTestFont,c=h(c,976,b.length,b),r=j(c,16);q=0;for(u=b.length-3;q<u;q+=4)r=r-1482184792+j(b,q)|0;q<b.length&&(r=r-1482184792+j(b+"XXX",q)|0);c=h(c,16,4,(0,e.string32)(r));q="url(data:font/opentype;base64,"+btoa(c)+");";this.insertRule('@font-face { font-family:"'+b+'";src:'+q+"}");c=[];q=0;for(u=d.length;q<u;q++)c.push(d[q].loadedName);c.push(b);var m=document.createElement("div");
m.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");q=0;for(u=c.length;q<u;++q)d=document.createElement("span"),d.textContent="Hi",d.style.fontFamily=c[q],m.appendChild(d);document.body.appendChild(m);k(b,function(){document.body.removeChild(m);i.complete()})};k.isFontLoadingAPISupported="undefined"!==typeof document&&!!document.fonts;Object.defineProperty(k,"isSyncFontLoadingSupported",{get:function(){var b=(0,e.shadow),d;if("undefined"===
typeof navigator)d=!0;else{d=!1;var i=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);i&&14<=i[1]&&(d=!0)}return b(k,"isSyncFontLoadingSupported",d)},enumerable:!0,configurable:!0});var i={get value(){return(0,e.shadow)(this,"value",(0,e.isEvalSupported)())}},j=function(){function b(d,e){this.compiledGlyphs=Object.create(null);for(var i in d)this[i]=d[i];this.options=e}b.prototype={createNativeFontFace:function(){if(!this.data)return null;if(this.options.disableFontFace)return this.disableFontFace=
!0,null;var b=new FontFace(this.loadedName,this.data,{});this.options.fontRegistry&&this.options.fontRegistry.registerFont(this);return b},createFontFaceRule:function(){if(!this.data)return null;if(this.options.disableFontFace)return this.disableFontFace=!0,null;var b=(0,e.bytesToString)(new Uint8Array(this.data)),d=this.loadedName,b="url(data:"+this.mimetype+";base64,"+btoa(b)+");",d='@font-face { font-family:"'+d+'";src:'+b+"}";this.options.fontRegistry&&this.options.fontRegistry.registerFont(this,
b);return d},getPathGenerator:function(b,d){if(!(d in this.compiledGlyphs)){var e=b.get(this.loadedName+"_path_"+d),h,j,k;if(this.options.isEvalSupported&&i.value){var n,y="";j=0;for(k=e.length;j<k;j++)h=e[j],n=void 0!==h.args?h.args.join(","):"",y+="c."+h.cmd+"("+n+");\n";this.compiledGlyphs[d]=new Function("c","size",y)}else this.compiledGlyphs[d]=function(a,b){j=0;for(k=e.length;j<k;j++)h=e[j],"scale"===h.cmd&&(h.args=[b,-b]),a[h.cmd].apply(a,h.args)}}return this.compiledGlyphs[d]}};return b}();
b.FontFaceObject=j;b.FontLoader=k},function(j,b,d){Object.defineProperty(b,"__esModule",{value:!0});b.TilingPattern=b.getShadingPatternFromIR=void 0;var k=d(0),e=d(52),i={RadialAxial:{fromIR:function(b){var d=b[1],e=b[2],h=b[3],i=b[4],j=b[5],k=b[6];return{type:"Pattern",getPattern:function(b){var a;"axial"===d?a=b.createLinearGradient(h[0],h[1],i[0],i[1]):"radial"===d&&(a=b.createRadialGradient(h[0],h[1],j,i[0],i[1],k));for(var b=0,c=e.length;b<c;++b){var l=e[b];a.addColorStop(l[0],l[1])}return a}}}}},
n=function(){function b(d,e,h,i,j,l,k,a){var c=e.coords,r=e.colors,m=d.data,d=4*d.width,g;c[h+1]>c[i+1]&&(g=h,h=i,i=g,g=l,l=k,k=g);c[i+1]>c[j+1]&&(g=i,i=j,j=g,g=k,k=a,a=g);c[h+1]>c[i+1]&&(g=h,h=i,i=g,g=l,l=k,k=g);g=(c[h]+e.offsetX)*e.scaleX;var h=(c[h+1]+e.offsetY)*e.scaleY,f=(c[i]+e.offsetX)*e.scaleX,i=(c[i+1]+e.offsetY)*e.scaleY,n=(c[j]+e.offsetX)*e.scaleX,e=(c[j+1]+e.offsetY)*e.scaleY;if(!(h>=e))for(var j=r[l],c=r[l+1],l=r[l+2],G=r[k],B=r[k+1],k=r[k+2],z=r[a],A=r[a+1],a=r[a+2],t=Math.round(h),
r=Math.round(e),o,s,J,H,K,M,D,I,O=t;O<=r;O++){O<i?(I=O<h?0:h===i?1:(h-O)/(h-i),t=g-(g-f)*I,o=j-(j-G)*I,s=c-(c-B)*I,J=l-(l-k)*I):(I=O>e?1:i===e?0:(i-O)/(i-e),t=f-(f-n)*I,o=G-(G-z)*I,s=B-(B-A)*I,J=k-(k-a)*I);I=O<h?0:O>e?1:(h-O)/(h-e);H=g-(g-n)*I;K=j-(j-z)*I;M=c-(c-A)*I;D=l-(l-a)*I;I=Math.round(Math.min(t,H));for(var S=Math.round(Math.max(t,H)),P=d*O+4*I,R=I;R<=S;R++)I=(t-R)/(t-H),I=0>I?0:1<I?1:I,m[P++]=o-(o-K)*I|0,m[P++]=s-(s-M)*I|0,m[P++]=J-(J-D)*I|0,m[P++]=255}}return function(d,i,h,j,k,n,y){var a=
Math.floor(d[0]),c=Math.floor(d[1]),r=Math.ceil(d[2])-a,d=Math.ceil(d[3])-c,m=Math.min(Math.ceil(Math.abs(1.1*r*i[0])),3E3),i=Math.min(Math.ceil(Math.abs(1.1*d*i[1])),3E3),r=r/m,d=d/i,h={coords:h,colors:j,offsetX:-a,offsetY:-c,scaleX:1/r,scaleY:1/d},j=m+4,g=i+4;if(e.WebGLUtils.isEnabled)k=e.WebGLUtils.drawFigures(m,i,n,k,h),y=y.getCanvas("mesh",j,g,!1),y.context.drawImage(k,2,2);else{y=y.getCanvas("mesh",j,g,!1);j=y.context;i=j.createImageData(m,i);if(n)for(var f=i.data,m=0,g=f.length;m<g;m+=4)f[m]=
n[0],f[m+1]=n[1],f[m+2]=n[2],f[m+3]=255;for(m=0;m<k.length;m++){var n=i,E=k[m],g=h,f=E.coords,G=E.colors,B=void 0,z=void 0;switch(E.type){case "lattice":for(var E=E.verticesPerRow,z=Math.floor(f.length/E)-1,A=E-1,B=0;B<z;B++)for(var t=B*E,o=0;o<A;o++,t++)b(n,g,f[t],f[t+1],f[t+E],G[t],G[t+1],G[t+E]),b(n,g,f[t+E+1],f[t+1],f[t+E],G[t+E+1],G[t+1],G[t+E]);break;case "triangles":B=0;for(z=f.length;B<z;B+=3)b(n,g,f[B],f[B+1],f[B+2],G[B],G[B+1],G[B+2]);break;default:throw Error("illegal figure");}}j.putImageData(i,
2,2)}k=y.canvas;return{canvas:k,offsetX:a-2*r,offsetY:c-2*d,scaleX:r,scaleY:d}}}();i.Mesh={fromIR:function(b){var d=b[2],e=b[3],h=b[4],i=b[5],j=b[6],u=b[8];return{type:"Pattern",getPattern:function(b,a,c){var l;if(c)l=k.Util.singularValueDecompose2dScale(b.mozCurrentTransform);else if(l=k.Util.singularValueDecompose2dScale(a.baseTransform),j){var m=k.Util.singularValueDecompose2dScale(j);l=[l[0]*m[0],l[1]*m[1]]}l=n(i,l,d,e,h,c?null:u,a.cachedCanvases);c||(b.setTransform.apply(b,a.baseTransform),j&&
b.transform.apply(b,j));b.translate(l.offsetX,l.offsetY);b.scale(l.scaleX,l.scaleY);return b.createPattern(l.canvas,"no-repeat")}}}};i.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};j=function(){function b(d,e,h,i,j){this.operatorList=d[2];this.matrix=d[3]||[1,0,0,1,0,0];this.bbox=d[4];this.xstep=d[5];this.ystep=d[6];this.paintType=d[7];this.tilingType=d[8];this.color=e;this.canvasGraphicsFactory=i;this.baseTransform=j;this.type="Pattern";this.ctx=h}b.prototype=
{createPatternCanvas:function(b){var d=this.operatorList,e=this.bbox,i=this.xstep,j=this.ystep,l=this.paintType,n=this.tilingType,a=this.color,c=this.canvasGraphicsFactory;(0,k.info)("TilingType: "+n);var n=e[0],r=e[1],m=e[2],g=e[3],f=[n,r],E=[n+i,r+j],G=E[0]-f[0],E=E[1]-f[1],B=k.Util.singularValueDecompose2dScale(this.matrix),z=k.Util.singularValueDecompose2dScale(this.baseTransform),B=[B[0]*z[0],B[1]*z[1]],G=Math.min(Math.ceil(Math.abs(G*B[0])),3E3),E=Math.min(Math.ceil(Math.abs(E*B[1])),3E3),B=
b.cachedCanvases.getCanvas("pattern",G,E,!0),z=B.context,c=c.createCanvasGraphics(z);c.groupLevel=b.groupLevel;this.setFillAndStrokeStyleToContext(z,l,a);this.setScale(G,E,i,j);this.transformToScale(c);c.transform.apply(c,[1,0,0,1,-f[0],-f[1]]);this.clipBbox(c,e,n,r,m,g);c.executeOperatorList(d);return B.canvas},setScale:function(b,d,e,i){this.scale=[b/e,d/i]},transformToScale:function(b){var d=this.scale;b.transform.apply(b,[d[0],0,0,d[1],0,0])},scaleToContext:function(){var b=this.scale;this.ctx.scale(1/
b[0],1/b[1])},clipBbox:function(b,d,e,i,j,l){Array.isArray(d)&&4===d.length&&(b.ctx.rect(e,i,j-e,l-i),b.clip(),b.endPath())},setFillAndStrokeStyleToContext:function(b,d,e){switch(d){case 1:d=this.ctx;b.fillStyle=d.fillStyle;b.strokeStyle=d.strokeStyle;break;case 2:d=k.Util.makeCssRgb(e[0],e[1],e[2]);b.fillStyle=d;b.strokeStyle=d;break;default:throw new k.FormatError("Unsupported paint type: "+d);}},getPattern:function(b,d){var e=this.createPatternCanvas(d),b=this.ctx;b.setTransform.apply(b,this.baseTransform);
b.transform.apply(b,this.matrix);this.scaleToContext();return b.createPattern(e,"repeat")}};return b}();b.getShadingPatternFromIR=function(b){var d=i[b[0]];if(!d)throw Error("Unknown IR type: "+b[0]);return d.fromIR(b)};b.TilingPattern=j},function(j,b,d){Object.defineProperty(b,"__esModule",{value:!0});b.PDFDataTransportStream=void 0;var k=d(0),j=function(){function b(d,e){var i=this;(0,k.assert)(e);this._queuedChunks=[];var h=d.initialData;h&&0<h.length&&this._queuedChunks.push((new Uint8Array(h)).buffer);
this._pdfDataRangeTransport=e;this._isRangeSupported=!d.disableRange;this._isStreamingSupported=!d.disableStream;this._contentLength=d.length;this._fullRequestReader=null;this._rangeReaders=[];this._pdfDataRangeTransport.addRangeListener(function(b,d){i._onReceiveData({begin:b,chunk:d})});this._pdfDataRangeTransport.addProgressListener(function(b){i._onProgress({loaded:b})});this._pdfDataRangeTransport.addProgressiveReadListener(function(b){i._onReceiveData({chunk:b})});this._pdfDataRangeTransport.transportReady()}
function d(b,e){this._stream=b;this._done=!1;this._queuedChunks=e||[];this._requests=[];this._headersReady=Promise.resolve();b._fullRequestReader=this;this.onProgress=null}function j(b,d,e){this._stream=b;this._begin=d;this._end=e;this._queuedChunk=null;this._requests=[];this._done=!1;this.onProgress=null}b.prototype={_onReceiveData:function(b){var d=(new Uint8Array(b.chunk)).buffer;if(void 0===b.begin)this._fullRequestReader?this._fullRequestReader._enqueue(d):this._queuedChunks.push(d);else{var e=
this._rangeReaders.some(function(e){if(e._begin!==b.begin)return!1;e._enqueue(d);return!0});(0,k.assert)(e)}},_onProgress:function(b){if(0<this._rangeReaders.length){var d=this._rangeReaders[0];if(d.onProgress)d.onProgress({loaded:b.loaded})}},_removeRangeReader:function(b){b=this._rangeReaders.indexOf(b);0<=b&&this._rangeReaders.splice(b,1)},getFullReader:function(){(0,k.assert)(!this._fullRequestReader);var b=this._queuedChunks;this._queuedChunks=null;return new d(this,b)},getRangeReader:function(b,
d){var e=new j(this,b,d);this._pdfDataRangeTransport.requestDataRange(b,d);this._rangeReaders.push(e);return e},cancelAllRequests:function(b){this._fullRequestReader&&this._fullRequestReader.cancel(b);this._rangeReaders.slice(0).forEach(function(d){d.cancel(b)});this._pdfDataRangeTransport.abort()}};d.prototype={_enqueue:function(b){this._done||(0<this._requests.length?this._requests.shift().resolve({value:b,done:!1}):this._queuedChunks.push(b))},get headersReady(){return this._headersReady},get isRangeSupported(){return this._stream._isRangeSupported},
get isStreamingSupported(){return this._stream._isStreamingSupported},get contentLength(){return this._stream._contentLength},read:function(){if(0<this._queuedChunks.length){var b=this._queuedChunks.shift();return Promise.resolve({value:b,done:!1})}if(this._done)return Promise.resolve({value:void 0,done:!0});b=(0,k.createPromiseCapability)();this._requests.push(b);return b.promise},cancel:function(){this._done=!0;this._requests.forEach(function(b){b.resolve({value:void 0,done:!0})});this._requests=
[]}};j.prototype={_enqueue:function(b){this._done||(0===this._requests.length?this._queuedChunk=b:(this._requests.shift().resolve({value:b,done:!1}),this._requests.forEach(function(b){b.resolve({value:void 0,done:!0})}),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))},get isStreamingSupported(){return!1},read:function(){if(this._queuedChunk){var b=this._queuedChunk;this._queuedChunk=null;return Promise.resolve({value:b,done:!1})}if(this._done)return Promise.resolve({value:void 0,
done:!0});b=(0,k.createPromiseCapability)();this._requests.push(b);return b.promise},cancel:function(){this._done=!0;this._requests.forEach(function(b){b.resolve({value:void 0,done:!0})});this._requests=[];this._stream._removeRangeReader(this)}};return b}();b.PDFDataTransportStream=j},function(j,b,d){var j=d(0),k=d(54),e=d(31),i=d(33),n=d(30),l=d(6),p=d(32),d=j.isNodeJS()?d(56).PDFNodeStream:"undefined"!==typeof Response&&"body"in Response.prototype&&"undefined"!==typeof ReadableStream?d(53).PDFFetchStream:
d(55).PDFNetworkStream;e.setPDFNetworkStreamClass(d);b.PDFJS=k.PDFJS;b.build=e.build;b.version=e.version;b.getDocument=e.getDocument;b.LoopbackPort=e.LoopbackPort;b.PDFDataRangeTransport=e.PDFDataRangeTransport;b.PDFWorker=e.PDFWorker;b.renderTextLayer=i.renderTextLayer;b.AnnotationLayer=n.AnnotationLayer;b.CustomStyle=l.CustomStyle;b.createPromiseCapability=j.createPromiseCapability;b.PasswordResponses=j.PasswordResponses;b.InvalidPDFException=j.InvalidPDFException;b.MissingPDFException=j.MissingPDFException;
b.SVGGraphics=p.SVGGraphics;b.NativeImageDecoding=j.NativeImageDecoding;b.UnexpectedResponseException=j.UnexpectedResponseException;b.OPS=j.OPS;b.UNSUPPORTED_FEATURES=j.UNSUPPORTED_FEATURES;b.isValidUrl=l.isValidUrl;b.createValidAbsoluteUrl=j.createValidAbsoluteUrl;b.createObjectURL=j.createObjectURL;b.removeNullCharacters=j.removeNullCharacters;b.shadow=j.shadow;b.createBlob=j.createBlob;b.RenderingCancelledException=l.RenderingCancelledException;b.getFilenameFromUrl=l.getFilenameFromUrl;b.addLinkAttributes=
l.addLinkAttributes;b.StatTimer=j.StatTimer},function(j,b,d){var k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};if("undefined"===typeof PDFJS||!PDFJS.compatibilityChecked){var e=d(13),i="undefined"!==typeof navigator&&navigator.userAgent||"",n=/Android/.test(i),j=/Android\s[0-2][^\d]/.test(i),l=/Android\s[0-4][^\d]/.test(i),p=0<=i.indexOf("Chrom"),
b=/Chrome\/(39|40)\./.test(i),w=0<=i.indexOf("CriOS"),h=0<=i.indexOf("Trident"),x=/\b(iPad|iPhone|iPod)(?=;)/.test(i),q=0<=i.indexOf("Opera"),u=/Safari\//.test(i)&&!/(Chrome\/|Android\s)/.test(i),y="object"===("undefined"===typeof window?"undefined":k(window))&&"object"===("undefined"===typeof document?"undefined":k(document));"undefined"===typeof PDFJS&&(e.PDFJS={});PDFJS.compatibilityChecked=!0;(function(){function a(a,b){return new g(this.slice(a,b))}function b(a,c){arguments.length<2&&(c=0);for(var d=
0,e=a.length;d<e;++d,++c)this[c]=a[d]&255}function h(a,b){this.buffer=a;this.byteLength=a.length;for(var c=this.length=b;f<c;){Object.defineProperty(h.prototype,f,i(f));f++}}function i(a){return{get:function(){var b=this.buffer,c=a<<2;return(b[c]|b[c+1]<<8|b[c+2]<<16|b[c+3]<<24)>>>0},set:function(b){var c=this.buffer,d=a<<2;c[d]=b&255;c[d+1]=b>>8&255;c[d+2]=b>>16&255;c[d+3]=b>>>24&255}}}function g(d){var e,f,g;if(typeof d==="number"){e=[];for(f=0;f<d;++f)e[f]=0}else if("slice"in d)e=d.slice(0);else{e=
[];f=0;for(g=d.length;f<g;++f)e[f]=d[f]}e.subarray=a;e.buffer=e;e.byteLength=e.length;e.set=b;if((typeof d==="undefined"?"undefined":k(d))==="object"&&d.buffer)e.buffer=d.buffer;return e}if(typeof Uint8ClampedArray==="undefined")e.Uint8ClampedArray=d(58);if(typeof Uint8Array!=="undefined"){if(typeof Uint8Array.prototype.subarray==="undefined"){Uint8Array.prototype.subarray=function(a,b){return new Uint8Array(this.slice(a,b))};Float32Array.prototype.subarray=function(a,b){return new Float32Array(this.slice(a,
b))}}if(typeof Float64Array==="undefined")e.Float64Array=Float32Array}else{h.prototype=Object.create(null);var f=0;e.Uint8Array=g;e.Int8Array=g;e.Int32Array=g;e.Uint16Array=g;e.Float32Array=g;e.Float64Array=g;e.Uint32Array=function(){if(arguments.length===3){if(arguments[1]!==0)throw Error("offset !== 0 is not supported");return new h(arguments[0],arguments[2])}return g.apply(this,arguments)}}})();(function(){if(y&&window.CanvasPixelArray){var a=window.CanvasPixelArray.prototype;if(!("buffer"in a)){Object.defineProperty(a,
"buffer",{get:function(){return this},enumerable:false,configurable:true});Object.defineProperty(a,"byteLength",{get:function(){return this.length},enumerable:false,configurable:true})}}})();e.URL||(e.URL=e.webkitURL);(function(){if(typeof Object.defineProperty!=="undefined"){var a=true;try{y&&Object.defineProperty(new Image,"id",{value:"test"});var b=function(){};b.prototype={get id(){}};Object.defineProperty(new b,"id",{value:"",configurable:true,enumerable:true,writable:false})}catch(d){a=false}if(a)return}Object.defineProperty=
function(a,b,c){delete a[b];"get"in c&&a.__defineGetter__(b,c.get);"set"in c&&a.__defineSetter__(b,c.set);if("value"in c){a.__defineSetter__(b,function(a){this.__defineGetter__(b,function(){return a});return a});a[b]=c.value}}})();(function(){if(typeof XMLHttpRequest!=="undefined"){var a=XMLHttpRequest.prototype,b=new XMLHttpRequest;"overrideMimeType"in b||Object.defineProperty(a,"overrideMimeType",{value:function(){}});if(!("responseType"in b)){Object.defineProperty(a,"responseType",{get:function(){return this._responseType||
"text"},set:function(a){if(a==="text"||a==="arraybuffer"){this._responseType=a;a==="arraybuffer"&&typeof this.overrideMimeType==="function"&&this.overrideMimeType("text/plain; charset=x-user-defined")}}});typeof VBArray!=="undefined"?Object.defineProperty(a,"response",{get:function(){return this.responseType==="arraybuffer"?new Uint8Array((new VBArray(this.responseBody)).toArray()):this.responseText}}):Object.defineProperty(a,"response",{get:function(){if(this.responseType!=="arraybuffer")return this.responseText;
var a=this.responseText,b,c=a.length,d=new Uint8Array(c);for(b=0;b<c;++b)d[b]=a.charCodeAt(b)&255;return d.buffer}})}}})();(function(){if(!("btoa"in e))e.btoa=function(a){var b="",d,e;d=0;for(e=a.length;d<e;d=d+3)var g=a.charCodeAt(d)&255,f=a.charCodeAt(d+1)&255,h=a.charCodeAt(d+2)&255,i=(g&3)<<4|f>>4,f=d+1<e?(f&15)<<2|h>>6:64,h=d+2<e?h&63:64,b=b+("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(g>>2)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(i)+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(f)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(h));return b}})();(function(){if(!("atob"in e))e.atob=function(a){a=a.replace(/=+$/,"");if(a.length%4===1)throw Error("bad atob input");for(var b=0,d,e,g=0,f="";e=a.charAt(g++);~e&&(d=b%4?d*64+e:e,b++%4)&&(f=f+String.fromCharCode(255&d>>(-2*b&6))))e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e);return f}})();(function(){if(typeof Function.prototype.bind===
"undefined")Function.prototype.bind=function(a){var b=this,d=Array.prototype.slice.call(arguments,1);return function(){var e=d.concat(Array.prototype.slice.call(arguments));return b.apply(a,e)}}})();(function(){y&&("dataset"in document.createElement("div")||Object.defineProperty(HTMLElement.prototype,"dataset",{get:function(){if(this._dataset)return this._dataset;for(var a={},b=0,d=this.attributes.length;b<d;b++){var e=this.attributes[b];if(e.name.substring(0,5)==="data-"){var g=e.name.substring(5).replace(/\-([a-z])/g,
function(a,b){return b.toUpperCase()});a[g]=e.value}}Object.defineProperty(this,"_dataset",{value:a,writable:false,enumerable:false});return a},enumerable:true}))})();(function(){function a(a,b,c,d){var e=(a.className||"").split(/\s+/g);e[0]===""&&e.shift();var h=e.indexOf(b);h<0&&c&&e.push(b);h>=0&&d&&e.splice(h,1);a.className=e.join(" ");return h>=0}if(y&&!("classList"in document.createElement("div"))){var b={add:function(b){a(this.element,b,true,false)},contains:function(b){return a(this.element,
b,false,false)},remove:function(b){a(this.element,b,false,true)},toggle:function(b){a(this.element,b,true,true)}};Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){if(this._classList)return this._classList;var a=Object.create(b,{element:{value:this,writable:false,enumerable:true}});Object.defineProperty(this,"_classList",{value:a,writable:false,enumerable:false});return a},enumerable:true})}})();(function(){if(!(typeof importScripts==="undefined"||"console"in e)){var a={};e.console=
{log:function(){var a=Array.prototype.slice.call(arguments);e.postMessage({targetName:"main",action:"console_log",data:a})},error:function(){var a=Array.prototype.slice.call(arguments);e.postMessage({targetName:"main",action:"console_error",data:a})},time:function(b){a[b]=Date.now()},timeEnd:function(b){var d=a[b];if(!d)throw Error("Unknown timer name "+b);this.log("Timer:",b,Date.now()-d)}}}})();(function(){if(y)if("console"in window){if(!("bind"in console.log)){console.log=function(a){return function(b){return a(b)}}(console.log);
console.error=function(a){return function(b){return a(b)}}(console.error);console.warn=function(a){return function(b){return a(b)}}(console.warn)}}else window.console={log:function(){},error:function(){},warn:function(){}}})();(function(){function a(a){b(a.target)&&a.stopPropagation()}function b(a){return a.disabled||a.parentNode&&b(a.parentNode)}q&&document.addEventListener("click",a,true)})();if(h||w)PDFJS.disableCreateObjectURL=!0;"undefined"!==typeof navigator&&!("language"in navigator)&&(PDFJS.locale=
navigator.userLanguage||"en-US");if(u||j||b||x)PDFJS.disableRange=!0,PDFJS.disableStream=!0;if(y&&(!history.pushState||j))PDFJS.disableHistory=!0;(function(){if(y)if(window.CanvasPixelArray){if(typeof window.CanvasPixelArray.prototype.set!=="function")window.CanvasPixelArray.prototype.set=function(a){for(var b=0,c=this.length;b<c;b++)this[b]=a[b]}}else{var a=false;if(p)a=(a=i.match(/Chrom(e|ium)\/([0-9]+)\./))&&parseInt(a[2])<21;else if(n)a=l;else if(u)a=(a=i.match(/Version\/([0-9]+)\.([0-9]+)\.([0-9]+) Safari\//))&&
parseInt(a[1])<6;if(a){var a=window.CanvasRenderingContext2D.prototype,b=a.createImageData;a.createImageData=function(a,d){var e=b.call(this,a,d);e.data.set=function(a){for(var b=0,c=this.length;b<c;b++)this[b]=a[b]};return e};a=null}}})();(function(){function a(){window.requestAnimationFrame=function(a){return window.setTimeout(a,20)};window.cancelAnimationFrame=function(a){window.clearTimeout(a)}}if(y)if(x)a();else if(!("requestAnimationFrame"in window)){window.requestAnimationFrame=window.mozRequestAnimationFrame||
window.webkitRequestAnimationFrame;window.requestAnimationFrame||a()}})();if(x||n)PDFJS.maxCanvasPixels=5242880;y&&(h&&window.parent!==window)&&(PDFJS.disableFullscreen=!0);(function(){y&&("currentScript"in document||Object.defineProperty(document,"currentScript",{get:function(){var a=document.getElementsByTagName("script");return a[a.length-1]},enumerable:true,configurable:true}))})();(function(){if(y){var a=document.createElement("input");try{a.type="number"}catch(b){var a=a.constructor.prototype,
d=Object.getOwnPropertyDescriptor(a,"type");Object.defineProperty(a,"type",{get:function(){return d.get.call(this)},set:function(a){d.set.call(this,a==="number"?"text":a)},enumerable:true,configurable:true})}}})();(function(){if(y&&document.attachEvent){var a=document.constructor.prototype,b=Object.getOwnPropertyDescriptor(a,"readyState");Object.defineProperty(a,"readyState",{get:function(){var a=b.get.call(this);return a==="interactive"?"loading":a},set:function(a){b.set.call(this,a)},enumerable:true,
configurable:true})}})();(function(){if(y&&typeof Element.prototype.remove==="undefined")Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}})();(function(){if(!Number.isNaN)Number.isNaN=function(a){return typeof a==="number"&&isNaN(a)}})();(function(){if(!Number.isInteger)Number.isInteger=function(a){return typeof a==="number"&&isFinite(a)&&Math.floor(a)===a}})();(function(){if(e.Promise){if(typeof e.Promise.all!=="function")e.Promise.all=function(a){var b=0,c=
[],d,h,i=new e.Promise(function(a,b){d=a;h=b});a.forEach(function(a,e){b++;a.then(function(a){c[e]=a;b--;b===0&&d(c)},h)});b===0&&d(c);return i};if(typeof e.Promise.resolve!=="function")e.Promise.resolve=function(a){return new e.Promise(function(b){b(a)})};if(typeof e.Promise.reject!=="function")e.Promise.reject=function(a){return new e.Promise(function(b,c){c(a)})};if(typeof e.Promise.prototype.catch!=="function")e.Promise.prototype.catch=function(a){return e.Promise.prototype.then(void 0,a)}}else{var a=
2,b={handlers:[],running:false,unhandledRejections:[],pendingRejectionCheck:false,scheduleHandlers:function(a){if(a._status!==0){this.handlers=this.handlers.concat(a._handlers);a._handlers=[];if(!this.running){this.running=true;setTimeout(this.runHandlers.bind(this),0)}}},runHandlers:function(){for(var b=Date.now()+1;this.handlers.length>0;){var c=this.handlers.shift(),d=c.thisPromise._status,e=c.thisPromise._value;try{if(d===1)typeof c.onResolve==="function"&&(e=c.onResolve(e));else if(typeof c.onReject===
"function"){e=c.onReject(e);d=1;c.thisPromise._unhandledRejection&&this.removeUnhandeledRejection(c.thisPromise)}}catch(h){d=a;e=h}c.nextPromise._updateStatus(d,e);if(Date.now()>=b)break}this.handlers.length>0?setTimeout(this.runHandlers.bind(this),0):this.running=false},addUnhandledRejection:function(a){this.unhandledRejections.push({promise:a,time:Date.now()});this.scheduleRejectionCheck()},removeUnhandeledRejection:function(a){a._unhandledRejection=false;for(var b=0;b<this.unhandledRejections.length;b++)if(this.unhandledRejections[b].promise===
a){this.unhandledRejections.splice(b);b--}},scheduleRejectionCheck:function(){var a=this;if(!this.pendingRejectionCheck){this.pendingRejectionCheck=true;setTimeout(function(){a.pendingRejectionCheck=false;for(var b=Date.now(),c=0;c<a.unhandledRejections.length;c++)if(b-a.unhandledRejections[c].time>500){var d=a.unhandledRejections[c].promise._value,e="Unhandled rejection: "+d;d.stack&&(e=e+("\n"+d.stack));try{throw Error(e);}catch(h){console.warn(e)}a.unhandledRejections.splice(c);c--}a.unhandledRejections.length&&
a.scheduleRejectionCheck()},500)}}},d=function(a){this._status=0;this._handlers=[];try{a.call(this,this._resolve.bind(this),this._reject.bind(this))}catch(b){this._reject(b)}};d.all=function(b){function c(b){if(i._status!==a){k=[];h(b)}}var e,h,i=new d(function(a,b){e=a;h=b}),j=b.length,k=[];if(j===0){e(k);return i}for(var l=0,n=b.length;l<n;++l){var o=b[l],p=function(b){return function(c){if(i._status!==a){k[b]=c;j--;j===0&&e(k)}}}(l);d.isPromise(o)?o.then(p,c):p(o)}return i};d.isPromise=function(a){return a&&
typeof a.then==="function"};d.resolve=function(a){return new d(function(b){b(a)})};d.reject=function(a){return new d(function(b,c){c(a)})};d.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,_updateStatus:function(e,g){if(!(this._status===1||this._status===a))if(e===1&&d.isPromise(g))g.then(this._updateStatus.bind(this,1),this._updateStatus.bind(this,a));else{this._status=e;this._value=g;if(e===a&&this._handlers.length===0){this._unhandledRejection=true;b.addUnhandledRejection(this)}b.scheduleHandlers(this)}},
_resolve:function(a){this._updateStatus(1,a)},_reject:function(b){this._updateStatus(a,b)},then:function(a,e){var f=new d(function(a,b){this.resolve=a;this.reject=b});this._handlers.push({thisPromise:this,onResolve:a,onReject:e,nextPromise:f});b.scheduleHandlers(this);return f},"catch":function(a){return this.then(void 0,a)}};e.Promise=d}})();(function(){function a(){this.id="$weakmap"+b++}if(!e.WeakMap){var b=0;a.prototype={has:function(a){return(typeof a==="undefined"?"undefined":k(a))!=="object"&&
typeof a!=="function"||a===null?false:!!Object.getOwnPropertyDescriptor(a,this.id)},get:function(a){return this.has(a)?a[this.id]:void 0},set:function(a,b){Object.defineProperty(a,this.id,{value:b,enumerable:false,configurable:true})},"delete":function(a){delete a[this.id]}};e.WeakMap=a}})();(function(){function a(a){if(a===""){g.call(this);this._isInvalid=true}return a.toLowerCase()}function b(a){var c=a.charCodeAt(0);return c>32&&c<127&&[34,35,60,62,63,96].indexOf(c)===-1?a:encodeURIComponent(a)}
function d(a){var b=a.charCodeAt(0);return b>32&&b<127&&[34,35,60,62,96].indexOf(b)===-1?a:encodeURIComponent(a)}function h(e,f,i){function j(a){x.push(a)}var k=f||"scheme start",l=0,m="",u=false,w=false,x=[];a:for(;(e[l-1]!==q||l===0)&&!this._isInvalid;){var v=e[l];switch(k){case "scheme start":if(v&&o.test(v)){m=m+v.toLowerCase();k="scheme"}else if(f){j("Invalid scheme.");break a}else{m="";k="no scheme";continue}break;case "scheme":if(v&&s.test(v))m=m+v.toLowerCase();else if(v===":"){this._scheme=
m;m="";if(f)break a;if(n[this._scheme]!==void 0)this._isRelative=true;k=this._scheme==="file"?"relative":this._isRelative&&i&&i._scheme===this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}else if(f){v!==q&&j("Code point not allowed in scheme: "+v);break a}else{m="";l=0;k="no scheme";continue}break;case "scheme data":if(v==="?"){this._query="?";k="query"}else if(v==="#"){this._fragment="#";k="fragment"}else if(v!==q&&v!=="\t"&&v!=="\n"&&v!=="\r")this._schemeData=
this._schemeData+b(v);break;case "no scheme":if(!i||n[i._scheme]===void 0){j("Missing scheme.");g.call(this);this._isInvalid=true}else{k="relative";continue}break;case "relative or authority":if(v==="/"&&e[l+1]==="/")k="authority ignore slashes";else{j("Expected /, got: "+v);k="relative";continue}break;case "relative":this._isRelative=true;if(this._scheme!=="file")this._scheme=i._scheme;if(v===q){this._host=i._host;this._port=i._port;this._path=i._path.slice();this._query=i._query;this._username=
i._username;this._password=i._password;break a}else if(v==="/"||v==="\\"){v==="\\"&&j("\\ is an invalid code point.");k="relative slash"}else if(v==="?"){this._host=i._host;this._port=i._port;this._path=i._path.slice();this._query="?";this._username=i._username;this._password=i._password;k="query"}else if(v==="#"){this._host=i._host;this._port=i._port;this._path=i._path.slice();this._query=i._query;this._fragment="#";this._username=i._username;this._password=i._password;k="fragment"}else{var k=e[l+
1],y=e[l+2];if(this._scheme!=="file"||!o.test(v)||k!==":"&&k!=="|"||y!==q&&y!=="/"&&y!=="\\"&&y!=="?"&&y!=="#"){this._host=i._host;this._port=i._port;this._username=i._username;this._password=i._password;this._path=i._path.slice();this._path.pop()}k="relative path";continue}break;case "relative slash":if(v==="/"||v==="\\"){v==="\\"&&j("\\ is an invalid code point.");k=this._scheme==="file"?"file host":"authority ignore slashes"}else{if(this._scheme!=="file"){this._host=i._host;this._port=i._port;
this._username=i._username;this._password=i._password}k="relative path";continue}break;case "authority first slash":if(v==="/")k="authority second slash";else{j("Expected '/', got: "+v);k="authority ignore slashes";continue}break;case "authority second slash":k="authority ignore slashes";if(v!=="/"){j("Expected '/', got: "+v);continue}break;case "authority ignore slashes":if(v!=="/"&&v!=="\\"){k="authority";continue}else j("Expected authority, got: "+v);break;case "authority":if(v==="@"){if(u){j("@ already seen.");
m=m+"%40"}u=true;for(v=0;v<m.length;v++){y=m[v];if(y==="\t"||y==="\n"||y==="\r")j("Invalid whitespace in authority.");else if(y===":"&&this._password===null)this._password="";else{y=b(y);this._password!==null?this._password=this._password+y:this._username=this._username+y}}m=""}else if(v===q||v==="/"||v==="\\"||v==="?"||v==="#"){l=l-m.length;m="";k="host";continue}else m=m+v;break;case "file host":if(v===q||v==="/"||v==="\\"||v==="?"||v==="#"){if(m.length===2&&o.test(m[0])&&(m[1]===":"||m[1]==="|"))k=
"relative path";else{if(m.length!==0){this._host=a.call(this,m);m=""}k="relative path start"}continue}else v==="\t"||v==="\n"||v==="\r"?j("Invalid whitespace in file host."):m=m+v;break;case "host":case "hostname":if(v===":"&&!w){this._host=a.call(this,m);m="";k="port";if(f==="hostname")break a}else if(v===q||v==="/"||v==="\\"||v==="?"||v==="#"){this._host=a.call(this,m);m="";k="relative path start";if(f)break a;continue}else if(v!=="\t"&&v!=="\n"&&v!=="\r"){v==="["?w=true:v==="]"&&(w=false);m=m+
v}else j("Invalid code point in host/hostname: "+v);break;case "port":if(/[0-9]/.test(v))m=m+v;else if(v===q||v==="/"||v==="\\"||v==="?"||v==="#"||f){if(m!==""){m=parseInt(m,10);if(m!==n[this._scheme])this._port=m+"";m=""}if(f)break a;k="relative path start";continue}else if(v==="\t"||v==="\n"||v==="\r")j("Invalid code point in port: "+v);else{g.call(this);this._isInvalid=true}break;case "relative path start":v==="\\"&&j("'\\' not allowed in path.");k="relative path";if(v!=="/"&&v!=="\\")continue;
break;case "relative path":if(v===q||v==="/"||v==="\\"||!f&&(v==="?"||v==="#")){v==="\\"&&j("\\ not allowed in relative path.");if(y=p[m.toLowerCase()])m=y;if(m===".."){this._path.pop();v!=="/"&&v!=="\\"&&this._path.push("")}else if(m==="."&&v!=="/"&&v!=="\\")this._path.push("");else if(m!=="."){this._scheme==="file"&&(this._path.length===0&&m.length===2&&o.test(m[0])&&m[1]==="|")&&(m=m[0]+":");this._path.push(m)}m="";if(v==="?"){this._query="?";k="query"}else if(v==="#"){this._fragment="#";k="fragment"}}else v!==
"\t"&&(v!=="\n"&&v!=="\r")&&(m=m+b(v));break;case "query":if(!f&&v==="#"){this._fragment="#";k="fragment"}else if(v!==q&&v!=="\t"&&v!=="\n"&&v!=="\r")this._query=this._query+d(v);break;case "fragment":if(v!==q&&v!=="\t"&&v!=="\n"&&v!=="\r")this._fragment=this._fragment+v}l++}}function g(){this._username=this._schemeData=this._scheme="";this._password=null;this._port=this._host="";this._path=[];this._fragment=this._query="";this._isRelative=this._isInvalid=false}function f(a,b){b!==void 0&&!(b instanceof
f)&&(b=new f(""+b));this._url=a;g.call(this);var c=a.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");h.call(this,c,null,b)}var i=false;try{if(typeof URL==="function"&&k(URL.prototype)==="object"&&"origin"in URL.prototype){var j=new URL("b","http://a");j.pathname="c%20d";i=j.href==="http://a/c%20d"}}catch(l){}if(!i){var n=Object.create(null);n.ftp=21;n.file=0;n.gopher=70;n.http=80;n.https=443;n.ws=80;n.wss=443;var p=Object.create(null);p["%2e"]=".";p[".%2e"]="..";p["%2e."]="..";p["%2e%2e"]="..";var q,o=
/[a-zA-Z]/,s=/[a-zA-Z0-9\+\-\.]/;f.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var a="";if(this._username!==""||this._password!==null)a=this._username+(this._password!==null?":"+this._password:"")+"@";return this.protocol+(this._isRelative?"//"+a+this.host:"")+this.pathname+this._query+this._fragment},set href(a){g.call(this);h.call(this,a)},get protocol(){return this._scheme+":"},set protocol(a){this._isInvalid||h.call(this,a+":","scheme start")},
get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(a){!this._isInvalid&&this._isRelative&&h.call(this,a,"host")},get hostname(){return this._host},set hostname(a){!this._isInvalid&&this._isRelative&&h.call(this,a,"hostname")},get port(){return this._port},set port(a){!this._isInvalid&&this._isRelative&&h.call(this,a,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(a){if(!this._isInvalid&&
this._isRelative){this._path=[];h.call(this,a,"relative path start")}},get search(){return this._isInvalid||!this._query||this._query==="?"?"":this._query},set search(a){if(!this._isInvalid&&this._isRelative){this._query="?";a[0]==="?"&&(a=a.slice(1));h.call(this,a,"query")}},get hash(){return this._isInvalid||!this._fragment||this._fragment==="#"?"":this._fragment},set hash(a){if(!this._isInvalid){this._fragment="#";a[0]==="#"&&(a=a.slice(1));h.call(this,a,"fragment")}},get origin(){var a;if(this._isInvalid||
!this._scheme)return"";switch(this._scheme){case "data":case "file":case "javascript":case "mailto":return"null";case "blob":try{return(new f(this._schemeData)).origin||"null"}catch(b){}return"null"}a=this.host;return!a?"":this._scheme+"://"+a}};var u=e.URL;if(u){f.createObjectURL=function(a){return u.createObjectURL.apply(u,arguments)};f.revokeObjectURL=function(a){u.revokeObjectURL(a)}}e.URL=f}})()}},function(j,b,d){j=!1;if("undefined"!==typeof ReadableStream)try{new ReadableStream({start:function(b){b.close()}}),
j=!0}catch(k){}b.ReadableStream=j?ReadableStream:d(57).ReadableStream}])});
