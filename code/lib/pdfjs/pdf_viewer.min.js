(function(v,u){"function"===typeof define&&define.amd?define("pdfjs-dist/web/pdf_viewer",["exports","pdfjs-dist/build/pdf"],u):"undefined"!==typeof exports?u(exports,require("../build/pdf.js")):u(v.pdfjsDistWebPDFViewer={},v.pdfjsDistBuildPdf)})(this,function(v,u){var n={pdfjsWebPDFJS:u};(function(){(function(b,f){f(b.pdfjsWebPDFRenderingQueue={})})(this,function(b){var f={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},k=function(){function a(){this.idleTimeout=this.highestPriorityPage=this.onIdle=this.pdfThumbnailViewer=
this.pdfViewer=null;this.isThumbnailViewEnabled=this.printing=!1}a.prototype={setViewer:function(a){this.pdfViewer=a},setThumbnailViewer:function(a){this.pdfThumbnailViewer=a},isHighestPriority:function(a){return this.highestPriorityPage===a.renderingId},renderHighestPriority:function(a){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null);if(!this.pdfViewer.forceRendering(a)&&(!this.pdfThumbnailViewer||!this.isThumbnailViewEnabled||!this.pdfThumbnailViewer.forceRendering())&&
!this.printing&&this.onIdle)this.idleTimeout=setTimeout(this.onIdle.bind(this),3E4)},getHighestPriority:function(a,b,g){var e=a.views,c=e.length;if(0===c)return!1;for(var d=0;d<c;++d){var p=e[d].view;if(!this.isViewFinished(p))return p}a=g?a.last.id:a.first.id-2;return b[a]&&!this.isViewFinished(b[a])?b[a]:null},isViewFinished:function(a){return a.renderingState===f.FINISHED},renderView:function(a){switch(a.renderingState){case f.FINISHED:return!1;case f.PAUSED:this.highestPriorityPage=a.renderingId;
a.resume();break;case f.RUNNING:this.highestPriorityPage=a.renderingId;break;case f.INITIAL:this.highestPriorityPage=a.renderingId;var b=function(){this.renderHighestPriority()}.bind(this);a.draw().then(b,b)}return!0}};return a}();b.RenderingStates=f;b.PDFRenderingQueue=k});(function(b,f){f(b.pdfjsWebDownloadManager={},b.pdfjsWebPDFJS)})(this,function(b,f){function k(a,b){var g=document.createElement("a");g.click?(g.href=a,g.target="_parent","download"in g&&(g.download=b),(document.body||document.documentElement).appendChild(g),
g.click(),g.parentNode.removeChild(g)):(window.top===window&&a.split("#")[0]===window.location.href.split("#")[0]&&(g=-1===a.indexOf("?")?"?":"&",a=a.replace(/#|$/,g+"$&")),window.open(a,"_parent"))}function a(){}a.prototype={downloadUrl:function(a,b){f.createValidAbsoluteUrl(a,"http://example.com")&&k(a+"#pdfjs.action=download",b)},downloadData:function(a,b,g){if(navigator.msSaveBlob)return navigator.msSaveBlob(new Blob([a],{type:g}),b);a=f.createObjectURL(a,g,f.PDFJS.disableCreateObjectURL);k(a,
b)},download:function(a,b,g){URL?navigator.msSaveBlob?navigator.msSaveBlob(a,g)||this.downloadUrl(b,g):(a=URL.createObjectURL(a),k(a,g)):this.downloadUrl(b,g)}};b.DownloadManager=a});(function(b,f){f(b.pdfjsWebUIUtils={},b.pdfjsWebPDFJS)})(this,function(b,f){function k(d,c){var e=0,a=d.length-1;if(0===d.length||!c(d[a]))return d.length;if(c(d[e]))return e;for(;e<a;){var j=e+a>>1;c(d[j])?a=j:e=j+1}return e}var a=96/72,l=document.mozL10n||document.webL10n,h=f.PDFJS;h.disableFullscreen=void 0===h.disableFullscreen?
!1:h.disableFullscreen;h.useOnlyCssZoom=void 0===h.useOnlyCssZoom?!1:h.useOnlyCssZoom;h.maxCanvasPixels=void 0===h.maxCanvasPixels?16777216:h.maxCanvasPixels;h.disableHistory=void 0===h.disableHistory?!1:h.disableHistory;h.disableTextLayer=void 0===h.disableTextLayer?!1:h.disableTextLayer;h.ignoreCurrentPositionOnZoom=void 0===h.ignoreCurrentPositionOnZoom?!1:h.ignoreCurrentPositionOnZoom;h.locale=void 0===h.locale?navigator.language:h.locale;var h=new Promise(function(d){window.requestAnimationFrame(d)}),
g=new Promise(function(d){l?"loading"!==l.getReadyState()?d():window.addEventListener("localized",function(){d()}):d()}),e=function(){function d(){this._listeners=Object.create(null)}d.prototype={on:function(d,c){var e=this._listeners[d];e||(e=[],this._listeners[d]=e);e.push(c)},off:function(d,c){var e=this._listeners[d],j;e&&!(0>(j=e.indexOf(c)))&&e.splice(j,1)},dispatch:function(d){var c=this._listeners[d];if(c&&0!==c.length){var e=Array.prototype.slice.call(arguments,1);c.slice(0).forEach(function(d){d.apply(null,
e)})}}};return d}(),c=function(){function d(d,c){this.visible=!0;this.div=document.querySelector(d+" .progress");this.bar=this.div.parentNode;this.height=c.height||100;this.width=c.width||100;this.units=c.units||"%";this.div.style.height=this.height+this.units;this.percent=0}d.prototype={updateBar:function(){this._indeterminate?(this.div.classList.add("indeterminate"),this.div.style.width=this.width+this.units):(this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/
100+this.units)},get percent(){return this._percent},set percent(d){this._indeterminate=isNaN(d);this._percent=Math.min(Math.max(d,0),100);this.updateBar()},setWidth:function(d){d&&(d=d.parentNode.offsetWidth-d.offsetWidth,0<d&&this.bar.setAttribute("style","width: calc(100% - "+d+"px);"))},hide:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))},show:function(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),
this.bar.classList.remove("hidden"))}};return d}();b.CSS_UNITS=a;b.DEFAULT_SCALE_VALUE="auto";b.DEFAULT_SCALE=1;b.MIN_SCALE=0.25;b.MAX_SCALE=10;b.UNKNOWN_SCALE=0;b.MAX_AUTO_SCALE=1.25;b.SCROLLBAR_PADDING=40;b.VERTICAL_PADDING=5;b.RendererType={CANVAS:"canvas",SVG:"svg"};b.mozL10n=l;b.EventBus=e;b.ProgressBar=c;b.getPDFFileNameFromURL=function(d){var c=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i,d=/^(?:([^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(d);if(d=c.exec(d[1])||c.exec(d[2])||c.exec(d[3]))if(d=
d[0],-1!==d.indexOf("%"))try{d=c.exec(decodeURIComponent(d))[0]}catch(e){}return d||"document.pdf"};b.noContextMenuHandler=function(d){d.preventDefault()};b.parseQueryString=function(d){for(var d=d.split("&"),c={},e=0,a=d.length;e<a;++e){var j=d[e].split("="),g=j[0].toLowerCase(),j=1<j.length?j[1]:null;c[decodeURIComponent(g)]=decodeURIComponent(j)}return c};b.getVisibleElements=function(d,c,e){function a(d){d=d.div;return d.offsetTop+d.clientTop+d.clientHeight>j}for(var j=d.scrollTop,g=j+d.clientHeight,
b=d.scrollLeft,x=b+d.clientWidth,d=[],f,h,l,t,m,q=0===c.length?0:k(c,a),y=c.length;q<y;q++){f=c[q];h=f.div;l=h.offsetTop+h.clientTop;t=h.clientHeight;if(l>g)break;m=h.offsetLeft+h.clientLeft;h=h.clientWidth;m+h<b||m>x||(h=Math.max(0,j-l)+Math.max(0,l+t-g),t=100*(t-h)/t|0,d.push({id:f.id,x:m,y:l,view:f,percent:t}))}c=d[0];g=d[d.length-1];e&&d.sort(function(d,c){var e=d.percent-c.percent;return 0.001<Math.abs(e)?-e:d.id-c.id});return{first:c,last:g,views:d}};b.roundToDivide=function(d,c){var e=d%c;
return 0===e?d:Math.round(d-e+c)};b.approximateFraction=function(d){if(Math.floor(d)===d)return[d,1];var c=1/d;if(8<c)return[1,8];if(Math.floor(c)===c)return[1,c];for(var c=1<d?c:d,e=0,a=1,j=1,g=1;;){var b=e+j,h=a+g;if(8<h)break;c<=b/h?(j=b,g=h):(e=b,a=h)}return c-e/a<j/g-c?c===d?[e,a]:[a,e]:c===d?[j,g]:[g,j]};b.getOutputScale=function(c){c=(window.devicePixelRatio||1)/(c.webkitBackingStorePixelRatio||c.mozBackingStorePixelRatio||c.msBackingStorePixelRatio||c.oBackingStorePixelRatio||c.backingStorePixelRatio||
1);return{sx:c,sy:c,scaled:1!==c}};b.scrollIntoView=function(c,e,a){var g=c.offsetParent;if(g){for(var a=a||!1,j=c.offsetTop+c.clientTop,c=c.offsetLeft+c.clientLeft;g.clientHeight===g.scrollHeight||a&&"hidden"===getComputedStyle(g).overflow;)if(g.dataset._scaleY&&(j/=g.dataset._scaleY,c/=g.dataset._scaleX),j+=g.offsetTop,c+=g.offsetLeft,g=g.offsetParent,!g)return;e&&(void 0!==e.top&&(j+=e.top),void 0!==e.left&&(c+=e.left,g.scrollLeft=c));g.scrollTop=j}else console.error("offsetParent is not set -- cannot scroll")};
b.watchScroll=function(c,e){var a=function(){j||(j=window.requestAnimationFrame(function(){j=null;var a=c.scrollTop,b=g.lastY;a!==b&&(g.down=a>b);g.lastY=a;e(g)}))},g={down:!0,lastY:c.scrollTop,_eventHandler:a},j=null;c.addEventListener("scroll",a,!0);return g};b.binarySearchFirstItem=k;b.normalizeWheelEventDelta=function(c){var e=Math.sqrt(c.deltaX*c.deltaX+c.deltaY*c.deltaY),a=Math.atan2(c.deltaY,c.deltaX);-0.25*Math.PI<a&&a<0.75*Math.PI&&(e=-e);0===c.deltaMode?e/=900:1===c.deltaMode&&(e/=30);return e};
b.animationStarted=h;b.localized=g});(function(b,f){f(b.pdfjsWebDOMEvents={},b.pdfjsWebUIUtils)})(this,function(b,f){function k(a){a.on("documentload",function(){var a=document.createEvent("CustomEvent");a.initCustomEvent("documentload",!0,!0,{});window.dispatchEvent(a)});a.on("pagerendered",function(a){var e=document.createEvent("CustomEvent");e.initCustomEvent("pagerendered",!0,!0,{pageNumber:a.pageNumber,cssTransform:a.cssTransform});a.source.div.dispatchEvent(e)});a.on("textlayerrendered",function(a){var e=
document.createEvent("CustomEvent");e.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:a.pageNumber});a.source.textLayerDiv.dispatchEvent(e)});a.on("pagechange",function(a){var e=document.createEvent("UIEvents");e.initUIEvent("pagechange",!0,!0,window,0);e.pageNumber=a.pageNumber;a.source.container.dispatchEvent(e)});a.on("pagesinit",function(a){var e=document.createEvent("CustomEvent");e.initCustomEvent("pagesinit",!0,!0,null);a.source.container.dispatchEvent(e)});a.on("pagesloaded",function(a){var e=
document.createEvent("CustomEvent");e.initCustomEvent("pagesloaded",!0,!0,{pagesCount:a.pagesCount});a.source.container.dispatchEvent(e)});a.on("scalechange",function(a){var e=document.createEvent("UIEvents");e.initUIEvent("scalechange",!0,!0,window,0);e.scale=a.scale;e.presetValue=a.presetValue;a.source.container.dispatchEvent(e)});a.on("updateviewarea",function(a){var e=document.createEvent("UIEvents");e.initUIEvent("updateviewarea",!0,!0,window,0);e.location=a.location;a.source.container.dispatchEvent(e)});
a.on("find",function(a){if(a.source!==window){var e=document.createEvent("CustomEvent");e.initCustomEvent("find"+a.type,!0,!0,{query:a.query,phraseSearch:a.phraseSearch,caseSensitive:a.caseSensitive,highlightAll:a.highlightAll,findPrevious:a.findPrevious});window.dispatchEvent(e)}});a.on("attachmentsloaded",function(a){var e=document.createEvent("CustomEvent");e.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:a.attachmentsCount});a.source.container.dispatchEvent(e)});a.on("sidebarviewchanged",
function(a){var e=document.createEvent("CustomEvent");e.initCustomEvent("sidebarviewchanged",!0,!0,{view:a.view});a.source.outerContainer.dispatchEvent(e)});a.on("pagemode",function(a){var e=document.createEvent("CustomEvent");e.initCustomEvent("pagemode",!0,!0,{mode:a.mode});a.source.pdfViewer.container.dispatchEvent(e)});a.on("namedaction",function(a){var e=document.createEvent("CustomEvent");e.initCustomEvent("namedaction",!0,!0,{action:a.action});a.source.pdfViewer.container.dispatchEvent(e)});
a.on("presentationmodechanged",function(a){var e=document.createEvent("CustomEvent");e.initCustomEvent("presentationmodechanged",!0,!0,{active:a.active,switchInProgress:a.switchInProgress});window.dispatchEvent(e)});a.on("outlineloaded",function(a){var e=document.createEvent("CustomEvent");e.initCustomEvent("outlineloaded",!0,!0,{outlineCount:a.outlineCount});a.source.container.dispatchEvent(e)})}var a=f.EventBus,l=null;b.attachDOMEventsToEventBus=k;b.getGlobalEventBus=function(){if(l)return l;l=
new a;k(l);return l}});(function(b,f){f(b.pdfjsWebPDFFindController={},b.pdfjsWebUIUtils)})(this,function(b,f){var k=f.scrollIntoView,a={FIND_FOUND:0,FIND_NOTFOUND:1,FIND_WRAPPED:2,FIND_PENDING:3},l={"\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\u00bc":"1/4","\u00bd":"1/2","\u00be":"3/4"},h=function(){function b(a){this.pdfViewer=a.pdfViewer||null;this.onUpdateState=this.onUpdateResultsCount=null;this.reset();a=Object.keys(l).join("");this.normalizationRegex=
RegExp("["+a+"]","g")}b.prototype={reset:function(){this.startedTextExtraction=!1;this.extractTextPromises=[];this.pendingFindMatches=Object.create(null);this.active=!1;this.pageContents=[];this.pageMatches=[];this.pageMatchesLength=null;this.matchCount=0;this.selected={pageIdx:-1,matchIdx:-1};this.offset={pageIdx:null,matchIdx:null};this.state=this.resumePageIdx=this.pagesToSearch=null;this.dirtyMatch=!1;this.findTimeout=null;this.firstPagePromise=new Promise(function(a){this.resolveFirstPage=a}.bind(this))},
normalize:function(a){return a.replace(this.normalizationRegex,function(c){return l[c]})},_prepareMatches:function(a,c,d){function b(c,a){var e,d;e=c[a];d=c[a+1];if(a<c.length-1&&e.match===d.match)return e.skipped=!0;for(var i=a-1;0<=i;i--)if(d=c[i],!d.skipped){if(d.match+d.matchLength<e.match)break;if(d.match+d.matchLength>=e.match+e.matchLength)return e.skipped=!0}return!1}var i,g;a.sort(function(c,a){return c.match===a.match?c.matchLength-a.matchLength:c.match-a.match});i=0;for(g=a.length;i<g;i++)b(a,
i)||(c.push(a[i].match),d.push(a[i].matchLength))},calcFindPhraseMatch:function(a,c,d){for(var b=[],i=a.length,g=-i;;){g=d.indexOf(a,g+i);if(-1===g)break;b.push(g)}this.pageMatches[c]=b},calcFindWordMatch:function(a,c,d){for(var b=[],a=a.match(/\S+/g),i,g,j,f=0,h=a.length;f<h;f++){i=a[f];g=i.length;for(j=-g;;){j=d.indexOf(i,j+g);if(-1===j)break;b.push({match:j,matchLength:g,skipped:!1})}}this.pageMatchesLength||(this.pageMatchesLength=[]);this.pageMatchesLength[c]=[];this.pageMatches[c]=[];this._prepareMatches(b,
this.pageMatches[c],this.pageMatchesLength[c])},calcFindMatch:function(a){var c=this.normalize(this.pageContents[a]),d=this.normalize(this.state.query),b=this.state.caseSensitive,g=this.state.phraseSearch;if(0!==d.length&&(b||(c=c.toLowerCase(),d=d.toLowerCase()),g?this.calcFindPhraseMatch(d,a,c):this.calcFindWordMatch(d,a,c),this.updatePage(a),this.resumePageIdx===a&&(this.resumePageIdx=null,this.nextPageMatch()),0<this.pageMatches[a].length))this.matchCount+=this.pageMatches[a].length,this.updateUIResultsCount()},
extractText:function(){function a(d){g.pdfViewer.getPageTextContent(d).then(function(j){for(var j=j.items,b=[],f=0,h=j.length;f<h;f++)b.push(j[f].str);g.pageContents.push(b.join(""));c[d](d);d+1<g.pdfViewer.pagesCount&&a(d+1)})}if(!this.startedTextExtraction){this.startedTextExtraction=!0;this.pageContents=[];for(var c=[],d=this.pdfViewer.pagesCount,b=0;b<d;b++)this.extractTextPromises.push(new Promise(function(a){c.push(a)}));var g=this;a(0)}},executeCommand:function(e,c){if(null===this.state||"findagain"!==
e)this.dirtyMatch=!0;this.state=c;this.updateUIState(a.FIND_PENDING);this.firstPagePromise.then(function(){this.extractText();clearTimeout(this.findTimeout);"find"===e?this.findTimeout=setTimeout(this.nextMatch.bind(this),250):this.nextMatch()}.bind(this))},updatePage:function(a){this.selected.pageIdx===a&&(this.pdfViewer.currentPageNumber=a+1);a=this.pdfViewer.getPageView(a);a.textLayer&&a.textLayer.updateMatches()},nextMatch:function(){var e=this.state.findPrevious,c=this.pdfViewer.currentPageNumber-
1,d=this.pdfViewer.pagesCount;this.active=!0;if(this.dirtyMatch){this.dirtyMatch=!1;this.selected.pageIdx=this.selected.matchIdx=-1;this.offset.pageIdx=c;this.offset.matchIdx=null;this.hadMatch=!1;this.resumePageIdx=null;this.pageMatches=[];this.matchCount=0;this.pageMatchesLength=null;for(var b=this,c=0;c<d;c++)this.updatePage(c),c in this.pendingFindMatches||(this.pendingFindMatches[c]=!0,this.extractTextPromises[c].then(function(a){delete b.pendingFindMatches[a];b.calcFindMatch(a)}))}if(""===this.state.query)this.updateUIState(a.FIND_FOUND);
else if(!this.resumePageIdx){c=this.offset;this.pagesToSearch=d;if(null!==c.matchIdx){d=this.pageMatches[c.pageIdx].length;if(!e&&c.matchIdx+1<d||e&&0<c.matchIdx){this.hadMatch=!0;c.matchIdx=e?c.matchIdx-1:c.matchIdx+1;this.updateMatch(!0);return}this.advanceOffsetPage(e)}this.nextPageMatch()}},matchesReady:function(a){var c=this.offset,a=a.length,d=this.state.findPrevious;if(a)return this.hadMatch=!0,c.matchIdx=d?a-1:0,this.updateMatch(!0),!0;this.advanceOffsetPage(d);return c.wrapped&&(c.matchIdx=
null,0>this.pagesToSearch)?(this.updateMatch(!1),!0):!1},updateMatchPosition:function(a,c,d,b){this.selected.matchIdx===c&&this.selected.pageIdx===a&&k(d[b],{top:-50,left:-400},!0)},nextPageMatch:function(){null!==this.resumePageIdx&&console.error("There can only be one pending page.");do{var a=this.offset.pageIdx,c=this.pageMatches[a];if(!c){this.resumePageIdx=a;break}}while(!this.matchesReady(c))},advanceOffsetPage:function(a){var c=this.offset,d=this.extractTextPromises.length;c.pageIdx=a?c.pageIdx-
1:c.pageIdx+1;c.matchIdx=null;this.pagesToSearch--;if(c.pageIdx>=d||0>c.pageIdx)c.pageIdx=a?d-1:0,c.wrapped=!0},updateMatch:function(e){var c=a.FIND_NOTFOUND,d=this.offset.wrapped;this.offset.wrapped=!1;e&&(e=this.selected.pageIdx,this.selected.pageIdx=this.offset.pageIdx,this.selected.matchIdx=this.offset.matchIdx,c=d?a.FIND_WRAPPED:a.FIND_FOUND,-1!==e&&e!==this.selected.pageIdx&&this.updatePage(e));this.updateUIState(c,this.state.findPrevious);-1!==this.selected.pageIdx&&this.updatePage(this.selected.pageIdx)},
updateUIResultsCount:function(){if(this.onUpdateResultsCount)this.onUpdateResultsCount(this.matchCount)},updateUIState:function(a,c){if(this.onUpdateState)this.onUpdateState(a,c,this.matchCount)}};return b}();b.FindStates=a;b.PDFFindController=h});(function(b,f){f(b.pdfjsWebPDFHistory={},b.pdfjsWebDOMEvents)})(this,function(b,f){function k(a){this.linkService=a.linkService;this.eventBus=a.eventBus||f.getGlobalEventBus();this.initialized=!1;this.initialBookmark=this.initialDestination=null}k.prototype=
{initialize:function(a){function b(){e.previousHash=window.location.hash.slice(1);e._pushToHistory({hash:e.previousHash},!1,!0);e._updatePreviousBookmark()}function f(a,d){function b(){window.removeEventListener("popstate",b);window.addEventListener("popstate",g);e._pushToHistory(a,!1,!0);history.forward()}function g(){window.removeEventListener("popstate",g);e.allowHashChange=!0;e.historyUnlocked=!0;d()}e.historyUnlocked=!1;e.allowHashChange=!1;window.addEventListener("popstate",b);history.back()}
function g(){var a=e._getPreviousParams(null,!0);a&&(e._pushToHistory(a,!1,!e.current.dest&&e.current.hash!==e.previousHash),e._updatePreviousBookmark());window.removeEventListener("beforeunload",g)}this.initialized=!0;this.reInitialized=!1;this.historyUnlocked=this.allowHashChange=!0;this.isViewerInPresentationMode=!1;this.previousHash=window.location.hash.substring(1);this.currentBookmark="";this.currentPage=0;this.updatePreviousBookmark=!1;this.previousBookmark="";this.previousPage=0;this.nextHashParam=
"";this.fingerprint=a;this.currentUid=this.uid=0;this.current={};a=window.history.state;this._isStateObjectDefined(a)?(a.target.dest?this.initialDestination=a.target.dest:this.initialBookmark=a.target.hash,this.currentUid=a.uid,this.uid=a.uid+1,this.current=a.target):(a&&(a.fingerprint&&this.fingerprint!==a.fingerprint)&&(this.reInitialized=!0),this._pushOrReplaceState({fingerprint:this.fingerprint},!0));var e=this;window.addEventListener("popstate",function(a){e.historyUnlocked&&(a.state?e._goTo(a.state):
e.uid===0?f(e.previousHash&&e.currentBookmark&&e.previousHash!==e.currentBookmark?{hash:e.currentBookmark,page:e.currentPage}:{page:1},function(){b()}):b())});window.addEventListener("beforeunload",g);window.addEventListener("pageshow",function(){window.addEventListener("beforeunload",g)});e.eventBus.on("presentationmodechanged",function(a){e.isViewerInPresentationMode=a.active})},clearHistoryState:function(){this._pushOrReplaceState(null,!0)},_isStateObjectDefined:function(a){return a&&0<=a.uid&&
a.fingerprint&&this.fingerprint===a.fingerprint&&a.target&&a.target.hash?!0:!1},_pushOrReplaceState:function(a,b){b?window.history.replaceState(a,"",document.URL):window.history.pushState(a,"",document.URL)},get isHashChangeUnlocked(){return!this.initialized?!0:this.allowHashChange},_updatePreviousBookmark:function(){this.updatePreviousBookmark&&(this.currentBookmark&&this.currentPage)&&(this.previousBookmark=this.currentBookmark,this.previousPage=this.currentPage,this.updatePreviousBookmark=!1)},
updateCurrentBookmark:function(a,b){this.initialized&&(this.currentBookmark=a.substring(1),this.currentPage=b|0,this._updatePreviousBookmark())},updateNextHashParam:function(a){this.initialized&&(this.nextHashParam=a)},push:function(a,b){if(this.initialized&&this.historyUnlocked)if(a.dest&&!a.hash&&(a.hash=this.current.hash&&this.current.dest&&this.current.dest===a.dest?this.current.hash:this.linkService.getDestinationHash(a.dest).split("#")[1]),a.page&&(a.page|=0),b){var f=window.history.state.target;
f||(this._pushToHistory(a,!1),this.previousHash=window.location.hash.substring(1));this.updatePreviousBookmark=this.nextHashParam?!1:!0;f&&this._updatePreviousBookmark()}else{if(this.nextHashParam){if(this.nextHashParam===a.hash){this.nextHashParam=null;this.updatePreviousBookmark=!0;return}this.nextHashParam=null}a.hash?this.current.hash?this.current.hash!==a.hash?this._pushToHistory(a,!0):(!this.current.page&&a.page&&this._pushToHistory(a,!1,!0),this.updatePreviousBookmark=!0):this._pushToHistory(a,
!0):this.current.page&&(a.page&&this.current.page!==a.page)&&this._pushToHistory(a,!0)}},_getPreviousParams:function(a,b){if(!this.currentBookmark||!this.currentPage)return null;this.updatePreviousBookmark&&(this.updatePreviousBookmark=!1);if(0<this.uid&&(!this.previousBookmark||!this.previousPage))return null;if(!this.current.dest&&!a||b){if(this.previousBookmark===this.currentBookmark)return null}else if(this.current.page||a){if(this.previousPage===this.currentPage)return null}else return null;
var f={hash:this.currentBookmark,page:this.currentPage};this.isViewerInPresentationMode&&(f.hash=null);return f},_stateObj:function(a){return{fingerprint:this.fingerprint,uid:this.uid,target:a}},_pushToHistory:function(a,b,f){this.initialized&&(!a.hash&&a.page&&(a.hash="page="+a.page),b&&!f&&(b=this._getPreviousParams())&&this._pushToHistory(b,!1,!this.current.dest&&this.current.hash!==this.previousHash),this._pushOrReplaceState(this._stateObj(a),f||0===this.uid),this.currentUid=this.uid++,this.current=
a,this.updatePreviousBookmark=!0)},_goTo:function(a){if(this.initialized&&this.historyUnlocked&&this._isStateObjectDefined(a)){if(!this.reInitialized&&a.uid<this.currentUid){var b=this._getPreviousParams(!0);if(b){this._pushToHistory(this.current,!1);this._pushToHistory(b,!1);this.currentUid=a.uid;window.history.back();return}}this.historyUnlocked=!1;a.target.dest?this.linkService.navigateTo(a.target.dest):this.linkService.setHash(a.target.hash);this.currentUid=a.uid;a.uid>this.uid&&(this.uid=a.uid);
this.current=a.target;this.updatePreviousBookmark=!0;a=window.location.hash.substring(1);this.previousHash!==a&&(this.allowHashChange=!1);this.previousHash=a;this.historyUnlocked=!0}},back:function(){this.go(-1)},forward:function(){this.go(1)},go:function(a){if(this.initialized&&this.historyUnlocked){var b=window.history.state;-1===a&&b&&0<b.uid?window.history.back():1===a&&(b&&b.uid<this.uid-1)&&window.history.forward()}}};b.PDFHistory=k});(function(b,f){f(b.pdfjsWebPDFLinkService={},b.pdfjsWebUIUtils,
b.pdfjsWebDOMEvents)})(this,function(b,f,k){var a=f.parseQueryString,l=/^\d+$/,f=function(){function b(a){a=a||{};this.eventBus=a.eventBus||k.getGlobalEventBus();this._pagesRefCache=this.pdfHistory=this.pdfViewer=this.pdfDocument=this.baseUrl=null}function e(a){if(!(a instanceof Array))return!1;var d=a.length,e=!0;if(2>d)return!1;var b=a[0];if(!("object"===typeof b&&"number"===typeof b.num&&(b.num|0)===b.num&&"number"===typeof b.gen&&(b.gen|0)===b.gen)&&!("number"===typeof b&&(b|0)===b&&0<=b))return!1;
b=a[1];if(!("object"===typeof b&&"string"===typeof b.name))return!1;switch(b.name){case "XYZ":if(5!==d)return!1;break;case "Fit":case "FitB":return 2===d;case "FitH":case "FitBH":case "FitV":case "FitBV":if(3!==d)return!1;break;case "FitR":if(6!==d)return!1;e=!1;break;default:return!1}for(b=2;b<d;b++){var g=a[b];if(!("number"===typeof g||e&&null===g))return!1}return!0}b.prototype={setDocument:function(a,d){this.baseUrl=d;this.pdfDocument=a;this._pagesRefCache=Object.create(null)},setViewer:function(a){this.pdfViewer=
a},setHistory:function(a){this.pdfHistory=a},get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0},get page(){return this.pdfViewer.currentPageNumber},set page(a){this.pdfViewer.currentPageNumber=a},navigateTo:function(a){var d="",b=this,e=function(j){var g;if(j instanceof Object)g=b._cachedPageNumber(j);else if((j|0)===j)g=j+1;else{console.error('PDFLinkService_navigateTo: "'+j+'" is not a valid destination reference.');return}g?1>g||g>b.pagesCount?console.error('PDFLinkService_navigateTo: "'+
g+'" is a non-existent page number.'):(b.pdfViewer.scrollPageIntoView({pageNumber:g,destArray:a}),b.pdfHistory&&b.pdfHistory.push({dest:a,hash:d,page:g})):b.pdfDocument.getPageIndex(j).then(function(a){b.cachePageRef(a+1,j);e(j)}).catch(function(){console.error('PDFLinkService_navigateTo: "'+j+'" is not a valid page reference.')})},g;"string"===typeof a?(d=a,g=this.pdfDocument.getDestination(a)):g=Promise.resolve(a);g.then(function(d){a=d;d instanceof Array?e(d[0]):console.error('PDFLinkService_navigateTo: "'+
d+'" is not a valid destination array.')})},getDestinationHash:function(a){return"string"===typeof a?this.getAnchorUrl("#"+(l.test(a)?"nameddest=":"")+escape(a)):a instanceof Array?(a=JSON.stringify(a),this.getAnchorUrl("#"+escape(a))):this.getAnchorUrl("")},getAnchorUrl:function(a){return(this.baseUrl||"")+a},setHash:function(c){var d,b;if(0<=c.indexOf("="))if(c=a(c),"search"in c&&this.eventBus.dispatch("findfromurlhash",{source:this,query:c.search.replace(/"/g,""),phraseSearch:"true"===c.phrase}),
"nameddest"in c)this.pdfHistory&&this.pdfHistory.updateNextHashParam(c.nameddest),this.navigateTo(c.nameddest);else{"page"in c&&(d=c.page|0||1);if("zoom"in c){var g=c.zoom.split(","),f=g[0],j=parseFloat(f);-1===f.indexOf("Fit")?b=[null,{name:"XYZ"},1<g.length?g[1]|0:null,2<g.length?g[2]|0:null,j?j/100:f]:"Fit"===f||"FitB"===f?b=[null,{name:f}]:"FitH"===f||"FitBH"===f||"FitV"===f||"FitBV"===f?b=[null,{name:f},1<g.length?g[1]|0:null]:"FitR"===f?5!==g.length?console.error("PDFLinkService_setHash: Not enough parameters for 'FitR'."):
b=[null,{name:f},g[1]|0,g[2]|0,g[3]|0,g[4]|0]:console.error("PDFLinkService_setHash: '"+f+"' is not a valid zoom value.")}b?this.pdfViewer.scrollPageIntoView({pageNumber:d||this.page,destArray:b,allowNegativeOffset:!0}):d&&(this.page=d);"pagemode"in c&&this.eventBus.dispatch("pagemode",{source:this,mode:c.pagemode})}else{l.test(c)&&c<=this.pagesCount&&(console.warn('PDFLinkService_setHash: specifying a page number directly after the hash symbol (#) is deprecated, please use the "#page='+c+'" form instead.'),
this.page=c|0);b=unescape(c);try{b=JSON.parse(b),b instanceof Array||(b=b.toString())}catch(h){}"string"===typeof b||e(b)?(this.pdfHistory&&this.pdfHistory.updateNextHashParam(b),this.navigateTo(b)):console.error("PDFLinkService_setHash: '"+unescape(c)+"' is not a valid destination.")}},executeNamedAction:function(a){switch(a){case "GoBack":this.pdfHistory&&this.pdfHistory.back();break;case "GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case "NextPage":this.page<this.pagesCount&&this.page++;
break;case "PrevPage":1<this.page&&this.page--;break;case "LastPage":this.page=this.pagesCount;break;case "FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:a})},onFileAttachmentAnnotation:function(a){this.eventBus.dispatch("fileattachmentannotation",{source:this,id:a.id,filename:a.filename,content:a.content})},cachePageRef:function(a,b){this._pagesRefCache[b.num+" "+b.gen+" R"]=a},_cachedPageNumber:function(a){a=a.num+" "+a.gen+" R";return this._pagesRefCache&&this._pagesRefCache[a]||
null}};return b}(),h=function(){function a(){}a.prototype={get page(){return 0},set page(a){},navigateTo:function(){},getDestinationHash:function(){return"#"},getAnchorUrl:function(){return"#"},setHash:function(){},executeNamedAction:function(){},onFileAttachmentAnnotation:function(){},cachePageRef:function(){}};return a}();b.PDFLinkService=f;b.SimpleLinkService=h});(function(b,f){f(b.pdfjsWebPDFPageView={},b.pdfjsWebUIUtils,b.pdfjsWebPDFRenderingQueue,b.pdfjsWebDOMEvents,b.pdfjsWebPDFJS)})(this,
function(b,f,k,a,l){var h=f.CSS_UNITS,g=f.DEFAULT_SCALE,e=f.getOutputScale,c=f.approximateFraction,d=f.roundToDivide,p=f.RendererType,i=k.RenderingStates,f=function(){function b(c){var d=c.container,e=c.id,f=c.scale,h=c.defaultViewport,r=c.renderingQueue,l=c.textLayerFactory,t=c.annotationLayerFactory,m=c.enhanceTextSelection||!1,q=c.renderInteractiveForms||!1;this.id=e;this.renderingId="page"+e;this.pageLabel=null;this.rotation=0;this.scale=f||g;this.viewport=h;this.pdfPageRotate=h.rotation;this.hasRestrictedScaling=
!1;this.enhanceTextSelection=m;this.renderInteractiveForms=q;this.eventBus=c.eventBus||a.getGlobalEventBus();this.renderingQueue=r;this.textLayerFactory=l;this.annotationLayerFactory=t;this.renderer=c.renderer||p.CANVAS;this.paintTask=null;this.paintedViewportMap=new WeakMap;this.renderingState=i.INITIAL;this.annotationLayer=this.zoomLayer=this.textLayer=this.onAfterDraw=this.onBeforeDraw=this.error=this.resume=null;c=document.createElement("div");c.className="page";c.style.width=Math.floor(this.viewport.width)+
"px";c.style.height=Math.floor(this.viewport.height)+"px";c.setAttribute("data-page-number",this.id);this.div=c;d.appendChild(c)}b.prototype={setPdfPage:function(a){this.pdfPage=a;this.pdfPageRotate=a.rotate;this.viewport=a.getViewport(this.scale*h,(this.rotation+this.pdfPageRotate)%360);this.stats=a.stats;this.reset()},destroy:function(){this.zoomLayer=null;this.reset();this.pdfPage&&this.pdfPage.cleanup()},reset:function(a,c){this.cancelRendering();var b=this.div;b.style.width=Math.floor(this.viewport.width)+
"px";b.style.height=Math.floor(this.viewport.height)+"px";for(var d=b.childNodes,e=a&&this.zoomLayer||null,g=c&&this.annotationLayer&&this.annotationLayer.div||null,f=d.length-1;0<=f;f--){var i=d[f];e===i||g===i||b.removeChild(i)}b.removeAttribute("data-loaded");g?this.annotationLayer.hide():this.annotationLayer=null;this.canvas&&!e&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas);this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg);
this.loadingIconDiv=document.createElement("div");this.loadingIconDiv.className="loadingIcon";b.appendChild(this.loadingIconDiv)},update:function(a,c){this.scale=a||this.scale;"undefined"!==typeof c&&(this.rotation=c);this.viewport=this.viewport.clone({scale:this.scale*h,rotation:(this.rotation+this.pdfPageRotate)%360});if(this.svg)this.cssTransform(this.svg,!0),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});else{var b=!1;if(this.canvas&&0<l.PDFJS.maxCanvasPixels){var d=
this.outputScale;(Math.floor(this.viewport.width)*d.sx|0)*(Math.floor(this.viewport.height)*d.sy|0)>l.PDFJS.maxCanvasPixels&&(b=!0)}if(this.canvas){if(l.PDFJS.useOnlyCssZoom||this.hasRestrictedScaling&&b){this.cssTransform(this.canvas,!0);this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});return}this.zoomLayer||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild);this.reset(!0,
!0)}},cancelRendering:function(){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null);this.renderingState=i.INITIAL;this.resume=null;this.textLayer&&(this.textLayer.cancel(),this.textLayer=null)},updatePosition:function(){this.textLayer&&this.textLayer.render(200)},cssTransform:function(a,c){var b=l.CustomStyle,d=this.viewport.width,e=this.viewport.height,g=this.div;a.style.width=a.parentNode.style.width=g.style.width=Math.floor(d)+"px";a.style.height=a.parentNode.style.height=g.style.height=
Math.floor(e)+"px";var g=this.viewport.rotation-this.paintedViewportMap.get(a).rotation,f=Math.abs(g),i=1,h=1;if(90===f||270===f)i=e/d,h=d/e;b.setProp("transform",a,"rotate("+g+"deg) scale("+i+","+h+")");if(this.textLayer){f=this.textLayer.viewport;e=Math.abs(this.viewport.rotation-f.rotation);g=d/f.width;if(90===e||270===e)g=d/f.height;var d=this.textLayer.textLayerDiv,p,k;switch(e){case 0:p=k=0;break;case 90:p=0;k="-"+d.style.height;break;case 180:p="-"+d.style.width;k="-"+d.style.height;break;
case 270:p="-"+d.style.width;k=0;break;default:console.error("Bad rotation value.")}b.setProp("transform",d,"rotate("+e+"deg) scale("+g+", "+g+") translate("+p+", "+k+")");b.setProp("transformOrigin",d,"0% 0%")}c&&this.annotationLayer&&this.annotationLayer.render(this.viewport,"display")},get width(){return this.viewport.width},get height(){return this.viewport.height},getPagePoint:function(a,c){return this.viewport.convertToPdfPoint(a,c)},draw:function(){this.renderingState!==i.INITIAL&&(console.error("Must be in new state before drawing"),
this.reset());this.renderingState=i.RUNNING;var a=this,c=this.pdfPage,b=this.div,d=document.createElement("div");d.style.width=b.style.width;d.style.height=b.style.height;d.classList.add("canvasWrapper");this.annotationLayer&&this.annotationLayer.div?b.insertBefore(d,this.annotationLayer.div):b.appendChild(d);var e=null,g=null;this.textLayerFactory&&(e=document.createElement("div"),e.className="textLayer",e.style.width=d.style.width,e.style.height=d.style.height,this.annotationLayer&&this.annotationLayer.div?
b.insertBefore(e,this.annotationLayer.div):b.appendChild(e),g=this.textLayerFactory.createTextLayerBuilder(e,this.id-1,this.viewport,this.enhanceTextSelection));this.textLayer=g;e=null;this.renderingQueue&&(e=function(b){if(a.renderingQueue.isHighestPriority(a))b();else{a.renderingState=i.PAUSED;a.resume=function(){a.renderingState=i.RUNNING;b()}}});var f=function(d){if(h===a.paintTask)a.paintTask=null;if(d==="cancelled"){a.error=null;return Promise.resolve(void 0)}a.renderingState=i.FINISHED;if(a.loadingIconDiv){b.removeChild(a.loadingIconDiv);
delete a.loadingIconDiv}if(a.zoomLayer){var e=a.zoomLayer.firstChild;a.paintedViewportMap.delete(e);e.width=0;e.height=0;b.contains(a.zoomLayer)&&b.removeChild(a.zoomLayer);a.zoomLayer=null}a.error=d;a.stats=c.stats;if(a.onAfterDraw)a.onAfterDraw();a.eventBus.dispatch("pagerendered",{source:a,pageNumber:a.id,cssTransform:false});return d?Promise.reject(d):Promise.resolve(void 0)},h=this.renderer===p.SVG?this.paintOnSvg(d):this.paintOnCanvas(d);h.onRenderContinue=e;this.paintTask=h;d=h.promise.then(function(){return f(null).then(function(){g&&
c.getTextContent({normalizeWhitespace:true}).then(function(a){g.setTextContent(a);g.render(200)})})},function(a){return f(a)});this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(b,c,this.renderInteractiveForms)),this.annotationLayer.render(this.viewport,"display"));b.setAttribute("data-loaded",!0);if(this.onBeforeDraw)this.onBeforeDraw();return d},paintOnCanvas:function(a){var b,g,f={promise:new Promise(function(a,c){b=
a;g=c}),onRenderContinue:function(a){a()},cancel:function(){n.cancel()}},i=this.viewport,p=document.createElement("canvas");p.id="page"+this.id;p.setAttribute("hidden","hidden");var k=!0,t=function(){k&&(p.removeAttribute("hidden"),k=!1)};a.appendChild(p);this.canvas=p;p.mozOpaque=!0;var a=p.getContext("2d",{alpha:!1}),m=e(a);this.outputScale=m;if(l.PDFJS.useOnlyCssZoom){var q=i.clone({scale:h});m.sx*=q.width/i.width;m.sy*=q.height/i.height;m.scaled=!0}0<l.PDFJS.maxCanvasPixels&&(q=Math.sqrt(l.PDFJS.maxCanvasPixels/
(i.width*i.height)),m.sx>q||m.sy>q?(m.sx=q,m.sy=q,this.hasRestrictedScaling=m.scaled=!0):this.hasRestrictedScaling=!1);var q=c(m.sx),z=c(m.sy);p.width=d(i.width*m.sx,q[0]);p.height=d(i.height*m.sy,z[0]);p.style.width=d(i.width,q[1])+"px";p.style.height=d(i.height,z[1])+"px";this.paintedViewportMap.set(p,i);var n=this.pdfPage.render({canvasContext:a,transform:!m.scaled?null:[m.sx,0,0,m.sy,0,0],viewport:this.viewport,renderInteractiveForms:this.renderInteractiveForms});n.onContinue=function(a){t();
if(f.onRenderContinue)f.onRenderContinue(a);else a()};n.promise.then(function(){t();b(void 0)},function(a){t();g(a)});return f},paintOnSvg:function(a){var b=!1,c=this,d=this.pdfPage,e=l.SVGGraphics,g=this.viewport.clone({scale:h});return{promise:d.getOperatorList().then(function(f){if(b)throw"cancelled";return(new e(d.commonObjs,d.objs)).getSVG(f,g).then(function(d){if(b)throw"cancelled";c.svg=d;c.paintedViewportMap.set(d,g);d.style.width=a.style.width;d.style.height=a.style.height;c.renderingState=
i.FINISHED;a.appendChild(d)})}),onRenderContinue:function(a){a()},cancel:function(){b=!0}}},setPageLabel:function(a){this.pageLabel="string"===typeof a?a:null;null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}};return b}();b.PDFPageView=f});(function(b,f){f(b.pdfjsWebTextLayerBuilder={},b.pdfjsWebDOMEvents,b.pdfjsWebPDFJS)})(this,function(b,f,k){function a(){}var l=function(){function a(b){this.textLayerDiv=b.textLayerDiv;this.eventBus=
b.eventBus||f.getGlobalEventBus();this.textContent=null;this.renderingDone=!1;this.pageIdx=b.pageIndex;this.pageNumber=this.pageIdx+1;this.matches=[];this.viewport=b.viewport;this.textDivs=[];this.findController=b.findController||null;this.textLayerRenderTask=null;this.enhanceTextSelection=b.enhanceTextSelection;this._bindMouse()}a.prototype={_finishRendering:function(){this.renderingDone=!0;if(!this.enhanceTextSelection){var a=document.createElement("div");a.className="endOfContent";this.textLayerDiv.appendChild(a)}this.eventBus.dispatch("textlayerrendered",
{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})},render:function(a){if(this.textContent&&!this.renderingDone){this.cancel();this.textDivs=[];var b=document.createDocumentFragment();this.textLayerRenderTask=k.renderTextLayer({textContent:this.textContent,container:b,viewport:this.viewport,textDivs:this.textDivs,timeout:a,enhanceTextSelection:this.enhanceTextSelection});this.textLayerRenderTask.promise.then(function(){this.textLayerDiv.appendChild(b);this._finishRendering();
this.updateMatches()}.bind(this),function(){})}},cancel:function(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null)},setTextContent:function(a){this.cancel();this.textContent=a},convertMatches:function(a,b){var c=0,d=0,f=this.textContent.items,i=f.length-1,h=null===this.findController?0:this.findController.state.query.length,j=[];if(!a)return j;for(var l=0,k=a.length;l<k;l++){for(var n=a[l];c!==i&&n>=d+f[c].str.length;)d+=f[c].str.length,c++;c===f.length&&
console.error("Could not find a matching mapping");for(var s={begin:{divIdx:c,offset:n-d}},n=b?n+b[l]:n+h;c!==i&&n>d+f[c].str.length;)d+=f[c].str.length,c++;s.end={divIdx:c,offset:n-d};j.push(s)}return j},renderMatches:function(a){function b(a,d){var e=a.divIdx;f[e].textContent="";c(e,0,a.offset,d)}function c(a,b,c,e){var g=f[a],a=d[a].str.substring(b,c),a=document.createTextNode(a);e?(b=document.createElement("span"),b.className=e,b.appendChild(a),g.appendChild(b)):g.appendChild(a)}if(0!==a.length){var d=
this.textContent.items,f=this.textDivs,i=null,h=this.pageIdx,j=null===this.findController?!1:h===this.findController.selected.pageIdx,l=null===this.findController?-1:this.findController.selected.matchIdx,k=l,n=k+1;if(null===this.findController?0:this.findController.state.highlightAll)k=0,n=a.length;else if(!j)return;for(;k<n;k++){var s=a[k],r=s.begin,s=s.end,o=j&&k===l?" selected":"";this.findController&&this.findController.updateMatchPosition(h,k,f,r.divIdx);!i||r.divIdx!==i.divIdx?(null!==i&&c(i.divIdx,
i.offset,void 0),b(r)):c(i.divIdx,i.offset,r.offset);if(r.divIdx===s.divIdx)c(r.divIdx,r.offset,s.offset,"highlight"+o);else{c(r.divIdx,r.offset,void 0,"highlight begin"+o);i=r.divIdx+1;for(r=s.divIdx;i<r;i++)f[i].className="highlight middle"+o;b(s,"highlight end"+o)}i=s}i&&c(i.divIdx,i.offset,void 0)}},updateMatches:function(){if(this.renderingDone){for(var a=this.matches,b=this.textDivs,c=this.textContent.items,d=-1,f=0,i=a.length;f<i;f++){for(var h=a[f],d=Math.max(d,h.begin.divIdx),j=h.end.divIdx;d<=
j;d++){var l=b[d];l.textContent=c[d].str;l.className=""}d=h.end.divIdx+1}if(null!==this.findController&&this.findController.active){var k,n;null!==this.findController&&(k=this.findController.pageMatches[this.pageIdx]||null,n=this.findController.pageMatchesLength?this.findController.pageMatchesLength[this.pageIdx]||null:null);this.matches=this.convertMatches(k,n);this.renderMatches(this.matches)}}},_bindMouse:function(){var a=this.textLayerDiv,b=this,c=null;a.addEventListener("mousedown",function(d){if(b.enhanceTextSelection&&
b.textLayerRenderTask)b.textLayerRenderTask.expandTextDivs(!0),c&&(clearTimeout(c),c=null);else{var f=a.querySelector(".endOfContent");if(f){var i=d.target!==a;if(i=i&&"none"!==window.getComputedStyle(f).getPropertyValue("-moz-user-select"))i=a.getBoundingClientRect(),d=Math.max(0,(d.pageY-i.top)/i.height),f.style.top=(100*d).toFixed(2)+"%";f.classList.add("active")}}});a.addEventListener("mouseup",function(){if(b.enhanceTextSelection&&b.textLayerRenderTask)c=setTimeout(function(){b.textLayerRenderTask&&
b.textLayerRenderTask.expandTextDivs(!1);c=null},300);else{var d=a.querySelector(".endOfContent");d&&(d.style.top="",d.classList.remove("active"))}})}};return a}();a.prototype={createTextLayerBuilder:function(a,b,e,c){return new l({textLayerDiv:a,pageIndex:b,viewport:e,enhanceTextSelection:c})}};b.TextLayerBuilder=l;b.DefaultTextLayerFactory=a});(function(b,f){f(b.pdfjsWebAnnotationLayerBuilder={},b.pdfjsWebUIUtils,b.pdfjsWebPDFLinkService,b.pdfjsWebPDFJS)})(this,function(b,f,k,a){function l(){}var h=
f.mozL10n,g=k.SimpleLinkService,e=function(){function b(a){this.pageDiv=a.pageDiv;this.pdfPage=a.pdfPage;this.renderInteractiveForms=a.renderInteractiveForms;this.linkService=a.linkService;this.downloadManager=a.downloadManager;this.div=null}b.prototype={render:function(b,c){var e=this,f={intent:void 0===c?"display":c};this.pdfPage.getAnnotations(f).then(function(c){b=b.clone({dontFlip:!0});f={viewport:b,div:e.div,annotations:c,page:e.pdfPage,renderInteractiveForms:e.renderInteractiveForms,linkService:e.linkService,
downloadManager:e.downloadManager};e.div?a.AnnotationLayer.update(f):0!==c.length&&(e.div=document.createElement("div"),e.div.className="annotationLayer",e.pageDiv.appendChild(e.div),f.div=e.div,a.AnnotationLayer.render(f),"undefined"!==typeof h&&h.translate(e.div))})},hide:function(){this.div&&this.div.setAttribute("hidden","true")}};return b}();l.prototype={createAnnotationLayerBuilder:function(a,b,f){return new e({pageDiv:a,pdfPage:b,renderInteractiveForms:f,linkService:new g})}};b.AnnotationLayerBuilder=
e;b.DefaultAnnotationLayerFactory=l});(function(b,f){f(b.pdfjsWebPDFViewer={},b.pdfjsWebUIUtils,b.pdfjsWebPDFPageView,b.pdfjsWebPDFRenderingQueue,b.pdfjsWebTextLayerBuilder,b.pdfjsWebAnnotationLayerBuilder,b.pdfjsWebPDFLinkService,b.pdfjsWebDOMEvents,b.pdfjsWebPDFJS)})(this,function(b,f,k,a,l,h,g,e,c){var d=f.UNKNOWN_SCALE,n=f.SCROLLBAR_PADDING,i=f.VERTICAL_PADDING,o=f.MAX_AUTO_SCALE,j=f.CSS_UNITS,u=f.DEFAULT_SCALE,v=f.DEFAULT_SCALE_VALUE,x=f.RendererType,s=f.scrollIntoView,r=f.watchScroll,B=f.getVisibleElements,
t=k.PDFPageView,m=a.RenderingStates,q=a.PDFRenderingQueue,y=l.TextLayerBuilder,A=h.AnnotationLayerBuilder,C=g.SimpleLinkService,w={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},f=function(){function a(b){var c=[];this.push=function(a){var d=c.indexOf(a);0<=d&&c.splice(d,1);c.push(a);c.length>b&&c.shift().destroy()};this.resize=function(a){for(b=a;c.length>b;)c.shift().destroy()}}function b(a){this.container=a.container;this.viewer=a.viewer||a.container.firstElementChild;this.eventBus=a.eventBus||e.getGlobalEventBus();
this.linkService=a.linkService||new C;this.downloadManager=a.downloadManager||null;this.removePageBorders=a.removePageBorders||!1;this.enhanceTextSelection=a.enhanceTextSelection||!1;this.renderInteractiveForms=a.renderInteractiveForms||!1;this.enablePrintAutoRotate=a.enablePrintAutoRotate||!1;this.renderer=a.renderer||x.CANVAS;(this.defaultRenderingQueue=!a.renderingQueue)?(this.renderingQueue=new q,this.renderingQueue.setViewer(this)):this.renderingQueue=a.renderingQueue;this.scroll=r(this.container,
this._scrollUpdate.bind(this));this.presentationModeState=w.UNKNOWN;this._resetView();this.removePageBorders&&this.viewer.classList.add("removePageBorders")}b.prototype={get pagesCount(){return this._pages.length},getPageView:function(a){return this._pages[a]},get pageViewsReady(){return this._pageViewsReady},get currentPageNumber(){return this._currentPageNumber},set currentPageNumber(a){if((a|0)!==a)throw Error("Invalid page number.");this.pdfDocument?this._setCurrentPageNumber(a,!0):this._currentPageNumber=
a},_setCurrentPageNumber:function(a,b){if(this._currentPageNumber===a)b&&this._resetCurrentPageView();else if(0<a&&a<=this.pagesCount){var c={source:this,pageNumber:a,pageLabel:this._pageLabels&&this._pageLabels[a-1]};this._currentPageNumber=a;this.eventBus.dispatch("pagechanging",c);this.eventBus.dispatch("pagechange",c);b&&this._resetCurrentPageView()}else console.error('PDFViewer_setCurrentPageNumber: "'+a+'" is out of bounds.')},get currentPageLabel(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-
1]},set currentPageLabel(a){var b=a|0;this._pageLabels&&(a=this._pageLabels.indexOf(a),0<=a&&(b=a+1));this.currentPageNumber=b},get currentScale(){return this._currentScale!==d?this._currentScale:u},set currentScale(a){if(isNaN(a))throw Error("Invalid numeric scale");this.pdfDocument?this._setScale(a,!1):(this._currentScale=a,this._currentScaleValue=a!==d?a.toString():null)},get currentScaleValue(){return this._currentScaleValue},set currentScaleValue(a){this.pdfDocument?this._setScale(a,!1):(this._currentScale=
isNaN(a)?d:a,this._currentScaleValue=a.toString())},get pagesRotation(){return this._pagesRotation},set pagesRotation(a){if(!("number"===typeof a&&0===a%90))throw Error("Invalid pages rotation angle.");this._pagesRotation=a;if(this.pdfDocument){for(var b=0,c=this._pages.length;b<c;b++){var d=this._pages[b];d.update(d.scale,a)}this._setScale(this._currentScaleValue,!0);this.defaultRenderingQueue&&this.update()}},setDocument:function(a){this.pdfDocument&&(this._cancelRendering(),this._resetView());
if(this.pdfDocument=a){var b=a.numPages,d=this,e,f=new Promise(function(a){e=a});this.pagesPromise=f;f.then(function(){d._pageViewsReady=true;d.eventBus.dispatch("pagesloaded",{source:d,pagesCount:b})});var g=!1,h=null,i=new Promise(function(a){h=a});this.onePageRendered=i;var l=function(a){a.onBeforeDraw=function(){d._buffer.push(this)};a.onAfterDraw=function(){if(!g){g=true;h()}}};this.firstPagePromise=f=a.getPage(1);return f.then(function(f){for(var g=this.currentScale,f=f.getViewport(g*j),h=1;h<=
b;++h){var k=null;c.PDFJS.disableTextLayer||(k=this);k=new t({container:this.viewer,eventBus:this.eventBus,id:h,scale:g,defaultViewport:f.clone(),renderingQueue:this.renderingQueue,textLayerFactory:k,annotationLayerFactory:this,enhanceTextSelection:this.enhanceTextSelection,renderInteractiveForms:this.renderInteractiveForms,renderer:this.renderer});l(k);this._pages.push(k)}var D=this.linkService;i.then(function(){if(c.PDFJS.disableAutoFetch)e();else for(var f=b,g=1;g<=b;++g)a.getPage(g).then(function(a,
b){var c=d._pages[a-1];c.pdfPage||c.setPdfPage(b);D.cachePageRef(a,b.ref);f--;f||e()}.bind(null,g))});d.eventBus.dispatch("pagesinit",{source:d});this.defaultRenderingQueue&&this.update();this.findController&&this.findController.resolveFirstPage()}.bind(this))}},setPageLabels:function(a){if(this.pdfDocument){a?a instanceof Array&&this.pdfDocument.numPages===a.length?this._pageLabels=a:(this._pageLabels=null,console.error("PDFViewer_setPageLabels: Invalid page labels.")):this._pageLabels=null;for(var a=
0,b=this._pages.length;a<b;a++)this._pages[a].setPageLabel(this._pageLabels&&this._pageLabels[a])}},_resetView:function(){this._pages=[];this._currentPageNumber=1;this._currentScale=d;this._pageLabels=this._currentScaleValue=null;this._buffer=new a(10);this._location=null;this._pagesRotation=0;this._pagesRequests=[];this._pageViewsReady=!1;this.viewer.textContent=""},_scrollUpdate:function(){if(0!==this.pagesCount){this.update();for(var a=0,b=this._pages.length;a<b;a++)this._pages[a].updatePosition()}},
_setScaleDispatchEvent:function(a,b,c){a={source:this,scale:a,presetValue:c?b:void 0};this.eventBus.dispatch("scalechanging",a);this.eventBus.dispatch("scalechange",a)},_setScaleUpdatePages:function(a,b,d,e){this._currentScaleValue=b.toString();var f;f=this._currentScale;f=a===f?!0:1.0E-15>Math.abs(a-f)?!0:!1;if(f)e&&this._setScaleDispatchEvent(a,b,!0);else{f=0;for(var g=this._pages.length;f<g;f++)this._pages[f].update(a);this._currentScale=a;if(!d){var d=this._currentPageNumber,h;this._location&&
(!c.PDFJS.ignoreCurrentPositionOnZoom&&!this.isInPresentationMode&&!this.isChangingPresentationMode)&&(d=this._location.pageNumber,h=[null,{name:"XYZ"},this._location.left,this._location.top,null]);this.scrollPageIntoView({pageNumber:d,destArray:h,allowNegativeOffset:!0})}this._setScaleDispatchEvent(a,b,e);this.defaultRenderingQueue&&this.update()}},_setScale:function(a,b){var c=parseFloat(a);if(0<c)this._setScaleUpdatePages(c,a,b,!1);else if(c=this._pages[this._currentPageNumber-1]){var d=(this.container.clientWidth-
(this.isInPresentationMode||this.removePageBorders?0:n))/c.width*c.scale,e=(this.container.clientHeight-(this.isInPresentationMode||this.removePageBorders?0:i))/c.height*c.scale;switch(a){case "page-actual":c=1;break;case "page-width":c=d;break;case "page-height":c=e;break;case "page-fit":c=Math.min(d,e);break;case "auto":c=c.width>c.height?Math.min(e,d):d;c=Math.min(o,c);break;default:console.error('PDFViewer_setScale: "'+a+'" is an unknown zoom value.');return}this._setScaleUpdatePages(c,a,b,!0)}},
_resetCurrentPageView:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0);s(this._pages[this._currentPageNumber-1].div)},scrollPageIntoView:function(a){if(this.pdfDocument){if(1<arguments.length||"number"===typeof a){console.warn("Call of scrollPageIntoView() with obsolete signature.");var b={};"number"===typeof a&&(b.pageNumber=a);arguments[1]instanceof Array&&(b.destArray=arguments[1]);a=b}var c=a.pageNumber||0,e=a.destArray||null,b=a.allowNegativeOffset||!1;if(this.isInPresentationMode||
!e)this._setCurrentPageNumber(c,!0);else if(c=this._pages[c-1]){var f=0,g=0,h=0,k=0,l,m;m=0===c.rotation%180?!1:!0;l=(m?c.height:c.width)/c.scale/j;m=(m?c.width:c.height)/c.scale/j;var o=0;switch(e[1].name){case "XYZ":f=e[2];g=e[3];o=e[4];f=null!==f?f:0;g=null!==g?g:m;break;case "Fit":case "FitB":o="page-fit";break;case "FitH":case "FitBH":g=e[2];o="page-width";null===g&&this._location&&(f=this._location.left,g=this._location.top);break;case "FitV":case "FitBV":f=e[2];h=l;k=m;o="page-height";break;
case "FitR":f=e[2];g=e[3];h=e[4]-f;k=e[5]-g;m=this.removePageBorders?0:i;l=(this.container.clientWidth-(this.removePageBorders?0:n))/h/j;m=(this.container.clientHeight-m)/k/j;o=Math.min(Math.abs(l),Math.abs(m));break;default:console.error("PDFViewer_scrollPageIntoView: '"+e[1].name+"' is not a valid destination type.");return}o&&o!==this._currentScale?this.currentScaleValue=o:this._currentScale===d&&(this.currentScaleValue=v);"page-fit"===o&&!e[4]?s(c.div):(f=[c.viewport.convertToViewportPoint(f,
g),c.viewport.convertToViewportPoint(f+h,g+k)],e=Math.min(f[0][0],f[1][0]),f=Math.min(f[0][1],f[1][1]),b||(e=Math.max(e,0),f=Math.max(f,0)),s(c.div,{left:e,top:f}))}else console.error('PDFViewer_scrollPageIntoView: Invalid "pageNumber" parameter.')}},_updateLocation:function(a){var b=this._currentScale,c=this._currentScaleValue,b=parseFloat(c)===b?Math.round(1E4*b)/100:c,c=a.id,d;d="#page="+c+("&zoom="+b);var e=this.container,e=this._pages[c-1].getPagePoint(e.scrollLeft-a.x,e.scrollTop-a.y),a=Math.round(e[0]),
e=Math.round(e[1]);this._location={pageNumber:c,scale:b,top:e,left:a,pdfOpenParams:d+(","+a+","+e)}},update:function(){var a=this._getVisiblePages(),b=a.views;if(0!==b.length){this._buffer.resize(Math.max(10,2*b.length+1));this.renderingQueue.renderHighestPriority(a);for(var c=this._currentPageNumber,a=a.first,d=0,e=b.length,f=!1;d<e;++d){var g=b[d];if(100>g.percent)break;if(g.id===c){f=!0;break}}f||(c=b[0].id);this.isInPresentationMode||this._setCurrentPageNumber(c);this._updateLocation(a);this.eventBus.dispatch("updateviewarea",
{source:this,location:this._location})}},containsElement:function(a){return this.container.contains(a)},focus:function(){this.container.focus()},get isInPresentationMode(){return this.presentationModeState===w.FULLSCREEN},get isChangingPresentationMode(){return this.presentationModeState===w.CHANGING},get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth},_getVisiblePages:function(){if(!this.isInPresentationMode)return B(this.container,
this._pages,!0);var a=[],b=this._pages[this._currentPageNumber-1];a.push({id:b.id,view:b});return{first:b,last:b,views:a}},cleanup:function(){for(var a=0,b=this._pages.length;a<b;a++)this._pages[a]&&this._pages[a].renderingState!==m.FINISHED&&this._pages[a].reset()},_cancelRendering:function(){for(var a=0,b=this._pages.length;a<b;a++)this._pages[a]&&this._pages[a].cancelRendering()},_ensurePdfPageLoaded:function(a){if(a.pdfPage)return Promise.resolve(a.pdfPage);var b=a.id;if(this._pagesRequests[b])return this._pagesRequests[b];
var c=this.pdfDocument.getPage(b).then(function(c){a.setPdfPage(c);this._pagesRequests[b]=null;return c}.bind(this));return this._pagesRequests[b]=c},forceRendering:function(a){var b=this.renderingQueue.getHighestPriority(a||this._getVisiblePages(),this._pages,this.scroll.down);return b?(this._ensurePdfPageLoaded(b).then(function(){this.renderingQueue.renderView(b)}.bind(this)),!0):!1},getPageTextContent:function(a){return this.pdfDocument.getPage(a+1).then(function(a){return a.getTextContent({normalizeWhitespace:!0})})},
createTextLayerBuilder:function(a,b,c,d){return new y({textLayerDiv:a,eventBus:this.eventBus,pageIndex:b,viewport:c,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:this.isInPresentationMode?!1:d})},createAnnotationLayerBuilder:function(a,b,c){return new A({pageDiv:a,pdfPage:b,renderInteractiveForms:c,linkService:this.linkService,downloadManager:this.downloadManager})},setFindController:function(a){this.findController=a},getPagesOverview:function(){var a=this._pages.map(function(a){a=
a.pdfPage.getViewport(1);return{width:a.width,height:a.height,rotation:a.rotation}});if(!this.enablePrintAutoRotate)return a;var b=a[0].width<=a[0].height;return a.map(function(a){return b===a.width<=a.height?a:{width:a.height,height:a.width,rotation:(a.rotation+90)%360}})}};return b}();b.PresentationModeState=w;b.PDFViewer=f})}).call(n);var o=u.PDFJS;o.PDFViewer=n.pdfjsWebPDFViewer.PDFViewer;o.PDFPageView=n.pdfjsWebPDFPageView.PDFPageView;o.PDFLinkService=n.pdfjsWebPDFLinkService.PDFLinkService;
o.TextLayerBuilder=n.pdfjsWebTextLayerBuilder.TextLayerBuilder;o.DefaultTextLayerFactory=n.pdfjsWebTextLayerBuilder.DefaultTextLayerFactory;o.AnnotationLayerBuilder=n.pdfjsWebAnnotationLayerBuilder.AnnotationLayerBuilder;o.DefaultAnnotationLayerFactory=n.pdfjsWebAnnotationLayerBuilder.DefaultAnnotationLayerFactory;o.PDFHistory=n.pdfjsWebPDFHistory.PDFHistory;o.PDFFindController=n.pdfjsWebPDFFindController.PDFFindController;o.EventBus=n.pdfjsWebUIUtils.EventBus;o.DownloadManager=n.pdfjsWebDownloadManager.DownloadManager;
o.ProgressBar=n.pdfjsWebUIUtils.ProgressBar;v.PDFJS=o});
