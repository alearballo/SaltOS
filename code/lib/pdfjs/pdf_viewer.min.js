(function(m,c){"object"===typeof exports&&"object"===typeof module?module.exports=c():"function"===typeof define&&define.amd?define("pdfjs-dist/web/pdf_viewer",[],c):"object"===typeof exports?exports["pdfjs-dist/web/pdf_viewer"]=c():m["pdfjs-dist/web/pdf_viewer"]=m.pdfjsDistWebPdfViewer=c()})(this,function(){return function(m){function c(l){if(g[l])return g[l].exports;var j=g[l]={i:l,l:!1,exports:{}};m[l].call(j.exports,j,j.exports,c);j.l=!0;return j.exports}var g={};c.m=m;c.c=g;c.d=function(g,j,
n){c.o(g,j)||Object.defineProperty(g,j,{configurable:!1,enumerable:!0,get:n})};c.n=function(g){var j=g&&g.__esModule?function(){return g["default"]}:function(){return g};c.d(j,"a",j);return j};c.o=function(c,g){return Object.prototype.hasOwnProperty.call(c,g)};c.p="";return c(c.s=9)}([function(m){var c=void 0,c="undefined"!==typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:require("../build/pdf.js");m.exports=c},function(m,c,g){function l(a,h){if(!(a instanceof h))throw new TypeError("Cannot call a class as a function");
}function j(a,h){return!h?a:a.replace(/\{\{\s*(\w+)\s*\}\}/g,function(a,b){return b in h?h[b]:"{{"+b+"}}"})}function n(a,h){var b=0,e=a.length-1;if(0===a.length||!h(a[e]))return a.length;if(h(a[b]))return b;for(;b<e;){var d=b+e>>1;h(a[d])?e=d:b=d+1}return b}Object.defineProperty(c,"__esModule",{value:!0});c.waitOnEventOrTimeout=c.WaitOnType=c.localized=c.animationStarted=c.normalizeWheelEventDelta=c.binarySearchFirstItem=c.watchScroll=c.scrollIntoView=c.getOutputScale=c.approximateFraction=c.roundToDivide=
c.getVisibleElements=c.parseQueryString=c.noContextMenuHandler=c.getPDFFileNameFromURL=c.ProgressBar=c.EventBus=c.NullL10n=c.mozL10n=c.RendererType=c.PresentationModeState=c.cloneObj=c.isFileSchema=c.isValidRotation=c.VERTICAL_PADDING=c.SCROLLBAR_PADDING=c.MAX_AUTO_SCALE=c.UNKNOWN_SCALE=c.MAX_SCALE=c.MIN_SCALE=c.DEFAULT_SCALE=c.DEFAULT_SCALE_VALUE=c.CSS_UNITS=void 0;var i=function(){function a(h,b){for(var q=0;q<b.length;q++){var e=b[q];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&
(e.writable=!0);Object.defineProperty(h,e.key,e)}}return function(h,b,e){b&&a(h.prototype,b);e&&a(h,e);return h}}(),k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=g(0),m=96/72;f.PDFJS.disableFullscreen=void 0===f.PDFJS.disableFullscreen?!1:f.PDFJS.disableFullscreen;f.PDFJS.useOnlyCssZoom=void 0===f.PDFJS.useOnlyCssZoom?!1:f.PDFJS.useOnlyCssZoom;
f.PDFJS.maxCanvasPixels=void 0===f.PDFJS.maxCanvasPixels?16777216:f.PDFJS.maxCanvasPixels;f.PDFJS.disableHistory=void 0===f.PDFJS.disableHistory?!1:f.PDFJS.disableHistory;f.PDFJS.disableTextLayer=void 0===f.PDFJS.disableTextLayer?!1:f.PDFJS.disableTextLayer;f.PDFJS.locale=void 0===f.PDFJS.locale&&"undefined"!==typeof navigator?navigator.language:f.PDFJS.locale;var b={EVENT:"event",TIMEOUT:"timeout"},g=new Promise(function(a){window.requestAnimationFrame(a)}),e=Promise.resolve(),a=function(){function a(){l(this,
a);this._listeners=Object.create(null)}i(a,[{key:"on",value:function(a,b){var e=this._listeners[a];e||(e=[],this._listeners[a]=e);e.push(b)}},{key:"off",value:function(a,b){var e=this._listeners[a],q=void 0;e&&!(0>(q=e.indexOf(b)))&&e.splice(q,1)}},{key:"dispatch",value:function(a){var b=this._listeners[a];if(b&&0!==b.length){var e=Array.prototype.slice.call(arguments,1);b.slice(0).forEach(function(a){a.apply(null,e)})}}}]);return a}(),d=function(){function a(h){var b=1<arguments.length&&void 0!==
arguments[1]?arguments[1]:{},e=b.height,d=b.width,b=b.units;l(this,a);this.visible=!0;this.div=document.querySelector(h+" .progress");this.bar=this.div.parentNode;this.height=e||100;this.width=d||100;this.units=b||"%";this.div.style.height=this.height+this.units;this.percent=0}i(a,[{key:"_updateBar",value:function(){this._indeterminate?(this.div.classList.add("indeterminate"),this.div.style.width=this.width+this.units):(this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/
100+this.units)}},{key:"setWidth",value:function(a){a&&(a=a.parentNode.offsetWidth-a.offsetWidth,0<a&&this.bar.setAttribute("style","width: calc(100% - "+a+"px);"))}},{key:"hide",value:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))}},{key:"show",value:function(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),this.bar.classList.remove("hidden"))}},{key:"percent",get:function(){return this._percent},
set:function(a){this._indeterminate=isNaN(a);this._percent=Math.min(Math.max(a,0),100);this._updateBar()}}]);return a}();c.CSS_UNITS=m;c.DEFAULT_SCALE_VALUE="auto";c.DEFAULT_SCALE=1;c.MIN_SCALE=0.1;c.MAX_SCALE=10;c.UNKNOWN_SCALE=0;c.MAX_AUTO_SCALE=1.25;c.SCROLLBAR_PADDING=40;c.VERTICAL_PADDING=5;c.isValidRotation=function(a){return Number.isInteger(a)&&0===a%90};c.isFileSchema=function(a){for(var b=0,e=a.length;b<e&&""===a[b].trim();)b++;return"file://"===a.substr(b,7).toLowerCase()};c.cloneObj=function(a){var b=
Object.create(null),e;for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&(b[e]=a[e]);return b};c.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};c.RendererType={CANVAS:"canvas",SVG:"svg"};c.mozL10n=void 0;c.NullL10n={getDirection:function(){return Promise.resolve("ltr")},get:function(a,b,e){return Promise.resolve(j(e,b))},translate:function(){return Promise.resolve()}};c.EventBus=a;c.ProgressBar=d;c.getPDFFileNameFromURL=function(a){for(var b=1<arguments.length&&void 0!==arguments[1]?
arguments[1]:"document.pdf",e=0,d=a.length;e<d&&""===a[e].trim();)e++;if("data:"===a.substr(e,5).toLowerCase())return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),b;e=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i;d=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(a);if(d=e.exec(d[1])||e.exec(d[2])||e.exec(d[3]))if(d=d[0],-1!==d.indexOf("%"))try{d=e.exec(decodeURIComponent(d))[0]}catch(f){}return d||b};c.noContextMenuHandler=function(a){a.preventDefault()};c.parseQueryString=
function(a){for(var a=a.split("&"),b=Object.create(null),e=0,d=a.length;e<d;++e){var f=a[e].split("="),o=f[0].toLowerCase(),f=1<f.length?f[1]:null;b[decodeURIComponent(o)]=decodeURIComponent(f)}return b};c.getVisibleElements=function(a,b){function e(a){a=a.div;return a.offsetTop+a.clientTop+a.clientHeight>f}for(var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,f=a.scrollTop,o=f+a.clientHeight,c=a.scrollLeft,k=c+a.clientWidth,i=[],s=void 0,g=void 0,j=void 0,l=void 0,m=l=g=void 0,g=void 0,
u=0===b.length?0:n(b,e),x=b.length;u<x;u++){s=b[u];g=s.div;j=g.offsetTop+g.clientTop;l=g.clientHeight;if(j>o)break;m=g.offsetLeft+g.clientLeft;g=g.clientWidth;m+g<c||m>k||(g=Math.max(0,f-j)+Math.max(0,j+l-o),l=100*(l-g)/l|0,i.push({id:s.id,x:m,y:j,view:s,percent:l}))}o=i[0];c=i[i.length-1];d&&i.sort(function(a,b){var e=a.percent-b.percent;return 0.001<Math.abs(e)?-e:a.id-b.id});return{first:o,last:c,views:i}};c.roundToDivide=function(a,b){var e=a%b;return 0===e?a:Math.round(a-e+b)};c.approximateFraction=
function(a){if(Math.floor(a)===a)return[a,1];var b=1/a;if(8<b)return[1,8];if(Math.floor(b)===b)return[1,b];for(var b=1<a?b:a,e=0,d=1,f=1,o=1;;){var c=e+f,i=d+o;if(8<i)break;b<=c/i?(f=c,o=i):(e=c,d=i)}c=void 0;return c=b-e/d<f/o-b?b===a?[e,d]:[d,e]:b===a?[f,o]:[o,f]};c.getOutputScale=function(a){a=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1);return{sx:a,sy:a,scaled:1!==
a}};c.scrollIntoView=function(a,b){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,d=a.offsetParent;if(d){for(var f=a.offsetTop+a.clientTop,o=a.offsetLeft+a.clientLeft;d.clientHeight===d.scrollHeight||e&&"hidden"===getComputedStyle(d).overflow;)if(d.dataset._scaleY&&(f/=d.dataset._scaleY,o/=d.dataset._scaleX),f+=d.offsetTop,o+=d.offsetLeft,d=d.offsetParent,!d)return;b&&(void 0!==b.top&&(f+=b.top),void 0!==b.left&&(o+=b.left,d.scrollLeft=o));d.scrollTop=f}else console.error("offsetParent is not set -- cannot scroll")};
c.watchScroll=function(a,b){var e=function(){f||(f=window.requestAnimationFrame(function(){f=null;var e=a.scrollTop,r=d.lastY;e!==r&&(d.down=e>r);d.lastY=e;b(d)}))},d={down:!0,lastY:a.scrollTop,_eventHandler:e},f=null;a.addEventListener("scroll",e,!0);return d};c.binarySearchFirstItem=n;c.normalizeWheelEventDelta=function(a){var b=Math.sqrt(a.deltaX*a.deltaX+a.deltaY*a.deltaY),e=Math.atan2(a.deltaY,a.deltaX);-0.25*Math.PI<e&&e<0.75*Math.PI&&(b=-b);0===a.deltaMode?b/=900:1===a.deltaMode&&(b/=30);return b};
c.animationStarted=g;c.localized=e;c.WaitOnType=b;c.waitOnEventOrTimeout=function(e){function d(b){r instanceof a?r.off(p,o):r.removeEventListener(p,o);g&&clearTimeout(g);c.resolve(b)}var r=e.target,p=e.name,e=e.delay,e=void 0===e?0:e;if("object"!==("undefined"===typeof r?"undefined":k(r))||!(p&&"string"===typeof p)||!(Number.isInteger(e)&&0<=e))return Promise.reject(Error("waitOnEventOrTimeout - invalid paramaters."));var c=(0,f.createPromiseCapability)(),o=d.bind(null,b.EVENT);if(r instanceof a)r.on(p,
o);else r.addEventListener(p,o);var i=d.bind(null,b.TIMEOUT),g=setTimeout(i,e);return c.promise}},function(m,c,g){function l(c){c.on("documentload",function(){var c=document.createEvent("CustomEvent");c.initCustomEvent("documentload",!0,!0,{});window.dispatchEvent(c)});c.on("pagerendered",function(c){var f=document.createEvent("CustomEvent");f.initCustomEvent("pagerendered",!0,!0,{pageNumber:c.pageNumber,cssTransform:c.cssTransform});c.source.div.dispatchEvent(f)});c.on("textlayerrendered",function(c){var f=
document.createEvent("CustomEvent");f.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:c.pageNumber});c.source.textLayerDiv.dispatchEvent(f)});c.on("pagechange",function(c){var f=document.createEvent("UIEvents");f.initUIEvent("pagechange",!0,!0,window,0);f.pageNumber=c.pageNumber;c.source.container.dispatchEvent(f)});c.on("pagesinit",function(c){var f=document.createEvent("CustomEvent");f.initCustomEvent("pagesinit",!0,!0,null);c.source.container.dispatchEvent(f)});c.on("pagesloaded",function(c){var f=
document.createEvent("CustomEvent");f.initCustomEvent("pagesloaded",!0,!0,{pagesCount:c.pagesCount});c.source.container.dispatchEvent(f)});c.on("scalechange",function(c){var f=document.createEvent("UIEvents");f.initUIEvent("scalechange",!0,!0,window,0);f.scale=c.scale;f.presetValue=c.presetValue;c.source.container.dispatchEvent(f)});c.on("updateviewarea",function(c){var f=document.createEvent("UIEvents");f.initUIEvent("updateviewarea",!0,!0,window,0);f.location=c.location;c.source.container.dispatchEvent(f)});
c.on("find",function(c){if(c.source!==window){var f=document.createEvent("CustomEvent");f.initCustomEvent("find"+c.type,!0,!0,{query:c.query,phraseSearch:c.phraseSearch,caseSensitive:c.caseSensitive,highlightAll:c.highlightAll,findPrevious:c.findPrevious});window.dispatchEvent(f)}});c.on("attachmentsloaded",function(c){var f=document.createEvent("CustomEvent");f.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:c.attachmentsCount});c.source.container.dispatchEvent(f)});c.on("sidebarviewchanged",
function(c){var f=document.createEvent("CustomEvent");f.initCustomEvent("sidebarviewchanged",!0,!0,{view:c.view});c.source.outerContainer.dispatchEvent(f)});c.on("pagemode",function(c){var f=document.createEvent("CustomEvent");f.initCustomEvent("pagemode",!0,!0,{mode:c.mode});c.source.pdfViewer.container.dispatchEvent(f)});c.on("namedaction",function(c){var f=document.createEvent("CustomEvent");f.initCustomEvent("namedaction",!0,!0,{action:c.action});c.source.pdfViewer.container.dispatchEvent(f)});
c.on("presentationmodechanged",function(c){var f=document.createEvent("CustomEvent");f.initCustomEvent("presentationmodechanged",!0,!0,{active:c.active,switchInProgress:c.switchInProgress});window.dispatchEvent(f)});c.on("outlineloaded",function(c){var f=document.createEvent("CustomEvent");f.initCustomEvent("outlineloaded",!0,!0,{outlineCount:c.outlineCount});c.source.container.dispatchEvent(f)})}Object.defineProperty(c,"__esModule",{value:!0});c.getGlobalEventBus=c.attachDOMEventsToEventBus=void 0;
var j=g(1),n=null;c.attachDOMEventsToEventBus=l;c.getGlobalEventBus=function(){if(n)return n;n=new j.EventBus;l(n);return n}},function(m,c,g){function l(b,e){if(!(b instanceof e))throw new TypeError("Cannot call a class as a function");}function j(b){if(!(b instanceof Array))return!1;var e=b.length,a=!0;if(2>e)return!1;var d=b[0];if(!("object"===("undefined"===typeof d?"undefined":n(d))&&Number.isInteger(d.num)&&Number.isInteger(d.gen))&&!(Number.isInteger(d)&&0<=d))return!1;d=b[1];if(!("object"===
("undefined"===typeof d?"undefined":n(d))&&"string"===typeof d.name))return!1;switch(d.name){case "XYZ":if(5!==e)return!1;break;case "Fit":case "FitB":return 2===e;case "FitH":case "FitBH":case "FitV":case "FitBV":if(3!==e)return!1;break;case "FitR":if(6!==e)return!1;a=!1;break;default:return!1}for(d=2;d<e;d++){var c=b[d];if(!("number"===typeof c||a&&null===c))return!1}return!0}Object.defineProperty(c,"__esModule",{value:!0});c.SimpleLinkService=c.PDFLinkService=void 0;var n="function"===typeof Symbol&&
"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},i=function(){function b(b,a){for(var d=0;d<a.length;d++){var c=a[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(e,a,d){a&&b(e.prototype,a);d&&b(e,d);return e}}(),k=g(2),f=g(1),m=function(){function b(){var e=(0<arguments.length&&void 0!==arguments[0]?
arguments[0]:{}).eventBus;l(this,b);this.eventBus=e||(0,k.getGlobalEventBus)();this._pagesRefCache=this.pdfHistory=this.pdfViewer=this.pdfDocument=this.baseUrl=null}i(b,[{key:"setDocument",value:function(b,a){this.baseUrl=a;this.pdfDocument=b;this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function(b){this.pdfViewer=b}},{key:"setHistory",value:function(b){this.pdfHistory=b}},{key:"navigateTo",value:function(b){var a=this,d=function h(d){var c=d.namedDest,f=d.explicitDest,o=f[0],d=
void 0;if(o instanceof Object){if(d=a._cachedPageNumber(o),null===d){a.pdfDocument.getPageIndex(o).then(function(b){a.cachePageRef(b+1,o);h({namedDest:c,explicitDest:f})}).catch(function(){console.error('PDFLinkService.navigateTo: "'+o+'" is not '+('a valid page reference, for dest="'+b+'".'))});return}}else if(Number.isInteger(o))d=o+1;else{console.error('PDFLinkService.navigateTo: "'+o+'" is not '+('a valid destination reference, for dest="'+b+'".'));return}!d||1>d||d>a.pagesCount?console.error('PDFLinkService.navigateTo: "'+
d+'" is not '+('a valid page number, for dest="'+b+'".')):(a.pdfHistory&&(a.pdfHistory.pushCurrentPosition(),a.pdfHistory.push({namedDest:c,explicitDest:f,pageNumber:d})),a.pdfViewer.scrollPageIntoView({pageNumber:d,destArray:f}))};(new Promise(function(d){"string"===typeof b?a.pdfDocument.getDestination(b).then(function(a){d({namedDest:b,explicitDest:a})}):d({namedDest:"",explicitDest:b})})).then(function(a){a.explicitDest instanceof Array?d(a):console.error('PDFLinkService.navigateTo: "'+a.explicitDest+
'" is'+(' not a valid destination array, for dest="'+b+'".'))})}},{key:"getDestinationHash",value:function(b){return"string"===typeof b?this.getAnchorUrl("#"+escape(b)):b instanceof Array?(b=JSON.stringify(b),this.getAnchorUrl("#"+escape(b))):this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function(b){return(this.baseUrl||"")+b}},{key:"setHash",value:function(b){var a=void 0,d=void 0;if(0<=b.indexOf("="))if(b=(0,f.parseQueryString)(b),"search"in b&&this.eventBus.dispatch("findfromurlhash",{source:this,
query:b.search.replace(/"/g,""),phraseSearch:"true"===b.phrase}),"nameddest"in b)this.navigateTo(b.nameddest);else{"page"in b&&(a=b.page|0||1);if("zoom"in b){var c=b.zoom.split(","),h=c[0],r=parseFloat(h);-1===h.indexOf("Fit")?d=[null,{name:"XYZ"},1<c.length?c[1]|0:null,2<c.length?c[2]|0:null,r?r/100:h]:"Fit"===h||"FitB"===h?d=[null,{name:h}]:"FitH"===h||"FitBH"===h||"FitV"===h||"FitBV"===h?d=[null,{name:h},1<c.length?c[1]|0:null]:"FitR"===h?5!==c.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):
d=[null,{name:h},c[1]|0,c[2]|0,c[3]|0,c[4]|0]:console.error('PDFLinkService.setHash: "'+h+'" is not a valid zoom value.')}d?this.pdfViewer.scrollPageIntoView({pageNumber:a||this.page,destArray:d,allowNegativeOffset:!0}):a&&(this.page=a);"pagemode"in b&&this.eventBus.dispatch("pagemode",{source:this,mode:b.pagemode})}else{d=unescape(b);try{d=JSON.parse(d),d instanceof Array||(d=d.toString())}catch(p){}"string"===typeof d||j(d)?this.navigateTo(d):console.error('PDFLinkService.setHash: "'+unescape(b)+
'" is not a valid destination.')}}},{key:"executeNamedAction",value:function(b){switch(b){case "GoBack":this.pdfHistory&&this.pdfHistory.back();break;case "GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case "NextPage":this.page<this.pagesCount&&this.page++;break;case "PrevPage":1<this.page&&this.page--;break;case "LastPage":this.page=this.pagesCount;break;case "FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:b})}},{key:"onFileAttachmentAnnotation",value:function(b){this.eventBus.dispatch("fileattachmentannotation",
{source:this,id:b.id,filename:b.filename,content:b.content})}},{key:"cachePageRef",value:function(b,a){this._pagesRefCache[a.num+" "+a.gen+" R"]=b}},{key:"_cachedPageNumber",value:function(b){b=b.num+" "+b.gen+" R";return this._pagesRefCache&&this._pagesRefCache[b]||null}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(b){this.pdfViewer.currentPageNumber=b}},{key:"rotation",get:function(){return this.pdfViewer.pagesRotation},
set:function(b){this.pdfViewer.pagesRotation=b}}]);return b}(),g=function(){function b(){l(this,b)}i(b,[{key:"navigateTo",value:function(){}},{key:"getDestinationHash",value:function(){return"#"}},{key:"getAnchorUrl",value:function(){return"#"}},{key:"setHash",value:function(){}},{key:"executeNamedAction",value:function(){}},{key:"onFileAttachmentAnnotation",value:function(){}},{key:"cachePageRef",value:function(){}},{key:"page",get:function(){return 0},set:function(){}},{key:"rotation",get:function(){return 0},
set:function(){}}]);return b}();c.PDFLinkService=m;c.SimpleLinkService=g},function(m,c,g){function l(b,e){if(!(b instanceof e))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(c,"__esModule",{value:!0});c.DefaultAnnotationLayerFactory=c.AnnotationLayerBuilder=void 0;var j=function(){function b(b,a){for(var d=0;d<a.length;d++){var c=a[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(e,a,
d){a&&b(e.prototype,a);d&&b(e,d);return e}}(),n=g(0),i=g(1),k=g(3),f=function(){function b(e){var a=e.pageDiv,d=e.pdfPage,c=e.linkService,h=e.downloadManager,f=e.renderInteractiveForms,f=void 0===f?!1:f,e=e.l10n,e=void 0===e?i.NullL10n:e;l(this,b);this.pageDiv=a;this.pdfPage=d;this.linkService=c;this.downloadManager=h;this.renderInteractiveForms=f;this.l10n=e;this.div=null;this._cancelled=!1}j(b,[{key:"render",value:function(b){var a=this;this.pdfPage.getAnnotations({intent:1<arguments.length&&void 0!==
arguments[1]?arguments[1]:"display"}).then(function(d){if(!a._cancelled){var c={viewport:b.clone({dontFlip:!0}),div:a.div,annotations:d,page:a.pdfPage,renderInteractiveForms:a.renderInteractiveForms,linkService:a.linkService,downloadManager:a.downloadManager};a.div?n.AnnotationLayer.update(c):0!==d.length&&(a.div=document.createElement("div"),a.div.className="annotationLayer",a.pageDiv.appendChild(a.div),c.div=a.div,n.AnnotationLayer.render(c),a.l10n.translate(a.div))}})}},{key:"cancel",value:function(){this._cancelled=
!0}},{key:"hide",value:function(){this.div&&this.div.setAttribute("hidden","true")}}]);return b}(),m=function(){function b(){l(this,b)}j(b,[{key:"createAnnotationLayerBuilder",value:function(b,a){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:i.NullL10n;return new f({pageDiv:b,pdfPage:a,renderInteractiveForms:2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,linkService:new k.SimpleLinkService,l10n:d})}}]);return b}();c.AnnotationLayerBuilder=f;c.DefaultAnnotationLayerFactory=
m},function(m,c,g){function l(c,b){if(!(c instanceof b))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(c,"__esModule",{value:!0});c.DefaultTextLayerFactory=c.TextLayerBuilder=void 0;var j=function(){function c(b,e){for(var a=0;a<e.length;a++){var d=e[a];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,e,a){e&&c(b.prototype,e);a&&c(b,a);return b}}(),n=g(2),i=g(0),k=function(){function c(b){var e=
b.textLayerDiv,a=b.eventBus,d=b.pageIndex,q=b.viewport,h=b.findController,h=void 0===h?null:h,b=b.enhanceTextSelection,b=void 0===b?!1:b;l(this,c);this.textLayerDiv=e;this.eventBus=a||(0,n.getGlobalEventBus)();this.textContent=null;this.textContentItemsStr=[];this.textContentStream=null;this.renderingDone=!1;this.pageIdx=d;this.pageNumber=this.pageIdx+1;this.matches=[];this.viewport=q;this.textDivs=[];this.findController=h;this.textLayerRenderTask=null;this.enhanceTextSelection=b;this._bindMouse()}
j(c,[{key:"_finishRendering",value:function(){this.renderingDone=!0;if(!this.enhanceTextSelection){var b=document.createElement("div");b.className="endOfContent";this.textLayerDiv.appendChild(b)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}},{key:"render",value:function(){var b=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if(!(!this.textContent&&!this.textContentStream||this.renderingDone)){this.cancel();this.textDivs=
[];var a=document.createDocumentFragment();this.textLayerRenderTask=(0,i.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:a,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:e,enhanceTextSelection:this.enhanceTextSelection});this.textLayerRenderTask.promise.then(function(){b.textLayerDiv.appendChild(a);b._finishRendering();b.updateMatches()},function(){})}}},{key:"cancel",value:function(){this.textLayerRenderTask&&
(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null)}},{key:"setTextContentStream",value:function(b){this.cancel();this.textContentStream=b}},{key:"setTextContent",value:function(b){this.cancel();this.textContent=b}},{key:"convertMatches",value:function(b,e){var a=0,d=0,c=this.textContentItemsStr,h=c.length-1,f=null===this.findController?0:this.findController.state.query.length,p=[];if(!b)return p;for(var i=0,o=b.length;i<o;i++){for(var t=b[i];a!==h&&t>=d+c[a].length;)d+=c[a].length,
a++;a===c.length&&console.error("Could not find a matching mapping");for(var g={begin:{divIdx:a,offset:t-d}},t=e?t+e[i]:t+f;a!==h&&t>d+c[a].length;)d+=c[a].length,a++;g.end={divIdx:a,offset:t-d};p.push(g)}return p}},{key:"renderMatches",value:function(b){function e(b,d){var e=b.divIdx;c[e].textContent="";a(e,0,b.offset,d)}function a(a,b,e,h){var f=c[a],a=d[a].substring(b,e),a=document.createTextNode(a);h?(b=document.createElement("span"),b.className=h,b.appendChild(a),f.appendChild(b)):f.appendChild(a)}
if(0!==b.length){var d=this.textContentItemsStr,c=this.textDivs,h=null,f=this.pageIdx,p=null===this.findController?!1:f===this.findController.selected.pageIdx,i=null===this.findController?-1:this.findController.selected.matchIdx,o=i,t=o+1;if(null===this.findController?0:this.findController.state.highlightAll)o=0,t=b.length;else if(!p)return;for(;o<t;o++){var g=b[o],k=g.begin,g=g.end,s=p&&o===i?" selected":"";this.findController&&this.findController.updateMatchPosition(f,o,c,k.divIdx);!h||k.divIdx!==
h.divIdx?(null!==h&&a(h.divIdx,h.offset,void 0),e(k)):a(h.divIdx,h.offset,k.offset);if(k.divIdx===g.divIdx)a(k.divIdx,k.offset,g.offset,"highlight"+s);else{a(k.divIdx,k.offset,void 0,"highlight begin"+s);h=k.divIdx+1;for(k=g.divIdx;h<k;h++)c[h].className="highlight middle"+s;e(g,"highlight end"+s)}h=g}h&&a(h.divIdx,h.offset,void 0)}}},{key:"updateMatches",value:function(){if(this.renderingDone){for(var b=this.matches,e=this.textDivs,a=this.textContentItemsStr,d=-1,c=0,h=b.length;c<h;c++){for(var f=
b[c],d=Math.max(d,f.begin.divIdx),p=f.end.divIdx;d<=p;d++){var i=e[d];i.textContent=a[d];i.className=""}d=f.end.divIdx+1}null!==this.findController&&this.findController.active&&(e=b=void 0,null!==this.findController&&(b=this.findController.pageMatches[this.pageIdx]||null,e=this.findController.pageMatchesLength?this.findController.pageMatchesLength[this.pageIdx]||null:null),this.matches=this.convertMatches(b,e),this.renderMatches(this.matches))}}},{key:"_bindMouse",value:function(){var b=this,e=this.textLayerDiv,
a=null;e.addEventListener("mousedown",function(d){if(b.enhanceTextSelection&&b.textLayerRenderTask)b.textLayerRenderTask.expandTextDivs(!0),a&&(clearTimeout(a),a=null);else{var c=e.querySelector(".endOfContent");if(c){var h=d.target!==e;if(h=h&&"none"!==window.getComputedStyle(c).getPropertyValue("-moz-user-select"))h=e.getBoundingClientRect(),d=Math.max(0,(d.pageY-h.top)/h.height),c.style.top=(100*d).toFixed(2)+"%";c.classList.add("active")}}});e.addEventListener("mouseup",function(){if(b.enhanceTextSelection&&
b.textLayerRenderTask)a=setTimeout(function(){b.textLayerRenderTask&&b.textLayerRenderTask.expandTextDivs(!1);a=null},300);else{var d=e.querySelector(".endOfContent");d&&(d.style.top="",d.classList.remove("active"))}})}}]);return c}(),m=function(){function c(){l(this,c)}j(c,[{key:"createTextLayerBuilder",value:function(b,e,a){return new k({textLayerDiv:b,pageIndex:e,viewport:a,enhanceTextSelection:3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1})}}]);return c}();c.TextLayerBuilder=k;c.DefaultTextLayerFactory=
m},function(m,c,g){Object.defineProperty(c,"__esModule",{value:!0});c.PDFPageView=void 0;var l=function(){function c(b,e){for(var a=0;a<e.length;a++){var d=e[a];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,e,a){e&&c(b.prototype,e);a&&c(b,a);return b}}(),j=g(1),n=g(0),i=g(2),k=g(7),m=function(){function c(b){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var e=b.container,a=b.defaultViewport;
this.id=b.id;this.renderingId="page"+this.id;this.pageLabel=this.pdfPage=null;this.rotation=0;this.scale=b.scale||j.DEFAULT_SCALE;this.viewport=a;this.pdfPageRotate=a.rotation;this.hasRestrictedScaling=!1;this.enhanceTextSelection=b.enhanceTextSelection||!1;this.renderInteractiveForms=b.renderInteractiveForms||!1;this.eventBus=b.eventBus||(0,i.getGlobalEventBus)();this.renderingQueue=b.renderingQueue;this.textLayerFactory=b.textLayerFactory;this.annotationLayerFactory=b.annotationLayerFactory;this.renderer=
b.renderer||j.RendererType.CANVAS;this.l10n=b.l10n||j.NullL10n;this.paintTask=null;this.paintedViewportMap=new WeakMap;this.renderingState=k.RenderingStates.INITIAL;this.zoomLayer=this.textLayer=this.annotationLayer=this.onAfterDraw=this.onBeforeDraw=this.error=this.resume=null;b=document.createElement("div");b.className="page";b.style.width=Math.floor(this.viewport.width)+"px";b.style.height=Math.floor(this.viewport.height)+"px";b.setAttribute("data-page-number",this.id);this.div=b;e.appendChild(b)}
l(c,[{key:"setPdfPage",value:function(b){this.pdfPage=b;this.pdfPageRotate=b.rotate;this.viewport=b.getViewport(this.scale*j.CSS_UNITS,(this.rotation+this.pdfPageRotate)%360);this.stats=b.stats;this.reset()}},{key:"destroy",value:function(){this.reset();this.pdfPage&&this.pdfPage.cleanup()}},{key:"_resetZoomLayer",value:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;if(this.zoomLayer){var e=this.zoomLayer.firstChild;this.paintedViewportMap.delete(e);e.width=0;e.height=
0;b&&this.zoomLayer.remove();this.zoomLayer=null}}},{key:"reset",value:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;this.cancelRendering(e);var a=this.div;a.style.width=Math.floor(this.viewport.width)+"px";a.style.height=Math.floor(this.viewport.height)+"px";for(var d=a.childNodes,b=b&&this.zoomLayer||null,e=e&&this.annotationLayer&&this.annotationLayer.div||null,c=d.length-1;0<=c;c--){var h=d[c];b===h||e===
h||a.removeChild(h)}a.removeAttribute("data-loaded");e?this.annotationLayer.hide():this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null);b||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer());this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg);this.loadingIconDiv=document.createElement("div");this.loadingIconDiv.className="loadingIcon";a.appendChild(this.loadingIconDiv)}},
{key:"update",value:function(b,e){this.scale=b||this.scale;"undefined"!==typeof e&&(this.rotation=e);this.viewport=this.viewport.clone({scale:this.scale*j.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360});if(this.svg)this.cssTransform(this.svg,!0),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});else{var a=!1;if(this.canvas&&0<n.PDFJS.maxCanvasPixels){var d=this.outputScale;(Math.floor(this.viewport.width)*d.sx|0)*(Math.floor(this.viewport.height)*
d.sy|0)>n.PDFJS.maxCanvasPixels&&(a=!0)}if(this.canvas){if(n.PDFJS.useOnlyCssZoom||this.hasRestrictedScaling&&a){this.cssTransform(this.canvas,!0);this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});return}!this.zoomLayer&&!this.canvas.hasAttribute("hidden")&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild);this.reset(!0,!0)}}},{key:"cancelRendering",value:function(){var b=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;this.paintTask&&(this.paintTask.cancel(),this.paintTask=null);this.renderingState=k.RenderingStates.INITIAL;this.resume=null;this.textLayer&&(this.textLayer.cancel(),this.textLayer=null);!b&&this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null)}},{key:"cssTransform",value:function(b){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,a=this.viewport.width,d=this.viewport.height,c=this.div;b.style.width=
b.parentNode.style.width=c.style.width=Math.floor(a)+"px";b.style.height=b.parentNode.style.height=c.style.height=Math.floor(d)+"px";var c=this.viewport.rotation-this.paintedViewportMap.get(b).rotation,h=Math.abs(c),f=1,p=1;if(90===h||270===h)f=d/a,p=a/d;b.style.transform="rotate("+c+"deg) scale("+f+","+p+")";if(this.textLayer){h=this.textLayer.viewport;d=Math.abs(this.viewport.rotation-h.rotation);c=a/h.width;if(90===d||270===d)c=a/h.height;a=this.textLayer.textLayerDiv;f=h=void 0;switch(d){case 0:h=
f=0;break;case 90:h=0;f="-"+a.style.height;break;case 180:h="-"+a.style.width;f="-"+a.style.height;break;case 270:h="-"+a.style.width;f=0;break;default:console.error("Bad rotation value.")}a.style.transform="rotate("+d+"deg) scale("+c+", "+c+") translate("+h+", "+f+")";a.style.transformOrigin="0% 0%"}e&&this.annotationLayer&&this.annotationLayer.render(this.viewport,"display")}},{key:"getPagePoint",value:function(b,c){return this.viewport.convertToPdfPoint(b,c)}},{key:"draw",value:function(){var b=
this;this.renderingState!==k.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());if(!this.pdfPage)return this.renderingState=k.RenderingStates.FINISHED,Promise.reject(Error("Page is not loaded"));this.renderingState=k.RenderingStates.RUNNING;var c=this.pdfPage,a=this.div,d=document.createElement("div");d.style.width=a.style.width;d.style.height=a.style.height;d.classList.add("canvasWrapper");this.annotationLayer&&this.annotationLayer.div?a.insertBefore(d,this.annotationLayer.div):
a.appendChild(d);var f=null;if(this.textLayerFactory){var h=document.createElement("div");h.className="textLayer";h.style.width=d.style.width;h.style.height=d.style.height;this.annotationLayer&&this.annotationLayer.div?a.insertBefore(h,this.annotationLayer.div):a.appendChild(h);f=this.textLayerFactory.createTextLayerBuilder(h,this.id-1,this.viewport,this.enhanceTextSelection)}this.textLayer=f;h=null;this.renderingQueue&&(h=function(a){if(b.renderingQueue.isHighestPriority(b))a();else{b.renderingState=
k.RenderingStates.PAUSED;b.resume=function(){b.renderingState=k.RenderingStates.RUNNING;a()}}});var r=function(d){if(p===b.paintTask)b.paintTask=null;if(d instanceof n.RenderingCancelledException){b.error=null;return Promise.resolve(void 0)}b.renderingState=k.RenderingStates.FINISHED;if(b.loadingIconDiv){a.removeChild(b.loadingIconDiv);delete b.loadingIconDiv}b._resetZoomLayer(true);b.error=d;b.stats=c.stats;if(b.onAfterDraw)b.onAfterDraw();b.eventBus.dispatch("pagerendered",{source:b,pageNumber:b.id,
cssTransform:false});return d?Promise.reject(d):Promise.resolve(void 0)},p=this.renderer===j.RendererType.SVG?this.paintOnSvg(d):this.paintOnCanvas(d);p.onRenderContinue=h;this.paintTask=p;d=p.promise.then(function(){return r(null).then(function(){if(f){var a=c.streamTextContent({normalizeWhitespace:true});f.setTextContentStream(a);f.render()}})},function(a){return r(a)});this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(a,
c,this.renderInteractiveForms,this.l10n)),this.annotationLayer.render(this.viewport,"display"));a.setAttribute("data-loaded",!0);if(this.onBeforeDraw)this.onBeforeDraw();return d}},{key:"paintOnCanvas",value:function(b){var c=(0,n.createPromiseCapability)(),a={promise:c.promise,onRenderContinue:function(a){a()},cancel:function(){t.cancel()}},d=this.viewport,f=document.createElement("canvas");f.id=this.renderingId;f.setAttribute("hidden","hidden");var h=!0,r=function(){h&&(f.removeAttribute("hidden"),
h=!1)};b.appendChild(f);this.canvas=f;f.mozOpaque=!0;var b=f.getContext("2d",{alpha:!1}),p=(0,j.getOutputScale)(b);this.outputScale=p;if(n.PDFJS.useOnlyCssZoom){var i=d.clone({scale:j.CSS_UNITS});p.sx*=i.width/d.width;p.sy*=i.height/d.height;p.scaled=!0}0<n.PDFJS.maxCanvasPixels&&(i=Math.sqrt(n.PDFJS.maxCanvasPixels/(d.width*d.height)),p.sx>i||p.sy>i?(p.sx=i,p.sy=i,this.hasRestrictedScaling=p.scaled=!0):this.hasRestrictedScaling=!1);var i=(0,j.approximateFraction)(p.sx),o=(0,j.approximateFraction)(p.sy);
f.width=(0,j.roundToDivide)(d.width*p.sx,i[0]);f.height=(0,j.roundToDivide)(d.height*p.sy,o[0]);f.style.width=(0,j.roundToDivide)(d.width,i[1])+"px";f.style.height=(0,j.roundToDivide)(d.height,o[1])+"px";this.paintedViewportMap.set(f,d);var t=this.pdfPage.render({canvasContext:b,transform:!p.scaled?null:[p.sx,0,0,p.sy,0,0],viewport:this.viewport,renderInteractiveForms:this.renderInteractiveForms});t.onContinue=function(b){r();if(a.onRenderContinue)a.onRenderContinue(b);else b()};t.promise.then(function(){r();
c.resolve(void 0)},function(a){r();c.reject(a)});return a}},{key:"paintOnSvg",value:function(b){var c=this,a=!1,d=function(){if(a)throw new n.RenderingCancelledException("Rendering cancelled, page "+c.id,"svg");},f=this.pdfPage,h=this.viewport.clone({scale:j.CSS_UNITS});return{promise:f.getOperatorList().then(function(a){d();return(new n.SVGGraphics(f.commonObjs,f.objs)).getSVG(a,h).then(function(a){d();c.svg=a;c.paintedViewportMap.set(a,h);a.style.width=b.style.width;a.style.height=b.style.height;
c.renderingState=k.RenderingStates.FINISHED;b.appendChild(a)})}),onRenderContinue:function(a){a()},cancel:function(){a=!0}}}},{key:"setPageLabel",value:function(b){this.pageLabel="string"===typeof b?b:null;null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}},{key:"width",get:function(){return this.viewport.width}},{key:"height",get:function(){return this.viewport.height}}]);return c}();c.PDFPageView=m},function(m,c){Object.defineProperty(c,
"__esModule",{value:!0});var g=function(){function c(i,g){for(var f=0;f<g.length;f++){var b=g[f];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(i,b.key,b)}}return function(i,g,f){g&&c(i.prototype,g);f&&c(i,f);return i}}(),l={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},j=function(){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.idleTimeout=this.highestPriorityPage=this.onIdle=this.pdfThumbnailViewer=
this.pdfViewer=null;this.isThumbnailViewEnabled=this.printing=!1}g(c,[{key:"setViewer",value:function(c){this.pdfViewer=c}},{key:"setThumbnailViewer",value:function(c){this.pdfThumbnailViewer=c}},{key:"isHighestPriority",value:function(c){return this.highestPriorityPage===c.renderingId}},{key:"renderHighestPriority",value:function(c){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null);if(!this.pdfViewer.forceRendering(c)&&(!this.pdfThumbnailViewer||!this.isThumbnailViewEnabled||
!this.pdfThumbnailViewer.forceRendering())&&!this.printing&&this.onIdle)this.idleTimeout=setTimeout(this.onIdle.bind(this),3E4)}},{key:"getHighestPriority",value:function(c,g,f){var b=c.views,e=b.length;if(0===e)return!1;for(var a=0;a<e;++a){var d=b[a].view;if(!this.isViewFinished(d))return d}c=f?c.last.id:c.first.id-2;return g[c]&&!this.isViewFinished(g[c])?g[c]:null}},{key:"isViewFinished",value:function(c){return c.renderingState===l.FINISHED}},{key:"renderView",value:function(c){var g=this;switch(c.renderingState){case l.FINISHED:return!1;
case l.PAUSED:this.highestPriorityPage=c.renderingId;c.resume();break;case l.RUNNING:this.highestPriorityPage=c.renderingId;break;case l.INITIAL:this.highestPriorityPage=c.renderingId;var f=function(){g.renderHighestPriority()};c.draw().then(f,f)}return!0}}]);return c}();c.RenderingStates=l;c.PDFRenderingQueue=j},function(m,c,g){function l(a){var b=[];this.push=function(c){var d=b.indexOf(c);0<=d&&b.splice(d,1);b.push(c);b.length>a&&b.shift().destroy()};this.resize=function(c){for(a=c;b.length>a;)b.shift().destroy()}}
Object.defineProperty(c,"__esModule",{value:!0});c.BaseViewer=void 0;var j=function(){function a(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),n=g(0),i=g(1),k=g(7),f=g(4),b=g(2),e=g(6),a=g(3),d=g(5),m=function(){function c(d){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");if(this.constructor===
c)throw Error("Cannot initialize BaseViewer.");this._name=this.constructor.name;this.container=d.container;this.viewer=d.viewer||d.container.firstElementChild;this.eventBus=d.eventBus||(0,b.getGlobalEventBus)();this.linkService=d.linkService||new a.SimpleLinkService;this.downloadManager=d.downloadManager||null;this.removePageBorders=d.removePageBorders||!1;this.enhanceTextSelection=d.enhanceTextSelection||!1;this.renderInteractiveForms=d.renderInteractiveForms||!1;this.enablePrintAutoRotate=d.enablePrintAutoRotate||
!1;this.renderer=d.renderer||i.RendererType.CANVAS;this.l10n=d.l10n||i.NullL10n;(this.defaultRenderingQueue=!d.renderingQueue)?(this.renderingQueue=new k.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=d.renderingQueue;this.scroll=(0,i.watchScroll)(this.container,this._scrollUpdate.bind(this));this.presentationModeState=i.PresentationModeState.UNKNOWN;this._resetView();this.removePageBorders&&this.viewer.classList.add("removePageBorders")}j(c,[{key:"getPageView",value:function(a){return this._pages[a]}},
{key:"_setCurrentPageNumber",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;if(this._currentPageNumber===a)b&&this._resetCurrentPageView();else if(0<a&&a<=this.pagesCount){var c={source:this,pageNumber:a,pageLabel:this._pageLabels&&this._pageLabels[a-1]};this._currentPageNumber=a;this.eventBus.dispatch("pagechanging",c);this.eventBus.dispatch("pagechange",c);b&&this._resetCurrentPageView()}else console.error(this._name+'._setCurrentPageNumber: "'+a+'" is out of bounds.')}},
{key:"setDocument",value:function(a){var b=this;this.pdfDocument&&(this._cancelRendering(),this._resetView());if(this.pdfDocument=a){var c=a.numPages,d=(0,n.createPromiseCapability)();this.pagesPromise=d.promise;d.promise.then(function(){b._pageViewsReady=true;b.eventBus.dispatch("pagesloaded",{source:b,pagesCount:c})});var f=!1,t=(0,n.createPromiseCapability)();this.onePageRendered=t.promise;var g=function(a){a.onBeforeDraw=function(){b._buffer.push(a)};a.onAfterDraw=function(){if(!f){f=true;t.resolve()}}},
q=a.getPage(1);this.firstPagePromise=q;q.then(function(f){for(var o=b.currentScale,f=f.getViewport(o*i.CSS_UNITS),q=1;q<=c;++q){var k=null;n.PDFJS.disableTextLayer||(k=b);k=new e.PDFPageView({container:b._setDocumentViewerElement,eventBus:b.eventBus,id:q,scale:o,defaultViewport:f.clone(),renderingQueue:b.renderingQueue,textLayerFactory:k,annotationLayerFactory:b,enhanceTextSelection:b.enhanceTextSelection,renderInteractiveForms:b.renderInteractiveForms,renderer:b.renderer,l10n:b.l10n});g(k);b._pages.push(k)}t.promise.then(function(){if(n.PDFJS.disableAutoFetch)d.resolve();
else for(var e=c,f=function(c){a.getPage(c).then(function(a){var h=b._pages[c-1];h.pdfPage||h.setPdfPage(a);b.linkService.cachePageRef(c,a.ref);--e===0&&d.resolve()},function(a){console.error("Unable to get page "+c+" to initialize viewer",a);--e===0&&d.resolve()})},o=1;o<=c;++o)f(o)});b.eventBus.dispatch("pagesinit",{source:b});b.defaultRenderingQueue&&b.update();b.findController&&b.findController.resolveFirstPage()}).catch(function(a){console.error("Unable to initialize viewer",a)})}}},{key:"setPageLabels",
value:function(a){if(this.pdfDocument){a?a instanceof Array&&this.pdfDocument.numPages===a.length?this._pageLabels=a:(this._pageLabels=null,console.error(this._name+".setPageLabels: Invalid page labels.")):this._pageLabels=null;for(var a=0,b=this._pages.length;a<b;a++)this._pages[a].setPageLabel(this._pageLabels&&this._pageLabels[a])}}},{key:"_resetView",value:function(){this._pages=[];this._currentPageNumber=1;this._currentScale=i.UNKNOWN_SCALE;this._pageLabels=this._currentScaleValue=null;this._buffer=
new l(10);this._location=null;this._pagesRotation=0;this._pagesRequests=[];this._pageViewsReady=!1;this.viewer.textContent=""}},{key:"_scrollUpdate",value:function(){0!==this.pagesCount&&this.update()}},{key:"_scrollIntoView",value:function(){throw Error("Not implemented: _scrollIntoView");}},{key:"_setScaleDispatchEvent",value:function(a,b){var c={source:this,scale:a,presetValue:2<arguments.length&&void 0!==arguments[2]&&arguments[2]?b:void 0};this.eventBus.dispatch("scalechanging",c);this.eventBus.dispatch("scalechange",
c)}},{key:"_setScaleUpdatePages",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;this._currentScaleValue=b.toString();var e;e=this._currentScale;e=a===e?!0:1.0E-15>Math.abs(a-e)?!0:!1;if(e)d&&this._setScaleDispatchEvent(a,b,!0);else{e=0;for(var f=this._pages.length;e<f;e++)this._pages[e].update(a);this._currentScale=a;c||(c=this._currentPageNumber,e=void 0,this._location&&(!this.isInPresentationMode&&!this.isChangingPresentationMode)&&
(c=this._location.pageNumber,e=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:c,destArray:e,allowNegativeOffset:!0}));this._setScaleDispatchEvent(a,b,d);this.defaultRenderingQueue&&this.update()}}},{key:"_setScale",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,c=parseFloat(a);if(0<c)this._setScaleUpdatePages(c,a,b,!1);else if(c=this._pages[this._currentPageNumber-1]){var d=(this.container.clientWidth-(this.isInPresentationMode||
this.removePageBorders?0:i.SCROLLBAR_PADDING))/c.width*c.scale,e=(this.container.clientHeight-(this.isInPresentationMode||this.removePageBorders?0:i.VERTICAL_PADDING))/c.height*c.scale;switch(a){case "page-actual":c=1;break;case "page-width":c=d;break;case "page-height":c=e;break;case "page-fit":c=Math.min(d,e);break;case "auto":c=c.width>c.height?Math.min(e,d):d;c=Math.min(i.MAX_AUTO_SCALE,c);break;default:console.error(this._name+'._setScale: "'+a+'" is an unknown zoom value.');return}this._setScaleUpdatePages(c,
a,b,!0)}}},{key:"_resetCurrentPageView",value:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0);this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}},{key:"scrollPageIntoView",value:function(a){if(this.pdfDocument){var b=a.pageNumber||0,c=a.destArray||null,a=a.allowNegativeOffset||!1;if(this.isInPresentationMode||!c)this._setCurrentPageNumber(b,!0);else{var d=this._pages[b-1];if(d){var e=0,f=0,g=0,q=0,s=void 0,k=void 0,k=0===d.rotation%180?!1:
!0,s=(k?d.height:d.width)/d.scale/i.CSS_UNITS,k=(k?d.width:d.height)/d.scale/i.CSS_UNITS,j=0;switch(c[1].name){case "XYZ":e=c[2];f=c[3];j=c[4];e=null!==e?e:0;f=null!==f?f:k;break;case "Fit":case "FitB":j="page-fit";break;case "FitH":case "FitBH":f=c[2];j="page-width";null===f&&this._location&&(e=this._location.left,f=this._location.top);break;case "FitV":case "FitBV":e=c[2];g=s;q=k;j="page-height";break;case "FitR":e=c[2];f=c[3];g=c[4]-e;q=c[5]-f;k=this.removePageBorders?0:i.VERTICAL_PADDING;s=(this.container.clientWidth-
(this.removePageBorders?0:i.SCROLLBAR_PADDING))/g/i.CSS_UNITS;k=(this.container.clientHeight-k)/q/i.CSS_UNITS;j=Math.min(Math.abs(s),Math.abs(k));break;default:console.error(this._name+'.scrollPageIntoView: "'+c[1].name+'" is not a valid destination type.');return}j&&j!==this._currentScale?this.currentScaleValue=j:this._currentScale===i.UNKNOWN_SCALE&&(this.currentScaleValue=i.DEFAULT_SCALE_VALUE);"page-fit"===j&&!c[4]?this._scrollIntoView({pageDiv:d.div,pageNumber:b}):(e=[d.viewport.convertToViewportPoint(e,
f),d.viewport.convertToViewportPoint(e+g,f+q)],c=Math.min(e[0][0],e[1][0]),e=Math.min(e[0][1],e[1][1]),a||(c=Math.max(c,0),e=Math.max(e,0)),this._scrollIntoView({pageDiv:d.div,pageSpot:{left:c,top:e},pageNumber:b}))}else console.error(this._name+'.scrollPageIntoView: Invalid "pageNumber" parameter.')}}}},{key:"_resizeBuffer",value:function(a){this._buffer.resize(Math.max(10,2*a+1))}},{key:"_updateLocation",value:function(a){var b=this._currentScale,c=this._currentScaleValue,b=parseFloat(c)===b?Math.round(1E4*
b)/100:c,c=a.id,d;d="#page="+c+("&zoom="+b);var e=this.container,e=this._pages[c-1].getPagePoint(e.scrollLeft-a.x,e.scrollTop-a.y),a=Math.round(e[0]),e=Math.round(e[1]);this._location={pageNumber:c,scale:b,top:e,left:a,rotation:this._pagesRotation,pdfOpenParams:d+(","+a+","+e)}}},{key:"update",value:function(){throw Error("Not implemented: update");}},{key:"containsElement",value:function(a){return this.container.contains(a)}},{key:"focus",value:function(){this.container.focus()}},{key:"_getVisiblePages",
value:function(){throw Error("Not implemented: _getVisiblePages");}},{key:"cleanup",value:function(){for(var a=0,b=this._pages.length;a<b;a++)this._pages[a]&&this._pages[a].renderingState!==k.RenderingStates.FINISHED&&this._pages[a].reset()}},{key:"_cancelRendering",value:function(){for(var a=0,b=this._pages.length;a<b;a++)this._pages[a]&&this._pages[a].cancelRendering()}},{key:"_ensurePdfPageLoaded",value:function(a){var b=this;if(a.pdfPage)return Promise.resolve(a.pdfPage);var c=a.id;if(this._pagesRequests[c])return this._pagesRequests[c];
var d=this.pdfDocument.getPage(c).then(function(d){a.pdfPage||a.setPdfPage(d);b._pagesRequests[c]=null;return d}).catch(function(a){console.error("Unable to get page for page view",a);b._pagesRequests[c]=null});return this._pagesRequests[c]=d}},{key:"forceRendering",value:function(a){var b=this,c=this.renderingQueue.getHighestPriority(a||this._getVisiblePages(),this._pages,this.scroll.down);return c?(this._ensurePdfPageLoaded(c).then(function(){b.renderingQueue.renderView(c)}),!0):!1}},{key:"getPageTextContent",
value:function(a){return this.pdfDocument.getPage(a+1).then(function(a){return a.getTextContent({normalizeWhitespace:!0})})}},{key:"createTextLayerBuilder",value:function(a,b,c){var e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;return new d.TextLayerBuilder({textLayerDiv:a,eventBus:this.eventBus,pageIndex:b,viewport:c,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:this.isInPresentationMode?!1:e})}},{key:"createAnnotationLayerBuilder",value:function(a,
b){return new f.AnnotationLayerBuilder({pageDiv:a,pdfPage:b,renderInteractiveForms:2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,linkService:this.linkService,downloadManager:this.downloadManager,l10n:3<arguments.length&&void 0!==arguments[3]?arguments[3]:i.NullL10n})}},{key:"setFindController",value:function(a){this.findController=a}},{key:"getPagesOverview",value:function(){var a=this._pages.map(function(a){a=a.pdfPage.getViewport(1);return{width:a.width,height:a.height,rotation:a.rotation}});
if(!this.enablePrintAutoRotate)return a;var b=a[0].width<=a[0].height;return a.map(function(a){return b===a.width<=a.height?a:{width:a.height,height:a.width,rotation:(a.rotation+90)%360}})}},{key:"pagesCount",get:function(){return this._pages.length}},{key:"pageViewsReady",get:function(){return this._pageViewsReady}},{key:"currentPageNumber",get:function(){return this._currentPageNumber},set:function(a){if(!Number.isInteger(a))throw Error("Invalid page number.");this.pdfDocument&&this._setCurrentPageNumber(a,
!0)}},{key:"currentPageLabel",get:function(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]},set:function(a){var b=a|0;this._pageLabels&&(a=this._pageLabels.indexOf(a),0<=a&&(b=a+1));this.currentPageNumber=b}},{key:"currentScale",get:function(){return this._currentScale!==i.UNKNOWN_SCALE?this._currentScale:i.DEFAULT_SCALE},set:function(a){if(isNaN(a))throw Error("Invalid numeric scale");this.pdfDocument&&this._setScale(a,!1)}},{key:"currentScaleValue",get:function(){return this._currentScaleValue},
set:function(a){this.pdfDocument&&this._setScale(a,!1)}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(a){if(!(0,i.isValidRotation)(a))throw Error("Invalid pages rotation angle.");if(this.pdfDocument&&this._pagesRotation!==a){this._pagesRotation=a;for(var b=this._currentPageNumber,c=0,d=this._pages.length;c<d;c++){var e=this._pages[c];e.update(e.scale,a)}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0);this.eventBus.dispatch("rotationchanging",{source:this,
pagesRotation:a,pageNumber:b});this.defaultRenderingQueue&&this.update()}}},{key:"_setDocumentViewerElement",get:function(){throw Error("Not implemented: _setDocumentViewerElement");}},{key:"isInPresentationMode",get:function(){return this.presentationModeState===i.PresentationModeState.FULLSCREEN}},{key:"isChangingPresentationMode",get:function(){return this.presentationModeState===i.PresentationModeState.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function(){return this.isInPresentationMode?
!1:this.container.scrollWidth>this.container.clientWidth}},{key:"hasEqualPageSizes",get:function(){for(var a=this._pages[0],b=1,c=this._pages.length;b<c;++b){var d=this._pages[b];if(d.width!==a.width||d.height!==a.height)return!1}return!0}}]);return c}();c.BaseViewer=m},function(m,c,g){Object.defineProperty(c,"__esModule",{value:!0});c.PDFJS=void 0;var m=g(4),l=g(5),j=g(1),n=g(3),i=g(10),k=g(11),f=g(13),b=g(14),e=g(0),a=e&&e.__esModule?e:{"default":e},e=g(6),d=g(15),g=g(16),a=a.default.PDFJS;a.PDFViewer=
g.PDFViewer;a.PDFSinglePageViewer=d.PDFSinglePageViewer;a.PDFPageView=e.PDFPageView;a.PDFLinkService=n.PDFLinkService;a.SimpleLinkService=n.SimpleLinkService;a.TextLayerBuilder=l.TextLayerBuilder;a.DefaultTextLayerFactory=l.DefaultTextLayerFactory;a.AnnotationLayerBuilder=m.AnnotationLayerBuilder;a.DefaultAnnotationLayerFactory=m.DefaultAnnotationLayerFactory;a.PDFHistory=b.PDFHistory;a.PDFFindController=f.PDFFindController;a.EventBus=j.EventBus;a.DownloadManager=i.DownloadManager;a.ProgressBar=j.ProgressBar;
a.GenericL10n=k.GenericL10n;a.NullL10n=j.NullL10n;c.PDFJS=a},function(m,c,g){function l(c,g){var f=document.createElement("a");f.click?(f.href=c,f.target="_parent","download"in f&&(f.download=g),(document.body||document.documentElement).appendChild(f),f.click(),f.parentNode.removeChild(f)):(window.top===window&&c.split("#")[0]===window.location.href.split("#")[0]&&(f=-1===c.indexOf("?")?"?":"&",c=c.replace(/#|$/,f+"$&")),window.open(c,"_parent"))}Object.defineProperty(c,"__esModule",{value:!0});c.DownloadManager=
void 0;var j=function(){function c(g,f){for(var b=0;b<f.length;b++){var e=f[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(g,e.key,e)}}return function(g,f,b){f&&c(g.prototype,f);b&&c(g,b);return g}}(),n=g(0),m=function(){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");}j(c,[{key:"downloadUrl",value:function(c,f){(0,n.createValidAbsoluteUrl)(c,"http://example.com")&&l(c+"#pdfjs.action=download",f)}},
{key:"downloadData",value:function(c,f,b){if(navigator.msSaveBlob)return navigator.msSaveBlob(new Blob([c],{type:b}),f);c=(0,n.createObjectURL)(c,b,n.PDFJS.disableCreateObjectURL);l(c,f)}},{key:"download",value:function(c,f,b){navigator.msSaveBlob?navigator.msSaveBlob(c,b)||this.downloadUrl(f,b):n.PDFJS.disableCreateObjectURL?this.downloadUrl(f,b):(c=URL.createObjectURL(c),l(c,b))}}]);return c}();c.DownloadManager=m},function(m,c,g){Object.defineProperty(c,"__esModule",{value:!0});c.GenericL10n=void 0;
var l=function(){function c(g,k){for(var f=0;f<k.length;f++){var b=k[f];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(g,b.key,b)}}return function(g,k,f){k&&c(g.prototype,k);f&&c(g,f);return g}}();g(12);var j=document.webL10n,m=function(){function c(g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this._lang=g;this._ready=new Promise(function(c){j.setLanguage(g,function(){c(j)})})}l(c,[{key:"getDirection",value:function(){return this._ready.then(function(c){return c.getDirection()})}},
{key:"get",value:function(c,g,f){return this._ready.then(function(b){return b.get(c,g,f)})}},{key:"translate",value:function(c){return this._ready.then(function(g){return g.translate(c)})}}]);return c}();c.GenericL10n=m},function(){document.webL10n=function(m,c){function g(){var a=c.querySelector('script[type="application/l10n"]');return a?JSON.parse(a.innerHTML):null}function l(a){var b=c.createEvent("Event");b.initEvent("localized",!0,!1);b.language=a;c.dispatchEvent(b)}function j(a,b,c){var b=
b||function(){},c=c||function(){},d=new XMLHttpRequest;d.open("GET",a,v);d.overrideMimeType&&d.overrideMimeType("text/plain; charset=utf-8");d.onreadystatechange=function(){4==d.readyState&&(200==d.status||0===d.status?b(d.responseText):c())};d.onerror=c;d.ontimeout=c;try{d.send(null)}catch(e){c()}}function n(b,c,e,f){function h(a,b){function d(a,b,h){function j(){for(;;){if(!k.length){h();break}var a=k.shift();if(!q.test(a)){if(b){if(n=o.exec(a)){r=n[1].toLowerCase();m="*"!==r&&r!==c&&r!==l;continue}else if(m)continue;
if(n=i.exec(a)){e(g+n[1],j);break}}var d=a.match(p);if(d&&3==d.length){var a=f,s=d[1];d=d[2];d=0>d.lastIndexOf("\\")?d:d.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\u0008").replace(/\\f/g,"\u000c").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'");a[s]=d}}}}var k=a.replace(s,"").split(/[\r\n]+/),r="*",l=c.split("-",1)[0],m=!1,n="";j()}function e(a,b){j(a,function(a){d(a,!1,b)},function(){console.warn(a+" not found.");
b()})}var f={},s=/^\s*|\s*$/,q=/^\s*#|^\s*$/,o=/^\s*\[(.*)\]\s*$/,i=/^\s*@import\s+url\((.*)\)\s*$/i,p=/^([^=\s]*)\s*=\s*(.+)$/;d(a,!0,function(){b(f)})}var g=b.replace(/[^\/]*$/,"")||"./";j(b,function(b){d+=b;h(b,function(b){for(var c in b){var d,f;f=c.lastIndexOf(".");0<f?(d=c.substring(0,f),f=c.substr(f+1)):(d=c,f=q);a[d]||(a[d]={});a[d][f]=b[c]}e&&e()})},f)}function i(b,e){function f(a){var b=a.href;this.load=function(a,c){n(b,a,c,function(){console.warn(b+" not found.");console.warn('"'+a+'" resource not found');
h="";c()})}}b&&(b=b.toLowerCase());e=e||function(){};a={};h=d="";h=b;var q=c.querySelectorAll('link[type="application/l10n"]'),s=q.length;if(0===s){if((q=g())&&q.locales&&q.default_locale){console.log("using the embedded JSON directory, early way out");a=q.locales[b];if(!a){var i=q.default_locale.toLowerCase(),j;for(j in q.locales)if(j=j.toLowerCase(),j===b){a=q.locales[b];break}else j===i&&(a=q.locales[i])}e()}else console.log("no resource to load, early way out");l(b);p="complete"}else{j=null;var k=
0;j=function(){k++;k>=s&&(e(),l(b),p="complete")};for(i=0;i<s;i++)(new f(q[i])).load(b,j)}}function k(a){function b(a,c,d){return c<=a&&a<=d}var c={"0":function(){return"other"},1:function(a){return b(a%100,3,10)?"few":0===a?"zero":b(a%100,11,99)?"many":2==a?"two":1==a?"one":"other"},2:function(a){return 0!==a&&0===a%10?"many":2==a?"two":1==a?"one":"other"},3:function(a){return 1==a?"one":"other"},4:function(a){return b(a,0,1)?"one":"other"},5:function(a){return b(a,0,2)&&2!=a?"one":"other"},6:function(a){return 0===
a?"zero":1==a%10&&11!=a%100?"one":"other"},7:function(a){return 2==a?"two":1==a?"one":"other"},8:function(a){return b(a,3,6)?"few":b(a,7,10)?"many":2==a?"two":1==a?"one":"other"},9:function(a){return 0===a||1!=a&&b(a%100,1,19)?"few":1==a?"one":"other"},10:function(a){return b(a%10,2,9)&&!b(a%100,11,19)?"few":1==a%10&&!b(a%100,11,19)?"one":"other"},11:function(a){return b(a%10,2,4)&&!b(a%100,12,14)?"few":0===a%10||b(a%10,5,9)||b(a%100,11,14)?"many":1==a%10&&11!=a%100?"one":"other"},12:function(a){return b(a,
2,4)?"few":1==a?"one":"other"},13:function(a){return b(a%10,2,4)&&!b(a%100,12,14)?"few":1!=a&&b(a%10,0,1)||b(a%10,5,9)||b(a%100,12,14)?"many":1==a?"one":"other"},14:function(a){return b(a%100,3,4)?"few":2==a%100?"two":1==a%100?"one":"other"},15:function(a){return 0===a||b(a%100,2,10)?"few":b(a%100,11,19)?"many":1==a?"one":"other"},16:function(a){return 1==a%10&&11!=a?"one":"other"},17:function(a){return 3==a?"few":0===a?"zero":6==a?"many":2==a?"two":1==a?"one":"other"},18:function(a){return 0===a?
"zero":b(a,0,2)&&0!==a&&2!=a?"one":"other"},19:function(a){return b(a,2,10)?"few":b(a,0,1)?"one":"other"},20:function(a){return(b(a%10,3,4)||9==a%10)&&!b(a%100,10,19)&&!b(a%100,70,79)&&!b(a%100,90,99)?"few":0===a%1E6&&0!==a?"many":2==a%10&&-1===[12,72,92].indexOf(a%100)?"two":1==a%10&&-1===[11,71,91].indexOf(a%100)?"one":"other"},21:function(a){return 0===a?"zero":1==a?"one":"other"},22:function(a){return b(a,0,1)||b(a,11,99)?"one":"other"},23:function(a){return b(a%10,1,2)||0===a%20?"one":"other"},
24:function(a){return b(a,3,10)||b(a,13,19)?"few":-1!==[2,12].indexOf(a)?"two":-1!==[1,11].indexOf(a)?"one":"other"}},d={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,
km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,
wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[a.replace(/-.*$/,"")];return!(d in c)?(console.warn("plural form unknown for ["+a+"]"),function(){return"other"}):c[d]}function f(c,d,e){var f=a[c];if(!f){console.warn("#"+c+" is undefined.");if(!e)return null;f=e}var e={},h;for(h in f){var g=f[h];var q=d,i=c,j=h,k=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(g);if(k&&k.length){var p=k[1],k=k[2],l=void 0;q&&k in q?l=q[k]:k in a&&(l=a[k]);p in r&&(g=(0,r[p])(g,l,i,j))}g=b(g,d,c);e[h]=g}return e}function b(b,
c,d){return b.replace(/\{\{\s*(.+?)\s*\}\}/g,function(b,e){if(c&&e in c)return c[e];if(e in a)return a[e];console.log("argument {{"+e+"}} for #"+d+" is undefined.");return b})}function e(a){var b,d;if(a){b=a.getAttribute("data-l10n-id");var e=a.getAttribute("data-l10n-args");d={};if(e)try{d=JSON.parse(e)}catch(h){console.warn("could not parse arguments for #"+b)}}else d=b=void 0;if(b)if(d=f(b,d)){if(d[q]){if(a.children)b=a.children.length;else if("undefined"!==typeof a.childElementCount)b=a.childElementCount;
else for(e=b=0;e<a.childNodes.length;e++)b+=1===a.nodeType?1:0;if(0===b)a[q]=d[q];else{b=a.childNodes;for(var e=!1,g=0,i=b.length;g<i;g++)3===b[g].nodeType&&/\S/.test(b[g].nodeValue)&&(e?b[g].nodeValue="":(b[g].nodeValue=d[q],e=!0));e||(b=c.createTextNode(d[q]),a.insertBefore(b,a.firstChild))}delete d[q]}for(var k in d)a[k]=d[k]}else console.warn("#"+b+" is undefined.")}var a={},d="",q="textContent",h="",r={},p="loading",v=!0;r.plural=function(b,c,d,e){c=parseFloat(c);if(isNaN(c)||e!=q)return b;r._pluralRules||
(r._pluralRules=k(h));var f="["+r._pluralRules(c)+"]";0===c&&d+"[zero]"in a?b=a[d+"[zero]"][e]:1==c&&d+"[one]"in a?b=a[d+"[one]"][e]:2==c&&d+"[two]"in a?b=a[d+"[two]"][e]:d+f in a?b=a[d+f][e]:d+"[other]"in a&&(b=a[d+"[other]"][e]);return b};return{get:function(a,b,c){var d=a.lastIndexOf("."),e=q;0<d&&(e=a.substr(d+1),a=a.substring(0,d));var h;c&&(h={},h[e]=c);return(b=f(a,b,h))&&e in b?b[e]:"{{"+a+"}}"},getData:function(){return a},getText:function(){return d},getLanguage:function(){return h},setLanguage:function(a,
b){i(a,function(){b&&b()})},getDirection:function(){return 0<=["ar","he","fa","ps","ur"].indexOf(h.split("-",1)[0])?"rtl":"ltr"},translate:function(a){for(var b=(a=a||c.documentElement)?a.querySelectorAll("*[data-l10n-id]"):[],d=b.length,f=0;f<d;f++)e(b[f]);e(a)},getReadyState:function(){return p},ready:function(a){a&&("complete"==p||"interactive"==p?m.setTimeout(function(){a()}):c.addEventListener&&c.addEventListener("localized",function w(){c.removeEventListener("localized",w);a()}))}}}(window,
document)},function(m,c,g){Object.defineProperty(c,"__esModule",{value:!0});c.PDFFindController=c.FindState=void 0;var l=function(){function c(b,e){for(var a=0;a<e.length;a++){var d=e[a];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,e,a){e&&c(b.prototype,e);a&&c(b,a);return b}}(),j=g(0),n=g(1),i={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},k={"\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',
"\u201e":'"',"\u201f":'"',"\u00bc":"1/4","\u00bd":"1/2","\u00be":"3/4"},m=function(){function c(b){b=b.pdfViewer;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.pdfViewer=b;this.onUpdateState=this.onUpdateResultsCount=null;this.reset();b=Object.keys(k).join("");this.normalizationRegex=RegExp("["+b+"]","g")}l(c,[{key:"reset",value:function(){var b=this;this.startedTextExtraction=!1;this.extractTextPromises=[];this.pendingFindMatches=Object.create(null);this.active=
!1;this.pageContents=[];this.pageMatches=[];this.pageMatchesLength=null;this.matchCount=0;this.selected={pageIdx:-1,matchIdx:-1};this.offset={pageIdx:null,matchIdx:null};this.state=this.resumePageIdx=this.pagesToSearch=null;this.dirtyMatch=!1;this.findTimeout=null;this._firstPagePromise=new Promise(function(c){b.resolveFirstPage=c})}},{key:"normalize",value:function(b){return b.replace(this.normalizationRegex,function(b){return k[b]})}},{key:"_prepareMatches",value:function(b,c,a){function d(a,b){var c=
a[b],d=a[b+1];if(b<a.length-1&&c.match===d.match)return c.skipped=!0;for(d=b-1;0<=d;d--){var e=a[d];if(!e.skipped){if(e.match+e.matchLength<c.match)break;if(e.match+e.matchLength>=c.match+c.matchLength)return c.skipped=!0}}return!1}b.sort(function(a,b){return a.match===b.match?a.matchLength-b.matchLength:a.match-b.match});for(var f=0,h=b.length;f<h;f++)d(b,f)||(c.push(b[f].match),a.push(b[f].matchLength))}},{key:"calcFindPhraseMatch",value:function(b,c,a){for(var d=[],f=b.length,h=-f;;){h=a.indexOf(b,
h+f);if(-1===h)break;d.push(h)}this.pageMatches[c]=d}},{key:"calcFindWordMatch",value:function(b,c,a){for(var d=[],b=b.match(/\S+/g),f=0,h=b.length;f<h;f++)for(var g=b[f],i=g.length,k=-i;;){k=a.indexOf(g,k+i);if(-1===k)break;d.push({match:k,matchLength:i,skipped:!1})}this.pageMatchesLength||(this.pageMatchesLength=[]);this.pageMatchesLength[c]=[];this.pageMatches[c]=[];this._prepareMatches(d,this.pageMatches[c],this.pageMatchesLength[c])}},{key:"calcFindMatch",value:function(b){var c=this.normalize(this.pageContents[b]),
a=this.normalize(this.state.query),d=this.state.caseSensitive,f=this.state.phraseSearch;if(0!==a.length&&(d||(c=c.toLowerCase(),a=a.toLowerCase()),f?this.calcFindPhraseMatch(a,b,c):this.calcFindWordMatch(a,b,c),this.updatePage(b),this.resumePageIdx===b&&(this.resumePageIdx=null,this.nextPageMatch()),0<this.pageMatches[b].length))this.matchCount+=this.pageMatches[b].length,this.updateUIResultsCount()}},{key:"extractText",value:function(){var b=this;if(!this.startedTextExtraction){this.startedTextExtraction=
!0;this.pageContents.length=0;for(var c=Promise.resolve(),a=function(a){var d=(0,j.createPromiseCapability)();b.extractTextPromises[a]=d.promise;c=c.then(function(){return b.pdfViewer.getPageTextContent(a).then(function(c){for(var c=c.items,e=[],f=0,g=c.length;f<g;f++)e.push(c[f].str);b.pageContents[a]=e.join("");d.resolve(a)},function(c){console.error("Unable to get page "+(a+1)+" text content",c);b.pageContents[a]="";d.resolve(a)})})},d=0,f=this.pdfViewer.pagesCount;d<f;d++)a(d,f)}}},{key:"executeCommand",
value:function(b,c){var a=this;if(null===this.state||"findagain"!==b)this.dirtyMatch=!0;this.state=c;this.updateUIState(i.PENDING);this._firstPagePromise.then(function(){a.extractText();clearTimeout(a.findTimeout);"find"===b?a.findTimeout=setTimeout(a.nextMatch.bind(a),250):a.nextMatch()})}},{key:"updatePage",value:function(b){this.selected.pageIdx===b&&(this.pdfViewer.currentPageNumber=b+1);b=this.pdfViewer.getPageView(b);b.textLayer&&b.textLayer.updateMatches()}},{key:"nextMatch",value:function(){var b=
this,c=this.state.findPrevious,a=this.pdfViewer.currentPageNumber-1,d=this.pdfViewer.pagesCount;this.active=!0;if(this.dirtyMatch){this.dirtyMatch=!1;this.selected.pageIdx=this.selected.matchIdx=-1;this.offset.pageIdx=a;this.offset.matchIdx=null;this.hadMatch=!1;this.resumePageIdx=null;this.pageMatches=[];this.matchCount=0;this.pageMatchesLength=null;for(a=0;a<d;a++)this.updatePage(a),a in this.pendingFindMatches||(this.pendingFindMatches[a]=!0,this.extractTextPromises[a].then(function(a){delete b.pendingFindMatches[a];
b.calcFindMatch(a)}))}if(""===this.state.query)this.updateUIState(i.FOUND);else if(!this.resumePageIdx){a=this.offset;this.pagesToSearch=d;if(null!==a.matchIdx){d=this.pageMatches[a.pageIdx].length;if(!c&&a.matchIdx+1<d||c&&0<a.matchIdx){this.hadMatch=!0;a.matchIdx=c?a.matchIdx-1:a.matchIdx+1;this.updateMatch(!0);return}this.advanceOffsetPage(c)}this.nextPageMatch()}}},{key:"matchesReady",value:function(b){var c=this.offset,b=b.length,a=this.state.findPrevious;if(b)return this.hadMatch=!0,c.matchIdx=
a?b-1:0,this.updateMatch(!0),!0;this.advanceOffsetPage(a);return c.wrapped&&(c.matchIdx=null,0>this.pagesToSearch)?(this.updateMatch(!1),!0):!1}},{key:"updateMatchPosition",value:function(b,c,a,d){this.selected.matchIdx===c&&this.selected.pageIdx===b&&(0,n.scrollIntoView)(a[d],{top:-50,left:-400},!0)}},{key:"nextPageMatch",value:function(){null!==this.resumePageIdx&&console.error("There can only be one pending page.");var b=null;do{var c=this.offset.pageIdx,b=this.pageMatches[c];if(!b){this.resumePageIdx=
c;break}}while(!this.matchesReady(b))}},{key:"advanceOffsetPage",value:function(b){var c=this.offset,a=this.extractTextPromises.length;c.pageIdx=b?c.pageIdx-1:c.pageIdx+1;c.matchIdx=null;this.pagesToSearch--;if(c.pageIdx>=a||0>c.pageIdx)c.pageIdx=b?a-1:0,c.wrapped=!0}},{key:"updateMatch",value:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,c=i.NOT_FOUND,a=this.offset.wrapped;this.offset.wrapped=!1;b&&(b=this.selected.pageIdx,this.selected.pageIdx=this.offset.pageIdx,this.selected.matchIdx=
this.offset.matchIdx,c=a?i.WRAPPED:i.FOUND,-1!==b&&b!==this.selected.pageIdx&&this.updatePage(b));this.updateUIState(c,this.state.findPrevious);-1!==this.selected.pageIdx&&this.updatePage(this.selected.pageIdx)}},{key:"updateUIResultsCount",value:function(){if(this.onUpdateResultsCount)this.onUpdateResultsCount(this.matchCount)}},{key:"updateUIState",value:function(b,c){if(this.onUpdateState)this.onUpdateState(b,c,this.matchCount)}}]);return c}();c.FindState=i;c.PDFFindController=m},function(m,c,
g){function l(b){var a=unescape(document.location.hash).substring(1),c=(0,f.parseQueryString)(a).page|0;if(!Number.isInteger(c)||!(0<c&&c<=b.pagesCount))c=null;return{hash:a,page:c,rotation:b.rotation}}function j(b,a){return"string"!==typeof b||"string"!==typeof a?!1:b===a||(0,f.parseQueryString)(b).nameddest===a?!0:!1}function n(b,a){function c(a,b){if(("undefined"===typeof a?"undefined":i(a))!==("undefined"===typeof b?"undefined":i(b))||a instanceof Array||b instanceof Array)return!1;if(null!==
a&&"object"===("undefined"===typeof a?"undefined":i(a))&&null!==b){if(Object.keys(a).length!==Object.keys(b).length)return!1;for(var e in a)if(!c(a[e],b[e]))return!1;return!0}return a===b||Number.isNaN(a)&&Number.isNaN(b)}if(!(b instanceof Array&&a instanceof Array)||b.length!==a.length)return!1;for(var f=0,h=b.length;f<h;f++)if(!c(b[f],a[f]))return!1;return!0}Object.defineProperty(c,"__esModule",{value:!0});c.isDestArraysEqual=c.isDestHashesEqual=c.PDFHistory=void 0;var i="function"===typeof Symbol&&
"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},k=function(){function b(a,c){for(var e=0;e<c.length;e++){var f=c[e];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(a,f.key,f)}}return function(a,c,f){c&&b(a.prototype,c);f&&b(a,f);return a}}(),f=g(1),b=g(2),m=function(){function c(a){var d=this,f=a.linkService,a=a.eventBus;
if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.linkService=f;this.eventBus=a||(0,b.getGlobalEventBus)();this.initialized=!1;this.initialRotation=this.initialBookmark=null;this._boundEvents=Object.create(null);this._isPagesLoaded=this._isViewerInPresentationMode=!1;this.eventBus.on("presentationmodechanged",function(a){d._isViewerInPresentationMode=a.active||a.switchInProgress});this.eventBus.on("pagesloaded",function(a){d._isPagesLoaded=!!a.pagesCount})}k(c,
[{key:"initialize",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;if(!a||"string"!==typeof a)console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');else{var c=this.initialized&&this.fingerprint!==a;this.fingerprint=a;this.initialized||this._bindEvents();var e=window.history.state;this.initialized=!0;this.initialRotation=this.initialBookmark=null;this._popStateInProgress=!1;this._blockHashChange=0;this._currentHash=document.location.hash;
this._uid=this._maxUid=this._numPositionUpdates=0;this._position=this._destination=null;if(!this._isValidState(e)||b){var f=l(this.linkService),e=f.hash,g=f.page,f=f.rotation;!e||c||b?this._pushOrReplaceState(null,!0):this._pushOrReplaceState({hash:e,page:g,rotation:f},!0)}else(b=e.destination,this._updateInternalState(b,e.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),void 0!==b.rotation&&(this.initialRotation=b.rotation),b.dest)?(this.initialBookmark=JSON.stringify(b.dest),this._destination.page=
null):b.hash?this.initialBookmark=b.hash:b.page&&(this.initialBookmark="page="+b.page)}}},{key:"push",value:function(a){var b=this,c=a.namedDest,e=a.explicitDest,a=a.pageNumber;if(this.initialized)if(c&&"string"!==typeof c||!(e instanceof Array)||!Number.isInteger(a)||!(0<a&&a<=this.linkService.pagesCount))console.error("PDFHistory.push: Invalid parameters.");else if(c=c||JSON.stringify(e)){var f=!1;if(this._destination&&(j(this._destination.hash,c)||n(this._destination.dest,e))){if(this._destination.page)return;
f=!0}if(!this._popStateInProgress||f)this._pushOrReplaceState({dest:e,hash:c,page:a,rotation:this.linkService.rotation},f),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(function(){b._popStateInProgress=!1}))}}},{key:"pushCurrentPosition",value:function(){this.initialized&&!this._popStateInProgress&&this._tryPushCurrentPosition()}},{key:"back",value:function(){if(this.initialized&&!this._popStateInProgress){var a=window.history.state;this._isValidState(a)&&0<a.uid&&
window.history.back()}}},{key:"forward",value:function(){if(this.initialized&&!this._popStateInProgress){var a=window.history.state;this._isValidState(a)&&a.uid<this._maxUid&&window.history.forward()}}},{key:"_pushOrReplaceState",value:function(a){var b=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1)||!this._destination,c={fingerprint:this.fingerprint,uid:b?this._uid:this._uid+1,destination:a};this._updateInternalState(a,c.uid);b?window.history.replaceState(c,"",document.URL):(this._maxUid=
this._uid,window.history.pushState(c,"",document.URL))}},{key:"_tryPushCurrentPosition",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;if(this._position){var b=this._position;a&&(b=(0,f.cloneObj)(this._position),b.temporary=!0);if(this._destination)if(this._destination.temporary)this._pushOrReplaceState(b,!0);else{if(this._destination.hash!==b.hash&&(this._destination.page||!(50>=this._numPositionUpdates))){a=!1;if(this._destination.page===b.first||this._destination.page===
b.page){if(this._destination.dest||!this._destination.first)return;a=!0}this._pushOrReplaceState(b,a)}}else this._pushOrReplaceState(b)}}},{key:"_isValidState",value:function(a){return!a||a.fingerprint!==this.fingerprint||!Number.isInteger(a.uid)||0>a.uid||null===a.destination||"object"!==i(a.destination)?!1:!0}},{key:"_updateInternalState",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=
null);c&&(a&&a.temporary)&&delete a.temporary;this._destination=a;this._uid=b;this._numPositionUpdates=0}},{key:"_updateViewarea",value:function(a){var b=this,a=a.location;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null);this._position={hash:this._isViewerInPresentationMode?"page="+a.pageNumber:a.pdfOpenParams.substring(1),page:this.linkService.page,first:a.pageNumber,rotation:a.rotation};this._popStateInProgress||(this._isPagesLoaded&&(this._destination&&
!this._destination.page)&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(function(){b._popStateInProgress||b._tryPushCurrentPosition(true);b._updateViewareaTimeout=null},1E3))}},{key:"_popState",value:function(a){var b=this,a=a.state,c=document.location.hash,e=this._currentHash!==c;this._currentHash=c;if(a){if(this._isValidState(a)){this._popStateInProgress=!0;e&&(this._blockHashChange++,(0,f.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1E3}).then(function(){b._blockHashChange--}));
c=a.destination;this._updateInternalState(c,a.uid,!0);this._uid>this._maxUid&&(this._maxUid=this._uid);if((0,f.isValidRotation)(c.rotation))this.linkService.rotation=c.rotation;c.dest?this.linkService.navigateTo(c.dest):c.hash?this.linkService.setHash(c.hash):c.page&&(this.linkService.page=c.page);Promise.resolve().then(function(){b._popStateInProgress=false})}}else this._uid++,a=l(this.linkService),this._pushOrReplaceState({hash:a.hash,page:a.page,rotation:a.rotation},!0)}},{key:"_bindEvents",value:function(){var a=
this,b=this._boundEvents,c=this.eventBus;b.updateViewarea=this._updateViewarea.bind(this);b.popState=this._popState.bind(this);b.pageHide=function(){(!a._destination||a._destination.temporary)&&a._tryPushCurrentPosition()};c.on("updateviewarea",b.updateViewarea);window.addEventListener("popstate",b.popState);window.addEventListener("pagehide",b.pageHide)}},{key:"popStateInProgress",get:function(){return this.initialized&&(this._popStateInProgress||0<this._blockHashChange)}}]);return c}();c.PDFHistory=
m;c.isDestHashesEqual=j;c.isDestArraysEqual=n},function(m,c,g){function l(b,c){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&("object"===typeof c||"function"===typeof c)?c:b}function j(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?
Object.setPrototypeOf(b,c):b.__proto__=c)}Object.defineProperty(c,"__esModule",{value:!0});c.PDFSinglePageViewer=void 0;var n=function(){function b(b,a){for(var c=0;c<a.length;c++){var f=a[c];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}return function(c,a,d){a&&b(c.prototype,a);d&&b(c,d);return c}}(),i=function e(a,c,f){null===a&&(a=Function.prototype);var g=Object.getOwnPropertyDescriptor(a,c);if(void 0===g)return a=Object.getPrototypeOf(a),
null===a?void 0:e(a,c,f);if("value"in g)return g.value;c=g.get;return void 0===c?void 0:c.call(f)},m=g(8),k=g(1),f=g(0),g=function(c){function a(c){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var e=l(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,c));e.eventBus.on("pagesinit",function(){e._ensurePageViewVisible()});return e}j(a,c);n(a,[{key:"_resetView",value:function(){i(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"_resetView",this).call(this);
this._previousPageNumber=1;this._shadowViewer=document.createDocumentFragment()}},{key:"_ensurePageViewVisible",value:function(){var a=this._pages[this._currentPageNumber-1],c=this._pages[this._previousPageNumber-1],e=this.viewer.childNodes;switch(e.length){case 0:this.viewer.appendChild(a.div);break;case 1:if(e[0]!==c.div)throw Error("_ensurePageViewVisible: Unexpected previously visible page.");if(a===c)break;this._shadowViewer.appendChild(c.div);this.viewer.appendChild(a.div);this.container.scrollTop=
0;break;default:throw Error("_ensurePageViewVisible: Only one page should be visible at a time.");}this._previousPageNumber=this._currentPageNumber}},{key:"_scrollUpdate",value:function(){this._updateScrollDown&&this._updateScrollDown();i(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"_scrollUpdate",this).call(this)}},{key:"_scrollIntoView",value:function(a){var c=this,e=a.pageDiv,f=a.pageSpot,f=void 0===f?null:f,a=a.pageNumber;(a=void 0===a?null:a)&&this._setCurrentPageNumber(a);var g=
this._currentPageNumber>=this._previousPageNumber,i=this._location;this._ensurePageViewVisible();(0,k.scrollIntoView)(e,f);this._updateScrollDown=function(){c.scroll.down=g;delete c._updateScrollDown};setTimeout(function(){c._location===i&&(c._updateScrollDown&&c._updateScrollDown(),c.update())},0)}},{key:"_getVisiblePages",value:function(){if(!this.pagesCount)return{views:[]};var a=this._pages[this._currentPageNumber-1],c=a.div,a={id:a.id,x:c.offsetLeft+c.clientLeft,y:c.offsetTop+c.clientTop,view:a};
return{first:a,last:a,views:[a]}}},{key:"update",value:function(){var a=this._getVisiblePages(),c=a.views.length;0!==c&&(this._resizeBuffer(c),this.renderingQueue.renderHighestPriority(a),this._updateLocation(a.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location}))}},{key:"_setDocumentViewerElement",get:function(){return(0,f.shadow)(this,"_setDocumentViewerElement",this._shadowViewer)}}]);return a}(m.BaseViewer);c.PDFSinglePageViewer=g},function(m,c,g){function l(c,
f){if("function"!==typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}Object.defineProperty(c,"__esModule",{value:!0});c.PDFViewer=void 0;var j=function(){function c(f,b){for(var e=0;e<b.length;e++){var a=b[e];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&
(a.writable=!0);Object.defineProperty(f,a.key,a)}}return function(f,b,e){b&&c(f.prototype,b);e&&c(f,e);return f}}(),n=g(1),m=g(8),i=g(0),g=function(c){function f(){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var b=(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"===typeof b||"function"===typeof b)?b:this}l(f,c);j(f,[{key:"_scrollIntoView",
value:function(b){var c=b.pageDiv,b=b.pageSpot;(0,n.scrollIntoView)(c,void 0===b?null:b)}},{key:"_getVisiblePages",value:function(){if(!this.isInPresentationMode)return(0,n.getVisibleElements)(this.container,this._pages,!0);var b=this._pages[this._currentPageNumber-1];return{first:b,last:b,views:[{id:b.id,view:b}]}}},{key:"update",value:function(){var b=this._getVisiblePages(),c=b.views,a=c.length;if(0!==a){this._resizeBuffer(a);this.renderingQueue.renderHighestPriority(b);for(var d=this._currentPageNumber,
f=!1,g=0;g<a;++g){var i=c[g];if(100>i.percent)break;if(i.id===d){f=!0;break}}f||(d=c[0].id);this.isInPresentationMode||this._setCurrentPageNumber(d);this._updateLocation(b.first);this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}}},{key:"_setDocumentViewerElement",get:function(){return(0,i.shadow)(this,"_setDocumentViewerElement",this.viewer)}}]);return f}(m.BaseViewer);c.PDFViewer=g}])});
