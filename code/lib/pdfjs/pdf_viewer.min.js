(function(z,t){"function"===typeof define&&define.amd?define("pdfjs-dist/web/pdf_viewer",["exports","pdfjs-dist/build/pdf"],t):"undefined"!==typeof exports?t(exports,require("../build/pdf.js")):t(z.pdfjsDistWebPDFViewer={},z.pdfjsDistBuildPdf)})(this,function(z,t){var o={pdfjsWebPDFJS:t};(function(){(function(c,d){d(c.pdfjsWebPDFRenderingQueue={})})(this,function(c){var d={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},j=function(){function a(){this.idleTimeout=this.highestPriorityPage=this.onIdle=this.pdfThumbnailViewer=
this.pdfViewer=null;this.isThumbnailViewEnabled=this.printing=!1}a.prototype={setViewer:function(a){this.pdfViewer=a},setThumbnailViewer:function(a){this.pdfThumbnailViewer=a},isHighestPriority:function(a){return this.highestPriorityPage===a.renderingId},renderHighestPriority:function(a){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null);if(!this.pdfViewer.forceRendering(a)&&(!this.pdfThumbnailViewer||!this.isThumbnailViewEnabled||!this.pdfThumbnailViewer.forceRendering())&&
!this.printing&&this.onIdle)this.idleTimeout=setTimeout(this.onIdle.bind(this),3E4)},getHighestPriority:function(a,c,e){var b=a.views,g=b.length;if(0===g)return!1;for(var q=0;q<g;++q){var h=b[q].view;if(!this.isViewFinished(h))return h}a=e?a.last.id:a.first.id-2;return c[a]&&!this.isViewFinished(c[a])?c[a]:null},isViewFinished:function(a){return a.renderingState===d.FINISHED},renderView:function(a){switch(a.renderingState){case d.FINISHED:return!1;case d.PAUSED:this.highestPriorityPage=a.renderingId;
a.resume();break;case d.RUNNING:this.highestPriorityPage=a.renderingId;break;case d.INITIAL:this.highestPriorityPage=a.renderingId;var c=function(){this.renderHighestPriority()}.bind(this);a.draw().then(c,c)}return!0}};return a}();c.RenderingStates=d;c.PDFRenderingQueue=j});(function(c,d){d(c.pdfjsWebDownloadManager={},c.pdfjsWebPDFJS)})(this,function(c,d){function j(a,c){var e=document.createElement("a");e.click?(e.href=a,e.target="_parent","download"in e&&(e.download=c),(document.body||document.documentElement).appendChild(e),
e.click(),e.parentNode.removeChild(e)):(window.top===window&&a.split("#")[0]===window.location.href.split("#")[0]&&(e=-1===a.indexOf("?")?"?":"&",a=a.replace(/#|$/,e+"$&")),window.open(a,"_parent"))}function a(){}a.prototype={downloadUrl:function(a,c){d.createValidAbsoluteUrl(a,"http://example.com")&&j(a+"#pdfjs.action=download",c)},downloadData:function(a,c,e){if(navigator.msSaveBlob)return navigator.msSaveBlob(new Blob([a],{type:e}),c);a=d.createObjectURL(a,e,d.PDFJS.disableCreateObjectURL);j(a,
c)},download:function(a,c,e){URL?navigator.msSaveBlob?navigator.msSaveBlob(a,e)||this.downloadUrl(c,e):(a=URL.createObjectURL(a),j(a,e)):this.downloadUrl(c,e)}};c.DownloadManager=a});(function(c,d){d(c.pdfjsWebUIUtils={},c.pdfjsWebPDFJS)})(this,function(c,d){function j(b,g){var a=0,h=b.length-1;if(0===b.length||!g(b[h]))return b.length;if(g(b[a]))return a;for(;a<h;){var f=a+h>>1;g(b[f])?h=f:a=f+1}return a}var a=96/72,k=document.mozL10n||document.webL10n,i=d.PDFJS;i.disableFullscreen=void 0===i.disableFullscreen?
!1:i.disableFullscreen;i.useOnlyCssZoom=void 0===i.useOnlyCssZoom?!1:i.useOnlyCssZoom;i.maxCanvasPixels=void 0===i.maxCanvasPixels?16777216:i.maxCanvasPixels;i.disableHistory=void 0===i.disableHistory?!1:i.disableHistory;i.disableTextLayer=void 0===i.disableTextLayer?!1:i.disableTextLayer;i.ignoreCurrentPositionOnZoom=void 0===i.ignoreCurrentPositionOnZoom?!1:i.ignoreCurrentPositionOnZoom;i.locale=void 0===i.locale?navigator.language:i.locale;var i=function(){function b(){this._listeners=Object.create(null)}
b.prototype={on:function(b,a){var h=this._listeners[b];h||(h=[],this._listeners[b]=h);h.push(a)},off:function(b,a){var h=this._listeners[b],f;h&&!(0>(f=h.indexOf(a)))&&h.splice(f,1)},dispatch:function(b){var a=this._listeners[b];if(a&&0!==a.length){var h=Array.prototype.slice.call(arguments,1);a.slice(0).forEach(function(b){b.apply(null,h)})}}};return b}(),e=function(){function b(b,a){this.visible=!0;this.div=document.querySelector(b+" .progress");this.bar=this.div.parentNode;this.height=a.height||
100;this.width=a.width||100;this.units=a.units||"%";this.div.style.height=this.height+this.units;this.percent=0}b.prototype={updateBar:function(){this._indeterminate?(this.div.classList.add("indeterminate"),this.div.style.width=this.width+this.units):(this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units)},get percent(){return this._percent},set percent(b){this._indeterminate=isNaN(b);this._percent=Math.min(Math.max(b,0),100);this.updateBar()},setWidth:function(b){b&&
(b=b.parentNode.offsetWidth-b.offsetWidth,0<b&&this.bar.setAttribute("style","width: calc(100% - "+b+"px);"))},hide:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))},show:function(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),this.bar.classList.remove("hidden"))}};return b}();c.CSS_UNITS=a;c.DEFAULT_SCALE_VALUE="auto";c.DEFAULT_SCALE=1;c.UNKNOWN_SCALE=0;c.MAX_AUTO_SCALE=1.25;c.SCROLLBAR_PADDING=
40;c.VERTICAL_PADDING=5;c.mozL10n=k;c.EventBus=i;c.ProgressBar=e;c.getPDFFileNameFromURL=function(b){var g=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i,b=/^(?:([^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(b);if(b=g.exec(b[1])||g.exec(b[2])||g.exec(b[3]))if(b=b[0],-1!==b.indexOf("%"))try{b=g.exec(decodeURIComponent(b))[0]}catch(a){}return b||"document.pdf"};c.noContextMenuHandler=function(b){b.preventDefault()};c.parseQueryString=function(b){for(var b=b.split("&"),g={},a=0,h=b.length;a<h;++a){var f=b[a].split("="),
e=f[0].toLowerCase(),f=1<f.length?f[1]:null;g[decodeURIComponent(e)]=decodeURIComponent(f)}return g};c.getVisibleElements=function(b,g,a){function h(b){b=b.div;return b.offsetTop+b.clientTop+b.clientHeight>f}for(var f=b.scrollTop,e=f+b.clientHeight,c=b.scrollLeft,v=c+b.clientWidth,b=[],d,i,k,l,u,p=0===g.length?0:j(g,h),s=g.length;p<s;p++){d=g[p];i=d.div;k=i.offsetTop+i.clientTop;l=i.clientHeight;if(k>e)break;u=i.offsetLeft+i.clientLeft;i=i.clientWidth;u+i<c||u>v||(i=Math.max(0,f-k)+Math.max(0,k+l-
e),l=100*(l-i)/l|0,b.push({id:d.id,x:u,y:k,view:d,percent:l}))}g=b[0];e=b[b.length-1];a&&b.sort(function(b,g){var a=b.percent-g.percent;return 0.001<Math.abs(a)?-a:b.id-g.id});return{first:g,last:e,views:b}};c.roundToDivide=function(b,g){var a=b%g;return 0===a?b:Math.round(b-a+g)};c.approximateFraction=function(b){if(Math.floor(b)===b)return[b,1];var g=1/b;if(8<g)return[1,8];if(Math.floor(g)===g)return[1,g];for(var g=1<b?g:b,a=0,h=1,f=1,e=1;;){var c=a+f,v=h+e;if(8<v)break;g<=c/v?(f=c,e=v):(a=c,h=
v)}return g-a/h<f/e-g?g===b?[a,h]:[h,a]:g===b?[f,e]:[e,f]};c.getOutputScale=function(b){b=(window.devicePixelRatio||1)/(b.webkitBackingStorePixelRatio||b.mozBackingStorePixelRatio||b.msBackingStorePixelRatio||b.oBackingStorePixelRatio||b.backingStorePixelRatio||1);return{sx:b,sy:b,scaled:1!==b}};c.scrollIntoView=function(b,g,a){var e=b.offsetParent;if(e){for(var a=a||!1,f=b.offsetTop+b.clientTop,b=b.offsetLeft+b.clientLeft;e.clientHeight===e.scrollHeight||a&&"hidden"===getComputedStyle(e).overflow;)if(e.dataset._scaleY&&
(f/=e.dataset._scaleY,b/=e.dataset._scaleX),f+=e.offsetTop,b+=e.offsetLeft,e=e.offsetParent,!e)return;g&&(void 0!==g.top&&(f+=g.top),void 0!==g.left&&(b+=g.left,e.scrollLeft=b));e.scrollTop=f}else console.error("offsetParent is not set -- cannot scroll")};c.watchScroll=function(b,g){var a=function(){f||(f=window.requestAnimationFrame(function(){f=null;var a=b.scrollTop,c=e.lastY;a!==c&&(e.down=a>c);e.lastY=a;g(e)}))},e={down:!0,lastY:b.scrollTop,_eventHandler:a},f=null;b.addEventListener("scroll",
a,!0);return e};c.binarySearchFirstItem=j;c.normalizeWheelEventDelta=function(b){var g=Math.sqrt(b.deltaX*b.deltaX+b.deltaY*b.deltaY),a=Math.atan2(b.deltaY,b.deltaX);-0.25*Math.PI<a&&a<0.75*Math.PI&&(g=-g);0===b.deltaMode?g/=900:1===b.deltaMode&&(g/=30);return g}});(function(c,d){d(c.pdfjsWebDOMEvents={},c.pdfjsWebUIUtils)})(this,function(c,d){function j(a){a.on("documentload",function(){var a=document.createEvent("CustomEvent");a.initCustomEvent("documentload",!0,!0,{});window.dispatchEvent(a)});
a.on("pagerendered",function(a){var b=document.createEvent("CustomEvent");b.initCustomEvent("pagerendered",!0,!0,{pageNumber:a.pageNumber,cssTransform:a.cssTransform});a.source.div.dispatchEvent(b)});a.on("textlayerrendered",function(a){var b=document.createEvent("CustomEvent");b.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:a.pageNumber});a.source.textLayerDiv.dispatchEvent(b)});a.on("pagechange",function(a){var b=document.createEvent("UIEvents");b.initUIEvent("pagechange",!0,!0,window,0);
b.pageNumber=a.pageNumber;a.source.container.dispatchEvent(b)});a.on("pagesinit",function(a){var b=document.createEvent("CustomEvent");b.initCustomEvent("pagesinit",!0,!0,null);a.source.container.dispatchEvent(b)});a.on("pagesloaded",function(a){var b=document.createEvent("CustomEvent");b.initCustomEvent("pagesloaded",!0,!0,{pagesCount:a.pagesCount});a.source.container.dispatchEvent(b)});a.on("scalechange",function(a){var b=document.createEvent("UIEvents");b.initUIEvent("scalechange",!0,!0,window,
0);b.scale=a.scale;b.presetValue=a.presetValue;a.source.container.dispatchEvent(b)});a.on("updateviewarea",function(a){var b=document.createEvent("UIEvents");b.initUIEvent("updateviewarea",!0,!0,window,0);b.location=a.location;a.source.container.dispatchEvent(b)});a.on("find",function(a){if(a.source!==window){var b=document.createEvent("CustomEvent");b.initCustomEvent("find"+a.type,!0,!0,{query:a.query,phraseSearch:a.phraseSearch,caseSensitive:a.caseSensitive,highlightAll:a.highlightAll,findPrevious:a.findPrevious});
window.dispatchEvent(b)}});a.on("attachmentsloaded",function(a){var b=document.createEvent("CustomEvent");b.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:a.attachmentsCount});a.source.container.dispatchEvent(b)});a.on("sidebarviewchanged",function(a){var b=document.createEvent("CustomEvent");b.initCustomEvent("sidebarviewchanged",!0,!0,{view:a.view});a.source.outerContainer.dispatchEvent(b)});a.on("pagemode",function(a){var b=document.createEvent("CustomEvent");b.initCustomEvent("pagemode",
!0,!0,{mode:a.mode});a.source.pdfViewer.container.dispatchEvent(b)});a.on("namedaction",function(a){var b=document.createEvent("CustomEvent");b.initCustomEvent("namedaction",!0,!0,{action:a.action});a.source.pdfViewer.container.dispatchEvent(b)});a.on("presentationmodechanged",function(a){var b=document.createEvent("CustomEvent");b.initCustomEvent("presentationmodechanged",!0,!0,{active:a.active,switchInProgress:a.switchInProgress});window.dispatchEvent(b)});a.on("outlineloaded",function(a){var b=
document.createEvent("CustomEvent");b.initCustomEvent("outlineloaded",!0,!0,{outlineCount:a.outlineCount});a.source.container.dispatchEvent(b)})}var a=d.EventBus,k=null;c.attachDOMEventsToEventBus=j;c.getGlobalEventBus=function(){if(k)return k;k=new a;j(k);return k}});(function(c,d){d(c.pdfjsWebPDFFindController={},c.pdfjsWebUIUtils)})(this,function(c,d){var j=d.scrollIntoView,a={FIND_FOUND:0,FIND_NOTFOUND:1,FIND_WRAPPED:2,FIND_PENDING:3},k={"\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',
"\u201d":'"',"\u201e":'"',"\u201f":'"',"\u00bc":"1/4","\u00bd":"1/2","\u00be":"3/4"},i=function(){function c(b){this.pdfViewer=b.pdfViewer||null;this.onUpdateState=this.onUpdateResultsCount=null;this.reset();b=Object.keys(k).join("");this.normalizationRegex=RegExp("["+b+"]","g")}c.prototype={reset:function(){this.startedTextExtraction=!1;this.extractTextPromises=[];this.pendingFindMatches=Object.create(null);this.active=!1;this.pageContents=[];this.pageMatches=[];this.pageMatchesLength=null;this.matchCount=
0;this.selected={pageIdx:-1,matchIdx:-1};this.offset={pageIdx:null,matchIdx:null};this.state=this.resumePageIdx=this.pagesToSearch=null;this.dirtyMatch=!1;this.findTimeout=null;this.firstPagePromise=new Promise(function(b){this.resolveFirstPage=b}.bind(this))},normalize:function(b){return b.replace(this.normalizationRegex,function(b){return k[b]})},_prepareMatches:function(b,a,c){function h(b,a){var g,f;g=b[a];f=b[a+1];if(a<b.length-1&&g.match===f.match)return g.skipped=!0;for(var c=a-1;0<=c;c--)if(f=
b[c],!f.skipped){if(f.match+f.matchLength<g.match)break;if(f.match+f.matchLength>=g.match+g.matchLength)return g.skipped=!0}return!1}var f,e;b.sort(function(b,a){return b.match===a.match?b.matchLength-a.matchLength:b.match-a.match});f=0;for(e=b.length;f<e;f++)h(b,f)||(a.push(b[f].match),c.push(b[f].matchLength))},calcFindPhraseMatch:function(b,a,c){for(var h=[],f=b.length,e=-f;;){e=c.indexOf(b,e+f);if(-1===e)break;h.push(e)}this.pageMatches[a]=h},calcFindWordMatch:function(b,a,c){for(var e=[],b=b.match(/\S+/g),
f,r,d,v=0,i=b.length;v<i;v++){f=b[v];r=f.length;for(d=-r;;){d=c.indexOf(f,d+r);if(-1===d)break;e.push({match:d,matchLength:r,skipped:!1})}}this.pageMatchesLength||(this.pageMatchesLength=[]);this.pageMatchesLength[a]=[];this.pageMatches[a]=[];this._prepareMatches(e,this.pageMatches[a],this.pageMatchesLength[a])},calcFindMatch:function(b){var a=this.normalize(this.pageContents[b]),c=this.normalize(this.state.query),e=this.state.caseSensitive,f=this.state.phraseSearch;if(0!==c.length&&(e||(a=a.toLowerCase(),
c=c.toLowerCase()),f?this.calcFindPhraseMatch(c,b,a):this.calcFindWordMatch(c,b,a),this.updatePage(b),this.resumePageIdx===b&&(this.resumePageIdx=null,this.nextPageMatch()),0<this.pageMatches[b].length))this.matchCount+=this.pageMatches[b].length,this.updateUIResultsCount()},extractText:function(){function b(c){f.pdfViewer.getPageTextContent(c).then(function(e){for(var e=e.items,h=[],q=0,d=e.length;q<d;q++)h.push(e[q].str);f.pageContents.push(h.join(""));a[c](c);c+1<f.pdfViewer.pagesCount&&b(c+1)})}
if(!this.startedTextExtraction){this.startedTextExtraction=!0;this.pageContents=[];for(var a=[],c=this.pdfViewer.pagesCount,e=0;e<c;e++)this.extractTextPromises.push(new Promise(function(b){a.push(b)}));var f=this;b(0)}},executeCommand:function(b,g){if(null===this.state||"findagain"!==b)this.dirtyMatch=!0;this.state=g;this.updateUIState(a.FIND_PENDING);this.firstPagePromise.then(function(){this.extractText();clearTimeout(this.findTimeout);"find"===b?this.findTimeout=setTimeout(this.nextMatch.bind(this),
250):this.nextMatch()}.bind(this))},updatePage:function(b){this.selected.pageIdx===b&&(this.pdfViewer.currentPageNumber=b+1);b=this.pdfViewer.getPageView(b);b.textLayer&&b.textLayer.updateMatches()},nextMatch:function(){var b=this.state.findPrevious,g=this.pdfViewer.currentPageNumber-1,c=this.pdfViewer.pagesCount;this.active=!0;if(this.dirtyMatch){this.dirtyMatch=!1;this.selected.pageIdx=this.selected.matchIdx=-1;this.offset.pageIdx=g;this.offset.matchIdx=null;this.hadMatch=!1;this.resumePageIdx=
null;this.pageMatches=[];this.matchCount=0;this.pageMatchesLength=null;for(var e=this,g=0;g<c;g++)this.updatePage(g),g in this.pendingFindMatches||(this.pendingFindMatches[g]=!0,this.extractTextPromises[g].then(function(b){delete e.pendingFindMatches[b];e.calcFindMatch(b)}))}if(""===this.state.query)this.updateUIState(a.FIND_FOUND);else if(!this.resumePageIdx){g=this.offset;this.pagesToSearch=c;if(null!==g.matchIdx){c=this.pageMatches[g.pageIdx].length;if(!b&&g.matchIdx+1<c||b&&0<g.matchIdx){this.hadMatch=
!0;g.matchIdx=b?g.matchIdx-1:g.matchIdx+1;this.updateMatch(!0);return}this.advanceOffsetPage(b)}this.nextPageMatch()}},matchesReady:function(b){var a=this.offset,b=b.length,c=this.state.findPrevious;if(b)return this.hadMatch=!0,a.matchIdx=c?b-1:0,this.updateMatch(!0),!0;this.advanceOffsetPage(c);return a.wrapped&&(a.matchIdx=null,0>this.pagesToSearch)?(this.updateMatch(!1),!0):!1},updateMatchPosition:function(b,a,c,e){this.selected.matchIdx===a&&this.selected.pageIdx===b&&j(c[e],{top:-50,left:-400},
!0)},nextPageMatch:function(){null!==this.resumePageIdx&&console.error("There can only be one pending page.");do{var b=this.offset.pageIdx,a=this.pageMatches[b];if(!a){this.resumePageIdx=b;break}}while(!this.matchesReady(a))},advanceOffsetPage:function(b){var a=this.offset,c=this.extractTextPromises.length;a.pageIdx=b?a.pageIdx-1:a.pageIdx+1;a.matchIdx=null;this.pagesToSearch--;if(a.pageIdx>=c||0>a.pageIdx)a.pageIdx=b?c-1:0,a.wrapped=!0},updateMatch:function(b){var g=a.FIND_NOTFOUND,c=this.offset.wrapped;
this.offset.wrapped=!1;b&&(b=this.selected.pageIdx,this.selected.pageIdx=this.offset.pageIdx,this.selected.matchIdx=this.offset.matchIdx,g=c?a.FIND_WRAPPED:a.FIND_FOUND,-1!==b&&b!==this.selected.pageIdx&&this.updatePage(b));this.updateUIState(g,this.state.findPrevious);-1!==this.selected.pageIdx&&this.updatePage(this.selected.pageIdx)},updateUIResultsCount:function(){if(this.onUpdateResultsCount)this.onUpdateResultsCount(this.matchCount)},updateUIState:function(a,g){if(this.onUpdateState)this.onUpdateState(a,
g,this.matchCount)}};return c}();c.FindStates=a;c.PDFFindController=i});(function(c,d){d(c.pdfjsWebPDFHistory={},c.pdfjsWebDOMEvents)})(this,function(c,d){function j(a){this.linkService=a.linkService;this.eventBus=a.eventBus||d.getGlobalEventBus();this.initialized=!1;this.initialBookmark=this.initialDestination=null}j.prototype={initialize:function(a){function c(){b.previousHash=window.location.hash.slice(1);b._pushToHistory({hash:b.previousHash},!1,!0);b._updatePreviousBookmark()}function d(a,c){function e(){window.removeEventListener("popstate",
e);window.addEventListener("popstate",f);b._pushToHistory(a,!1,!0);history.forward()}function f(){window.removeEventListener("popstate",f);b.allowHashChange=!0;b.historyUnlocked=!0;c()}b.historyUnlocked=!1;b.allowHashChange=!1;window.addEventListener("popstate",e);history.back()}function e(){var a=b._getPreviousParams(null,!0);a&&(b._pushToHistory(a,!1,!b.current.dest&&b.current.hash!==b.previousHash),b._updatePreviousBookmark());window.removeEventListener("beforeunload",e,!1)}this.initialized=!0;
this.reInitialized=!1;this.historyUnlocked=this.allowHashChange=!0;this.isViewerInPresentationMode=!1;this.previousHash=window.location.hash.substring(1);this.currentBookmark="";this.currentPage=0;this.updatePreviousBookmark=!1;this.previousBookmark="";this.previousPage=0;this.nextHashParam="";this.fingerprint=a;this.currentUid=this.uid=0;this.current={};a=window.history.state;this._isStateObjectDefined(a)?(a.target.dest?this.initialDestination=a.target.dest:this.initialBookmark=a.target.hash,this.currentUid=
a.uid,this.uid=a.uid+1,this.current=a.target):(a&&(a.fingerprint&&this.fingerprint!==a.fingerprint)&&(this.reInitialized=!0),this._pushOrReplaceState({fingerprint:this.fingerprint},!0));var b=this;window.addEventListener("popstate",function(a){b.historyUnlocked&&(a.state?b._goTo(a.state):b.uid===0?d(b.previousHash&&b.currentBookmark&&b.previousHash!==b.currentBookmark?{hash:b.currentBookmark,page:b.currentPage}:{page:1},function(){c()}):c())},!1);window.addEventListener("beforeunload",e,!1);window.addEventListener("pageshow",
function(){window.addEventListener("beforeunload",e,false)},!1);b.eventBus.on("presentationmodechanged",function(a){b.isViewerInPresentationMode=a.active})},clearHistoryState:function(){this._pushOrReplaceState(null,!0)},_isStateObjectDefined:function(a){return a&&0<=a.uid&&a.fingerprint&&this.fingerprint===a.fingerprint&&a.target&&a.target.hash?!0:!1},_pushOrReplaceState:function(a,c){c?window.history.replaceState(a,"",document.URL):window.history.pushState(a,"",document.URL)},get isHashChangeUnlocked(){return!this.initialized?
!0:this.allowHashChange},_updatePreviousBookmark:function(){this.updatePreviousBookmark&&(this.currentBookmark&&this.currentPage)&&(this.previousBookmark=this.currentBookmark,this.previousPage=this.currentPage,this.updatePreviousBookmark=!1)},updateCurrentBookmark:function(a,c){this.initialized&&(this.currentBookmark=a.substring(1),this.currentPage=c|0,this._updatePreviousBookmark())},updateNextHashParam:function(a){this.initialized&&(this.nextHashParam=a)},push:function(a,c){if(this.initialized&&
this.historyUnlocked)if(a.dest&&!a.hash&&(a.hash=this.current.hash&&this.current.dest&&this.current.dest===a.dest?this.current.hash:this.linkService.getDestinationHash(a.dest).split("#")[1]),a.page&&(a.page|=0),c){var d=window.history.state.target;d||(this._pushToHistory(a,!1),this.previousHash=window.location.hash.substring(1));this.updatePreviousBookmark=this.nextHashParam?!1:!0;d&&this._updatePreviousBookmark()}else{if(this.nextHashParam){if(this.nextHashParam===a.hash){this.nextHashParam=null;
this.updatePreviousBookmark=!0;return}this.nextHashParam=null}a.hash?this.current.hash?this.current.hash!==a.hash?this._pushToHistory(a,!0):(!this.current.page&&a.page&&this._pushToHistory(a,!1,!0),this.updatePreviousBookmark=!0):this._pushToHistory(a,!0):this.current.page&&(a.page&&this.current.page!==a.page)&&this._pushToHistory(a,!0)}},_getPreviousParams:function(a,c){if(!this.currentBookmark||!this.currentPage)return null;this.updatePreviousBookmark&&(this.updatePreviousBookmark=!1);if(0<this.uid&&
(!this.previousBookmark||!this.previousPage))return null;if(!this.current.dest&&!a||c){if(this.previousBookmark===this.currentBookmark)return null}else if(this.current.page||a){if(this.previousPage===this.currentPage)return null}else return null;var d={hash:this.currentBookmark,page:this.currentPage};this.isViewerInPresentationMode&&(d.hash=null);return d},_stateObj:function(a){return{fingerprint:this.fingerprint,uid:this.uid,target:a}},_pushToHistory:function(a,c,d){this.initialized&&(!a.hash&&a.page&&
(a.hash="page="+a.page),c&&!d&&(c=this._getPreviousParams())&&this._pushToHistory(c,!1,!this.current.dest&&this.current.hash!==this.previousHash),this._pushOrReplaceState(this._stateObj(a),d||0===this.uid),this.currentUid=this.uid++,this.current=a,this.updatePreviousBookmark=!0)},_goTo:function(a){if(this.initialized&&this.historyUnlocked&&this._isStateObjectDefined(a)){if(!this.reInitialized&&a.uid<this.currentUid){var c=this._getPreviousParams(!0);if(c){this._pushToHistory(this.current,!1);this._pushToHistory(c,
!1);this.currentUid=a.uid;window.history.back();return}}this.historyUnlocked=!1;a.target.dest?this.linkService.navigateTo(a.target.dest):this.linkService.setHash(a.target.hash);this.currentUid=a.uid;a.uid>this.uid&&(this.uid=a.uid);this.current=a.target;this.updatePreviousBookmark=!0;a=window.location.hash.substring(1);this.previousHash!==a&&(this.allowHashChange=!1);this.previousHash=a;this.historyUnlocked=!0}},back:function(){this.go(-1)},forward:function(){this.go(1)},go:function(a){if(this.initialized&&
this.historyUnlocked){var c=window.history.state;-1===a&&c&&0<c.uid?window.history.back():1===a&&(c&&c.uid<this.uid-1)&&window.history.forward()}}};c.PDFHistory=j});(function(c,d){d(c.pdfjsWebPDFLinkService={},c.pdfjsWebUIUtils,c.pdfjsWebDOMEvents)})(this,function(c,d,j){var a=d.parseQueryString,k=/^\d+$/,d=function(){function c(a){a=a||{};this.eventBus=a.eventBus||j.getGlobalEventBus();this._pagesRefCache=this.pdfHistory=this.pdfViewer=this.pdfDocument=this.baseUrl=null}function b(a){if(!(a instanceof
Array))return!1;var b=a.length,c=!0;if(2>b)return!1;var f=a[0];if(!("object"===typeof f&&"number"===typeof f.num&&(f.num|0)===f.num&&"number"===typeof f.gen&&(f.gen|0)===f.gen)&&!("number"===typeof f&&(f|0)===f&&0<=f))return!1;f=a[1];if(!("object"===typeof f&&"string"===typeof f.name))return!1;switch(f.name){case "XYZ":if(5!==b)return!1;break;case "Fit":case "FitB":return 2===b;case "FitH":case "FitBH":case "FitV":case "FitBV":if(3!==b)return!1;break;case "FitR":if(6!==b)return!1;c=!1;break;default:return!1}for(f=
2;f<b;f++){var e=a[f];if(!("number"===typeof e||c&&null===e))return!1}return!0}c.prototype={setDocument:function(a,b){this.baseUrl=b;this.pdfDocument=a;this._pagesRefCache=Object.create(null)},setViewer:function(a){this.pdfViewer=a},setHistory:function(a){this.pdfHistory=a},get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0},get page(){return this.pdfViewer.currentPageNumber},set page(a){this.pdfViewer.currentPageNumber=a},navigateTo:function(a){var b="",c=this,f=function(e){var d;
if(e instanceof Object)d=c._cachedPageNumber(e);else if((e|0)===e)d=e+1;else{console.error('PDFLinkService_navigateTo: "'+e+'" is not a valid destination reference.');return}d?1>d||d>c.pagesCount?console.error('PDFLinkService_navigateTo: "'+d+'" is a non-existent page number.'):(c.pdfViewer.scrollPageIntoView({pageNumber:d,destArray:a}),c.pdfHistory&&c.pdfHistory.push({dest:a,hash:b,page:d})):c.pdfDocument.getPageIndex(e).then(function(a){c.cachePageRef(a+1,e);f(e)}).catch(function(){console.error('PDFLinkService_navigateTo: "'+
e+'" is not a valid page reference.')})},e;"string"===typeof a?(b=a,e=this.pdfDocument.getDestination(a)):e=Promise.resolve(a);e.then(function(b){a=b;b instanceof Array?f(b[0]):console.error('PDFLinkService_navigateTo: "'+b+'" is not a valid destination array.')})},getDestinationHash:function(a){return"string"===typeof a?this.getAnchorUrl("#"+(k.test(a)?"nameddest=":"")+escape(a)):a instanceof Array?(a=JSON.stringify(a),this.getAnchorUrl("#"+escape(a))):this.getAnchorUrl("")},getAnchorUrl:function(a){return(this.baseUrl||
"")+a},setHash:function(c){var e,d;if(0<=c.indexOf("="))if(c=a(c),"search"in c&&this.eventBus.dispatch("findfromurlhash",{source:this,query:c.search.replace(/"/g,""),phraseSearch:"true"===c.phrase}),"nameddest"in c)this.pdfHistory&&this.pdfHistory.updateNextHashParam(c.nameddest),this.navigateTo(c.nameddest);else{"page"in c&&(e=c.page|0||1);if("zoom"in c){var f=c.zoom.split(","),r=f[0],i=parseFloat(r);-1===r.indexOf("Fit")?d=[null,{name:"XYZ"},1<f.length?f[1]|0:null,2<f.length?f[2]|0:null,i?i/100:
r]:"Fit"===r||"FitB"===r?d=[null,{name:r}]:"FitH"===r||"FitBH"===r||"FitV"===r||"FitBV"===r?d=[null,{name:r},1<f.length?f[1]|0:null]:"FitR"===r?5!==f.length?console.error("PDFLinkService_setHash: Not enough parameters for 'FitR'."):d=[null,{name:r},f[1]|0,f[2]|0,f[3]|0,f[4]|0]:console.error("PDFLinkService_setHash: '"+r+"' is not a valid zoom value.")}d?this.pdfViewer.scrollPageIntoView({pageNumber:e||this.page,destArray:d,allowNegativeOffset:!0}):e&&(this.page=e);"pagemode"in c&&this.eventBus.dispatch("pagemode",
{source:this,mode:c.pagemode})}else{k.test(c)&&c<=this.pagesCount&&(console.warn('PDFLinkService_setHash: specifying a page number directly after the hash symbol (#) is deprecated, please use the "#page='+c+'" form instead.'),this.page=c|0);d=unescape(c);try{d=JSON.parse(d),d instanceof Array||(d=d.toString())}catch(v){}"string"===typeof d||b(d)?(this.pdfHistory&&this.pdfHistory.updateNextHashParam(d),this.navigateTo(d)):console.error("PDFLinkService_setHash: '"+unescape(c)+"' is not a valid destination.")}},
executeNamedAction:function(a){switch(a){case "GoBack":this.pdfHistory&&this.pdfHistory.back();break;case "GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case "NextPage":this.page<this.pagesCount&&this.page++;break;case "PrevPage":1<this.page&&this.page--;break;case "LastPage":this.page=this.pagesCount;break;case "FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:a})},cachePageRef:function(a,b){this._pagesRefCache[b.num+" "+b.gen+" R"]=a},_cachedPageNumber:function(a){a=
a.num+" "+a.gen+" R";return this._pagesRefCache&&this._pagesRefCache[a]||null}};return c}(),i=function(){function a(){}a.prototype={get page(){return 0},set page(a){},navigateTo:function(){},getDestinationHash:function(){return"#"},getAnchorUrl:function(){return"#"},setHash:function(){},executeNamedAction:function(){},cachePageRef:function(){}};return a}();c.PDFLinkService=d;c.SimpleLinkService=i});(function(c,d){d(c.pdfjsWebPDFPageView={},c.pdfjsWebUIUtils,c.pdfjsWebPDFRenderingQueue,c.pdfjsWebDOMEvents,
c.pdfjsWebPDFJS)})(this,function(c,d,j,a,k){var i=d.CSS_UNITS,e=d.DEFAULT_SCALE,b=d.getOutputScale,g=d.approximateFraction,q=d.roundToDivide,h=j.RenderingStates,d=function(){function c(b){var f=b.container,g=b.id,d=b.scale,i=b.defaultViewport,q=b.renderingQueue,l=b.textLayerFactory,k=b.annotationLayerFactory,p=b.enhanceTextSelection||!1,s=b.renderInteractiveForms||!1;this.id=g;this.renderingId="page"+g;this.rotation=0;this.scale=d||e;this.viewport=i;this.pdfPageRotate=i.rotation;this.hasRestrictedScaling=
!1;this.enhanceTextSelection=p;this.renderInteractiveForms=s;this.eventBus=b.eventBus||a.getGlobalEventBus();this.renderingQueue=q;this.textLayerFactory=l;this.annotationLayerFactory=k;this.renderTask=null;this.renderingState=h.INITIAL;this.annotationLayer=this.zoomLayer=this.textLayer=this.onAfterDraw=this.onBeforeDraw=this.resume=null;b=document.createElement("div");b.id="pageContainer"+this.id;b.className="page";b.style.width=Math.floor(this.viewport.width)+"px";b.style.height=Math.floor(this.viewport.height)+
"px";b.setAttribute("data-page-number",this.id);this.div=b;f.appendChild(b)}c.prototype={setPdfPage:function(a){this.pdfPage=a;this.pdfPageRotate=a.rotate;this.viewport=a.getViewport(this.scale*i,(this.rotation+this.pdfPageRotate)%360);this.stats=a.stats;this.reset()},destroy:function(){this.zoomLayer=null;this.reset();this.pdfPage&&this.pdfPage.cleanup()},reset:function(a,b){this.cancelRendering();var c=this.div;c.style.width=Math.floor(this.viewport.width)+"px";c.style.height=Math.floor(this.viewport.height)+
"px";for(var e=c.childNodes,f=a&&this.zoomLayer||null,g=b&&this.annotationLayer&&this.annotationLayer.div||null,d=e.length-1;0<=d;d--){var h=e[d];f===h||g===h||c.removeChild(h)}c.removeAttribute("data-loaded");g?this.annotationLayer.hide():this.annotationLayer=null;this.canvas&&!f&&(this.canvas.width=0,this.canvas.height=0,delete this.canvas);this.loadingIconDiv=document.createElement("div");this.loadingIconDiv.className="loadingIcon";c.appendChild(this.loadingIconDiv)},update:function(a,b){this.scale=
a||this.scale;"undefined"!==typeof b&&(this.rotation=b);this.viewport=this.viewport.clone({scale:this.scale*i,rotation:(this.rotation+this.pdfPageRotate)%360});var c=!1;if(this.canvas&&0<k.PDFJS.maxCanvasPixels){var e=this.outputScale;(Math.floor(this.viewport.width)*e.sx|0)*(Math.floor(this.viewport.height)*e.sy|0)>k.PDFJS.maxCanvasPixels&&(c=!0)}if(this.canvas){if(k.PDFJS.useOnlyCssZoom||this.hasRestrictedScaling&&c){this.cssTransform(this.canvas,!0);this.eventBus.dispatch("pagerendered",{source:this,
pageNumber:this.id,cssTransform:!0});return}this.zoomLayer||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild);this.reset(!0,!0)},cancelRendering:function(){this.renderTask&&(this.renderTask.cancel(),this.renderTask=null);this.renderingState=h.INITIAL;this.resume=null;this.textLayer&&(this.textLayer.cancel(),this.textLayer=null)},updatePosition:function(){this.textLayer&&this.textLayer.render(200)},cssTransform:function(a,
b){var c=k.CustomStyle,e=this.viewport.width,f=this.viewport.height,g=this.div;a.style.width=a.parentNode.style.width=g.style.width=Math.floor(e)+"px";a.style.height=a.parentNode.style.height=g.style.height=Math.floor(f)+"px";var g=this.viewport.rotation-a._viewport.rotation,d=Math.abs(g),h=1,i=1;if(90===d||270===d)h=f/e,i=e/f;c.setProp("transform",a,"rotate("+g+"deg) scale("+h+","+i+")");if(this.textLayer){d=this.textLayer.viewport;f=Math.abs(this.viewport.rotation-d.rotation);g=e/d.width;if(90===
f||270===f)g=e/d.height;var e=this.textLayer.textLayerDiv,q,j;switch(f){case 0:q=j=0;break;case 90:q=0;j="-"+e.style.height;break;case 180:q="-"+e.style.width;j="-"+e.style.height;break;case 270:q="-"+e.style.width;j=0;break;default:console.error("Bad rotation value.")}c.setProp("transform",e,"rotate("+f+"deg) scale("+g+", "+g+") translate("+q+", "+j+")");c.setProp("transformOrigin",e,"0% 0%")}b&&this.annotationLayer&&this.annotationLayer.render(this.viewport,"display")},get width(){return this.viewport.width},
get height(){return this.viewport.height},getPagePoint:function(a,b){return this.viewport.convertToPdfPoint(a,b)},draw:function(){function a(b){t===m.renderTask&&(m.renderTask=null);if("cancelled"===b)y(b);else{m.renderingState=h.FINISHED;l&&(m.canvas.removeAttribute("hidden"),l=!1);m.loadingIconDiv&&(f.removeChild(m.loadingIconDiv),delete m.loadingIconDiv);if(m.zoomLayer){var e=m.zoomLayer.firstChild;e.width=0;e.height=0;f.contains(m.zoomLayer)&&f.removeChild(m.zoomLayer);m.zoomLayer=null}m.error=
b;m.stats=c.stats;if(m.onAfterDraw)m.onAfterDraw();m.eventBus.dispatch("pagerendered",{source:m,pageNumber:m.id,cssTransform:!1});b?y(b):A(void 0)}}this.renderingState!==h.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());this.renderingState=h.RUNNING;var c=this.pdfPage,e=this.viewport,f=this.div,d=document.createElement("div");d.style.width=f.style.width;d.style.height=f.style.height;d.classList.add("canvasWrapper");var j=document.createElement("canvas");j.id="page"+this.id;
j.setAttribute("hidden","hidden");var l=!0;d.appendChild(j);this.annotationLayer&&this.annotationLayer.div?f.insertBefore(d,this.annotationLayer.div):f.appendChild(d);this.canvas=j;j.mozOpaque=!0;var u=j.getContext("2d",{alpha:!1}),p=b(u);this.outputScale=p;if(k.PDFJS.useOnlyCssZoom){var s=e.clone({scale:i});p.sx*=s.width/e.width;p.sy*=s.height/e.height;p.scaled=!0}0<k.PDFJS.maxCanvasPixels&&(s=Math.sqrt(k.PDFJS.maxCanvasPixels/(e.width*e.height)),p.sx>s||p.sy>s?(p.sx=s,p.sy=s,this.hasRestrictedScaling=
p.scaled=!0):this.hasRestrictedScaling=!1);var s=g(p.sx),o=g(p.sy);j.width=q(e.width*p.sx,s[0]);j.height=q(e.height*p.sy,o[0]);j.style.width=q(e.width,s[1])+"px";j.style.height=q(e.height,o[1])+"px";j._viewport=e;var n=e=null;this.textLayerFactory&&(e=document.createElement("div"),e.className="textLayer",e.style.width=d.style.width,e.style.height=d.style.height,this.annotationLayer&&this.annotationLayer.div?f.insertBefore(e,this.annotationLayer.div):f.appendChild(e),n=this.textLayerFactory.createTextLayerBuilder(e,
this.id-1,this.viewport,this.enhanceTextSelection));this.textLayer=n;var A,y,d=new Promise(function(a,b){A=a;y=b}),m=this,e=null;this.renderingQueue&&(e=function(a){if(m.renderingQueue.isHighestPriority(m)){if(l){m.canvas.removeAttribute("hidden");l=false}a()}else{m.renderingState=h.PAUSED;m.resume=function(){m.renderingState=h.RUNNING;a()}}});var t=this.renderTask=this.pdfPage.render({canvasContext:u,transform:!p.scaled?null:[p.sx,0,0,p.sy,0,0],viewport:this.viewport,renderInteractiveForms:this.renderInteractiveForms});
t.onContinue=e;this.renderTask.promise.then(function(){a(null);n&&m.pdfPage.getTextContent({normalizeWhitespace:true}).then(function(a){n.setTextContent(a);n.render(200)})},function(b){a(b)});this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(f,this.pdfPage,this.renderInteractiveForms)),this.annotationLayer.render(this.viewport,"display"));f.setAttribute("data-loaded",!0);if(m.onBeforeDraw)m.onBeforeDraw();return d}};
return c}();c.PDFPageView=d});(function(c,d){d(c.pdfjsWebTextLayerBuilder={},c.pdfjsWebDOMEvents,c.pdfjsWebPDFJS)})(this,function(c,d,j){function a(){}var k=function(){function a(c){this.textLayerDiv=c.textLayerDiv;this.eventBus=c.eventBus||d.getGlobalEventBus();this.textContent=null;this.renderingDone=!1;this.pageIdx=c.pageIndex;this.pageNumber=this.pageIdx+1;this.matches=[];this.viewport=c.viewport;this.textDivs=[];this.findController=c.findController||null;this.textLayerRenderTask=null;this.enhanceTextSelection=
c.enhanceTextSelection;this._bindMouse()}a.prototype={_finishRendering:function(){this.renderingDone=!0;if(!this.enhanceTextSelection){var a=document.createElement("div");a.className="endOfContent";this.textLayerDiv.appendChild(a)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})},render:function(a){if(this.textContent&&!this.renderingDone){this.cancel();this.textDivs=[];var b=document.createDocumentFragment();this.textLayerRenderTask=
j.renderTextLayer({textContent:this.textContent,container:b,viewport:this.viewport,textDivs:this.textDivs,timeout:a,enhanceTextSelection:this.enhanceTextSelection});this.textLayerRenderTask.promise.then(function(){this.textLayerDiv.appendChild(b);this._finishRendering();this.updateMatches()}.bind(this),function(){})}},cancel:function(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null)},setTextContent:function(a){this.cancel();this.textContent=a},convertMatches:function(a,
b){var c=0,d=0,h=this.textContent.items,f=h.length-1,i=null===this.findController?0:this.findController.state.query.length,j=[];if(!a)return j;for(var k=0,n=a.length;k<n;k++){for(var w=a[k];c!==f&&w>=d+h[c].str.length;)d+=h[c].str.length,c++;c===h.length&&console.error("Could not find a matching mapping");for(var o={begin:{divIdx:c,offset:w-d}},w=b?w+b[k]:w+i;c!==f&&w>d+h[c].str.length;)d+=h[c].str.length,c++;o.end={divIdx:c,offset:w-d};j.push(o)}return j},renderMatches:function(a){function b(a,b){var e=
a.divIdx;h[e].textContent="";c(e,0,a.offset,b)}function c(a,b,e,f){var g=h[a],a=d[a].str.substring(b,e),a=document.createTextNode(a);f?(b=document.createElement("span"),b.className=f,b.appendChild(a),g.appendChild(b)):g.appendChild(a)}if(0!==a.length){var d=this.textContent.items,h=this.textDivs,f=null,i=this.pageIdx,j=null===this.findController?!1:i===this.findController.selected.pageIdx,k=null===this.findController?-1:this.findController.selected.matchIdx,n=k,o=n+1;if(null===this.findController?
0:this.findController.state.highlightAll)n=0,o=a.length;else if(!j)return;for(;n<o;n++){var x=a[n],l=x.begin,x=x.end,u=j&&n===k?" selected":"";this.findController&&this.findController.updateMatchPosition(i,n,h,l.divIdx);!f||l.divIdx!==f.divIdx?(null!==f&&c(f.divIdx,f.offset,void 0),b(l)):c(f.divIdx,f.offset,l.offset);if(l.divIdx===x.divIdx)c(l.divIdx,l.offset,x.offset,"highlight"+u);else{c(l.divIdx,l.offset,void 0,"highlight begin"+u);f=l.divIdx+1;for(l=x.divIdx;f<l;f++)h[f].className="highlight middle"+
u;b(x,"highlight end"+u)}f=x}f&&c(f.divIdx,f.offset,void 0)}},updateMatches:function(){if(this.renderingDone){for(var a=this.matches,b=this.textDivs,c=this.textContent.items,d=-1,h=0,f=a.length;h<f;h++){for(var i=a[h],d=Math.max(d,i.begin.divIdx),j=i.end.divIdx;d<=j;d++){var k=b[d];k.textContent=c[d].str;k.className=""}d=i.end.divIdx+1}if(null!==this.findController&&this.findController.active){var n,o;null!==this.findController&&(n=this.findController.pageMatches[this.pageIdx]||null,o=this.findController.pageMatchesLength?
this.findController.pageMatchesLength[this.pageIdx]||null:null);this.matches=this.convertMatches(n,o);this.renderMatches(this.matches)}}},_bindMouse:function(){var a=this.textLayerDiv,b=this,c=null;a.addEventListener("mousedown",function(d){if(b.enhanceTextSelection&&b.textLayerRenderTask)b.textLayerRenderTask.expandTextDivs(!0),c&&(clearTimeout(c),c=null);else{var h=a.querySelector(".endOfContent");if(h){var f=d.target!==a;if(f=f&&"none"!==window.getComputedStyle(h).getPropertyValue("-moz-user-select"))f=
a.getBoundingClientRect(),d=Math.max(0,(d.pageY-f.top)/f.height),h.style.top=(100*d).toFixed(2)+"%";h.classList.add("active")}}});a.addEventListener("mouseup",function(){if(b.enhanceTextSelection&&b.textLayerRenderTask)c=setTimeout(function(){b.textLayerRenderTask&&b.textLayerRenderTask.expandTextDivs(!1);c=null},300);else{var d=a.querySelector(".endOfContent");d&&(d.style.top="",d.classList.remove("active"))}})}};return a}();a.prototype={createTextLayerBuilder:function(a,c,b,d){return new k({textLayerDiv:a,
pageIndex:c,viewport:b,enhanceTextSelection:d})}};c.TextLayerBuilder=k;c.DefaultTextLayerFactory=a});(function(c,d){d(c.pdfjsWebAnnotationLayerBuilder={},c.pdfjsWebUIUtils,c.pdfjsWebPDFLinkService,c.pdfjsWebPDFJS)})(this,function(c,d,j,a){function k(){}var i=d.mozL10n,e=j.SimpleLinkService,b=function(){function b(a){this.pageDiv=a.pageDiv;this.pdfPage=a.pdfPage;this.renderInteractiveForms=a.renderInteractiveForms;this.linkService=a.linkService;this.downloadManager=a.downloadManager;this.div=null}
b.prototype={render:function(b,c){var f=this,d={intent:void 0===c?"display":c};this.pdfPage.getAnnotations(d).then(function(c){b=b.clone({dontFlip:!0});d={viewport:b,div:f.div,annotations:c,page:f.pdfPage,renderInteractiveForms:f.renderInteractiveForms,linkService:f.linkService,downloadManager:f.downloadManager};f.div?a.AnnotationLayer.update(d):0!==c.length&&(f.div=document.createElement("div"),f.div.className="annotationLayer",f.pageDiv.appendChild(f.div),d.div=f.div,a.AnnotationLayer.render(d),
"undefined"!==typeof i&&i.translate(f.div))})},hide:function(){this.div&&this.div.setAttribute("hidden","true")}};return b}();k.prototype={createAnnotationLayerBuilder:function(a,c,d){return new b({pageDiv:a,pdfPage:c,renderInteractiveForms:d,linkService:new e})}};c.AnnotationLayerBuilder=b;c.DefaultAnnotationLayerFactory=k});(function(c,d){d(c.pdfjsWebPDFViewer={},c.pdfjsWebUIUtils,c.pdfjsWebPDFPageView,c.pdfjsWebPDFRenderingQueue,c.pdfjsWebTextLayerBuilder,c.pdfjsWebAnnotationLayerBuilder,c.pdfjsWebPDFLinkService,
c.pdfjsWebDOMEvents,c.pdfjsWebPDFJS)})(this,function(c,d,j,a,k,i,e,b,g){var n=d.UNKNOWN_SCALE,h=d.SCROLLBAR_PADDING,f=d.VERTICAL_PADDING,o=d.MAX_AUTO_SCALE,t=d.CSS_UNITS,v=d.DEFAULT_SCALE,z=d.DEFAULT_SCALE_VALUE,w=d.scrollIntoView,x=d.watchScroll,l=d.getVisibleElements,u=j.PDFPageView,p=a.RenderingStates,s=a.PDFRenderingQueue,B=k.TextLayerBuilder,C=i.AnnotationLayerBuilder,A=e.SimpleLinkService,y={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},d=function(){function a(b){var c=[];this.push=function(a){var d=
c.indexOf(a);0<=d&&c.splice(d,1);c.push(a);c.length>b&&c.shift().destroy()};this.resize=function(a){for(b=a;c.length>b;)c.shift().destroy()}}function c(a){this.container=a.container;this.viewer=a.viewer||a.container.firstElementChild;this.eventBus=a.eventBus||b.getGlobalEventBus();this.linkService=a.linkService||new A;this.downloadManager=a.downloadManager||null;this.removePageBorders=a.removePageBorders||!1;this.enhanceTextSelection=a.enhanceTextSelection||!1;this.renderInteractiveForms=a.renderInteractiveForms||
!1;(this.defaultRenderingQueue=!a.renderingQueue)?(this.renderingQueue=new s,this.renderingQueue.setViewer(this)):this.renderingQueue=a.renderingQueue;this.scroll=x(this.container,this._scrollUpdate.bind(this));this.presentationModeState=y.UNKNOWN;this._resetView();this.removePageBorders&&this.viewer.classList.add("removePageBorders")}c.prototype={get pagesCount(){return this._pages.length},getPageView:function(a){return this._pages[a]},get pageViewsReady(){return this._pageViewsReady},get currentPageNumber(){return this._currentPageNumber},
set currentPageNumber(a){if((a|0)!==a)throw Error("Invalid page number.");this.pdfDocument?this._setCurrentPageNumber(a,!0):this._currentPageNumber=a},_setCurrentPageNumber:function(a,b){if(this._currentPageNumber===a)b&&this._resetCurrentPageView();else if(0<a&&a<=this.pagesCount){var c={source:this,pageNumber:a};this._currentPageNumber=a;this.eventBus.dispatch("pagechanging",c);this.eventBus.dispatch("pagechange",c);b&&this._resetCurrentPageView()}else console.error('PDFViewer_setCurrentPageNumber: "'+
a+'" is out of bounds.')},get currentScale(){return this._currentScale!==n?this._currentScale:v},set currentScale(a){if(isNaN(a))throw Error("Invalid numeric scale");this.pdfDocument?this._setScale(a,!1):(this._currentScale=a,this._currentScaleValue=a!==n?a.toString():null)},get currentScaleValue(){return this._currentScaleValue},set currentScaleValue(a){this.pdfDocument?this._setScale(a,!1):(this._currentScale=isNaN(a)?n:a,this._currentScaleValue=a.toString())},get pagesRotation(){return this._pagesRotation},
set pagesRotation(a){if(!("number"===typeof a&&0===a%90))throw Error("Invalid pages rotation angle.");this._pagesRotation=a;if(this.pdfDocument){for(var b=0,c=this._pages.length;b<c;b++){var d=this._pages[b];d.update(d.scale,a)}this._setScale(this._currentScaleValue,!0);this.defaultRenderingQueue&&this.update()}},setDocument:function(a){this.pdfDocument&&(this._cancelRendering(),this._resetView());if(this.pdfDocument=a){var b=a.numPages,c=this,d,f=new Promise(function(a){d=a});this.pagesPromise=f;
f.then(function(){c._pageViewsReady=true;c.eventBus.dispatch("pagesloaded",{source:c,pagesCount:b})});var e=!1,h=null,i=new Promise(function(a){h=a});this.onePageRendered=i;var j=function(a){a.onBeforeDraw=function(){c._buffer.push(this)};a.onAfterDraw=function(){if(!e){e=true;h()}}};this.firstPagePromise=f=a.getPage(1);return f.then(function(f){for(var e=this.currentScale,f=f.getViewport(e*t),h=1;h<=b;++h){var k=null;g.PDFJS.disableTextLayer||(k=this);k=new u({container:this.viewer,eventBus:this.eventBus,
id:h,scale:e,defaultViewport:f.clone(),renderingQueue:this.renderingQueue,textLayerFactory:k,annotationLayerFactory:this,enhanceTextSelection:this.enhanceTextSelection,renderInteractiveForms:this.renderInteractiveForms});j(k);this._pages.push(k)}var D=this.linkService;i.then(function(){if(g.PDFJS.disableAutoFetch)d();else for(var f=b,e=1;e<=b;++e)a.getPage(e).then(function(a,b){var e=c._pages[a-1];e.pdfPage||e.setPdfPage(b);D.cachePageRef(a,b.ref);f--;f||d()}.bind(null,e))});c.eventBus.dispatch("pagesinit",
{source:c});this.defaultRenderingQueue&&this.update();this.findController&&this.findController.resolveFirstPage()}.bind(this))}},_resetView:function(){this._pages=[];this._currentPageNumber=1;this._currentScale=n;this._currentScaleValue=null;this._buffer=new a(10);this._location=null;this._pagesRotation=0;this._pagesRequests=[];this._pageViewsReady=!1;this.viewer.textContent=""},_scrollUpdate:function(){if(0!==this.pagesCount){this.update();for(var a=0,b=this._pages.length;a<b;a++)this._pages[a].updatePosition()}},
_setScaleDispatchEvent:function(a,b,c){a={source:this,scale:a,presetValue:c?b:void 0};this.eventBus.dispatch("scalechanging",a);this.eventBus.dispatch("scalechange",a)},_setScaleUpdatePages:function(a,b,c,d){this._currentScaleValue=b.toString();var f;f=this._currentScale;f=a===f?!0:1.0E-15>Math.abs(a-f)?!0:!1;if(f)d&&this._setScaleDispatchEvent(a,b,!0);else{f=0;for(var e=this._pages.length;f<e;f++)this._pages[f].update(a);this._currentScale=a;if(!c){var c=this._currentPageNumber,h;this._location&&
(!g.PDFJS.ignoreCurrentPositionOnZoom&&!this.isInPresentationMode&&!this.isChangingPresentationMode)&&(c=this._location.pageNumber,h=[null,{name:"XYZ"},this._location.left,this._location.top,null]);this.scrollPageIntoView({pageNumber:c,destArray:h,allowNegativeOffset:!0})}this._setScaleDispatchEvent(a,b,d);this.defaultRenderingQueue&&this.update()}},_setScale:function(a,b){var c=parseFloat(a);if(0<c)this._setScaleUpdatePages(c,a,b,!1);else if(c=this._pages[this._currentPageNumber-1]){var d=(this.container.clientWidth-
(this.isInPresentationMode||this.removePageBorders?0:h))/c.width*c.scale,e=(this.container.clientHeight-(this.isInPresentationMode||this.removePageBorders?0:f))/c.height*c.scale;switch(a){case "page-actual":c=1;break;case "page-width":c=d;break;case "page-height":c=e;break;case "page-fit":c=Math.min(d,e);break;case "auto":c=c.width>c.height?Math.min(e,d):d;c=Math.min(o,c);break;default:console.error('PDFViewer_setScale: "'+a+'" is an unknown zoom value.');return}this._setScaleUpdatePages(c,a,b,!0)}},
_resetCurrentPageView:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0);w(this._pages[this._currentPageNumber-1].div)},scrollPageIntoView:function(a){if(this.pdfDocument){if(1<arguments.length||"number"===typeof a){console.warn("Call of scrollPageIntoView() with obsolete signature.");var b={};"number"===typeof a&&(b.pageNumber=a);arguments[1]instanceof Array&&(b.destArray=arguments[1]);a=b}var c=a.pageNumber||0,d=a.destArray||null,b=a.allowNegativeOffset||!1;if(this.isInPresentationMode||
!d)this._setCurrentPageNumber(c,!0);else if(c=this._pages[c-1]){var e=0,g=0,i=0,j=0,k,l;l=0===c.rotation%180?!1:!0;k=(l?c.height:c.width)/c.scale/t;l=(l?c.width:c.height)/c.scale/t;var m=0;switch(d[1].name){case "XYZ":e=d[2];g=d[3];m=d[4];e=null!==e?e:0;g=null!==g?g:l;break;case "Fit":case "FitB":m="page-fit";break;case "FitH":case "FitBH":g=d[2];m="page-width";null===g&&this._location&&(e=this._location.left,g=this._location.top);break;case "FitV":case "FitBV":e=d[2];i=k;j=l;m="page-height";break;
case "FitR":e=d[2];g=d[3];i=d[4]-e;j=d[5]-g;l=this.removePageBorders?0:f;k=(this.container.clientWidth-(this.removePageBorders?0:h))/i/t;l=(this.container.clientHeight-l)/j/t;m=Math.min(Math.abs(k),Math.abs(l));break;default:console.error("PDFViewer_scrollPageIntoView: '"+d[1].name+"' is not a valid destination type.");return}m&&m!==this._currentScale?this.currentScaleValue=m:this._currentScale===n&&(this.currentScaleValue=z);"page-fit"===m&&!d[4]?w(c.div):(e=[c.viewport.convertToViewportPoint(e,
g),c.viewport.convertToViewportPoint(e+i,g+j)],d=Math.min(e[0][0],e[1][0]),e=Math.min(e[0][1],e[1][1]),b||(d=Math.max(d,0),e=Math.max(e,0)),w(c.div,{left:d,top:e}))}else console.error('PDFViewer_scrollPageIntoView: Invalid "pageNumber" parameter.')}},_updateLocation:function(a){var b=this._currentScale,c=this._currentScaleValue,b=parseFloat(c)===b?Math.round(1E4*b)/100:c,c=a.id,d;d="#page="+c+("&zoom="+b);var e=this.container,e=this._pages[c-1].getPagePoint(e.scrollLeft-a.x,e.scrollTop-a.y),a=Math.round(e[0]),
e=Math.round(e[1]);this._location={pageNumber:c,scale:b,top:e,left:a,pdfOpenParams:d+(","+a+","+e)}},update:function(){var a=this._getVisiblePages(),b=a.views;if(0!==b.length){this._buffer.resize(Math.max(10,2*b.length+1));this.renderingQueue.renderHighestPriority(a);for(var c=this._currentPageNumber,a=a.first,d=0,e=b.length,f=!1;d<e;++d){var g=b[d];if(100>g.percent)break;if(g.id===c){f=!0;break}}f||(c=b[0].id);this.isInPresentationMode||this._setCurrentPageNumber(c);this._updateLocation(a);this.eventBus.dispatch("updateviewarea",
{source:this,location:this._location})}},containsElement:function(a){return this.container.contains(a)},focus:function(){this.container.focus()},get isInPresentationMode(){return this.presentationModeState===y.FULLSCREEN},get isChangingPresentationMode(){return this.presentationModeState===y.CHANGING},get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth},_getVisiblePages:function(){if(this.isInPresentationMode){var a=[],b=this._pages[this._currentPageNumber-
1];a.push({id:b.id,view:b});return{first:b,last:b,views:a}}return l(this.container,this._pages,!0)},cleanup:function(){for(var a=0,b=this._pages.length;a<b;a++)this._pages[a]&&this._pages[a].renderingState!==p.FINISHED&&this._pages[a].reset()},_cancelRendering:function(){for(var a=0,b=this._pages.length;a<b;a++)this._pages[a]&&this._pages[a].cancelRendering()},_ensurePdfPageLoaded:function(a){if(a.pdfPage)return Promise.resolve(a.pdfPage);var b=a.id;if(this._pagesRequests[b])return this._pagesRequests[b];
var c=this.pdfDocument.getPage(b).then(function(c){a.setPdfPage(c);this._pagesRequests[b]=null;return c}.bind(this));return this._pagesRequests[b]=c},forceRendering:function(a){var b=this.renderingQueue.getHighestPriority(a||this._getVisiblePages(),this._pages,this.scroll.down);return b?(this._ensurePdfPageLoaded(b).then(function(){this.renderingQueue.renderView(b)}.bind(this)),!0):!1},getPageTextContent:function(a){return this.pdfDocument.getPage(a+1).then(function(a){return a.getTextContent({normalizeWhitespace:!0})})},
createTextLayerBuilder:function(a,b,c,d){return new B({textLayerDiv:a,eventBus:this.eventBus,pageIndex:b,viewport:c,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:this.isInPresentationMode?!1:d})},createAnnotationLayerBuilder:function(a,b,c){return new C({pageDiv:a,pdfPage:b,renderInteractiveForms:c,linkService:this.linkService,downloadManager:this.downloadManager})},setFindController:function(a){this.findController=a},getPagesOverview:function(){return this._pages.map(function(a){a=
a.pdfPage.getViewport(1);return{width:a.width,height:a.height}})}};return c}();c.PresentationModeState=y;c.PDFViewer=d})}).call(o);var n=t.PDFJS;n.PDFViewer=o.pdfjsWebPDFViewer.PDFViewer;n.PDFPageView=o.pdfjsWebPDFPageView.PDFPageView;n.PDFLinkService=o.pdfjsWebPDFLinkService.PDFLinkService;n.TextLayerBuilder=o.pdfjsWebTextLayerBuilder.TextLayerBuilder;n.DefaultTextLayerFactory=o.pdfjsWebTextLayerBuilder.DefaultTextLayerFactory;n.AnnotationLayerBuilder=o.pdfjsWebAnnotationLayerBuilder.AnnotationLayerBuilder;
n.DefaultAnnotationLayerFactory=o.pdfjsWebAnnotationLayerBuilder.DefaultAnnotationLayerFactory;n.PDFHistory=o.pdfjsWebPDFHistory.PDFHistory;n.PDFFindController=o.pdfjsWebPDFFindController.PDFFindController;n.EventBus=o.pdfjsWebUIUtils.EventBus;n.DownloadManager=o.pdfjsWebDownloadManager.DownloadManager;n.ProgressBar=o.pdfjsWebUIUtils.ProgressBar;z.PDFJS=n});
