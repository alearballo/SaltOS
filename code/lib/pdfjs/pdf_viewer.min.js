(function(p,b){"object"===typeof exports&&"object"===typeof module?module.exports=b():"function"===typeof define&&define.amd?define("pdfjs-dist/web/pdf_viewer",[],b):"object"===typeof exports?exports["pdfjs-dist/web/pdf_viewer"]=b():p["pdfjs-dist/web/pdf_viewer"]=p.pdfjsViewer=b()})(this,function(){return function(p){function b(n){if(f[n])return f[n].exports;var m=f[n]={i:n,l:!1,exports:{}};p[n].call(m.exports,m,m.exports,b);m.l=!0;return m.exports}var f={};b.m=p;b.c=f;b.d=function(f,m,l){b.o(f,m)||
Object.defineProperty(f,m,{enumerable:!0,get:l})};b.r=function(b){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});Object.defineProperty(b,"__esModule",{value:!0})};b.t=function(f,m){m&1&&(f=b(f));if(m&8||m&4&&"object"===typeof f&&f&&f.__esModule)return f;var l=Object.create(null);b.r(l);Object.defineProperty(l,"default",{enumerable:!0,value:f});if(m&2&&"string"!=typeof f)for(var q in f)b.d(l,q,function(b){return f[b]}.bind(null,q));return l};
b.n=function(f){var m=f&&f.__esModule?function(){return f["default"]}:function(){return f};b.d(m,"a",m);return m};b.o=function(b,f){return Object.prototype.hasOwnProperty.call(b,f)};b.p="";return b(b.s=0)}([function(p,b,f){Object.defineProperty(b,"__esModule",{value:!0});b.NullL10n=b.GenericL10n=b.ProgressBar=b.DownloadManager=b.EventBus=b.PDFFindController=b.PDFHistory=b.DefaultAnnotationLayerFactory=b.AnnotationLayerBuilder=b.DefaultTextLayerFactory=b.TextLayerBuilder=b.SimpleLinkService=b.PDFLinkService=
b.PDFPageView=b.PDFSinglePageViewer=b.PDFViewer=void 0;var p=f(1),n=f(6),m=f(3),l=f(4),q=f(7),r=f(8),h=f(10),e=f(11),a=f(12),d=f(15),f=f(17);b.PDFViewer=f.PDFViewer;b.PDFSinglePageViewer=d.PDFSinglePageViewer;b.PDFPageView=a.PDFPageView;b.PDFLinkService=l.PDFLinkService;b.SimpleLinkService=l.SimpleLinkService;b.TextLayerBuilder=n.TextLayerBuilder;b.DefaultTextLayerFactory=n.DefaultTextLayerFactory;b.AnnotationLayerBuilder=p.AnnotationLayerBuilder;b.DefaultAnnotationLayerFactory=p.DefaultAnnotationLayerFactory;
b.PDFHistory=e.PDFHistory;b.PDFFindController=h.PDFFindController;b.EventBus=m.EventBus;b.DownloadManager=q.DownloadManager;b.ProgressBar=m.ProgressBar;b.GenericL10n=r.GenericL10n;b.NullL10n=m.NullL10n},function(p,b,f){function n(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(b,"__esModule",{value:!0});b.DefaultAnnotationLayerFactory=b.AnnotationLayerBuilder=void 0;var m=function(){function e(a,d){for(var c=0;c<d.length;c++){var g=d[c];g.enumerable=
g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(a,g.key,g)}}return function(a,d,c){d&&e(a.prototype,d);c&&e(a,c);return a}}(),l=f(2),q=f(3),r=f(4),h=function(){function e(a){var d=a.pageDiv,c=a.pdfPage,g=a.linkService,o=a.downloadManager,s=a.imageResourcesPath,s=void 0===s?"":s,j=a.renderInteractiveForms,j=void 0===j?!1:j,a=a.l10n,a=void 0===a?q.NullL10n:a;n(this,e);this.pageDiv=d;this.pdfPage=c;this.linkService=g;this.downloadManager=o;this.imageResourcesPath=
s;this.renderInteractiveForms=j;this.l10n=a;this.div=null;this._cancelled=!1}m(e,[{key:"render",value:function(a){var d=this;this.pdfPage.getAnnotations({intent:1<arguments.length&&void 0!==arguments[1]?arguments[1]:"display"}).then(function(c){if(!d._cancelled){var g={viewport:a.clone({dontFlip:!0}),div:d.div,annotations:c,page:d.pdfPage,imageResourcesPath:d.imageResourcesPath,renderInteractiveForms:d.renderInteractiveForms,linkService:d.linkService,downloadManager:d.downloadManager};d.div?l.AnnotationLayer.update(g):
0!==c.length&&(d.div=document.createElement("div"),d.div.className="annotationLayer",d.pageDiv.appendChild(d.div),g.div=d.div,l.AnnotationLayer.render(g),d.l10n.translate(d.div))}})}},{key:"cancel",value:function(){this._cancelled=!0}},{key:"hide",value:function(){this.div&&this.div.setAttribute("hidden","true")}}]);return e}(),p=function(){function e(){n(this,e)}m(e,[{key:"createAnnotationLayerBuilder",value:function(a,d){var c=4<arguments.length&&void 0!==arguments[4]?arguments[4]:q.NullL10n;return new h({pageDiv:a,
pdfPage:d,imageResourcesPath:2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",renderInteractiveForms:3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1,linkService:new r.SimpleLinkService,l10n:c})}}]);return e}();b.AnnotationLayerBuilder=h;b.DefaultAnnotationLayerFactory=p},function(p){var b=void 0,b="undefined"!==typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:require("../build/pdf.js");p.exports=b},function(p,b){function f(a,d){if(!(a instanceof d))throw new TypeError("Cannot call a class as a function");
}function n(a,d){return!d?a:a.replace(/\{\{\s*(\w+)\s*\}\}/g,function(a,c){return c in d?d[c]:"{{"+c+"}}"})}function m(a,d){var j=0,c=a.length-1;if(0===a.length||!d(a[c]))return a.length;if(d(a[j]))return j;for(;j<c;){var k=j+c>>1;d(a[k])?c=k:j=k+1}return j}function l(a,d,c){if(2>a)return a;var i=d[a].div,k=i.offsetTop+i.clientTop;k>=c&&(i=d[a-1].div,k=i.offsetTop+i.clientTop);for(c=a-2;0<=c;--c){i=d[c].div;if(i.offsetTop+i.clientTop+i.clientHeight<=k)break;a=c}return a}Object.defineProperty(b,"__esModule",
{value:!0});var q=function(){function a(d,c){for(var o=0;o<c.length;o++){var k=c[o];k.enumerable=k.enumerable||!1;k.configurable=!0;"value"in k&&(k.writable=!0);Object.defineProperty(d,k.key,k)}}return function(d,c,i){c&&a(d.prototype,c);i&&a(d,i);return d}}(),r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){return function(a,d){if(Array.isArray(a))return a;
if(Symbol.iterator in Object(a)){var c=[],i=!0,k=!1,g=void 0;try{for(var e=a[Symbol.iterator](),b;!(i=(b=e.next()).done)&&!(c.push(b.value),d&&c.length===d);i=!0);}catch(u){k=!0,g=u}finally{try{if(!i&&e["return"])e["return"]()}finally{if(k)throw g;}}return c}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),e=96/72,a={EVENT:"event",TIMEOUT:"timeout"},d=new Promise(function(a){window.requestAnimationFrame(a)}),c=function(){function a(){f(this,a);this._listeners=Object.create(null)}
q(a,[{key:"on",value:function(a,d){var c=this._listeners[a];c||(c=[],this._listeners[a]=c);c.push(d)}},{key:"off",value:function(a,d){var c=this._listeners[a],k=void 0;c&&!(0>(k=c.indexOf(d)))&&c.splice(k,1)}},{key:"dispatch",value:function(a){var d=this._listeners[a];if(d&&0!==d.length){var c=Array.prototype.slice.call(arguments,1);d.slice(0).forEach(function(a){a.apply(null,c)})}}}]);return a}(),g=function(){function a(d){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=c.height,
k=c.width,c=c.units;f(this,a);this.visible=!0;this.div=document.querySelector(d+" .progress");this.bar=this.div.parentNode;this.height=i||100;this.width=k||100;this.units=c||"%";this.div.style.height=this.height+this.units;this.percent=0}q(a,[{key:"_updateBar",value:function(){this._indeterminate?(this.div.classList.add("indeterminate"),this.div.style.width=this.width+this.units):(this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units)}},{key:"setWidth",
value:function(a){a&&(a=a.parentNode.offsetWidth-a.offsetWidth,0<a&&this.bar.setAttribute("style","width: calc(100% - "+a+"px);"))}},{key:"hide",value:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))}},{key:"show",value:function(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),this.bar.classList.remove("hidden"))}},{key:"percent",get:function(){return this._percent},set:function(a){this._indeterminate=
isNaN(a);this._percent=Math.min(Math.max(a,0),100);this._updateBar()}}]);return a}();b.CSS_UNITS=e;b.DEFAULT_SCALE_VALUE="auto";b.DEFAULT_SCALE=1;b.MIN_SCALE=0.1;b.MAX_SCALE=10;b.UNKNOWN_SCALE=0;b.MAX_AUTO_SCALE=1.25;b.SCROLLBAR_PADDING=40;b.VERTICAL_PADDING=5;b.isValidRotation=function(a){return Number.isInteger(a)&&0===a%90};b.isPortraitOrientation=function(a){return a.width<=a.height};b.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};b.RendererType={CANVAS:"canvas",SVG:"svg"};
b.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};b.NullL10n={getLanguage:function(){return Promise.resolve("en-us")},getDirection:function(){return Promise.resolve("ltr")},get:function(a,d,c){return Promise.resolve(n(c,d))},translate:function(){return Promise.resolve()}};b.EventBus=c;b.ProgressBar=g;b.getPDFFileNameFromURL=function(a){for(var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"document.pdf",c=0,i=a.length;c<i&&""===a[c].trim();)c++;if("data:"===a.substr(c,5).toLowerCase())return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),
d;c=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i;i=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(a);if(i=c.exec(i[1])||c.exec(i[2])||c.exec(i[3]))if(i=i[0],i.includes("%"))try{i=c.exec(decodeURIComponent(i))[0]}catch(k){}return i||d};b.noContextMenuHandler=function(a){a.preventDefault()};b.parseQueryString=function(a){for(var a=a.split("&"),d=Object.create(null),c=0,i=a.length;c<i;++c){var k=a[c].split("="),g=k[0].toLowerCase(),k=1<k.length?k[1]:null;d[decodeURIComponent(g)]=decodeURIComponent(k)}return d};
b.backtrackBeforeAllVisibleElements=l;b.getVisibleElements=function(a,d){function c(a){a=a.div;return a.offsetTop+a.clientTop+a.clientHeight>e}function i(a){a=a.div;return a.offsetLeft+a.clientLeft+a.clientWidth>u}var k=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1,e=a.scrollTop,b=e+a.clientHeight,u=a.scrollLeft,h=u+a.clientWidth,r=[],q=void 0,f=void 0,n=void 0,p=f=void 0,x=p=void 0,w=void 0,y=void 0,w=y=void 0,q=0===d.length?
0:m(d,g?i:c);0<d.length&&!g&&(q=l(q,d,e));for(var z=g?h:-1,A=q,C=d.length;A<C;A++){q=d[A];f=q.div;x=f.offsetLeft+f.clientLeft;n=f.offsetTop+f.clientTop;w=f.clientWidth;f=f.clientHeight;y=x+w;p=n+f;if(-1===z)p>=b&&(z=p);else if((g?x:n)>z)break;p<=e||(n>=b||y<=u||x>=h)||(p=Math.max(0,e-n)+Math.max(0,p-b),y=Math.max(0,u-x)+Math.max(0,y-h),w=100*(f-p)*(w-y)/f/w|0,r.push({id:q.id,x:x,y:n,view:q,percent:w}))}g=r[0];b=r[r.length-1];k&&r.sort(function(a,d){var c=a.percent-d.percent;return 0.001<Math.abs(c)?
-c:a.id-d.id});return{first:g,last:b,views:r}};b.roundToDivide=function(a,d){var c=a%d;return 0===c?a:Math.round(a-c+d)};b.getPageSizeInches=function(a){var d=a.userUnit,c=a.rotate,a=h(a.view,4),c=0!==c%180,i=(a[2]-a[0])/72*d,d=(a[3]-a[1])/72*d;return{width:c?d:i,height:c?i:d}};b.approximateFraction=function(a){if(Math.floor(a)===a)return[a,1];var d=1/a;if(8<d)return[1,8];if(Math.floor(d)===d)return[1,d];for(var d=1<a?d:a,c=0,i=1,k=1,g=1;;){var e=c+k,b=i+g;if(8<b)break;d<=e/b?(k=e,g=b):(c=e,i=b)}e=
void 0;return e=d-c/i<k/g-d?d===a?[c,i]:[i,c]:d===a?[k,g]:[g,k]};b.getOutputScale=function(a){a=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1);return{sx:a,sy:a,scaled:1!==a}};b.scrollIntoView=function(a,d){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,g=a.offsetParent;if(g){for(var k=a.offsetTop+a.clientTop,v=a.offsetLeft+a.clientLeft;g.clientHeight===g.scrollHeight&&
g.clientWidth===g.scrollWidth||c&&"hidden"===getComputedStyle(g).overflow;)if(g.dataset._scaleY&&(k/=g.dataset._scaleY,v/=g.dataset._scaleX),k+=g.offsetTop,v+=g.offsetLeft,g=g.offsetParent,!g)return;d&&(void 0!==d.top&&(k+=d.top),void 0!==d.left&&(v+=d.left,g.scrollLeft=v));g.scrollTop=k}else console.error("offsetParent is not set -- cannot scroll")};b.watchScroll=function(a,d){var c=function(){k||(k=window.requestAnimationFrame(function(){k=null;var c=a.scrollLeft,j=g.lastX;c!==j&&(g.right=c>j);
g.lastX=c;c=a.scrollTop;j=g.lastY;c!==j&&(g.down=c>j);g.lastY=c;d(g)}))},g={right:!0,down:!0,lastX:a.scrollLeft,lastY:a.scrollTop,_eventHandler:c},k=null;a.addEventListener("scroll",c,!0);return g};b.binarySearchFirstItem=m;b.normalizeWheelEventDelta=function(a){var d=Math.sqrt(a.deltaX*a.deltaX+a.deltaY*a.deltaY),c=Math.atan2(a.deltaY,a.deltaX);-0.25*Math.PI<c&&c<0.75*Math.PI&&(d=-d);0===a.deltaMode?d/=900:1===a.deltaMode&&(d/=30);return d};b.animationStarted=d;b.WaitOnType=a;b.waitOnEventOrTimeout=
function(d){var g=d.target,j=d.name,d=d.delay,i=void 0===d?0:d;return new Promise(function(d){function e(a){g instanceof c?g.off(j,b):g.removeEventListener(j,b);u&&clearTimeout(u);d(a)}if("object"!==("undefined"===typeof g?"undefined":r(g))||!(j&&"string"===typeof j)||!(Number.isInteger(i)&&0<=i))throw Error("waitOnEventOrTimeout - invalid parameters.");var b=e.bind(null,a.EVENT);if(g instanceof c)g.on(j,b);else g.addEventListener(j,b);var o=e.bind(null,a.TIMEOUT),u=setTimeout(o,i)})};b.moveToEndOfArray=
function(a,d){for(var c=[],g=a.length,k=0,e=0;e<g;++e)d(a[e])?c.push(a[e]):(a[k]=a[e],++k);for(e=0;k<g;++e,++k)a[k]=c[e]}},function(p,b,f){function n(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function");}function m(e){if(!Array.isArray(e))return!1;var a=e.length,d=!0;if(2>a)return!1;var c=e[0];if(!("object"===("undefined"===typeof c?"undefined":l(c))&&Number.isInteger(c.num)&&Number.isInteger(c.gen))&&!(Number.isInteger(c)&&0<=c))return!1;c=e[1];if(!("object"===("undefined"===
typeof c?"undefined":l(c))&&"string"===typeof c.name))return!1;switch(c.name){case "XYZ":if(5!==a)return!1;break;case "Fit":case "FitB":return 2===a;case "FitH":case "FitBH":case "FitV":case "FitBV":if(3!==a)return!1;break;case "FitR":if(6!==a)return!1;d=!1;break;default:return!1}for(c=2;c<a;c++){var g=e[c];if(!("number"===typeof g||d&&null===g))return!1}return!0}Object.defineProperty(b,"__esModule",{value:!0});b.SimpleLinkService=b.PDFLinkService=void 0;var l="function"===typeof Symbol&&"symbol"===
typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q=function(){function e(a,d){for(var c=0;c<d.length;c++){var g=d[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(a,g.key,g)}}return function(a,d,c){d&&e(a.prototype,d);c&&e(a,c);return a}}(),r=f(5),h=f(3),p=function(){function e(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:
{},d=a.eventBus,c=a.externalLinkTarget,c=void 0===c?null:c,a=a.externalLinkRel,a=void 0===a?null:a;n(this,e);this.eventBus=d||(0,r.getGlobalEventBus)();this.externalLinkTarget=c;this.externalLinkRel=a;this._pagesRefCache=this.pdfHistory=this.pdfViewer=this.pdfDocument=this.baseUrl=null}q(e,[{key:"setDocument",value:function(a,d){this.baseUrl=d;this.pdfDocument=a;this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function(a){this.pdfViewer=a}},{key:"setHistory",value:function(a){this.pdfHistory=
a}},{key:"navigateTo",value:function(a){var d=this,c=function o(c){var j=c.namedDest,i=c.explicitDest,k=i[0],c=void 0;if(k instanceof Object){if(c=d._cachedPageNumber(k),null===c){d.pdfDocument.getPageIndex(k).then(function(a){d.cachePageRef(a+1,k);o({namedDest:j,explicitDest:i})}).catch(function(){console.error('PDFLinkService.navigateTo: "'+k+'" is not '+('a valid page reference, for dest="'+a+'".'))});return}}else if(Number.isInteger(k))c=k+1;else{console.error('PDFLinkService.navigateTo: "'+k+
'" is not '+('a valid destination reference, for dest="'+a+'".'));return}!c||1>c||c>d.pagesCount?console.error('PDFLinkService.navigateTo: "'+c+'" is not '+('a valid page number, for dest="'+a+'".')):(d.pdfHistory&&(d.pdfHistory.pushCurrentPosition(),d.pdfHistory.push({namedDest:j,explicitDest:i,pageNumber:c})),d.pdfViewer.scrollPageIntoView({pageNumber:c,destArray:i}))};(new Promise(function(c){"string"===typeof a?d.pdfDocument.getDestination(a).then(function(d){c({namedDest:a,explicitDest:d})}):
c({namedDest:"",explicitDest:a})})).then(function(d){Array.isArray(d.explicitDest)?c(d):console.error('PDFLinkService.navigateTo: "'+d.explicitDest+'" is'+(' not a valid destination array, for dest="'+a+'".'))})}},{key:"getDestinationHash",value:function(a){return"string"===typeof a?this.getAnchorUrl("#"+escape(a)):Array.isArray(a)?(a=JSON.stringify(a),this.getAnchorUrl("#"+escape(a))):this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function(a){return(this.baseUrl||"")+a}},{key:"setHash",value:function(a){var d=
void 0,c=void 0;if(a.includes("="))if(a=(0,h.parseQueryString)(a),"search"in a&&this.eventBus.dispatch("findfromurlhash",{source:this,query:a.search.replace(/"/g,""),phraseSearch:"true"===a.phrase}),"nameddest"in a)this.navigateTo(a.nameddest);else{"page"in a&&(d=a.page|0||1);if("zoom"in a){var g=a.zoom.split(","),e=g[0],b=parseFloat(e);e.includes("Fit")?"Fit"===e||"FitB"===e?c=[null,{name:e}]:"FitH"===e||"FitBH"===e||"FitV"===e||"FitBV"===e?c=[null,{name:e},1<g.length?g[1]|0:null]:"FitR"===e?5!==
g.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):c=[null,{name:e},g[1]|0,g[2]|0,g[3]|0,g[4]|0]:console.error('PDFLinkService.setHash: "'+e+'" is not a valid zoom value.'):c=[null,{name:"XYZ"},1<g.length?g[1]|0:null,2<g.length?g[2]|0:null,b?b/100:e]}c?this.pdfViewer.scrollPageIntoView({pageNumber:d||this.page,destArray:c,allowNegativeOffset:!0}):d&&(this.page=d);"pagemode"in a&&this.eventBus.dispatch("pagemode",{source:this,mode:a.pagemode})}else{c=unescape(a);try{c=
JSON.parse(c),Array.isArray(c)||(c=c.toString())}catch(j){}"string"===typeof c||m(c)?this.navigateTo(c):console.error('PDFLinkService.setHash: "'+unescape(a)+'" is not a valid destination.')}}},{key:"executeNamedAction",value:function(a){switch(a){case "GoBack":this.pdfHistory&&this.pdfHistory.back();break;case "GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case "NextPage":this.page<this.pagesCount&&this.page++;break;case "PrevPage":1<this.page&&this.page--;break;case "LastPage":this.page=
this.pagesCount;break;case "FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:a})}},{key:"onFileAttachmentAnnotation",value:function(a){this.eventBus.dispatch("fileattachmentannotation",{source:this,id:a.id,filename:a.filename,content:a.content})}},{key:"cachePageRef",value:function(a,d){d&&(this._pagesRefCache[d.num+" "+d.gen+" R"]=a)}},{key:"_cachedPageNumber",value:function(a){a=a.num+" "+a.gen+" R";return this._pagesRefCache&&this._pagesRefCache[a]||null}},{key:"pagesCount",
get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(a){this.pdfViewer.currentPageNumber=a}},{key:"rotation",get:function(){return this.pdfViewer.pagesRotation},set:function(a){this.pdfViewer.pagesRotation=a}}]);return e}(),f=function(){function e(){n(this,e);this.externalLinkRel=this.externalLinkTarget=null}q(e,[{key:"navigateTo",value:function(){}},{key:"getDestinationHash",value:function(){return"#"}},
{key:"getAnchorUrl",value:function(){return"#"}},{key:"setHash",value:function(){}},{key:"executeNamedAction",value:function(){}},{key:"onFileAttachmentAnnotation",value:function(){}},{key:"cachePageRef",value:function(){}},{key:"page",get:function(){return 0},set:function(){}},{key:"rotation",get:function(){return 0},set:function(){}}]);return e}();b.PDFLinkService=p;b.SimpleLinkService=f},function(p,b,f){function n(b){b.on("documentload",function(){var b=document.createEvent("CustomEvent");b.initCustomEvent("documentload",
!0,!0,{});window.dispatchEvent(b)});b.on("pagerendered",function(b){var h=document.createEvent("CustomEvent");h.initCustomEvent("pagerendered",!0,!0,{pageNumber:b.pageNumber,cssTransform:b.cssTransform});b.source.div.dispatchEvent(h)});b.on("textlayerrendered",function(b){var h=document.createEvent("CustomEvent");h.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:b.pageNumber});b.source.textLayerDiv.dispatchEvent(h)});b.on("pagechange",function(b){var h=document.createEvent("UIEvents");h.initUIEvent("pagechange",
!0,!0,window,0);h.pageNumber=b.pageNumber;b.source.container.dispatchEvent(h)});b.on("pagesinit",function(b){var h=document.createEvent("CustomEvent");h.initCustomEvent("pagesinit",!0,!0,null);b.source.container.dispatchEvent(h)});b.on("pagesloaded",function(b){var h=document.createEvent("CustomEvent");h.initCustomEvent("pagesloaded",!0,!0,{pagesCount:b.pagesCount});b.source.container.dispatchEvent(h)});b.on("scalechange",function(b){var h=document.createEvent("UIEvents");h.initUIEvent("scalechange",
!0,!0,window,0);h.scale=b.scale;h.presetValue=b.presetValue;b.source.container.dispatchEvent(h)});b.on("updateviewarea",function(b){var h=document.createEvent("UIEvents");h.initUIEvent("updateviewarea",!0,!0,window,0);h.location=b.location;b.source.container.dispatchEvent(h)});b.on("find",function(b){if(b.source!==window){var h=document.createEvent("CustomEvent");h.initCustomEvent("find"+b.type,!0,!0,{query:b.query,phraseSearch:b.phraseSearch,caseSensitive:b.caseSensitive,highlightAll:b.highlightAll,
findPrevious:b.findPrevious});window.dispatchEvent(h)}});b.on("attachmentsloaded",function(b){var h=document.createEvent("CustomEvent");h.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:b.attachmentsCount});b.source.container.dispatchEvent(h)});b.on("sidebarviewchanged",function(b){var h=document.createEvent("CustomEvent");h.initCustomEvent("sidebarviewchanged",!0,!0,{view:b.view});b.source.outerContainer.dispatchEvent(h)});b.on("pagemode",function(b){var h=document.createEvent("CustomEvent");
h.initCustomEvent("pagemode",!0,!0,{mode:b.mode});b.source.pdfViewer.container.dispatchEvent(h)});b.on("namedaction",function(b){var h=document.createEvent("CustomEvent");h.initCustomEvent("namedaction",!0,!0,{action:b.action});b.source.pdfViewer.container.dispatchEvent(h)});b.on("presentationmodechanged",function(b){var h=document.createEvent("CustomEvent");h.initCustomEvent("presentationmodechanged",!0,!0,{active:b.active,switchInProgress:b.switchInProgress});window.dispatchEvent(h)});b.on("outlineloaded",
function(b){var h=document.createEvent("CustomEvent");h.initCustomEvent("outlineloaded",!0,!0,{outlineCount:b.outlineCount});b.source.container.dispatchEvent(h)})}Object.defineProperty(b,"__esModule",{value:!0});b.getGlobalEventBus=b.attachDOMEventsToEventBus=void 0;var m=f(3),l=null;b.attachDOMEventsToEventBus=n;b.getGlobalEventBus=function(){if(l)return l;l=new m.EventBus;n(l);return l}},function(p,b,f){function n(b,e){if(!(b instanceof e))throw new TypeError("Cannot call a class as a function");
}Object.defineProperty(b,"__esModule",{value:!0});b.DefaultTextLayerFactory=b.TextLayerBuilder=void 0;var m=function(){function b(e,a){for(var d=0;d<a.length;d++){var c=a[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(e,c.key,c)}}return function(e,a,d){a&&b(e.prototype,a);d&&b(e,d);return e}}(),l=f(5),q=f(2),r=function(){function b(e){var a=e.textLayerDiv,d=e.eventBus,c=e.pageIndex,g=e.viewport,o=e.findController,o=void 0===o?null:o,e=e.enhanceTextSelection,
e=void 0===e?!1:e;n(this,b);this.textLayerDiv=a;this.eventBus=d||(0,l.getGlobalEventBus)();this.textContent=null;this.textContentItemsStr=[];this.textContentStream=null;this.renderingDone=!1;this.pageIdx=c;this.pageNumber=this.pageIdx+1;this.matches=[];this.viewport=g;this.textDivs=[];this.findController=o;this.textLayerRenderTask=null;this.enhanceTextSelection=e;this._bindMouse()}m(b,[{key:"_finishRendering",value:function(){this.renderingDone=!0;if(!this.enhanceTextSelection){var b=document.createElement("div");
b.className="endOfContent";this.textLayerDiv.appendChild(b)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}},{key:"render",value:function(){var b=this,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if(!(!this.textContent&&!this.textContentStream||this.renderingDone)){this.cancel();this.textDivs=[];var d=document.createDocumentFragment();this.textLayerRenderTask=(0,q.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,
container:d,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:a,enhanceTextSelection:this.enhanceTextSelection});this.textLayerRenderTask.promise.then(function(){b.textLayerDiv.appendChild(d);b._finishRendering();b.updateMatches()},function(){})}}},{key:"cancel",value:function(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null)}},{key:"setTextContentStream",value:function(b){this.cancel();this.textContentStream=
b}},{key:"setTextContent",value:function(b){this.cancel();this.textContent=b}},{key:"convertMatches",value:function(b,a){var d=0,c=0,g=this.textContentItemsStr,o=g.length-1,h=null===this.findController?0:this.findController.state.query.length,j=[];if(!b)return j;for(var i=0,k=b.length;i<k;i++){for(var v=b[i];d!==o&&v>=c+g[d].length;)c+=g[d].length,d++;d===g.length&&console.error("Could not find a matching mapping");for(var t={begin:{divIdx:d,offset:v-c}},v=a?v+a[i]:v+h;d!==o&&v>c+g[d].length;)c+=
g[d].length,d++;t.end={divIdx:d,offset:v-c};j.push(t)}return j}},{key:"renderMatches",value:function(b){function a(a,c){var b=a.divIdx;g[b].textContent="";d(b,0,a.offset,c)}function d(a,d,b,k){var j=g[a],a=c[a].substring(d,b),a=document.createTextNode(a);k?(d=document.createElement("span"),d.className=k,d.appendChild(a),j.appendChild(d)):j.appendChild(a)}if(0!==b.length){var c=this.textContentItemsStr,g=this.textDivs,o=null,h=this.pageIdx,j=null===this.findController?!1:h===this.findController.selected.pageIdx,
i=null===this.findController?-1:this.findController.selected.matchIdx,k=i,v=k+1;if(null===this.findController?0:this.findController.state.highlightAll)k=0,v=b.length;else if(!j)return;for(;k<v;k++){var t=b[k],f=t.begin,t=t.end,u=j&&k===i?" selected":"";this.findController&&this.findController.updateMatchPosition(h,k,g,f.divIdx);!o||f.divIdx!==o.divIdx?(null!==o&&d(o.divIdx,o.offset,void 0),a(f)):d(o.divIdx,o.offset,f.offset);if(f.divIdx===t.divIdx)d(f.divIdx,f.offset,t.offset,"highlight"+u);else{d(f.divIdx,
f.offset,void 0,"highlight begin"+u);o=f.divIdx+1;for(f=t.divIdx;o<f;o++)g[o].className="highlight middle"+u;a(t,"highlight end"+u)}o=t}o&&d(o.divIdx,o.offset,void 0)}}},{key:"updateMatches",value:function(){if(this.renderingDone){for(var b=this.matches,a=this.textDivs,d=this.textContentItemsStr,c=-1,g=0,o=b.length;g<o;g++){for(var h=b[g],c=Math.max(c,h.begin.divIdx),j=h.end.divIdx;c<=j;c++){var i=a[c];i.textContent=d[c];i.className=""}c=h.end.divIdx+1}null!==this.findController&&this.findController.active&&
(a=b=void 0,null!==this.findController&&(b=this.findController.pageMatches[this.pageIdx]||null,a=this.findController.pageMatchesLength?this.findController.pageMatchesLength[this.pageIdx]||null:null),this.matches=this.convertMatches(b,a),this.renderMatches(this.matches))}}},{key:"_bindMouse",value:function(){var b=this,a=this.textLayerDiv,d=null;a.addEventListener("mousedown",function(c){if(b.enhanceTextSelection&&b.textLayerRenderTask)b.textLayerRenderTask.expandTextDivs(!0),d&&(clearTimeout(d),d=
null);else{var g=a.querySelector(".endOfContent");if(g){var o=c.target!==a;if(o=o&&"none"!==window.getComputedStyle(g).getPropertyValue("-moz-user-select"))o=a.getBoundingClientRect(),c=Math.max(0,(c.pageY-o.top)/o.height),g.style.top=(100*c).toFixed(2)+"%";g.classList.add("active")}}});a.addEventListener("mouseup",function(){if(b.enhanceTextSelection&&b.textLayerRenderTask)d=setTimeout(function(){b.textLayerRenderTask&&b.textLayerRenderTask.expandTextDivs(!1);d=null},300);else{var c=a.querySelector(".endOfContent");
c&&(c.style.top="",c.classList.remove("active"))}})}}]);return b}(),p=function(){function b(){n(this,b)}m(b,[{key:"createTextLayerBuilder",value:function(b,a,d){return new r({textLayerDiv:b,pageIndex:a,viewport:d,enhanceTextSelection:3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1})}}]);return b}();b.TextLayerBuilder=r;b.DefaultTextLayerFactory=p},function(p,b,f){function n(b,h){var e=document.createElement("a");if(!e.click)throw Error('DownloadManager: "a.click()" is not supported.');e.href=
b;e.target="_parent";"download"in e&&(e.download=h);(document.body||document.documentElement).appendChild(e);e.click();e.remove()}Object.defineProperty(b,"__esModule",{value:!0});b.DownloadManager=void 0;var m=function(){function b(h,e){for(var a=0;a<e.length;a++){var d=e[a];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(h,d.key,d)}}return function(h,e,a){e&&b(h.prototype,e);a&&b(h,a);return h}}(),l=f(2),q=l.apiCompatibilityParams.disableCreateObjectURL||
!1,p=function(){function b(h){h=h.disableCreateObjectURL;h=void 0===h?q:h;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.disableCreateObjectURL=h}m(b,[{key:"downloadUrl",value:function(b,e){(0,l.createValidAbsoluteUrl)(b,"http://example.com")&&n(b+"#pdfjs.action=download",e)}},{key:"downloadData",value:function(b,e,a){if(navigator.msSaveBlob)return navigator.msSaveBlob(new Blob([b],{type:a}),e);b=(0,l.createObjectURL)(b,a,this.disableCreateObjectURL);n(b,e)}},
{key:"download",value:function(b,e,a){navigator.msSaveBlob?navigator.msSaveBlob(b,a)||this.downloadUrl(e,a):this.disableCreateObjectURL?this.downloadUrl(e,a):(b=l.URL.createObjectURL(b),n(b,a))}}]);return b}();b.DownloadManager=p},function(p,b,f){Object.defineProperty(b,"__esModule",{value:!0});b.GenericL10n=void 0;var n=function(){function b(f,l){for(var h=0;h<l.length;h++){var e=l[h];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(f,e.key,e)}}return function(f,
m,h){m&&b(f.prototype,m);h&&b(f,h);return f}}();f(9);var m=document.webL10n,p=function(){function b(f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._lang=f;this._ready=new Promise(function(b){m.setLanguage(f,function(){b(m)})})}n(b,[{key:"getLanguage",value:function(){return this._ready.then(function(b){return b.getLanguage()})}},{key:"getDirection",value:function(){return this._ready.then(function(b){return b.getDirection()})}},{key:"get",value:function(b,
f,h){return this._ready.then(function(e){return e.get(b,f,h)})}},{key:"translate",value:function(b){return this._ready.then(function(f){return f.translate(b)})}}]);return b}();b.GenericL10n=p},function(){document.webL10n=function(p,b){function f(){var a=b.querySelector('script[type="application/l10n"]');return a?JSON.parse(a.innerHTML):null}function n(a){var d=b.createEvent("Event");d.initEvent("localized",!0,!1);d.language=a;b.dispatchEvent(d)}function m(a,d,c){var d=d||function(){},c=c||function(){},
b=new XMLHttpRequest;b.open("GET",a,i);b.overrideMimeType&&b.overrideMimeType("text/plain; charset=utf-8");b.onreadystatechange=function(){4==b.readyState&&(200==b.status||0===b.status?d(b.responseText):c())};b.onerror=c;b.ontimeout=c;try{b.send(null)}catch(g){c()}}function l(a,b,j,i){function e(a,d){function c(a,d,e){function h(){for(;;){if(!s.length){e();break}var a=s.shift();if(!i.test(a)){if(d){if(q=u.exec(a)){l=q[1].toLowerCase();m="*"!==l&&l!==b&&l!==B;continue}else if(m)continue;if(q=t.exec(a)){g(o+
q[1],h);break}}var c=a.match(f);if(c&&3==c.length){var a=k,j=c[1];c=c[2];c=0>c.lastIndexOf("\\")?c:c.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\u0008").replace(/\\f/g,"\u000c").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'");a[j]=c}}}}var s=a.replace(j,"").split(/[\r\n]+/),l="*",B=b.split("-",1)[0],m=!1,q="";h()}function g(a,d){m(a,function(a){c(a,!1,d)},function(){console.warn(a+" not found.");d()})}var k=
{},j=/^\s*|\s*$/,i=/^\s*#|^\s*$/,u=/^\s*\[(.*)\]\s*$/,t=/^\s*@import\s+url\((.*)\)\s*$/i,f=/^([^=\s]*)\s*=\s*(.+)$/;c(a,!0,function(){d(k)})}var o=a.replace(/[^\/]*$/,"")||"./";m(a,function(a){c+=a;e(a,function(a){for(var c in a){var b,k;k=c.lastIndexOf(".");0<k?(b=c.substring(0,k),k=c.substr(k+1)):(b=c,k=g);d[b]||(d[b]={});d[b][k]=a[c]}j&&j()})},i)}function q(a,g){function i(a){var d=a.href;this.load=function(a,c){l(d,a,c,function(){console.warn(d+" not found.");console.warn('"'+a+'" resource not found');
o="";c()})}}a&&(a=a.toLowerCase());g=g||function(){};d={};o=c="";o=a;var e=b.querySelectorAll('link[type="application/l10n"]'),u=e.length;if(0===u){if((e=f())&&e.locales&&e.default_locale){console.log("using the embedded JSON directory, early way out");d=e.locales[a];if(!d){var h=e.default_locale.toLowerCase(),s;for(s in e.locales)if(s=s.toLowerCase(),s===a){d=e.locales[a];break}else s===h&&(d=e.locales[h])}g()}else console.log("no resource to load, early way out");n(a);j="complete"}else{s=null;var m=
0;s=function(){m++;m>=u&&(g(),n(a),j="complete")};for(h=0;h<u;h++)(new i(e[h])).load(a,s)}}function r(a){function d(a,c,b){return c<=a&&a<=b}var c={"0":function(){return"other"},1:function(a){return d(a%100,3,10)?"few":0===a?"zero":d(a%100,11,99)?"many":2==a?"two":1==a?"one":"other"},2:function(a){return 0!==a&&0===a%10?"many":2==a?"two":1==a?"one":"other"},3:function(a){return 1==a?"one":"other"},4:function(a){return d(a,0,1)?"one":"other"},5:function(a){return d(a,0,2)&&2!=a?"one":"other"},6:function(a){return 0===
a?"zero":1==a%10&&11!=a%100?"one":"other"},7:function(a){return 2==a?"two":1==a?"one":"other"},8:function(a){return d(a,3,6)?"few":d(a,7,10)?"many":2==a?"two":1==a?"one":"other"},9:function(a){return 0===a||1!=a&&d(a%100,1,19)?"few":1==a?"one":"other"},10:function(a){return d(a%10,2,9)&&!d(a%100,11,19)?"few":1==a%10&&!d(a%100,11,19)?"one":"other"},11:function(a){return d(a%10,2,4)&&!d(a%100,12,14)?"few":0===a%10||d(a%10,5,9)||d(a%100,11,14)?"many":1==a%10&&11!=a%100?"one":"other"},12:function(a){return d(a,
2,4)?"few":1==a?"one":"other"},13:function(a){return d(a%10,2,4)&&!d(a%100,12,14)?"few":1!=a&&d(a%10,0,1)||d(a%10,5,9)||d(a%100,12,14)?"many":1==a?"one":"other"},14:function(a){return d(a%100,3,4)?"few":2==a%100?"two":1==a%100?"one":"other"},15:function(a){return 0===a||d(a%100,2,10)?"few":d(a%100,11,19)?"many":1==a?"one":"other"},16:function(a){return 1==a%10&&11!=a?"one":"other"},17:function(a){return 3==a?"few":0===a?"zero":6==a?"many":2==a?"two":1==a?"one":"other"},18:function(a){return 0===a?
"zero":d(a,0,2)&&0!==a&&2!=a?"one":"other"},19:function(a){return d(a,2,10)?"few":d(a,0,1)?"one":"other"},20:function(a){return(d(a%10,3,4)||9==a%10)&&!d(a%100,10,19)&&!d(a%100,70,79)&&!d(a%100,90,99)?"few":0===a%1E6&&0!==a?"many":2==a%10&&-1===[12,72,92].indexOf(a%100)?"two":1==a%10&&-1===[11,71,91].indexOf(a%100)?"one":"other"},21:function(a){return 0===a?"zero":1==a?"one":"other"},22:function(a){return d(a,0,1)||d(a,11,99)?"one":"other"},23:function(a){return d(a%10,1,2)||0===a%20?"one":"other"},
24:function(a){return d(a,3,10)||d(a,13,19)?"few":-1!==[2,12].indexOf(a)?"two":-1!==[1,11].indexOf(a)?"one":"other"}},b={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,
km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,
wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[a.replace(/-.*$/,"")];return!(b in c)?(console.warn("plural form unknown for ["+a+"]"),function(){return"other"}):c[b]}function h(a,c,b){var g=d[a];if(!g){console.warn("#"+a+" is undefined.");if(!b)return null;g=b}var b={},j;for(j in g){var i=g[j];var o=c,h=a,f=j,l=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(i);if(l&&l.length){var m=l[1],l=l[2],q=void 0;o&&l in o?q=o[l]:l in d&&(q=d[l]);m in s&&(i=(0,s[m])(i,q,h,f))}i=e(i,c,a);b[j]=i}return b}function e(a,
c,b){return a.replace(/\{\{\s*(.+?)\s*\}\}/g,function(a,g){if(c&&g in c)return c[g];if(g in d)return d[g];console.log("argument {{"+g+"}} for #"+b+" is undefined.");return a})}function a(a){var d,c;if(a){d=a.getAttribute("data-l10n-id");var j=a.getAttribute("data-l10n-args");c={};if(j)try{c=JSON.parse(j)}catch(i){console.warn("could not parse arguments for #"+d)}}else c=d=void 0;if(d)if(c=h(d,c)){if(c[g]){if(a.children)d=a.children.length;else if("undefined"!==typeof a.childElementCount)d=a.childElementCount;
else for(j=d=0;j<a.childNodes.length;j++)d+=1===a.nodeType?1:0;if(0===d)a[g]=c[g];else{d=a.childNodes;for(var j=!1,e=0,o=d.length;e<o;e++)3===d[e].nodeType&&/\S/.test(d[e].nodeValue)&&(j?d[e].nodeValue="":(d[e].nodeValue=c[g],j=!0));j||(d=b.createTextNode(c[g]),a.insertBefore(d,a.firstChild))}delete c[g]}for(var f in c)a[f]=c[f]}else console.warn("#"+d+" is undefined.")}var d={},c="",g="textContent",o="",s={},j="loading",i=!0;s.plural=function(a,c,b,j){c=parseFloat(c);if(isNaN(c)||j!=g)return a;s._pluralRules||
(s._pluralRules=r(o));var i="["+s._pluralRules(c)+"]";0===c&&b+"[zero]"in d?a=d[b+"[zero]"][j]:1==c&&b+"[one]"in d?a=d[b+"[one]"][j]:2==c&&b+"[two]"in d?a=d[b+"[two]"][j]:b+i in d?a=d[b+i][j]:b+"[other]"in d&&(a=d[b+"[other]"][j]);return a};return{get:function(a,d,c){var b=a.lastIndexOf("."),j=g;0<b&&(j=a.substr(b+1),a=a.substring(0,b));var i;c&&(i={},i[j]=c);return(d=h(a,d,i))&&j in d?d[j]:"{{"+a+"}}"},getData:function(){return d},getText:function(){return c},getLanguage:function(){return o},setLanguage:function(a,
d){q(a,function(){d&&d()})},getDirection:function(){return 0<=["ar","he","fa","ps","ur"].indexOf(o.split("-",1)[0])?"rtl":"ltr"},translate:function(d){for(var c=(d=d||b.documentElement)?d.querySelectorAll("*[data-l10n-id]"):[],g=c.length,j=0;j<g;j++)a(c[j]);a(d)},getReadyState:function(){return j},ready:function(a){a&&("complete"==j||"interactive"==j?p.setTimeout(function(){a()}):b.addEventListener&&b.addEventListener("localized",function t(){b.removeEventListener("localized",t);a()}))}}}(window,
document)},function(p,b,f){Object.defineProperty(b,"__esModule",{value:!0});b.PDFFindController=b.FindState=void 0;var n=function(){function b(a,d){for(var c=0;c<d.length;c++){var g=d[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(a,g.key,g)}}return function(a,d,c){d&&b(a.prototype,d);c&&b(a,c);return a}}(),m=f(2),l=f(5),q=f(3),r={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},h={"\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',
"\u201e":'"',"\u201f":'"',"\u00bc":"1/4","\u00bd":"1/2","\u00be":"3/4"},p=function(){function b(a){var d=a.pdfViewer,a=a.eventBus,a=void 0===a?(0,l.getGlobalEventBus)():a;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.pdfViewer=d;this.eventBus=a;this.onUpdateState=this.onUpdateResultsCount=null;this.reset();d=Object.keys(h).join("");this.normalizationRegex=RegExp("["+d+"]","g")}n(b,[{key:"reset",value:function(){var a=this;this.startedTextExtraction=!1;this.extractTextPromises=
[];this.pendingFindMatches=Object.create(null);this.active=!1;this.pageContents=[];this.pageMatches=[];this.pageMatchesLength=null;this.matchCount=0;this.selected={pageIdx:-1,matchIdx:-1};this.offset={pageIdx:null,matchIdx:null};this.state=this.resumePageIdx=this.pagesToSearch=null;this.dirtyMatch=!1;this.findTimeout=null;this._firstPagePromise=new Promise(function(d){var c=a.eventBus;c.on("pagesinit",function o(){c.off("pagesinit",o);d()})})}},{key:"executeCommand",value:function(a,d){var c=this;
if(null===this.state||"findagain"!==a)this.dirtyMatch=!0;this.state=d;this._updateUIState(r.PENDING);this._firstPagePromise.then(function(){c._extractText();clearTimeout(c.findTimeout);"find"===a?c.findTimeout=setTimeout(c._nextMatch.bind(c),250):c._nextMatch()})}},{key:"updateMatchPosition",value:function(a,d,c,b){this.selected.matchIdx===d&&this.selected.pageIdx===a&&(0,q.scrollIntoView)(c[b],{top:-50,left:-400},!0)}},{key:"_normalize",value:function(a){return a.replace(this.normalizationRegex,
function(a){return h[a]})}},{key:"_prepareMatches",value:function(a,d,c){function b(a,d){var c=a[d],g=a[d+1];if(d<a.length-1&&c.match===g.match)return c.skipped=!0;for(g=d-1;0<=g;g--){var e=a[g];if(!e.skipped){if(e.match+e.matchLength<c.match)break;if(e.match+e.matchLength>=c.match+c.matchLength)return c.skipped=!0}}return!1}a.sort(function(a,d){return a.match===d.match?a.matchLength-d.matchLength:a.match-d.match});for(var e=0,f=a.length;e<f;e++)b(a,e)||(d.push(a[e].match),c.push(a[e].matchLength))}},
{key:"_calculatePhraseMatch",value:function(a,d,c){for(var b=[],e=a.length,f=-e;;){f=c.indexOf(a,f+e);if(-1===f)break;b.push(f)}this.pageMatches[d]=b}},{key:"_calculateWordMatch",value:function(a,d,c){for(var b=[],a=a.match(/\S+/g),e=0,f=a.length;e<f;e++)for(var j=a[e],i=j.length,k=-i;;){k=c.indexOf(j,k+i);if(-1===k)break;b.push({match:k,matchLength:i,skipped:!1})}this.pageMatchesLength||(this.pageMatchesLength=[]);this.pageMatchesLength[d]=[];this.pageMatches[d]=[];this._prepareMatches(b,this.pageMatches[d],
this.pageMatchesLength[d])}},{key:"_calculateMatch",value:function(a){var d=this._normalize(this.pageContents[a]),c=this._normalize(this.state.query),b=this.state.caseSensitive,e=this.state.phraseSearch;if(0!==c.length&&(b||(d=d.toLowerCase(),c=c.toLowerCase()),e?this._calculatePhraseMatch(c,a,d):this._calculateWordMatch(c,a,d),this._updatePage(a),this.resumePageIdx===a&&(this.resumePageIdx=null,this._nextPageMatch()),0<this.pageMatches[a].length))this.matchCount+=this.pageMatches[a].length,this._updateUIResultsCount()}},
{key:"_extractText",value:function(){var a=this;if(!this.startedTextExtraction){this.startedTextExtraction=!0;this.pageContents.length=0;for(var d=Promise.resolve(),c=function(c){var b=(0,m.createPromiseCapability)();a.extractTextPromises[c]=b.promise;d=d.then(function(){return a.pdfViewer.getPageTextContent(c).then(function(d){for(var d=d.items,g=[],e=0,f=d.length;e<f;e++)g.push(d[e].str);a.pageContents[c]=g.join("");b.resolve(c)},function(d){console.error("Unable to get page "+(c+1)+" text content",
d);a.pageContents[c]="";b.resolve(c)})})},b=0,e=this.pdfViewer.pagesCount;b<e;b++)c(b,e)}}},{key:"_updatePage",value:function(a){this.selected.pageIdx===a&&(this.pdfViewer.currentPageNumber=a+1);a=this.pdfViewer.getPageView(a);a.textLayer&&a.textLayer.updateMatches()}},{key:"_nextMatch",value:function(){var a=this,d=this.state.findPrevious,c=this.pdfViewer.currentPageNumber-1,b=this.pdfViewer.pagesCount;this.active=!0;if(this.dirtyMatch){this.dirtyMatch=!1;this.selected.pageIdx=this.selected.matchIdx=
-1;this.offset.pageIdx=c;this.offset.matchIdx=null;this.hadMatch=!1;this.resumePageIdx=null;this.pageMatches=[];this.matchCount=0;this.pageMatchesLength=null;for(c=0;c<b;c++)this._updatePage(c),c in this.pendingFindMatches||(this.pendingFindMatches[c]=!0,this.extractTextPromises[c].then(function(d){delete a.pendingFindMatches[d];a._calculateMatch(d)}))}if(""===this.state.query)this._updateUIState(r.FOUND);else if(!this.resumePageIdx){c=this.offset;this.pagesToSearch=b;if(null!==c.matchIdx){b=this.pageMatches[c.pageIdx].length;
if(!d&&c.matchIdx+1<b||d&&0<c.matchIdx){this.hadMatch=!0;c.matchIdx=d?c.matchIdx-1:c.matchIdx+1;this._updateMatch(!0);return}this._advanceOffsetPage(d)}this._nextPageMatch()}}},{key:"_matchesReady",value:function(a){var d=this.offset,a=a.length,c=this.state.findPrevious;if(a)return this.hadMatch=!0,d.matchIdx=c?a-1:0,this._updateMatch(!0),!0;this._advanceOffsetPage(c);return d.wrapped&&(d.matchIdx=null,0>this.pagesToSearch)?(this._updateMatch(!1),!0):!1}},{key:"_nextPageMatch",value:function(){null!==
this.resumePageIdx&&console.error("There can only be one pending page.");var a=null;do{var d=this.offset.pageIdx,a=this.pageMatches[d];if(!a){this.resumePageIdx=d;break}}while(!this._matchesReady(a))}},{key:"_advanceOffsetPage",value:function(a){var d=this.offset,c=this.extractTextPromises.length;d.pageIdx=a?d.pageIdx-1:d.pageIdx+1;d.matchIdx=null;this.pagesToSearch--;if(d.pageIdx>=c||0>d.pageIdx)d.pageIdx=a?c-1:0,d.wrapped=!0}},{key:"_updateMatch",value:function(){var a=0<arguments.length&&void 0!==
arguments[0]?arguments[0]:!1,d=r.NOT_FOUND,c=this.offset.wrapped;this.offset.wrapped=!1;a&&(a=this.selected.pageIdx,this.selected.pageIdx=this.offset.pageIdx,this.selected.matchIdx=this.offset.matchIdx,d=c?r.WRAPPED:r.FOUND,-1!==a&&a!==this.selected.pageIdx&&this._updatePage(a));this._updateUIState(d,this.state.findPrevious);-1!==this.selected.pageIdx&&this._updatePage(this.selected.pageIdx)}},{key:"_updateUIResultsCount",value:function(){if(this.onUpdateResultsCount)this.onUpdateResultsCount(this.matchCount)}},
{key:"_updateUIState",value:function(a,d){if(this.onUpdateState)this.onUpdateState(a,d,this.matchCount)}}]);return b}();b.FindState=r;b.PDFFindController=p},function(p,b,f){function n(a){var d=unescape(document.location.hash).substring(1),c=(0,h.parseQueryString)(d).page|0;if(!Number.isInteger(c)||!(0<c&&c<=a.pagesCount))c=null;return{hash:d,page:c,rotation:a.rotation}}function m(a,d){return"string"!==typeof a||"string"!==typeof d?!1:a===d||(0,h.parseQueryString)(a).nameddest===d?!0:!1}function l(a,
d){function c(a,d){if(("undefined"===typeof a?"undefined":q(a))!==("undefined"===typeof d?"undefined":q(d))||Array.isArray(a)||Array.isArray(d))return!1;if(null!==a&&"object"===("undefined"===typeof a?"undefined":q(a))&&null!==d){if(Object.keys(a).length!==Object.keys(d).length)return!1;for(var b in a)if(!c(a[b],d[b]))return!1;return!0}return a===d||Number.isNaN(a)&&Number.isNaN(d)}if(!Array.isArray(a)||!Array.isArray(d)||a.length!==d.length)return!1;for(var b=0,e=a.length;b<e;b++)if(!c(a[b],d[b]))return!1;
return!0}Object.defineProperty(b,"__esModule",{value:!0});b.isDestArraysEqual=b.isDestHashesEqual=b.PDFHistory=void 0;var q="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},r=function(){function a(a,c){for(var b=0;b<c.length;b++){var e=c[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,
e)}}return function(d,c,b){c&&a(d.prototype,c);b&&a(d,b);return d}}(),h=f(3),e=f(5),p=function(){function a(d){var c=this,b=d.linkService,d=d.eventBus;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.linkService=b;this.eventBus=d||(0,e.getGlobalEventBus)();this.initialized=!1;this.initialRotation=this.initialBookmark=null;this._boundEvents=Object.create(null);this._isPagesLoaded=this._isViewerInPresentationMode=!1;this.eventBus.on("presentationmodechanged",function(a){c._isViewerInPresentationMode=
a.active||a.switchInProgress});this.eventBus.on("pagesloaded",function(a){c._isPagesLoaded=!!a.pagesCount})}r(a,[{key:"initialize",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;if(!a||"string"!==typeof a)console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');else{var b=this.initialized&&this.fingerprint!==a;this.fingerprint=a;this.initialized||this._bindEvents();var e=window.history.state;this.initialized=!0;this.initialRotation=this.initialBookmark=
null;this._popStateInProgress=!1;this._blockHashChange=0;this._currentHash=document.location.hash;this._uid=this._maxUid=this._numPositionUpdates=0;this._position=this._destination=null;if(!this._isValidState(e)||c){var f=n(this.linkService),e=f.hash,j=f.page,f=f.rotation;!e||b||c?this._pushOrReplaceState(null,!0):this._pushOrReplaceState({hash:e,page:j,rotation:f},!0)}else(c=e.destination,this._updateInternalState(c,e.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),void 0!==c.rotation&&
(this.initialRotation=c.rotation),c.dest)?(this.initialBookmark=JSON.stringify(c.dest),this._destination.page=null):c.hash?this.initialBookmark=c.hash:c.page&&(this.initialBookmark="page="+c.page)}}},{key:"push",value:function(a){var c=this,b=a.namedDest,e=a.explicitDest,a=a.pageNumber;if(this.initialized)if(b&&"string"!==typeof b||!Array.isArray(e)||!Number.isInteger(a)||!(0<a&&a<=this.linkService.pagesCount))console.error("PDFHistory.push: Invalid parameters.");else if(b=b||JSON.stringify(e)){var f=
!1;if(this._destination&&(m(this._destination.hash,b)||l(this._destination.dest,e))){if(this._destination.page)return;f=!0}if(!this._popStateInProgress||f)this._pushOrReplaceState({dest:e,hash:b,page:a,rotation:this.linkService.rotation},f),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(function(){c._popStateInProgress=!1}))}}},{key:"pushCurrentPosition",value:function(){this.initialized&&!this._popStateInProgress&&this._tryPushCurrentPosition()}},{key:"back",value:function(){if(this.initialized&&
!this._popStateInProgress){var a=window.history.state;this._isValidState(a)&&0<a.uid&&window.history.back()}}},{key:"forward",value:function(){if(this.initialized&&!this._popStateInProgress){var a=window.history.state;this._isValidState(a)&&a.uid<this._maxUid&&window.history.forward()}}},{key:"_pushOrReplaceState",value:function(a){var c=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1)||!this._destination,b={fingerprint:this.fingerprint,uid:c?this._uid:this._uid+1,destination:a};this._updateInternalState(a,
b.uid);c?window.history.replaceState(b,""):(this._maxUid=this._uid,window.history.pushState(b,""))}},{key:"_tryPushCurrentPosition",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;if(this._position){var c=this._position;a&&(c=Object.assign(Object.create(null),this._position),c.temporary=!0);if(this._destination)if(this._destination.temporary)this._pushOrReplaceState(c,!0);else{if(this._destination.hash!==c.hash&&(this._destination.page||!(50>=this._numPositionUpdates))){a=
!1;if(this._destination.page===c.first||this._destination.page===c.page){if(this._destination.dest||!this._destination.first)return;a=!0}this._pushOrReplaceState(c,a)}}else this._pushOrReplaceState(c)}}},{key:"_isValidState",value:function(a){return!a||a.fingerprint!==this.fingerprint||!Number.isInteger(a.uid)||0>a.uid||null===a.destination||"object"!==q(a.destination)?!1:!0}},{key:"_updateInternalState",value:function(a,c){var b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;this._updateViewareaTimeout&&
(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null);b&&(a&&a.temporary)&&delete a.temporary;this._destination=a;this._uid=c;this._numPositionUpdates=0}},{key:"_updateViewarea",value:function(a){var c=this,a=a.location;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null);this._position={hash:this._isViewerInPresentationMode?"page="+a.pageNumber:a.pdfOpenParams.substring(1),page:this.linkService.page,first:a.pageNumber,rotation:a.rotation};
this._popStateInProgress||(this._isPagesLoaded&&(this._destination&&!this._destination.page)&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(function(){c._popStateInProgress||c._tryPushCurrentPosition(true);c._updateViewareaTimeout=null},1E3))}},{key:"_popState",value:function(a){var c=this,a=a.state,b=document.location.hash,e=this._currentHash!==b;this._currentHash=b;if(a){if(this._isValidState(a)){this._popStateInProgress=!0;e&&(this._blockHashChange++,(0,h.waitOnEventOrTimeout)({target:window,
name:"hashchange",delay:1E3}).then(function(){c._blockHashChange--}));b=a.destination;this._updateInternalState(b,a.uid,!0);this._uid>this._maxUid&&(this._maxUid=this._uid);if((0,h.isValidRotation)(b.rotation))this.linkService.rotation=b.rotation;b.dest?this.linkService.navigateTo(b.dest):b.hash?this.linkService.setHash(b.hash):b.page&&(this.linkService.page=b.page);Promise.resolve().then(function(){c._popStateInProgress=false})}}else this._uid++,a=n(this.linkService),this._pushOrReplaceState({hash:a.hash,
page:a.page,rotation:a.rotation},!0)}},{key:"_bindEvents",value:function(){var a=this,c=this._boundEvents,b=this.eventBus;c.updateViewarea=this._updateViewarea.bind(this);c.popState=this._popState.bind(this);c.pageHide=function(){(!a._destination||a._destination.temporary)&&a._tryPushCurrentPosition()};b.on("updateviewarea",c.updateViewarea);window.addEventListener("popstate",c.popState);window.addEventListener("pagehide",c.pageHide)}},{key:"popStateInProgress",get:function(){return this.initialized&&
(this._popStateInProgress||0<this._blockHashChange)}}]);return a}();b.PDFHistory=p;b.isDestHashesEqual=m;b.isDestArraysEqual=l},function(p,b,f){Object.defineProperty(b,"__esModule",{value:!0});b.PDFPageView=void 0;var n=function(){function b(a,d){for(var c=0;c<d.length;c++){var e=d[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(a,d,c){d&&b(a.prototype,d);c&&b(a,c);return a}}(),m=f(3),l=f(2),q=f(5),r=f(13),h=f(14).viewerCompatibilityParams.maxCanvasPixels||
16777216,p=function(){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var d=a.container,c=a.defaultViewport;this.id=a.id;this.renderingId="page"+this.id;this.pageLabel=this.pdfPage=null;this.rotation=0;this.scale=a.scale||m.DEFAULT_SCALE;this.viewport=c;this.pdfPageRotate=c.rotation;this.hasRestrictedScaling=!1;this.textLayerMode=Number.isInteger(a.textLayerMode)?a.textLayerMode:m.TextLayerMode.ENABLE;this.imageResourcesPath=a.imageResourcesPath||"";
this.renderInteractiveForms=a.renderInteractiveForms||!1;this.useOnlyCssZoom=a.useOnlyCssZoom||!1;this.maxCanvasPixels=a.maxCanvasPixels||h;this.eventBus=a.eventBus||(0,q.getGlobalEventBus)();this.renderingQueue=a.renderingQueue;this.textLayerFactory=a.textLayerFactory;this.annotationLayerFactory=a.annotationLayerFactory;this.renderer=a.renderer||m.RendererType.CANVAS;this.enableWebGL=a.enableWebGL||!1;this.l10n=a.l10n||m.NullL10n;this.paintTask=null;this.paintedViewportMap=new WeakMap;this.renderingState=
r.RenderingStates.INITIAL;this.zoomLayer=this.textLayer=this.annotationLayer=this.onAfterDraw=this.onBeforeDraw=this.error=this.resume=null;a=document.createElement("div");a.className="page";a.style.width=Math.floor(this.viewport.width)+"px";a.style.height=Math.floor(this.viewport.height)+"px";a.setAttribute("data-page-number",this.id);this.div=a;d.appendChild(a)}n(b,[{key:"setPdfPage",value:function(a){this.pdfPage=a;this.pdfPageRotate=a.rotate;this.viewport=a.getViewport(this.scale*m.CSS_UNITS,
(this.rotation+this.pdfPageRotate)%360);this.stats=a.stats;this.reset()}},{key:"destroy",value:function(){this.reset();this.pdfPage&&this.pdfPage.cleanup()}},{key:"_resetZoomLayer",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;if(this.zoomLayer){var d=this.zoomLayer.firstChild;this.paintedViewportMap.delete(d);d.width=0;d.height=0;a&&this.zoomLayer.remove();this.zoomLayer=null}}},{key:"reset",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:
!1,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;this.cancelRendering(d);var c=this.div;c.style.width=Math.floor(this.viewport.width)+"px";c.style.height=Math.floor(this.viewport.height)+"px";for(var b=c.childNodes,a=a&&this.zoomLayer||null,d=d&&this.annotationLayer&&this.annotationLayer.div||null,e=b.length-1;0<=e;e--){var f=b[e];a===f||d===f||c.removeChild(f)}c.removeAttribute("data-loaded");d?this.annotationLayer.hide():this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=
null);a||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer());this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg);this.loadingIconDiv=document.createElement("div");this.loadingIconDiv.className="loadingIcon";c.appendChild(this.loadingIconDiv)}},{key:"update",value:function(a,d){this.scale=a||this.scale;"undefined"!==typeof d&&(this.rotation=d);this.viewport=this.viewport.clone({scale:this.scale*
m.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360});if(this.svg)this.cssTransform(this.svg,!0),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});else{var c=!1;if(this.canvas&&0<this.maxCanvasPixels){var b=this.outputScale;(Math.floor(this.viewport.width)*b.sx|0)*(Math.floor(this.viewport.height)*b.sy|0)>this.maxCanvasPixels&&(c=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&c){this.cssTransform(this.canvas,!0);this.eventBus.dispatch("pagerendered",
{source:this,pageNumber:this.id,cssTransform:!0});return}!this.zoomLayer&&!this.canvas.hasAttribute("hidden")&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild);this.reset(!0,!0)}}},{key:"cancelRendering",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;this.paintTask&&(this.paintTask.cancel(),this.paintTask=null);this.renderingState=r.RenderingStates.INITIAL;this.resume=null;
this.textLayer&&(this.textLayer.cancel(),this.textLayer=null);!a&&this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null)}},{key:"cssTransform",value:function(a){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,c=this.viewport.width,b=this.viewport.height,e=this.div;a.style.width=a.parentNode.style.width=e.style.width=Math.floor(c)+"px";a.style.height=a.parentNode.style.height=e.style.height=Math.floor(b)+"px";var e=this.viewport.rotation-this.paintedViewportMap.get(a).rotation,
f=Math.abs(e),j=1,i=1;if(90===f||270===f)j=b/c,i=c/b;a.style.transform="rotate("+e+"deg) scale("+j+","+i+")";if(this.textLayer){f=this.textLayer.viewport;b=Math.abs(this.viewport.rotation-f.rotation);e=c/f.width;if(90===b||270===b)e=c/f.height;c=this.textLayer.textLayerDiv;j=f=void 0;switch(b){case 0:f=j=0;break;case 90:f=0;j="-"+c.style.height;break;case 180:f="-"+c.style.width;j="-"+c.style.height;break;case 270:f="-"+c.style.width;j=0;break;default:console.error("Bad rotation value.")}c.style.transform=
"rotate("+b+"deg) scale("+e+", "+e+") translate("+f+", "+j+")";c.style.transformOrigin="0% 0%"}d&&this.annotationLayer&&this.annotationLayer.render(this.viewport,"display")}},{key:"getPagePoint",value:function(a,d){return this.viewport.convertToPdfPoint(a,d)}},{key:"draw",value:function(){var a=this;this.renderingState!==r.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());if(!this.pdfPage)return this.renderingState=r.RenderingStates.FINISHED,Promise.reject(Error("Page is not loaded"));
this.renderingState=r.RenderingStates.RUNNING;var d=this.pdfPage,c=this.div,b=document.createElement("div");b.style.width=c.style.width;b.style.height=c.style.height;b.classList.add("canvasWrapper");this.annotationLayer&&this.annotationLayer.div?c.insertBefore(b,this.annotationLayer.div):c.appendChild(b);var e=null;if(this.textLayerMode!==m.TextLayerMode.DISABLE&&this.textLayerFactory){var f=document.createElement("div");f.className="textLayer";f.style.width=b.style.width;f.style.height=b.style.height;
this.annotationLayer&&this.annotationLayer.div?c.insertBefore(f,this.annotationLayer.div):c.appendChild(f);e=this.textLayerFactory.createTextLayerBuilder(f,this.id-1,this.viewport,this.textLayerMode===m.TextLayerMode.ENABLE_ENHANCE)}this.textLayer=e;f=null;this.renderingQueue&&(f=function(c){if(a.renderingQueue.isHighestPriority(a))c();else{a.renderingState=r.RenderingStates.PAUSED;a.resume=function(){a.renderingState=r.RenderingStates.RUNNING;c()}}});var j=function(b){if(i===a.paintTask)a.paintTask=
null;if(b instanceof l.RenderingCancelledException){a.error=null;return Promise.resolve(void 0)}a.renderingState=r.RenderingStates.FINISHED;if(a.loadingIconDiv){c.removeChild(a.loadingIconDiv);delete a.loadingIconDiv}a._resetZoomLayer(true);a.error=b;a.stats=d.stats;if(a.onAfterDraw)a.onAfterDraw();a.eventBus.dispatch("pagerendered",{source:a,pageNumber:a.id,cssTransform:false});return b?Promise.reject(b):Promise.resolve(void 0)},i=this.renderer===m.RendererType.SVG?this.paintOnSvg(b):this.paintOnCanvas(b);
i.onRenderContinue=f;this.paintTask=i;b=i.promise.then(function(){return j(null).then(function(){if(e){var a=d.streamTextContent({normalizeWhitespace:true});e.setTextContentStream(a);e.render()}})},function(a){return j(a)});this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(c,d,this.imageResourcesPath,this.renderInteractiveForms,this.l10n)),this.annotationLayer.render(this.viewport,"display"));c.setAttribute("data-loaded",
!0);if(this.onBeforeDraw)this.onBeforeDraw();return b}},{key:"paintOnCanvas",value:function(a){var b=(0,l.createPromiseCapability)(),c={promise:b.promise,onRenderContinue:function(a){a()},cancel:function(){t.cancel()}},e=this.viewport,f=document.createElement("canvas");f.id=this.renderingId;f.setAttribute("hidden","hidden");var h=!0,j=function(){h&&(f.removeAttribute("hidden"),h=!1)};a.appendChild(f);this.canvas=f;f.mozOpaque=!0;var a=f.getContext("2d",{alpha:!1}),i=(0,m.getOutputScale)(a);this.outputScale=
i;if(this.useOnlyCssZoom){var k=e.clone({scale:m.CSS_UNITS});i.sx*=k.width/e.width;i.sy*=k.height/e.height;i.scaled=!0}0<this.maxCanvasPixels&&(k=Math.sqrt(this.maxCanvasPixels/(e.width*e.height)),i.sx>k||i.sy>k?(i.sx=k,i.sy=k,this.hasRestrictedScaling=i.scaled=!0):this.hasRestrictedScaling=!1);var k=(0,m.approximateFraction)(i.sx),q=(0,m.approximateFraction)(i.sy);f.width=(0,m.roundToDivide)(e.width*i.sx,k[0]);f.height=(0,m.roundToDivide)(e.height*i.sy,q[0]);f.style.width=(0,m.roundToDivide)(e.width,
k[1])+"px";f.style.height=(0,m.roundToDivide)(e.height,q[1])+"px";this.paintedViewportMap.set(f,e);var t=this.pdfPage.render({canvasContext:a,transform:!i.scaled?null:[i.sx,0,0,i.sy,0,0],viewport:this.viewport,enableWebGL:this.enableWebGL,renderInteractiveForms:this.renderInteractiveForms});t.onContinue=function(a){j();if(c.onRenderContinue)c.onRenderContinue(a);else a()};t.promise.then(function(){j();b.resolve(void 0)},function(a){j();b.reject(a)});return c}},{key:"paintOnSvg",value:function(a){var b=
this,c=!1,e=function(){if(c)throw new l.RenderingCancelledException("Rendering cancelled, page "+b.id,"svg");},f=this.pdfPage,h=this.viewport.clone({scale:m.CSS_UNITS});return{promise:f.getOperatorList().then(function(c){e();return(new l.SVGGraphics(f.commonObjs,f.objs)).getSVG(c,h).then(function(c){e();b.svg=c;b.paintedViewportMap.set(c,h);c.style.width=a.style.width;c.style.height=a.style.height;b.renderingState=r.RenderingStates.FINISHED;a.appendChild(c)})}),onRenderContinue:function(a){a()},cancel:function(){c=
!0}}}},{key:"setPageLabel",value:function(a){this.pageLabel="string"===typeof a?a:null;null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}},{key:"width",get:function(){return this.viewport.width}},{key:"height",get:function(){return this.viewport.height}}]);return b}();b.PDFPageView=p},function(p,b){Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function b(f,l){for(var h=0;h<l.length;h++){var e=l[h];e.enumerable=
e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(f,e.key,e)}}return function(f,m,h){m&&b(f.prototype,m);h&&b(f,h);return f}}(),n={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},m=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.idleTimeout=this.highestPriorityPage=this.onIdle=this.pdfThumbnailViewer=this.pdfViewer=null;this.isThumbnailViewEnabled=this.printing=!1}f(b,[{key:"setViewer",value:function(b){this.pdfViewer=
b}},{key:"setThumbnailViewer",value:function(b){this.pdfThumbnailViewer=b}},{key:"isHighestPriority",value:function(b){return this.highestPriorityPage===b.renderingId}},{key:"renderHighestPriority",value:function(b){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null);if(!this.pdfViewer.forceRendering(b)&&(!this.pdfThumbnailViewer||!this.isThumbnailViewEnabled||!this.pdfThumbnailViewer.forceRendering())&&!this.printing&&this.onIdle)this.idleTimeout=setTimeout(this.onIdle.bind(this),
3E4)}},{key:"getHighestPriority",value:function(b,f,h){var e=b.views,a=e.length;if(0===a)return!1;for(var d=0;d<a;++d){var c=e[d].view;if(!this.isViewFinished(c))return c}b=h?b.last.id:b.first.id-2;return f[b]&&!this.isViewFinished(f[b])?f[b]:null}},{key:"isViewFinished",value:function(b){return b.renderingState===n.FINISHED}},{key:"renderView",value:function(b){var f=this;switch(b.renderingState){case n.FINISHED:return!1;case n.PAUSED:this.highestPriorityPage=b.renderingId;b.resume();break;case n.RUNNING:this.highestPriorityPage=
b.renderingId;break;case n.INITIAL:this.highestPriorityPage=b.renderingId;var h=function(){f.renderHighestPriority()};b.draw().then(h,h)}return!0}}]);return b}();b.RenderingStates=n;b.PDFRenderingQueue=m},function(p,b){var f=Object.create(null),n="undefined"!==typeof navigator&&navigator.userAgent||"",m=/Android/.test(n);if(/\b(iPad|iPhone|iPod)(?=;)/.test(n)||m)f.maxCanvasPixels=5242880;b.viewerCompatibilityParams=Object.freeze(f)},function(p,b,f){function n(b,a){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return a&&("object"===typeof a||"function"===typeof a)?a:b}function m(b,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}Object.defineProperty(b,"__esModule",{value:!0});b.PDFSinglePageViewer=void 0;var l=function(){function b(a,d){for(var c=0;c<d.length;c++){var e=
d[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(a,d,c){d&&b(a.prototype,d);c&&b(a,c);return a}}(),q=function a(b,c,f){null===b&&(b=Function.prototype);var h=Object.getOwnPropertyDescriptor(b,c);if(void 0===h)return b=Object.getPrototypeOf(b),null===b?void 0:a(b,c,f);if("value"in h)return h.value;c=h.get;return void 0===c?void 0:c.call(f)},p=f(16),r=f(3),h=f(2),f=function(a){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
var f=n(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));f.eventBus.on("pagesinit",function(){f._ensurePageViewVisible()});return f}m(b,a);l(b,[{key:"_resetView",value:function(){q(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_resetView",this).call(this);this._previousPageNumber=1;this._shadowViewer=document.createDocumentFragment()}},{key:"_ensurePageViewVisible",value:function(){var a=this._pages[this._currentPageNumber-1],b=this._pages[this._previousPageNumber-1],d=this.viewer.childNodes;
switch(d.length){case 0:this.viewer.appendChild(a.div);break;case 1:if(d[0]!==b.div)throw Error("_ensurePageViewVisible: Unexpected previously visible page.");if(a===b)break;this._shadowViewer.appendChild(b.div);this.viewer.appendChild(a.div);this.container.scrollTop=0;break;default:throw Error("_ensurePageViewVisible: Only one page should be visible at a time.");}this._previousPageNumber=this._currentPageNumber}},{key:"_scrollUpdate",value:function(){this._updateScrollDown&&this._updateScrollDown();
q(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_scrollUpdate",this).call(this)}},{key:"_scrollIntoView",value:function(a){var b=this,d=a.pageDiv,f=a.pageSpot,f=void 0===f?null:f,a=a.pageNumber;(a=void 0===a?null:a)&&this._setCurrentPageNumber(a);var j=this._currentPageNumber>=this._previousPageNumber,i=this._location;this._ensurePageViewVisible();(0,r.scrollIntoView)(d,f);this._updateScrollDown=function(){b.scroll.down=j;delete b._updateScrollDown};setTimeout(function(){b._location===
i&&(b._updateScrollDown&&b._updateScrollDown(),b.update())},0)}},{key:"_getVisiblePages",value:function(){if(!this.pagesCount)return{views:[]};var a=this._pages[this._currentPageNumber-1],b=a.div,a={id:a.id,x:b.offsetLeft+b.clientLeft,y:b.offsetTop+b.clientTop,view:a};return{first:a,last:a,views:[a]}}},{key:"update",value:function(){var a=this._getVisiblePages(),b=a.views.length;0!==b&&(this._resizeBuffer(b),this.renderingQueue.renderHighestPriority(a),this._updateLocation(a.first),this.eventBus.dispatch("updateviewarea",
{source:this,location:this._location}))}},{key:"_updateScrollMode",value:function(){}},{key:"_updateSpreadMode",value:function(){}},{key:"_setDocumentViewerElement",get:function(){return(0,h.shadow)(this,"_setDocumentViewerElement",this._shadowViewer)}},{key:"_isScrollModeHorizontal",get:function(){return(0,h.shadow)(this,"_isScrollModeHorizontal",!1)}}]);return b}(p.BaseViewer);b.PDFSinglePageViewer=f},function(p,b,f){function n(a){var b=[];this.push=function(c){var d=b.indexOf(c);0<=d&&b.splice(d,
1);b.push(c);b.length>a&&b.shift().destroy()};this.resize=function(c,d){a=c;if(d){for(var e=new Set,f=0,g=d.length;f<g;++f)e.add(d[f].id);(0,l.moveToEndOfArray)(b,function(a){return e.has(a.id)})}for(;b.length>a;)b.shift().destroy()}}Object.defineProperty(b,"__esModule",{value:!0});b.SpreadMode=b.ScrollMode=b.BaseViewer=void 0;var m=function(){function a(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,
e.key,e)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),l=f(3),q=f(13),r=f(1),h=f(2),e=f(5),a=f(12),d=f(4),c=f(6),g={VERTICAL:0,HORIZONTAL:1,WRAPPED:2},o={NONE:0,ODD:1,EVEN:2},p=function(){function b(a){var c=this;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");if(this.constructor===b)throw Error("Cannot initialize BaseViewer.");this._name=this.constructor.name;this.container=a.container;this.viewer=a.viewer||a.container.firstElementChild;this.eventBus=
a.eventBus||(0,e.getGlobalEventBus)();this.linkService=a.linkService||new d.SimpleLinkService;this.downloadManager=a.downloadManager||null;this.removePageBorders=a.removePageBorders||!1;this.textLayerMode=Number.isInteger(a.textLayerMode)?a.textLayerMode:l.TextLayerMode.ENABLE;this.enhanceTextSelection=a.enhanceTextSelection||!1;this.imageResourcesPath=a.imageResourcesPath||"";this.renderInteractiveForms=a.renderInteractiveForms||!1;this.enablePrintAutoRotate=a.enablePrintAutoRotate||!1;this.renderer=
a.renderer||l.RendererType.CANVAS;this.enableWebGL=a.enableWebGL||!1;this.useOnlyCssZoom=a.useOnlyCssZoom||!1;this.maxCanvasPixels=a.maxCanvasPixels;this.l10n=a.l10n||l.NullL10n;(this.defaultRenderingQueue=!a.renderingQueue)?(this.renderingQueue=new q.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=a.renderingQueue;this.scroll=(0,l.watchScroll)(this.container,this._scrollUpdate.bind(this));this.presentationModeState=l.PresentationModeState.UNKNOWN;this._resetView();this.removePageBorders&&
this.viewer.classList.add("removePageBorders");if("scrollMode"in a||"spreadMode"in a)if(console.error("The "+this._name+" constructor options `scrollMode`/`spreadMode` are deprecated, use the setters instead."),void 0!==a.scrollMode&&(this.scrollMode=a.scrollMode),void 0!==a.spreadMode)this.spreadMode=a.spreadMode;Promise.resolve().then(function(){c.eventBus.dispatch("baseviewerinit",{source:c})})}m(b,[{key:"getPageView",value:function(a){return this._pages[a]}},{key:"_setCurrentPageNumber",value:function(a){var b=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;if(this._currentPageNumber===a)b&&this._resetCurrentPageView();else if(0<a&&a<=this.pagesCount){var c={source:this,pageNumber:a,pageLabel:this._pageLabels&&this._pageLabels[a-1]};this._currentPageNumber=a;this.eventBus.dispatch("pagechanging",c);this.eventBus.dispatch("pagechange",c);b&&this._resetCurrentPageView()}else console.error(this._name+'._setCurrentPageNumber: "'+a+'" is out of bounds.')}},{key:"setDocument",value:function(b){var c=
this;this.pdfDocument&&(this._cancelRendering(),this._resetView());if(this.pdfDocument=b){var d=b.numPages,e=(0,h.createPromiseCapability)();this.pagesPromise=e.promise;e.promise.then(function(){c._pageViewsReady=true;c.eventBus.dispatch("pagesloaded",{source:c,pagesCount:d})});var f=!1,g=(0,h.createPromiseCapability)();this.onePageRendered=g.promise;var m=function(a){a.onBeforeDraw=function(){c._buffer.push(a)};a.onAfterDraw=function(){if(!f){f=true;g.resolve()}}},n=b.getPage(1);this.firstPagePromise=
n;n.then(function(f){for(var h=c.currentScale,f=f.getViewport(h*l.CSS_UNITS),t=1;t<=d;++t){var n=null;c.textLayerMode!==l.TextLayerMode.DISABLE&&(n=c);n=new a.PDFPageView({container:c._setDocumentViewerElement,eventBus:c.eventBus,id:t,scale:h,defaultViewport:f.clone(),renderingQueue:c.renderingQueue,textLayerFactory:n,textLayerMode:c.textLayerMode,annotationLayerFactory:c,imageResourcesPath:c.imageResourcesPath,renderInteractiveForms:c.renderInteractiveForms,renderer:c.renderer,enableWebGL:c.enableWebGL,
useOnlyCssZoom:c.useOnlyCssZoom,maxCanvasPixels:c.maxCanvasPixels,l10n:c.l10n});m(n);c._pages.push(n)}c._spreadMode!==o.NONE&&c._updateSpreadMode();g.promise.then(function(){if(b.loadingParams.disableAutoFetch)e.resolve();else for(var a=d,f=function(d){b.getPage(d).then(function(b){var f=c._pages[d-1];f.pdfPage||f.setPdfPage(b);c.linkService.cachePageRef(d,b.ref);--a===0&&e.resolve()},function(b){console.error("Unable to get page "+d+" to initialize viewer",b);--a===0&&e.resolve()})},g=1;g<=d;++g)f(g)});
c.eventBus.dispatch("pagesinit",{source:c});c.defaultRenderingQueue&&c.update()}).catch(function(a){console.error("Unable to initialize viewer",a)})}}},{key:"setPageLabels",value:function(a){if(this.pdfDocument){a?Array.isArray(a)&&this.pdfDocument.numPages===a.length?this._pageLabels=a:(this._pageLabels=null,console.error(this._name+".setPageLabels: Invalid page labels.")):this._pageLabels=null;for(var a=0,b=this._pages.length;a<b;a++)this._pages[a].setPageLabel(this._pageLabels&&this._pageLabels[a])}}},
{key:"_resetView",value:function(){this._pages=[];this._currentPageNumber=1;this._currentScale=l.UNKNOWN_SCALE;this._pageLabels=this._currentScaleValue=null;this._buffer=new n(10);this._location=null;this._pagesRotation=0;this._pagesRequests=[];this._pageViewsReady=!1;this._scrollMode=g.VERTICAL;this._spreadMode=o.NONE;this.viewer.textContent="";this._updateScrollMode()}},{key:"_scrollUpdate",value:function(){0!==this.pagesCount&&this.update()}},{key:"_scrollIntoView",value:function(){throw Error("Not implemented: _scrollIntoView");
}},{key:"_setScaleDispatchEvent",value:function(a,b){var c={source:this,scale:a,presetValue:2<arguments.length&&void 0!==arguments[2]&&arguments[2]?b:void 0};this.eventBus.dispatch("scalechanging",c);this.eventBus.dispatch("scalechange",c)}},{key:"_setScaleUpdatePages",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;this._currentScaleValue=b.toString();var e;e=this._currentScale;e=a===e?!0:1.0E-15>Math.abs(a-
e)?!0:!1;if(e)d&&this._setScaleDispatchEvent(a,b,!0);else{e=0;for(var f=this._pages.length;e<f;e++)this._pages[e].update(a);this._currentScale=a;c||(c=this._currentPageNumber,e=void 0,this._location&&(!this.isInPresentationMode&&!this.isChangingPresentationMode)&&(c=this._location.pageNumber,e=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:c,destArray:e,allowNegativeOffset:!0}));this._setScaleDispatchEvent(a,b,d);this.defaultRenderingQueue&&this.update()}}},
{key:"_setScale",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,c=parseFloat(a);if(0<c)this._setScaleUpdatePages(c,a,b,!1);else if(c=this._pages[this._currentPageNumber-1]){var d=this.isInPresentationMode||this.removePageBorders,e=d?0:l.SCROLLBAR_PADDING,f=d?0:l.VERTICAL_PADDING;!d&&this._isScrollModeHorizontal&&(d=e,e=f,f=d);e=(this.container.clientWidth-e)/c.width*c.scale;f=(this.container.clientHeight-f)/c.height*c.scale;switch(a){case "page-actual":c=1;break;
case "page-width":c=e;break;case "page-height":c=f;break;case "page-fit":c=Math.min(e,f);break;case "auto":c=(0,l.isPortraitOrientation)(c)?e:Math.min(f,e);c=Math.min(l.MAX_AUTO_SCALE,c);break;default:console.error(this._name+'._setScale: "'+a+'" is an unknown zoom value.');return}this._setScaleUpdatePages(c,a,b,!0)}}},{key:"_resetCurrentPageView",value:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0);this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-
1].div})}},{key:"scrollPageIntoView",value:function(a){if(this.pdfDocument){var b=a.pageNumber||0,c=a.destArray||null,a=a.allowNegativeOffset||!1;if(this.isInPresentationMode||!c)this._setCurrentPageNumber(b,!0);else{var d=this._pages[b-1];if(d){var e=0,f=0,g=0,h=0,m=void 0,o=void 0,o=0===d.rotation%180?!1:!0,m=(o?d.height:d.width)/d.scale/l.CSS_UNITS,o=(o?d.width:d.height)/d.scale/l.CSS_UNITS,n=0;switch(c[1].name){case "XYZ":e=c[2];f=c[3];n=c[4];e=null!==e?e:0;f=null!==f?f:o;break;case "Fit":case "FitB":n=
"page-fit";break;case "FitH":case "FitBH":f=c[2];n="page-width";null===f&&this._location&&(e=this._location.left,f=this._location.top);break;case "FitV":case "FitBV":e=c[2];g=m;h=o;n="page-height";break;case "FitR":e=c[2];f=c[3];g=c[4]-e;h=c[5]-f;o=this.removePageBorders?0:l.VERTICAL_PADDING;m=(this.container.clientWidth-(this.removePageBorders?0:l.SCROLLBAR_PADDING))/g/l.CSS_UNITS;o=(this.container.clientHeight-o)/h/l.CSS_UNITS;n=Math.min(Math.abs(m),Math.abs(o));break;default:console.error(this._name+
'.scrollPageIntoView: "'+c[1].name+'" is not a valid destination type.');return}n&&n!==this._currentScale?this.currentScaleValue=n:this._currentScale===l.UNKNOWN_SCALE&&(this.currentScaleValue=l.DEFAULT_SCALE_VALUE);"page-fit"===n&&!c[4]?this._scrollIntoView({pageDiv:d.div,pageNumber:b}):(e=[d.viewport.convertToViewportPoint(e,f),d.viewport.convertToViewportPoint(e+g,f+h)],c=Math.min(e[0][0],e[1][0]),e=Math.min(e[0][1],e[1][1]),a||(c=Math.max(c,0),e=Math.max(e,0)),this._scrollIntoView({pageDiv:d.div,
pageSpot:{left:c,top:e},pageNumber:b}))}else console.error(this._name+'.scrollPageIntoView: Invalid "pageNumber" parameter.')}}}},{key:"_resizeBuffer",value:function(a,b){this._buffer.resize(Math.max(10,2*a+1),b)}},{key:"_updateLocation",value:function(a){var b=this._currentScale,c=this._currentScaleValue,b=parseFloat(c)===b?Math.round(1E4*b)/100:c,c=a.id,d;d="#page="+c+("&zoom="+b);var e=this.container,e=this._pages[c-1].getPagePoint(e.scrollLeft-a.x,e.scrollTop-a.y),a=Math.round(e[0]),e=Math.round(e[1]);
this._location={pageNumber:c,scale:b,top:e,left:a,rotation:this._pagesRotation,pdfOpenParams:d+(","+a+","+e)}}},{key:"update",value:function(){throw Error("Not implemented: update");}},{key:"containsElement",value:function(a){return this.container.contains(a)}},{key:"focus",value:function(){this.container.focus()}},{key:"_getVisiblePages",value:function(){throw Error("Not implemented: _getVisiblePages");}},{key:"cleanup",value:function(){for(var a=0,b=this._pages.length;a<b;a++)this._pages[a]&&this._pages[a].renderingState!==
q.RenderingStates.FINISHED&&this._pages[a].reset()}},{key:"_cancelRendering",value:function(){for(var a=0,b=this._pages.length;a<b;a++)this._pages[a]&&this._pages[a].cancelRendering()}},{key:"_ensurePdfPageLoaded",value:function(a){var b=this;if(a.pdfPage)return Promise.resolve(a.pdfPage);var c=a.id;if(this._pagesRequests[c])return this._pagesRequests[c];var d=this.pdfDocument.getPage(c).then(function(d){a.pdfPage||a.setPdfPage(d);b._pagesRequests[c]=null;return d}).catch(function(a){console.error("Unable to get page for page view",
a);b._pagesRequests[c]=null});return this._pagesRequests[c]=d}},{key:"forceRendering",value:function(a){var b=this,c=this._isScrollModeHorizontal?this.scroll.right:this.scroll.down,d=this.renderingQueue.getHighestPriority(a||this._getVisiblePages(),this._pages,c);return d?(this._ensurePdfPageLoaded(d).then(function(){b.renderingQueue.renderView(d)}),!0):!1}},{key:"getPageTextContent",value:function(a){return this.pdfDocument.getPage(a+1).then(function(a){return a.getTextContent({normalizeWhitespace:!0})})}},
{key:"createTextLayerBuilder",value:function(a,b,d){var e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;return new c.TextLayerBuilder({textLayerDiv:a,eventBus:this.eventBus,pageIndex:b,viewport:d,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:this.isInPresentationMode?!1:e})}},{key:"createAnnotationLayerBuilder",value:function(a,b){return new r.AnnotationLayerBuilder({pageDiv:a,pdfPage:b,imageResourcesPath:2<arguments.length&&void 0!==arguments[2]?
arguments[2]:"",renderInteractiveForms:3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1,linkService:this.linkService,downloadManager:this.downloadManager,l10n:4<arguments.length&&void 0!==arguments[4]?arguments[4]:l.NullL10n})}},{key:"setFindController",value:function(a){this.findController=a}},{key:"getPagesOverview",value:function(){var a=this._pages.map(function(a){a=a.pdfPage.getViewport(1);return{width:a.width,height:a.height,rotation:a.rotation}});if(!this.enablePrintAutoRotate)return a;
var b=(0,l.isPortraitOrientation)(a[0]);return a.map(function(a){return b===(0,l.isPortraitOrientation)(a)?a:{width:a.height,height:a.width,rotation:(a.rotation+90)%360}})}},{key:"_updateScrollMode",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,b=this._scrollMode,c=this.viewer;b===g.HORIZONTAL?c.classList.add("scrollHorizontal"):c.classList.remove("scrollHorizontal");b===g.WRAPPED?c.classList.add("scrollWrapped"):c.classList.remove("scrollWrapped");this.pdfDocument&&
a&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this.scrollPageIntoView({pageNumber:a}),this.update())}},{key:"setScrollMode",value:function(a){console.error(this._name+".setScrollMode() is deprecated, "+("use the "+this._name+".scrollMode setter instead."));this.scrollMode=a}},{key:"_updateSpreadMode",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(this.pdfDocument){var b=this.viewer,c=this._pages;b.textContent=
"";if(this._spreadMode===o.NONE)for(var d=0,e=c.length;d<e;++d)b.appendChild(c[d].div);else for(var d=this._spreadMode-1,e=null,f=0,g=c.length;f<g;++f)null===e?(e=document.createElement("div"),e.className="spread",b.appendChild(e)):f%2===d&&(e=e.cloneNode(!1),b.appendChild(e)),e.appendChild(c[f].div);a&&(this.scrollPageIntoView({pageNumber:a}),this.update())}}},{key:"setSpreadMode",value:function(a){console.error(this._name+".setSpreadMode() is deprecated, "+("use the "+this._name+".spreadMode setter instead."));
this.spreadMode=a}},{key:"pagesCount",get:function(){return this._pages.length}},{key:"pageViewsReady",get:function(){return this._pageViewsReady}},{key:"currentPageNumber",get:function(){return this._currentPageNumber},set:function(a){if(!Number.isInteger(a))throw Error("Invalid page number.");this.pdfDocument&&this._setCurrentPageNumber(a,!0)}},{key:"currentPageLabel",get:function(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]},set:function(a){var b=a|0;this._pageLabels&&
(a=this._pageLabels.indexOf(a),0<=a&&(b=a+1));this.currentPageNumber=b}},{key:"currentScale",get:function(){return this._currentScale!==l.UNKNOWN_SCALE?this._currentScale:l.DEFAULT_SCALE},set:function(a){if(isNaN(a))throw Error("Invalid numeric scale");this.pdfDocument&&this._setScale(a,!1)}},{key:"currentScaleValue",get:function(){return this._currentScaleValue},set:function(a){this.pdfDocument&&this._setScale(a,!1)}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(a){if(!(0,
l.isValidRotation)(a))throw Error("Invalid pages rotation angle.");if(this.pdfDocument&&this._pagesRotation!==a){this._pagesRotation=a;for(var b=this._currentPageNumber,c=0,d=this._pages.length;c<d;c++){var e=this._pages[c];e.update(e.scale,a)}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0);this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:a,pageNumber:b});this.defaultRenderingQueue&&this.update()}}},{key:"_setDocumentViewerElement",get:function(){throw Error("Not implemented: _setDocumentViewerElement");
}},{key:"_isScrollModeHorizontal",get:function(){throw Error("Not implemented: _isScrollModeHorizontal");}},{key:"isInPresentationMode",get:function(){return this.presentationModeState===l.PresentationModeState.FULLSCREEN}},{key:"isChangingPresentationMode",get:function(){return this.presentationModeState===l.PresentationModeState.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}},{key:"isVerticalScrollbarEnabled",
get:function(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}},{key:"hasEqualPageSizes",get:function(){for(var a=this._pages[0],b=1,c=this._pages.length;b<c;++b){var d=this._pages[b];if(d.width!==a.width||d.height!==a.height)return!1}return!0}},{key:"scrollMode",get:function(){return this._scrollMode},set:function(a){if(this._scrollMode!==a){if(!Number.isInteger(a)||!Object.values(g).includes(a))throw Error("Invalid scroll mode: "+a);this._scrollMode=
a;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:a});this._updateScrollMode(this._currentPageNumber)}}},{key:"spreadMode",get:function(){return this._spreadMode},set:function(a){if(this._spreadMode!==a){if(!Number.isInteger(a)||!Object.values(o).includes(a))throw Error("Invalid spread mode: "+a);this._spreadMode=a;this.eventBus.dispatch("spreadmodechanged",{source:this,mode:a});this._updateSpreadMode(this._currentPageNumber)}}}]);return b}();b.BaseViewer=p;b.ScrollMode=g;b.SpreadMode=
o},function(p,b,f){function n(b,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}Object.defineProperty(b,"__esModule",{value:!0});b.PDFViewer=void 0;var m=function(){function b(e,a){for(var d=0;d<a.length;d++){var c=a[d];c.enumerable=c.enumerable||
!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(e,c.key,c)}}return function(e,a,d){a&&b(e.prototype,a);d&&b(e,d);return e}}(),l=f(16),q=f(3),r=f(2),p=function(b){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var a=(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&("object"===typeof a||"function"===typeof a)?a:this}
n(e,b);m(e,[{key:"_scrollIntoView",value:function(a){var b=a.pageDiv,a=a.pageSpot,a=void 0===a?null:a;if(!a&&!this.isInPresentationMode){var c=b.offsetLeft+b.clientLeft,e=c+b.clientWidth,f=this.container,h=f.scrollLeft,f=f.clientWidth;if(this._scrollMode===l.ScrollMode.HORIZONTAL||c<h||e>h+f)a={left:0,top:0}}(0,q.scrollIntoView)(b,a)}},{key:"_getVisiblePages",value:function(){if(!this.isInPresentationMode)return(0,q.getVisibleElements)(this.container,this._pages,!0,this._scrollMode===l.ScrollMode.HORIZONTAL);
var a=this._pages[this._currentPageNumber-1];return{first:a,last:a,views:[{id:a.id,view:a}]}}},{key:"update",value:function(){var a=this._getVisiblePages(),b=a.views,c=b.length;if(0!==c){this._resizeBuffer(c,b);this.renderingQueue.renderHighestPriority(a);for(var e=this._currentPageNumber,f=!1,h=0;h<c;++h){var j=b[h];if(100>j.percent)break;if(j.id===e){f=!0;break}}f||(e=b[0].id);this.isInPresentationMode||this._setCurrentPageNumber(e);this._updateLocation(a.first);this.eventBus.dispatch("updateviewarea",
{source:this,location:this._location})}}},{key:"_setDocumentViewerElement",get:function(){return(0,r.shadow)(this,"_setDocumentViewerElement",this.viewer)}},{key:"_isScrollModeHorizontal",get:function(){return this.isInPresentationMode?!1:this._scrollMode===l.ScrollMode.HORIZONTAL}}]);return e}(l.BaseViewer);b.PDFViewer=p}])});
