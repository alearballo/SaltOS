(function(q,a){"object"===typeof exports&&"object"===typeof module?module.exports=a():"function"===typeof define&&define.amd?define("pdfjs-dist/web/pdf_viewer",[],a):"object"===typeof exports?exports["pdfjs-dist/web/pdf_viewer"]=a():q["pdfjs-dist/web/pdf_viewer"]=q.pdfjsDistWebPdfViewer=a()})(this,function(){return function(q){function a(k){if(e[k])return e[k].exports;var m=e[k]={i:k,l:!1,exports:{}};q[k].call(m.exports,m,m.exports,a);m.l=!0;return m.exports}var e={};a.m=q;a.c=e;a.i=function(a){return a};
a.d=function(e,m,c){a.o(e,m)||Object.defineProperty(e,m,{configurable:!1,enumerable:!0,get:c})};a.n=function(e){var m=e&&e.__esModule?function(){return e["default"]}:function(){return e};a.d(m,"a",m);return m};a.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)};a.p="";return a(a.s=14)}([function(q){var a;a="undefined"!==typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:require("../build/pdf.js");q.exports=a},function(q,a,e){function k(g,b){if(!(g instanceof
b))throw new TypeError("Cannot call a class as a function");}function m(g,b){return!b?g:g.replace(/\{\{\s*(\w+)\s*\}\}/g,function(g,f){return f in b?b[f]:"{{"+f+"}}"})}function c(g,b){var d=0,f=g.length-1;if(0===g.length||!b(g[f]))return g.length;if(b(g[d]))return d;for(;d<f;){var h=d+f>>1;b(g[h])?f=h:d=h+1}return d}Object.defineProperty(a,"__esModule",{value:!0});a.localized=a.animationStarted=a.normalizeWheelEventDelta=a.binarySearchFirstItem=a.watchScroll=a.scrollIntoView=a.getOutputScale=a.approximateFraction=
a.roundToDivide=a.getVisibleElements=a.parseQueryString=a.noContextMenuHandler=a.getPDFFileNameFromURL=a.ProgressBar=a.EventBus=a.NullL10n=a.mozL10n=a.RendererType=a.cloneObj=a.VERTICAL_PADDING=a.SCROLLBAR_PADDING=a.MAX_AUTO_SCALE=a.UNKNOWN_SCALE=a.MAX_SCALE=a.MIN_SCALE=a.DEFAULT_SCALE=a.DEFAULT_SCALE_VALUE=a.CSS_UNITS=void 0;var l=function(){function g(g,b){for(var f=0;f<b.length;f++){var h=b[f];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(g,
h.key,h)}}return function(b,d,f){d&&g(b.prototype,d);f&&g(b,f);return b}}(),e=e(0),q=96/72;e.PDFJS.disableFullscreen=void 0===e.PDFJS.disableFullscreen?!1:e.PDFJS.disableFullscreen;e.PDFJS.useOnlyCssZoom=void 0===e.PDFJS.useOnlyCssZoom?!1:e.PDFJS.useOnlyCssZoom;e.PDFJS.maxCanvasPixels=void 0===e.PDFJS.maxCanvasPixels?16777216:e.PDFJS.maxCanvasPixels;e.PDFJS.disableHistory=void 0===e.PDFJS.disableHistory?!1:e.PDFJS.disableHistory;e.PDFJS.disableTextLayer=void 0===e.PDFJS.disableTextLayer?!1:e.PDFJS.disableTextLayer;
e.PDFJS.ignoreCurrentPositionOnZoom=void 0===e.PDFJS.ignoreCurrentPositionOnZoom?!1:e.PDFJS.ignoreCurrentPositionOnZoom;e.PDFJS.locale=void 0===e.PDFJS.locale&&"undefined"!==typeof navigator?navigator.language:e.PDFJS.locale;var e=new Promise(function(g){window.requestAnimationFrame(g)}),o=Promise.resolve(),s=function(){function g(){k(this,g);this._listeners=Object.create(null)}l(g,[{key:"on",value:function(g,b){var f=this._listeners[g];f||(f=[],this._listeners[g]=f);f.push(b)}},{key:"off",value:function(g,
b){var f=this._listeners[g],h=void 0;f&&!(0>(h=f.indexOf(b)))&&f.splice(h,1)}},{key:"dispatch",value:function(g){var b=this._listeners[g];if(b&&0!==b.length){var f=Array.prototype.slice.call(arguments,1);b.slice(0).forEach(function(g){g.apply(null,f)})}}}]);return g}(),b=function(){function g(b){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},f=d.height,h=d.width,d=d.units;k(this,g);this.visible=!0;this.div=document.querySelector(b+" .progress");this.bar=this.div.parentNode;this.height=
f||100;this.width=h||100;this.units=d||"%";this.div.style.height=this.height+this.units;this.percent=0}l(g,[{key:"_updateBar",value:function(){this._indeterminate?(this.div.classList.add("indeterminate"),this.div.style.width=this.width+this.units):(this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units)}},{key:"setWidth",value:function(g){g&&(g=g.parentNode.offsetWidth-g.offsetWidth,0<g&&this.bar.setAttribute("style","width: calc(100% - "+g+"px);"))}},
{key:"hide",value:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))}},{key:"show",value:function(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),this.bar.classList.remove("hidden"))}},{key:"percent",get:function(){return this._percent},set:function(g){this._indeterminate=isNaN(g);this._percent=Math.min(Math.max(g,0),100);this._updateBar()}}]);return g}();a.CSS_UNITS=q;a.DEFAULT_SCALE_VALUE=
"auto";a.DEFAULT_SCALE=1;a.MIN_SCALE=0.25;a.MAX_SCALE=10;a.UNKNOWN_SCALE=0;a.MAX_AUTO_SCALE=1.25;a.SCROLLBAR_PADDING=40;a.VERTICAL_PADDING=5;a.cloneObj=function(g){var b=Object.create(null),d;for(d in g)Object.prototype.hasOwnProperty.call(g,d)&&(b[d]=g[d]);return b};a.RendererType={CANVAS:"canvas",SVG:"svg"};a.mozL10n=void 0;a.NullL10n={get:function(g,b,d){return Promise.resolve(m(d,b))},translate:function(){return Promise.resolve()}};a.EventBus=s;a.ProgressBar=b;a.getPDFFileNameFromURL=function(g){for(var b=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:"document.pdf",d=0,f=g.length;d<f&&""===g[d].trim();)d++;if("data:"===g.substr(d,5).toLowerCase())return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),b;d=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i;f=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(g);if(f=d.exec(f[1])||d.exec(f[2])||d.exec(f[3]))if(f=f[0],-1!==f.indexOf("%"))try{f=d.exec(decodeURIComponent(f))[0]}catch(h){}return f||b};a.noContextMenuHandler=
function(g){g.preventDefault()};a.parseQueryString=function(g){for(var g=g.split("&"),b=Object.create(null),d=0,f=g.length;d<f;++d){var h=g[d].split("="),j=h[0].toLowerCase(),h=1<h.length?h[1]:null;b[decodeURIComponent(j)]=decodeURIComponent(h)}return b};a.getVisibleElements=function(g,b){function d(g){g=g.div;return g.offsetTop+g.clientTop+g.clientHeight>h}for(var f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,h=g.scrollTop,j=h+g.clientHeight,n=g.scrollLeft,u=n+g.clientWidth,t=[],p=
void 0,a=void 0,l=void 0,r=void 0,s=r=a=void 0,a=void 0,o=0===b.length?0:c(b,d),e=b.length;o<e;o++){p=b[o];a=p.div;l=a.offsetTop+a.clientTop;r=a.clientHeight;if(l>j)break;s=a.offsetLeft+a.clientLeft;a=a.clientWidth;s+a<n||s>u||(a=Math.max(0,h-l)+Math.max(0,l+r-j),r=100*(r-a)/r|0,t.push({id:p.id,x:s,y:l,view:p,percent:r}))}j=t[0];n=t[t.length-1];f&&t.sort(function(g,b){var i=g.percent-b.percent;return 0.001<Math.abs(i)?-i:g.id-b.id});return{first:j,last:n,views:t}};a.roundToDivide=function(g,b){var d=
g%b;return 0===d?g:Math.round(g-d+b)};a.approximateFraction=function(g){if(Math.floor(g)===g)return[g,1];var b=1/g;if(8<b)return[1,8];if(Math.floor(b)===b)return[1,b];for(var b=1<g?b:g,d=0,f=1,h=1,j=1;;){var n=d+h,a=f+j;if(8<a)break;b<=n/a?(h=n,j=a):(d=n,f=a)}n=void 0;return n=b-d/f<h/j-b?b===g?[d,f]:[f,d]:b===g?[h,j]:[j,h]};a.getOutputScale=function(b){b=(window.devicePixelRatio||1)/(b.webkitBackingStorePixelRatio||b.mozBackingStorePixelRatio||b.msBackingStorePixelRatio||b.oBackingStorePixelRatio||
b.backingStorePixelRatio||1);return{sx:b,sy:b,scaled:1!==b}};a.scrollIntoView=function(b,i){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,f=b.offsetParent;if(f){for(var h=b.offsetTop+b.clientTop,j=b.offsetLeft+b.clientLeft;f.clientHeight===f.scrollHeight||d&&"hidden"===getComputedStyle(f).overflow;)if(f.dataset._scaleY&&(h/=f.dataset._scaleY,j/=f.dataset._scaleX),h+=f.offsetTop,j+=f.offsetLeft,f=f.offsetParent,!f)return;i&&(void 0!==i.top&&(h+=i.top),void 0!==i.left&&(j+=i.left,
f.scrollLeft=j));f.scrollTop=h}else console.error("offsetParent is not set -- cannot scroll")};a.watchScroll=function(b,i){var d=function(){h||(h=window.requestAnimationFrame(function(){h=null;var j=b.scrollTop,d=f.lastY;j!==d&&(f.down=j>d);f.lastY=j;i(f)}))},f={down:!0,lastY:b.scrollTop,_eventHandler:d},h=null;b.addEventListener("scroll",d,!0);return f};a.binarySearchFirstItem=c;a.normalizeWheelEventDelta=function(b){var i=Math.sqrt(b.deltaX*b.deltaX+b.deltaY*b.deltaY),d=Math.atan2(b.deltaY,b.deltaX);
-0.25*Math.PI<d&&d<0.75*Math.PI&&(i=-i);0===b.deltaMode?i/=900:1===b.deltaMode&&(i/=30);return i};a.animationStarted=e;a.localized=o},function(q,a,e){function k(a){a.on("documentload",function(){var a=document.createEvent("CustomEvent");a.initCustomEvent("documentload",!0,!0,{});window.dispatchEvent(a)});a.on("pagerendered",function(a){var c=document.createEvent("CustomEvent");c.initCustomEvent("pagerendered",!0,!0,{pageNumber:a.pageNumber,cssTransform:a.cssTransform});a.source.div.dispatchEvent(c)});
a.on("textlayerrendered",function(a){var c=document.createEvent("CustomEvent");c.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:a.pageNumber});a.source.textLayerDiv.dispatchEvent(c)});a.on("pagechange",function(a){var c=document.createEvent("UIEvents");c.initUIEvent("pagechange",!0,!0,window,0);c.pageNumber=a.pageNumber;a.source.container.dispatchEvent(c)});a.on("pagesinit",function(a){var c=document.createEvent("CustomEvent");c.initCustomEvent("pagesinit",!0,!0,null);a.source.container.dispatchEvent(c)});
a.on("pagesloaded",function(a){var c=document.createEvent("CustomEvent");c.initCustomEvent("pagesloaded",!0,!0,{pagesCount:a.pagesCount});a.source.container.dispatchEvent(c)});a.on("scalechange",function(a){var c=document.createEvent("UIEvents");c.initUIEvent("scalechange",!0,!0,window,0);c.scale=a.scale;c.presetValue=a.presetValue;a.source.container.dispatchEvent(c)});a.on("updateviewarea",function(a){var c=document.createEvent("UIEvents");c.initUIEvent("updateviewarea",!0,!0,window,0);c.location=
a.location;a.source.container.dispatchEvent(c)});a.on("find",function(a){if(a.source!==window){var c=document.createEvent("CustomEvent");c.initCustomEvent("find"+a.type,!0,!0,{query:a.query,phraseSearch:a.phraseSearch,caseSensitive:a.caseSensitive,highlightAll:a.highlightAll,findPrevious:a.findPrevious});window.dispatchEvent(c)}});a.on("attachmentsloaded",function(a){var c=document.createEvent("CustomEvent");c.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:a.attachmentsCount});a.source.container.dispatchEvent(c)});
a.on("sidebarviewchanged",function(a){var c=document.createEvent("CustomEvent");c.initCustomEvent("sidebarviewchanged",!0,!0,{view:a.view});a.source.outerContainer.dispatchEvent(c)});a.on("pagemode",function(a){var c=document.createEvent("CustomEvent");c.initCustomEvent("pagemode",!0,!0,{mode:a.mode});a.source.pdfViewer.container.dispatchEvent(c)});a.on("namedaction",function(a){var c=document.createEvent("CustomEvent");c.initCustomEvent("namedaction",!0,!0,{action:a.action});a.source.pdfViewer.container.dispatchEvent(c)});
a.on("presentationmodechanged",function(a){var c=document.createEvent("CustomEvent");c.initCustomEvent("presentationmodechanged",!0,!0,{active:a.active,switchInProgress:a.switchInProgress});window.dispatchEvent(c)});a.on("outlineloaded",function(a){var c=document.createEvent("CustomEvent");c.initCustomEvent("outlineloaded",!0,!0,{outlineCount:a.outlineCount});a.source.container.dispatchEvent(c)})}Object.defineProperty(a,"__esModule",{value:!0});a.getGlobalEventBus=a.attachDOMEventsToEventBus=void 0;
var m=e(1),c=null;a.attachDOMEventsToEventBus=k;a.getGlobalEventBus=function(){if(c)return c;c=new m.EventBus;k(c);return c}},function(q,a,e){function k(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function");}function m(b){if(!(b instanceof Array))return!1;var g=b.length,i=!0;if(2>g)return!1;var d=b[0];if(!("object"===("undefined"===typeof d?"undefined":c(d))&&"number"===typeof d.num&&(d.num|0)===d.num&&"number"===typeof d.gen&&(d.gen|0)===d.gen)&&!("number"===typeof d&&
(d|0)===d&&0<=d))return!1;d=b[1];if(!("object"===("undefined"===typeof d?"undefined":c(d))&&"string"===typeof d.name))return!1;switch(d.name){case "XYZ":if(5!==g)return!1;break;case "Fit":case "FitB":return 2===g;case "FitH":case "FitBH":case "FitV":case "FitBV":if(3!==g)return!1;break;case "FitR":if(6!==g)return!1;i=!1;break;default:return!1}for(d=2;d<g;d++){var a=b[d];if(!("number"===typeof a||i&&null===a))return!1}return!0}Object.defineProperty(a,"__esModule",{value:!0});a.SimpleLinkService=a.PDFLinkService=
void 0;var c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},l=function(){function b(b,i){for(var d=0;d<i.length;d++){var a=i[d];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(b,a.key,a)}}return function(g,i,d){i&&b(g.prototype,i);d&&b(g,d);return g}}(),o=e(2),s=e(1),q=function(){function b(){var g=
(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).eventBus;k(this,b);this.eventBus=g||(0,o.getGlobalEventBus)();this._pagesRefCache=this.pdfHistory=this.pdfViewer=this.pdfDocument=this.baseUrl=null}l(b,[{key:"setDocument",value:function(b,i){this.baseUrl=i;this.pdfDocument=b;this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function(b){this.pdfViewer=b}},{key:"setHistory",value:function(b){this.pdfHistory=b}},{key:"navigateTo",value:function(b){var i=this,d=function h(j){var d=
j.namedDest,a=j.explicitDest,c=a[0],j=void 0;if(c instanceof Object){if(j=i._cachedPageNumber(c),null===j){i.pdfDocument.getPageIndex(c).then(function(b){i.cachePageRef(b+1,c);h({namedDest:d,explicitDest:a})}).catch(function(){console.error('PDFLinkService.navigateTo: "'+c+'" is not '+('a valid page reference, for dest="'+b+'".'))});return}}else if((c|0)===c)j=c+1;else{console.error('PDFLinkService.navigateTo: "'+c+'" is not '+('a valid destination reference, for dest="'+b+'".'));return}!j||1>j||
j>i.pagesCount?console.error('PDFLinkService.navigateTo: "'+j+'" is not '+('a valid page number, for dest="'+b+'".')):(i.pdfViewer.scrollPageIntoView({pageNumber:j,destArray:a}),i.pdfHistory&&i.pdfHistory.push({dest:a,hash:d,page:j}))};(new Promise(function(a){"string"===typeof b?i.pdfDocument.getDestination(b).then(function(d){a({namedDest:b,explicitDest:d})}):a({namedDest:"",explicitDest:b})})).then(function(a){a.explicitDest instanceof Array?d(a):console.error('PDFLinkService.navigateTo: "'+a.explicitDest+
'" is'+(' not a valid destination array, for dest="'+b+'".'))})}},{key:"getDestinationHash",value:function(b){return"string"===typeof b?this.getAnchorUrl("#"+escape(b)):b instanceof Array?(b=JSON.stringify(b),this.getAnchorUrl("#"+escape(b))):this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function(b){return(this.baseUrl||"")+b}},{key:"setHash",value:function(b){var a=void 0,d=void 0;if(0<=b.indexOf("="))if(b=(0,s.parseQueryString)(b),"search"in b&&this.eventBus.dispatch("findfromurlhash",{source:this,
query:b.search.replace(/"/g,""),phraseSearch:"true"===b.phrase}),"nameddest"in b)this.pdfHistory&&this.pdfHistory.updateNextHashParam(b.nameddest),this.navigateTo(b.nameddest);else{"page"in b&&(a=b.page|0||1);if("zoom"in b){var c=b.zoom.split(","),h=c[0],j=parseFloat(h);-1===h.indexOf("Fit")?d=[null,{name:"XYZ"},1<c.length?c[1]|0:null,2<c.length?c[2]|0:null,j?j/100:h]:"Fit"===h||"FitB"===h?d=[null,{name:h}]:"FitH"===h||"FitBH"===h||"FitV"===h||"FitBV"===h?d=[null,{name:h},1<c.length?c[1]|0:null]:
"FitR"===h?5!==c.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):d=[null,{name:h},c[1]|0,c[2]|0,c[3]|0,c[4]|0]:console.error('PDFLinkService.setHash: "'+h+'" is not a valid zoom value.')}d?this.pdfViewer.scrollPageIntoView({pageNumber:a||this.page,destArray:d,allowNegativeOffset:!0}):a&&(this.page=a);"pagemode"in b&&this.eventBus.dispatch("pagemode",{source:this,mode:b.pagemode})}else{/^\d+$/.test(b)&&b<=this.pagesCount&&(console.warn("PDFLinkService_setHash: specifying a page number directly after the hash symbol (#) is deprecated, "+
('please use the "#page='+b+'" form instead.')),this.page=b|0);d=unescape(b);try{d=JSON.parse(d),d instanceof Array||(d=d.toString())}catch(n){}"string"===typeof d||m(d)?(this.pdfHistory&&this.pdfHistory.updateNextHashParam(d),this.navigateTo(d)):console.error('PDFLinkService.setHash: "'+unescape(b)+'" is not a valid destination.')}}},{key:"executeNamedAction",value:function(b){switch(b){case "GoBack":this.pdfHistory&&this.pdfHistory.back();break;case "GoForward":this.pdfHistory&&this.pdfHistory.forward();
break;case "NextPage":this.page<this.pagesCount&&this.page++;break;case "PrevPage":1<this.page&&this.page--;break;case "LastPage":this.page=this.pagesCount;break;case "FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:b})}},{key:"onFileAttachmentAnnotation",value:function(b){this.eventBus.dispatch("fileattachmentannotation",{source:this,id:b.id,filename:b.filename,content:b.content})}},{key:"cachePageRef",value:function(b,a){this._pagesRefCache[a.num+" "+a.gen+" R"]=
b}},{key:"_cachedPageNumber",value:function(b){b=b.num+" "+b.gen+" R";return this._pagesRefCache&&this._pagesRefCache[b]||null}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(b){this.pdfViewer.currentPageNumber=b}}]);return b}(),e=function(){function b(){k(this,b)}l(b,[{key:"navigateTo",value:function(){}},{key:"getDestinationHash",value:function(){return"#"}},{key:"getAnchorUrl",
value:function(){return"#"}},{key:"setHash",value:function(){}},{key:"executeNamedAction",value:function(){}},{key:"onFileAttachmentAnnotation",value:function(){}},{key:"cachePageRef",value:function(){}},{key:"page",get:function(){return 0},set:function(){}}]);return b}();a.PDFLinkService=q;a.SimpleLinkService=e},function(q,a,e){function k(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(a,"__esModule",{value:!0});a.DefaultAnnotationLayerFactory=
a.AnnotationLayerBuilder=void 0;var m=function(){function b(b,a){for(var d=0;d<a.length;d++){var c=a[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(g,a,d){a&&b(g.prototype,a);d&&b(g,d);return g}}(),c=e(0),l=e(1),o=e(3),s=function(){function b(g){var a=g.pageDiv,d=g.pdfPage,c=g.linkService,h=g.downloadManager,j=g.renderInteractiveForms,j=void 0===j?!1:j,g=g.l10n,g=void 0===g?l.NullL10n:g;k(this,b);this.pageDiv=a;this.pdfPage=
d;this.linkService=c;this.downloadManager=h;this.renderInteractiveForms=j;this.l10n=g;this.div=null}m(b,[{key:"render",value:function(b){var a=this;this.pdfPage.getAnnotations({intent:1<arguments.length&&void 0!==arguments[1]?arguments[1]:"display"}).then(function(d){var f={viewport:b.clone({dontFlip:!0}),div:a.div,annotations:d,page:a.pdfPage,renderInteractiveForms:a.renderInteractiveForms,linkService:a.linkService,downloadManager:a.downloadManager};a.div?c.AnnotationLayer.update(f):0!==d.length&&
(a.div=document.createElement("div"),a.div.className="annotationLayer",a.pageDiv.appendChild(a.div),f.div=a.div,c.AnnotationLayer.render(f),a.l10n.translate(a.div))})}},{key:"hide",value:function(){this.div&&this.div.setAttribute("hidden","true")}}]);return b}(),q=function(){function b(){k(this,b)}m(b,[{key:"createAnnotationLayerBuilder",value:function(b,a){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:l.NullL10n;return new s({pageDiv:b,pdfPage:a,renderInteractiveForms:2<arguments.length&&
void 0!==arguments[2]?arguments[2]:!1,linkService:new o.SimpleLinkService,l10n:d})}}]);return b}();a.AnnotationLayerBuilder=s;a.DefaultAnnotationLayerFactory=q},function(q,a,e){Object.defineProperty(a,"__esModule",{value:!0});a.PDFPageView=void 0;var k=function(){function a(b,g){for(var c=0;c<g.length;c++){var d=g[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,g,c){g&&a(b.prototype,g);c&&a(b,c);return b}}(),m=e(1),
c=e(0),l=e(2),o=e(7),q=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var g=b.container,c=b.defaultViewport;this.id=b.id;this.renderingId="page"+this.id;this.pageLabel=this.pdfPage=null;this.rotation=0;this.scale=b.scale||m.DEFAULT_SCALE;this.viewport=c;this.pdfPageRotate=c.rotation;this.hasRestrictedScaling=!1;this.enhanceTextSelection=b.enhanceTextSelection||!1;this.renderInteractiveForms=b.renderInteractiveForms||!1;this.eventBus=b.eventBus||
(0,l.getGlobalEventBus)();this.renderingQueue=b.renderingQueue;this.textLayerFactory=b.textLayerFactory;this.annotationLayerFactory=b.annotationLayerFactory;this.renderer=b.renderer||m.RendererType.CANVAS;this.l10n=b.l10n||m.NullL10n;this.paintTask=null;this.paintedViewportMap=new WeakMap;this.renderingState=o.RenderingStates.INITIAL;this.zoomLayer=this.textLayer=this.annotationLayer=this.onAfterDraw=this.onBeforeDraw=this.error=this.resume=null;b=document.createElement("div");b.className="page";
b.style.width=Math.floor(this.viewport.width)+"px";b.style.height=Math.floor(this.viewport.height)+"px";b.setAttribute("data-page-number",this.id);this.div=b;g.appendChild(b)}k(a,[{key:"setPdfPage",value:function(b){this.pdfPage=b;this.pdfPageRotate=b.rotate;this.viewport=b.getViewport(this.scale*m.CSS_UNITS,(this.rotation+this.pdfPageRotate)%360);this.stats=b.stats;this.reset()}},{key:"destroy",value:function(){this.reset();this.pdfPage&&(this.pdfPage.cleanup(),this.pdfPage=null)}},{key:"_resetZoomLayer",
value:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;if(this.zoomLayer){var a=this.zoomLayer.firstChild;this.paintedViewportMap.delete(a);a.width=0;a.height=0;b&&this.zoomLayer.remove();this.zoomLayer=null}}},{key:"reset",value:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;this.cancelRendering();var c=this.div;c.style.width=Math.floor(this.viewport.width)+"px";c.style.height=Math.floor(this.viewport.height)+
"px";for(var d=c.childNodes,b=b&&this.zoomLayer||null,a=a&&this.annotationLayer&&this.annotationLayer.div||null,f=d.length-1;0<=f;f--){var h=d[f];b===h||a===h||c.removeChild(h)}c.removeAttribute("data-loaded");a?this.annotationLayer.hide():this.annotationLayer=null;b||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer());this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg);this.loadingIconDiv=
document.createElement("div");this.loadingIconDiv.className="loadingIcon";c.appendChild(this.loadingIconDiv)}},{key:"update",value:function(b,a){this.scale=b||this.scale;"undefined"!==typeof a&&(this.rotation=a);this.viewport=this.viewport.clone({scale:this.scale*m.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360});if(this.svg)this.cssTransform(this.svg,!0),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});else{var i=!1;if(this.canvas&&0<c.PDFJS.maxCanvasPixels){var d=
this.outputScale;(Math.floor(this.viewport.width)*d.sx|0)*(Math.floor(this.viewport.height)*d.sy|0)>c.PDFJS.maxCanvasPixels&&(i=!0)}if(this.canvas){if(c.PDFJS.useOnlyCssZoom||this.hasRestrictedScaling&&i){this.cssTransform(this.canvas,!0);this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});return}!this.zoomLayer&&!this.canvas.hasAttribute("hidden")&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild);
this.reset(!0,!0)}}},{key:"cancelRendering",value:function(){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null);this.renderingState=o.RenderingStates.INITIAL;this.resume=null;this.textLayer&&(this.textLayer.cancel(),this.textLayer=null)}},{key:"cssTransform",value:function(b){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,i=this.viewport.width,d=this.viewport.height,f=this.div;b.style.width=b.parentNode.style.width=f.style.width=Math.floor(i)+"px";b.style.height=b.parentNode.style.height=
f.style.height=Math.floor(d)+"px";var f=this.viewport.rotation-this.paintedViewportMap.get(b).rotation,h=Math.abs(f),j=1,n=1;if(90===h||270===h)j=d/i,n=i/d;c.CustomStyle.setProp("transform",b,"rotate("+f+"deg) scale("+j+","+n+")");if(this.textLayer){h=this.textLayer.viewport;d=Math.abs(this.viewport.rotation-h.rotation);f=i/h.width;if(90===d||270===d)f=i/h.height;i=this.textLayer.textLayerDiv;j=h=void 0;switch(d){case 0:h=j=0;break;case 90:h=0;j="-"+i.style.height;break;case 180:h="-"+i.style.width;
j="-"+i.style.height;break;case 270:h="-"+i.style.width;j=0;break;default:console.error("Bad rotation value.")}c.CustomStyle.setProp("transform",i,"rotate("+d+"deg) scale("+f+", "+f+") translate("+h+", "+j+")");c.CustomStyle.setProp("transformOrigin",i,"0% 0%")}a&&this.annotationLayer&&this.annotationLayer.render(this.viewport,"display")}},{key:"getPagePoint",value:function(b,a){return this.viewport.convertToPdfPoint(b,a)}},{key:"draw",value:function(){var b=this;this.renderingState!==o.RenderingStates.INITIAL&&
(console.error("Must be in new state before drawing"),this.reset());if(!this.pdfPage)return this.renderingState=o.RenderingStates.FINISHED,Promise.reject(Error("Page is not loaded"));this.renderingState=o.RenderingStates.RUNNING;var a=this.pdfPage,i=this.div,d=document.createElement("div");d.style.width=i.style.width;d.style.height=i.style.height;d.classList.add("canvasWrapper");this.annotationLayer&&this.annotationLayer.div?i.insertBefore(d,this.annotationLayer.div):i.appendChild(d);var f=null;if(this.textLayerFactory){var h=
document.createElement("div");h.className="textLayer";h.style.width=d.style.width;h.style.height=d.style.height;this.annotationLayer&&this.annotationLayer.div?i.insertBefore(h,this.annotationLayer.div):i.appendChild(h);f=this.textLayerFactory.createTextLayerBuilder(h,this.id-1,this.viewport,this.enhanceTextSelection)}this.textLayer=f;h=null;this.renderingQueue&&(h=function(a){if(b.renderingQueue.isHighestPriority(b))a();else{b.renderingState=o.RenderingStates.PAUSED;b.resume=function(){b.renderingState=
o.RenderingStates.RUNNING;a()}}});var j=function(d){if(n===b.paintTask)b.paintTask=null;if(d==="cancelled"||d instanceof c.RenderingCancelledException){b.error=null;return Promise.resolve(void 0)}b.renderingState=o.RenderingStates.FINISHED;if(b.loadingIconDiv){i.removeChild(b.loadingIconDiv);delete b.loadingIconDiv}b._resetZoomLayer(true);b.error=d;b.stats=a.stats;if(b.onAfterDraw)b.onAfterDraw();b.eventBus.dispatch("pagerendered",{source:b,pageNumber:b.id,cssTransform:false});return d?Promise.reject(d):
Promise.resolve(void 0)},n=this.renderer===m.RendererType.SVG?this.paintOnSvg(d):this.paintOnCanvas(d);n.onRenderContinue=h;this.paintTask=n;d=n.promise.then(function(){return j(null).then(function(){if(f){var b=a.streamTextContent({normalizeWhitespace:true});f.setTextContentStream(b);f.render()}})},function(b){return j(b)});this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(i,a,this.renderInteractiveForms,this.l10n)),
this.annotationLayer.render(this.viewport,"display"));i.setAttribute("data-loaded",!0);if(this.onBeforeDraw)this.onBeforeDraw();return d}},{key:"paintOnCanvas",value:function(b){var a=(0,c.createPromiseCapability)(),i={promise:a.promise,onRenderContinue:function(b){b()},cancel:function(){p.cancel()}},d=this.viewport,f=document.createElement("canvas");f.id=this.renderingId;f.setAttribute("hidden","hidden");var h=!0,j=function(){h&&(f.removeAttribute("hidden"),h=!1)};b.appendChild(f);this.canvas=f;
f.mozOpaque=!0;var b=f.getContext("2d",{alpha:!1}),n=(0,m.getOutputScale)(b);this.outputScale=n;if(c.PDFJS.useOnlyCssZoom){var u=d.clone({scale:m.CSS_UNITS});n.sx*=u.width/d.width;n.sy*=u.height/d.height;n.scaled=!0}0<c.PDFJS.maxCanvasPixels&&(u=Math.sqrt(c.PDFJS.maxCanvasPixels/(d.width*d.height)),n.sx>u||n.sy>u?(n.sx=u,n.sy=u,this.hasRestrictedScaling=n.scaled=!0):this.hasRestrictedScaling=!1);var u=(0,m.approximateFraction)(n.sx),t=(0,m.approximateFraction)(n.sy);f.width=(0,m.roundToDivide)(d.width*
n.sx,u[0]);f.height=(0,m.roundToDivide)(d.height*n.sy,t[0]);f.style.width=(0,m.roundToDivide)(d.width,u[1])+"px";f.style.height=(0,m.roundToDivide)(d.height,t[1])+"px";this.paintedViewportMap.set(f,d);var p=this.pdfPage.render({canvasContext:b,transform:!n.scaled?null:[n.sx,0,0,n.sy,0,0],viewport:this.viewport,renderInteractiveForms:this.renderInteractiveForms});p.onContinue=function(b){j();if(i.onRenderContinue)i.onRenderContinue(b);else b()};p.promise.then(function(){j();a.resolve(void 0)},function(b){j();
a.reject(b)});return i}},{key:"paintOnSvg",value:function(b){var a=this,i=!1,d=function(){if(i){if(c.PDFJS.pdfjsNext)throw new c.RenderingCancelledException("Rendering cancelled, page "+a.id,"svg");throw"cancelled";}},f=this.pdfPage,h=this.viewport.clone({scale:m.CSS_UNITS});return{promise:f.getOperatorList().then(function(j){d();return(new c.SVGGraphics(f.commonObjs,f.objs)).getSVG(j,h).then(function(j){d();a.svg=j;a.paintedViewportMap.set(j,h);j.style.width=b.style.width;j.style.height=b.style.height;
a.renderingState=o.RenderingStates.FINISHED;b.appendChild(j)})}),onRenderContinue:function(b){b()},cancel:function(){i=!0}}}},{key:"setPageLabel",value:function(b){this.pageLabel="string"===typeof b?b:null;null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}},{key:"width",get:function(){return this.viewport.width}},{key:"height",get:function(){return this.viewport.height}}]);return a}();a.PDFPageView=q},function(q,a,e){function k(a,
b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(a,"__esModule",{value:!0});a.DefaultTextLayerFactory=a.TextLayerBuilder=void 0;var m=function(){function a(b,g){for(var c=0;c<g.length;c++){var d=g[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,g,c){g&&a(b.prototype,g);c&&a(b,c);return b}}(),c=e(2),l=e(0),o=function(){function a(b){var g=b.textLayerDiv,i=b.eventBus,
d=b.pageIndex,f=b.viewport,h=b.findController,h=void 0===h?null:h,b=b.enhanceTextSelection,b=void 0===b?!1:b;k(this,a);this.textLayerDiv=g;this.eventBus=i||(0,c.getGlobalEventBus)();this.textContent=null;this.textContentItemsStr=[];this.textContentStream=null;this.renderingDone=!1;this.pageIdx=d;this.pageNumber=this.pageIdx+1;this.matches=[];this.viewport=f;this.textDivs=[];this.findController=h;this.textLayerRenderTask=null;this.enhanceTextSelection=b;this._bindMouse()}m(a,[{key:"_finishRendering",
value:function(){this.renderingDone=!0;if(!this.enhanceTextSelection){var b=document.createElement("div");b.className="endOfContent";this.textLayerDiv.appendChild(b)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}},{key:"render",value:function(){var b=this,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if(!(!this.textContent&&!this.textContentStream||this.renderingDone)){this.cancel();this.textDivs=[];var c=document.createDocumentFragment();
this.textLayerRenderTask=(0,l.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:c,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:a,enhanceTextSelection:this.enhanceTextSelection});this.textLayerRenderTask.promise.then(function(){b.textLayerDiv.appendChild(c);b._finishRendering();b.updateMatches()},function(){})}}},{key:"cancel",value:function(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),
this.textLayerRenderTask=null)}},{key:"setTextContentStream",value:function(b){this.cancel();this.textContentStream=b}},{key:"setTextContent",value:function(b){this.cancel();this.textContent=b}},{key:"convertMatches",value:function(b,a){var c=0,d=0,f=this.textContentItemsStr,h=f.length-1,j=null===this.findController?0:this.findController.state.query.length,n=[];if(!b)return n;for(var u=0,t=b.length;u<t;u++){for(var p=b[u];c!==h&&p>=d+f[c].length;)d+=f[c].length,c++;c===f.length&&console.error("Could not find a matching mapping");
for(var l={begin:{divIdx:c,offset:p-d}},p=a?p+a[u]:p+j;c!==h&&p>d+f[c].length;)d+=f[c].length,c++;l.end={divIdx:c,offset:p-d};n.push(l)}return n}},{key:"renderMatches",value:function(b){function a(b,d){var j=b.divIdx;f[j].textContent="";c(j,0,b.offset,d)}function c(b,a,j,g){var p=f[b],b=d[b].substring(a,j),b=document.createTextNode(b);g?(a=document.createElement("span"),a.className=g,a.appendChild(b),p.appendChild(a)):p.appendChild(b)}if(0!==b.length){var d=this.textContentItemsStr,f=this.textDivs,
h=null,j=this.pageIdx,n=null===this.findController?!1:j===this.findController.selected.pageIdx,l=null===this.findController?-1:this.findController.selected.matchIdx,t=l,p=t+1;if(null===this.findController?0:this.findController.state.highlightAll)t=0,p=b.length;else if(!n)return;for(;t<p;t++){var e=b[t],o=e.begin,e=e.end,r=n&&t===l?" selected":"";this.findController&&this.findController.updateMatchPosition(j,t,f,o.divIdx);!h||o.divIdx!==h.divIdx?(null!==h&&c(h.divIdx,h.offset,void 0),a(o)):c(h.divIdx,
h.offset,o.offset);if(o.divIdx===e.divIdx)c(o.divIdx,o.offset,e.offset,"highlight"+r);else{c(o.divIdx,o.offset,void 0,"highlight begin"+r);h=o.divIdx+1;for(o=e.divIdx;h<o;h++)f[h].className="highlight middle"+r;a(e,"highlight end"+r)}h=e}h&&c(h.divIdx,h.offset,void 0)}}},{key:"updateMatches",value:function(){if(this.renderingDone){for(var b=this.matches,a=this.textDivs,c=this.textContentItemsStr,d=-1,f=0,h=b.length;f<h;f++){for(var j=b[f],d=Math.max(d,j.begin.divIdx),n=j.end.divIdx;d<=n;d++){var l=
a[d];l.textContent=c[d];l.className=""}d=j.end.divIdx+1}null!==this.findController&&this.findController.active&&(a=b=void 0,null!==this.findController&&(b=this.findController.pageMatches[this.pageIdx]||null,a=this.findController.pageMatchesLength?this.findController.pageMatchesLength[this.pageIdx]||null:null),this.matches=this.convertMatches(b,a),this.renderMatches(this.matches))}}},{key:"_bindMouse",value:function(){var b=this,a=this.textLayerDiv,c=null;a.addEventListener("mousedown",function(d){if(b.enhanceTextSelection&&
b.textLayerRenderTask)b.textLayerRenderTask.expandTextDivs(!0),c&&(clearTimeout(c),c=null);else{var f=a.querySelector(".endOfContent");if(f){var h=d.target!==a;if(h=h&&"none"!==window.getComputedStyle(f).getPropertyValue("-moz-user-select"))h=a.getBoundingClientRect(),d=Math.max(0,(d.pageY-h.top)/h.height),f.style.top=(100*d).toFixed(2)+"%";f.classList.add("active")}}});a.addEventListener("mouseup",function(){if(b.enhanceTextSelection&&b.textLayerRenderTask)c=setTimeout(function(){b.textLayerRenderTask&&
b.textLayerRenderTask.expandTextDivs(!1);c=null},300);else{var d=a.querySelector(".endOfContent");d&&(d.style.top="",d.classList.remove("active"))}})}}]);return a}(),q=function(){function a(){k(this,a)}m(a,[{key:"createTextLayerBuilder",value:function(b,a,c){return new o({textLayerDiv:b,pageIndex:a,viewport:c,enhanceTextSelection:3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1})}}]);return a}();a.TextLayerBuilder=o;a.DefaultTextLayerFactory=q},function(q,a){Object.defineProperty(a,"__esModule",
{value:!0});var e=function(){function a(c,e){for(var s=0;s<e.length;s++){var b=e[s];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(c,b.key,b)}}return function(l,e,s){e&&a(l.prototype,e);s&&a(l,s);return l}}(),k={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},m=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.idleTimeout=this.highestPriorityPage=this.onIdle=this.pdfThumbnailViewer=this.pdfViewer=
null;this.isThumbnailViewEnabled=this.printing=!1}e(a,[{key:"setViewer",value:function(a){this.pdfViewer=a}},{key:"setThumbnailViewer",value:function(a){this.pdfThumbnailViewer=a}},{key:"isHighestPriority",value:function(a){return this.highestPriorityPage===a.renderingId}},{key:"renderHighestPriority",value:function(a){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null);if(!this.pdfViewer.forceRendering(a)&&(!this.pdfThumbnailViewer||!this.isThumbnailViewEnabled||!this.pdfThumbnailViewer.forceRendering())&&
!this.printing&&this.onIdle)this.idleTimeout=setTimeout(this.onIdle.bind(this),3E4)}},{key:"getHighestPriority",value:function(a,c,e){var b=a.views,g=b.length;if(0===g)return!1;for(var i=0;i<g;++i){var d=b[i].view;if(!this.isViewFinished(d))return d}a=e?a.last.id:a.first.id-2;return c[a]&&!this.isViewFinished(c[a])?c[a]:null}},{key:"isViewFinished",value:function(a){return a.renderingState===k.FINISHED}},{key:"renderView",value:function(a){var c=this;switch(a.renderingState){case k.FINISHED:return!1;
case k.PAUSED:this.highestPriorityPage=a.renderingId;a.resume();break;case k.RUNNING:this.highestPriorityPage=a.renderingId;break;case k.INITIAL:this.highestPriorityPage=a.renderingId;var e=function(){c.renderHighestPriority()};a.draw().then(e,e)}return!0}}]);return a}();a.RenderingStates=k;a.PDFRenderingQueue=m},function(q,a,e){function k(a,c){var e=document.createElement("a");e.click?(e.href=a,e.target="_parent","download"in e&&(e.download=c),(document.body||document.documentElement).appendChild(e),
e.click(),e.parentNode.removeChild(e)):(window.top===window&&a.split("#")[0]===window.location.href.split("#")[0]&&(e=-1===a.indexOf("?")?"?":"&",a=a.replace(/#|$/,e+"$&")),window.open(a,"_parent"))}Object.defineProperty(a,"__esModule",{value:!0});a.DownloadManager=void 0;var m=function(){function a(c,e){for(var b=0;b<e.length;b++){var g=e[b];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(c,g.key,g)}}return function(c,e,b){e&&a(c.prototype,e);b&&
a(c,b);return c}}(),c=e(0),q=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}m(a,[{key:"downloadUrl",value:function(a,e){(0,c.createValidAbsoluteUrl)(a,"http://example.com")&&k(a+"#pdfjs.action=download",e)}},{key:"downloadData",value:function(a,e,b){if(navigator.msSaveBlob)return navigator.msSaveBlob(new Blob([a],{type:b}),e);a=(0,c.createObjectURL)(a,b,c.PDFJS.disableCreateObjectURL);k(a,e)}},{key:"download",value:function(a,e,b){navigator.msSaveBlob?
navigator.msSaveBlob(a,b)||this.downloadUrl(e,b):c.PDFJS.disableCreateObjectURL?this.downloadUrl(e,b):(a=URL.createObjectURL(a),k(a,b))}}]);return a}();a.DownloadManager=q},function(q,a,e){Object.defineProperty(a,"__esModule",{value:!0});a.GenericL10n=void 0;var k=function(){function a(c,e){for(var k=0;k<e.length;k++){var b=e[k];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(c,b.key,b)}}return function(e,k,m){k&&a(e.prototype,k);m&&a(e,m);return e}}();
e(13);var m=document.webL10n,q=function(){function a(e){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._lang=e;this._ready=new Promise(function(a){m.setLanguage(e,function(){a(m)})})}k(a,[{key:"getDirection",value:function(){return this._ready.then(function(a){return a.getDirection()})}},{key:"get",value:function(a,c,e){return this._ready.then(function(b){return b.get(a,c,e)})}},{key:"translate",value:function(a){return this._ready.then(function(c){return c.translate(a)})}}]);
return a}();a.GenericL10n=q},function(q,a,e){Object.defineProperty(a,"__esModule",{value:!0});a.PDFFindController=a.FindState=void 0;var k=function(){function a(b,c){for(var i=0;i<c.length;i++){var d=c[i];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,c,i){c&&a(b.prototype,c);i&&a(b,i);return b}}(),m=e(0),c=e(1),l={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},o={"\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',
"\u201d":'"',"\u201e":'"',"\u201f":'"',"\u00bc":"1/4","\u00bd":"1/2","\u00be":"3/4"},q=function(){function a(b){b=b.pdfViewer;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.pdfViewer=b;this.onUpdateState=this.onUpdateResultsCount=null;this.reset();b=Object.keys(o).join("");this.normalizationRegex=RegExp("["+b+"]","g")}k(a,[{key:"reset",value:function(){var b=this;this.startedTextExtraction=!1;this.extractTextPromises=[];this.pendingFindMatches=Object.create(null);
this.active=!1;this.pageContents=[];this.pageMatches=[];this.pageMatchesLength=null;this.matchCount=0;this.selected={pageIdx:-1,matchIdx:-1};this.offset={pageIdx:null,matchIdx:null};this.state=this.resumePageIdx=this.pagesToSearch=null;this.dirtyMatch=!1;this.findTimeout=null;this._firstPagePromise=new Promise(function(a){b.resolveFirstPage=a})}},{key:"normalize",value:function(b){return b.replace(this.normalizationRegex,function(b){return o[b]})}},{key:"_prepareMatches",value:function(b,a,c){function d(b,
a){var c=b[a],d=b[a+1];if(a<b.length-1&&c.match===d.match)return c.skipped=!0;for(d=a-1;0<=d;d--){var g=b[d];if(!g.skipped){if(g.match+g.matchLength<c.match)break;if(g.match+g.matchLength>=c.match+c.matchLength)return c.skipped=!0}}return!1}b.sort(function(b,a){return b.match===a.match?b.matchLength-a.matchLength:b.match-a.match});for(var f=0,h=b.length;f<h;f++)d(b,f)||(a.push(b[f].match),c.push(b[f].matchLength))}},{key:"calcFindPhraseMatch",value:function(b,a,c){for(var d=[],f=b.length,h=-f;;){h=
c.indexOf(b,h+f);if(-1===h)break;d.push(h)}this.pageMatches[a]=d}},{key:"calcFindWordMatch",value:function(b,a,c){for(var d=[],b=b.match(/\S+/g),f=0,h=b.length;f<h;f++)for(var j=b[f],n=j.length,e=-n;;){e=c.indexOf(j,e+n);if(-1===e)break;d.push({match:e,matchLength:n,skipped:!1})}this.pageMatchesLength||(this.pageMatchesLength=[]);this.pageMatchesLength[a]=[];this.pageMatches[a]=[];this._prepareMatches(d,this.pageMatches[a],this.pageMatchesLength[a])}},{key:"calcFindMatch",value:function(b){var a=
this.normalize(this.pageContents[b]),c=this.normalize(this.state.query),d=this.state.caseSensitive,f=this.state.phraseSearch;if(0!==c.length&&(d||(a=a.toLowerCase(),c=c.toLowerCase()),f?this.calcFindPhraseMatch(c,b,a):this.calcFindWordMatch(c,b,a),this.updatePage(b),this.resumePageIdx===b&&(this.resumePageIdx=null,this.nextPageMatch()),0<this.pageMatches[b].length))this.matchCount+=this.pageMatches[b].length,this.updateUIResultsCount()}},{key:"extractText",value:function(){var b=this;if(!this.startedTextExtraction){this.startedTextExtraction=
!0;this.pageContents.length=0;for(var a=Promise.resolve(),c=function(c){var d=(0,m.createPromiseCapability)();b.extractTextPromises[c]=d.promise;a=a.then(function(){return b.pdfViewer.getPageTextContent(c).then(function(a){for(var a=a.items,g=[],f=0,p=a.length;f<p;f++)g.push(a[f].str);b.pageContents[c]=g.join("");d.resolve(c)},function(a){console.error("Unable to get page "+(c+1)+" text content",a);b.pageContents[c]="";d.resolve(c)})})},d=0,f=this.pdfViewer.pagesCount;d<f;d++)c(d,f)}}},{key:"executeCommand",
value:function(b,a){var c=this;if(null===this.state||"findagain"!==b)this.dirtyMatch=!0;this.state=a;this.updateUIState(l.PENDING);this._firstPagePromise.then(function(){c.extractText();clearTimeout(c.findTimeout);"find"===b?c.findTimeout=setTimeout(c.nextMatch.bind(c),250):c.nextMatch()})}},{key:"updatePage",value:function(b){this.selected.pageIdx===b&&(this.pdfViewer.currentPageNumber=b+1);b=this.pdfViewer.getPageView(b);b.textLayer&&b.textLayer.updateMatches()}},{key:"nextMatch",value:function(){var b=
this,a=this.state.findPrevious,c=this.pdfViewer.currentPageNumber-1,d=this.pdfViewer.pagesCount;this.active=!0;if(this.dirtyMatch){this.dirtyMatch=!1;this.selected.pageIdx=this.selected.matchIdx=-1;this.offset.pageIdx=c;this.offset.matchIdx=null;this.hadMatch=!1;this.resumePageIdx=null;this.pageMatches=[];this.matchCount=0;this.pageMatchesLength=null;for(c=0;c<d;c++)this.updatePage(c),c in this.pendingFindMatches||(this.pendingFindMatches[c]=!0,this.extractTextPromises[c].then(function(a){delete b.pendingFindMatches[a];
b.calcFindMatch(a)}))}if(""===this.state.query)this.updateUIState(l.FOUND);else if(!this.resumePageIdx){c=this.offset;this.pagesToSearch=d;if(null!==c.matchIdx){d=this.pageMatches[c.pageIdx].length;if(!a&&c.matchIdx+1<d||a&&0<c.matchIdx){this.hadMatch=!0;c.matchIdx=a?c.matchIdx-1:c.matchIdx+1;this.updateMatch(!0);return}this.advanceOffsetPage(a)}this.nextPageMatch()}}},{key:"matchesReady",value:function(b){var a=this.offset,b=b.length,c=this.state.findPrevious;if(b)return this.hadMatch=!0,a.matchIdx=
c?b-1:0,this.updateMatch(!0),!0;this.advanceOffsetPage(c);return a.wrapped&&(a.matchIdx=null,0>this.pagesToSearch)?(this.updateMatch(!1),!0):!1}},{key:"updateMatchPosition",value:function(b,a,e,d){this.selected.matchIdx===a&&this.selected.pageIdx===b&&(0,c.scrollIntoView)(e[d],{top:-50,left:-400},!0)}},{key:"nextPageMatch",value:function(){null!==this.resumePageIdx&&console.error("There can only be one pending page.");var b=null;do{var a=this.offset.pageIdx,b=this.pageMatches[a];if(!b){this.resumePageIdx=
a;break}}while(!this.matchesReady(b))}},{key:"advanceOffsetPage",value:function(b){var a=this.offset,c=this.extractTextPromises.length;a.pageIdx=b?a.pageIdx-1:a.pageIdx+1;a.matchIdx=null;this.pagesToSearch--;if(a.pageIdx>=c||0>a.pageIdx)a.pageIdx=b?c-1:0,a.wrapped=!0}},{key:"updateMatch",value:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,a=l.NOT_FOUND,c=this.offset.wrapped;this.offset.wrapped=!1;b&&(b=this.selected.pageIdx,this.selected.pageIdx=this.offset.pageIdx,this.selected.matchIdx=
this.offset.matchIdx,a=c?l.WRAPPED:l.FOUND,-1!==b&&b!==this.selected.pageIdx&&this.updatePage(b));this.updateUIState(a,this.state.findPrevious);-1!==this.selected.pageIdx&&this.updatePage(this.selected.pageIdx)}},{key:"updateUIResultsCount",value:function(){if(this.onUpdateResultsCount)this.onUpdateResultsCount(this.matchCount)}},{key:"updateUIState",value:function(b,a){if(this.onUpdateState)this.onUpdateState(b,a,this.matchCount)}}]);return a}();a.FindState=l;a.PDFFindController=q},function(q,a,
e){function k(a){this.linkService=a.linkService;this.eventBus=a.eventBus||(0,m.getGlobalEventBus)();this.initialized=!1;this.initialBookmark=this.initialDestination=null}Object.defineProperty(a,"__esModule",{value:!0});a.PDFHistory=void 0;var m=e(2);k.prototype={initialize:function(a){function e(){b.previousHash=window.location.hash.slice(1);b._pushToHistory({hash:b.previousHash},!1,!0);b._updatePreviousBookmark()}function k(a,c){function d(){window.removeEventListener("popstate",d);window.addEventListener("popstate",
f);b._pushToHistory(a,!1,!0);history.forward()}function f(){window.removeEventListener("popstate",f);b.allowHashChange=!0;b.historyUnlocked=!0;c()}b.historyUnlocked=!1;b.allowHashChange=!1;window.addEventListener("popstate",d);history.back()}function m(){var a=b._getPreviousParams(null,!0);a&&(b._pushToHistory(a,!1,!b.current.dest&&b.current.hash!==b.previousHash),b._updatePreviousBookmark());window.removeEventListener("beforeunload",m)}this.initialized=!0;this.reInitialized=!1;this.historyUnlocked=
this.allowHashChange=!0;this.isViewerInPresentationMode=!1;this.previousHash=window.location.hash.substring(1);this.currentBookmark="";this.currentPage=0;this.updatePreviousBookmark=!1;this.previousBookmark="";this.previousPage=0;this.nextHashParam="";this.fingerprint=a;this.currentUid=this.uid=0;this.current={};a=window.history.state;this._isStateObjectDefined(a)?(a.target.dest?this.initialDestination=a.target.dest:this.initialBookmark=a.target.hash,this.currentUid=a.uid,this.uid=a.uid+1,this.current=
a.target):(a&&(a.fingerprint&&this.fingerprint!==a.fingerprint)&&(this.reInitialized=!0),this._pushOrReplaceState({fingerprint:this.fingerprint},!0));var b=this;window.addEventListener("popstate",function(a){b.historyUnlocked&&(a.state?b._goTo(a.state):b.uid===0?k(b.previousHash&&b.currentBookmark&&b.previousHash!==b.currentBookmark?{hash:b.currentBookmark,page:b.currentPage}:{page:1},function(){e()}):e())});window.addEventListener("beforeunload",m);window.addEventListener("pageshow",function(){window.addEventListener("beforeunload",
m)});b.eventBus.on("presentationmodechanged",function(a){b.isViewerInPresentationMode=a.active})},clearHistoryState:function(){this._pushOrReplaceState(null,!0)},_isStateObjectDefined:function(a){return a&&0<=a.uid&&a.fingerprint&&this.fingerprint===a.fingerprint&&a.target&&a.target.hash?!0:!1},_pushOrReplaceState:function(a,e){e?window.history.replaceState(a,"",document.URL):window.history.pushState(a,"",document.URL)},get isHashChangeUnlocked(){return!this.initialized?!0:this.allowHashChange},_updatePreviousBookmark:function(){this.updatePreviousBookmark&&
(this.currentBookmark&&this.currentPage)&&(this.previousBookmark=this.currentBookmark,this.previousPage=this.currentPage,this.updatePreviousBookmark=!1)},updateCurrentBookmark:function(a,e){this.initialized&&(this.currentBookmark=a.substring(1),this.currentPage=e|0,this._updatePreviousBookmark())},updateNextHashParam:function(a){this.initialized&&(this.nextHashParam=a)},push:function(a,e){if(this.initialized&&this.historyUnlocked)if(a.dest&&!a.hash&&(a.hash=this.current.hash&&this.current.dest&&this.current.dest===
a.dest?this.current.hash:this.linkService.getDestinationHash(a.dest).split("#")[1]),a.page&&(a.page|=0),e){var k=window.history.state.target;k||(this._pushToHistory(a,!1),this.previousHash=window.location.hash.substring(1));this.updatePreviousBookmark=this.nextHashParam?!1:!0;k&&this._updatePreviousBookmark()}else{if(this.nextHashParam){if(this.nextHashParam===a.hash){this.nextHashParam=null;this.updatePreviousBookmark=!0;return}this.nextHashParam=null}a.hash?this.current.hash?this.current.hash!==
a.hash?this._pushToHistory(a,!0):(!this.current.page&&a.page&&this._pushToHistory(a,!1,!0),this.updatePreviousBookmark=!0):this._pushToHistory(a,!0):this.current.page&&(a.page&&this.current.page!==a.page)&&this._pushToHistory(a,!0)}},_getPreviousParams:function(a,e){if(!this.currentBookmark||!this.currentPage)return null;this.updatePreviousBookmark&&(this.updatePreviousBookmark=!1);if(0<this.uid&&(!this.previousBookmark||!this.previousPage))return null;if(!this.current.dest&&!a||e){if(this.previousBookmark===
this.currentBookmark)return null}else if(this.current.page||a){if(this.previousPage===this.currentPage)return null}else return null;var k={hash:this.currentBookmark,page:this.currentPage};this.isViewerInPresentationMode&&(k.hash=null);return k},_stateObj:function(a){return{fingerprint:this.fingerprint,uid:this.uid,target:a}},_pushToHistory:function(a,e,k){this.initialized&&(!a.hash&&a.page&&(a.hash="page="+a.page),e&&!k&&(e=this._getPreviousParams())&&this._pushToHistory(e,!1,!this.current.dest&&
this.current.hash!==this.previousHash),this._pushOrReplaceState(this._stateObj(a),k||0===this.uid),this.currentUid=this.uid++,this.current=a,this.updatePreviousBookmark=!0)},_goTo:function(a){if(this.initialized&&this.historyUnlocked&&this._isStateObjectDefined(a)){if(!this.reInitialized&&a.uid<this.currentUid){var e=this._getPreviousParams(!0);if(e){this._pushToHistory(this.current,!1);this._pushToHistory(e,!1);this.currentUid=a.uid;window.history.back();return}}this.historyUnlocked=!1;a.target.dest?
this.linkService.navigateTo(a.target.dest):this.linkService.setHash(a.target.hash);this.currentUid=a.uid;a.uid>this.uid&&(this.uid=a.uid);this.current=a.target;this.updatePreviousBookmark=!0;a=window.location.hash.substring(1);this.previousHash!==a&&(this.allowHashChange=!1);this.previousHash=a;this.historyUnlocked=!0}},back:function(){this.go(-1)},forward:function(){this.go(1)},go:function(a){if(this.initialized&&this.historyUnlocked){var e=window.history.state;-1===a&&e&&0<e.uid?window.history.back():
1===a&&(e&&e.uid<this.uid-1)&&window.history.forward()}}};a.PDFHistory=k},function(q,a,e){function k(a){var b=[];this.push=function(c){var d=b.indexOf(c);0<=d&&b.splice(d,1);b.push(c);b.length>a&&b.shift().destroy()};this.resize=function(c){for(a=c;b.length>a;)b.shift().destroy()}}Object.defineProperty(a,"__esModule",{value:!0});a.PDFViewer=a.PresentationModeState=void 0;var m=function(){function a(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in
e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),c=e(0),l=e(1),o=e(7),s=e(4),b=e(2),g=e(5),i=e(3),d=e(6),f={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},q=function(){function a(c){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.container=c.container;this.viewer=c.viewer||c.container.firstElementChild;this.eventBus=c.eventBus||(0,b.getGlobalEventBus)();this.linkService=c.linkService||new i.SimpleLinkService;
this.downloadManager=c.downloadManager||null;this.removePageBorders=c.removePageBorders||!1;this.enhanceTextSelection=c.enhanceTextSelection||!1;this.renderInteractiveForms=c.renderInteractiveForms||!1;this.enablePrintAutoRotate=c.enablePrintAutoRotate||!1;this.renderer=c.renderer||l.RendererType.CANVAS;this.l10n=c.l10n||l.NullL10n;(this.defaultRenderingQueue=!c.renderingQueue)?(this.renderingQueue=new o.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=c.renderingQueue;this.scroll=
(0,l.watchScroll)(this.container,this._scrollUpdate.bind(this));this.presentationModeState=f.UNKNOWN;this._resetView();this.removePageBorders&&this.viewer.classList.add("removePageBorders")}m(a,[{key:"getPageView",value:function(a){return this._pages[a]}},{key:"_setCurrentPageNumber",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;if(this._currentPageNumber===a)b&&this._resetCurrentPageView();else if(0<a&&a<=this.pagesCount){var c={source:this,pageNumber:a,pageLabel:this._pageLabels&&
this._pageLabels[a-1]};this._currentPageNumber=a;this.eventBus.dispatch("pagechanging",c);this.eventBus.dispatch("pagechange",c);b&&this._resetCurrentPageView()}else console.error('PDFViewer._setCurrentPageNumber: "'+a+'" is out of bounds.')}},{key:"setDocument",value:function(a){var b=this;this.pdfDocument&&(this._cancelRendering(),this._resetView());if(this.pdfDocument=a){var d=a.numPages,e=(0,c.createPromiseCapability)();this.pagesPromise=e.promise;e.promise.then(function(){b._pageViewsReady=true;
b.eventBus.dispatch("pagesloaded",{source:b,pagesCount:d})});var p=!1,f=(0,c.createPromiseCapability)();this.onePageRendered=f.promise;var h=function(a){a.onBeforeDraw=function(){b._buffer.push(a)};a.onAfterDraw=function(){if(!p){p=true;f.resolve()}}},r=a.getPage(1);this.firstPagePromise=r;r.then(function(p){for(var r=b.currentScale,p=p.getViewport(r*l.CSS_UNITS),i=1;i<=d;++i){var k=null;c.PDFJS.disableTextLayer||(k=b);k=new g.PDFPageView({container:b.viewer,eventBus:b.eventBus,id:i,scale:r,defaultViewport:p.clone(),
renderingQueue:b.renderingQueue,textLayerFactory:k,annotationLayerFactory:b,enhanceTextSelection:b.enhanceTextSelection,renderInteractiveForms:b.renderInteractiveForms,renderer:b.renderer,l10n:b.l10n});h(k);b._pages.push(k)}f.promise.then(function(){if(c.PDFJS.disableAutoFetch)e.resolve();else for(var p=d,f=function(c){a.getPage(c).then(function(a){var d=b._pages[c-1];d.pdfPage||d.setPdfPage(a);b.linkService.cachePageRef(c,a.ref);--p===0&&e.resolve()},function(a){console.error("Unable to get page "+
c+" to initialize viewer",a);--p===0&&e.resolve()})},g=1;g<=d;++g)f(g)});b.eventBus.dispatch("pagesinit",{source:b});b.defaultRenderingQueue&&b.update();b.findController&&b.findController.resolveFirstPage()}).catch(function(a){console.error("Unable to initialize viewer",a)})}}},{key:"setPageLabels",value:function(a){if(this.pdfDocument){a?a instanceof Array&&this.pdfDocument.numPages===a.length?this._pageLabels=a:(this._pageLabels=null,console.error("PDFViewer.setPageLabels: Invalid page labels.")):
this._pageLabels=null;for(var a=0,b=this._pages.length;a<b;a++)this._pages[a].setPageLabel(this._pageLabels&&this._pageLabels[a])}}},{key:"_resetView",value:function(){this._pages=[];this._currentPageNumber=1;this._currentScale=l.UNKNOWN_SCALE;this._pageLabels=this._currentScaleValue=null;this._buffer=new k(10);this._location=null;this._pagesRotation=0;this._pagesRequests=[];this._pageViewsReady=!1;this.viewer.textContent=""}},{key:"_scrollUpdate",value:function(){0!==this.pagesCount&&this.update()}},
{key:"_setScaleDispatchEvent",value:function(a,b){var c={source:this,scale:a,presetValue:2<arguments.length&&void 0!==arguments[2]&&arguments[2]?b:void 0};this.eventBus.dispatch("scalechanging",c);this.eventBus.dispatch("scalechange",c)}},{key:"_setScaleUpdatePages",value:function(a,b){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;this._currentScaleValue=b.toString();var p;p=this._currentScale;p=a===p?!0:1.0E-15>Math.abs(a-
p)?!0:!1;if(p)e&&this._setScaleDispatchEvent(a,b,!0);else{p=0;for(var f=this._pages.length;p<f;p++)this._pages[p].update(a);this._currentScale=a;d||(d=this._currentPageNumber,p=void 0,this._location&&(!c.PDFJS.ignoreCurrentPositionOnZoom&&!this.isInPresentationMode&&!this.isChangingPresentationMode)&&(d=this._location.pageNumber,p=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:d,destArray:p,allowNegativeOffset:!0}));this._setScaleDispatchEvent(a,
b,e);this.defaultRenderingQueue&&this.update()}}},{key:"_setScale",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,c=parseFloat(a);if(0<c)this._setScaleUpdatePages(c,a,b,!1);else if(c=this._pages[this._currentPageNumber-1]){var d=(this.container.clientWidth-(this.isInPresentationMode||this.removePageBorders?0:l.SCROLLBAR_PADDING))/c.width*c.scale,e=(this.container.clientHeight-(this.isInPresentationMode||this.removePageBorders?0:l.VERTICAL_PADDING))/c.height*c.scale;
switch(a){case "page-actual":c=1;break;case "page-width":c=d;break;case "page-height":c=e;break;case "page-fit":c=Math.min(d,e);break;case "auto":c=c.width>c.height?Math.min(e,d):d;c=Math.min(l.MAX_AUTO_SCALE,c);break;default:console.error('PDFViewer._setScale: "'+a+'" is an unknown zoom value.');return}this._setScaleUpdatePages(c,a,b,!0)}}},{key:"_resetCurrentPageView",value:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0);var a=this._pages[this._currentPageNumber-
1];(0,l.scrollIntoView)(a.div)}},{key:"scrollPageIntoView",value:function(a){if(this.pdfDocument){if(1<arguments.length||"number"===typeof a){console.warn("Call of scrollPageIntoView() with obsolete signature.");var b={};"number"===typeof a&&(b.pageNumber=a);arguments[1]instanceof Array&&(b.destArray=arguments[1]);a=b}var c=a.pageNumber||0,d=a.destArray||null,b=a.allowNegativeOffset||!1;if(this.isInPresentationMode||!d)this._setCurrentPageNumber(c,!0);else if(c=this._pages[c-1]){var e=0,f=0,g=0,r=
0,h=void 0,i=void 0,i=0===c.rotation%180?!1:!0,h=(i?c.height:c.width)/c.scale/l.CSS_UNITS,i=(i?c.width:c.height)/c.scale/l.CSS_UNITS,k=0;switch(d[1].name){case "XYZ":e=d[2];f=d[3];k=d[4];e=null!==e?e:0;f=null!==f?f:i;break;case "Fit":case "FitB":k="page-fit";break;case "FitH":case "FitBH":f=d[2];k="page-width";null===f&&this._location&&(e=this._location.left,f=this._location.top);break;case "FitV":case "FitBV":e=d[2];g=h;r=i;k="page-height";break;case "FitR":e=d[2];f=d[3];g=d[4]-e;r=d[5]-f;i=this.removePageBorders?
0:l.VERTICAL_PADDING;h=(this.container.clientWidth-(this.removePageBorders?0:l.SCROLLBAR_PADDING))/g/l.CSS_UNITS;i=(this.container.clientHeight-i)/r/l.CSS_UNITS;k=Math.min(Math.abs(h),Math.abs(i));break;default:console.error('PDFViewer.scrollPageIntoView: "'+d[1].name+'" is not a valid destination type.');return}k&&k!==this._currentScale?this.currentScaleValue=k:this._currentScale===l.UNKNOWN_SCALE&&(this.currentScaleValue=l.DEFAULT_SCALE_VALUE);"page-fit"===k&&!d[4]?(0,l.scrollIntoView)(c.div):(e=
[c.viewport.convertToViewportPoint(e,f),c.viewport.convertToViewportPoint(e+g,f+r)],d=Math.min(e[0][0],e[1][0]),e=Math.min(e[0][1],e[1][1]),b||(d=Math.max(d,0),e=Math.max(e,0)),(0,l.scrollIntoView)(c.div,{left:d,top:e}))}else console.error('PDFViewer.scrollPageIntoView: Invalid "pageNumber" parameter.')}}},{key:"_updateLocation",value:function(a){var b=this._currentScale,c=this._currentScaleValue,b=parseFloat(c)===b?Math.round(1E4*b)/100:c,c=a.id,d;d="#page="+c+("&zoom="+b);var e=this.container,e=
this._pages[c-1].getPagePoint(e.scrollLeft-a.x,e.scrollTop-a.y),a=Math.round(e[0]),e=Math.round(e[1]);this._location={pageNumber:c,scale:b,top:e,left:a,pdfOpenParams:d+(","+a+","+e)}}},{key:"update",value:function(){var a=this._getVisiblePages(),b=a.views;if(0!==b.length){this._buffer.resize(Math.max(10,2*b.length+1));this.renderingQueue.renderHighestPriority(a);for(var c=this._currentPageNumber,a=a.first,d=!1,e=0,f=b.length;e<f;++e){var g=b[e];if(100>g.percent)break;if(g.id===c){d=!0;break}}d||(c=
b[0].id);this.isInPresentationMode||this._setCurrentPageNumber(c);this._updateLocation(a);this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}}},{key:"containsElement",value:function(a){return this.container.contains(a)}},{key:"focus",value:function(){this.container.focus()}},{key:"_getVisiblePages",value:function(){if(!this.isInPresentationMode)return(0,l.getVisibleElements)(this.container,this._pages,!0);var a=[],b=this._pages[this._currentPageNumber-1];a.push({id:b.id,
view:b});return{first:b,last:b,views:a}}},{key:"cleanup",value:function(){for(var a=0,b=this._pages.length;a<b;a++)this._pages[a]&&this._pages[a].renderingState!==o.RenderingStates.FINISHED&&this._pages[a].reset()}},{key:"_cancelRendering",value:function(){for(var a=0,b=this._pages.length;a<b;a++)this._pages[a]&&this._pages[a].cancelRendering()}},{key:"_ensurePdfPageLoaded",value:function(a){var b=this;if(a.pdfPage)return Promise.resolve(a.pdfPage);var c=a.id;if(this._pagesRequests[c])return this._pagesRequests[c];
var d=this.pdfDocument.getPage(c).then(function(d){a.pdfPage||a.setPdfPage(d);b._pagesRequests[c]=null;return d}).catch(function(a){console.error("Unable to get page for page view",a);b._pagesRequests[c]=null});return this._pagesRequests[c]=d}},{key:"forceRendering",value:function(a){var b=this,c=this.renderingQueue.getHighestPriority(a||this._getVisiblePages(),this._pages,this.scroll.down);return c?(this._ensurePdfPageLoaded(c).then(function(){b.renderingQueue.renderView(c)}),!0):!1}},{key:"getPageTextContent",
value:function(a){return this.pdfDocument.getPage(a+1).then(function(a){return a.getTextContent({normalizeWhitespace:!0})})}},{key:"createTextLayerBuilder",value:function(a,b,c){var e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;return new d.TextLayerBuilder({textLayerDiv:a,eventBus:this.eventBus,pageIndex:b,viewport:c,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:this.isInPresentationMode?!1:e})}},{key:"createAnnotationLayerBuilder",value:function(a,
b){return new s.AnnotationLayerBuilder({pageDiv:a,pdfPage:b,renderInteractiveForms:2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,linkService:this.linkService,downloadManager:this.downloadManager,l10n:3<arguments.length&&void 0!==arguments[3]?arguments[3]:l.NullL10n})}},{key:"setFindController",value:function(a){this.findController=a}},{key:"getPagesOverview",value:function(){var a=this._pages.map(function(a){a=a.pdfPage.getViewport(1);return{width:a.width,height:a.height,rotation:a.rotation}});
if(!this.enablePrintAutoRotate)return a;var b=a[0].width<=a[0].height;return a.map(function(a){return b===a.width<=a.height?a:{width:a.height,height:a.width,rotation:(a.rotation+90)%360}})}},{key:"pagesCount",get:function(){return this._pages.length}},{key:"pageViewsReady",get:function(){return this._pageViewsReady}},{key:"currentPageNumber",get:function(){return this._currentPageNumber},set:function(a){if((a|0)!==a)throw Error("Invalid page number.");this.pdfDocument&&this._setCurrentPageNumber(a,
!0)}},{key:"currentPageLabel",get:function(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]},set:function(a){var b=a|0;this._pageLabels&&(a=this._pageLabels.indexOf(a),0<=a&&(b=a+1));this.currentPageNumber=b}},{key:"currentScale",get:function(){return this._currentScale!==l.UNKNOWN_SCALE?this._currentScale:l.DEFAULT_SCALE},set:function(a){if(isNaN(a))throw Error("Invalid numeric scale");this.pdfDocument&&this._setScale(a,!1)}},{key:"currentScaleValue",get:function(){return this._currentScaleValue},
set:function(a){this.pdfDocument&&this._setScale(a,!1)}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(a){if(!("number"===typeof a&&0===a%90))throw Error("Invalid pages rotation angle.");if(this.pdfDocument){this._pagesRotation=a;for(var b=0,c=this._pages.length;b<c;b++){var d=this._pages[b];d.update(d.scale,a)}this._setScale(this._currentScaleValue,!0);this.defaultRenderingQueue&&this.update()}}},{key:"isInPresentationMode",get:function(){return this.presentationModeState===
f.FULLSCREEN}},{key:"isChangingPresentationMode",get:function(){return this.presentationModeState===f.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}},{key:"hasEqualPageSizes",get:function(){for(var a=this._pages[0],b=1,c=this._pages.length;b<c;++b){var d=this._pages[b];if(d.width!==a.width||d.height!==a.height)return!1}return!0}}]);return a}();a.PresentationModeState=f;a.PDFViewer=q},function(){document.webL10n=
function(q,a){function e(){var b=a.querySelector('script[type="application/l10n"]');return b?JSON.parse(b.innerHTML):null}function k(b){var c=a.createEvent("Event");c.initEvent("localized",!0,!1);c.language=b;a.dispatchEvent(c)}function m(a,b,c){var b=b||function(){},c=c||function(){},d=new XMLHttpRequest;d.open("GET",a,u);d.overrideMimeType&&d.overrideMimeType("text/plain; charset=utf-8");d.onreadystatechange=function(){4==d.readyState&&(200==d.status||0===d.status?b(d.responseText):c())};d.onerror=
c;d.ontimeout=c;try{d.send(null)}catch(e){c()}}function c(a,b,c,e){function g(a,c){function d(a,c,g){function l(){for(;;){if(!m.length){g();break}var a=m.shift();if(!i.test(a)){if(c){if(v=k.exec(a)){n=v[1].toLowerCase();w="*"!==n&&n!==b&&n!==o;continue}else if(w)continue;if(v=j.exec(a)){e(h+v[1],l);break}}var d=a.match(t);if(d&&3==d.length){var a=f,r=d[1];d=d[2];d=0>d.lastIndexOf("\\")?d:d.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\u0008").replace(/\\f/g,
"\u000c").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'");a[r]=d}}}}var m=a.replace(r,"").split(/[\r\n]+/),n="*",o=b.split("-",1)[0],w=!1,v="";l()}function e(a,b){m(a,function(a){d(a,!1,b)},function(){console.warn(a+" not found.");b()})}var f={},r=/^\s*|\s*$/,i=/^\s*#|^\s*$/,k=/^\s*\[(.*)\]\s*$/,j=/^\s*@import\s+url\((.*)\)\s*$/i,t=/^([^=\s]*)\s*=\s*(.+)$/;d(a,!0,function(){c(f)})}var h=a.replace(/[^\/]*$/,"")||"./";m(a,function(a){d+=a;g(a,function(a){for(var b in a){var d,
e;e=b.lastIndexOf(".");0<e?(d=b.substring(0,e),e=b.substr(e+1)):(d=b,e=f);i[d]||(i[d]={});i[d][e]=a[b]}c&&c()})},e)}function l(b,f){function g(a){var b=a.href;this.load=function(a,d){c(b,a,d,function(){console.warn(b+" not found.");console.warn('"'+a+'" resource not found');h="";d()})}}b&&(b=b.toLowerCase());f=f||function(){};i={};h=d="";h=b;var j=a.querySelectorAll('link[type="application/l10n"]'),r=j.length;if(0===r){if((j=e())&&j.locales&&j.default_locale){console.log("using the embedded JSON directory, early way out");
i=j.locales[b];if(!i){var l=j.default_locale.toLowerCase(),m;for(m in j.locales)if(m=m.toLowerCase(),m===b){i=j.locales[b];break}else m===l&&(i=j.locales[l])}f()}else console.log("no resource to load, early way out");k(b);n="complete"}else{m=null;var o=0;m=function(){o++;o>=r&&(f(),k(b),n="complete")};for(l=0;l<r;l++)(new g(j[l])).load(b,m)}}function o(a){function b(a,c,d){return c<=a&&a<=d}var c={"0":function(){return"other"},1:function(a){return b(a%100,3,10)?"few":0===a?"zero":b(a%100,11,99)?"many":
2==a?"two":1==a?"one":"other"},2:function(a){return 0!==a&&0===a%10?"many":2==a?"two":1==a?"one":"other"},3:function(a){return 1==a?"one":"other"},4:function(a){return b(a,0,1)?"one":"other"},5:function(a){return b(a,0,2)&&2!=a?"one":"other"},6:function(a){return 0===a?"zero":1==a%10&&11!=a%100?"one":"other"},7:function(a){return 2==a?"two":1==a?"one":"other"},8:function(a){return b(a,3,6)?"few":b(a,7,10)?"many":2==a?"two":1==a?"one":"other"},9:function(a){return 0===a||1!=a&&b(a%100,1,19)?"few":
1==a?"one":"other"},10:function(a){return b(a%10,2,9)&&!b(a%100,11,19)?"few":1==a%10&&!b(a%100,11,19)?"one":"other"},11:function(a){return b(a%10,2,4)&&!b(a%100,12,14)?"few":0===a%10||b(a%10,5,9)||b(a%100,11,14)?"many":1==a%10&&11!=a%100?"one":"other"},12:function(a){return b(a,2,4)?"few":1==a?"one":"other"},13:function(a){return b(a%10,2,4)&&!b(a%100,12,14)?"few":1!=a&&b(a%10,0,1)||b(a%10,5,9)||b(a%100,12,14)?"many":1==a?"one":"other"},14:function(a){return b(a%100,3,4)?"few":2==a%100?"two":1==a%
100?"one":"other"},15:function(a){return 0===a||b(a%100,2,10)?"few":b(a%100,11,19)?"many":1==a?"one":"other"},16:function(a){return 1==a%10&&11!=a?"one":"other"},17:function(a){return 3==a?"few":0===a?"zero":6==a?"many":2==a?"two":1==a?"one":"other"},18:function(a){return 0===a?"zero":b(a,0,2)&&0!==a&&2!=a?"one":"other"},19:function(a){return b(a,2,10)?"few":b(a,0,1)?"one":"other"},20:function(a){return(b(a%10,3,4)||9==a%10)&&!b(a%100,10,19)&&!b(a%100,70,79)&&!b(a%100,90,99)?"few":0===a%1E6&&0!==
a?"many":2==a%10&&-1===[12,72,92].indexOf(a%100)?"two":1==a%10&&-1===[11,71,91].indexOf(a%100)?"one":"other"},21:function(a){return 0===a?"zero":1==a?"one":"other"},22:function(a){return b(a,0,1)||b(a,11,99)?"one":"other"},23:function(a){return b(a%10,1,2)||0===a%20?"one":"other"},24:function(a){return b(a,3,10)||b(a,13,19)?"few":-1!==[2,12].indexOf(a)?"two":-1!==[1,11].indexOf(a)?"one":"other"}},d={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,
chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,
pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[a.replace(/-.*$/,"")];return!(d in c)?(console.warn("plural form unknown for ["+a+"]"),function(){return"other"}):c[d]}function s(a,c,d){var e=i[a];if(!e){console.warn("#"+a+" is undefined.");
if(!d)return null;e=d}var d={},f;for(f in e){var g=e[f];var h=c,k=a,m=f,l=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(g);if(l&&l.length){var n=l[1],l=l[2],o=void 0;h&&l in h?o=h[l]:l in i&&(o=i[l]);n in j&&(g=(0,j[n])(g,o,k,m))}g=b(g,c,a);d[f]=g}return d}function b(a,b,c){return a.replace(/\{\{\s*(.+?)\s*\}\}/g,function(a,d){if(b&&d in b)return b[d];if(d in i)return i[d];console.log("argument {{"+d+"}} for #"+c+" is undefined.");return a})}function g(b){var c,d;if(b){c=b.getAttribute("data-l10n-id");
var e=b.getAttribute("data-l10n-args");d={};if(e)try{d=JSON.parse(e)}catch(g){console.warn("could not parse arguments for #"+c)}}else d=c=void 0;if(c)if(d=s(c,d)){if(d[f]){if(b.children)c=b.children.length;else if("undefined"!==typeof b.childElementCount)c=b.childElementCount;else for(e=c=0;e<b.childNodes.length;e++)c+=1===b.nodeType?1:0;if(0===c)b[f]=d[f];else{c=b.childNodes;for(var e=!1,h=0,i=c.length;h<i;h++)3===c[h].nodeType&&/\S/.test(c[h].nodeValue)&&(e?c[h].nodeValue="":(c[h].nodeValue=d[f],
e=!0));e||(c=a.createTextNode(d[f]),b.insertBefore(c,b.firstChild))}delete d[f]}for(var j in d)b[j]=d[j]}else console.warn("#"+c+" is undefined.")}var i={},d="",f="textContent",h="",j={},n="loading",u=!0;j.plural=function(a,b,c,d){b=parseFloat(b);if(isNaN(b)||d!=f)return a;j._pluralRules||(j._pluralRules=o(h));var e="["+j._pluralRules(b)+"]";0===b&&c+"[zero]"in i?a=i[c+"[zero]"][d]:1==b&&c+"[one]"in i?a=i[c+"[one]"][d]:2==b&&c+"[two]"in i?a=i[c+"[two]"][d]:c+e in i?a=i[c+e][d]:c+"[other]"in i&&(a=
i[c+"[other]"][d]);return a};return{get:function(a,b,c){var d=a.lastIndexOf("."),e=f;0<d&&(e=a.substr(d+1),a=a.substring(0,d));var g;c&&(g={},g[e]=c);return(b=s(a,b,g))&&e in b?b[e]:"{{"+a+"}}"},getData:function(){return i},getText:function(){return d},getLanguage:function(){return h},setLanguage:function(a,b){l(a,function(){b&&b()})},getDirection:function(){return 0<=["ar","he","fa","ps","ur"].indexOf(h.split("-",1)[0])?"rtl":"ltr"},translate:function(b){for(var c=(b=b||a.documentElement)?b.querySelectorAll("*[data-l10n-id]"):
[],d=c.length,e=0;e<d;e++)g(c[e]);g(b)},getReadyState:function(){return n},ready:function(b){b&&("complete"==n||"interactive"==n?q.setTimeout(function(){b()}):a.addEventListener&&a.addEventListener("localized",function v(){a.removeEventListener("localized",v);b()}))}}}(window,document)},function(q,a,e){var k=e(0),q=e(12),m=e(5),c=e(3),l=e(6),o=e(4),s=e(11),b=e(10),g=e(1),i=e(8),e=e(9),k=k.PDFJS;k.PDFViewer=q.PDFViewer;k.PDFPageView=m.PDFPageView;k.PDFLinkService=c.PDFLinkService;k.TextLayerBuilder=
l.TextLayerBuilder;k.DefaultTextLayerFactory=l.DefaultTextLayerFactory;k.AnnotationLayerBuilder=o.AnnotationLayerBuilder;k.DefaultAnnotationLayerFactory=o.DefaultAnnotationLayerFactory;k.PDFHistory=s.PDFHistory;k.PDFFindController=b.PDFFindController;k.EventBus=g.EventBus;k.DownloadManager=i.DownloadManager;k.ProgressBar=g.ProgressBar;k.GenericL10n=e.GenericL10n;k.NullL10n=g.NullL10n;a.PDFJS=k}])});
