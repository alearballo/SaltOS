(function(n,b){"object"===typeof exports&&"object"===typeof module?module.exports=b():"function"===typeof define&&define.amd?define("pdfjs-dist/web/pdf_viewer",[],b):"object"===typeof exports?exports["pdfjs-dist/web/pdf_viewer"]=b():n["pdfjs-dist/web/pdf_viewer"]=n.pdfjsDistWebPdfViewer=b()})(this,function(){return function(n){function b(i){if(g[i])return g[i].exports;var k=g[i]={i:i,l:!1,exports:{}};n[i].call(k.exports,k,k.exports,b);k.l=!0;return k.exports}var g={};b.m=n;b.c=g;b.d=function(i,g,
l){b.o(i,g)||Object.defineProperty(i,g,{configurable:!1,enumerable:!0,get:l})};b.n=function(g){var k=g&&g.__esModule?function(){return g["default"]}:function(){return g};b.d(k,"a",k);return k};b.o=function(b,g){return Object.prototype.hasOwnProperty.call(b,g)};b.p="";return b(b.s=9)}([function(n){var b;b="undefined"!==typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:require("../build/pdf.js");n.exports=b},function(n,b,g){function i(c,j){if(!(c instanceof j))throw new TypeError("Cannot call a class as a function");
}function k(c,j){return!j?c:c.replace(/\{\{\s*(\w+)\s*\}\}/g,function(c,a){return a in j?j[a]:"{{"+a+"}}"})}function l(c,j){var a=0,f=c.length-1;if(0===c.length||!j(c[f]))return c.length;if(j(c[a]))return a;for(;a<f;){var d=a+f>>1;j(c[d])?f=d:a=d+1}return a}Object.defineProperty(b,"__esModule",{value:!0});b.waitOnEventOrTimeout=b.WaitOnType=b.localized=b.animationStarted=b.normalizeWheelEventDelta=b.binarySearchFirstItem=b.watchScroll=b.scrollIntoView=b.getOutputScale=b.approximateFraction=b.roundToDivide=
b.getVisibleElements=b.parseQueryString=b.noContextMenuHandler=b.getPDFFileNameFromURL=b.ProgressBar=b.EventBus=b.NullL10n=b.mozL10n=b.RendererType=b.PresentationModeState=b.cloneObj=b.isValidRotation=b.VERTICAL_PADDING=b.SCROLLBAR_PADDING=b.MAX_AUTO_SCALE=b.UNKNOWN_SCALE=b.MAX_SCALE=b.MIN_SCALE=b.DEFAULT_SCALE=b.DEFAULT_SCALE_VALUE=b.CSS_UNITS=void 0;var h=function(){function c(j,a){for(var p=0;p<a.length;p++){var f=a[p];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);
Object.defineProperty(j,f.key,f)}}return function(j,a,f){a&&c(j.prototype,a);f&&c(j,f);return j}}(),m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},e=g(0),n=96/72;e.PDFJS.disableFullscreen=void 0===e.PDFJS.disableFullscreen?!1:e.PDFJS.disableFullscreen;e.PDFJS.useOnlyCssZoom=void 0===e.PDFJS.useOnlyCssZoom?!1:e.PDFJS.useOnlyCssZoom;e.PDFJS.maxCanvasPixels=
void 0===e.PDFJS.maxCanvasPixels?16777216:e.PDFJS.maxCanvasPixels;e.PDFJS.disableHistory=void 0===e.PDFJS.disableHistory?!1:e.PDFJS.disableHistory;e.PDFJS.disableTextLayer=void 0===e.PDFJS.disableTextLayer?!1:e.PDFJS.disableTextLayer;e.PDFJS.ignoreCurrentPositionOnZoom=void 0===e.PDFJS.ignoreCurrentPositionOnZoom?!1:e.PDFJS.ignoreCurrentPositionOnZoom;e.PDFJS.locale=void 0===e.PDFJS.locale&&"undefined"!==typeof navigator?navigator.language:e.PDFJS.locale;var a={EVENT:"event",TIMEOUT:"timeout"},g=
new Promise(function(c){window.requestAnimationFrame(c)}),f=Promise.resolve(),c=function(){function c(){i(this,c);this._listeners=Object.create(null)}h(c,[{key:"on",value:function(c,a){var f=this._listeners[c];f||(f=[],this._listeners[c]=f);f.push(a)}},{key:"off",value:function(c,a){var f=this._listeners[c],p=void 0;f&&!(0>(p=f.indexOf(a)))&&f.splice(p,1)}},{key:"dispatch",value:function(c){var a=this._listeners[c];if(a&&0!==a.length){var f=Array.prototype.slice.call(arguments,1);a.slice(0).forEach(function(c){c.apply(null,
f)})}}}]);return c}(),d=function(){function c(j){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},f=a.height,d=a.width,a=a.units;i(this,c);this.visible=!0;this.div=document.querySelector(j+" .progress");this.bar=this.div.parentNode;this.height=f||100;this.width=d||100;this.units=a||"%";this.div.style.height=this.height+this.units;this.percent=0}h(c,[{key:"_updateBar",value:function(){this._indeterminate?(this.div.classList.add("indeterminate"),this.div.style.width=this.width+this.units):
(this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units)}},{key:"setWidth",value:function(c){c&&(c=c.parentNode.offsetWidth-c.offsetWidth,0<c&&this.bar.setAttribute("style","width: calc(100% - "+c+"px);"))}},{key:"hide",value:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))}},{key:"show",value:function(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),
this.bar.classList.remove("hidden"))}},{key:"percent",get:function(){return this._percent},set:function(c){this._indeterminate=isNaN(c);this._percent=Math.min(Math.max(c,0),100);this._updateBar()}}]);return c}();b.CSS_UNITS=n;b.DEFAULT_SCALE_VALUE="auto";b.DEFAULT_SCALE=1;b.MIN_SCALE=0.25;b.MAX_SCALE=10;b.UNKNOWN_SCALE=0;b.MAX_AUTO_SCALE=1.25;b.SCROLLBAR_PADDING=40;b.VERTICAL_PADDING=5;b.isValidRotation=function(c){return Number.isInteger(c)&&0===c%90};b.cloneObj=function(c){var a=Object.create(null),
f;for(f in c)Object.prototype.hasOwnProperty.call(c,f)&&(a[f]=c[f]);return a};b.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};b.RendererType={CANVAS:"canvas",SVG:"svg"};b.mozL10n=void 0;b.NullL10n={get:function(c,a,f){return Promise.resolve(k(f,a))},translate:function(){return Promise.resolve()}};b.EventBus=c;b.ProgressBar=d;b.getPDFFileNameFromURL=function(c){for(var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"document.pdf",f=0,d=c.length;f<d&&""===c[f].trim();)f++;
if("data:"===c.substr(f,5).toLowerCase())return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),a;f=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i;d=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(c);if(d=f.exec(d[1])||f.exec(d[2])||f.exec(d[3]))if(d=d[0],-1!==d.indexOf("%"))try{d=f.exec(decodeURIComponent(d))[0]}catch(e){}return d||a};b.noContextMenuHandler=function(c){c.preventDefault()};b.parseQueryString=function(c){for(var c=c.split("&"),a=Object.create(null),
f=0,d=c.length;f<d;++f){var e=c[f].split("="),o=e[0].toLowerCase(),e=1<e.length?e[1]:null;a[decodeURIComponent(o)]=decodeURIComponent(e)}return a};b.getVisibleElements=function(c,a){function f(c){c=c.div;return c.offsetTop+c.clientTop+c.clientHeight>e}for(var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,e=c.scrollTop,o=e+c.clientHeight,b=c.scrollLeft,m=b+c.clientWidth,h=[],q=void 0,g=void 0,i=void 0,k=void 0,n=k=g=void 0,g=void 0,v=0===a.length?0:l(a,f),y=a.length;v<y;v++){q=a[v];g=
q.div;i=g.offsetTop+g.clientTop;k=g.clientHeight;if(i>o)break;n=g.offsetLeft+g.clientLeft;g=g.clientWidth;n+g<b||n>m||(g=Math.max(0,e-i)+Math.max(0,i+k-o),k=100*(k-g)/k|0,h.push({id:q.id,x:n,y:i,view:q,percent:k}))}o=h[0];b=h[h.length-1];d&&h.sort(function(c,a){var f=c.percent-a.percent;return 0.001<Math.abs(f)?-f:c.id-a.id});return{first:o,last:b,views:h}};b.roundToDivide=function(c,a){var f=c%a;return 0===f?c:Math.round(c-f+a)};b.approximateFraction=function(c){if(Math.floor(c)===c)return[c,1];
var a=1/c;if(8<a)return[1,8];if(Math.floor(a)===a)return[1,a];for(var a=1<c?a:c,f=0,d=1,e=1,o=1;;){var b=f+e,h=d+o;if(8<h)break;a<=b/h?(e=b,o=h):(f=b,d=h)}b=void 0;return b=a-f/d<e/o-a?a===c?[f,d]:[d,f]:a===c?[e,o]:[o,e]};b.getOutputScale=function(c){c=(window.devicePixelRatio||1)/(c.webkitBackingStorePixelRatio||c.mozBackingStorePixelRatio||c.msBackingStorePixelRatio||c.oBackingStorePixelRatio||c.backingStorePixelRatio||1);return{sx:c,sy:c,scaled:1!==c}};b.scrollIntoView=function(c,a){var f=2<arguments.length&&
void 0!==arguments[2]?arguments[2]:!1,d=c.offsetParent;if(d){for(var e=c.offsetTop+c.clientTop,o=c.offsetLeft+c.clientLeft;d.clientHeight===d.scrollHeight||f&&"hidden"===getComputedStyle(d).overflow;)if(d.dataset._scaleY&&(e/=d.dataset._scaleY,o/=d.dataset._scaleX),e+=d.offsetTop,o+=d.offsetLeft,d=d.offsetParent,!d)return;a&&(void 0!==a.top&&(e+=a.top),void 0!==a.left&&(o+=a.left,d.scrollLeft=o));d.scrollTop=e}else console.error("offsetParent is not set -- cannot scroll")};b.watchScroll=function(c,
a){var f=function(){e||(e=window.requestAnimationFrame(function(){e=null;var f=c.scrollTop,r=d.lastY;f!==r&&(d.down=f>r);d.lastY=f;a(d)}))},d={down:!0,lastY:c.scrollTop,_eventHandler:f},e=null;c.addEventListener("scroll",f,!0);return d};b.binarySearchFirstItem=l;b.normalizeWheelEventDelta=function(c){var a=Math.sqrt(c.deltaX*c.deltaX+c.deltaY*c.deltaY),f=Math.atan2(c.deltaY,c.deltaX);-0.25*Math.PI<f&&f<0.75*Math.PI&&(a=-a);0===c.deltaMode?a/=900:1===c.deltaMode&&(a/=30);return a};b.animationStarted=
g;b.localized=f;b.WaitOnType=a;b.waitOnEventOrTimeout=function(f){function d(a){r instanceof c?r.off(t,o):r.removeEventListener(t,o);h&&clearTimeout(h);b.resolve(a)}var r=f.target,t=f.name,f=f.delay,f=void 0===f?0:f;if("object"!==("undefined"===typeof r?"undefined":m(r))||!(t&&"string"===typeof t)||!(Number.isInteger(f)&&0<=f))return Promise.reject(Error("waitOnEventOrTimeout - invalid paramaters."));var b=(0,e.createPromiseCapability)(),o=d.bind(null,a.EVENT);if(r instanceof c)r.on(t,o);else r.addEventListener(t,
o);var s=d.bind(null,a.TIMEOUT),h=setTimeout(s,f);return b.promise}},function(n,b,g){function i(b){b.on("documentload",function(){var b=document.createEvent("CustomEvent");b.initCustomEvent("documentload",!0,!0,{});window.dispatchEvent(b)});b.on("pagerendered",function(b){var e=document.createEvent("CustomEvent");e.initCustomEvent("pagerendered",!0,!0,{pageNumber:b.pageNumber,cssTransform:b.cssTransform});b.source.div.dispatchEvent(e)});b.on("textlayerrendered",function(b){var e=document.createEvent("CustomEvent");
e.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:b.pageNumber});b.source.textLayerDiv.dispatchEvent(e)});b.on("pagechange",function(b){var e=document.createEvent("UIEvents");e.initUIEvent("pagechange",!0,!0,window,0);e.pageNumber=b.pageNumber;b.source.container.dispatchEvent(e)});b.on("pagesinit",function(b){var e=document.createEvent("CustomEvent");e.initCustomEvent("pagesinit",!0,!0,null);b.source.container.dispatchEvent(e)});b.on("pagesloaded",function(b){var e=document.createEvent("CustomEvent");
e.initCustomEvent("pagesloaded",!0,!0,{pagesCount:b.pagesCount});b.source.container.dispatchEvent(e)});b.on("scalechange",function(b){var e=document.createEvent("UIEvents");e.initUIEvent("scalechange",!0,!0,window,0);e.scale=b.scale;e.presetValue=b.presetValue;b.source.container.dispatchEvent(e)});b.on("updateviewarea",function(b){var e=document.createEvent("UIEvents");e.initUIEvent("updateviewarea",!0,!0,window,0);e.location=b.location;b.source.container.dispatchEvent(e)});b.on("find",function(b){if(b.source!==
window){var e=document.createEvent("CustomEvent");e.initCustomEvent("find"+b.type,!0,!0,{query:b.query,phraseSearch:b.phraseSearch,caseSensitive:b.caseSensitive,highlightAll:b.highlightAll,findPrevious:b.findPrevious});window.dispatchEvent(e)}});b.on("attachmentsloaded",function(b){var e=document.createEvent("CustomEvent");e.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:b.attachmentsCount});b.source.container.dispatchEvent(e)});b.on("sidebarviewchanged",function(b){var e=document.createEvent("CustomEvent");
e.initCustomEvent("sidebarviewchanged",!0,!0,{view:b.view});b.source.outerContainer.dispatchEvent(e)});b.on("pagemode",function(b){var e=document.createEvent("CustomEvent");e.initCustomEvent("pagemode",!0,!0,{mode:b.mode});b.source.pdfViewer.container.dispatchEvent(e)});b.on("namedaction",function(b){var e=document.createEvent("CustomEvent");e.initCustomEvent("namedaction",!0,!0,{action:b.action});b.source.pdfViewer.container.dispatchEvent(e)});b.on("presentationmodechanged",function(b){var e=document.createEvent("CustomEvent");
e.initCustomEvent("presentationmodechanged",!0,!0,{active:b.active,switchInProgress:b.switchInProgress});window.dispatchEvent(e)});b.on("outlineloaded",function(b){var e=document.createEvent("CustomEvent");e.initCustomEvent("outlineloaded",!0,!0,{outlineCount:b.outlineCount});b.source.container.dispatchEvent(e)})}Object.defineProperty(b,"__esModule",{value:!0});b.getGlobalEventBus=b.attachDOMEventsToEventBus=void 0;var k=g(1),l=null;b.attachDOMEventsToEventBus=i;b.getGlobalEventBus=function(){if(l)return l;
l=new k.EventBus;i(l);return l}},function(n,b,g){function i(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function");}function k(a){if(!(a instanceof Array))return!1;var f=a.length,c=!0;if(2>f)return!1;var d=a[0];if(!("object"===("undefined"===typeof d?"undefined":l(d))&&Number.isInteger(d.num)&&Number.isInteger(d.gen))&&!(Number.isInteger(d)&&0<=d))return!1;d=a[1];if(!("object"===("undefined"===typeof d?"undefined":l(d))&&"string"===typeof d.name))return!1;switch(d.name){case "XYZ":if(5!==
f)return!1;break;case "Fit":case "FitB":return 2===f;case "FitH":case "FitBH":case "FitV":case "FitBV":if(3!==f)return!1;break;case "FitR":if(6!==f)return!1;c=!1;break;default:return!1}for(d=2;d<f;d++){var b=a[d];if(!("number"===typeof b||c&&null===b))return!1}return!0}Object.defineProperty(b,"__esModule",{value:!0});b.SimpleLinkService=b.PDFLinkService=void 0;var l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&
a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,c){for(var d=0;d<c.length;d++){var b=c[d];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(f,c,d){c&&a(f.prototype,c);d&&a(f,d);return f}}(),m=g(2),e=g(1),n=function(){function a(){var f=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).eventBus;i(this,a);this.eventBus=f||(0,m.getGlobalEventBus)();this._pagesRefCache=this.pdfHistory=
this.pdfViewer=this.pdfDocument=this.baseUrl=null}h(a,[{key:"setDocument",value:function(a,c){this.baseUrl=c;this.pdfDocument=a;this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function(a){this.pdfViewer=a}},{key:"setHistory",value:function(a){this.pdfHistory=a}},{key:"navigateTo",value:function(a){var c=this,d=function j(d){var b=d.namedDest,e=d.explicitDest,o=e[0],d=void 0;if(o instanceof Object){if(d=c._cachedPageNumber(o),null===d){c.pdfDocument.getPageIndex(o).then(function(a){c.cachePageRef(a+
1,o);j({namedDest:b,explicitDest:e})}).catch(function(){console.error('PDFLinkService.navigateTo: "'+o+'" is not '+('a valid page reference, for dest="'+a+'".'))});return}}else if(Number.isInteger(o))d=o+1;else{console.error('PDFLinkService.navigateTo: "'+o+'" is not '+('a valid destination reference, for dest="'+a+'".'));return}!d||1>d||d>c.pagesCount?console.error('PDFLinkService.navigateTo: "'+d+'" is not '+('a valid page number, for dest="'+a+'".')):(c.pdfHistory&&(c.pdfHistory.pushCurrentPosition(),
c.pdfHistory.push({namedDest:b,explicitDest:e,pageNumber:d})),c.pdfViewer.scrollPageIntoView({pageNumber:d,destArray:e}))};(new Promise(function(d){"string"===typeof a?c.pdfDocument.getDestination(a).then(function(c){d({namedDest:a,explicitDest:c})}):d({namedDest:"",explicitDest:a})})).then(function(c){c.explicitDest instanceof Array?d(c):console.error('PDFLinkService.navigateTo: "'+c.explicitDest+'" is'+(' not a valid destination array, for dest="'+a+'".'))})}},{key:"getDestinationHash",value:function(a){return"string"===
typeof a?this.getAnchorUrl("#"+escape(a)):a instanceof Array?(a=JSON.stringify(a),this.getAnchorUrl("#"+escape(a))):this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function(a){return(this.baseUrl||"")+a}},{key:"setHash",value:function(a){var c=void 0,d=void 0;if(0<=a.indexOf("="))if(a=(0,e.parseQueryString)(a),"search"in a&&this.eventBus.dispatch("findfromurlhash",{source:this,query:a.search.replace(/"/g,""),phraseSearch:"true"===a.phrase}),"nameddest"in a)this.navigateTo(a.nameddest);else{"page"in
a&&(c=a.page|0||1);if("zoom"in a){var b=a.zoom.split(","),j=b[0],r=parseFloat(j);-1===j.indexOf("Fit")?d=[null,{name:"XYZ"},1<b.length?b[1]|0:null,2<b.length?b[2]|0:null,r?r/100:j]:"Fit"===j||"FitB"===j?d=[null,{name:j}]:"FitH"===j||"FitBH"===j||"FitV"===j||"FitBV"===j?d=[null,{name:j},1<b.length?b[1]|0:null]:"FitR"===j?5!==b.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):d=[null,{name:j},b[1]|0,b[2]|0,b[3]|0,b[4]|0]:console.error('PDFLinkService.setHash: "'+j+'" is not a valid zoom value.')}d?
this.pdfViewer.scrollPageIntoView({pageNumber:c||this.page,destArray:d,allowNegativeOffset:!0}):c&&(this.page=c);"pagemode"in a&&this.eventBus.dispatch("pagemode",{source:this,mode:a.pagemode})}else{/^\d+$/.test(a)&&a<=this.pagesCount&&(console.warn("PDFLinkService_setHash: specifying a page number directly after the hash symbol (#) is deprecated, "+('please use the "#page='+a+'" form instead.')),this.page=a|0);d=unescape(a);try{d=JSON.parse(d),d instanceof Array||(d=d.toString())}catch(t){}"string"===
typeof d||k(d)?this.navigateTo(d):console.error('PDFLinkService.setHash: "'+unescape(a)+'" is not a valid destination.')}}},{key:"executeNamedAction",value:function(a){switch(a){case "GoBack":this.pdfHistory&&this.pdfHistory.back();break;case "GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case "NextPage":this.page<this.pagesCount&&this.page++;break;case "PrevPage":1<this.page&&this.page--;break;case "LastPage":this.page=this.pagesCount;break;case "FirstPage":this.page=1}this.eventBus.dispatch("namedaction",
{source:this,action:a})}},{key:"onFileAttachmentAnnotation",value:function(a){this.eventBus.dispatch("fileattachmentannotation",{source:this,id:a.id,filename:a.filename,content:a.content})}},{key:"cachePageRef",value:function(a,c){this._pagesRefCache[c.num+" "+c.gen+" R"]=a}},{key:"_cachedPageNumber",value:function(a){a=a.num+" "+a.gen+" R";return this._pagesRefCache&&this._pagesRefCache[a]||null}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",
get:function(){return this.pdfViewer.currentPageNumber},set:function(a){this.pdfViewer.currentPageNumber=a}},{key:"rotation",get:function(){return this.pdfViewer.pagesRotation},set:function(a){this.pdfViewer.pagesRotation=a}}]);return a}(),g=function(){function a(){i(this,a)}h(a,[{key:"navigateTo",value:function(){}},{key:"getDestinationHash",value:function(){return"#"}},{key:"getAnchorUrl",value:function(){return"#"}},{key:"setHash",value:function(){}},{key:"executeNamedAction",value:function(){}},
{key:"onFileAttachmentAnnotation",value:function(){}},{key:"cachePageRef",value:function(){}},{key:"page",get:function(){return 0},set:function(){}},{key:"rotation",get:function(){return 0},set:function(){}}]);return a}();b.PDFLinkService=n;b.SimpleLinkService=g},function(n,b,g){function i(c){var a=[];this.push=function(d){var f=a.indexOf(d);0<=f&&a.splice(f,1);a.push(d);a.length>c&&a.shift().destroy()};this.resize=function(d){for(c=d;a.length>c;)a.shift().destroy()}}Object.defineProperty(b,"__esModule",
{value:!0});b.BaseViewer=void 0;var k=function(){function a(c,d){for(var f=0;f<d.length;f++){var b=d[f];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(c,b.key,b)}}return function(c,d,f){d&&a(c.prototype,d);f&&a(c,f);return c}}(),l=g(0),h=g(1),m=g(5),e=g(6),a=g(2),f=g(7),c=g(3),d=g(8),n=function(){function b(d){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");if(this.constructor===b)throw Error("Cannot initialize BaseViewer.");
this._name=this.constructor.name;this.container=d.container;this.viewer=d.viewer||d.container.firstElementChild;this.eventBus=d.eventBus||(0,a.getGlobalEventBus)();this.linkService=d.linkService||new c.SimpleLinkService;this.downloadManager=d.downloadManager||null;this.removePageBorders=d.removePageBorders||!1;this.enhanceTextSelection=d.enhanceTextSelection||!1;this.renderInteractiveForms=d.renderInteractiveForms||!1;this.enablePrintAutoRotate=d.enablePrintAutoRotate||!1;this.renderer=d.renderer||
h.RendererType.CANVAS;this.l10n=d.l10n||h.NullL10n;(this.defaultRenderingQueue=!d.renderingQueue)?(this.renderingQueue=new m.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=d.renderingQueue;this.scroll=(0,h.watchScroll)(this.container,this._scrollUpdate.bind(this));this.presentationModeState=h.PresentationModeState.UNKNOWN;this._resetView();this.removePageBorders&&this.viewer.classList.add("removePageBorders")}k(b,[{key:"getPageView",value:function(c){return this._pages[c]}},
{key:"_setCurrentPageNumber",value:function(c){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;if(this._currentPageNumber===c)a&&this._resetCurrentPageView();else if(0<c&&c<=this.pagesCount){var d={source:this,pageNumber:c,pageLabel:this._pageLabels&&this._pageLabels[c-1]};this._currentPageNumber=c;this.eventBus.dispatch("pagechanging",d);this.eventBus.dispatch("pagechange",d);a&&this._resetCurrentPageView()}else console.error(this._name+'._setCurrentPageNumber: "'+c+'" is out of bounds.')}},
{key:"setDocument",value:function(c){var a=this;this.pdfDocument&&(this._cancelRendering(),this._resetView());if(this.pdfDocument=c){var d=c.numPages,b=(0,l.createPromiseCapability)();this.pagesPromise=b.promise;b.promise.then(function(){a._pageViewsReady=true;a.eventBus.dispatch("pagesloaded",{source:a,pagesCount:d})});var e=!1,p=(0,l.createPromiseCapability)();this.onePageRendered=p.promise;var g=function(c){c.onBeforeDraw=function(){a._buffer.push(c)};c.onAfterDraw=function(){if(!e){e=true;p.resolve()}}},
m=c.getPage(1);this.firstPagePromise=m;m.then(function(e){for(var o=a.currentScale,e=e.getViewport(o*h.CSS_UNITS),m=1;m<=d;++m){var i=null;l.PDFJS.disableTextLayer||(i=a);i=new f.PDFPageView({container:a._setDocumentViewerElement,eventBus:a.eventBus,id:m,scale:o,defaultViewport:e.clone(),renderingQueue:a.renderingQueue,textLayerFactory:i,annotationLayerFactory:a,enhanceTextSelection:a.enhanceTextSelection,renderInteractiveForms:a.renderInteractiveForms,renderer:a.renderer,l10n:a.l10n});g(i);a._pages.push(i)}p.promise.then(function(){if(l.PDFJS.disableAutoFetch)b.resolve();
else for(var f=d,e=function(d){c.getPage(d).then(function(c){var j=a._pages[d-1];j.pdfPage||j.setPdfPage(c);a.linkService.cachePageRef(d,c.ref);--f===0&&b.resolve()},function(a){console.error("Unable to get page "+d+" to initialize viewer",a);--f===0&&b.resolve()})},p=1;p<=d;++p)e(p)});a.eventBus.dispatch("pagesinit",{source:a});a.defaultRenderingQueue&&a.update();a.findController&&a.findController.resolveFirstPage()}).catch(function(a){console.error("Unable to initialize viewer",a)})}}},{key:"setPageLabels",
value:function(a){if(this.pdfDocument){a?a instanceof Array&&this.pdfDocument.numPages===a.length?this._pageLabels=a:(this._pageLabels=null,console.error(this._name+".setPageLabels: Invalid page labels.")):this._pageLabels=null;for(var a=0,c=this._pages.length;a<c;a++)this._pages[a].setPageLabel(this._pageLabels&&this._pageLabels[a])}}},{key:"_resetView",value:function(){this._pages=[];this._currentPageNumber=1;this._currentScale=h.UNKNOWN_SCALE;this._pageLabels=this._currentScaleValue=null;this._buffer=
new i(10);this._location=null;this._pagesRotation=0;this._pagesRequests=[];this._pageViewsReady=!1;this.viewer.textContent=""}},{key:"_scrollUpdate",value:function(){0!==this.pagesCount&&this.update()}},{key:"_scrollIntoView",value:function(){throw Error("Not implemented: _scrollIntoView");}},{key:"_setScaleDispatchEvent",value:function(a,c){var d={source:this,scale:a,presetValue:2<arguments.length&&void 0!==arguments[2]&&arguments[2]?c:void 0};this.eventBus.dispatch("scalechanging",d);this.eventBus.dispatch("scalechange",
d)}},{key:"_setScaleUpdatePages",value:function(a,c){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;this._currentScaleValue=c.toString();var b;b=this._currentScale;b=a===b?!0:1.0E-15>Math.abs(a-b)?!0:!1;if(b)f&&this._setScaleDispatchEvent(a,c,!0);else{b=0;for(var e=this._pages.length;b<e;b++)this._pages[b].update(a);this._currentScale=a;d||(d=this._currentPageNumber,b=void 0,this._location&&(!l.PDFJS.ignoreCurrentPositionOnZoom&&
!this.isInPresentationMode&&!this.isChangingPresentationMode)&&(d=this._location.pageNumber,b=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:d,destArray:b,allowNegativeOffset:!0}));this._setScaleDispatchEvent(a,c,f);this.defaultRenderingQueue&&this.update()}}},{key:"_setScale",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,d=parseFloat(a);if(0<d)this._setScaleUpdatePages(d,a,c,!1);else if(d=this._pages[this._currentPageNumber-
1]){var f=(this.container.clientWidth-(this.isInPresentationMode||this.removePageBorders?0:h.SCROLLBAR_PADDING))/d.width*d.scale,b=(this.container.clientHeight-(this.isInPresentationMode||this.removePageBorders?0:h.VERTICAL_PADDING))/d.height*d.scale;switch(a){case "page-actual":d=1;break;case "page-width":d=f;break;case "page-height":d=b;break;case "page-fit":d=Math.min(f,b);break;case "auto":d=d.width>d.height?Math.min(b,f):f;d=Math.min(h.MAX_AUTO_SCALE,d);break;default:console.error(this._name+
'._setScale: "'+a+'" is an unknown zoom value.');return}this._setScaleUpdatePages(d,a,c,!0)}}},{key:"_resetCurrentPageView",value:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0);this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}},{key:"scrollPageIntoView",value:function(a){if(1<arguments.length||"number"===typeof a)console.error("Call of scrollPageIntoView() with obsolete signature.");else if(this.pdfDocument){var c=a.pageNumber||0,d=a.destArray||
null,f=a.allowNegativeOffset||!1;if(this.isInPresentationMode||!d)this._setCurrentPageNumber(c,!0);else{var b=this._pages[c-1];if(b){var e=0,p=0,g=0,q=0,m=void 0,i=void 0,i=0===b.rotation%180?!1:!0,m=(i?b.height:b.width)/b.scale/h.CSS_UNITS,i=(i?b.width:b.height)/b.scale/h.CSS_UNITS,l=0;switch(d[1].name){case "XYZ":e=d[2];p=d[3];l=d[4];e=null!==e?e:0;p=null!==p?p:i;break;case "Fit":case "FitB":l="page-fit";break;case "FitH":case "FitBH":p=d[2];l="page-width";null===p&&this._location&&(e=this._location.left,
p=this._location.top);break;case "FitV":case "FitBV":e=d[2];g=m;q=i;l="page-height";break;case "FitR":e=d[2];p=d[3];g=d[4]-e;q=d[5]-p;i=this.removePageBorders?0:h.VERTICAL_PADDING;m=(this.container.clientWidth-(this.removePageBorders?0:h.SCROLLBAR_PADDING))/g/h.CSS_UNITS;i=(this.container.clientHeight-i)/q/h.CSS_UNITS;l=Math.min(Math.abs(m),Math.abs(i));break;default:console.error(this._name+'.scrollPageIntoView: "'+d[1].name+'" is not a valid destination type.');return}l&&l!==this._currentScale?
this.currentScaleValue=l:this._currentScale===h.UNKNOWN_SCALE&&(this.currentScaleValue=h.DEFAULT_SCALE_VALUE);"page-fit"===l&&!d[4]?this._scrollIntoView({pageDiv:b.div,pageNumber:c}):(e=[b.viewport.convertToViewportPoint(e,p),b.viewport.convertToViewportPoint(e+g,p+q)],d=Math.min(e[0][0],e[1][0]),e=Math.min(e[0][1],e[1][1]),f||(d=Math.max(d,0),e=Math.max(e,0)),this._scrollIntoView({pageDiv:b.div,pageSpot:{left:d,top:e},pageNumber:c}))}else console.error(this._name+'.scrollPageIntoView: Invalid "pageNumber" parameter.')}}}},
{key:"_resizeBuffer",value:function(a){this._buffer.resize(Math.max(10,2*a+1))}},{key:"_updateLocation",value:function(a){var c=this._currentScale,d=this._currentScaleValue,c=parseFloat(d)===c?Math.round(1E4*c)/100:d,d=a.id,f;f="#page="+d+("&zoom="+c);var b=this.container,b=this._pages[d-1].getPagePoint(b.scrollLeft-a.x,b.scrollTop-a.y),a=Math.round(b[0]),b=Math.round(b[1]);this._location={pageNumber:d,scale:c,top:b,left:a,rotation:this._pagesRotation,pdfOpenParams:f+(","+a+","+b)}}},{key:"update",
value:function(){throw Error("Not implemented: update");}},{key:"containsElement",value:function(a){return this.container.contains(a)}},{key:"focus",value:function(){this.container.focus()}},{key:"_getVisiblePages",value:function(){throw Error("Not implemented: _getVisiblePages");}},{key:"cleanup",value:function(){for(var a=0,c=this._pages.length;a<c;a++)this._pages[a]&&this._pages[a].renderingState!==m.RenderingStates.FINISHED&&this._pages[a].reset()}},{key:"_cancelRendering",value:function(){for(var a=
0,c=this._pages.length;a<c;a++)this._pages[a]&&this._pages[a].cancelRendering()}},{key:"_ensurePdfPageLoaded",value:function(a){var c=this;if(a.pdfPage)return Promise.resolve(a.pdfPage);var d=a.id;if(this._pagesRequests[d])return this._pagesRequests[d];var f=this.pdfDocument.getPage(d).then(function(f){a.pdfPage||a.setPdfPage(f);c._pagesRequests[d]=null;return f}).catch(function(a){console.error("Unable to get page for page view",a);c._pagesRequests[d]=null});return this._pagesRequests[d]=f}},{key:"forceRendering",
value:function(a){var c=this,d=this.renderingQueue.getHighestPriority(a||this._getVisiblePages(),this._pages,this.scroll.down);return d?(this._ensurePdfPageLoaded(d).then(function(){c.renderingQueue.renderView(d)}),!0):!1}},{key:"getPageTextContent",value:function(a){return this.pdfDocument.getPage(a+1).then(function(a){return a.getTextContent({normalizeWhitespace:!0})})}},{key:"createTextLayerBuilder",value:function(a,c,f){var b=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;return new d.TextLayerBuilder({textLayerDiv:a,
eventBus:this.eventBus,pageIndex:c,viewport:f,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:this.isInPresentationMode?!1:b})}},{key:"createAnnotationLayerBuilder",value:function(a,c){return new e.AnnotationLayerBuilder({pageDiv:a,pdfPage:c,renderInteractiveForms:2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,linkService:this.linkService,downloadManager:this.downloadManager,l10n:3<arguments.length&&void 0!==arguments[3]?arguments[3]:h.NullL10n})}},
{key:"setFindController",value:function(a){this.findController=a}},{key:"getPagesOverview",value:function(){var a=this._pages.map(function(a){a=a.pdfPage.getViewport(1);return{width:a.width,height:a.height,rotation:a.rotation}});if(!this.enablePrintAutoRotate)return a;var c=a[0].width<=a[0].height;return a.map(function(a){return c===a.width<=a.height?a:{width:a.height,height:a.width,rotation:(a.rotation+90)%360}})}},{key:"pagesCount",get:function(){return this._pages.length}},{key:"pageViewsReady",
get:function(){return this._pageViewsReady}},{key:"currentPageNumber",get:function(){return this._currentPageNumber},set:function(a){if(!Number.isInteger(a))throw Error("Invalid page number.");this.pdfDocument&&this._setCurrentPageNumber(a,!0)}},{key:"currentPageLabel",get:function(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]},set:function(a){var c=a|0;this._pageLabels&&(a=this._pageLabels.indexOf(a),0<=a&&(c=a+1));this.currentPageNumber=c}},{key:"currentScale",get:function(){return this._currentScale!==
h.UNKNOWN_SCALE?this._currentScale:h.DEFAULT_SCALE},set:function(a){if(isNaN(a))throw Error("Invalid numeric scale");this.pdfDocument&&this._setScale(a,!1)}},{key:"currentScaleValue",get:function(){return this._currentScaleValue},set:function(a){this.pdfDocument&&this._setScale(a,!1)}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(a){if(!(0,h.isValidRotation)(a))throw Error("Invalid pages rotation angle.");if(this.pdfDocument&&this._pagesRotation!==a){this._pagesRotation=
a;for(var c=this._currentPageNumber,d=0,f=this._pages.length;d<f;d++){var b=this._pages[d];b.update(b.scale,a)}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0);this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:a,pageNumber:c});this.defaultRenderingQueue&&this.update()}}},{key:"_setDocumentViewerElement",get:function(){throw Error("Not implemented: _setDocumentViewerElement");}},{key:"isInPresentationMode",get:function(){return this.presentationModeState===h.PresentationModeState.FULLSCREEN}},
{key:"isChangingPresentationMode",get:function(){return this.presentationModeState===h.PresentationModeState.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}},{key:"hasEqualPageSizes",get:function(){for(var a=this._pages[0],c=1,d=this._pages.length;c<d;++c){var f=this._pages[c];if(f.width!==a.width||f.height!==a.height)return!1}return!0}}]);return b}();b.BaseViewer=n},function(n,b){Object.defineProperty(b,
"__esModule",{value:!0});var g=function(){function b(h,g){for(var e=0;e<g.length;e++){var a=g[e];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(h,a.key,a)}}return function(h,g,e){g&&b(h.prototype,g);e&&b(h,e);return h}}(),i={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},k=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.idleTimeout=this.highestPriorityPage=this.onIdle=this.pdfThumbnailViewer=
this.pdfViewer=null;this.isThumbnailViewEnabled=this.printing=!1}g(b,[{key:"setViewer",value:function(b){this.pdfViewer=b}},{key:"setThumbnailViewer",value:function(b){this.pdfThumbnailViewer=b}},{key:"isHighestPriority",value:function(b){return this.highestPriorityPage===b.renderingId}},{key:"renderHighestPriority",value:function(b){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null);if(!this.pdfViewer.forceRendering(b)&&(!this.pdfThumbnailViewer||!this.isThumbnailViewEnabled||
!this.pdfThumbnailViewer.forceRendering())&&!this.printing&&this.onIdle)this.idleTimeout=setTimeout(this.onIdle.bind(this),3E4)}},{key:"getHighestPriority",value:function(b,g,e){var a=b.views,f=a.length;if(0===f)return!1;for(var c=0;c<f;++c){var d=a[c].view;if(!this.isViewFinished(d))return d}b=e?b.last.id:b.first.id-2;return g[b]&&!this.isViewFinished(g[b])?g[b]:null}},{key:"isViewFinished",value:function(b){return b.renderingState===i.FINISHED}},{key:"renderView",value:function(b){var g=this;switch(b.renderingState){case i.FINISHED:return!1;
case i.PAUSED:this.highestPriorityPage=b.renderingId;b.resume();break;case i.RUNNING:this.highestPriorityPage=b.renderingId;break;case i.INITIAL:this.highestPriorityPage=b.renderingId;var e=function(){g.renderHighestPriority()};b.draw().then(e,e)}return!0}}]);return b}();b.RenderingStates=i;b.PDFRenderingQueue=k},function(n,b,g){function i(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(b,"__esModule",{value:!0});b.DefaultAnnotationLayerFactory=
b.AnnotationLayerBuilder=void 0;var k=function(){function a(a,c){for(var d=0;d<c.length;d++){var b=c[d];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),l=g(0),h=g(1),m=g(3),e=function(){function a(b){var c=b.pageDiv,d=b.pdfPage,e=b.linkService,j=b.downloadManager,g=b.renderInteractiveForms,g=void 0===g?!1:g,b=b.l10n,b=void 0===b?h.NullL10n:b;i(this,a);this.pageDiv=c;this.pdfPage=
d;this.linkService=e;this.downloadManager=j;this.renderInteractiveForms=g;this.l10n=b;this.div=null;this._cancelled=!1}k(a,[{key:"render",value:function(a){var c=this;this.pdfPage.getAnnotations({intent:1<arguments.length&&void 0!==arguments[1]?arguments[1]:"display"}).then(function(d){if(!c._cancelled){var b={viewport:a.clone({dontFlip:!0}),div:c.div,annotations:d,page:c.pdfPage,renderInteractiveForms:c.renderInteractiveForms,linkService:c.linkService,downloadManager:c.downloadManager};c.div?l.AnnotationLayer.update(b):
0!==d.length&&(c.div=document.createElement("div"),c.div.className="annotationLayer",c.pageDiv.appendChild(c.div),b.div=c.div,l.AnnotationLayer.render(b),c.l10n.translate(c.div))}})}},{key:"cancel",value:function(){this._cancelled=!0}},{key:"hide",value:function(){this.div&&this.div.setAttribute("hidden","true")}}]);return a}(),n=function(){function a(){i(this,a)}k(a,[{key:"createAnnotationLayerBuilder",value:function(a,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:h.NullL10n;return new e({pageDiv:a,
pdfPage:c,renderInteractiveForms:2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,linkService:new m.SimpleLinkService,l10n:d})}}]);return a}();b.AnnotationLayerBuilder=e;b.DefaultAnnotationLayerFactory=n},function(n,b,g){Object.defineProperty(b,"__esModule",{value:!0});b.PDFPageView=void 0;var i=function(){function b(a,f){for(var c=0;c<f.length;c++){var d=f[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(a,
f,c){f&&b(a.prototype,f);c&&b(a,c);return a}}(),k=g(1),l=g(0),h=g(2),m=g(5),n=function(){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var f=a.container,c=a.defaultViewport;this.id=a.id;this.renderingId="page"+this.id;this.pageLabel=this.pdfPage=null;this.rotation=0;this.scale=a.scale||k.DEFAULT_SCALE;this.viewport=c;this.pdfPageRotate=c.rotation;this.hasRestrictedScaling=!1;this.enhanceTextSelection=a.enhanceTextSelection||!1;this.renderInteractiveForms=
a.renderInteractiveForms||!1;this.eventBus=a.eventBus||(0,h.getGlobalEventBus)();this.renderingQueue=a.renderingQueue;this.textLayerFactory=a.textLayerFactory;this.annotationLayerFactory=a.annotationLayerFactory;this.renderer=a.renderer||k.RendererType.CANVAS;this.l10n=a.l10n||k.NullL10n;this.paintTask=null;this.paintedViewportMap=new WeakMap;this.renderingState=m.RenderingStates.INITIAL;this.zoomLayer=this.textLayer=this.annotationLayer=this.onAfterDraw=this.onBeforeDraw=this.error=this.resume=null;
a=document.createElement("div");a.className="page";a.style.width=Math.floor(this.viewport.width)+"px";a.style.height=Math.floor(this.viewport.height)+"px";a.setAttribute("data-page-number",this.id);this.div=a;f.appendChild(a)}i(b,[{key:"setPdfPage",value:function(a){this.pdfPage=a;this.pdfPageRotate=a.rotate;this.viewport=a.getViewport(this.scale*k.CSS_UNITS,(this.rotation+this.pdfPageRotate)%360);this.stats=a.stats;this.reset()}},{key:"destroy",value:function(){this.reset();this.pdfPage&&this.pdfPage.cleanup()}},
{key:"_resetZoomLayer",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;if(this.zoomLayer){var b=this.zoomLayer.firstChild;this.paintedViewportMap.delete(b);b.width=0;b.height=0;a&&this.zoomLayer.remove();this.zoomLayer=null}}},{key:"reset",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;this.cancelRendering(b);var c=this.div;c.style.width=Math.floor(this.viewport.width)+"px";
c.style.height=Math.floor(this.viewport.height)+"px";for(var d=c.childNodes,a=a&&this.zoomLayer||null,b=b&&this.annotationLayer&&this.annotationLayer.div||null,e=d.length-1;0<=e;e--){var j=d[e];a===j||b===j||c.removeChild(j)}c.removeAttribute("data-loaded");b?this.annotationLayer.hide():this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null);a||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer());
this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg);this.loadingIconDiv=document.createElement("div");this.loadingIconDiv.className="loadingIcon";c.appendChild(this.loadingIconDiv)}},{key:"update",value:function(a,b){this.scale=a||this.scale;"undefined"!==typeof b&&(this.rotation=b);this.viewport=this.viewport.clone({scale:this.scale*k.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360});if(this.svg)this.cssTransform(this.svg,!0),this.eventBus.dispatch("pagerendered",{source:this,
pageNumber:this.id,cssTransform:!0});else{var c=!1;if(this.canvas&&0<l.PDFJS.maxCanvasPixels){var d=this.outputScale;(Math.floor(this.viewport.width)*d.sx|0)*(Math.floor(this.viewport.height)*d.sy|0)>l.PDFJS.maxCanvasPixels&&(c=!0)}if(this.canvas){if(l.PDFJS.useOnlyCssZoom||this.hasRestrictedScaling&&c){this.cssTransform(this.canvas,!0);this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});return}!this.zoomLayer&&!this.canvas.hasAttribute("hidden")&&(this.zoomLayer=
this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild);this.reset(!0,!0)}}},{key:"cancelRendering",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;this.paintTask&&(this.paintTask.cancel(),this.paintTask=null);this.renderingState=m.RenderingStates.INITIAL;this.resume=null;this.textLayer&&(this.textLayer.cancel(),this.textLayer=null);!a&&this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=
null)}},{key:"cssTransform",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,c=this.viewport.width,d=this.viewport.height,e=this.div;a.style.width=a.parentNode.style.width=e.style.width=Math.floor(c)+"px";a.style.height=a.parentNode.style.height=e.style.height=Math.floor(d)+"px";var e=this.viewport.rotation-this.paintedViewportMap.get(a).rotation,j=Math.abs(e),g=1,h=1;if(90===j||270===j)g=d/c,h=c/d;l.CustomStyle.setProp("transform",a,"rotate("+e+"deg) scale("+g+","+
h+")");if(this.textLayer){j=this.textLayer.viewport;d=Math.abs(this.viewport.rotation-j.rotation);e=c/j.width;if(90===d||270===d)e=c/j.height;c=this.textLayer.textLayerDiv;g=j=void 0;switch(d){case 0:j=g=0;break;case 90:j=0;g="-"+c.style.height;break;case 180:j="-"+c.style.width;g="-"+c.style.height;break;case 270:j="-"+c.style.width;g=0;break;default:console.error("Bad rotation value.")}l.CustomStyle.setProp("transform",c,"rotate("+d+"deg) scale("+e+", "+e+") translate("+j+", "+g+")");l.CustomStyle.setProp("transformOrigin",
c,"0% 0%")}b&&this.annotationLayer&&this.annotationLayer.render(this.viewport,"display")}},{key:"getPagePoint",value:function(a,b){return this.viewport.convertToPdfPoint(a,b)}},{key:"draw",value:function(){var a=this;this.renderingState!==m.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());if(!this.pdfPage)return this.renderingState=m.RenderingStates.FINISHED,Promise.reject(Error("Page is not loaded"));this.renderingState=m.RenderingStates.RUNNING;var b=
this.pdfPage,c=this.div,d=document.createElement("div");d.style.width=c.style.width;d.style.height=c.style.height;d.classList.add("canvasWrapper");this.annotationLayer&&this.annotationLayer.div?c.insertBefore(d,this.annotationLayer.div):c.appendChild(d);var e=null;if(this.textLayerFactory){var j=document.createElement("div");j.className="textLayer";j.style.width=d.style.width;j.style.height=d.style.height;this.annotationLayer&&this.annotationLayer.div?c.insertBefore(j,this.annotationLayer.div):c.appendChild(j);
e=this.textLayerFactory.createTextLayerBuilder(j,this.id-1,this.viewport,this.enhanceTextSelection)}this.textLayer=e;j=null;this.renderingQueue&&(j=function(c){if(a.renderingQueue.isHighestPriority(a))c();else{a.renderingState=m.RenderingStates.PAUSED;a.resume=function(){a.renderingState=m.RenderingStates.RUNNING;c()}}});var g=function(d){if(h===a.paintTask)a.paintTask=null;if(d==="cancelled"||d instanceof l.RenderingCancelledException){a.error=null;return Promise.resolve(void 0)}a.renderingState=
m.RenderingStates.FINISHED;if(a.loadingIconDiv){c.removeChild(a.loadingIconDiv);delete a.loadingIconDiv}a._resetZoomLayer(true);a.error=d;a.stats=b.stats;if(a.onAfterDraw)a.onAfterDraw();a.eventBus.dispatch("pagerendered",{source:a,pageNumber:a.id,cssTransform:false});return d?Promise.reject(d):Promise.resolve(void 0)},h=this.renderer===k.RendererType.SVG?this.paintOnSvg(d):this.paintOnCanvas(d);h.onRenderContinue=j;this.paintTask=h;d=h.promise.then(function(){return g(null).then(function(){if(e){var a=
b.streamTextContent({normalizeWhitespace:true});e.setTextContentStream(a);e.render()}})},function(a){return g(a)});this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(c,b,this.renderInteractiveForms,this.l10n)),this.annotationLayer.render(this.viewport,"display"));c.setAttribute("data-loaded",!0);if(this.onBeforeDraw)this.onBeforeDraw();return d}},{key:"paintOnCanvas",value:function(a){var b=(0,l.createPromiseCapability)(),
c={promise:b.promise,onRenderContinue:function(a){a()},cancel:function(){s.cancel()}},d=this.viewport,e=document.createElement("canvas");e.id=this.renderingId;e.setAttribute("hidden","hidden");var j=!0,g=function(){j&&(e.removeAttribute("hidden"),j=!1)};a.appendChild(e);this.canvas=e;e.mozOpaque=!0;var a=e.getContext("2d",{alpha:!1}),h=(0,k.getOutputScale)(a);this.outputScale=h;if(l.PDFJS.useOnlyCssZoom){var i=d.clone({scale:k.CSS_UNITS});h.sx*=i.width/d.width;h.sy*=i.height/d.height;h.scaled=!0}0<
l.PDFJS.maxCanvasPixels&&(i=Math.sqrt(l.PDFJS.maxCanvasPixels/(d.width*d.height)),h.sx>i||h.sy>i?(h.sx=i,h.sy=i,this.hasRestrictedScaling=h.scaled=!0):this.hasRestrictedScaling=!1);var i=(0,k.approximateFraction)(h.sx),o=(0,k.approximateFraction)(h.sy);e.width=(0,k.roundToDivide)(d.width*h.sx,i[0]);e.height=(0,k.roundToDivide)(d.height*h.sy,o[0]);e.style.width=(0,k.roundToDivide)(d.width,i[1])+"px";e.style.height=(0,k.roundToDivide)(d.height,o[1])+"px";this.paintedViewportMap.set(e,d);var s=this.pdfPage.render({canvasContext:a,
transform:!h.scaled?null:[h.sx,0,0,h.sy,0,0],viewport:this.viewport,renderInteractiveForms:this.renderInteractiveForms});s.onContinue=function(a){g();if(c.onRenderContinue)c.onRenderContinue(a);else a()};s.promise.then(function(){g();b.resolve(void 0)},function(a){g();b.reject(a)});return c}},{key:"paintOnSvg",value:function(a){var b=this,c=!1,d=function(){if(c){if(l.PDFJS.pdfjsNext)throw new l.RenderingCancelledException("Rendering cancelled, page "+b.id,"svg");throw"cancelled";}},e=this.pdfPage,
j=this.viewport.clone({scale:k.CSS_UNITS});return{promise:e.getOperatorList().then(function(c){d();return(new l.SVGGraphics(e.commonObjs,e.objs)).getSVG(c,j).then(function(c){d();b.svg=c;b.paintedViewportMap.set(c,j);c.style.width=a.style.width;c.style.height=a.style.height;b.renderingState=m.RenderingStates.FINISHED;a.appendChild(c)})}),onRenderContinue:function(a){a()},cancel:function(){c=!0}}}},{key:"setPageLabel",value:function(a){this.pageLabel="string"===typeof a?a:null;null!==this.pageLabel?
this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}},{key:"width",get:function(){return this.viewport.width}},{key:"height",get:function(){return this.viewport.height}}]);return b}();b.PDFPageView=n},function(n,b,g){function i(b,a){if(!(b instanceof a))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(b,"__esModule",{value:!0});b.DefaultTextLayerFactory=b.TextLayerBuilder=void 0;var k=function(){function b(a,f){for(var c=
0;c<f.length;c++){var d=f[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(a,f,c){f&&b(a.prototype,f);c&&b(a,c);return a}}(),l=g(2),h=g(0),m=function(){function b(a){var f=a.textLayerDiv,c=a.eventBus,d=a.pageIndex,p=a.viewport,j=a.findController,j=void 0===j?null:j,a=a.enhanceTextSelection,a=void 0===a?!1:a;i(this,b);this.textLayerDiv=f;this.eventBus=c||(0,l.getGlobalEventBus)();this.textContent=null;this.textContentItemsStr=
[];this.textContentStream=null;this.renderingDone=!1;this.pageIdx=d;this.pageNumber=this.pageIdx+1;this.matches=[];this.viewport=p;this.textDivs=[];this.findController=j;this.textLayerRenderTask=null;this.enhanceTextSelection=a;this._bindMouse()}k(b,[{key:"_finishRendering",value:function(){this.renderingDone=!0;if(!this.enhanceTextSelection){var a=document.createElement("div");a.className="endOfContent";this.textLayerDiv.appendChild(a)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,
numTextDivs:this.textDivs.length})}},{key:"render",value:function(){var a=this,b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if(!(!this.textContent&&!this.textContentStream||this.renderingDone)){this.cancel();this.textDivs=[];var c=document.createDocumentFragment();this.textLayerRenderTask=(0,h.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:c,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:b,
enhanceTextSelection:this.enhanceTextSelection});this.textLayerRenderTask.promise.then(function(){a.textLayerDiv.appendChild(c);a._finishRendering();a.updateMatches()},function(){})}}},{key:"cancel",value:function(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null)}},{key:"setTextContentStream",value:function(a){this.cancel();this.textContentStream=a}},{key:"setTextContent",value:function(a){this.cancel();this.textContent=a}},{key:"convertMatches",value:function(a,
b){var c=0,d=0,e=this.textContentItemsStr,j=e.length-1,g=null===this.findController?0:this.findController.state.query.length,h=[];if(!a)return h;for(var i=0,o=a.length;i<o;i++){for(var s=a[i];c!==j&&s>=d+e[c].length;)d+=e[c].length,c++;c===e.length&&console.error("Could not find a matching mapping");for(var m={begin:{divIdx:c,offset:s-d}},s=b?s+b[i]:s+g;c!==j&&s>d+e[c].length;)d+=e[c].length,c++;m.end={divIdx:c,offset:s-d};h.push(m)}return h}},{key:"renderMatches",value:function(a){function b(a,d){var f=
a.divIdx;e[f].textContent="";c(f,0,a.offset,d)}function c(a,c,b,f){var j=e[a],a=d[a].substring(c,b),a=document.createTextNode(a);f?(c=document.createElement("span"),c.className=f,c.appendChild(a),j.appendChild(c)):j.appendChild(a)}if(0!==a.length){var d=this.textContentItemsStr,e=this.textDivs,j=null,g=this.pageIdx,h=null===this.findController?!1:g===this.findController.selected.pageIdx,i=null===this.findController?-1:this.findController.selected.matchIdx,o=i,s=o+1;if(null===this.findController?0:
this.findController.state.highlightAll)o=0,s=a.length;else if(!h)return;for(;o<s;o++){var m=a[o],l=m.begin,m=m.end,q=h&&o===i?" selected":"";this.findController&&this.findController.updateMatchPosition(g,o,e,l.divIdx);!j||l.divIdx!==j.divIdx?(null!==j&&c(j.divIdx,j.offset,void 0),b(l)):c(j.divIdx,j.offset,l.offset);if(l.divIdx===m.divIdx)c(l.divIdx,l.offset,m.offset,"highlight"+q);else{c(l.divIdx,l.offset,void 0,"highlight begin"+q);j=l.divIdx+1;for(l=m.divIdx;j<l;j++)e[j].className="highlight middle"+
q;b(m,"highlight end"+q)}j=m}j&&c(j.divIdx,j.offset,void 0)}}},{key:"updateMatches",value:function(){if(this.renderingDone){for(var a=this.matches,b=this.textDivs,c=this.textContentItemsStr,d=-1,e=0,j=a.length;e<j;e++){for(var g=a[e],d=Math.max(d,g.begin.divIdx),h=g.end.divIdx;d<=h;d++){var i=b[d];i.textContent=c[d];i.className=""}d=g.end.divIdx+1}null!==this.findController&&this.findController.active&&(b=a=void 0,null!==this.findController&&(a=this.findController.pageMatches[this.pageIdx]||null,
b=this.findController.pageMatchesLength?this.findController.pageMatchesLength[this.pageIdx]||null:null),this.matches=this.convertMatches(a,b),this.renderMatches(this.matches))}}},{key:"_bindMouse",value:function(){var a=this,b=this.textLayerDiv,c=null;b.addEventListener("mousedown",function(d){if(a.enhanceTextSelection&&a.textLayerRenderTask)a.textLayerRenderTask.expandTextDivs(!0),c&&(clearTimeout(c),c=null);else{var e=b.querySelector(".endOfContent");if(e){var j=d.target!==b;if(j=j&&"none"!==window.getComputedStyle(e).getPropertyValue("-moz-user-select"))j=
b.getBoundingClientRect(),d=Math.max(0,(d.pageY-j.top)/j.height),e.style.top=(100*d).toFixed(2)+"%";e.classList.add("active")}}});b.addEventListener("mouseup",function(){if(a.enhanceTextSelection&&a.textLayerRenderTask)c=setTimeout(function(){a.textLayerRenderTask&&a.textLayerRenderTask.expandTextDivs(!1);c=null},300);else{var d=b.querySelector(".endOfContent");d&&(d.style.top="",d.classList.remove("active"))}})}}]);return b}(),n=function(){function b(){i(this,b)}k(b,[{key:"createTextLayerBuilder",
value:function(a,b,c){return new m({textLayerDiv:a,pageIndex:b,viewport:c,enhanceTextSelection:3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1})}}]);return b}();b.TextLayerBuilder=m;b.DefaultTextLayerFactory=n},function(n,b,g){var i=g(0),n=g(10),k=g(11),l=g(7),h=g(3),m=g(8),e=g(6),a=g(12),f=g(13),c=g(1),d=g(14),g=g(15),i=i.PDFJS;i.PDFViewer=n.PDFViewer;i.PDFSinglePageViewer=k.PDFSinglePageViewer;i.PDFPageView=l.PDFPageView;i.PDFLinkService=h.PDFLinkService;i.SimpleLinkService=h.SimpleLinkService;
i.TextLayerBuilder=m.TextLayerBuilder;i.DefaultTextLayerFactory=m.DefaultTextLayerFactory;i.AnnotationLayerBuilder=e.AnnotationLayerBuilder;i.DefaultAnnotationLayerFactory=e.DefaultAnnotationLayerFactory;i.PDFHistory=a.PDFHistory;i.PDFFindController=f.PDFFindController;i.EventBus=c.EventBus;i.DownloadManager=d.DownloadManager;i.ProgressBar=c.ProgressBar;i.GenericL10n=g.GenericL10n;i.NullL10n=c.NullL10n;b.PDFJS=i},function(n,b,g){function i(b,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+
typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}Object.defineProperty(b,"__esModule",{value:!0});b.PDFViewer=void 0;var k=function(){function b(e,a){for(var f=0;f<a.length;f++){var c=a[f];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(e,c.key,c)}}return function(e,a,f){a&&b(e.prototype,a);f&&b(e,f);return e}}(),
l=g(1),n=g(4),h=g(0),g=function(b){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var a=(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&("object"===typeof a||"function"===typeof a)?a:this}i(e,b);k(e,[{key:"_scrollIntoView",value:function(a){var b=a.pageDiv,a=a.pageSpot;(0,l.scrollIntoView)(b,void 0===a?null:a)}},{key:"_getVisiblePages",
value:function(){if(!this.isInPresentationMode)return(0,l.getVisibleElements)(this.container,this._pages,!0);var a=this._pages[this._currentPageNumber-1];return{first:a,last:a,views:[{id:a.id,view:a}]}}},{key:"update",value:function(){var a=this._getVisiblePages(),b=a.views,c=b.length;if(0!==c){this._resizeBuffer(c);this.renderingQueue.renderHighestPriority(a);for(var d=this._currentPageNumber,e=!1,j=0;j<c;++j){var g=b[j];if(100>g.percent)break;if(g.id===d){e=!0;break}}e||(d=b[0].id);this.isInPresentationMode||
this._setCurrentPageNumber(d);this._updateLocation(a.first);this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}}},{key:"_setDocumentViewerElement",get:function(){return(0,h.shadow)(this,"_setDocumentViewerElement",this.viewer)}}]);return e}(n.BaseViewer);b.PDFViewer=g},function(n,b,g){function i(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"===typeof b||"function"===typeof b)?b:a}function k(a,b){if("function"!==
typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});b.PDFSinglePageViewer=void 0;var l=function(){function a(a,c){for(var b=0;b<c.length;b++){var e=c[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=
!0);Object.defineProperty(a,e.key,e)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),h=function f(c,b,e){null===c&&(c=Function.prototype);var j=Object.getOwnPropertyDescriptor(c,b);if(void 0===j)return c=Object.getPrototypeOf(c),null===c?void 0:f(c,b,e);if("value"in j)return j.value;b=j.get;return void 0===b?void 0:b.call(e)},n=g(4),m=g(1),e=g(0),g=function(b){function c(b){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var e=i(this,(c.__proto__||
Object.getPrototypeOf(c)).call(this,b));e.eventBus.on("pagesinit",function(){e._ensurePageViewVisible()});return e}k(c,b);l(c,[{key:"_resetView",value:function(){h(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"_resetView",this).call(this);this._previousPageNumber=1;this._shadowViewer=document.createDocumentFragment()}},{key:"_ensurePageViewVisible",value:function(){var c=this._pages[this._currentPageNumber-1],b=this._pages[this._previousPageNumber-1],e=this.viewer.childNodes;switch(e.length){case 0:this.viewer.appendChild(c.div);
break;case 1:if(e[0]!==b.div)throw Error("_ensurePageViewVisible: Unexpected previously visible page.");if(c===b)break;this._shadowViewer.appendChild(b.div);this.viewer.appendChild(c.div);this.container.scrollTop=0;break;default:throw Error("_ensurePageViewVisible: Only one page should be visible at a time.");}this._previousPageNumber=this._currentPageNumber}},{key:"_scrollUpdate",value:function(){this._updateScrollDown&&this._updateScrollDown();h(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),
"_scrollUpdate",this).call(this)}},{key:"_scrollIntoView",value:function(c){var b=this,e=c.pageDiv,f=c.pageSpot,f=void 0===f?null:f,c=c.pageNumber;(c=void 0===c?null:c)&&this._setCurrentPageNumber(c);var g=this._currentPageNumber>=this._previousPageNumber,h=this._location;this._ensurePageViewVisible();(0,m.scrollIntoView)(e,f);this._updateScrollDown=function(){b.scroll.down=g;delete b._updateScrollDown};setTimeout(function(){b._location===h&&(b._updateScrollDown&&b._updateScrollDown(),b.update())},
0)}},{key:"_getVisiblePages",value:function(){if(!this.pagesCount)return{views:[]};var c=this._pages[this._currentPageNumber-1],b=c.div,c={id:c.id,x:b.offsetLeft+b.clientLeft,y:b.offsetTop+b.clientTop,view:c};return{first:c,last:c,views:[c]}}},{key:"update",value:function(){var c=this._getVisiblePages(),b=c.views.length;0!==b&&(this._resizeBuffer(b),this.renderingQueue.renderHighestPriority(c),this._updateLocation(c.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location}))}},
{key:"_setDocumentViewerElement",get:function(){return(0,e.shadow)(this,"_setDocumentViewerElement",this._shadowViewer)}}]);return c}(n.BaseViewer);b.PDFSinglePageViewer=g},function(n,b,g){function i(a){var c=unescape(document.location.hash).substring(1),b=(0,e.parseQueryString)(c).page|0;if(!Number.isInteger(b)||!(0<b&&b<=a.pagesCount))b=null;return{hash:c,page:b,rotation:a.rotation}}function k(a,c){return"string"!==typeof a||"string"!==typeof c?!1:a===c||(0,e.parseQueryString)(a).nameddest===c?
!0:!1}function l(a,c){function b(a,c){if(("undefined"===typeof a?"undefined":h(a))!==("undefined"===typeof c?"undefined":h(c))||a instanceof Array||c instanceof Array)return!1;if(null!==a&&"object"===("undefined"===typeof a?"undefined":h(a))&&null!==c){if(Object.keys(a).length!==Object.keys(c).length)return!1;for(var e in a)if(!b(a[e],c[e]))return!1;return!0}return a===c||Number.isNaN(a)&&Number.isNaN(c)}if(!(a instanceof Array&&c instanceof Array)||a.length!==c.length)return!1;for(var e=0,j=a.length;e<
j;e++)if(!b(a[e],c[e]))return!1;return!0}Object.defineProperty(b,"__esModule",{value:!0});b.isDestArraysEqual=b.isDestHashesEqual=b.PDFHistory=void 0;var h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},m=function(){function a(c,b){for(var e=0;e<b.length;e++){var f=b[e];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=
!0);Object.defineProperty(c,f.key,f)}}return function(c,b,e){b&&a(c.prototype,b);e&&a(c,e);return c}}(),e=g(1),a=g(2),n=function(){function b(c){var d=this,e=c.linkService,c=c.eventBus;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.linkService=e;this.eventBus=c||(0,a.getGlobalEventBus)();this.initialized=!1;this.initialRotation=this.initialBookmark=null;this._boundEvents=Object.create(null);this._isPagesLoaded=this._isViewerInPresentationMode=!1;this.eventBus.on("presentationmodechanged",
function(a){d._isViewerInPresentationMode=a.active||a.switchInProgress});this.eventBus.on("pagesloaded",function(a){d._isPagesLoaded=!!a.pagesCount})}m(b,[{key:"initialize",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;if(!a||"string"!==typeof a)console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');else{var e=this.initialized&&this.fingerprint!==a;this.fingerprint=a;this.initialized||this._bindEvents();var f=window.history.state;
this.initialized=!0;this.initialRotation=this.initialBookmark=null;this._popStateInProgress=!1;this._blockHashChange=0;this._currentHash=document.location.hash;this._uid=this._maxUid=this._numPositionUpdates=0;this._position=this._destination=null;if(!this._isValidState(f)||b){var g=i(this.linkService),f=g.hash,h=g.page,g=g.rotation;!f||e||b?this._pushOrReplaceState(null,!0):this._pushOrReplaceState({hash:f,page:h,rotation:g},!0)}else(b=f.destination,this._updateInternalState(b,f.uid,!0),void 0!==
b.rotation&&(this.initialRotation=b.rotation),b.dest)?(this.initialBookmark=JSON.stringify(b.dest),this._destination.page=null):b.hash?this.initialBookmark=b.hash:b.page&&(this.initialBookmark="page="+b.page)}}},{key:"push",value:function(a){var b=this,e=a.namedDest,f=a.explicitDest,a=a.pageNumber;if(this.initialized)if(e&&"string"!==typeof e||!(f instanceof Array)||!Number.isInteger(a)||!(0<a&&a<=this.linkService.pagesCount))console.error("PDFHistory.push: Invalid parameters.");else if(e=e||JSON.stringify(f)){var g=
!1;if(this._destination&&(k(this._destination.hash,e)||l(this._destination.dest,f))){if(this._destination.page)return;g=!0}if(!this._popStateInProgress||g)this._pushOrReplaceState({dest:f,hash:e,page:a,rotation:this.linkService.rotation},g),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(function(){b._popStateInProgress=!1}))}}},{key:"pushCurrentPosition",value:function(){this.initialized&&!this._popStateInProgress&&this._tryPushCurrentPosition()}},{key:"back",value:function(){if(this.initialized&&
!this._popStateInProgress){var a=window.history.state;this._isValidState(a)&&0<a.uid&&window.history.back()}}},{key:"forward",value:function(){if(this.initialized&&!this._popStateInProgress){var a=window.history.state;this._isValidState(a)&&a.uid<this._maxUid&&window.history.forward()}}},{key:"_pushOrReplaceState",value:function(a){var b=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1)||!this._destination,e={fingerprint:this.fingerprint,uid:b?this._uid:this._uid+1,destination:a};this._updateInternalState(a,
e.uid);b?window.history.replaceState(e,"",document.URL):(this._maxUid=this._uid,window.history.pushState(e,"",document.URL))}},{key:"_tryPushCurrentPosition",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;if(this._position){var b=this._position;a&&(b=(0,e.cloneObj)(this._position),b.temporary=!0);if(this._destination)if(this._destination.temporary)this._pushOrReplaceState(b,!0);else{if(this._destination.hash!==b.hash&&(this._destination.page||!(50>=this._numPositionUpdates))){a=
!1;if(this._destination.page===b.first||this._destination.page===b.page){if(this._destination.dest||!this._destination.first)return;a=!0}this._pushOrReplaceState(b,a)}}else this._pushOrReplaceState(b)}}},{key:"_isValidState",value:function(a){return!a||a.fingerprint!==this.fingerprint||!Number.isInteger(a.uid)||0>a.uid||null===a.destination||"object"!==h(a.destination)?!1:!0}},{key:"_updateInternalState",value:function(a,b){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;this._updateViewareaTimeout&&
(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null);e&&(a&&a.temporary)&&delete a.temporary;this._destination=a;this._uid=b;this._numPositionUpdates=0}},{key:"_updateViewarea",value:function(a){var b=this,a=a.location;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null);this._position={hash:this._isViewerInPresentationMode?"page="+a.pageNumber:a.pdfOpenParams.substring(1),page:this.linkService.page,first:a.pageNumber,rotation:a.rotation};
this._popStateInProgress||(this._isPagesLoaded&&(this._destination&&!this._destination.page)&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(function(){b._popStateInProgress||b._tryPushCurrentPosition(true);b._updateViewareaTimeout=null},1E3))}},{key:"_popState",value:function(a){var b=this,a=a.state,f=document.location.hash,g=this._currentHash!==f;this._currentHash=f;if(a){if(this._isValidState(a)){this._popStateInProgress=!0;g&&(this._blockHashChange++,(0,e.waitOnEventOrTimeout)({target:window,
name:"hashchange",delay:1E3}).then(function(){b._blockHashChange--}));f=a.destination;this._updateInternalState(f,a.uid,!0);if((0,e.isValidRotation)(f.rotation))this.linkService.rotation=f.rotation;f.dest?this.linkService.navigateTo(f.dest):f.hash?this.linkService.setHash(f.hash):f.page&&(this.linkService.page=f.page);Promise.resolve().then(function(){b._popStateInProgress=false})}}else this._uid++,a=i(this.linkService),this._pushOrReplaceState({hash:a.hash,page:a.page,rotation:a.rotation},!0)}},
{key:"_bindEvents",value:function(){var a=this,b=this._boundEvents,e=this.eventBus;b.updateViewarea=this._updateViewarea.bind(this);b.popState=this._popState.bind(this);b.pageHide=function(){a._destination||a._tryPushCurrentPosition()};e.on("updateviewarea",b.updateViewarea);window.addEventListener("popstate",b.popState);window.addEventListener("pagehide",b.pageHide)}},{key:"popStateInProgress",get:function(){return this.initialized&&(this._popStateInProgress||0<this._blockHashChange)}}]);return b}();
b.PDFHistory=n;b.isDestHashesEqual=k;b.isDestArraysEqual=l},function(n,b,g){Object.defineProperty(b,"__esModule",{value:!0});b.PDFFindController=b.FindState=void 0;var i=function(){function b(a,e){for(var c=0;c<e.length;c++){var d=e[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(a,f,c){f&&b(a.prototype,f);c&&b(a,c);return a}}(),k=g(0),l=g(1),h={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},m={"\u2018":"'","\u2019":"'","\u201a":"'",
"\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\u00bc":"1/4","\u00bd":"1/2","\u00be":"3/4"},n=function(){function b(a){a=a.pdfViewer;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.pdfViewer=a;this.onUpdateState=this.onUpdateResultsCount=null;this.reset();a=Object.keys(m).join("");this.normalizationRegex=RegExp("["+a+"]","g")}i(b,[{key:"reset",value:function(){var a=this;this.startedTextExtraction=!1;this.extractTextPromises=[];this.pendingFindMatches=
Object.create(null);this.active=!1;this.pageContents=[];this.pageMatches=[];this.pageMatchesLength=null;this.matchCount=0;this.selected={pageIdx:-1,matchIdx:-1};this.offset={pageIdx:null,matchIdx:null};this.state=this.resumePageIdx=this.pagesToSearch=null;this.dirtyMatch=!1;this.findTimeout=null;this._firstPagePromise=new Promise(function(b){a.resolveFirstPage=b})}},{key:"normalize",value:function(a){return a.replace(this.normalizationRegex,function(a){return m[a]})}},{key:"_prepareMatches",value:function(a,
b,c){function d(a,b){var c=a[b],d=a[b+1];if(b<a.length-1&&c.match===d.match)return c.skipped=!0;for(d=b-1;0<=d;d--){var e=a[d];if(!e.skipped){if(e.match+e.matchLength<c.match)break;if(e.match+e.matchLength>=c.match+c.matchLength)return c.skipped=!0}}return!1}a.sort(function(a,b){return a.match===b.match?a.matchLength-b.matchLength:a.match-b.match});for(var e=0,g=a.length;e<g;e++)d(a,e)||(b.push(a[e].match),c.push(a[e].matchLength))}},{key:"calcFindPhraseMatch",value:function(a,b,c){for(var d=[],e=
a.length,g=-e;;){g=c.indexOf(a,g+e);if(-1===g)break;d.push(g)}this.pageMatches[b]=d}},{key:"calcFindWordMatch",value:function(a,b,c){for(var d=[],a=a.match(/\S+/g),e=0,g=a.length;e<g;e++)for(var h=a[e],i=h.length,m=-i;;){m=c.indexOf(h,m+i);if(-1===m)break;d.push({match:m,matchLength:i,skipped:!1})}this.pageMatchesLength||(this.pageMatchesLength=[]);this.pageMatchesLength[b]=[];this.pageMatches[b]=[];this._prepareMatches(d,this.pageMatches[b],this.pageMatchesLength[b])}},{key:"calcFindMatch",value:function(a){var b=
this.normalize(this.pageContents[a]),c=this.normalize(this.state.query),d=this.state.caseSensitive,e=this.state.phraseSearch;if(0!==c.length&&(d||(b=b.toLowerCase(),c=c.toLowerCase()),e?this.calcFindPhraseMatch(c,a,b):this.calcFindWordMatch(c,a,b),this.updatePage(a),this.resumePageIdx===a&&(this.resumePageIdx=null,this.nextPageMatch()),0<this.pageMatches[a].length))this.matchCount+=this.pageMatches[a].length,this.updateUIResultsCount()}},{key:"extractText",value:function(){var a=this;if(!this.startedTextExtraction){this.startedTextExtraction=
!0;this.pageContents.length=0;for(var b=Promise.resolve(),c=function(c){var d=(0,k.createPromiseCapability)();a.extractTextPromises[c]=d.promise;b=b.then(function(){return a.pdfViewer.getPageTextContent(c).then(function(b){for(var b=b.items,e=[],f=0,g=b.length;f<g;f++)e.push(b[f].str);a.pageContents[c]=e.join("");d.resolve(c)},function(b){console.error("Unable to get page "+(c+1)+" text content",b);a.pageContents[c]="";d.resolve(c)})})},d=0,e=this.pdfViewer.pagesCount;d<e;d++)c(d,e)}}},{key:"executeCommand",
value:function(a,b){var c=this;if(null===this.state||"findagain"!==a)this.dirtyMatch=!0;this.state=b;this.updateUIState(h.PENDING);this._firstPagePromise.then(function(){c.extractText();clearTimeout(c.findTimeout);"find"===a?c.findTimeout=setTimeout(c.nextMatch.bind(c),250):c.nextMatch()})}},{key:"updatePage",value:function(a){this.selected.pageIdx===a&&(this.pdfViewer.currentPageNumber=a+1);a=this.pdfViewer.getPageView(a);a.textLayer&&a.textLayer.updateMatches()}},{key:"nextMatch",value:function(){var a=
this,b=this.state.findPrevious,c=this.pdfViewer.currentPageNumber-1,d=this.pdfViewer.pagesCount;this.active=!0;if(this.dirtyMatch){this.dirtyMatch=!1;this.selected.pageIdx=this.selected.matchIdx=-1;this.offset.pageIdx=c;this.offset.matchIdx=null;this.hadMatch=!1;this.resumePageIdx=null;this.pageMatches=[];this.matchCount=0;this.pageMatchesLength=null;for(c=0;c<d;c++)this.updatePage(c),c in this.pendingFindMatches||(this.pendingFindMatches[c]=!0,this.extractTextPromises[c].then(function(b){delete a.pendingFindMatches[b];
a.calcFindMatch(b)}))}if(""===this.state.query)this.updateUIState(h.FOUND);else if(!this.resumePageIdx){c=this.offset;this.pagesToSearch=d;if(null!==c.matchIdx){d=this.pageMatches[c.pageIdx].length;if(!b&&c.matchIdx+1<d||b&&0<c.matchIdx){this.hadMatch=!0;c.matchIdx=b?c.matchIdx-1:c.matchIdx+1;this.updateMatch(!0);return}this.advanceOffsetPage(b)}this.nextPageMatch()}}},{key:"matchesReady",value:function(a){var b=this.offset,a=a.length,c=this.state.findPrevious;if(a)return this.hadMatch=!0,b.matchIdx=
c?a-1:0,this.updateMatch(!0),!0;this.advanceOffsetPage(c);return b.wrapped&&(b.matchIdx=null,0>this.pagesToSearch)?(this.updateMatch(!1),!0):!1}},{key:"updateMatchPosition",value:function(a,b,c,d){this.selected.matchIdx===b&&this.selected.pageIdx===a&&(0,l.scrollIntoView)(c[d],{top:-50,left:-400},!0)}},{key:"nextPageMatch",value:function(){null!==this.resumePageIdx&&console.error("There can only be one pending page.");var a=null;do{var b=this.offset.pageIdx,a=this.pageMatches[b];if(!a){this.resumePageIdx=
b;break}}while(!this.matchesReady(a))}},{key:"advanceOffsetPage",value:function(a){var b=this.offset,c=this.extractTextPromises.length;b.pageIdx=a?b.pageIdx-1:b.pageIdx+1;b.matchIdx=null;this.pagesToSearch--;if(b.pageIdx>=c||0>b.pageIdx)b.pageIdx=a?c-1:0,b.wrapped=!0}},{key:"updateMatch",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,b=h.NOT_FOUND,c=this.offset.wrapped;this.offset.wrapped=!1;a&&(a=this.selected.pageIdx,this.selected.pageIdx=this.offset.pageIdx,this.selected.matchIdx=
this.offset.matchIdx,b=c?h.WRAPPED:h.FOUND,-1!==a&&a!==this.selected.pageIdx&&this.updatePage(a));this.updateUIState(b,this.state.findPrevious);-1!==this.selected.pageIdx&&this.updatePage(this.selected.pageIdx)}},{key:"updateUIResultsCount",value:function(){if(this.onUpdateResultsCount)this.onUpdateResultsCount(this.matchCount)}},{key:"updateUIState",value:function(a,b){if(this.onUpdateState)this.onUpdateState(a,b,this.matchCount)}}]);return b}();b.FindState=h;b.PDFFindController=n},function(n,b,
g){function i(b,g){var e=document.createElement("a");e.click?(e.href=b,e.target="_parent","download"in e&&(e.download=g),(document.body||document.documentElement).appendChild(e),e.click(),e.parentNode.removeChild(e)):(window.top===window&&b.split("#")[0]===window.location.href.split("#")[0]&&(e=-1===b.indexOf("?")?"?":"&",b=b.replace(/#|$/,e+"$&")),window.open(b,"_parent"))}Object.defineProperty(b,"__esModule",{value:!0});b.DownloadManager=void 0;var k=function(){function b(g,e){for(var a=0;a<e.length;a++){var f=
e[a];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(g,f.key,f)}}return function(g,e,a){e&&b(g.prototype,e);a&&b(g,a);return g}}(),l=g(0),n=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");}k(b,[{key:"downloadUrl",value:function(b,e){(0,l.createValidAbsoluteUrl)(b,"http://example.com")&&i(b+"#pdfjs.action=download",e)}},{key:"downloadData",value:function(b,e,a){if(navigator.msSaveBlob)return navigator.msSaveBlob(new Blob([b],
{type:a}),e);b=(0,l.createObjectURL)(b,a,l.PDFJS.disableCreateObjectURL);i(b,e)}},{key:"download",value:function(b,e,a){navigator.msSaveBlob?navigator.msSaveBlob(b,a)||this.downloadUrl(e,a):l.PDFJS.disableCreateObjectURL?this.downloadUrl(e,a):(b=URL.createObjectURL(b),i(b,a))}}]);return b}();b.DownloadManager=n},function(n,b,g){Object.defineProperty(b,"__esModule",{value:!0});b.GenericL10n=void 0;var i=function(){function b(g,i){for(var e=0;e<i.length;e++){var a=i[e];a.enumerable=a.enumerable||!1;
a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(g,a.key,a)}}return function(g,i,e){i&&b(g.prototype,i);e&&b(g,e);return g}}();g(16);var k=document.webL10n,n=function(){function b(g){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._lang=g;this._ready=new Promise(function(b){k.setLanguage(g,function(){b(k)})})}i(b,[{key:"getDirection",value:function(){return this._ready.then(function(b){return b.getDirection()})}},{key:"get",value:function(b,
g,e){return this._ready.then(function(a){return a.get(b,g,e)})}},{key:"translate",value:function(b){return this._ready.then(function(g){return g.translate(b)})}}]);return b}();b.GenericL10n=n},function(){document.webL10n=function(n,b){function g(){var a=b.querySelector('script[type="application/l10n"]');return a?JSON.parse(a.innerHTML):null}function i(a){var c=b.createEvent("Event");c.initEvent("localized",!0,!1);c.language=a;b.dispatchEvent(c)}function k(a,b,c){var b=b||function(){},c=c||function(){},
d=new XMLHttpRequest;d.open("GET",a,w);d.overrideMimeType&&d.overrideMimeType("text/plain; charset=utf-8");d.onreadystatechange=function(){4==d.readyState&&(200==d.status||0===d.status?b(d.responseText):c())};d.onerror=c;d.ontimeout=c;try{d.send(null)}catch(e){c()}}function l(a,b,e,f){function g(a,c){function d(a,c,g){function k(){for(;;){if(!m.length){g();break}var a=m.shift();if(!j.test(a)){if(c){if(p=h.exec(a)){n=p[1].toLowerCase();u="*"!==n&&n!==b&&n!==x;continue}else if(u)continue;if(p=o.exec(a)){e(i+
p[1],k);break}}var d=a.match(l);if(d&&3==d.length){var a=f,q=d[1];d=d[2];d=0>d.lastIndexOf("\\")?d:d.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\u0008").replace(/\\f/g,"\u000c").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'");a[q]=d}}}}var m=a.replace(q,"").split(/[\r\n]+/),n="*",x=b.split("-",1)[0],u=!1,p="";k()}function e(a,b){k(a,function(a){d(a,!1,b)},function(){console.warn(a+" not found.");b()})}var f=
{},q=/^\s*|\s*$/,j=/^\s*#|^\s*$/,h=/^\s*\[(.*)\]\s*$/,o=/^\s*@import\s+url\((.*)\)\s*$/i,l=/^([^=\s]*)\s*=\s*(.+)$/;d(a,!0,function(){c(f)})}var i=a.replace(/[^\/]*$/,"")||"./";k(a,function(a){d+=a;g(a,function(a){for(var b in a){var d,f;f=b.lastIndexOf(".");0<f?(d=b.substring(0,f),f=b.substr(f+1)):(d=b,f=p);c[d]||(c[d]={});c[d][f]=a[b]}e&&e()})},f)}function h(a,e){function f(a){var b=a.href;this.load=function(a,c){l(b,a,c,function(){console.warn(b+" not found.");console.warn('"'+a+'" resource not found');
j="";c()})}}a&&(a=a.toLowerCase());e=e||function(){};c={};j=d="";j=a;var h=b.querySelectorAll('link[type="application/l10n"]'),q=h.length;if(0===q){if((h=g())&&h.locales&&h.default_locale){console.log("using the embedded JSON directory, early way out");c=h.locales[a];if(!c){var k=h.default_locale.toLowerCase(),m;for(m in h.locales)if(m=m.toLowerCase(),m===a){c=h.locales[a];break}else m===k&&(c=h.locales[k])}e()}else console.log("no resource to load, early way out");i(a);t="complete"}else{m=null;var n=
0;m=function(){n++;n>=q&&(e(),i(a),t="complete")};for(k=0;k<q;k++)(new f(h[k])).load(a,m)}}function m(a){function b(a,c,d){return c<=a&&a<=d}var c={"0":function(){return"other"},1:function(a){return b(a%100,3,10)?"few":0===a?"zero":b(a%100,11,99)?"many":2==a?"two":1==a?"one":"other"},2:function(a){return 0!==a&&0===a%10?"many":2==a?"two":1==a?"one":"other"},3:function(a){return 1==a?"one":"other"},4:function(a){return b(a,0,1)?"one":"other"},5:function(a){return b(a,0,2)&&2!=a?"one":"other"},6:function(a){return 0===
a?"zero":1==a%10&&11!=a%100?"one":"other"},7:function(a){return 2==a?"two":1==a?"one":"other"},8:function(a){return b(a,3,6)?"few":b(a,7,10)?"many":2==a?"two":1==a?"one":"other"},9:function(a){return 0===a||1!=a&&b(a%100,1,19)?"few":1==a?"one":"other"},10:function(a){return b(a%10,2,9)&&!b(a%100,11,19)?"few":1==a%10&&!b(a%100,11,19)?"one":"other"},11:function(a){return b(a%10,2,4)&&!b(a%100,12,14)?"few":0===a%10||b(a%10,5,9)||b(a%100,11,14)?"many":1==a%10&&11!=a%100?"one":"other"},12:function(a){return b(a,
2,4)?"few":1==a?"one":"other"},13:function(a){return b(a%10,2,4)&&!b(a%100,12,14)?"few":1!=a&&b(a%10,0,1)||b(a%10,5,9)||b(a%100,12,14)?"many":1==a?"one":"other"},14:function(a){return b(a%100,3,4)?"few":2==a%100?"two":1==a%100?"one":"other"},15:function(a){return 0===a||b(a%100,2,10)?"few":b(a%100,11,19)?"many":1==a?"one":"other"},16:function(a){return 1==a%10&&11!=a?"one":"other"},17:function(a){return 3==a?"few":0===a?"zero":6==a?"many":2==a?"two":1==a?"one":"other"},18:function(a){return 0===a?
"zero":b(a,0,2)&&0!==a&&2!=a?"one":"other"},19:function(a){return b(a,2,10)?"few":b(a,0,1)?"one":"other"},20:function(a){return(b(a%10,3,4)||9==a%10)&&!b(a%100,10,19)&&!b(a%100,70,79)&&!b(a%100,90,99)?"few":0===a%1E6&&0!==a?"many":2==a%10&&-1===[12,72,92].indexOf(a%100)?"two":1==a%10&&-1===[11,71,91].indexOf(a%100)?"one":"other"},21:function(a){return 0===a?"zero":1==a?"one":"other"},22:function(a){return b(a,0,1)||b(a,11,99)?"one":"other"},23:function(a){return b(a%10,1,2)||0===a%20?"one":"other"},
24:function(a){return b(a,3,10)||b(a,13,19)?"few":-1!==[2,12].indexOf(a)?"two":-1!==[1,11].indexOf(a)?"one":"other"}},d={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,
km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,
wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[a.replace(/-.*$/,"")];return!(d in c)?(console.warn("plural form unknown for ["+a+"]"),function(){return"other"}):c[d]}function e(b,d,e){var f=c[b];if(!f){console.warn("#"+b+" is undefined.");if(!e)return null;f=e}var e={},g;for(g in f){var h=f[g];var i=d,j=b,l=g,k=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(h);if(k&&k.length){var m=k[1],k=k[2],n=void 0;i&&k in i?n=i[k]:k in c&&(n=c[k]);m in r&&(h=(0,r[m])(h,n,j,l))}h=a(h,d,b);e[g]=h}return e}function a(a,
b,d){return a.replace(/\{\{\s*(.+?)\s*\}\}/g,function(a,e){if(b&&e in b)return b[e];if(e in c)return c[e];console.log("argument {{"+e+"}} for #"+d+" is undefined.");return a})}function f(a){var c,d;if(a){c=a.getAttribute("data-l10n-id");var f=a.getAttribute("data-l10n-args");d={};if(f)try{d=JSON.parse(f)}catch(g){console.warn("could not parse arguments for #"+c)}}else d=c=void 0;if(c)if(d=e(c,d)){if(d[p]){if(a.children)c=a.children.length;else if("undefined"!==typeof a.childElementCount)c=a.childElementCount;
else for(f=c=0;f<a.childNodes.length;f++)c+=1===a.nodeType?1:0;if(0===c)a[p]=d[p];else{c=a.childNodes;for(var f=!1,h=0,i=c.length;h<i;h++)3===c[h].nodeType&&/\S/.test(c[h].nodeValue)&&(f?c[h].nodeValue="":(c[h].nodeValue=d[p],f=!0));f||(c=b.createTextNode(d[p]),a.insertBefore(c,a.firstChild))}delete d[p]}for(var j in d)a[j]=d[j]}else console.warn("#"+c+" is undefined.")}var c={},d="",p="textContent",j="",r={},t="loading",w=!0;r.plural=function(a,b,d,e){b=parseFloat(b);if(isNaN(b)||e!=p)return a;r._pluralRules||
(r._pluralRules=m(j));var f="["+r._pluralRules(b)+"]";0===b&&d+"[zero]"in c?a=c[d+"[zero]"][e]:1==b&&d+"[one]"in c?a=c[d+"[one]"][e]:2==b&&d+"[two]"in c?a=c[d+"[two]"][e]:d+f in c?a=c[d+f][e]:d+"[other]"in c&&(a=c[d+"[other]"][e]);return a};return{get:function(a,b,c){var d=a.lastIndexOf("."),f=p;0<d&&(f=a.substr(d+1),a=a.substring(0,d));var g;c&&(g={},g[f]=c);return(b=e(a,b,g))&&f in b?b[f]:"{{"+a+"}}"},getData:function(){return c},getText:function(){return d},getLanguage:function(){return j},setLanguage:function(a,
b){h(a,function(){b&&b()})},getDirection:function(){return 0<=["ar","he","fa","ps","ur"].indexOf(j.split("-",1)[0])?"rtl":"ltr"},translate:function(a){for(var c=(a=a||b.documentElement)?a.querySelectorAll("*[data-l10n-id]"):[],d=c.length,e=0;e<d;e++)f(c[e]);f(a)},getReadyState:function(){return t},ready:function(a){a&&("complete"==t||"interactive"==t?n.setTimeout(function(){a()}):b.addEventListener&&b.addEventListener("localized",function u(){b.removeEventListener("localized",u);a()}))}}}(window,
document)}])});
