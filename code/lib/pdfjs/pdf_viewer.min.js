(function(g,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define("pdfjs-dist/web/pdf_viewer",[],e):"object"===typeof exports?exports["pdfjs-dist/web/pdf_viewer"]=e():g["pdfjs-dist/web/pdf_viewer"]=g.pdfjsDistWebPdfViewer=e()})(this,function(){return function(g){function e(k){if(d[k])return d[k].exports;var j=d[k]={i:k,l:!1,exports:{}};g[k].call(j.exports,j,j.exports,e);j.l=!0;return j.exports}var d={};e.m=g;e.c=d;e.i=function(d){return d};
e.d=function(d,g,b){e.o(d,g)||Object.defineProperty(d,g,{configurable:!1,enumerable:!0,get:b})};e.n=function(d){var g=d&&d.__esModule?function(){return d["default"]}:function(){return d};e.d(g,"a",g);return g};e.o=function(d,e){return Object.prototype.hasOwnProperty.call(d,e)};e.p="";return e(e.s=12)}([function(g){var e;if("undefined"===typeof __pdfjsdev_webpack__)if("undefined"!==typeof window&&window["pdfjs-dist/build/pdf"])e=window["pdfjs-dist/build/pdf"];else if("function"===typeof require)e=
require("../build/pdf.js");else throw Error("Neither `require` nor `window` found");g.exports=e},function(g,e,d){function k(a,l){var h=0,c=a.length-1;if(0===a.length||!l(a[c]))return a.length;if(l(a[h]))return h;for(;h<c;){var b=h+c>>1;l(a[b])?c=b:h=b+1}return h}var d=d(0),g=96/72,j=document.mozL10n||document.webL10n,d=d.PDFJS;d.disableFullscreen=void 0===d.disableFullscreen?!1:d.disableFullscreen;d.useOnlyCssZoom=void 0===d.useOnlyCssZoom?!1:d.useOnlyCssZoom;d.maxCanvasPixels=void 0===d.maxCanvasPixels?
16777216:d.maxCanvasPixels;d.disableHistory=void 0===d.disableHistory?!1:d.disableHistory;d.disableTextLayer=void 0===d.disableTextLayer?!1:d.disableTextLayer;d.ignoreCurrentPositionOnZoom=void 0===d.ignoreCurrentPositionOnZoom?!1:d.ignoreCurrentPositionOnZoom;d.locale=void 0===d.locale?navigator.language:d.locale;var d=new Promise(function(a){window.requestAnimationFrame(a)}),b=new Promise(function(a){j?"loading"!==j.getReadyState()?a():window.addEventListener("localized",function(){a()}):a()}),
i=function(){function a(){this._listeners=Object.create(null)}a.prototype={on:function(a,c){var f=this._listeners[a];f||(f=[],this._listeners[a]=f);f.push(c)},off:function(a,c){var f=this._listeners[a],b;f&&!(0>(b=f.indexOf(c)))&&f.splice(b,1)},dispatch:function(a){var c=this._listeners[a];if(c&&0!==c.length){var f=Array.prototype.slice.call(arguments,1);c.slice(0).forEach(function(a){a.apply(null,f)})}}};return a}(),c=function(){function a(a,c){this.visible=!0;this.div=document.querySelector(a+" .progress");
this.bar=this.div.parentNode;this.height=c.height||100;this.width=c.width||100;this.units=c.units||"%";this.div.style.height=this.height+this.units;this.percent=0}a.prototype={updateBar:function(){this._indeterminate?(this.div.classList.add("indeterminate"),this.div.style.width=this.width+this.units):(this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units)},get percent(){return this._percent},set percent(a){this._indeterminate=isNaN(a);this._percent=
Math.min(Math.max(a,0),100);this.updateBar()},setWidth:function(a){a&&(a=a.parentNode.offsetWidth-a.offsetWidth,0<a&&this.bar.setAttribute("style","width: calc(100% - "+a+"px);"))},hide:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))},show:function(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),this.bar.classList.remove("hidden"))}};return a}();e.CSS_UNITS=g;e.DEFAULT_SCALE_VALUE="auto";
e.DEFAULT_SCALE=1;e.MIN_SCALE=0.25;e.MAX_SCALE=10;e.UNKNOWN_SCALE=0;e.MAX_AUTO_SCALE=1.25;e.SCROLLBAR_PADDING=40;e.VERTICAL_PADDING=5;e.RendererType={CANVAS:"canvas",SVG:"svg"};e.mozL10n=j;e.EventBus=i;e.ProgressBar=c;e.getPDFFileNameFromURL=function(a,c){"undefined"===typeof c&&(c="document.pdf");var h=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i,f=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(a);if(f=h.exec(f[1])||h.exec(f[2])||h.exec(f[3]))if(f=f[0],-1!==f.indexOf("%"))try{f=h.exec(decodeURIComponent(f))[0]}catch(b){}return f||
c};e.noContextMenuHandler=function(a){a.preventDefault()};e.parseQueryString=function(a){for(var a=a.split("&"),c={},h=0,f=a.length;h<f;++h){var b=a[h].split("="),d=b[0].toLowerCase(),b=1<b.length?b[1]:null;c[decodeURIComponent(d)]=decodeURIComponent(b)}return c};e.getVisibleElements=function(a,c,b){function f(a){a=a.div;return a.offsetTop+a.clientTop+a.clientHeight>m}for(var m=a.scrollTop,d=m+a.clientHeight,p=a.scrollLeft,i=p+a.clientWidth,a=[],e,n,o,g,q,j=0===c.length?0:k(c,f),y=c.length;j<y;j++){e=
c[j];n=e.div;o=n.offsetTop+n.clientTop;g=n.clientHeight;if(o>d)break;q=n.offsetLeft+n.clientLeft;n=n.clientWidth;q+n<p||q>i||(n=Math.max(0,m-o)+Math.max(0,o+g-d),g=100*(g-n)/g|0,a.push({id:e.id,x:q,y:o,view:e,percent:g}))}c=a[0];d=a[a.length-1];b&&a.sort(function(a,c){var b=a.percent-c.percent;return 0.001<Math.abs(b)?-b:a.id-c.id});return{first:c,last:d,views:a}};e.roundToDivide=function(a,c){var b=a%c;return 0===b?a:Math.round(a-b+c)};e.approximateFraction=function(a){if(Math.floor(a)===a)return[a,
1];var c=1/a;if(8<c)return[1,8];if(Math.floor(c)===c)return[1,c];for(var c=1<a?c:a,b=0,f=1,m=1,d=1;;){var p=b+m,i=f+d;if(8<i)break;c<=p/i?(m=p,d=i):(b=p,f=i)}return c-b/f<m/d-c?c===a?[b,f]:[f,b]:c===a?[m,d]:[d,m]};e.getOutputScale=function(a){a=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1);return{sx:a,sy:a,scaled:1!==a}};e.scrollIntoView=function(a,c,b){var f=a.offsetParent;
if(f){for(var b=b||!1,d=a.offsetTop+a.clientTop,a=a.offsetLeft+a.clientLeft;f.clientHeight===f.scrollHeight||b&&"hidden"===getComputedStyle(f).overflow;)if(f.dataset._scaleY&&(d/=f.dataset._scaleY,a/=f.dataset._scaleX),d+=f.offsetTop,a+=f.offsetLeft,f=f.offsetParent,!f)return;c&&(void 0!==c.top&&(d+=c.top),void 0!==c.left&&(a+=c.left,f.scrollLeft=a));f.scrollTop=d}else console.error("offsetParent is not set -- cannot scroll")};e.watchScroll=function(a,c){var b=function(){d||(d=window.requestAnimationFrame(function(){d=
null;var b=a.scrollTop,h=f.lastY;b!==h&&(f.down=b>h);f.lastY=b;c(f)}))},f={down:!0,lastY:a.scrollTop,_eventHandler:b},d=null;a.addEventListener("scroll",b,!0);return f};e.binarySearchFirstItem=k;e.normalizeWheelEventDelta=function(a){var c=Math.sqrt(a.deltaX*a.deltaX+a.deltaY*a.deltaY),b=Math.atan2(a.deltaY,a.deltaX);-0.25*Math.PI<b&&b<0.75*Math.PI&&(c=-c);0===a.deltaMode?c/=900:1===a.deltaMode&&(c/=30);return c};e.animationStarted=d;e.localized=b},function(g,e,d){function k(b){b.on("documentload",
function(){var c=document.createEvent("CustomEvent");c.initCustomEvent("documentload",!0,!0,{});window.dispatchEvent(c)});b.on("pagerendered",function(c){var a=document.createEvent("CustomEvent");a.initCustomEvent("pagerendered",!0,!0,{pageNumber:c.pageNumber,cssTransform:c.cssTransform});c.source.div.dispatchEvent(a)});b.on("textlayerrendered",function(c){var a=document.createEvent("CustomEvent");a.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:c.pageNumber});c.source.textLayerDiv.dispatchEvent(a)});
b.on("pagechange",function(c){var a=document.createEvent("UIEvents");a.initUIEvent("pagechange",!0,!0,window,0);a.pageNumber=c.pageNumber;c.source.container.dispatchEvent(a)});b.on("pagesinit",function(c){var a=document.createEvent("CustomEvent");a.initCustomEvent("pagesinit",!0,!0,null);c.source.container.dispatchEvent(a)});b.on("pagesloaded",function(c){var a=document.createEvent("CustomEvent");a.initCustomEvent("pagesloaded",!0,!0,{pagesCount:c.pagesCount});c.source.container.dispatchEvent(a)});
b.on("scalechange",function(c){var a=document.createEvent("UIEvents");a.initUIEvent("scalechange",!0,!0,window,0);a.scale=c.scale;a.presetValue=c.presetValue;c.source.container.dispatchEvent(a)});b.on("updateviewarea",function(c){var a=document.createEvent("UIEvents");a.initUIEvent("updateviewarea",!0,!0,window,0);a.location=c.location;c.source.container.dispatchEvent(a)});b.on("find",function(c){if(c.source!==window){var a=document.createEvent("CustomEvent");a.initCustomEvent("find"+c.type,!0,!0,
{query:c.query,phraseSearch:c.phraseSearch,caseSensitive:c.caseSensitive,highlightAll:c.highlightAll,findPrevious:c.findPrevious});window.dispatchEvent(a)}});b.on("attachmentsloaded",function(c){var a=document.createEvent("CustomEvent");a.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:c.attachmentsCount});c.source.container.dispatchEvent(a)});b.on("sidebarviewchanged",function(c){var a=document.createEvent("CustomEvent");a.initCustomEvent("sidebarviewchanged",!0,!0,{view:c.view});c.source.outerContainer.dispatchEvent(a)});
b.on("pagemode",function(c){var a=document.createEvent("CustomEvent");a.initCustomEvent("pagemode",!0,!0,{mode:c.mode});c.source.pdfViewer.container.dispatchEvent(a)});b.on("namedaction",function(c){var a=document.createEvent("CustomEvent");a.initCustomEvent("namedaction",!0,!0,{action:c.action});c.source.pdfViewer.container.dispatchEvent(a)});b.on("presentationmodechanged",function(c){var a=document.createEvent("CustomEvent");a.initCustomEvent("presentationmodechanged",!0,!0,{active:c.active,switchInProgress:c.switchInProgress});
window.dispatchEvent(a)});b.on("outlineloaded",function(c){var a=document.createEvent("CustomEvent");a.initCustomEvent("outlineloaded",!0,!0,{outlineCount:c.outlineCount});c.source.container.dispatchEvent(a)})}var j=d(1).EventBus,b=null;e.attachDOMEventsToEventBus=k;e.getGlobalEventBus=function(){if(b)return b;b=new j;k(b);return b}},function(g,e,d){var g=d(1),k=d(2),j=g.parseQueryString,b=/^\d+$/,d=function(){function d(a){a=a||{};this.eventBus=a.eventBus||k.getGlobalEventBus();this._pagesRefCache=
this.pdfHistory=this.pdfViewer=this.pdfDocument=this.baseUrl=null}function c(a){if(!(a instanceof Array))return!1;var c=a.length,b=!0;if(2>c)return!1;var f=a[0];if(!("object"===typeof f&&"number"===typeof f.num&&(f.num|0)===f.num&&"number"===typeof f.gen&&(f.gen|0)===f.gen)&&!("number"===typeof f&&(f|0)===f&&0<=f))return!1;f=a[1];if(!("object"===typeof f&&"string"===typeof f.name))return!1;switch(f.name){case "XYZ":if(5!==c)return!1;break;case "Fit":case "FitB":return 2===c;case "FitH":case "FitBH":case "FitV":case "FitBV":if(3!==
c)return!1;break;case "FitR":if(6!==c)return!1;b=!1;break;default:return!1}for(f=2;f<c;f++){var d=a[f];if(!("number"===typeof d||b&&null===d))return!1}return!0}d.prototype={setDocument:function(a,c){this.baseUrl=c;this.pdfDocument=a;this._pagesRefCache=Object.create(null)},setViewer:function(a){this.pdfViewer=a},setHistory:function(a){this.pdfHistory=a},get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0},get page(){return this.pdfViewer.currentPageNumber},set page(a){this.pdfViewer.currentPageNumber=
a},navigateTo:function(a){var c="",b=this,f=function(d){var p;if(d instanceof Object)p=b._cachedPageNumber(d);else if((d|0)===d)p=d+1;else{console.error('PDFLinkService_navigateTo: "'+d+'" is not a valid destination reference.');return}p?1>p||p>b.pagesCount?console.error('PDFLinkService_navigateTo: "'+p+'" is a non-existent page number.'):(b.pdfViewer.scrollPageIntoView({pageNumber:p,destArray:a}),b.pdfHistory&&b.pdfHistory.push({dest:a,hash:c,page:p})):b.pdfDocument.getPageIndex(d).then(function(a){b.cachePageRef(a+
1,d);f(d)}).catch(function(){console.error('PDFLinkService_navigateTo: "'+d+'" is not a valid page reference.')})},d;"string"===typeof a?(c=a,d=this.pdfDocument.getDestination(a)):d=Promise.resolve(a);d.then(function(c){a=c;c instanceof Array?f(c[0]):console.error('PDFLinkService_navigateTo: "'+c+'" is not a valid destination array.')})},getDestinationHash:function(a){return"string"===typeof a?this.getAnchorUrl("#"+(b.test(a)?"nameddest=":"")+escape(a)):a instanceof Array?(a=JSON.stringify(a),this.getAnchorUrl("#"+
escape(a))):this.getAnchorUrl("")},getAnchorUrl:function(a){return(this.baseUrl||"")+a},setHash:function(a){var d,h;if(0<=a.indexOf("="))if(a=j(a),"search"in a&&this.eventBus.dispatch("findfromurlhash",{source:this,query:a.search.replace(/"/g,""),phraseSearch:"true"===a.phrase}),"nameddest"in a)this.pdfHistory&&this.pdfHistory.updateNextHashParam(a.nameddest),this.navigateTo(a.nameddest);else{"page"in a&&(d=a.page|0||1);if("zoom"in a){var f=a.zoom.split(","),m=f[0],e=parseFloat(m);-1===m.indexOf("Fit")?
h=[null,{name:"XYZ"},1<f.length?f[1]|0:null,2<f.length?f[2]|0:null,e?e/100:m]:"Fit"===m||"FitB"===m?h=[null,{name:m}]:"FitH"===m||"FitBH"===m||"FitV"===m||"FitBV"===m?h=[null,{name:m},1<f.length?f[1]|0:null]:"FitR"===m?5!==f.length?console.error("PDFLinkService_setHash: Not enough parameters for 'FitR'."):h=[null,{name:m},f[1]|0,f[2]|0,f[3]|0,f[4]|0]:console.error("PDFLinkService_setHash: '"+m+"' is not a valid zoom value.")}h?this.pdfViewer.scrollPageIntoView({pageNumber:d||this.page,destArray:h,
allowNegativeOffset:!0}):d&&(this.page=d);"pagemode"in a&&this.eventBus.dispatch("pagemode",{source:this,mode:a.pagemode})}else{b.test(a)&&a<=this.pagesCount&&(console.warn('PDFLinkService_setHash: specifying a page number directly after the hash symbol (#) is deprecated, please use the "#page='+a+'" form instead.'),this.page=a|0);h=unescape(a);try{h=JSON.parse(h),h instanceof Array||(h=h.toString())}catch(p){}"string"===typeof h||c(h)?(this.pdfHistory&&this.pdfHistory.updateNextHashParam(h),this.navigateTo(h)):
console.error("PDFLinkService_setHash: '"+unescape(a)+"' is not a valid destination.")}},executeNamedAction:function(a){switch(a){case "GoBack":this.pdfHistory&&this.pdfHistory.back();break;case "GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case "NextPage":this.page<this.pagesCount&&this.page++;break;case "PrevPage":1<this.page&&this.page--;break;case "LastPage":this.page=this.pagesCount;break;case "FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:a})},
onFileAttachmentAnnotation:function(a){this.eventBus.dispatch("fileattachmentannotation",{source:this,id:a.id,filename:a.filename,content:a.content})},cachePageRef:function(a,c){this._pagesRefCache[c.num+" "+c.gen+" R"]=a},_cachedPageNumber:function(a){a=a.num+" "+a.gen+" R";return this._pagesRefCache&&this._pagesRefCache[a]||null}};return d}(),g=function(){function b(){}b.prototype={get page(){return 0},set page(c){},navigateTo:function(){},getDestinationHash:function(){return"#"},getAnchorUrl:function(){return"#"},
setHash:function(){},executeNamedAction:function(){},onFileAttachmentAnnotation:function(){},cachePageRef:function(){}};return b}();e.PDFLinkService=d;e.SimpleLinkService=g},function(g,e,d){function k(){}var g=d(1),j=d(3),b=d(0),i=g.mozL10n,c=j.SimpleLinkService,a=function(){function a(c){this.pageDiv=c.pageDiv;this.pdfPage=c.pdfPage;this.renderInteractiveForms=c.renderInteractiveForms;this.linkService=c.linkService;this.downloadManager=c.downloadManager;this.div=null}a.prototype={render:function(a,
c){var d=this,l={intent:void 0===c?"display":c};this.pdfPage.getAnnotations(l).then(function(c){a=a.clone({dontFlip:!0});l={viewport:a,div:d.div,annotations:c,page:d.pdfPage,renderInteractiveForms:d.renderInteractiveForms,linkService:d.linkService,downloadManager:d.downloadManager};d.div?b.AnnotationLayer.update(l):0!==c.length&&(d.div=document.createElement("div"),d.div.className="annotationLayer",d.pageDiv.appendChild(d.div),l.div=d.div,b.AnnotationLayer.render(l),"undefined"!==typeof i&&i.translate(d.div))})},
hide:function(){this.div&&this.div.setAttribute("hidden","true")}};return a}();k.prototype={createAnnotationLayerBuilder:function(b,d,f){return new a({pageDiv:b,pdfPage:d,renderInteractiveForms:f,linkService:new c})}};e.AnnotationLayerBuilder=a;e.DefaultAnnotationLayerFactory=k},function(g,e,d){var g=d(1),k=d(7),j=d(2),b=d(0),i=g.CSS_UNITS,c=g.DEFAULT_SCALE,a=g.getOutputScale,l=g.approximateFraction,h=g.roundToDivide,f=g.RendererType,m=k.RenderingStates,d=function(){function d(a){var b=a.container,
h=a.id,l=a.scale,e=a.defaultViewport,i=a.renderingQueue,g=a.textLayerFactory,t=a.annotationLayerFactory,k=a.enhanceTextSelection||!1,r=a.renderInteractiveForms||!1;this.id=h;this.renderingId="page"+h;this.pageLabel=null;this.rotation=0;this.scale=l||c;this.viewport=e;this.pdfPageRotate=e.rotation;this.hasRestrictedScaling=!1;this.enhanceTextSelection=k;this.renderInteractiveForms=r;this.eventBus=a.eventBus||j.getGlobalEventBus();this.renderingQueue=i;this.textLayerFactory=g;this.annotationLayerFactory=
t;this.renderer=a.renderer||f.CANVAS;this.paintTask=null;this.paintedViewportMap=new WeakMap;this.renderingState=m.INITIAL;this.annotationLayer=this.zoomLayer=this.textLayer=this.onAfterDraw=this.onBeforeDraw=this.error=this.resume=null;a=document.createElement("div");a.className="page";a.style.width=Math.floor(this.viewport.width)+"px";a.style.height=Math.floor(this.viewport.height)+"px";a.setAttribute("data-page-number",this.id);this.div=a;b.appendChild(a)}d.prototype={setPdfPage:function(a){this.pdfPage=
a;this.pdfPageRotate=a.rotate;this.viewport=a.getViewport(this.scale*i,(this.rotation+this.pdfPageRotate)%360);this.stats=a.stats;this.reset()},destroy:function(){this.zoomLayer=null;this.reset();this.pdfPage&&this.pdfPage.cleanup()},reset:function(a,c){this.cancelRendering();var b=this.div;b.style.width=Math.floor(this.viewport.width)+"px";b.style.height=Math.floor(this.viewport.height)+"px";for(var d=b.childNodes,f=a&&this.zoomLayer||null,h=c&&this.annotationLayer&&this.annotationLayer.div||null,
l=d.length-1;0<=l;l--){var e=d[l];f===e||h===e||b.removeChild(e)}b.removeAttribute("data-loaded");h?this.annotationLayer.hide():this.annotationLayer=null;this.canvas&&!f&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas);this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg);this.loadingIconDiv=document.createElement("div");this.loadingIconDiv.className="loadingIcon";b.appendChild(this.loadingIconDiv)},update:function(a,c){this.scale=
a||this.scale;"undefined"!==typeof c&&(this.rotation=c);this.viewport=this.viewport.clone({scale:this.scale*i,rotation:(this.rotation+this.pdfPageRotate)%360});if(this.svg)this.cssTransform(this.svg,!0),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});else{var d=!1;if(this.canvas&&0<b.PDFJS.maxCanvasPixels){var f=this.outputScale;(Math.floor(this.viewport.width)*f.sx|0)*(Math.floor(this.viewport.height)*f.sy|0)>b.PDFJS.maxCanvasPixels&&(d=!0)}if(this.canvas){if(b.PDFJS.useOnlyCssZoom||
this.hasRestrictedScaling&&d){this.cssTransform(this.canvas,!0);this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});return}this.zoomLayer||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild);this.reset(!0,!0)}},cancelRendering:function(){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null);this.renderingState=m.INITIAL;this.resume=null;this.textLayer&&(this.textLayer.cancel(),
this.textLayer=null)},updatePosition:function(){this.textLayer&&this.textLayer.render(200)},cssTransform:function(a,c){var d=b.CustomStyle,f=this.viewport.width,h=this.viewport.height,l=this.div;a.style.width=a.parentNode.style.width=l.style.width=Math.floor(f)+"px";a.style.height=a.parentNode.style.height=l.style.height=Math.floor(h)+"px";var l=this.viewport.rotation-this.paintedViewportMap.get(a).rotation,e=Math.abs(l),m=1,i=1;if(90===e||270===e)m=h/f,i=f/h;d.setProp("transform",a,"rotate("+l+"deg) scale("+
m+","+i+")");if(this.textLayer){e=this.textLayer.viewport;h=Math.abs(this.viewport.rotation-e.rotation);l=f/e.width;if(90===h||270===h)l=f/e.height;var f=this.textLayer.textLayerDiv,g,t;switch(h){case 0:g=t=0;break;case 90:g=0;t="-"+f.style.height;break;case 180:g="-"+f.style.width;t="-"+f.style.height;break;case 270:g="-"+f.style.width;t=0;break;default:console.error("Bad rotation value.")}d.setProp("transform",f,"rotate("+h+"deg) scale("+l+", "+l+") translate("+g+", "+t+")");d.setProp("transformOrigin",
f,"0% 0%")}c&&this.annotationLayer&&this.annotationLayer.render(this.viewport,"display")},get width(){return this.viewport.width},get height(){return this.viewport.height},getPagePoint:function(a,c){return this.viewport.convertToPdfPoint(a,c)},draw:function(){this.renderingState!==m.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());this.renderingState=m.RUNNING;var a=this,c=this.pdfPage,b=this.div,d=document.createElement("div");d.style.width=b.style.width;d.style.height=
b.style.height;d.classList.add("canvasWrapper");this.annotationLayer&&this.annotationLayer.div?b.insertBefore(d,this.annotationLayer.div):b.appendChild(d);var h=null,l=null;this.textLayerFactory&&(h=document.createElement("div"),h.className="textLayer",h.style.width=d.style.width,h.style.height=d.style.height,this.annotationLayer&&this.annotationLayer.div?b.insertBefore(h,this.annotationLayer.div):b.appendChild(h),l=this.textLayerFactory.createTextLayerBuilder(h,this.id-1,this.viewport,this.enhanceTextSelection));
this.textLayer=l;h=null;this.renderingQueue&&(h=function(c){if(a.renderingQueue.isHighestPriority(a))c();else{a.renderingState=m.PAUSED;a.resume=function(){a.renderingState=m.RUNNING;c()}}});var e=function(d){if(i===a.paintTask)a.paintTask=null;if(d==="cancelled"){a.error=null;return Promise.resolve(void 0)}a.renderingState=m.FINISHED;if(a.loadingIconDiv){b.removeChild(a.loadingIconDiv);delete a.loadingIconDiv}if(a.zoomLayer){var f=a.zoomLayer.firstChild;a.paintedViewportMap.delete(f);f.width=0;f.height=
0;b.contains(a.zoomLayer)&&b.removeChild(a.zoomLayer);a.zoomLayer=null}a.error=d;a.stats=c.stats;if(a.onAfterDraw)a.onAfterDraw();a.eventBus.dispatch("pagerendered",{source:a,pageNumber:a.id,cssTransform:false});return d?Promise.reject(d):Promise.resolve(void 0)},i=this.renderer===f.SVG?this.paintOnSvg(d):this.paintOnCanvas(d);i.onRenderContinue=h;this.paintTask=i;d=i.promise.then(function(){return e(null).then(function(){l&&c.getTextContent({normalizeWhitespace:true}).then(function(a){l.setTextContent(a);
l.render(200)})})},function(a){return e(a)});this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(b,c,this.renderInteractiveForms)),this.annotationLayer.render(this.viewport,"display"));b.setAttribute("data-loaded",!0);if(this.onBeforeDraw)this.onBeforeDraw();return d},paintOnCanvas:function(c){var d,f,e={promise:new Promise(function(a,c){d=a;f=c}),onRenderContinue:function(a){a()},cancel:function(){v.cancel()}},m=this.viewport,
g=document.createElement("canvas");g.id="page"+this.id;g.setAttribute("hidden","hidden");var t=!0,k=function(){t&&(g.removeAttribute("hidden"),t=!1)};c.appendChild(g);this.canvas=g;g.mozOpaque=!0;var c=g.getContext("2d",{alpha:!1}),j=a(c);this.outputScale=j;if(b.PDFJS.useOnlyCssZoom){var r=m.clone({scale:i});j.sx*=r.width/m.width;j.sy*=r.height/m.height;j.scaled=!0}0<b.PDFJS.maxCanvasPixels&&(r=Math.sqrt(b.PDFJS.maxCanvasPixels/(m.width*m.height)),j.sx>r||j.sy>r?(j.sx=r,j.sy=r,this.hasRestrictedScaling=
j.scaled=!0):this.hasRestrictedScaling=!1);var r=l(j.sx),w=l(j.sy);g.width=h(m.width*j.sx,r[0]);g.height=h(m.height*j.sy,w[0]);g.style.width=h(m.width,r[1])+"px";g.style.height=h(m.height,w[1])+"px";this.paintedViewportMap.set(g,m);var v=this.pdfPage.render({canvasContext:c,transform:!j.scaled?null:[j.sx,0,0,j.sy,0,0],viewport:this.viewport,renderInteractiveForms:this.renderInteractiveForms});v.onContinue=function(a){k();if(e.onRenderContinue)e.onRenderContinue(a);else a()};v.promise.then(function(){k();
d(void 0)},function(a){k();f(a)});return e},paintOnSvg:function(a){var c=!1,d=this,f=this.pdfPage,h=b.SVGGraphics,l=this.viewport.clone({scale:i});return{promise:f.getOperatorList().then(function(b){if(c)throw"cancelled";return(new h(f.commonObjs,f.objs)).getSVG(b,l).then(function(b){if(c)throw"cancelled";d.svg=b;d.paintedViewportMap.set(b,l);b.style.width=a.style.width;b.style.height=a.style.height;d.renderingState=m.FINISHED;a.appendChild(b)})}),onRenderContinue:function(a){a()},cancel:function(){c=
!0}}},setPageLabel:function(a){this.pageLabel="string"===typeof a?a:null;null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}};return d}();e.PDFPageView=d},function(g,e,d){function k(){}var j=d(2),b=d(0),i=function(){function c(a){this.textLayerDiv=a.textLayerDiv;this.eventBus=a.eventBus||j.getGlobalEventBus();this.textContent=null;this.renderingDone=!1;this.pageIdx=a.pageIndex;this.pageNumber=this.pageIdx+1;this.matches=[];this.viewport=
a.viewport;this.textDivs=[];this.findController=a.findController||null;this.textLayerRenderTask=null;this.enhanceTextSelection=a.enhanceTextSelection;this._bindMouse()}c.prototype={_finishRendering:function(){this.renderingDone=!0;if(!this.enhanceTextSelection){var a=document.createElement("div");a.className="endOfContent";this.textLayerDiv.appendChild(a)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})},render:function(a){if(this.textContent&&
!this.renderingDone){this.cancel();this.textDivs=[];var c=document.createDocumentFragment();this.textLayerRenderTask=b.renderTextLayer({textContent:this.textContent,container:c,viewport:this.viewport,textDivs:this.textDivs,timeout:a,enhanceTextSelection:this.enhanceTextSelection});this.textLayerRenderTask.promise.then(function(){this.textLayerDiv.appendChild(c);this._finishRendering();this.updateMatches()}.bind(this),function(){})}},cancel:function(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),
this.textLayerRenderTask=null)},setTextContent:function(a){this.cancel();this.textContent=a},convertMatches:function(a,c){var b=0,d=0,e=this.textContent.items,i=e.length-1,g=null===this.findController?0:this.findController.state.query.length,j=[];if(!a)return j;for(var k=0,n=a.length;k<n;k++){for(var o=a[k];b!==i&&o>=d+e[b].str.length;)d+=e[b].str.length,b++;b===e.length&&console.error("Could not find a matching mapping");for(var s={begin:{divIdx:b,offset:o-d}},o=c?o+c[k]:o+g;b!==i&&o>d+e[b].str.length;)d+=
e[b].str.length,b++;s.end={divIdx:b,offset:o-d};j.push(s)}return j},renderMatches:function(a){function c(a,d){var f=a.divIdx;e[f].textContent="";b(f,0,a.offset,d)}function b(a,c,h,l){var i=e[a],a=d[a].str.substring(c,h),a=document.createTextNode(a);l?(c=document.createElement("span"),c.className=l,c.appendChild(a),i.appendChild(c)):i.appendChild(a)}if(0!==a.length){var d=this.textContent.items,e=this.textDivs,i=null,g=this.pageIdx,j=null===this.findController?!1:g===this.findController.selected.pageIdx,
k=null===this.findController?-1:this.findController.selected.matchIdx,n=k,o=n+1;if(null===this.findController?0:this.findController.state.highlightAll)n=0,o=a.length;else if(!j)return;for(;n<o;n++){var s=a[n],q=s.begin,s=s.end,u=j&&n===k?" selected":"";this.findController&&this.findController.updateMatchPosition(g,n,e,q.divIdx);!i||q.divIdx!==i.divIdx?(null!==i&&b(i.divIdx,i.offset,void 0),c(q)):b(i.divIdx,i.offset,q.offset);if(q.divIdx===s.divIdx)b(q.divIdx,q.offset,s.offset,"highlight"+u);else{b(q.divIdx,
q.offset,void 0,"highlight begin"+u);i=q.divIdx+1;for(q=s.divIdx;i<q;i++)e[i].className="highlight middle"+u;c(s,"highlight end"+u)}i=s}i&&b(i.divIdx,i.offset,void 0)}},updateMatches:function(){if(this.renderingDone){for(var a=this.matches,c=this.textDivs,b=this.textContent.items,d=-1,e=0,i=a.length;e<i;e++){for(var g=a[e],d=Math.max(d,g.begin.divIdx),j=g.end.divIdx;d<=j;d++){var k=c[d];k.textContent=b[d].str;k.className=""}d=g.end.divIdx+1}if(null!==this.findController&&this.findController.active){var n,
o;null!==this.findController&&(n=this.findController.pageMatches[this.pageIdx]||null,o=this.findController.pageMatchesLength?this.findController.pageMatchesLength[this.pageIdx]||null:null);this.matches=this.convertMatches(n,o);this.renderMatches(this.matches)}}},_bindMouse:function(){var a=this.textLayerDiv,c=this,b=null;a.addEventListener("mousedown",function(d){if(c.enhanceTextSelection&&c.textLayerRenderTask)c.textLayerRenderTask.expandTextDivs(!0),b&&(clearTimeout(b),b=null);else{var e=a.querySelector(".endOfContent");
if(e){var i=d.target!==a;if(i=i&&"none"!==window.getComputedStyle(e).getPropertyValue("-moz-user-select"))i=a.getBoundingClientRect(),d=Math.max(0,(d.pageY-i.top)/i.height),e.style.top=(100*d).toFixed(2)+"%";e.classList.add("active")}}});a.addEventListener("mouseup",function(){if(c.enhanceTextSelection&&c.textLayerRenderTask)b=setTimeout(function(){c.textLayerRenderTask&&c.textLayerRenderTask.expandTextDivs(!1);b=null},300);else{var d=a.querySelector(".endOfContent");d&&(d.style.top="",d.classList.remove("active"))}})}};
return c}();k.prototype={createTextLayerBuilder:function(c,a,b,d){return new i({textLayerDiv:c,pageIndex:a,viewport:b,enhanceTextSelection:d})}};e.TextLayerBuilder=i;e.DefaultTextLayerFactory=k},function(g,e){var d={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},k=function(){function e(){this.idleTimeout=this.highestPriorityPage=this.onIdle=this.pdfThumbnailViewer=this.pdfViewer=null;this.isThumbnailViewEnabled=this.printing=!1}e.prototype={setViewer:function(b){this.pdfViewer=b},setThumbnailViewer:function(b){this.pdfThumbnailViewer=
b},isHighestPriority:function(b){return this.highestPriorityPage===b.renderingId},renderHighestPriority:function(b){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null);if(!this.pdfViewer.forceRendering(b)&&(!this.pdfThumbnailViewer||!this.isThumbnailViewEnabled||!this.pdfThumbnailViewer.forceRendering())&&!this.printing&&this.onIdle)this.idleTimeout=setTimeout(this.onIdle.bind(this),3E4)},getHighestPriority:function(b,d,c){var a=b.views,e=a.length;if(0===e)return!1;for(var h=
0;h<e;++h){var f=a[h].view;if(!this.isViewFinished(f))return f}b=c?b.last.id:b.first.id-2;return d[b]&&!this.isViewFinished(d[b])?d[b]:null},isViewFinished:function(b){return b.renderingState===d.FINISHED},renderView:function(b){switch(b.renderingState){case d.FINISHED:return!1;case d.PAUSED:this.highestPriorityPage=b.renderingId;b.resume();break;case d.RUNNING:this.highestPriorityPage=b.renderingId;break;case d.INITIAL:this.highestPriorityPage=b.renderingId;var e=function(){this.renderHighestPriority()}.bind(this);
b.draw().then(e,e)}return!0}};return e}();e.RenderingStates=d;e.PDFRenderingQueue=k},function(g,e,d){function k(b,c){var a=document.createElement("a");a.click?(a.href=b,a.target="_parent","download"in a&&(a.download=c),(document.body||document.documentElement).appendChild(a),a.click(),a.parentNode.removeChild(a)):(window.top===window&&b.split("#")[0]===window.location.href.split("#")[0]&&(a=-1===b.indexOf("?")?"?":"&",b=b.replace(/#|$/,a+"$&")),window.open(b,"_parent"))}function j(){}var b=d(0);j.prototype=
{downloadUrl:function(d,c){b.createValidAbsoluteUrl(d,"http://example.com")&&k(d+"#pdfjs.action=download",c)},downloadData:function(d,c,a){if(navigator.msSaveBlob)return navigator.msSaveBlob(new Blob([d],{type:a}),c);d=b.createObjectURL(d,a,b.PDFJS.disableCreateObjectURL);k(d,c)},download:function(d,c,a){navigator.msSaveBlob?navigator.msSaveBlob(d,a)||this.downloadUrl(c,a):b.PDFJS.disableCreateObjectURL?this.downloadUrl(c,a):(d=URL.createObjectURL(d),k(d,a))}};e.DownloadManager=j},function(g,e,d){var k=
d(1).scrollIntoView,j={FIND_FOUND:0,FIND_NOTFOUND:1,FIND_WRAPPED:2,FIND_PENDING:3},b={"\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\u00bc":"1/4","\u00bd":"1/2","\u00be":"3/4"},g=function(){function d(c){this.pdfViewer=c.pdfViewer||null;this.onUpdateState=this.onUpdateResultsCount=null;this.reset();c=Object.keys(b).join("");this.normalizationRegex=RegExp("["+c+"]","g")}d.prototype={reset:function(){this.startedTextExtraction=!1;this.extractTextPromises=
[];this.pendingFindMatches=Object.create(null);this.active=!1;this.pageContents=[];this.pageMatches=[];this.pageMatchesLength=null;this.matchCount=0;this.selected={pageIdx:-1,matchIdx:-1};this.offset={pageIdx:null,matchIdx:null};this.state=this.resumePageIdx=this.pagesToSearch=null;this.dirtyMatch=!1;this.findTimeout=null;this.firstPagePromise=new Promise(function(c){this.resolveFirstPage=c}.bind(this))},normalize:function(c){return c.replace(this.normalizationRegex,function(a){return b[a]})},_prepareMatches:function(c,
a,b){function d(a,c){var b,f;b=a[c];f=a[c+1];if(c<a.length-1&&b.match===f.match)return b.skipped=!0;for(var e=c-1;0<=e;e--)if(f=a[e],!f.skipped){if(f.match+f.matchLength<b.match)break;if(f.match+f.matchLength>=b.match+b.matchLength)return b.skipped=!0}return!1}var f,e;c.sort(function(a,c){return a.match===c.match?a.matchLength-c.matchLength:a.match-c.match});f=0;for(e=c.length;f<e;f++)d(c,f)||(a.push(c[f].match),b.push(c[f].matchLength))},calcFindPhraseMatch:function(c,a,b){for(var d=[],f=c.length,
e=-f;;){e=b.indexOf(c,e+f);if(-1===e)break;d.push(e)}this.pageMatches[a]=d},calcFindWordMatch:function(c,a,b){for(var d=[],c=c.match(/\S+/g),f,e,g,i=0,j=c.length;i<j;i++){f=c[i];e=f.length;for(g=-e;;){g=b.indexOf(f,g+e);if(-1===g)break;d.push({match:g,matchLength:e,skipped:!1})}}this.pageMatchesLength||(this.pageMatchesLength=[]);this.pageMatchesLength[a]=[];this.pageMatches[a]=[];this._prepareMatches(d,this.pageMatches[a],this.pageMatchesLength[a])},calcFindMatch:function(c){var a=this.normalize(this.pageContents[c]),
b=this.normalize(this.state.query),d=this.state.caseSensitive,f=this.state.phraseSearch;if(0!==b.length&&(d||(a=a.toLowerCase(),b=b.toLowerCase()),f?this.calcFindPhraseMatch(b,c,a):this.calcFindWordMatch(b,c,a),this.updatePage(c),this.resumePageIdx===c&&(this.resumePageIdx=null,this.nextPageMatch()),0<this.pageMatches[c].length))this.matchCount+=this.pageMatches[c].length,this.updateUIResultsCount()},extractText:function(){function c(b){f.pdfViewer.getPageTextContent(b).then(function(d){for(var d=
d.items,e=[],g=0,h=d.length;g<h;g++)e.push(d[g].str);f.pageContents.push(e.join(""));a[b](b);b+1<f.pdfViewer.pagesCount&&c(b+1)})}if(!this.startedTextExtraction){this.startedTextExtraction=!0;this.pageContents=[];for(var a=[],b=this.pdfViewer.pagesCount,d=0;d<b;d++)this.extractTextPromises.push(new Promise(function(c){a.push(c)}));var f=this;c(0)}},executeCommand:function(c,a){if(null===this.state||"findagain"!==c)this.dirtyMatch=!0;this.state=a;this.updateUIState(j.FIND_PENDING);this.firstPagePromise.then(function(){this.extractText();
clearTimeout(this.findTimeout);"find"===c?this.findTimeout=setTimeout(this.nextMatch.bind(this),250):this.nextMatch()}.bind(this))},updatePage:function(c){this.selected.pageIdx===c&&(this.pdfViewer.currentPageNumber=c+1);c=this.pdfViewer.getPageView(c);c.textLayer&&c.textLayer.updateMatches()},nextMatch:function(){var c=this.state.findPrevious,a=this.pdfViewer.currentPageNumber-1,b=this.pdfViewer.pagesCount;this.active=!0;if(this.dirtyMatch){this.dirtyMatch=!1;this.selected.pageIdx=this.selected.matchIdx=
-1;this.offset.pageIdx=a;this.offset.matchIdx=null;this.hadMatch=!1;this.resumePageIdx=null;this.pageMatches=[];this.matchCount=0;this.pageMatchesLength=null;for(var d=this,a=0;a<b;a++)this.updatePage(a),a in this.pendingFindMatches||(this.pendingFindMatches[a]=!0,this.extractTextPromises[a].then(function(a){delete d.pendingFindMatches[a];d.calcFindMatch(a)}))}if(""===this.state.query)this.updateUIState(j.FIND_FOUND);else if(!this.resumePageIdx){a=this.offset;this.pagesToSearch=b;if(null!==a.matchIdx){b=
this.pageMatches[a.pageIdx].length;if(!c&&a.matchIdx+1<b||c&&0<a.matchIdx){this.hadMatch=!0;a.matchIdx=c?a.matchIdx-1:a.matchIdx+1;this.updateMatch(!0);return}this.advanceOffsetPage(c)}this.nextPageMatch()}},matchesReady:function(c){var a=this.offset,c=c.length,b=this.state.findPrevious;if(c)return this.hadMatch=!0,a.matchIdx=b?c-1:0,this.updateMatch(!0),!0;this.advanceOffsetPage(b);return a.wrapped&&(a.matchIdx=null,0>this.pagesToSearch)?(this.updateMatch(!1),!0):!1},updateMatchPosition:function(c,
a,b,d){this.selected.matchIdx===a&&this.selected.pageIdx===c&&k(b[d],{top:-50,left:-400},!0)},nextPageMatch:function(){null!==this.resumePageIdx&&console.error("There can only be one pending page.");do{var c=this.offset.pageIdx,a=this.pageMatches[c];if(!a){this.resumePageIdx=c;break}}while(!this.matchesReady(a))},advanceOffsetPage:function(c){var a=this.offset,b=this.extractTextPromises.length;a.pageIdx=c?a.pageIdx-1:a.pageIdx+1;a.matchIdx=null;this.pagesToSearch--;if(a.pageIdx>=b||0>a.pageIdx)a.pageIdx=
c?b-1:0,a.wrapped=!0},updateMatch:function(b){var a=j.FIND_NOTFOUND,d=this.offset.wrapped;this.offset.wrapped=!1;b&&(b=this.selected.pageIdx,this.selected.pageIdx=this.offset.pageIdx,this.selected.matchIdx=this.offset.matchIdx,a=d?j.FIND_WRAPPED:j.FIND_FOUND,-1!==b&&b!==this.selected.pageIdx&&this.updatePage(b));this.updateUIState(a,this.state.findPrevious);-1!==this.selected.pageIdx&&this.updatePage(this.selected.pageIdx)},updateUIResultsCount:function(){if(this.onUpdateResultsCount)this.onUpdateResultsCount(this.matchCount)},
updateUIState:function(b,a){if(this.onUpdateState)this.onUpdateState(b,a,this.matchCount)}};return d}();e.FindStates=j;e.PDFFindController=g},function(g,e,d){function k(b){this.linkService=b.linkService;this.eventBus=b.eventBus||j.getGlobalEventBus();this.initialized=!1;this.initialBookmark=this.initialDestination=null}var j=d(2);k.prototype={initialize:function(b){function d(){e.previousHash=window.location.hash.slice(1);e._pushToHistory({hash:e.previousHash},!1,!0);e._updatePreviousBookmark()}function c(a,
b){function c(){window.removeEventListener("popstate",c);window.addEventListener("popstate",d);e._pushToHistory(a,!1,!0);history.forward()}function d(){window.removeEventListener("popstate",d);e.allowHashChange=!0;e.historyUnlocked=!0;b()}e.historyUnlocked=!1;e.allowHashChange=!1;window.addEventListener("popstate",c);history.back()}function a(){var b=e._getPreviousParams(null,!0);b&&(e._pushToHistory(b,!1,!e.current.dest&&e.current.hash!==e.previousHash),e._updatePreviousBookmark());window.removeEventListener("beforeunload",
a)}this.initialized=!0;this.reInitialized=!1;this.historyUnlocked=this.allowHashChange=!0;this.isViewerInPresentationMode=!1;this.previousHash=window.location.hash.substring(1);this.currentBookmark="";this.currentPage=0;this.updatePreviousBookmark=!1;this.previousBookmark="";this.previousPage=0;this.nextHashParam="";this.fingerprint=b;this.currentUid=this.uid=0;this.current={};b=window.history.state;this._isStateObjectDefined(b)?(b.target.dest?this.initialDestination=b.target.dest:this.initialBookmark=
b.target.hash,this.currentUid=b.uid,this.uid=b.uid+1,this.current=b.target):(b&&(b.fingerprint&&this.fingerprint!==b.fingerprint)&&(this.reInitialized=!0),this._pushOrReplaceState({fingerprint:this.fingerprint},!0));var e=this;window.addEventListener("popstate",function(a){e.historyUnlocked&&(a.state?e._goTo(a.state):e.uid===0?c(e.previousHash&&e.currentBookmark&&e.previousHash!==e.currentBookmark?{hash:e.currentBookmark,page:e.currentPage}:{page:1},function(){d()}):d())});window.addEventListener("beforeunload",
a);window.addEventListener("pageshow",function(){window.addEventListener("beforeunload",a)});e.eventBus.on("presentationmodechanged",function(a){e.isViewerInPresentationMode=a.active})},clearHistoryState:function(){this._pushOrReplaceState(null,!0)},_isStateObjectDefined:function(b){return b&&0<=b.uid&&b.fingerprint&&this.fingerprint===b.fingerprint&&b.target&&b.target.hash?!0:!1},_pushOrReplaceState:function(b,d){d?window.history.replaceState(b,"",document.URL):window.history.pushState(b,"",document.URL)},
get isHashChangeUnlocked(){return!this.initialized?!0:this.allowHashChange},_updatePreviousBookmark:function(){this.updatePreviousBookmark&&(this.currentBookmark&&this.currentPage)&&(this.previousBookmark=this.currentBookmark,this.previousPage=this.currentPage,this.updatePreviousBookmark=!1)},updateCurrentBookmark:function(b,d){this.initialized&&(this.currentBookmark=b.substring(1),this.currentPage=d|0,this._updatePreviousBookmark())},updateNextHashParam:function(b){this.initialized&&(this.nextHashParam=
b)},push:function(b,d){if(this.initialized&&this.historyUnlocked)if(b.dest&&!b.hash&&(b.hash=this.current.hash&&this.current.dest&&this.current.dest===b.dest?this.current.hash:this.linkService.getDestinationHash(b.dest).split("#")[1]),b.page&&(b.page|=0),d){var c=window.history.state.target;c||(this._pushToHistory(b,!1),this.previousHash=window.location.hash.substring(1));this.updatePreviousBookmark=this.nextHashParam?!1:!0;c&&this._updatePreviousBookmark()}else{if(this.nextHashParam){if(this.nextHashParam===
b.hash){this.nextHashParam=null;this.updatePreviousBookmark=!0;return}this.nextHashParam=null}b.hash?this.current.hash?this.current.hash!==b.hash?this._pushToHistory(b,!0):(!this.current.page&&b.page&&this._pushToHistory(b,!1,!0),this.updatePreviousBookmark=!0):this._pushToHistory(b,!0):this.current.page&&(b.page&&this.current.page!==b.page)&&this._pushToHistory(b,!0)}},_getPreviousParams:function(b,d){if(!this.currentBookmark||!this.currentPage)return null;this.updatePreviousBookmark&&(this.updatePreviousBookmark=
!1);if(0<this.uid&&(!this.previousBookmark||!this.previousPage))return null;if(!this.current.dest&&!b||d){if(this.previousBookmark===this.currentBookmark)return null}else if(this.current.page||b){if(this.previousPage===this.currentPage)return null}else return null;var c={hash:this.currentBookmark,page:this.currentPage};this.isViewerInPresentationMode&&(c.hash=null);return c},_stateObj:function(b){return{fingerprint:this.fingerprint,uid:this.uid,target:b}},_pushToHistory:function(b,d,c){this.initialized&&
(!b.hash&&b.page&&(b.hash="page="+b.page),d&&!c&&(d=this._getPreviousParams())&&this._pushToHistory(d,!1,!this.current.dest&&this.current.hash!==this.previousHash),this._pushOrReplaceState(this._stateObj(b),c||0===this.uid),this.currentUid=this.uid++,this.current=b,this.updatePreviousBookmark=!0)},_goTo:function(b){if(this.initialized&&this.historyUnlocked&&this._isStateObjectDefined(b)){if(!this.reInitialized&&b.uid<this.currentUid){var d=this._getPreviousParams(!0);if(d){this._pushToHistory(this.current,
!1);this._pushToHistory(d,!1);this.currentUid=b.uid;window.history.back();return}}this.historyUnlocked=!1;b.target.dest?this.linkService.navigateTo(b.target.dest):this.linkService.setHash(b.target.hash);this.currentUid=b.uid;b.uid>this.uid&&(this.uid=b.uid);this.current=b.target;this.updatePreviousBookmark=!0;b=window.location.hash.substring(1);this.previousHash!==b&&(this.allowHashChange=!1);this.previousHash=b;this.historyUnlocked=!0}},back:function(){this.go(-1)},forward:function(){this.go(1)},
go:function(b){if(this.initialized&&this.historyUnlocked){var d=window.history.state;-1===b&&d&&0<d.uid?window.history.back():1===b&&(d&&d.uid<this.uid-1)&&window.history.forward()}}};e.PDFHistory=k},function(g,e,d){var g=d(1),k=d(5),j=d(7),b=d(6),i=d(4),c=d(3),a=d(2),l=d(0),h=g.UNKNOWN_SCALE,f=g.SCROLLBAR_PADDING,m=g.VERTICAL_PADDING,t=g.MAX_AUTO_SCALE,p=g.CSS_UNITS,z=g.DEFAULT_SCALE,A=g.DEFAULT_SCALE_VALUE,n=g.RendererType,o=g.scrollIntoView,s=g.watchScroll,q=g.getVisibleElements,u=k.PDFPageView,
y=j.RenderingStates,r=j.PDFRenderingQueue,w=b.TextLayerBuilder,v=i.AnnotationLayerBuilder,B=c.SimpleLinkService,x={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},d=function(){function b(a){var c=[];this.push=function(b){var d=c.indexOf(b);0<=d&&c.splice(d,1);c.push(b);c.length>a&&c.shift().destroy()};this.resize=function(b){for(a=b;c.length>a;)c.shift().destroy()}}function c(b){this.container=b.container;this.viewer=b.viewer||b.container.firstElementChild;this.eventBus=b.eventBus||a.getGlobalEventBus();
this.linkService=b.linkService||new B;this.downloadManager=b.downloadManager||null;this.removePageBorders=b.removePageBorders||!1;this.enhanceTextSelection=b.enhanceTextSelection||!1;this.renderInteractiveForms=b.renderInteractiveForms||!1;this.enablePrintAutoRotate=b.enablePrintAutoRotate||!1;this.renderer=b.renderer||n.CANVAS;(this.defaultRenderingQueue=!b.renderingQueue)?(this.renderingQueue=new r,this.renderingQueue.setViewer(this)):this.renderingQueue=b.renderingQueue;this.scroll=s(this.container,
this._scrollUpdate.bind(this));this.presentationModeState=x.UNKNOWN;this._resetView();this.removePageBorders&&this.viewer.classList.add("removePageBorders")}c.prototype={get pagesCount(){return this._pages.length},getPageView:function(a){return this._pages[a]},get pageViewsReady(){return this._pageViewsReady},get currentPageNumber(){return this._currentPageNumber},set currentPageNumber(a){if((a|0)!==a)throw Error("Invalid page number.");this.pdfDocument?this._setCurrentPageNumber(a,!0):this._currentPageNumber=
a},_setCurrentPageNumber:function(a,b){if(this._currentPageNumber===a)b&&this._resetCurrentPageView();else if(0<a&&a<=this.pagesCount){var c={source:this,pageNumber:a,pageLabel:this._pageLabels&&this._pageLabels[a-1]};this._currentPageNumber=a;this.eventBus.dispatch("pagechanging",c);this.eventBus.dispatch("pagechange",c);b&&this._resetCurrentPageView()}else console.error('PDFViewer_setCurrentPageNumber: "'+a+'" is out of bounds.')},get currentPageLabel(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-
1]},set currentPageLabel(a){var b=a|0;this._pageLabels&&(a=this._pageLabels.indexOf(a),0<=a&&(b=a+1));this.currentPageNumber=b},get currentScale(){return this._currentScale!==h?this._currentScale:z},set currentScale(a){if(isNaN(a))throw Error("Invalid numeric scale");this.pdfDocument?this._setScale(a,!1):(this._currentScale=a,this._currentScaleValue=a!==h?a.toString():null)},get currentScaleValue(){return this._currentScaleValue},set currentScaleValue(a){this.pdfDocument?this._setScale(a,!1):(this._currentScale=
isNaN(a)?h:a,this._currentScaleValue=a.toString())},get pagesRotation(){return this._pagesRotation},set pagesRotation(a){if(!("number"===typeof a&&0===a%90))throw Error("Invalid pages rotation angle.");this._pagesRotation=a;if(this.pdfDocument){for(var b=0,c=this._pages.length;b<c;b++){var d=this._pages[b];d.update(d.scale,a)}this._setScale(this._currentScaleValue,!0);this.defaultRenderingQueue&&this.update()}},setDocument:function(a){this.pdfDocument&&(this._cancelRendering(),this._resetView());
if(this.pdfDocument=a){var b=a.numPages,c=this,d,e=new Promise(function(a){d=a});this.pagesPromise=e;e.then(function(){c._pageViewsReady=true;c.eventBus.dispatch("pagesloaded",{source:c,pagesCount:b})});var f=!1,g=null,h=new Promise(function(a){g=a});this.onePageRendered=h;var j=function(a){a.onBeforeDraw=function(){c._buffer.push(this)};a.onAfterDraw=function(){if(!f){f=true;g()}}};this.firstPagePromise=e=a.getPage(1);return e.then(function(e){for(var f=this.currentScale,e=e.getViewport(f*p),g=1;g<=
b;++g){var i=null;l.PDFJS.disableTextLayer||(i=this);i=new u({container:this.viewer,eventBus:this.eventBus,id:g,scale:f,defaultViewport:e.clone(),renderingQueue:this.renderingQueue,textLayerFactory:i,annotationLayerFactory:this,enhanceTextSelection:this.enhanceTextSelection,renderInteractiveForms:this.renderInteractiveForms,renderer:this.renderer});j(i);this._pages.push(i)}var k=this.linkService;h.then(function(){if(l.PDFJS.disableAutoFetch)d();else for(var e=b,f=1;f<=b;++f)a.getPage(f).then(function(a,
b){var f=c._pages[a-1];f.pdfPage||f.setPdfPage(b);k.cachePageRef(a,b.ref);e--;e||d()}.bind(null,f))});c.eventBus.dispatch("pagesinit",{source:c});this.defaultRenderingQueue&&this.update();this.findController&&this.findController.resolveFirstPage()}.bind(this))}},setPageLabels:function(a){if(this.pdfDocument){a?a instanceof Array&&this.pdfDocument.numPages===a.length?this._pageLabels=a:(this._pageLabels=null,console.error("PDFViewer_setPageLabels: Invalid page labels.")):this._pageLabels=null;for(var a=
0,b=this._pages.length;a<b;a++)this._pages[a].setPageLabel(this._pageLabels&&this._pageLabels[a])}},_resetView:function(){this._pages=[];this._currentPageNumber=1;this._currentScale=h;this._pageLabels=this._currentScaleValue=null;this._buffer=new b(10);this._location=null;this._pagesRotation=0;this._pagesRequests=[];this._pageViewsReady=!1;this.viewer.textContent=""},_scrollUpdate:function(){if(0!==this.pagesCount){this.update();for(var a=0,b=this._pages.length;a<b;a++)this._pages[a].updatePosition()}},
_setScaleDispatchEvent:function(a,b,c){a={source:this,scale:a,presetValue:c?b:void 0};this.eventBus.dispatch("scalechanging",a);this.eventBus.dispatch("scalechange",a)},_setScaleUpdatePages:function(a,b,c,d){this._currentScaleValue=b.toString();var e;e=this._currentScale;e=a===e?!0:1.0E-15>Math.abs(a-e)?!0:!1;if(e)d&&this._setScaleDispatchEvent(a,b,!0);else{e=0;for(var f=this._pages.length;e<f;e++)this._pages[e].update(a);this._currentScale=a;if(!c){var c=this._currentPageNumber,g;this._location&&
(!l.PDFJS.ignoreCurrentPositionOnZoom&&!this.isInPresentationMode&&!this.isChangingPresentationMode)&&(c=this._location.pageNumber,g=[null,{name:"XYZ"},this._location.left,this._location.top,null]);this.scrollPageIntoView({pageNumber:c,destArray:g,allowNegativeOffset:!0})}this._setScaleDispatchEvent(a,b,d);this.defaultRenderingQueue&&this.update()}},_setScale:function(a,b){var c=parseFloat(a);if(0<c)this._setScaleUpdatePages(c,a,b,!1);else if(c=this._pages[this._currentPageNumber-1]){var d=(this.container.clientWidth-
(this.isInPresentationMode||this.removePageBorders?0:f))/c.width*c.scale,e=(this.container.clientHeight-(this.isInPresentationMode||this.removePageBorders?0:m))/c.height*c.scale;switch(a){case "page-actual":c=1;break;case "page-width":c=d;break;case "page-height":c=e;break;case "page-fit":c=Math.min(d,e);break;case "auto":c=c.width>c.height?Math.min(e,d):d;c=Math.min(t,c);break;default:console.error('PDFViewer_setScale: "'+a+'" is an unknown zoom value.');return}this._setScaleUpdatePages(c,a,b,!0)}},
_resetCurrentPageView:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0);o(this._pages[this._currentPageNumber-1].div)},scrollPageIntoView:function(a){if(this.pdfDocument){if(1<arguments.length||"number"===typeof a){console.warn("Call of scrollPageIntoView() with obsolete signature.");var b={};"number"===typeof a&&(b.pageNumber=a);arguments[1]instanceof Array&&(b.destArray=arguments[1]);a=b}var c=a.pageNumber||0,d=a.destArray||null,b=a.allowNegativeOffset||!1;if(this.isInPresentationMode||
!d)this._setCurrentPageNumber(c,!0);else if(c=this._pages[c-1]){var e=0,g=0,i=0,j=0,k,l;l=0===c.rotation%180?!1:!0;k=(l?c.height:c.width)/c.scale/p;l=(l?c.width:c.height)/c.scale/p;var n=0;switch(d[1].name){case "XYZ":e=d[2];g=d[3];n=d[4];e=null!==e?e:0;g=null!==g?g:l;break;case "Fit":case "FitB":n="page-fit";break;case "FitH":case "FitBH":g=d[2];n="page-width";null===g&&this._location&&(e=this._location.left,g=this._location.top);break;case "FitV":case "FitBV":e=d[2];i=k;j=l;n="page-height";break;
case "FitR":e=d[2];g=d[3];i=d[4]-e;j=d[5]-g;l=this.removePageBorders?0:m;k=(this.container.clientWidth-(this.removePageBorders?0:f))/i/p;l=(this.container.clientHeight-l)/j/p;n=Math.min(Math.abs(k),Math.abs(l));break;default:console.error("PDFViewer_scrollPageIntoView: '"+d[1].name+"' is not a valid destination type.");return}n&&n!==this._currentScale?this.currentScaleValue=n:this._currentScale===h&&(this.currentScaleValue=A);"page-fit"===n&&!d[4]?o(c.div):(e=[c.viewport.convertToViewportPoint(e,
g),c.viewport.convertToViewportPoint(e+i,g+j)],d=Math.min(e[0][0],e[1][0]),e=Math.min(e[0][1],e[1][1]),b||(d=Math.max(d,0),e=Math.max(e,0)),o(c.div,{left:d,top:e}))}else console.error('PDFViewer_scrollPageIntoView: Invalid "pageNumber" parameter.')}},_updateLocation:function(a){var b=this._currentScale,c=this._currentScaleValue,b=parseFloat(c)===b?Math.round(1E4*b)/100:c,c=a.id,d;d="#page="+c+("&zoom="+b);var e=this.container,e=this._pages[c-1].getPagePoint(e.scrollLeft-a.x,e.scrollTop-a.y),a=Math.round(e[0]),
e=Math.round(e[1]);this._location={pageNumber:c,scale:b,top:e,left:a,pdfOpenParams:d+(","+a+","+e)}},update:function(){var a=this._getVisiblePages(),b=a.views;if(0!==b.length){this._buffer.resize(Math.max(10,2*b.length+1));this.renderingQueue.renderHighestPriority(a);for(var c=this._currentPageNumber,a=a.first,d=0,e=b.length,f=!1;d<e;++d){var g=b[d];if(100>g.percent)break;if(g.id===c){f=!0;break}}f||(c=b[0].id);this.isInPresentationMode||this._setCurrentPageNumber(c);this._updateLocation(a);this.eventBus.dispatch("updateviewarea",
{source:this,location:this._location})}},containsElement:function(a){return this.container.contains(a)},focus:function(){this.container.focus()},get isInPresentationMode(){return this.presentationModeState===x.FULLSCREEN},get isChangingPresentationMode(){return this.presentationModeState===x.CHANGING},get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth},_getVisiblePages:function(){if(!this.isInPresentationMode)return q(this.container,
this._pages,!0);var a=[],b=this._pages[this._currentPageNumber-1];a.push({id:b.id,view:b});return{first:b,last:b,views:a}},cleanup:function(){for(var a=0,b=this._pages.length;a<b;a++)this._pages[a]&&this._pages[a].renderingState!==y.FINISHED&&this._pages[a].reset()},_cancelRendering:function(){for(var a=0,b=this._pages.length;a<b;a++)this._pages[a]&&this._pages[a].cancelRendering()},_ensurePdfPageLoaded:function(a){if(a.pdfPage)return Promise.resolve(a.pdfPage);var b=a.id;if(this._pagesRequests[b])return this._pagesRequests[b];
var c=this.pdfDocument.getPage(b).then(function(c){a.setPdfPage(c);this._pagesRequests[b]=null;return c}.bind(this));return this._pagesRequests[b]=c},forceRendering:function(a){var b=this.renderingQueue.getHighestPriority(a||this._getVisiblePages(),this._pages,this.scroll.down);return b?(this._ensurePdfPageLoaded(b).then(function(){this.renderingQueue.renderView(b)}.bind(this)),!0):!1},getPageTextContent:function(a){return this.pdfDocument.getPage(a+1).then(function(a){return a.getTextContent({normalizeWhitespace:!0})})},
createTextLayerBuilder:function(a,b,c,d){return new w({textLayerDiv:a,eventBus:this.eventBus,pageIndex:b,viewport:c,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:this.isInPresentationMode?!1:d})},createAnnotationLayerBuilder:function(a,b,c){return new v({pageDiv:a,pdfPage:b,renderInteractiveForms:c,linkService:this.linkService,downloadManager:this.downloadManager})},setFindController:function(a){this.findController=a},getPagesOverview:function(){var a=this._pages.map(function(a){a=
a.pdfPage.getViewport(1);return{width:a.width,height:a.height,rotation:a.rotation}});if(!this.enablePrintAutoRotate)return a;var b=a[0].width<=a[0].height;return a.map(function(a){return b===a.width<=a.height?a:{width:a.height,height:a.width,rotation:(a.rotation+90)%360}})}};return c}();e.PresentationModeState=x;e.PDFViewer=d},function(g,e,d){var k=d(0),g=d(11),j=d(5),b=d(3),i=d(6),c=d(4),a=d(10),l=d(9),h=d(1),d=d(8),k=k.PDFJS;k.PDFViewer=g.PDFViewer;k.PDFPageView=j.PDFPageView;k.PDFLinkService=b.PDFLinkService;
k.TextLayerBuilder=i.TextLayerBuilder;k.DefaultTextLayerFactory=i.DefaultTextLayerFactory;k.AnnotationLayerBuilder=c.AnnotationLayerBuilder;k.DefaultAnnotationLayerFactory=c.DefaultAnnotationLayerFactory;k.PDFHistory=a.PDFHistory;k.PDFFindController=l.PDFFindController;k.EventBus=h.EventBus;k.DownloadManager=d.DownloadManager;k.ProgressBar=h.ProgressBar;e.PDFJS=k}])});
