(function(m,a){"object"===typeof exports&&"object"===typeof module?module.exports=a():"function"===typeof define&&define.amd?define("pdfjs-dist/web/pdf_viewer",[],a):"object"===typeof exports?exports["pdfjs-dist/web/pdf_viewer"]=a():m["pdfjs-dist/web/pdf_viewer"]=m.pdfjsDistWebPdfViewer=a()})(this,function(){return function(m){function a(i){if(d[i])return d[i].exports;var h=d[i]={i:i,l:!1,exports:{}};m[i].call(h.exports,h,h.exports,a);h.l=!0;return h.exports}var d={};a.m=m;a.c=d;a.i=function(a){return a};
a.d=function(i,d,e){a.o(i,d)||Object.defineProperty(i,d,{configurable:!1,enumerable:!0,get:e})};a.n=function(d){var h=d&&d.__esModule?function(){return d["default"]}:function(){return d};a.d(h,"a",h);return h};a.o=function(a,d){return Object.prototype.hasOwnProperty.call(a,d)};a.p="";return a(a.s=12)}([function(m){var a;if("undefined"===typeof __pdfjsdev_webpack__)if("undefined"!==typeof window&&window["pdfjs-dist/build/pdf"])a=window["pdfjs-dist/build/pdf"];else if("function"===typeof require)a=
require("../build/pdf.js");else throw Error("Neither `require` nor `window` found");m.exports=a},function(m,a,d){function i(b,g){var c=0,f=b.length-1;if(0===b.length||!g(b[f]))return b.length;if(g(b[c]))return c;for(;c<f;){var j=c+f>>1;g(b[j])?f=j:c=j+1}return c}Object.defineProperty(a,"__esModule",{value:!0});a.localized=a.animationStarted=a.normalizeWheelEventDelta=a.binarySearchFirstItem=a.watchScroll=a.scrollIntoView=a.getOutputScale=a.approximateFraction=a.roundToDivide=a.getVisibleElements=
a.parseQueryString=a.noContextMenuHandler=a.getPDFFileNameFromURL=a.ProgressBar=a.EventBus=a.mozL10n=a.RendererType=a.cloneObj=a.VERTICAL_PADDING=a.SCROLLBAR_PADDING=a.MAX_AUTO_SCALE=a.UNKNOWN_SCALE=a.MAX_SCALE=a.MIN_SCALE=a.DEFAULT_SCALE=a.DEFAULT_SCALE_VALUE=a.CSS_UNITS=void 0;var d=d(0),m=96/72,h="undefined"!==typeof document?document.mozL10n||document.webL10n:void 0;d.PDFJS.disableFullscreen=void 0===d.PDFJS.disableFullscreen?!1:d.PDFJS.disableFullscreen;d.PDFJS.useOnlyCssZoom=void 0===d.PDFJS.useOnlyCssZoom?
!1:d.PDFJS.useOnlyCssZoom;d.PDFJS.maxCanvasPixels=void 0===d.PDFJS.maxCanvasPixels?16777216:d.PDFJS.maxCanvasPixels;d.PDFJS.disableHistory=void 0===d.PDFJS.disableHistory?!1:d.PDFJS.disableHistory;d.PDFJS.disableTextLayer=void 0===d.PDFJS.disableTextLayer?!1:d.PDFJS.disableTextLayer;d.PDFJS.ignoreCurrentPositionOnZoom=void 0===d.PDFJS.ignoreCurrentPositionOnZoom?!1:d.PDFJS.ignoreCurrentPositionOnZoom;d.PDFJS.locale=void 0===d.PDFJS.locale&&"undefined"!==typeof navigator?navigator.language:d.PDFJS.locale;
var d=new Promise(function(b){window.requestAnimationFrame(b)}),e=new Promise(function(b){h?"loading"!==h.getReadyState()?b():window.addEventListener("localized",function(){b()}):b()}),k=function(){function b(){this._listeners=Object.create(null)}b.prototype={on:function(b,c){var f=this._listeners[b];f||(f=[],this._listeners[b]=f);f.push(c)},off:function(b,c){var f=this._listeners[b],j;f&&!(0>(j=f.indexOf(c)))&&f.splice(j,1)},dispatch:function(b){var c=this._listeners[b];if(c&&0!==c.length){var f=
Array.prototype.slice.call(arguments,1);c.slice(0).forEach(function(b){b.apply(null,f)})}}};return b}(),p=function(){function b(b,c){this.visible=!0;this.div=document.querySelector(b+" .progress");this.bar=this.div.parentNode;this.height=c.height||100;this.width=c.width||100;this.units=c.units||"%";this.div.style.height=this.height+this.units;this.percent=0}b.prototype={updateBar:function(){this._indeterminate?(this.div.classList.add("indeterminate"),this.div.style.width=this.width+this.units):(this.div.classList.remove("indeterminate"),
this.div.style.width=this.width*this._percent/100+this.units)},get percent(){return this._percent},set percent(b){this._indeterminate=isNaN(b);this._percent=Math.min(Math.max(b,0),100);this.updateBar()},setWidth:function(b){b&&(b=b.parentNode.offsetWidth-b.offsetWidth,0<b&&this.bar.setAttribute("style","width: calc(100% - "+b+"px);"))},hide:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))},show:function(){this.visible||
(this.visible=!0,document.body.classList.add("loadingInProgress"),this.bar.classList.remove("hidden"))}};return b}();a.CSS_UNITS=m;a.DEFAULT_SCALE_VALUE="auto";a.DEFAULT_SCALE=1;a.MIN_SCALE=0.25;a.MAX_SCALE=10;a.UNKNOWN_SCALE=0;a.MAX_AUTO_SCALE=1.25;a.SCROLLBAR_PADDING=40;a.VERTICAL_PADDING=5;a.cloneObj=function(b){var g={},c;for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&(g[c]=b[c]);return g};a.RendererType={CANVAS:"canvas",SVG:"svg"};a.mozL10n=h;a.EventBus=k;a.ProgressBar=p;a.getPDFFileNameFromURL=
function(b){for(var g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"document.pdf",c=0,f=b.length;c<f&&""===b[c].trim();)c++;if("data:"===b.substr(c,5).toLowerCase())return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),g;c=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i;f=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(b);if(f=c.exec(f[1])||c.exec(f[2])||c.exec(f[3]))if(f=f[0],-1!==f.indexOf("%"))try{f=c.exec(decodeURIComponent(f))[0]}catch(j){}return f||
g};a.noContextMenuHandler=function(b){b.preventDefault()};a.parseQueryString=function(b){for(var b=b.split("&"),g={},c=0,f=b.length;c<f;++c){var j=b[c].split("="),a=j[0].toLowerCase(),j=1<j.length?j[1]:null;g[decodeURIComponent(a)]=decodeURIComponent(j)}return g};a.getVisibleElements=function(b,g,c){function f(b){b=b.div;return b.offsetTop+b.clientTop+b.clientHeight>j}for(var j=b.scrollTop,a=j+b.clientHeight,n=b.scrollLeft,l=n+b.clientWidth,b=[],o,k,e,p,d,h=0===g.length?0:i(g,f),m=g.length;h<m;h++){o=
g[h];k=o.div;e=k.offsetTop+k.clientTop;p=k.clientHeight;if(e>a)break;d=k.offsetLeft+k.clientLeft;k=k.clientWidth;d+k<n||d>l||(k=Math.max(0,j-e)+Math.max(0,e+p-a),p=100*(p-k)/p|0,b.push({id:o.id,x:d,y:e,view:o,percent:p}))}g=b[0];a=b[b.length-1];c&&b.sort(function(b,c){var g=b.percent-c.percent;return 0.001<Math.abs(g)?-g:b.id-c.id});return{first:g,last:a,views:b}};a.roundToDivide=function(b,g){var c=b%g;return 0===c?b:Math.round(b-c+g)};a.approximateFraction=function(b){if(Math.floor(b)===b)return[b,
1];var g=1/b;if(8<g)return[1,8];if(Math.floor(g)===g)return[1,g];for(var g=1<b?g:b,c=0,f=1,j=1,a=1;;){var n=c+j,l=f+a;if(8<l)break;g<=n/l?(j=n,a=l):(c=n,f=l)}return g-c/f<j/a-g?g===b?[c,f]:[f,c]:g===b?[j,a]:[a,j]};a.getOutputScale=function(b){b=(window.devicePixelRatio||1)/(b.webkitBackingStorePixelRatio||b.mozBackingStorePixelRatio||b.msBackingStorePixelRatio||b.oBackingStorePixelRatio||b.backingStorePixelRatio||1);return{sx:b,sy:b,scaled:1!==b}};a.scrollIntoView=function(b,g,c){var f=b.offsetParent;
if(f){for(var c=c||!1,j=b.offsetTop+b.clientTop,b=b.offsetLeft+b.clientLeft;f.clientHeight===f.scrollHeight||c&&"hidden"===getComputedStyle(f).overflow;)if(f.dataset._scaleY&&(j/=f.dataset._scaleY,b/=f.dataset._scaleX),j+=f.offsetTop,b+=f.offsetLeft,f=f.offsetParent,!f)return;g&&(void 0!==g.top&&(j+=g.top),void 0!==g.left&&(b+=g.left,f.scrollLeft=b));f.scrollTop=j}else console.error("offsetParent is not set -- cannot scroll")};a.watchScroll=function(b,g){var c=function(){j||(j=window.requestAnimationFrame(function(){j=
null;var c=b.scrollTop,n=f.lastY;c!==n&&(f.down=c>n);f.lastY=c;g(f)}))},f={down:!0,lastY:b.scrollTop,_eventHandler:c},j=null;b.addEventListener("scroll",c,!0);return f};a.binarySearchFirstItem=i;a.normalizeWheelEventDelta=function(b){var g=Math.sqrt(b.deltaX*b.deltaX+b.deltaY*b.deltaY),c=Math.atan2(b.deltaY,b.deltaX);-0.25*Math.PI<c&&c<0.75*Math.PI&&(g=-g);0===b.deltaMode?g/=900:1===b.deltaMode&&(g/=30);return g};a.animationStarted=d;a.localized=e},function(m,a,d){function i(a){a.on("documentload",
function(){var a=document.createEvent("CustomEvent");a.initCustomEvent("documentload",!0,!0,{});window.dispatchEvent(a)});a.on("pagerendered",function(a){var b=document.createEvent("CustomEvent");b.initCustomEvent("pagerendered",!0,!0,{pageNumber:a.pageNumber,cssTransform:a.cssTransform});a.source.div.dispatchEvent(b)});a.on("textlayerrendered",function(a){var b=document.createEvent("CustomEvent");b.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:a.pageNumber});a.source.textLayerDiv.dispatchEvent(b)});
a.on("pagechange",function(a){var b=document.createEvent("UIEvents");b.initUIEvent("pagechange",!0,!0,window,0);b.pageNumber=a.pageNumber;a.source.container.dispatchEvent(b)});a.on("pagesinit",function(a){var b=document.createEvent("CustomEvent");b.initCustomEvent("pagesinit",!0,!0,null);a.source.container.dispatchEvent(b)});a.on("pagesloaded",function(a){var b=document.createEvent("CustomEvent");b.initCustomEvent("pagesloaded",!0,!0,{pagesCount:a.pagesCount});a.source.container.dispatchEvent(b)});
a.on("scalechange",function(a){var b=document.createEvent("UIEvents");b.initUIEvent("scalechange",!0,!0,window,0);b.scale=a.scale;b.presetValue=a.presetValue;a.source.container.dispatchEvent(b)});a.on("updateviewarea",function(a){var b=document.createEvent("UIEvents");b.initUIEvent("updateviewarea",!0,!0,window,0);b.location=a.location;a.source.container.dispatchEvent(b)});a.on("find",function(a){if(a.source!==window){var b=document.createEvent("CustomEvent");b.initCustomEvent("find"+a.type,!0,!0,
{query:a.query,phraseSearch:a.phraseSearch,caseSensitive:a.caseSensitive,highlightAll:a.highlightAll,findPrevious:a.findPrevious});window.dispatchEvent(b)}});a.on("attachmentsloaded",function(a){var b=document.createEvent("CustomEvent");b.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:a.attachmentsCount});a.source.container.dispatchEvent(b)});a.on("sidebarviewchanged",function(a){var b=document.createEvent("CustomEvent");b.initCustomEvent("sidebarviewchanged",!0,!0,{view:a.view});a.source.outerContainer.dispatchEvent(b)});
a.on("pagemode",function(a){var b=document.createEvent("CustomEvent");b.initCustomEvent("pagemode",!0,!0,{mode:a.mode});a.source.pdfViewer.container.dispatchEvent(b)});a.on("namedaction",function(a){var b=document.createEvent("CustomEvent");b.initCustomEvent("namedaction",!0,!0,{action:a.action});a.source.pdfViewer.container.dispatchEvent(b)});a.on("presentationmodechanged",function(a){var b=document.createEvent("CustomEvent");b.initCustomEvent("presentationmodechanged",!0,!0,{active:a.active,switchInProgress:a.switchInProgress});
window.dispatchEvent(b)});a.on("outlineloaded",function(a){var b=document.createEvent("CustomEvent");b.initCustomEvent("outlineloaded",!0,!0,{outlineCount:a.outlineCount});a.source.container.dispatchEvent(b)})}Object.defineProperty(a,"__esModule",{value:!0});a.getGlobalEventBus=a.attachDOMEventsToEventBus=void 0;var h=d(1),e=null;a.attachDOMEventsToEventBus=i;a.getGlobalEventBus=function(){if(e)return e;e=new h.EventBus;i(e);return e}},function(m,a,d){Object.defineProperty(a,"__esModule",{value:!0});
a.SimpleLinkService=a.PDFLinkService=void 0;var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=d(2),e=d(1),m=function(){function a(b){b=b||{};this.eventBus=b.eventBus||(0,h.getGlobalEventBus)();this._pagesRefCache=this.pdfHistory=this.pdfViewer=this.pdfDocument=this.baseUrl=null}function d(b){if(!(b instanceof Array))return!1;var g=b.length,
c=!0;if(2>g)return!1;var a=b[0];if(!("object"===("undefined"===typeof a?"undefined":i(a))&&"number"===typeof a.num&&(a.num|0)===a.num&&"number"===typeof a.gen&&(a.gen|0)===a.gen)&&!("number"===typeof a&&(a|0)===a&&0<=a))return!1;a=b[1];if(!("object"===("undefined"===typeof a?"undefined":i(a))&&"string"===typeof a.name))return!1;switch(a.name){case "XYZ":if(5!==g)return!1;break;case "Fit":case "FitB":return 2===g;case "FitH":case "FitBH":case "FitV":case "FitBV":if(3!==g)return!1;break;case "FitR":if(6!==
g)return!1;c=!1;break;default:return!1}for(a=2;a<g;a++){var j=b[a];if(!("number"===typeof j||c&&null===j))return!1}return!0}a.prototype={setDocument:function(b,a){this.baseUrl=a;this.pdfDocument=b;this._pagesRefCache=Object.create(null)},setViewer:function(b){this.pdfViewer=b},setHistory:function(b){this.pdfHistory=b},get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0},get page(){return this.pdfViewer.currentPageNumber},set page(b){this.pdfViewer.currentPageNumber=b},navigateTo:function(b){var a=
this,c=function j(c){var n=c.namedDest,l=c.explicitDest,o=l[0],c=void 0;if(o instanceof Object){if(c=a._cachedPageNumber(o),null===c){a.pdfDocument.getPageIndex(o).then(function(b){a.cachePageRef(b+1,o);j({namedDest:n,explicitDest:l})}).catch(function(){console.error('PDFLinkService.navigateTo: "'+o+'" is not '+('a valid page reference, for dest="'+b+'".'))});return}}else if((o|0)===o)c=o+1;else{console.error('PDFLinkService.navigateTo: "'+o+'" is not '+('a valid destination reference, for dest="'+
b+'".'));return}!c||1>c||c>a.pagesCount?console.error('PDFLinkService.navigateTo: "'+c+'" is not '+('a valid page number, for dest="'+b+'".')):(a.pdfViewer.scrollPageIntoView({pageNumber:c,destArray:l}),a.pdfHistory&&a.pdfHistory.push({dest:l,hash:n,page:c}))};(new Promise(function(c){"string"===typeof b?a.pdfDocument.getDestination(b).then(function(a){c({namedDest:b,explicitDest:a})}):c({namedDest:"",explicitDest:b})})).then(function(a){a.explicitDest instanceof Array?c(a):console.error('PDFLinkService.navigateTo: "'+
a.explicitDest+'" is'+(' not a valid destination array, for dest="'+b+'".'))})},getDestinationHash:function(b){return"string"===typeof b?this.getAnchorUrl("#"+escape(b)):b instanceof Array?(b=JSON.stringify(b),this.getAnchorUrl("#"+escape(b))):this.getAnchorUrl("")},getAnchorUrl:function(b){return(this.baseUrl||"")+b},setHash:function(b){var a,c;if(0<=b.indexOf("="))if(b=(0,e.parseQueryString)(b),"search"in b&&this.eventBus.dispatch("findfromurlhash",{source:this,query:b.search.replace(/"/g,""),phraseSearch:"true"===
b.phrase}),"nameddest"in b)this.pdfHistory&&this.pdfHistory.updateNextHashParam(b.nameddest),this.navigateTo(b.nameddest);else{"page"in b&&(a=b.page|0||1);if("zoom"in b){var f=b.zoom.split(","),j=f[0],k=parseFloat(j);-1===j.indexOf("Fit")?c=[null,{name:"XYZ"},1<f.length?f[1]|0:null,2<f.length?f[2]|0:null,k?k/100:j]:"Fit"===j||"FitB"===j?c=[null,{name:j}]:"FitH"===j||"FitBH"===j||"FitV"===j||"FitBV"===j?c=[null,{name:j},1<f.length?f[1]|0:null]:"FitR"===j?5!==f.length?console.error("PDFLinkService_setHash: Not enough parameters for 'FitR'."):
c=[null,{name:j},f[1]|0,f[2]|0,f[3]|0,f[4]|0]:console.error("PDFLinkService_setHash: '"+j+"' is not a valid zoom value.")}c?this.pdfViewer.scrollPageIntoView({pageNumber:a||this.page,destArray:c,allowNegativeOffset:!0}):a&&(this.page=a);"pagemode"in b&&this.eventBus.dispatch("pagemode",{source:this,mode:b.pagemode})}else{/^\d+$/.test(b)&&b<=this.pagesCount&&(console.warn('PDFLinkService_setHash: specifying a page number directly after the hash symbol (#) is deprecated, please use the "#page='+b+'" form instead.'),
this.page=b|0);c=unescape(b);try{c=JSON.parse(c),c instanceof Array||(c=c.toString())}catch(n){}"string"===typeof c||d(c)?(this.pdfHistory&&this.pdfHistory.updateNextHashParam(c),this.navigateTo(c)):console.error("PDFLinkService_setHash: '"+unescape(b)+"' is not a valid destination.")}},executeNamedAction:function(b){switch(b){case "GoBack":this.pdfHistory&&this.pdfHistory.back();break;case "GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case "NextPage":this.page<this.pagesCount&&this.page++;
break;case "PrevPage":1<this.page&&this.page--;break;case "LastPage":this.page=this.pagesCount;break;case "FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:b})},onFileAttachmentAnnotation:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.eventBus.dispatch("fileattachmentannotation",{source:this,id:b.id,filename:b.filename,content:b.content})},cachePageRef:function(b,a){this._pagesRefCache[a.num+" "+a.gen+" R"]=b},_cachedPageNumber:function(b){b=
b.num+" "+b.gen+" R";return this._pagesRefCache&&this._pagesRefCache[b]||null}};return a}(),d=function(){function a(){}a.prototype={get page(){return 0},set page(a){},navigateTo:function(){},getDestinationHash:function(){return"#"},getAnchorUrl:function(){return"#"},setHash:function(){},executeNamedAction:function(){},onFileAttachmentAnnotation:function(){},cachePageRef:function(){}};return a}();a.PDFLinkService=m;a.SimpleLinkService=d},function(m,a,d){function i(b,a){if(!(b instanceof a))throw new TypeError("Cannot call a class as a function");
}Object.defineProperty(a,"__esModule",{value:!0});a.DefaultAnnotationLayerFactory=a.AnnotationLayerBuilder=void 0;var h=function(){function b(a,g){for(var j=0;j<g.length;j++){var e=g[j];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(a,f,j){f&&b(a.prototype,f);j&&b(a,j);return a}}(),e=d(0),k=d(1),p=d(3),b=function(){function b(a){i(this,b);this.pageDiv=a.pageDiv;this.pdfPage=a.pdfPage;this.renderInteractiveForms=a.renderInteractiveForms;
this.linkService=a.linkService;this.downloadManager=a.downloadManager;this.div=null}h(b,[{key:"render",value:function(b){var a=this;this.pdfPage.getAnnotations({intent:1<arguments.length&&void 0!==arguments[1]?arguments[1]:"display"}).then(function(g){var d={viewport:b.clone({dontFlip:!0}),div:a.div,annotations:g,page:a.pdfPage,renderInteractiveForms:a.renderInteractiveForms,linkService:a.linkService,downloadManager:a.downloadManager};a.div?e.AnnotationLayer.update(d):0!==g.length&&(a.div=document.createElement("div"),
a.div.className="annotationLayer",a.pageDiv.appendChild(a.div),d.div=a.div,e.AnnotationLayer.render(d),"undefined"!==typeof k.mozL10n&&k.mozL10n.translate(a.div))})}},{key:"hide",value:function(){this.div&&this.div.setAttribute("hidden","true")}}]);return b}(),m=function(){function a(){i(this,a)}h(a,[{key:"createAnnotationLayerBuilder",value:function(a,g){return new b({pageDiv:a,pdfPage:g,renderInteractiveForms:2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,linkService:new p.SimpleLinkService})}}]);
return a}();a.AnnotationLayerBuilder=b;a.DefaultAnnotationLayerFactory=m},function(m,a,d){Object.defineProperty(a,"__esModule",{value:!0});a.PDFPageView=void 0;var i=d(1),h=d(0),e=d(2),k=d(7),m=function(){function a(b){var g=b.container,c=b.id,f=b.scale,j=b.defaultViewport,d=b.renderingQueue,n=b.textLayerFactory,l=b.annotationLayerFactory,o=b.enhanceTextSelection||!1,r=b.renderInteractiveForms||!1;this.id=c;this.renderingId="page"+c;this.pageLabel=null;this.rotation=0;this.scale=f||i.DEFAULT_SCALE;
this.viewport=j;this.pdfPageRotate=j.rotation;this.hasRestrictedScaling=!1;this.enhanceTextSelection=o;this.renderInteractiveForms=r;this.eventBus=b.eventBus||(0,e.getGlobalEventBus)();this.renderingQueue=d;this.textLayerFactory=n;this.annotationLayerFactory=l;this.renderer=b.renderer||i.RendererType.CANVAS;this.paintTask=null;this.paintedViewportMap=new WeakMap;this.renderingState=k.RenderingStates.INITIAL;this.annotationLayer=this.zoomLayer=this.textLayer=this.onAfterDraw=this.onBeforeDraw=this.error=
this.resume=null;b=document.createElement("div");b.className="page";b.style.width=Math.floor(this.viewport.width)+"px";b.style.height=Math.floor(this.viewport.height)+"px";b.setAttribute("data-page-number",this.id);this.div=b;g.appendChild(b)}a.prototype={setPdfPage:function(b){this.pdfPage=b;this.pdfPageRotate=b.rotate;this.viewport=b.getViewport(this.scale*i.CSS_UNITS,(this.rotation+this.pdfPageRotate)%360);this.stats=b.stats;this.reset()},destroy:function(){this.reset();this.pdfPage&&this.pdfPage.cleanup()},
_resetZoomLayer:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;if(this.zoomLayer){var a=this.zoomLayer.firstChild;this.paintedViewportMap.delete(a);a.width=0;a.height=0;b&&this.zoomLayer.remove();this.zoomLayer=null}},reset:function(b,a){this.cancelRendering();var c=this.div;c.style.width=Math.floor(this.viewport.width)+"px";c.style.height=Math.floor(this.viewport.height)+"px";for(var f=c.childNodes,j=b&&this.zoomLayer||null,e=a&&this.annotationLayer&&this.annotationLayer.div||
null,n=f.length-1;0<=n;n--){var l=f[n];j===l||e===l||c.removeChild(l)}c.removeAttribute("data-loaded");e?this.annotationLayer.hide():this.annotationLayer=null;j||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer());this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg);this.loadingIconDiv=document.createElement("div");this.loadingIconDiv.className="loadingIcon";c.appendChild(this.loadingIconDiv)},
update:function(b,a){this.scale=b||this.scale;"undefined"!==typeof a&&(this.rotation=a);this.viewport=this.viewport.clone({scale:this.scale*i.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360});if(this.svg)this.cssTransform(this.svg,!0),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});else{var c=!1;if(this.canvas&&0<h.PDFJS.maxCanvasPixels){var f=this.outputScale;(Math.floor(this.viewport.width)*f.sx|0)*(Math.floor(this.viewport.height)*f.sy|0)>h.PDFJS.maxCanvasPixels&&
(c=!0)}if(this.canvas){if(h.PDFJS.useOnlyCssZoom||this.hasRestrictedScaling&&c){this.cssTransform(this.canvas,!0);this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});return}this.zoomLayer||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild);this.reset(!0,!0)}},cancelRendering:function(){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null);this.renderingState=k.RenderingStates.INITIAL;
this.resume=null;this.textLayer&&(this.textLayer.cancel(),this.textLayer=null)},updatePosition:function(){this.textLayer&&this.textLayer.render(200)},cssTransform:function(b,a){var c=this.viewport.width,f=this.viewport.height,j=this.div;b.style.width=b.parentNode.style.width=j.style.width=Math.floor(c)+"px";b.style.height=b.parentNode.style.height=j.style.height=Math.floor(f)+"px";var j=this.viewport.rotation-this.paintedViewportMap.get(b).rotation,e=Math.abs(j),n=1,l=1;if(90===e||270===e)n=f/c,l=
c/f;h.CustomStyle.setProp("transform",b,"rotate("+j+"deg) scale("+n+","+l+")");if(this.textLayer){e=this.textLayer.viewport;f=Math.abs(this.viewport.rotation-e.rotation);j=c/e.width;if(90===f||270===f)j=c/e.height;var c=this.textLayer.textLayerDiv,o,k;switch(f){case 0:o=k=0;break;case 90:o=0;k="-"+c.style.height;break;case 180:o="-"+c.style.width;k="-"+c.style.height;break;case 270:o="-"+c.style.width;k=0;break;default:console.error("Bad rotation value.")}h.CustomStyle.setProp("transform",c,"rotate("+
f+"deg) scale("+j+", "+j+") translate("+o+", "+k+")");h.CustomStyle.setProp("transformOrigin",c,"0% 0%")}a&&this.annotationLayer&&this.annotationLayer.render(this.viewport,"display")},get width(){return this.viewport.width},get height(){return this.viewport.height},getPagePoint:function(b,a){return this.viewport.convertToPdfPoint(b,a)},draw:function(){var b=this;this.renderingState!==k.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());this.renderingState=
k.RenderingStates.RUNNING;var a=this.pdfPage,c=this.div,f=document.createElement("div");f.style.width=c.style.width;f.style.height=c.style.height;f.classList.add("canvasWrapper");this.annotationLayer&&this.annotationLayer.div?c.insertBefore(f,this.annotationLayer.div):c.appendChild(f);var j=null;if(this.textLayerFactory){var e=document.createElement("div");e.className="textLayer";e.style.width=f.style.width;e.style.height=f.style.height;this.annotationLayer&&this.annotationLayer.div?c.insertBefore(e,
this.annotationLayer.div):c.appendChild(e);j=this.textLayerFactory.createTextLayerBuilder(e,this.id-1,this.viewport,this.enhanceTextSelection)}this.textLayer=j;e=null;this.renderingQueue&&(e=function(a){if(b.renderingQueue.isHighestPriority(b))a();else{b.renderingState=k.RenderingStates.PAUSED;b.resume=function(){b.renderingState=k.RenderingStates.RUNNING;a()}}});var n=function(n){if(l===b.paintTask)b.paintTask=null;if(n==="cancelled"||n instanceof h.RenderingCancelledException){b.error=null;return Promise.resolve(void 0)}b.renderingState=
k.RenderingStates.FINISHED;if(b.loadingIconDiv){c.removeChild(b.loadingIconDiv);delete b.loadingIconDiv}b._resetZoomLayer(true);b.error=n;b.stats=a.stats;if(b.onAfterDraw)b.onAfterDraw();b.eventBus.dispatch("pagerendered",{source:b,pageNumber:b.id,cssTransform:false});return n?Promise.reject(n):Promise.resolve(void 0)},l=this.renderer===i.RendererType.SVG?this.paintOnSvg(f):this.paintOnCanvas(f);l.onRenderContinue=e;this.paintTask=l;f=l.promise.then(function(){return n(null).then(function(){j&&a.getTextContent({normalizeWhitespace:true}).then(function(b){j.setTextContent(b);
j.render(200)})})},function(b){return n(b)});this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(c,a,this.renderInteractiveForms)),this.annotationLayer.render(this.viewport,"display"));c.setAttribute("data-loaded",!0);if(this.onBeforeDraw)this.onBeforeDraw();return f},paintOnCanvas:function(b){var a=(0,h.createPromiseCapability)(),c={promise:a.promise,onRenderContinue:function(b){b()},cancel:function(){q.cancel()}},f=this.viewport,
e=document.createElement("canvas");e.id="page"+this.id;e.setAttribute("hidden","hidden");var k=!0,n=function(){k&&(e.removeAttribute("hidden"),k=!1)};b.appendChild(e);this.canvas=e;e.mozOpaque=!0;var b=e.getContext("2d",{alpha:!1}),l=(0,i.getOutputScale)(b);this.outputScale=l;if(h.PDFJS.useOnlyCssZoom){var o=f.clone({scale:i.CSS_UNITS});l.sx*=o.width/f.width;l.sy*=o.height/f.height;l.scaled=!0}0<h.PDFJS.maxCanvasPixels&&(o=Math.sqrt(h.PDFJS.maxCanvasPixels/(f.width*f.height)),l.sx>o||l.sy>o?(l.sx=
o,l.sy=o,this.hasRestrictedScaling=l.scaled=!0):this.hasRestrictedScaling=!1);var o=(0,i.approximateFraction)(l.sx),d=(0,i.approximateFraction)(l.sy);e.width=(0,i.roundToDivide)(f.width*l.sx,o[0]);e.height=(0,i.roundToDivide)(f.height*l.sy,d[0]);e.style.width=(0,i.roundToDivide)(f.width,o[1])+"px";e.style.height=(0,i.roundToDivide)(f.height,d[1])+"px";this.paintedViewportMap.set(e,f);var q=this.pdfPage.render({canvasContext:b,transform:!l.scaled?null:[l.sx,0,0,l.sy,0,0],viewport:this.viewport,renderInteractiveForms:this.renderInteractiveForms});
q.onContinue=function(b){n();if(c.onRenderContinue)c.onRenderContinue(b);else b()};q.promise.then(function(){n();a.resolve(void 0)},function(b){n();a.reject(b)});return c},paintOnSvg:function(b){var a=this,c=!1,f=function(){if(c){if(h.PDFJS.pdfjsNext)throw new h.RenderingCancelledException("Rendering cancelled, page "+a.id,"svg");throw"cancelled";}},e=this.pdfPage,d=this.viewport.clone({scale:i.CSS_UNITS});return{promise:e.getOperatorList().then(function(c){f();return(new h.SVGGraphics(e.commonObjs,
e.objs)).getSVG(c,d).then(function(c){f();a.svg=c;a.paintedViewportMap.set(c,d);c.style.width=b.style.width;c.style.height=b.style.height;a.renderingState=k.RenderingStates.FINISHED;b.appendChild(c)})}),onRenderContinue:function(b){b()},cancel:function(){c=!0}}},setPageLabel:function(b){this.pageLabel="string"===typeof b?b:null;null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}};return a}();a.PDFPageView=m},function(m,a,d){function i(){}
Object.defineProperty(a,"__esModule",{value:!0});a.DefaultTextLayerFactory=a.TextLayerBuilder=void 0;var h=d(2),e=d(0),k=function(){function a(b){this.textLayerDiv=b.textLayerDiv;this.eventBus=b.eventBus||(0,h.getGlobalEventBus)();this.textContent=null;this.renderingDone=!1;this.pageIdx=b.pageIndex;this.pageNumber=this.pageIdx+1;this.matches=[];this.viewport=b.viewport;this.textDivs=[];this.findController=b.findController||null;this.textLayerRenderTask=null;this.enhanceTextSelection=b.enhanceTextSelection;
this._bindMouse()}a.prototype={_finishRendering:function(){this.renderingDone=!0;if(!this.enhanceTextSelection){var b=document.createElement("div");b.className="endOfContent";this.textLayerDiv.appendChild(b)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})},render:function(b){var a=this;if(this.textContent&&!this.renderingDone){this.cancel();this.textDivs=[];var c=document.createDocumentFragment();this.textLayerRenderTask=(0,e.renderTextLayer)({textContent:this.textContent,
container:c,viewport:this.viewport,textDivs:this.textDivs,timeout:b,enhanceTextSelection:this.enhanceTextSelection});this.textLayerRenderTask.promise.then(function(){a.textLayerDiv.appendChild(c);a._finishRendering();a.updateMatches()},function(){})}},cancel:function(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null)},setTextContent:function(b){this.cancel();this.textContent=b},convertMatches:function(b,a){var c=0,f=0,e=this.textContent.items,k=e.length-
1,n=null===this.findController?0:this.findController.state.query.length,l=[];if(!b)return l;for(var o=0,d=b.length;o<d;o++){for(var i=b[o];c!==k&&i>=f+e[c].str.length;)f+=e[c].str.length,c++;c===e.length&&console.error("Could not find a matching mapping");for(var h={begin:{divIdx:c,offset:i-f}},i=a?i+a[o]:i+n;c!==k&&i>f+e[c].str.length;)f+=e[c].str.length,c++;h.end={divIdx:c,offset:i-f};l.push(h)}return l},renderMatches:function(b){function a(b,n){var e=b.divIdx;j[e].textContent="";c(e,0,b.offset,
n)}function c(b,a,c,n){var g=j[b],b=e[b].str.substring(a,c),b=document.createTextNode(b);n?(a=document.createElement("span"),a.className=n,a.appendChild(b),g.appendChild(a)):g.appendChild(b)}if(0!==b.length){var e=this.textContent.items,j=this.textDivs,k=null,n=this.pageIdx,l=null===this.findController?!1:n===this.findController.selected.pageIdx,o=null===this.findController?-1:this.findController.selected.matchIdx,d=o,i=d+1;if(null===this.findController?0:this.findController.state.highlightAll)d=
0,i=b.length;else if(!l)return;for(;d<i;d++){var h=b[d],p=h.begin,h=h.end,m=l&&d===o?" selected":"";this.findController&&this.findController.updateMatchPosition(n,d,j,p.divIdx);!k||p.divIdx!==k.divIdx?(null!==k&&c(k.divIdx,k.offset,void 0),a(p)):c(k.divIdx,k.offset,p.offset);if(p.divIdx===h.divIdx)c(p.divIdx,p.offset,h.offset,"highlight"+m);else{c(p.divIdx,p.offset,void 0,"highlight begin"+m);k=p.divIdx+1;for(p=h.divIdx;k<p;k++)j[k].className="highlight middle"+m;a(h,"highlight end"+m)}k=h}k&&c(k.divIdx,
k.offset,void 0)}},updateMatches:function(){if(this.renderingDone){for(var b=this.matches,a=this.textDivs,c=this.textContent.items,e=-1,k=0,d=b.length;k<d;k++){for(var n=b[k],e=Math.max(e,n.begin.divIdx),l=n.end.divIdx;e<=l;e++){var o=a[e];o.textContent=c[e].str;o.className=""}e=n.end.divIdx+1}if(null!==this.findController&&this.findController.active){var h,i;null!==this.findController&&(h=this.findController.pageMatches[this.pageIdx]||null,i=this.findController.pageMatchesLength?this.findController.pageMatchesLength[this.pageIdx]||
null:null);this.matches=this.convertMatches(h,i);this.renderMatches(this.matches)}}},_bindMouse:function(){var b=this.textLayerDiv,a=this,c=null;b.addEventListener("mousedown",function(e){if(a.enhanceTextSelection&&a.textLayerRenderTask)a.textLayerRenderTask.expandTextDivs(!0),c&&(clearTimeout(c),c=null);else{var k=b.querySelector(".endOfContent");if(k){var d=e.target!==b;if(d=d&&"none"!==window.getComputedStyle(k).getPropertyValue("-moz-user-select"))d=b.getBoundingClientRect(),e=Math.max(0,(e.pageY-
d.top)/d.height),k.style.top=(100*e).toFixed(2)+"%";k.classList.add("active")}}});b.addEventListener("mouseup",function(){if(a.enhanceTextSelection&&a.textLayerRenderTask)c=setTimeout(function(){a.textLayerRenderTask&&a.textLayerRenderTask.expandTextDivs(!1);c=null},300);else{var e=b.querySelector(".endOfContent");e&&(e.style.top="",e.classList.remove("active"))}})}};return a}();i.prototype={createTextLayerBuilder:function(a,b,e){return new k({textLayerDiv:a,pageIndex:b,viewport:e,enhanceTextSelection:3<
arguments.length&&void 0!==arguments[3]?arguments[3]:!1})}};a.TextLayerBuilder=k;a.DefaultTextLayerFactory=i},function(m,a){Object.defineProperty(a,"__esModule",{value:!0});var d=function(){function a(e,d){for(var b=0;b<d.length;b++){var g=d[b];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(e,g.key,g)}}return function(k,d,b){d&&a(k.prototype,d);b&&a(k,b);return k}}(),i={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},h=function(){function a(){if(!(this instanceof
a))throw new TypeError("Cannot call a class as a function");this.idleTimeout=this.highestPriorityPage=this.onIdle=this.pdfThumbnailViewer=this.pdfViewer=null;this.isThumbnailViewEnabled=this.printing=!1}d(a,[{key:"setViewer",value:function(a){this.pdfViewer=a}},{key:"setThumbnailViewer",value:function(a){this.pdfThumbnailViewer=a}},{key:"isHighestPriority",value:function(a){return this.highestPriorityPage===a.renderingId}},{key:"renderHighestPriority",value:function(a){this.idleTimeout&&(clearTimeout(this.idleTimeout),
this.idleTimeout=null);if(!this.pdfViewer.forceRendering(a)&&(!this.pdfThumbnailViewer||!this.isThumbnailViewEnabled||!this.pdfThumbnailViewer.forceRendering())&&!this.printing&&this.onIdle)this.idleTimeout=setTimeout(this.onIdle.bind(this),3E4)}},{key:"getHighestPriority",value:function(a,e,b){var g=a.views,c=g.length;if(0===c)return!1;for(var f=0;f<c;++f){var d=g[f].view;if(!this.isViewFinished(d))return d}a=b?a.last.id:a.first.id-2;return e[a]&&!this.isViewFinished(e[a])?e[a]:null}},{key:"isViewFinished",
value:function(a){return a.renderingState===i.FINISHED}},{key:"renderView",value:function(a){var e=this;switch(a.renderingState){case i.FINISHED:return!1;case i.PAUSED:this.highestPriorityPage=a.renderingId;a.resume();break;case i.RUNNING:this.highestPriorityPage=a.renderingId;break;case i.INITIAL:this.highestPriorityPage=a.renderingId;var b=function(){e.renderHighestPriority()};a.draw().then(b,b)}return!0}}]);return a}();a.RenderingStates=i;a.PDFRenderingQueue=h},function(m,a,d){function i(a,e){var b=
document.createElement("a");b.click?(b.href=a,b.target="_parent","download"in b&&(b.download=e),(document.body||document.documentElement).appendChild(b),b.click(),b.parentNode.removeChild(b)):(window.top===window&&a.split("#")[0]===window.location.href.split("#")[0]&&(b=-1===a.indexOf("?")?"?":"&",a=a.replace(/#|$/,b+"$&")),window.open(a,"_parent"))}function h(){}Object.defineProperty(a,"__esModule",{value:!0});a.DownloadManager=void 0;var e=d(0);h.prototype={downloadUrl:function(a,d){(0,e.createValidAbsoluteUrl)(a,
"http://example.com")&&i(a+"#pdfjs.action=download",d)},downloadData:function(a,d,b){if(navigator.msSaveBlob)return navigator.msSaveBlob(new Blob([a],{type:b}),d);a=(0,e.createObjectURL)(a,b,e.PDFJS.disableCreateObjectURL);i(a,d)},download:function(a,d,b){navigator.msSaveBlob?navigator.msSaveBlob(a,b)||this.downloadUrl(d,b):e.PDFJS.disableCreateObjectURL?this.downloadUrl(d,b):(a=URL.createObjectURL(a),i(a,b))}};a.DownloadManager=h},function(m,a,d){Object.defineProperty(a,"__esModule",{value:!0});
a.PDFFindController=a.FindStates=void 0;var i=d(0),h=d(1),e={FIND_FOUND:0,FIND_NOTFOUND:1,FIND_WRAPPED:2,FIND_PENDING:3},k={"\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\u00bc":"1/4","\u00bd":"1/2","\u00be":"3/4"},m=function(){function a(b){this.pdfViewer=b.pdfViewer||null;this.onUpdateState=this.onUpdateResultsCount=null;this.reset();b=Object.keys(k).join("");this.normalizationRegex=RegExp("["+b+"]","g")}a.prototype={reset:function(){var b=
this;this.startedTextExtraction=!1;this.extractTextPromises=[];this.pendingFindMatches=Object.create(null);this.active=!1;this.pageContents=[];this.pageMatches=[];this.pageMatchesLength=null;this.matchCount=0;this.selected={pageIdx:-1,matchIdx:-1};this.offset={pageIdx:null,matchIdx:null};this.state=this.resumePageIdx=this.pagesToSearch=null;this.dirtyMatch=!1;this.findTimeout=null;this._firstPagePromise=new Promise(function(a){b.resolveFirstPage=a})},normalize:function(b){return b.replace(this.normalizationRegex,
function(b){return k[b]})},_prepareMatches:function(b,a,c){function e(b,a){var c,g;c=b[a];g=b[a+1];if(a<b.length-1&&c.match===g.match)return c.skipped=!0;for(var f=a-1;0<=f;f--)if(g=b[f],!g.skipped){if(g.match+g.matchLength<c.match)break;if(g.match+g.matchLength>=c.match+c.matchLength)return c.skipped=!0}return!1}var d,k;b.sort(function(b,a){return b.match===a.match?b.matchLength-a.matchLength:b.match-a.match});d=0;for(k=b.length;d<k;d++)e(b,d)||(a.push(b[d].match),c.push(b[d].matchLength))},calcFindPhraseMatch:function(b,
a,c){for(var e=[],d=b.length,k=-d;;){k=c.indexOf(b,k+d);if(-1===k)break;e.push(k)}this.pageMatches[a]=e},calcFindWordMatch:function(b,a,c){for(var e=[],b=b.match(/\S+/g),d,k,n,l=0,o=b.length;l<o;l++){d=b[l];k=d.length;for(n=-k;;){n=c.indexOf(d,n+k);if(-1===n)break;e.push({match:n,matchLength:k,skipped:!1})}}this.pageMatchesLength||(this.pageMatchesLength=[]);this.pageMatchesLength[a]=[];this.pageMatches[a]=[];this._prepareMatches(e,this.pageMatches[a],this.pageMatchesLength[a])},calcFindMatch:function(b){var a=
this.normalize(this.pageContents[b]),c=this.normalize(this.state.query),e=this.state.caseSensitive,d=this.state.phraseSearch;if(0!==c.length&&(e||(a=a.toLowerCase(),c=c.toLowerCase()),d?this.calcFindPhraseMatch(c,b,a):this.calcFindWordMatch(c,b,a),this.updatePage(b),this.resumePageIdx===b&&(this.resumePageIdx=null,this.nextPageMatch()),0<this.pageMatches[b].length))this.matchCount+=this.pageMatches[b].length,this.updateUIResultsCount()},extractText:function(){var b=this;if(!this.startedTextExtraction){this.startedTextExtraction=
!0;this.pageContents.length=0;for(var a=Promise.resolve(),c=function(c){var e=(0,i.createPromiseCapability)();b.extractTextPromises[c]=e.promise;a=a.then(function(){return b.pdfViewer.getPageTextContent(c).then(function(a){for(var a=a.items,d=[],g=0,f=a.length;g<f;g++)d.push(a[g].str);b.pageContents[c]=d.join("");e.resolve(c)})})},e=0,d=this.pdfViewer.pagesCount;e<d;e++)c(e,d)}},executeCommand:function(b,a){var c=this;if(null===this.state||"findagain"!==b)this.dirtyMatch=!0;this.state=a;this.updateUIState(e.FIND_PENDING);
this._firstPagePromise.then(function(){c.extractText();clearTimeout(c.findTimeout);"find"===b?c.findTimeout=setTimeout(c.nextMatch.bind(c),250):c.nextMatch()})},updatePage:function(b){this.selected.pageIdx===b&&(this.pdfViewer.currentPageNumber=b+1);b=this.pdfViewer.getPageView(b);b.textLayer&&b.textLayer.updateMatches()},nextMatch:function(){var b=this,a=this.state.findPrevious,c=this.pdfViewer.currentPageNumber-1,d=this.pdfViewer.pagesCount;this.active=!0;if(this.dirtyMatch){this.dirtyMatch=!1;
this.selected.pageIdx=this.selected.matchIdx=-1;this.offset.pageIdx=c;this.offset.matchIdx=null;this.hadMatch=!1;this.resumePageIdx=null;this.pageMatches=[];this.matchCount=0;this.pageMatchesLength=null;for(c=0;c<d;c++)this.updatePage(c),c in this.pendingFindMatches||(this.pendingFindMatches[c]=!0,this.extractTextPromises[c].then(function(a){delete b.pendingFindMatches[a];b.calcFindMatch(a)}))}if(""===this.state.query)this.updateUIState(e.FIND_FOUND);else if(!this.resumePageIdx){c=this.offset;this.pagesToSearch=
d;if(null!==c.matchIdx){d=this.pageMatches[c.pageIdx].length;if(!a&&c.matchIdx+1<d||a&&0<c.matchIdx){this.hadMatch=!0;c.matchIdx=a?c.matchIdx-1:c.matchIdx+1;this.updateMatch(!0);return}this.advanceOffsetPage(a)}this.nextPageMatch()}},matchesReady:function(b){var a=this.offset,b=b.length,c=this.state.findPrevious;if(b)return this.hadMatch=!0,a.matchIdx=c?b-1:0,this.updateMatch(!0),!0;this.advanceOffsetPage(c);return a.wrapped&&(a.matchIdx=null,0>this.pagesToSearch)?(this.updateMatch(!1),!0):!1},updateMatchPosition:function(b,
a,c,e){this.selected.matchIdx===a&&this.selected.pageIdx===b&&(0,h.scrollIntoView)(c[e],{top:-50,left:-400},!0)},nextPageMatch:function(){null!==this.resumePageIdx&&console.error("There can only be one pending page.");do{var b=this.offset.pageIdx,a=this.pageMatches[b];if(!a){this.resumePageIdx=b;break}}while(!this.matchesReady(a))},advanceOffsetPage:function(b){var a=this.offset,c=this.extractTextPromises.length;a.pageIdx=b?a.pageIdx-1:a.pageIdx+1;a.matchIdx=null;this.pagesToSearch--;if(a.pageIdx>=
c||0>a.pageIdx)a.pageIdx=b?c-1:0,a.wrapped=!0},updateMatch:function(b){var a=e.FIND_NOTFOUND,c=this.offset.wrapped;this.offset.wrapped=!1;b&&(b=this.selected.pageIdx,this.selected.pageIdx=this.offset.pageIdx,this.selected.matchIdx=this.offset.matchIdx,a=c?e.FIND_WRAPPED:e.FIND_FOUND,-1!==b&&b!==this.selected.pageIdx&&this.updatePage(b));this.updateUIState(a,this.state.findPrevious);-1!==this.selected.pageIdx&&this.updatePage(this.selected.pageIdx)},updateUIResultsCount:function(){if(this.onUpdateResultsCount)this.onUpdateResultsCount(this.matchCount)},
updateUIState:function(b,a){if(this.onUpdateState)this.onUpdateState(b,a,this.matchCount)}};return a}();a.FindStates=e;a.PDFFindController=m},function(m,a,d){function i(a){this.linkService=a.linkService;this.eventBus=a.eventBus||(0,h.getGlobalEventBus)();this.initialized=!1;this.initialBookmark=this.initialDestination=null}Object.defineProperty(a,"__esModule",{value:!0});a.PDFHistory=void 0;var h=d(2);i.prototype={initialize:function(a){function d(){g.previousHash=window.location.hash.slice(1);g._pushToHistory({hash:g.previousHash},
!1,!0);g._updatePreviousBookmark()}function h(a,b){function e(){window.removeEventListener("popstate",e);window.addEventListener("popstate",d);g._pushToHistory(a,!1,!0);history.forward()}function d(){window.removeEventListener("popstate",d);g.allowHashChange=!0;g.historyUnlocked=!0;b()}g.historyUnlocked=!1;g.allowHashChange=!1;window.addEventListener("popstate",e);history.back()}function b(){var a=g._getPreviousParams(null,!0);a&&(g._pushToHistory(a,!1,!g.current.dest&&g.current.hash!==g.previousHash),
g._updatePreviousBookmark());window.removeEventListener("beforeunload",b)}this.initialized=!0;this.reInitialized=!1;this.historyUnlocked=this.allowHashChange=!0;this.isViewerInPresentationMode=!1;this.previousHash=window.location.hash.substring(1);this.currentBookmark="";this.currentPage=0;this.updatePreviousBookmark=!1;this.previousBookmark="";this.previousPage=0;this.nextHashParam="";this.fingerprint=a;this.currentUid=this.uid=0;this.current={};a=window.history.state;this._isStateObjectDefined(a)?
(a.target.dest?this.initialDestination=a.target.dest:this.initialBookmark=a.target.hash,this.currentUid=a.uid,this.uid=a.uid+1,this.current=a.target):(a&&(a.fingerprint&&this.fingerprint!==a.fingerprint)&&(this.reInitialized=!0),this._pushOrReplaceState({fingerprint:this.fingerprint},!0));var g=this;window.addEventListener("popstate",function(a){g.historyUnlocked&&(a.state?g._goTo(a.state):g.uid===0?h(g.previousHash&&g.currentBookmark&&g.previousHash!==g.currentBookmark?{hash:g.currentBookmark,page:g.currentPage}:
{page:1},function(){d()}):d())});window.addEventListener("beforeunload",b);window.addEventListener("pageshow",function(){window.addEventListener("beforeunload",b)});g.eventBus.on("presentationmodechanged",function(a){g.isViewerInPresentationMode=a.active})},clearHistoryState:function(){this._pushOrReplaceState(null,!0)},_isStateObjectDefined:function(a){return a&&0<=a.uid&&a.fingerprint&&this.fingerprint===a.fingerprint&&a.target&&a.target.hash?!0:!1},_pushOrReplaceState:function(a,d){d?window.history.replaceState(a,
"",document.URL):window.history.pushState(a,"",document.URL)},get isHashChangeUnlocked(){return!this.initialized?!0:this.allowHashChange},_updatePreviousBookmark:function(){this.updatePreviousBookmark&&(this.currentBookmark&&this.currentPage)&&(this.previousBookmark=this.currentBookmark,this.previousPage=this.currentPage,this.updatePreviousBookmark=!1)},updateCurrentBookmark:function(a,d){this.initialized&&(this.currentBookmark=a.substring(1),this.currentPage=d|0,this._updatePreviousBookmark())},
updateNextHashParam:function(a){this.initialized&&(this.nextHashParam=a)},push:function(a,d){if(this.initialized&&this.historyUnlocked)if(a.dest&&!a.hash&&(a.hash=this.current.hash&&this.current.dest&&this.current.dest===a.dest?this.current.hash:this.linkService.getDestinationHash(a.dest).split("#")[1]),a.page&&(a.page|=0),d){var h=window.history.state.target;h||(this._pushToHistory(a,!1),this.previousHash=window.location.hash.substring(1));this.updatePreviousBookmark=this.nextHashParam?!1:!0;h&&
this._updatePreviousBookmark()}else{if(this.nextHashParam){if(this.nextHashParam===a.hash){this.nextHashParam=null;this.updatePreviousBookmark=!0;return}this.nextHashParam=null}a.hash?this.current.hash?this.current.hash!==a.hash?this._pushToHistory(a,!0):(!this.current.page&&a.page&&this._pushToHistory(a,!1,!0),this.updatePreviousBookmark=!0):this._pushToHistory(a,!0):this.current.page&&(a.page&&this.current.page!==a.page)&&this._pushToHistory(a,!0)}},_getPreviousParams:function(a,d){if(!this.currentBookmark||
!this.currentPage)return null;this.updatePreviousBookmark&&(this.updatePreviousBookmark=!1);if(0<this.uid&&(!this.previousBookmark||!this.previousPage))return null;if(!this.current.dest&&!a||d){if(this.previousBookmark===this.currentBookmark)return null}else if(this.current.page||a){if(this.previousPage===this.currentPage)return null}else return null;var h={hash:this.currentBookmark,page:this.currentPage};this.isViewerInPresentationMode&&(h.hash=null);return h},_stateObj:function(a){return{fingerprint:this.fingerprint,
uid:this.uid,target:a}},_pushToHistory:function(a,d,h){this.initialized&&(!a.hash&&a.page&&(a.hash="page="+a.page),d&&!h&&(d=this._getPreviousParams())&&this._pushToHistory(d,!1,!this.current.dest&&this.current.hash!==this.previousHash),this._pushOrReplaceState(this._stateObj(a),h||0===this.uid),this.currentUid=this.uid++,this.current=a,this.updatePreviousBookmark=!0)},_goTo:function(a){if(this.initialized&&this.historyUnlocked&&this._isStateObjectDefined(a)){if(!this.reInitialized&&a.uid<this.currentUid){var d=
this._getPreviousParams(!0);if(d){this._pushToHistory(this.current,!1);this._pushToHistory(d,!1);this.currentUid=a.uid;window.history.back();return}}this.historyUnlocked=!1;a.target.dest?this.linkService.navigateTo(a.target.dest):this.linkService.setHash(a.target.hash);this.currentUid=a.uid;a.uid>this.uid&&(this.uid=a.uid);this.current=a.target;this.updatePreviousBookmark=!0;a=window.location.hash.substring(1);this.previousHash!==a&&(this.allowHashChange=!1);this.previousHash=a;this.historyUnlocked=
!0}},back:function(){this.go(-1)},forward:function(){this.go(1)},go:function(a){if(this.initialized&&this.historyUnlocked){var d=window.history.state;-1===a&&d&&0<d.uid?window.history.back():1===a&&(d&&d.uid<this.uid-1)&&window.history.forward()}}};a.PDFHistory=i},function(m,a,d){Object.defineProperty(a,"__esModule",{value:!0});a.PDFViewer=a.PresentationModeState=void 0;var i=d(0),h=d(1),e=d(7),k=d(4),p=d(2),b=d(5),g=d(3),c=d(6),f={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},m=function(){function a(b){var c=
[];this.push=function(a){var d=c.indexOf(a);0<=d&&c.splice(d,1);c.push(a);c.length>b&&c.shift().destroy()};this.resize=function(a){for(b=a;c.length>b;)c.shift().destroy()}}function d(a){this.container=a.container;this.viewer=a.viewer||a.container.firstElementChild;this.eventBus=a.eventBus||(0,p.getGlobalEventBus)();this.linkService=a.linkService||new g.SimpleLinkService;this.downloadManager=a.downloadManager||null;this.removePageBorders=a.removePageBorders||!1;this.enhanceTextSelection=a.enhanceTextSelection||
!1;this.renderInteractiveForms=a.renderInteractiveForms||!1;this.enablePrintAutoRotate=a.enablePrintAutoRotate||!1;this.renderer=a.renderer||h.RendererType.CANVAS;(this.defaultRenderingQueue=!a.renderingQueue)?(this.renderingQueue=new e.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=a.renderingQueue;this.scroll=(0,h.watchScroll)(this.container,this._scrollUpdate.bind(this));this.presentationModeState=f.UNKNOWN;this._resetView();this.removePageBorders&&this.viewer.classList.add("removePageBorders")}
d.prototype={get pagesCount(){return this._pages.length},getPageView:function(a){return this._pages[a]},get pageViewsReady(){return this._pageViewsReady},get currentPageNumber(){return this._currentPageNumber},set currentPageNumber(a){if((a|0)!==a)throw Error("Invalid page number.");this.pdfDocument?this._setCurrentPageNumber(a,!0):this._currentPageNumber=a},_setCurrentPageNumber:function(a,b){if(this._currentPageNumber===a)b&&this._resetCurrentPageView();else if(0<a&&a<=this.pagesCount){var c={source:this,
pageNumber:a,pageLabel:this._pageLabels&&this._pageLabels[a-1]};this._currentPageNumber=a;this.eventBus.dispatch("pagechanging",c);this.eventBus.dispatch("pagechange",c);b&&this._resetCurrentPageView()}else console.error('PDFViewer_setCurrentPageNumber: "'+a+'" is out of bounds.')},get currentPageLabel(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]},set currentPageLabel(a){var b=a|0;this._pageLabels&&(a=this._pageLabels.indexOf(a),0<=a&&(b=a+1));this.currentPageNumber=b},get currentScale(){return this._currentScale!==
h.UNKNOWN_SCALE?this._currentScale:h.DEFAULT_SCALE},set currentScale(a){if(isNaN(a))throw Error("Invalid numeric scale");this.pdfDocument?this._setScale(a,!1):(this._currentScale=a,this._currentScaleValue=a!==h.UNKNOWN_SCALE?a.toString():null)},get currentScaleValue(){return this._currentScaleValue},set currentScaleValue(a){this.pdfDocument?this._setScale(a,!1):(this._currentScale=isNaN(a)?h.UNKNOWN_SCALE:a,this._currentScaleValue=a.toString())},get pagesRotation(){return this._pagesRotation},set pagesRotation(a){if(!("number"===
typeof a&&0===a%90))throw Error("Invalid pages rotation angle.");this._pagesRotation=a;if(this.pdfDocument){for(var b=0,c=this._pages.length;b<c;b++){var d=this._pages[b];d.update(d.scale,a)}this._setScale(this._currentScaleValue,!0);this.defaultRenderingQueue&&this.update()}},setDocument:function(a){var c=this;this.pdfDocument&&(this._cancelRendering(),this._resetView());if(this.pdfDocument=a){var d=a.numPages,e=(0,i.createPromiseCapability)();this.pagesPromise=e.promise;e.promise.then(function(){c._pageViewsReady=
true;c.eventBus.dispatch("pagesloaded",{source:c,pagesCount:d})});var f=!1,g=(0,i.createPromiseCapability)();this.onePageRendered=g.promise;var k=function(a){a.onBeforeDraw=function(){c._buffer.push(a)};a.onAfterDraw=function(){if(!f){f=true;g.resolve()}}},j=a.getPage(1);this.firstPagePromise=j;return j.then(function(f){for(var j=c.currentScale,f=f.getViewport(j*h.CSS_UNITS),q=1;q<=d;++q){var m=null;i.PDFJS.disableTextLayer||(m=c);m=new b.PDFPageView({container:c.viewer,eventBus:c.eventBus,id:q,scale:j,
defaultViewport:f.clone(),renderingQueue:c.renderingQueue,textLayerFactory:m,annotationLayerFactory:c,enhanceTextSelection:c.enhanceTextSelection,renderInteractiveForms:c.renderInteractiveForms,renderer:c.renderer});k(m);c._pages.push(m)}g.promise.then(function(){if(i.PDFJS.disableAutoFetch)e.resolve();else for(var b=d,f=function(d){a.getPage(d).then(function(a){var f=c._pages[d-1];f.pdfPage||f.setPdfPage(a);c.linkService.cachePageRef(d,a.ref);--b===0&&e.resolve()})},g=1;g<=d;++g)f(g)});c.eventBus.dispatch("pagesinit",
{source:c});c.defaultRenderingQueue&&c.update();c.findController&&c.findController.resolveFirstPage()})}},setPageLabels:function(a){if(this.pdfDocument){a?a instanceof Array&&this.pdfDocument.numPages===a.length?this._pageLabels=a:(this._pageLabels=null,console.error("PDFViewer_setPageLabels: Invalid page labels.")):this._pageLabels=null;for(var a=0,b=this._pages.length;a<b;a++)this._pages[a].setPageLabel(this._pageLabels&&this._pageLabels[a])}},_resetView:function(){this._pages=[];this._currentPageNumber=
1;this._currentScale=h.UNKNOWN_SCALE;this._pageLabels=this._currentScaleValue=null;this._buffer=new a(10);this._location=null;this._pagesRotation=0;this._pagesRequests=[];this._pageViewsReady=!1;this.viewer.textContent=""},_scrollUpdate:function(){if(0!==this.pagesCount){this.update();for(var a=0,b=this._pages.length;a<b;a++)this._pages[a].updatePosition()}},_setScaleDispatchEvent:function(a,b,c){a={source:this,scale:a,presetValue:c?b:void 0};this.eventBus.dispatch("scalechanging",a);this.eventBus.dispatch("scalechange",
a)},_setScaleUpdatePages:function(a,b,c,d){this._currentScaleValue=b.toString();var e;e=this._currentScale;e=a===e?!0:1.0E-15>Math.abs(a-e)?!0:!1;if(e)d&&this._setScaleDispatchEvent(a,b,!0);else{e=0;for(var f=this._pages.length;e<f;e++)this._pages[e].update(a);this._currentScale=a;if(!c){var c=this._currentPageNumber,g;this._location&&(!i.PDFJS.ignoreCurrentPositionOnZoom&&!this.isInPresentationMode&&!this.isChangingPresentationMode)&&(c=this._location.pageNumber,g=[null,{name:"XYZ"},this._location.left,
this._location.top,null]);this.scrollPageIntoView({pageNumber:c,destArray:g,allowNegativeOffset:!0})}this._setScaleDispatchEvent(a,b,d);this.defaultRenderingQueue&&this.update()}},_setScale:function(a,b){var c=parseFloat(a);if(0<c)this._setScaleUpdatePages(c,a,b,!1);else if(c=this._pages[this._currentPageNumber-1]){var d=(this.container.clientWidth-(this.isInPresentationMode||this.removePageBorders?0:h.SCROLLBAR_PADDING))/c.width*c.scale,e=(this.container.clientHeight-(this.isInPresentationMode||
this.removePageBorders?0:h.VERTICAL_PADDING))/c.height*c.scale;switch(a){case "page-actual":c=1;break;case "page-width":c=d;break;case "page-height":c=e;break;case "page-fit":c=Math.min(d,e);break;case "auto":c=c.width>c.height?Math.min(e,d):d;c=Math.min(h.MAX_AUTO_SCALE,c);break;default:console.error('PDFViewer_setScale: "'+a+'" is an unknown zoom value.');return}this._setScaleUpdatePages(c,a,b,!0)}},_resetCurrentPageView:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,
!0);var a=this._pages[this._currentPageNumber-1];(0,h.scrollIntoView)(a.div)},scrollPageIntoView:function(a){if(this.pdfDocument){if(1<arguments.length||"number"===typeof a){console.warn("Call of scrollPageIntoView() with obsolete signature.");var b={};"number"===typeof a&&(b.pageNumber=a);arguments[1]instanceof Array&&(b.destArray=arguments[1]);a=b}var c=a.pageNumber||0,d=a.destArray||null,b=a.allowNegativeOffset||!1;if(this.isInPresentationMode||!d)this._setCurrentPageNumber(c,!0);else if(c=this._pages[c-
1]){var e=0,f=0,g=0,j=0,k,i;i=0===c.rotation%180?!1:!0;k=(i?c.height:c.width)/c.scale/h.CSS_UNITS;i=(i?c.width:c.height)/c.scale/h.CSS_UNITS;var m=0;switch(d[1].name){case "XYZ":e=d[2];f=d[3];m=d[4];e=null!==e?e:0;f=null!==f?f:i;break;case "Fit":case "FitB":m="page-fit";break;case "FitH":case "FitBH":f=d[2];m="page-width";null===f&&this._location&&(e=this._location.left,f=this._location.top);break;case "FitV":case "FitBV":e=d[2];g=k;j=i;m="page-height";break;case "FitR":e=d[2];f=d[3];g=d[4]-e;j=d[5]-
f;i=this.removePageBorders?0:h.VERTICAL_PADDING;k=(this.container.clientWidth-(this.removePageBorders?0:h.SCROLLBAR_PADDING))/g/h.CSS_UNITS;i=(this.container.clientHeight-i)/j/h.CSS_UNITS;m=Math.min(Math.abs(k),Math.abs(i));break;default:console.error("PDFViewer_scrollPageIntoView: '"+d[1].name+"' is not a valid destination type.");return}m&&m!==this._currentScale?this.currentScaleValue=m:this._currentScale===h.UNKNOWN_SCALE&&(this.currentScaleValue=h.DEFAULT_SCALE_VALUE);"page-fit"===m&&!d[4]?(0,
h.scrollIntoView)(c.div):(e=[c.viewport.convertToViewportPoint(e,f),c.viewport.convertToViewportPoint(e+g,f+j)],d=Math.min(e[0][0],e[1][0]),e=Math.min(e[0][1],e[1][1]),b||(d=Math.max(d,0),e=Math.max(e,0)),(0,h.scrollIntoView)(c.div,{left:d,top:e}))}else console.error('PDFViewer_scrollPageIntoView: Invalid "pageNumber" parameter.')}},_updateLocation:function(a){var b=this._currentScale,c=this._currentScaleValue,b=parseFloat(c)===b?Math.round(1E4*b)/100:c,c=a.id,d;d="#page="+c+("&zoom="+b);var e=this.container,
e=this._pages[c-1].getPagePoint(e.scrollLeft-a.x,e.scrollTop-a.y),a=Math.round(e[0]),e=Math.round(e[1]);this._location={pageNumber:c,scale:b,top:e,left:a,pdfOpenParams:d+(","+a+","+e)}},update:function(){var a=this._getVisiblePages(),b=a.views;if(0!==b.length){this._buffer.resize(Math.max(10,2*b.length+1));this.renderingQueue.renderHighestPriority(a);for(var c=this._currentPageNumber,a=a.first,d=0,e=b.length,f=!1;d<e;++d){var g=b[d];if(100>g.percent)break;if(g.id===c){f=!0;break}}f||(c=b[0].id);this.isInPresentationMode||
this._setCurrentPageNumber(c);this._updateLocation(a);this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}},containsElement:function(a){return this.container.contains(a)},focus:function(){this.container.focus()},get isInPresentationMode(){return this.presentationModeState===f.FULLSCREEN},get isChangingPresentationMode(){return this.presentationModeState===f.CHANGING},get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth},
_getVisiblePages:function(){if(!this.isInPresentationMode)return(0,h.getVisibleElements)(this.container,this._pages,!0);var a=[],b=this._pages[this._currentPageNumber-1];a.push({id:b.id,view:b});return{first:b,last:b,views:a}},cleanup:function(){for(var a=0,b=this._pages.length;a<b;a++)this._pages[a]&&this._pages[a].renderingState!==e.RenderingStates.FINISHED&&this._pages[a].reset()},_cancelRendering:function(){for(var a=0,b=this._pages.length;a<b;a++)this._pages[a]&&this._pages[a].cancelRendering()},
_ensurePdfPageLoaded:function(a){var b=this;if(a.pdfPage)return Promise.resolve(a.pdfPage);var c=a.id;if(this._pagesRequests[c])return this._pagesRequests[c];var d=this.pdfDocument.getPage(c).then(function(d){a.pdfPage||a.setPdfPage(d);b._pagesRequests[c]=null;return d});return this._pagesRequests[c]=d},forceRendering:function(a){var b=this,c=this.renderingQueue.getHighestPriority(a||this._getVisiblePages(),this._pages,this.scroll.down);return c?(this._ensurePdfPageLoaded(c).then(function(){b.renderingQueue.renderView(c)}),
!0):!1},getPageTextContent:function(a){return this.pdfDocument.getPage(a+1).then(function(a){return a.getTextContent({normalizeWhitespace:!0})})},createTextLayerBuilder:function(a,b,d){var e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;return new c.TextLayerBuilder({textLayerDiv:a,eventBus:this.eventBus,pageIndex:b,viewport:d,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:this.isInPresentationMode?!1:e})},createAnnotationLayerBuilder:function(a,
b){return new k.AnnotationLayerBuilder({pageDiv:a,pdfPage:b,renderInteractiveForms:2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,linkService:this.linkService,downloadManager:this.downloadManager})},setFindController:function(a){this.findController=a},getPagesOverview:function(){var a=this._pages.map(function(a){a=a.pdfPage.getViewport(1);return{width:a.width,height:a.height,rotation:a.rotation}});if(!this.enablePrintAutoRotate)return a;var b=a[0].width<=a[0].height;return a.map(function(a){return b===
a.width<=a.height?a:{width:a.height,height:a.width,rotation:(a.rotation+90)%360}})}};return d}();a.PresentationModeState=f;a.PDFViewer=m},function(m,a,d){var i=d(0),m=d(11),h=d(5),e=d(3),k=d(6),p=d(4),b=d(10),g=d(9),c=d(1),d=d(8),i=i.PDFJS;i.PDFViewer=m.PDFViewer;i.PDFPageView=h.PDFPageView;i.PDFLinkService=e.PDFLinkService;i.TextLayerBuilder=k.TextLayerBuilder;i.DefaultTextLayerFactory=k.DefaultTextLayerFactory;i.AnnotationLayerBuilder=p.AnnotationLayerBuilder;i.DefaultAnnotationLayerFactory=p.DefaultAnnotationLayerFactory;
i.PDFHistory=b.PDFHistory;i.PDFFindController=g.PDFFindController;i.EventBus=c.EventBus;i.DownloadManager=d.DownloadManager;i.ProgressBar=c.ProgressBar;a.PDFJS=i}])});
