(function(h,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define("pdfjs-dist/web/pdf_viewer",[],e):"object"===typeof exports?exports["pdfjs-dist/web/pdf_viewer"]=e():h["pdfjs-dist/web/pdf_viewer"]=h.pdfjsDistWebPdfViewer=e()})(this,function(){return function(h){function e(k){if(d[k])return d[k].exports;var i=d[k]={i:k,l:!1,exports:{}};h[k].call(i.exports,i,i.exports,e);i.l=!0;return i.exports}var d={};e.m=h;e.c=d;e.i=function(d){return d};
e.d=function(d,h,c){e.o(d,h)||Object.defineProperty(d,h,{configurable:!1,enumerable:!0,get:c})};e.n=function(d){var h=d&&d.__esModule?function(){return d["default"]}:function(){return d};e.d(h,"a",h);return h};e.o=function(d,e){return Object.prototype.hasOwnProperty.call(d,e)};e.p="";return e(e.s=12)}([function(h){var e;if("undefined"===typeof __pdfjsdev_webpack__)if("undefined"!==typeof window&&window["pdfjs-dist/build/pdf"])e=window["pdfjs-dist/build/pdf"];else if("function"===typeof require)e=
require("../build/pdf.js");else throw Error("Neither `require` nor `window` found");h.exports=e},function(h,e,d){function k(a,m){var j=0,b=a.length-1;if(0===a.length||!m(a[b]))return a.length;if(m(a[j]))return j;for(;j<b;){var c=j+b>>1;m(a[c])?b=c:j=c+1}return j}var d=d(0),h=96/72,i=document.mozL10n||document.webL10n,d=d.PDFJS;d.disableFullscreen=void 0===d.disableFullscreen?!1:d.disableFullscreen;d.useOnlyCssZoom=void 0===d.useOnlyCssZoom?!1:d.useOnlyCssZoom;d.maxCanvasPixels=void 0===d.maxCanvasPixels?
16777216:d.maxCanvasPixels;d.disableHistory=void 0===d.disableHistory?!1:d.disableHistory;d.disableTextLayer=void 0===d.disableTextLayer?!1:d.disableTextLayer;d.ignoreCurrentPositionOnZoom=void 0===d.ignoreCurrentPositionOnZoom?!1:d.ignoreCurrentPositionOnZoom;d.locale=void 0===d.locale?navigator.language:d.locale;var d=new Promise(function(a){window.requestAnimationFrame(a)}),c=new Promise(function(a){i?"loading"!==i.getReadyState()?a():window.addEventListener("localized",function(){a()}):a()}),
l=function(){function a(){this._listeners=Object.create(null)}a.prototype={on:function(a,b){var f=this._listeners[a];f||(f=[],this._listeners[a]=f);f.push(b)},off:function(a,b){var f=this._listeners[a],c;f&&!(0>(c=f.indexOf(b)))&&f.splice(c,1)},dispatch:function(a){var b=this._listeners[a];if(b&&0!==b.length){var f=Array.prototype.slice.call(arguments,1);b.slice(0).forEach(function(a){a.apply(null,f)})}}};return a}(),b=function(){function a(a,b){this.visible=!0;this.div=document.querySelector(a+" .progress");
this.bar=this.div.parentNode;this.height=b.height||100;this.width=b.width||100;this.units=b.units||"%";this.div.style.height=this.height+this.units;this.percent=0}a.prototype={updateBar:function(){this._indeterminate?(this.div.classList.add("indeterminate"),this.div.style.width=this.width+this.units):(this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units)},get percent(){return this._percent},set percent(a){this._indeterminate=isNaN(a);this._percent=
Math.min(Math.max(a,0),100);this.updateBar()},setWidth:function(a){a&&(a=a.parentNode.offsetWidth-a.offsetWidth,0<a&&this.bar.setAttribute("style","width: calc(100% - "+a+"px);"))},hide:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))},show:function(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),this.bar.classList.remove("hidden"))}};return a}();e.CSS_UNITS=h;e.DEFAULT_SCALE_VALUE="auto";
e.DEFAULT_SCALE=1;e.MIN_SCALE=0.25;e.MAX_SCALE=10;e.UNKNOWN_SCALE=0;e.MAX_AUTO_SCALE=1.25;e.SCROLLBAR_PADDING=40;e.VERTICAL_PADDING=5;e.RendererType={CANVAS:"canvas",SVG:"svg"};e.mozL10n=i;e.EventBus=l;e.ProgressBar=b;e.getPDFFileNameFromURL=function(a,b){"undefined"===typeof b&&(b="document.pdf");var c=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i,f=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(a);if(f=c.exec(f[1])||c.exec(f[2])||c.exec(f[3]))if(f=f[0],-1!==f.indexOf("%"))try{f=c.exec(decodeURIComponent(f))[0]}catch(g){}return f||
b};e.noContextMenuHandler=function(a){a.preventDefault()};e.parseQueryString=function(a){for(var a=a.split("&"),b={},c=0,f=a.length;c<f;++c){var g=a[c].split("="),d=g[0].toLowerCase(),g=1<g.length?g[1]:null;b[decodeURIComponent(d)]=decodeURIComponent(g)}return b};e.getVisibleElements=function(a,b,c){function f(a){a=a.div;return a.offsetTop+a.clientTop+a.clientHeight>g}for(var g=a.scrollTop,d=g+a.clientHeight,o=a.scrollLeft,l=o+a.clientWidth,a=[],e,q,p,h,n,i=0===b.length?0:k(b,f),v=b.length;i<v;i++){e=
b[i];q=e.div;p=q.offsetTop+q.clientTop;h=q.clientHeight;if(p>d)break;n=q.offsetLeft+q.clientLeft;q=q.clientWidth;n+q<o||n>l||(q=Math.max(0,g-p)+Math.max(0,p+h-d),h=100*(h-q)/h|0,a.push({id:e.id,x:n,y:p,view:e,percent:h}))}b=a[0];d=a[a.length-1];c&&a.sort(function(a,b){var c=a.percent-b.percent;return 0.001<Math.abs(c)?-c:a.id-b.id});return{first:b,last:d,views:a}};e.roundToDivide=function(a,b){var c=a%b;return 0===c?a:Math.round(a-c+b)};e.approximateFraction=function(a){if(Math.floor(a)===a)return[a,
1];var b=1/a;if(8<b)return[1,8];if(Math.floor(b)===b)return[1,b];for(var b=1<a?b:a,c=0,f=1,g=1,d=1;;){var o=c+g,l=f+d;if(8<l)break;b<=o/l?(g=o,d=l):(c=o,f=l)}return b-c/f<g/d-b?b===a?[c,f]:[f,c]:b===a?[g,d]:[d,g]};e.getOutputScale=function(a){a=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1);return{sx:a,sy:a,scaled:1!==a}};e.scrollIntoView=function(a,b,c){var f=a.offsetParent;
if(f){for(var c=c||!1,g=a.offsetTop+a.clientTop,a=a.offsetLeft+a.clientLeft;f.clientHeight===f.scrollHeight||c&&"hidden"===getComputedStyle(f).overflow;)if(f.dataset._scaleY&&(g/=f.dataset._scaleY,a/=f.dataset._scaleX),g+=f.offsetTop,a+=f.offsetLeft,f=f.offsetParent,!f)return;b&&(void 0!==b.top&&(g+=b.top),void 0!==b.left&&(a+=b.left,f.scrollLeft=a));f.scrollTop=g}else console.error("offsetParent is not set -- cannot scroll")};e.watchScroll=function(a,b){var c=function(){g||(g=window.requestAnimationFrame(function(){g=
null;var c=a.scrollTop,o=f.lastY;c!==o&&(f.down=c>o);f.lastY=c;b(f)}))},f={down:!0,lastY:a.scrollTop,_eventHandler:c},g=null;a.addEventListener("scroll",c,!0);return f};e.binarySearchFirstItem=k;e.normalizeWheelEventDelta=function(a){var b=Math.sqrt(a.deltaX*a.deltaX+a.deltaY*a.deltaY),c=Math.atan2(a.deltaY,a.deltaX);-0.25*Math.PI<c&&c<0.75*Math.PI&&(b=-b);0===a.deltaMode?b/=900:1===a.deltaMode&&(b/=30);return b};e.animationStarted=d;e.localized=c},function(h,e,d){function k(c){c.on("documentload",
function(){var b=document.createEvent("CustomEvent");b.initCustomEvent("documentload",!0,!0,{});window.dispatchEvent(b)});c.on("pagerendered",function(b){var a=document.createEvent("CustomEvent");a.initCustomEvent("pagerendered",!0,!0,{pageNumber:b.pageNumber,cssTransform:b.cssTransform});b.source.div.dispatchEvent(a)});c.on("textlayerrendered",function(b){var a=document.createEvent("CustomEvent");a.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:b.pageNumber});b.source.textLayerDiv.dispatchEvent(a)});
c.on("pagechange",function(b){var a=document.createEvent("UIEvents");a.initUIEvent("pagechange",!0,!0,window,0);a.pageNumber=b.pageNumber;b.source.container.dispatchEvent(a)});c.on("pagesinit",function(b){var a=document.createEvent("CustomEvent");a.initCustomEvent("pagesinit",!0,!0,null);b.source.container.dispatchEvent(a)});c.on("pagesloaded",function(b){var a=document.createEvent("CustomEvent");a.initCustomEvent("pagesloaded",!0,!0,{pagesCount:b.pagesCount});b.source.container.dispatchEvent(a)});
c.on("scalechange",function(b){var a=document.createEvent("UIEvents");a.initUIEvent("scalechange",!0,!0,window,0);a.scale=b.scale;a.presetValue=b.presetValue;b.source.container.dispatchEvent(a)});c.on("updateviewarea",function(b){var a=document.createEvent("UIEvents");a.initUIEvent("updateviewarea",!0,!0,window,0);a.location=b.location;b.source.container.dispatchEvent(a)});c.on("find",function(b){if(b.source!==window){var a=document.createEvent("CustomEvent");a.initCustomEvent("find"+b.type,!0,!0,
{query:b.query,phraseSearch:b.phraseSearch,caseSensitive:b.caseSensitive,highlightAll:b.highlightAll,findPrevious:b.findPrevious});window.dispatchEvent(a)}});c.on("attachmentsloaded",function(b){var a=document.createEvent("CustomEvent");a.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:b.attachmentsCount});b.source.container.dispatchEvent(a)});c.on("sidebarviewchanged",function(b){var a=document.createEvent("CustomEvent");a.initCustomEvent("sidebarviewchanged",!0,!0,{view:b.view});b.source.outerContainer.dispatchEvent(a)});
c.on("pagemode",function(b){var a=document.createEvent("CustomEvent");a.initCustomEvent("pagemode",!0,!0,{mode:b.mode});b.source.pdfViewer.container.dispatchEvent(a)});c.on("namedaction",function(b){var a=document.createEvent("CustomEvent");a.initCustomEvent("namedaction",!0,!0,{action:b.action});b.source.pdfViewer.container.dispatchEvent(a)});c.on("presentationmodechanged",function(b){var a=document.createEvent("CustomEvent");a.initCustomEvent("presentationmodechanged",!0,!0,{active:b.active,switchInProgress:b.switchInProgress});
window.dispatchEvent(a)});c.on("outlineloaded",function(b){var a=document.createEvent("CustomEvent");a.initCustomEvent("outlineloaded",!0,!0,{outlineCount:b.outlineCount});b.source.container.dispatchEvent(a)})}var i=d(1).EventBus,c=null;e.attachDOMEventsToEventBus=k;e.getGlobalEventBus=function(){if(c)return c;c=new i;k(c);return c}},function(h,e,d){var h=d(1),k=d(2),i=h.parseQueryString,c=/^\d+$/,d=function(){function d(a){a=a||{};this.eventBus=a.eventBus||k.getGlobalEventBus();this._pagesRefCache=
this.pdfHistory=this.pdfViewer=this.pdfDocument=this.baseUrl=null}function b(a){if(!(a instanceof Array))return!1;var b=a.length,c=!0;if(2>b)return!1;var f=a[0];if(!("object"===typeof f&&"number"===typeof f.num&&(f.num|0)===f.num&&"number"===typeof f.gen&&(f.gen|0)===f.gen)&&!("number"===typeof f&&(f|0)===f&&0<=f))return!1;f=a[1];if(!("object"===typeof f&&"string"===typeof f.name))return!1;switch(f.name){case "XYZ":if(5!==b)return!1;break;case "Fit":case "FitB":return 2===b;case "FitH":case "FitBH":case "FitV":case "FitBV":if(3!==
b)return!1;break;case "FitR":if(6!==b)return!1;c=!1;break;default:return!1}for(f=2;f<b;f++){var g=a[f];if(!("number"===typeof g||c&&null===g))return!1}return!0}d.prototype={setDocument:function(a,b){this.baseUrl=b;this.pdfDocument=a;this._pagesRefCache=Object.create(null)},setViewer:function(a){this.pdfViewer=a},setHistory:function(a){this.pdfHistory=a},get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0},get page(){return this.pdfViewer.currentPageNumber},set page(a){this.pdfViewer.currentPageNumber=
a},navigateTo:function(a){var b="",c=this,f=function(g){var o;if(g instanceof Object)o=c._cachedPageNumber(g);else if((g|0)===g)o=g+1;else{console.error('PDFLinkService_navigateTo: "'+g+'" is not a valid destination reference.');return}o?1>o||o>c.pagesCount?console.error('PDFLinkService_navigateTo: "'+o+'" is a non-existent page number.'):(c.pdfViewer.scrollPageIntoView({pageNumber:o,destArray:a}),c.pdfHistory&&c.pdfHistory.push({dest:a,hash:b,page:o})):c.pdfDocument.getPageIndex(g).then(function(a){c.cachePageRef(a+
1,g);f(g)}).catch(function(){console.error('PDFLinkService_navigateTo: "'+g+'" is not a valid page reference.')})},g;"string"===typeof a?(b=a,g=this.pdfDocument.getDestination(a)):g=Promise.resolve(a);g.then(function(b){a=b;b instanceof Array?f(b[0]):console.error('PDFLinkService_navigateTo: "'+b+'" is not a valid destination array.')})},getDestinationHash:function(a){return"string"===typeof a?this.getAnchorUrl("#"+(c.test(a)?"nameddest=":"")+escape(a)):a instanceof Array?(a=JSON.stringify(a),this.getAnchorUrl("#"+
escape(a))):this.getAnchorUrl("")},getAnchorUrl:function(a){return(this.baseUrl||"")+a},setHash:function(a){var d,j;if(0<=a.indexOf("="))if(a=i(a),"search"in a&&this.eventBus.dispatch("findfromurlhash",{source:this,query:a.search.replace(/"/g,""),phraseSearch:"true"===a.phrase}),"nameddest"in a)this.pdfHistory&&this.pdfHistory.updateNextHashParam(a.nameddest),this.navigateTo(a.nameddest);else{"page"in a&&(d=a.page|0||1);if("zoom"in a){var f=a.zoom.split(","),g=f[0],e=parseFloat(g);-1===g.indexOf("Fit")?
j=[null,{name:"XYZ"},1<f.length?f[1]|0:null,2<f.length?f[2]|0:null,e?e/100:g]:"Fit"===g||"FitB"===g?j=[null,{name:g}]:"FitH"===g||"FitBH"===g||"FitV"===g||"FitBV"===g?j=[null,{name:g},1<f.length?f[1]|0:null]:"FitR"===g?5!==f.length?console.error("PDFLinkService_setHash: Not enough parameters for 'FitR'."):j=[null,{name:g},f[1]|0,f[2]|0,f[3]|0,f[4]|0]:console.error("PDFLinkService_setHash: '"+g+"' is not a valid zoom value.")}j?this.pdfViewer.scrollPageIntoView({pageNumber:d||this.page,destArray:j,
allowNegativeOffset:!0}):d&&(this.page=d);"pagemode"in a&&this.eventBus.dispatch("pagemode",{source:this,mode:a.pagemode})}else{c.test(a)&&a<=this.pagesCount&&(console.warn('PDFLinkService_setHash: specifying a page number directly after the hash symbol (#) is deprecated, please use the "#page='+a+'" form instead.'),this.page=a|0);j=unescape(a);try{j=JSON.parse(j),j instanceof Array||(j=j.toString())}catch(o){}"string"===typeof j||b(j)?(this.pdfHistory&&this.pdfHistory.updateNextHashParam(j),this.navigateTo(j)):
console.error("PDFLinkService_setHash: '"+unescape(a)+"' is not a valid destination.")}},executeNamedAction:function(a){switch(a){case "GoBack":this.pdfHistory&&this.pdfHistory.back();break;case "GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case "NextPage":this.page<this.pagesCount&&this.page++;break;case "PrevPage":1<this.page&&this.page--;break;case "LastPage":this.page=this.pagesCount;break;case "FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:a})},
onFileAttachmentAnnotation:function(a){this.eventBus.dispatch("fileattachmentannotation",{source:this,id:a.id,filename:a.filename,content:a.content})},cachePageRef:function(a,b){this._pagesRefCache[b.num+" "+b.gen+" R"]=a},_cachedPageNumber:function(a){a=a.num+" "+a.gen+" R";return this._pagesRefCache&&this._pagesRefCache[a]||null}};return d}(),h=function(){function c(){}c.prototype={get page(){return 0},set page(b){},navigateTo:function(){},getDestinationHash:function(){return"#"},getAnchorUrl:function(){return"#"},
setHash:function(){},executeNamedAction:function(){},onFileAttachmentAnnotation:function(){},cachePageRef:function(){}};return c}();e.PDFLinkService=d;e.SimpleLinkService=h},function(h,e,d){function k(){}var h=d(1),i=d(3),c=d(0),l=h.mozL10n,b=i.SimpleLinkService,a=function(){function a(b){this.pageDiv=b.pageDiv;this.pdfPage=b.pdfPage;this.renderInteractiveForms=b.renderInteractiveForms;this.linkService=b.linkService;this.downloadManager=b.downloadManager;this.div=null}a.prototype={render:function(a,
b){var g=this,d={intent:void 0===b?"display":b};this.pdfPage.getAnnotations(d).then(function(b){a=a.clone({dontFlip:!0});d={viewport:a,div:g.div,annotations:b,page:g.pdfPage,renderInteractiveForms:g.renderInteractiveForms,linkService:g.linkService,downloadManager:g.downloadManager};g.div?c.AnnotationLayer.update(d):0!==b.length&&(g.div=document.createElement("div"),g.div.className="annotationLayer",g.pageDiv.appendChild(g.div),d.div=g.div,c.AnnotationLayer.render(d),"undefined"!==typeof l&&l.translate(g.div))})},
hide:function(){this.div&&this.div.setAttribute("hidden","true")}};return a}();k.prototype={createAnnotationLayerBuilder:function(c,d,f){return new a({pageDiv:c,pdfPage:d,renderInteractiveForms:f,linkService:new b})}};e.AnnotationLayerBuilder=a;e.DefaultAnnotationLayerFactory=k},function(h,e,d){var h=d(1),k=d(7),i=d(2),c=d(0),l=h.CSS_UNITS,b=h.DEFAULT_SCALE,a=h.getOutputScale,m=h.approximateFraction,j=h.roundToDivide,f=h.RendererType,g=k.RenderingStates,d=function(){function d(a){var c=a.container,
j=a.id,m=a.scale,e=a.defaultViewport,l=a.renderingQueue,h=a.textLayerFactory,s=a.annotationLayerFactory,v=a.enhanceTextSelection||!1,k=a.renderInteractiveForms||!1;this.id=j;this.renderingId="page"+j;this.pageLabel=null;this.rotation=0;this.scale=m||b;this.viewport=e;this.pdfPageRotate=e.rotation;this.hasRestrictedScaling=!1;this.enhanceTextSelection=v;this.renderInteractiveForms=k;this.eventBus=a.eventBus||i.getGlobalEventBus();this.renderingQueue=l;this.textLayerFactory=h;this.annotationLayerFactory=
s;this.renderer=a.renderer||f.CANVAS;this.paintTask=null;this.paintedViewportMap=new WeakMap;this.renderingState=g.INITIAL;this.annotationLayer=this.zoomLayer=this.textLayer=this.onAfterDraw=this.onBeforeDraw=this.error=this.resume=null;a=document.createElement("div");a.className="page";a.style.width=Math.floor(this.viewport.width)+"px";a.style.height=Math.floor(this.viewport.height)+"px";a.setAttribute("data-page-number",this.id);this.div=a;c.appendChild(a)}d.prototype={setPdfPage:function(a){this.pdfPage=
a;this.pdfPageRotate=a.rotate;this.viewport=a.getViewport(this.scale*l,(this.rotation+this.pdfPageRotate)%360);this.stats=a.stats;this.reset()},destroy:function(){this.reset();this.pdfPage&&this.pdfPage.cleanup()},_resetZoomLayer:function(a){if(this.zoomLayer){var b=this.zoomLayer.firstChild;this.paintedViewportMap.delete(b);b.width=0;b.height=0;a&&this.zoomLayer.remove();this.zoomLayer=null}},reset:function(a,b){this.cancelRendering();var c=this.div;c.style.width=Math.floor(this.viewport.width)+
"px";c.style.height=Math.floor(this.viewport.height)+"px";for(var f=c.childNodes,d=a&&this.zoomLayer||null,g=b&&this.annotationLayer&&this.annotationLayer.div||null,j=f.length-1;0<=j;j--){var m=f[j];d===m||g===m||c.removeChild(m)}c.removeAttribute("data-loaded");g?this.annotationLayer.hide():this.annotationLayer=null;d||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer());this.svg&&(this.paintedViewportMap.delete(this.svg),
delete this.svg);this.loadingIconDiv=document.createElement("div");this.loadingIconDiv.className="loadingIcon";c.appendChild(this.loadingIconDiv)},update:function(a,b){this.scale=a||this.scale;"undefined"!==typeof b&&(this.rotation=b);this.viewport=this.viewport.clone({scale:this.scale*l,rotation:(this.rotation+this.pdfPageRotate)%360});if(this.svg)this.cssTransform(this.svg,!0),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});else{var f=!1;if(this.canvas&&0<
c.PDFJS.maxCanvasPixels){var d=this.outputScale;(Math.floor(this.viewport.width)*d.sx|0)*(Math.floor(this.viewport.height)*d.sy|0)>c.PDFJS.maxCanvasPixels&&(f=!0)}if(this.canvas){if(c.PDFJS.useOnlyCssZoom||this.hasRestrictedScaling&&f){this.cssTransform(this.canvas,!0);this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});return}this.zoomLayer||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild);
this.reset(!0,!0)}},cancelRendering:function(){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null);this.renderingState=g.INITIAL;this.resume=null;this.textLayer&&(this.textLayer.cancel(),this.textLayer=null)},updatePosition:function(){this.textLayer&&this.textLayer.render(200)},cssTransform:function(a,b){var f=c.CustomStyle,d=this.viewport.width,g=this.viewport.height,j=this.div;a.style.width=a.parentNode.style.width=j.style.width=Math.floor(d)+"px";a.style.height=a.parentNode.style.height=
j.style.height=Math.floor(g)+"px";var j=this.viewport.rotation-this.paintedViewportMap.get(a).rotation,m=Math.abs(j),e=1,l=1;if(90===m||270===m)e=g/d,l=d/g;f.setProp("transform",a,"rotate("+j+"deg) scale("+e+","+l+")");if(this.textLayer){m=this.textLayer.viewport;g=Math.abs(this.viewport.rotation-m.rotation);j=d/m.width;if(90===g||270===g)j=d/m.height;var d=this.textLayer.textLayerDiv,h,s;switch(g){case 0:h=s=0;break;case 90:h=0;s="-"+d.style.height;break;case 180:h="-"+d.style.width;s="-"+d.style.height;
break;case 270:h="-"+d.style.width;s=0;break;default:console.error("Bad rotation value.")}f.setProp("transform",d,"rotate("+g+"deg) scale("+j+", "+j+") translate("+h+", "+s+")");f.setProp("transformOrigin",d,"0% 0%")}b&&this.annotationLayer&&this.annotationLayer.render(this.viewport,"display")},get width(){return this.viewport.width},get height(){return this.viewport.height},getPagePoint:function(a,b){return this.viewport.convertToPdfPoint(a,b)},draw:function(){this.renderingState!==g.INITIAL&&(console.error("Must be in new state before drawing"),
this.reset());this.renderingState=g.RUNNING;var a=this,b=this.pdfPage,d=this.div,j=document.createElement("div");j.style.width=d.style.width;j.style.height=d.style.height;j.classList.add("canvasWrapper");this.annotationLayer&&this.annotationLayer.div?d.insertBefore(j,this.annotationLayer.div):d.appendChild(j);var m=null,e=null;this.textLayerFactory&&(m=document.createElement("div"),m.className="textLayer",m.style.width=j.style.width,m.style.height=j.style.height,this.annotationLayer&&this.annotationLayer.div?
d.insertBefore(m,this.annotationLayer.div):d.appendChild(m),e=this.textLayerFactory.createTextLayerBuilder(m,this.id-1,this.viewport,this.enhanceTextSelection));this.textLayer=e;m=null;this.renderingQueue&&(m=function(b){if(a.renderingQueue.isHighestPriority(a))b();else{a.renderingState=g.PAUSED;a.resume=function(){a.renderingState=g.RUNNING;b()}}});var l=function(f){if(h===a.paintTask)a.paintTask=null;if(f==="cancelled"||f instanceof c.RenderingCancelledException){a.error=null;return Promise.resolve(void 0)}a.renderingState=
g.FINISHED;if(a.loadingIconDiv){d.removeChild(a.loadingIconDiv);delete a.loadingIconDiv}a._resetZoomLayer(true);a.error=f;a.stats=b.stats;if(a.onAfterDraw)a.onAfterDraw();a.eventBus.dispatch("pagerendered",{source:a,pageNumber:a.id,cssTransform:false});return f?Promise.reject(f):Promise.resolve(void 0)},h=this.renderer===f.SVG?this.paintOnSvg(j):this.paintOnCanvas(j);h.onRenderContinue=m;this.paintTask=h;j=h.promise.then(function(){return l(null).then(function(){e&&b.getTextContent({normalizeWhitespace:true}).then(function(a){e.setTextContent(a);
e.render(200)})})},function(a){return l(a)});this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(d,b,this.renderInteractiveForms)),this.annotationLayer.render(this.viewport,"display"));d.setAttribute("data-loaded",!0);if(this.onBeforeDraw)this.onBeforeDraw();return j},paintOnCanvas:function(b){var f,d,g={promise:new Promise(function(a,b){f=a;d=b}),onRenderContinue:function(a){a()},cancel:function(){w.cancel()}},e=this.viewport,
h=document.createElement("canvas");h.id="page"+this.id;h.setAttribute("hidden","hidden");var s=!0,k=function(){s&&(h.removeAttribute("hidden"),s=!1)};b.appendChild(h);this.canvas=h;h.mozOpaque=!0;var b=h.getContext("2d",{alpha:!1}),i=a(b);this.outputScale=i;if(c.PDFJS.useOnlyCssZoom){var t=e.clone({scale:l});i.sx*=t.width/e.width;i.sy*=t.height/e.height;i.scaled=!0}0<c.PDFJS.maxCanvasPixels&&(t=Math.sqrt(c.PDFJS.maxCanvasPixels/(e.width*e.height)),i.sx>t||i.sy>t?(i.sx=t,i.sy=t,this.hasRestrictedScaling=
i.scaled=!0):this.hasRestrictedScaling=!1);var t=m(i.sx),x=m(i.sy);h.width=j(e.width*i.sx,t[0]);h.height=j(e.height*i.sy,x[0]);h.style.width=j(e.width,t[1])+"px";h.style.height=j(e.height,x[1])+"px";this.paintedViewportMap.set(h,e);var w=this.pdfPage.render({canvasContext:b,transform:!i.scaled?null:[i.sx,0,0,i.sy,0,0],viewport:this.viewport,renderInteractiveForms:this.renderInteractiveForms});w.onContinue=function(a){k();if(g.onRenderContinue)g.onRenderContinue(a);else a()};w.promise.then(function(){k();
f(void 0)},function(a){k();d(a)});return g},paintOnSvg:function(a){var b=!1,f=function(){if(b){if(c.PDFJS.pdfjsNext)throw new c.RenderingCancelledException("Rendering cancelled, page "+d.id,"svg");throw"cancelled";}},d=this,j=this.pdfPage,m=c.SVGGraphics,e=this.viewport.clone({scale:l});return{promise:j.getOperatorList().then(function(b){f();return(new m(j.commonObjs,j.objs)).getSVG(b,e).then(function(b){f();d.svg=b;d.paintedViewportMap.set(b,e);b.style.width=a.style.width;b.style.height=a.style.height;
d.renderingState=g.FINISHED;a.appendChild(b)})}),onRenderContinue:function(a){a()},cancel:function(){b=!0}}},setPageLabel:function(a){this.pageLabel="string"===typeof a?a:null;null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}};return d}();e.PDFPageView=d},function(h,e,d){function k(){}var i=d(2),c=d(0),l=function(){function b(a){this.textLayerDiv=a.textLayerDiv;this.eventBus=a.eventBus||i.getGlobalEventBus();this.textContent=
null;this.renderingDone=!1;this.pageIdx=a.pageIndex;this.pageNumber=this.pageIdx+1;this.matches=[];this.viewport=a.viewport;this.textDivs=[];this.findController=a.findController||null;this.textLayerRenderTask=null;this.enhanceTextSelection=a.enhanceTextSelection;this._bindMouse()}b.prototype={_finishRendering:function(){this.renderingDone=!0;if(!this.enhanceTextSelection){var a=document.createElement("div");a.className="endOfContent";this.textLayerDiv.appendChild(a)}this.eventBus.dispatch("textlayerrendered",
{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})},render:function(a){if(this.textContent&&!this.renderingDone){this.cancel();this.textDivs=[];var b=document.createDocumentFragment();this.textLayerRenderTask=c.renderTextLayer({textContent:this.textContent,container:b,viewport:this.viewport,textDivs:this.textDivs,timeout:a,enhanceTextSelection:this.enhanceTextSelection});this.textLayerRenderTask.promise.then(function(){this.textLayerDiv.appendChild(b);this._finishRendering();
this.updateMatches()}.bind(this),function(){})}},cancel:function(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null)},setTextContent:function(a){this.cancel();this.textContent=a},convertMatches:function(a,b){var c=0,f=0,d=this.textContent.items,e=d.length-1,h=null===this.findController?0:this.findController.state.query.length,l=[];if(!a)return l;for(var i=0,k=a.length;i<k;i++){for(var p=a[i];c!==e&&p>=f+d[c].str.length;)f+=d[c].str.length,c++;c===d.length&&
console.error("Could not find a matching mapping");for(var r={begin:{divIdx:c,offset:p-f}},p=b?p+b[i]:p+h;c!==e&&p>f+d[c].str.length;)f+=d[c].str.length,c++;r.end={divIdx:c,offset:p-f};l.push(r)}return l},renderMatches:function(a){function b(a,d){var f=a.divIdx;g[f].textContent="";c(f,0,a.offset,d)}function c(a,b,e,j){var m=g[a],a=d[a].str.substring(b,e),a=document.createTextNode(a);j?(b=document.createElement("span"),b.className=j,b.appendChild(a),m.appendChild(b)):m.appendChild(a)}if(0!==a.length){var d=
this.textContent.items,g=this.textDivs,e=null,h=this.pageIdx,l=null===this.findController?!1:h===this.findController.selected.pageIdx,i=null===this.findController?-1:this.findController.selected.matchIdx,k=i,p=k+1;if(null===this.findController?0:this.findController.state.highlightAll)k=0,p=a.length;else if(!l)return;for(;k<p;k++){var r=a[k],n=r.begin,r=r.end,u=l&&k===i?" selected":"";this.findController&&this.findController.updateMatchPosition(h,k,g,n.divIdx);!e||n.divIdx!==e.divIdx?(null!==e&&c(e.divIdx,
e.offset,void 0),b(n)):c(e.divIdx,e.offset,n.offset);if(n.divIdx===r.divIdx)c(n.divIdx,n.offset,r.offset,"highlight"+u);else{c(n.divIdx,n.offset,void 0,"highlight begin"+u);e=n.divIdx+1;for(n=r.divIdx;e<n;e++)g[e].className="highlight middle"+u;b(r,"highlight end"+u)}e=r}e&&c(e.divIdx,e.offset,void 0)}},updateMatches:function(){if(this.renderingDone){for(var a=this.matches,b=this.textDivs,c=this.textContent.items,d=-1,g=0,e=a.length;g<e;g++){for(var h=a[g],d=Math.max(d,h.begin.divIdx),l=h.end.divIdx;d<=
l;d++){var i=b[d];i.textContent=c[d].str;i.className=""}d=h.end.divIdx+1}if(null!==this.findController&&this.findController.active){var k,p;null!==this.findController&&(k=this.findController.pageMatches[this.pageIdx]||null,p=this.findController.pageMatchesLength?this.findController.pageMatchesLength[this.pageIdx]||null:null);this.matches=this.convertMatches(k,p);this.renderMatches(this.matches)}}},_bindMouse:function(){var a=this.textLayerDiv,b=this,c=null;a.addEventListener("mousedown",function(d){if(b.enhanceTextSelection&&
b.textLayerRenderTask)b.textLayerRenderTask.expandTextDivs(!0),c&&(clearTimeout(c),c=null);else{var g=a.querySelector(".endOfContent");if(g){var e=d.target!==a;if(e=e&&"none"!==window.getComputedStyle(g).getPropertyValue("-moz-user-select"))e=a.getBoundingClientRect(),d=Math.max(0,(d.pageY-e.top)/e.height),g.style.top=(100*d).toFixed(2)+"%";g.classList.add("active")}}});a.addEventListener("mouseup",function(){if(b.enhanceTextSelection&&b.textLayerRenderTask)c=setTimeout(function(){b.textLayerRenderTask&&
b.textLayerRenderTask.expandTextDivs(!1);c=null},300);else{var d=a.querySelector(".endOfContent");d&&(d.style.top="",d.classList.remove("active"))}})}};return b}();k.prototype={createTextLayerBuilder:function(b,a,c,d){return new l({textLayerDiv:b,pageIndex:a,viewport:c,enhanceTextSelection:d})}};e.TextLayerBuilder=l;e.DefaultTextLayerFactory=k},function(h,e){var d={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},k=function(){function e(){this.idleTimeout=this.highestPriorityPage=this.onIdle=this.pdfThumbnailViewer=
this.pdfViewer=null;this.isThumbnailViewEnabled=this.printing=!1}e.prototype={setViewer:function(c){this.pdfViewer=c},setThumbnailViewer:function(c){this.pdfThumbnailViewer=c},isHighestPriority:function(c){return this.highestPriorityPage===c.renderingId},renderHighestPriority:function(c){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null);if(!this.pdfViewer.forceRendering(c)&&(!this.pdfThumbnailViewer||!this.isThumbnailViewEnabled||!this.pdfThumbnailViewer.forceRendering())&&
!this.printing&&this.onIdle)this.idleTimeout=setTimeout(this.onIdle.bind(this),3E4)},getHighestPriority:function(c,d,b){var a=c.views,e=a.length;if(0===e)return!1;for(var j=0;j<e;++j){var f=a[j].view;if(!this.isViewFinished(f))return f}c=b?c.last.id:c.first.id-2;return d[c]&&!this.isViewFinished(d[c])?d[c]:null},isViewFinished:function(c){return c.renderingState===d.FINISHED},renderView:function(c){switch(c.renderingState){case d.FINISHED:return!1;case d.PAUSED:this.highestPriorityPage=c.renderingId;
c.resume();break;case d.RUNNING:this.highestPriorityPage=c.renderingId;break;case d.INITIAL:this.highestPriorityPage=c.renderingId;var e=function(){this.renderHighestPriority()}.bind(this);c.draw().then(e,e)}return!0}};return e}();e.RenderingStates=d;e.PDFRenderingQueue=k},function(h,e,d){function k(c,b){var a=document.createElement("a");a.click?(a.href=c,a.target="_parent","download"in a&&(a.download=b),(document.body||document.documentElement).appendChild(a),a.click(),a.parentNode.removeChild(a)):
(window.top===window&&c.split("#")[0]===window.location.href.split("#")[0]&&(a=-1===c.indexOf("?")?"?":"&",c=c.replace(/#|$/,a+"$&")),window.open(c,"_parent"))}function i(){}var c=d(0);i.prototype={downloadUrl:function(d,b){c.createValidAbsoluteUrl(d,"http://example.com")&&k(d+"#pdfjs.action=download",b)},downloadData:function(d,b,a){if(navigator.msSaveBlob)return navigator.msSaveBlob(new Blob([d],{type:a}),b);d=c.createObjectURL(d,a,c.PDFJS.disableCreateObjectURL);k(d,b)},download:function(d,b,a){navigator.msSaveBlob?
navigator.msSaveBlob(d,a)||this.downloadUrl(b,a):c.PDFJS.disableCreateObjectURL?this.downloadUrl(b,a):(d=URL.createObjectURL(d),k(d,a))}};e.DownloadManager=i},function(h,e,d){var k=d(1).scrollIntoView,i={FIND_FOUND:0,FIND_NOTFOUND:1,FIND_WRAPPED:2,FIND_PENDING:3},c={"\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\u00bc":"1/4","\u00bd":"1/2","\u00be":"3/4"},h=function(){function d(b){this.pdfViewer=b.pdfViewer||null;this.onUpdateState=this.onUpdateResultsCount=
null;this.reset();b=Object.keys(c).join("");this.normalizationRegex=RegExp("["+b+"]","g")}d.prototype={reset:function(){this.startedTextExtraction=!1;this.extractTextPromises=[];this.pendingFindMatches=Object.create(null);this.active=!1;this.pageContents=[];this.pageMatches=[];this.pageMatchesLength=null;this.matchCount=0;this.selected={pageIdx:-1,matchIdx:-1};this.offset={pageIdx:null,matchIdx:null};this.state=this.resumePageIdx=this.pagesToSearch=null;this.dirtyMatch=!1;this.findTimeout=null;this.firstPagePromise=
new Promise(function(b){this.resolveFirstPage=b}.bind(this))},normalize:function(b){return b.replace(this.normalizationRegex,function(a){return c[a]})},_prepareMatches:function(b,a,c){function d(a,b){var c,f;c=a[b];f=a[b+1];if(b<a.length-1&&c.match===f.match)return c.skipped=!0;for(var e=b-1;0<=e;e--)if(f=a[e],!f.skipped){if(f.match+f.matchLength<c.match)break;if(f.match+f.matchLength>=c.match+c.matchLength)return c.skipped=!0}return!1}var f,e;b.sort(function(a,b){return a.match===b.match?a.matchLength-
b.matchLength:a.match-b.match});f=0;for(e=b.length;f<e;f++)d(b,f)||(a.push(b[f].match),c.push(b[f].matchLength))},calcFindPhraseMatch:function(b,a,c){for(var d=[],f=b.length,e=-f;;){e=c.indexOf(b,e+f);if(-1===e)break;d.push(e)}this.pageMatches[a]=d},calcFindWordMatch:function(b,a,c){for(var d=[],b=b.match(/\S+/g),f,e,h,i=0,k=b.length;i<k;i++){f=b[i];e=f.length;for(h=-e;;){h=c.indexOf(f,h+e);if(-1===h)break;d.push({match:h,matchLength:e,skipped:!1})}}this.pageMatchesLength||(this.pageMatchesLength=
[]);this.pageMatchesLength[a]=[];this.pageMatches[a]=[];this._prepareMatches(d,this.pageMatches[a],this.pageMatchesLength[a])},calcFindMatch:function(b){var a=this.normalize(this.pageContents[b]),c=this.normalize(this.state.query),d=this.state.caseSensitive,e=this.state.phraseSearch;if(0!==c.length&&(d||(a=a.toLowerCase(),c=c.toLowerCase()),e?this.calcFindPhraseMatch(c,b,a):this.calcFindWordMatch(c,b,a),this.updatePage(b),this.resumePageIdx===b&&(this.resumePageIdx=null,this.nextPageMatch()),0<this.pageMatches[b].length))this.matchCount+=
this.pageMatches[b].length,this.updateUIResultsCount()},extractText:function(){function b(c){e.pdfViewer.getPageTextContent(c).then(function(d){for(var d=d.items,h=[],j=0,m=d.length;j<m;j++)h.push(d[j].str);e.pageContents.push(h.join(""));a[c](c);c+1<e.pdfViewer.pagesCount&&b(c+1)})}if(!this.startedTextExtraction){this.startedTextExtraction=!0;this.pageContents=[];for(var a=[],c=this.pdfViewer.pagesCount,d=0;d<c;d++)this.extractTextPromises.push(new Promise(function(b){a.push(b)}));var e=this;b(0)}},
executeCommand:function(b,a){if(null===this.state||"findagain"!==b)this.dirtyMatch=!0;this.state=a;this.updateUIState(i.FIND_PENDING);this.firstPagePromise.then(function(){this.extractText();clearTimeout(this.findTimeout);"find"===b?this.findTimeout=setTimeout(this.nextMatch.bind(this),250):this.nextMatch()}.bind(this))},updatePage:function(b){this.selected.pageIdx===b&&(this.pdfViewer.currentPageNumber=b+1);b=this.pdfViewer.getPageView(b);b.textLayer&&b.textLayer.updateMatches()},nextMatch:function(){var b=
this.state.findPrevious,a=this.pdfViewer.currentPageNumber-1,c=this.pdfViewer.pagesCount;this.active=!0;if(this.dirtyMatch){this.dirtyMatch=!1;this.selected.pageIdx=this.selected.matchIdx=-1;this.offset.pageIdx=a;this.offset.matchIdx=null;this.hadMatch=!1;this.resumePageIdx=null;this.pageMatches=[];this.matchCount=0;this.pageMatchesLength=null;for(var d=this,a=0;a<c;a++)this.updatePage(a),a in this.pendingFindMatches||(this.pendingFindMatches[a]=!0,this.extractTextPromises[a].then(function(a){delete d.pendingFindMatches[a];
d.calcFindMatch(a)}))}if(""===this.state.query)this.updateUIState(i.FIND_FOUND);else if(!this.resumePageIdx){a=this.offset;this.pagesToSearch=c;if(null!==a.matchIdx){c=this.pageMatches[a.pageIdx].length;if(!b&&a.matchIdx+1<c||b&&0<a.matchIdx){this.hadMatch=!0;a.matchIdx=b?a.matchIdx-1:a.matchIdx+1;this.updateMatch(!0);return}this.advanceOffsetPage(b)}this.nextPageMatch()}},matchesReady:function(b){var a=this.offset,b=b.length,c=this.state.findPrevious;if(b)return this.hadMatch=!0,a.matchIdx=c?b-1:
0,this.updateMatch(!0),!0;this.advanceOffsetPage(c);return a.wrapped&&(a.matchIdx=null,0>this.pagesToSearch)?(this.updateMatch(!1),!0):!1},updateMatchPosition:function(b,a,c,d){this.selected.matchIdx===a&&this.selected.pageIdx===b&&k(c[d],{top:-50,left:-400},!0)},nextPageMatch:function(){null!==this.resumePageIdx&&console.error("There can only be one pending page.");do{var b=this.offset.pageIdx,a=this.pageMatches[b];if(!a){this.resumePageIdx=b;break}}while(!this.matchesReady(a))},advanceOffsetPage:function(b){var a=
this.offset,c=this.extractTextPromises.length;a.pageIdx=b?a.pageIdx-1:a.pageIdx+1;a.matchIdx=null;this.pagesToSearch--;if(a.pageIdx>=c||0>a.pageIdx)a.pageIdx=b?c-1:0,a.wrapped=!0},updateMatch:function(b){var a=i.FIND_NOTFOUND,c=this.offset.wrapped;this.offset.wrapped=!1;b&&(b=this.selected.pageIdx,this.selected.pageIdx=this.offset.pageIdx,this.selected.matchIdx=this.offset.matchIdx,a=c?i.FIND_WRAPPED:i.FIND_FOUND,-1!==b&&b!==this.selected.pageIdx&&this.updatePage(b));this.updateUIState(a,this.state.findPrevious);
-1!==this.selected.pageIdx&&this.updatePage(this.selected.pageIdx)},updateUIResultsCount:function(){if(this.onUpdateResultsCount)this.onUpdateResultsCount(this.matchCount)},updateUIState:function(b,a){if(this.onUpdateState)this.onUpdateState(b,a,this.matchCount)}};return d}();e.FindStates=i;e.PDFFindController=h},function(h,e,d){function k(c){this.linkService=c.linkService;this.eventBus=c.eventBus||i.getGlobalEventBus();this.initialized=!1;this.initialBookmark=this.initialDestination=null}var i=d(2);
k.prototype={initialize:function(c){function d(){e.previousHash=window.location.hash.slice(1);e._pushToHistory({hash:e.previousHash},!1,!0);e._updatePreviousBookmark()}function b(a,b){function c(){window.removeEventListener("popstate",c);window.addEventListener("popstate",d);e._pushToHistory(a,!1,!0);history.forward()}function d(){window.removeEventListener("popstate",d);e.allowHashChange=!0;e.historyUnlocked=!0;b()}e.historyUnlocked=!1;e.allowHashChange=!1;window.addEventListener("popstate",c);history.back()}
function a(){var b=e._getPreviousParams(null,!0);b&&(e._pushToHistory(b,!1,!e.current.dest&&e.current.hash!==e.previousHash),e._updatePreviousBookmark());window.removeEventListener("beforeunload",a)}this.initialized=!0;this.reInitialized=!1;this.historyUnlocked=this.allowHashChange=!0;this.isViewerInPresentationMode=!1;this.previousHash=window.location.hash.substring(1);this.currentBookmark="";this.currentPage=0;this.updatePreviousBookmark=!1;this.previousBookmark="";this.previousPage=0;this.nextHashParam=
"";this.fingerprint=c;this.currentUid=this.uid=0;this.current={};c=window.history.state;this._isStateObjectDefined(c)?(c.target.dest?this.initialDestination=c.target.dest:this.initialBookmark=c.target.hash,this.currentUid=c.uid,this.uid=c.uid+1,this.current=c.target):(c&&(c.fingerprint&&this.fingerprint!==c.fingerprint)&&(this.reInitialized=!0),this._pushOrReplaceState({fingerprint:this.fingerprint},!0));var e=this;window.addEventListener("popstate",function(a){e.historyUnlocked&&(a.state?e._goTo(a.state):
e.uid===0?b(e.previousHash&&e.currentBookmark&&e.previousHash!==e.currentBookmark?{hash:e.currentBookmark,page:e.currentPage}:{page:1},function(){d()}):d())});window.addEventListener("beforeunload",a);window.addEventListener("pageshow",function(){window.addEventListener("beforeunload",a)});e.eventBus.on("presentationmodechanged",function(a){e.isViewerInPresentationMode=a.active})},clearHistoryState:function(){this._pushOrReplaceState(null,!0)},_isStateObjectDefined:function(c){return c&&0<=c.uid&&
c.fingerprint&&this.fingerprint===c.fingerprint&&c.target&&c.target.hash?!0:!1},_pushOrReplaceState:function(c,d){d?window.history.replaceState(c,"",document.URL):window.history.pushState(c,"",document.URL)},get isHashChangeUnlocked(){return!this.initialized?!0:this.allowHashChange},_updatePreviousBookmark:function(){this.updatePreviousBookmark&&(this.currentBookmark&&this.currentPage)&&(this.previousBookmark=this.currentBookmark,this.previousPage=this.currentPage,this.updatePreviousBookmark=!1)},
updateCurrentBookmark:function(c,d){this.initialized&&(this.currentBookmark=c.substring(1),this.currentPage=d|0,this._updatePreviousBookmark())},updateNextHashParam:function(c){this.initialized&&(this.nextHashParam=c)},push:function(c,d){if(this.initialized&&this.historyUnlocked)if(c.dest&&!c.hash&&(c.hash=this.current.hash&&this.current.dest&&this.current.dest===c.dest?this.current.hash:this.linkService.getDestinationHash(c.dest).split("#")[1]),c.page&&(c.page|=0),d){var b=window.history.state.target;
b||(this._pushToHistory(c,!1),this.previousHash=window.location.hash.substring(1));this.updatePreviousBookmark=this.nextHashParam?!1:!0;b&&this._updatePreviousBookmark()}else{if(this.nextHashParam){if(this.nextHashParam===c.hash){this.nextHashParam=null;this.updatePreviousBookmark=!0;return}this.nextHashParam=null}c.hash?this.current.hash?this.current.hash!==c.hash?this._pushToHistory(c,!0):(!this.current.page&&c.page&&this._pushToHistory(c,!1,!0),this.updatePreviousBookmark=!0):this._pushToHistory(c,
!0):this.current.page&&(c.page&&this.current.page!==c.page)&&this._pushToHistory(c,!0)}},_getPreviousParams:function(c,d){if(!this.currentBookmark||!this.currentPage)return null;this.updatePreviousBookmark&&(this.updatePreviousBookmark=!1);if(0<this.uid&&(!this.previousBookmark||!this.previousPage))return null;if(!this.current.dest&&!c||d){if(this.previousBookmark===this.currentBookmark)return null}else if(this.current.page||c){if(this.previousPage===this.currentPage)return null}else return null;
var b={hash:this.currentBookmark,page:this.currentPage};this.isViewerInPresentationMode&&(b.hash=null);return b},_stateObj:function(c){return{fingerprint:this.fingerprint,uid:this.uid,target:c}},_pushToHistory:function(c,d,b){this.initialized&&(!c.hash&&c.page&&(c.hash="page="+c.page),d&&!b&&(d=this._getPreviousParams())&&this._pushToHistory(d,!1,!this.current.dest&&this.current.hash!==this.previousHash),this._pushOrReplaceState(this._stateObj(c),b||0===this.uid),this.currentUid=this.uid++,this.current=
c,this.updatePreviousBookmark=!0)},_goTo:function(c){if(this.initialized&&this.historyUnlocked&&this._isStateObjectDefined(c)){if(!this.reInitialized&&c.uid<this.currentUid){var d=this._getPreviousParams(!0);if(d){this._pushToHistory(this.current,!1);this._pushToHistory(d,!1);this.currentUid=c.uid;window.history.back();return}}this.historyUnlocked=!1;c.target.dest?this.linkService.navigateTo(c.target.dest):this.linkService.setHash(c.target.hash);this.currentUid=c.uid;c.uid>this.uid&&(this.uid=c.uid);
this.current=c.target;this.updatePreviousBookmark=!0;c=window.location.hash.substring(1);this.previousHash!==c&&(this.allowHashChange=!1);this.previousHash=c;this.historyUnlocked=!0}},back:function(){this.go(-1)},forward:function(){this.go(1)},go:function(c){if(this.initialized&&this.historyUnlocked){var d=window.history.state;-1===c&&d&&0<d.uid?window.history.back():1===c&&(d&&d.uid<this.uid-1)&&window.history.forward()}}};e.PDFHistory=k},function(h,e,d){var h=d(1),k=d(5),i=d(7),c=d(6),l=d(4),b=
d(3),a=d(2),m=d(0),j=h.UNKNOWN_SCALE,f=h.SCROLLBAR_PADDING,g=h.VERTICAL_PADDING,s=h.MAX_AUTO_SCALE,o=h.CSS_UNITS,z=h.DEFAULT_SCALE,A=h.DEFAULT_SCALE_VALUE,q=h.RendererType,p=h.scrollIntoView,r=h.watchScroll,n=h.getVisibleElements,u=k.PDFPageView,v=i.RenderingStates,t=i.PDFRenderingQueue,x=c.TextLayerBuilder,w=l.AnnotationLayerBuilder,B=b.SimpleLinkService,y={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},d=function(){function b(a){var c=[];this.push=function(b){var d=c.indexOf(b);0<=d&&c.splice(d,1);
c.push(b);c.length>a&&c.shift().destroy()};this.resize=function(b){for(a=b;c.length>a;)c.shift().destroy()}}function c(b){this.container=b.container;this.viewer=b.viewer||b.container.firstElementChild;this.eventBus=b.eventBus||a.getGlobalEventBus();this.linkService=b.linkService||new B;this.downloadManager=b.downloadManager||null;this.removePageBorders=b.removePageBorders||!1;this.enhanceTextSelection=b.enhanceTextSelection||!1;this.renderInteractiveForms=b.renderInteractiveForms||!1;this.enablePrintAutoRotate=
b.enablePrintAutoRotate||!1;this.renderer=b.renderer||q.CANVAS;(this.defaultRenderingQueue=!b.renderingQueue)?(this.renderingQueue=new t,this.renderingQueue.setViewer(this)):this.renderingQueue=b.renderingQueue;this.scroll=r(this.container,this._scrollUpdate.bind(this));this.presentationModeState=y.UNKNOWN;this._resetView();this.removePageBorders&&this.viewer.classList.add("removePageBorders")}c.prototype={get pagesCount(){return this._pages.length},getPageView:function(a){return this._pages[a]},
get pageViewsReady(){return this._pageViewsReady},get currentPageNumber(){return this._currentPageNumber},set currentPageNumber(a){if((a|0)!==a)throw Error("Invalid page number.");this.pdfDocument?this._setCurrentPageNumber(a,!0):this._currentPageNumber=a},_setCurrentPageNumber:function(a,b){if(this._currentPageNumber===a)b&&this._resetCurrentPageView();else if(0<a&&a<=this.pagesCount){var c={source:this,pageNumber:a,pageLabel:this._pageLabels&&this._pageLabels[a-1]};this._currentPageNumber=a;this.eventBus.dispatch("pagechanging",
c);this.eventBus.dispatch("pagechange",c);b&&this._resetCurrentPageView()}else console.error('PDFViewer_setCurrentPageNumber: "'+a+'" is out of bounds.')},get currentPageLabel(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]},set currentPageLabel(a){var b=a|0;this._pageLabels&&(a=this._pageLabels.indexOf(a),0<=a&&(b=a+1));this.currentPageNumber=b},get currentScale(){return this._currentScale!==j?this._currentScale:z},set currentScale(a){if(isNaN(a))throw Error("Invalid numeric scale");
this.pdfDocument?this._setScale(a,!1):(this._currentScale=a,this._currentScaleValue=a!==j?a.toString():null)},get currentScaleValue(){return this._currentScaleValue},set currentScaleValue(a){this.pdfDocument?this._setScale(a,!1):(this._currentScale=isNaN(a)?j:a,this._currentScaleValue=a.toString())},get pagesRotation(){return this._pagesRotation},set pagesRotation(a){if(!("number"===typeof a&&0===a%90))throw Error("Invalid pages rotation angle.");this._pagesRotation=a;if(this.pdfDocument){for(var b=
0,c=this._pages.length;b<c;b++){var d=this._pages[b];d.update(d.scale,a)}this._setScale(this._currentScaleValue,!0);this.defaultRenderingQueue&&this.update()}},setDocument:function(a){this.pdfDocument&&(this._cancelRendering(),this._resetView());if(this.pdfDocument=a){var b=a.numPages,c=this,d,e=new Promise(function(a){d=a});this.pagesPromise=e;e.then(function(){c._pageViewsReady=true;c.eventBus.dispatch("pagesloaded",{source:c,pagesCount:b})});var f=!1,g=null,h=new Promise(function(a){g=a});this.onePageRendered=
h;var j=function(a){a.onBeforeDraw=function(){c._buffer.push(this)};a.onAfterDraw=function(){if(!f){f=true;g()}}};this.firstPagePromise=e=a.getPage(1);return e.then(function(e){for(var f=this.currentScale,e=e.getViewport(f*o),g=1;g<=b;++g){var i=null;m.PDFJS.disableTextLayer||(i=this);i=new u({container:this.viewer,eventBus:this.eventBus,id:g,scale:f,defaultViewport:e.clone(),renderingQueue:this.renderingQueue,textLayerFactory:i,annotationLayerFactory:this,enhanceTextSelection:this.enhanceTextSelection,
renderInteractiveForms:this.renderInteractiveForms,renderer:this.renderer});j(i);this._pages.push(i)}var k=this.linkService;h.then(function(){if(m.PDFJS.disableAutoFetch)d();else for(var e=b,f=1;f<=b;++f)a.getPage(f).then(function(a,b){var f=c._pages[a-1];f.pdfPage||f.setPdfPage(b);k.cachePageRef(a,b.ref);e--;e||d()}.bind(null,f))});c.eventBus.dispatch("pagesinit",{source:c});this.defaultRenderingQueue&&this.update();this.findController&&this.findController.resolveFirstPage()}.bind(this))}},setPageLabels:function(a){if(this.pdfDocument){a?
a instanceof Array&&this.pdfDocument.numPages===a.length?this._pageLabels=a:(this._pageLabels=null,console.error("PDFViewer_setPageLabels: Invalid page labels.")):this._pageLabels=null;for(var a=0,b=this._pages.length;a<b;a++)this._pages[a].setPageLabel(this._pageLabels&&this._pageLabels[a])}},_resetView:function(){this._pages=[];this._currentPageNumber=1;this._currentScale=j;this._pageLabels=this._currentScaleValue=null;this._buffer=new b(10);this._location=null;this._pagesRotation=0;this._pagesRequests=
[];this._pageViewsReady=!1;this.viewer.textContent=""},_scrollUpdate:function(){if(0!==this.pagesCount){this.update();for(var a=0,b=this._pages.length;a<b;a++)this._pages[a].updatePosition()}},_setScaleDispatchEvent:function(a,b,c){a={source:this,scale:a,presetValue:c?b:void 0};this.eventBus.dispatch("scalechanging",a);this.eventBus.dispatch("scalechange",a)},_setScaleUpdatePages:function(a,b,c,d){this._currentScaleValue=b.toString();var e;e=this._currentScale;e=a===e?!0:1.0E-15>Math.abs(a-e)?!0:
!1;if(e)d&&this._setScaleDispatchEvent(a,b,!0);else{e=0;for(var f=this._pages.length;e<f;e++)this._pages[e].update(a);this._currentScale=a;if(!c){var c=this._currentPageNumber,g;this._location&&(!m.PDFJS.ignoreCurrentPositionOnZoom&&!this.isInPresentationMode&&!this.isChangingPresentationMode)&&(c=this._location.pageNumber,g=[null,{name:"XYZ"},this._location.left,this._location.top,null]);this.scrollPageIntoView({pageNumber:c,destArray:g,allowNegativeOffset:!0})}this._setScaleDispatchEvent(a,b,d);
this.defaultRenderingQueue&&this.update()}},_setScale:function(a,b){var c=parseFloat(a);if(0<c)this._setScaleUpdatePages(c,a,b,!1);else if(c=this._pages[this._currentPageNumber-1]){var d=(this.container.clientWidth-(this.isInPresentationMode||this.removePageBorders?0:f))/c.width*c.scale,e=(this.container.clientHeight-(this.isInPresentationMode||this.removePageBorders?0:g))/c.height*c.scale;switch(a){case "page-actual":c=1;break;case "page-width":c=d;break;case "page-height":c=e;break;case "page-fit":c=
Math.min(d,e);break;case "auto":c=c.width>c.height?Math.min(e,d):d;c=Math.min(s,c);break;default:console.error('PDFViewer_setScale: "'+a+'" is an unknown zoom value.');return}this._setScaleUpdatePages(c,a,b,!0)}},_resetCurrentPageView:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0);p(this._pages[this._currentPageNumber-1].div)},scrollPageIntoView:function(a){if(this.pdfDocument){if(1<arguments.length||"number"===typeof a){console.warn("Call of scrollPageIntoView() with obsolete signature.");
var b={};"number"===typeof a&&(b.pageNumber=a);arguments[1]instanceof Array&&(b.destArray=arguments[1]);a=b}var c=a.pageNumber||0,d=a.destArray||null,b=a.allowNegativeOffset||!1;if(this.isInPresentationMode||!d)this._setCurrentPageNumber(c,!0);else if(c=this._pages[c-1]){var e=0,h=0,i=0,k=0,m,l;l=0===c.rotation%180?!1:!0;m=(l?c.height:c.width)/c.scale/o;l=(l?c.width:c.height)/c.scale/o;var n=0;switch(d[1].name){case "XYZ":e=d[2];h=d[3];n=d[4];e=null!==e?e:0;h=null!==h?h:l;break;case "Fit":case "FitB":n=
"page-fit";break;case "FitH":case "FitBH":h=d[2];n="page-width";null===h&&this._location&&(e=this._location.left,h=this._location.top);break;case "FitV":case "FitBV":e=d[2];i=m;k=l;n="page-height";break;case "FitR":e=d[2];h=d[3];i=d[4]-e;k=d[5]-h;l=this.removePageBorders?0:g;m=(this.container.clientWidth-(this.removePageBorders?0:f))/i/o;l=(this.container.clientHeight-l)/k/o;n=Math.min(Math.abs(m),Math.abs(l));break;default:console.error("PDFViewer_scrollPageIntoView: '"+d[1].name+"' is not a valid destination type.");
return}n&&n!==this._currentScale?this.currentScaleValue=n:this._currentScale===j&&(this.currentScaleValue=A);"page-fit"===n&&!d[4]?p(c.div):(e=[c.viewport.convertToViewportPoint(e,h),c.viewport.convertToViewportPoint(e+i,h+k)],d=Math.min(e[0][0],e[1][0]),e=Math.min(e[0][1],e[1][1]),b||(d=Math.max(d,0),e=Math.max(e,0)),p(c.div,{left:d,top:e}))}else console.error('PDFViewer_scrollPageIntoView: Invalid "pageNumber" parameter.')}},_updateLocation:function(a){var b=this._currentScale,c=this._currentScaleValue,
b=parseFloat(c)===b?Math.round(1E4*b)/100:c,c=a.id,d;d="#page="+c+("&zoom="+b);var e=this.container,e=this._pages[c-1].getPagePoint(e.scrollLeft-a.x,e.scrollTop-a.y),a=Math.round(e[0]),e=Math.round(e[1]);this._location={pageNumber:c,scale:b,top:e,left:a,pdfOpenParams:d+(","+a+","+e)}},update:function(){var a=this._getVisiblePages(),b=a.views;if(0!==b.length){this._buffer.resize(Math.max(10,2*b.length+1));this.renderingQueue.renderHighestPriority(a);for(var c=this._currentPageNumber,a=a.first,d=0,
e=b.length,f=!1;d<e;++d){var g=b[d];if(100>g.percent)break;if(g.id===c){f=!0;break}}f||(c=b[0].id);this.isInPresentationMode||this._setCurrentPageNumber(c);this._updateLocation(a);this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}},containsElement:function(a){return this.container.contains(a)},focus:function(){this.container.focus()},get isInPresentationMode(){return this.presentationModeState===y.FULLSCREEN},get isChangingPresentationMode(){return this.presentationModeState===
y.CHANGING},get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth},_getVisiblePages:function(){if(!this.isInPresentationMode)return n(this.container,this._pages,!0);var a=[],b=this._pages[this._currentPageNumber-1];a.push({id:b.id,view:b});return{first:b,last:b,views:a}},cleanup:function(){for(var a=0,b=this._pages.length;a<b;a++)this._pages[a]&&this._pages[a].renderingState!==v.FINISHED&&this._pages[a].reset()},_cancelRendering:function(){for(var a=
0,b=this._pages.length;a<b;a++)this._pages[a]&&this._pages[a].cancelRendering()},_ensurePdfPageLoaded:function(a){if(a.pdfPage)return Promise.resolve(a.pdfPage);var b=a.id;if(this._pagesRequests[b])return this._pagesRequests[b];var c=this.pdfDocument.getPage(b).then(function(c){a.setPdfPage(c);this._pagesRequests[b]=null;return c}.bind(this));return this._pagesRequests[b]=c},forceRendering:function(a){var b=this.renderingQueue.getHighestPriority(a||this._getVisiblePages(),this._pages,this.scroll.down);
return b?(this._ensurePdfPageLoaded(b).then(function(){this.renderingQueue.renderView(b)}.bind(this)),!0):!1},getPageTextContent:function(a){return this.pdfDocument.getPage(a+1).then(function(a){return a.getTextContent({normalizeWhitespace:!0})})},createTextLayerBuilder:function(a,b,c,d){return new x({textLayerDiv:a,eventBus:this.eventBus,pageIndex:b,viewport:c,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:this.isInPresentationMode?!1:d})},createAnnotationLayerBuilder:function(a,
b,c){return new w({pageDiv:a,pdfPage:b,renderInteractiveForms:c,linkService:this.linkService,downloadManager:this.downloadManager})},setFindController:function(a){this.findController=a},getPagesOverview:function(){var a=this._pages.map(function(a){a=a.pdfPage.getViewport(1);return{width:a.width,height:a.height,rotation:a.rotation}});if(!this.enablePrintAutoRotate)return a;var b=a[0].width<=a[0].height;return a.map(function(a){return b===a.width<=a.height?a:{width:a.height,height:a.width,rotation:(a.rotation+
90)%360}})}};return c}();e.PresentationModeState=y;e.PDFViewer=d},function(h,e,d){var k=d(0),h=d(11),i=d(5),c=d(3),l=d(6),b=d(4),a=d(10),m=d(9),j=d(1),d=d(8),k=k.PDFJS;k.PDFViewer=h.PDFViewer;k.PDFPageView=i.PDFPageView;k.PDFLinkService=c.PDFLinkService;k.TextLayerBuilder=l.TextLayerBuilder;k.DefaultTextLayerFactory=l.DefaultTextLayerFactory;k.AnnotationLayerBuilder=b.AnnotationLayerBuilder;k.DefaultAnnotationLayerFactory=b.DefaultAnnotationLayerFactory;k.PDFHistory=a.PDFHistory;k.PDFFindController=
m.PDFFindController;k.EventBus=j.EventBus;k.DownloadManager=d.DownloadManager;k.ProgressBar=j.ProgressBar;e.PDFJS=k}])});
