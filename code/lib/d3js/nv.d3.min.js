(function(){var c=window.nv||{};window.nv=c;c.dev=!1;c.tooltip=c.tooltip||{};c.utils=c.utils||{};c.models=c.models||{};c.charts={};c.graphs=[];c.logs={};c.dispatch=d3.dispatch("render_start","render_end");Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,l=function(){},g=function(){return c.apply(this instanceof l&&
a?this:a,b.concat(Array.prototype.slice.call(arguments)))};l.prototype=this.prototype;g.prototype=new l;return g});c.dev&&(c.dispatch.on("render_start",function(){c.logs.startTime=+new Date}),c.dispatch.on("render_end",function(){c.logs.endTime=+new Date;c.logs.totalTime=c.logs.endTime-c.logs.startTime;c.log("total",c.logs.totalTime)}));c.log=function(){c.dev&&window.console&&console.log&&console.log.apply?console.log.apply(console,arguments):c.dev&&(window.console&&typeof console.log=="function"&&
Function.prototype.bind)&&Function.prototype.bind.call(console.log,console).apply(console,arguments);return arguments[arguments.length-1]};c.deprecated=function(a){c.dev&&(console&&console.warn)&&console.warn("`"+a+"` has been deprecated.")};c.render=function(a){a=a||1;c.render.active=true;c.dispatch.render_start();setTimeout(function(){for(var b,f,l=0;l<a&&(f=c.render.queue[l]);l++){b=f.generate();typeof f.callback==typeof Function&&f.callback(b);c.graphs.push(b)}c.render.queue.splice(0,l);if(c.render.queue.length)setTimeout(arguments.callee,
0);else{c.dispatch.render_end();c.render.active=false}},0)};c.render.active=!1;c.render.queue=[];c.addGraph=function(a,b){typeof a===typeof Function&&(a={generate:a,callback:b});c.render.queue.push(a);c.render.active||c.render()};c.interactiveGuideline=function(){function a(n){n.each(function(m){function n(){var c=d3.mouse(this),f=c[0],c=c[1],p=true,j=false;if(x){f=d3.event.offsetX;c=d3.event.offsetY;d3.event.target.tagName!=="svg"&&(p=false);d3.event.target.className.baseVal.match("nv-legend")&&
(j=true)}if(p){f=f-g.left;c=c-g.top}if(f<0||c<0||f>u||c>o||d3.event.relatedTarget&&d3.event.relatedTarget.ownerSVGElement===void 0||j){if(!x||!d3.event.relatedTarget||!(d3.event.relatedTarget.ownerSVGElement===void 0&&d3.event.relatedTarget.className.match(b.nvPointerEventsClass))){e.elementMouseout({mouseX:f,mouseY:c});a.renderGuideLine(null)}}else{p=h.invert(f);e.elementMousemove({mouseX:f,mouseY:c,pointXValue:p});d3.event.type==="dblclick"&&e.elementDblclick({mouseX:f,mouseY:c,pointXValue:p});
d3.event.type==="click"&&e.elementClick({mouseX:f,mouseY:c,pointXValue:p})}}var y=d3.select(this),u=f||960,o=l||400,v=y.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([m]);v.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine");if(k){k.on("mousemove",n,true).on("mouseout",n,true).on("dblclick",n).on("click",n);a.renderGuideLine=function(a){if(j){a=v.select(".nv-interactiveGuideLine").selectAll("line").data(a!=null?[c.utils.NaNtoZero(a)]:
[],String);a.enter().append("line").attr("class","nv-guideline").attr("x1",function(a){return a}).attr("x2",function(a){return a}).attr("y1",o).attr("y2",0);a.exit().remove()}}}})}var b=c.models.tooltip(),f=null,l=null,g={left:0,top:0},h=d3.scale.linear();d3.scale.linear();var e=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick"),j=true,k=null,x="ActiveXObject"in window;a.dispatch=e;a.tooltip=b;a.margin=function(b){if(!arguments.length)return g;g.top=typeof b.top!="undefined"?
b.top:g.top;g.left=typeof b.left!="undefined"?b.left:g.left;return a};a.width=function(b){if(!arguments.length)return f;f=b;return a};a.height=function(b){if(!arguments.length)return l;l=b;return a};a.xScale=function(b){if(!arguments.length)return h;h=b;return a};a.showGuideLine=function(b){if(!arguments.length)return j;j=b;return a};a.svgContainer=function(b){if(!arguments.length)return k;k=b;return a};return a};c.interactiveBisect=function(a,b,c){if(!(a instanceof Array))return null;typeof c!==
"function"&&(c=function(a){return a.x});var l=d3.bisector(c).left,l=d3.max([0,l(a,b)-1]),g=c(a[l],l);typeof g==="undefined"&&(g=l);if(g===b)return l;var h=d3.min([l+1,a.length-1]),a=c(a[h],h);typeof a==="undefined"&&(a=h);return Math.abs(a-b)>=Math.abs(g-b)?l:h};c.nearestValueIndex=function(a,b,c){var l=Infinity,g=null;a.forEach(function(a,e){var j=Math.abs(b-a);if(j<=l&&j<c){l=j;g=e}});return g};(function(){window.nv.tooltip={};window.nv.models.tooltip=function(){function a(){if(m){var b;b=f&&f.series&&
f.series.length>0?true:false;if(b){if(k){b=d3.select(k);b.node().tagName!=="svg"&&(b=b.select("svg"));var o=b.node()?b.attr("viewBox"):null;if(o){o=o.split(" ");b=parseInt(b.style("width"))/o[2];n.left=n.left*b;n.top=n.top*b}}b=n.left;var o=e!=null?e:n.top,p;p=v(f);var A;A=k?d3.select(k):d3.select("body");var C=A.select(".nvtooltip");C.node()===null&&(C=A.append("div").attr("class","nvtooltip "+(j?j:"xy-tooltip")).attr("id",w));C.node().innerHTML=p;C.style("top",0).style("left",0).style("opacity",
0);C.selectAll("div, table, td, tr").classed(y,true);C.classed(y,true);x=p=C.node();if(k){(C=k.getElementsByTagName("svg")[0])?C.getBoundingClientRect():k.getBoundingClientRect();var G=0;A=0;if(C){C=C.getBoundingClientRect();G=k.getBoundingClientRect();A=C.top;if(A<0){var u=k.getBoundingClientRect();A=Math.abs(A)>u.height?0:A}A=Math.abs(A-G.top);G=Math.abs(C.left-G.left)}b=b+(k.offsetLeft+G-2*k.scrollLeft);o=o+(k.offsetTop+A-2*k.scrollTop)}h&&h>0&&(o=Math.floor(o/h)*h);c.tooltip.calcTooltipPosition([b,
o],l,g,p);return a}}}var b=null,f=null,l="w",g=50,h=25,e=null,j=null,k=null,x=null,n={left:null,top:null},m=true,w="nvtooltip-"+Math.floor(Math.random()*1E5),y="nv-pointer-events-none",u=function(a){return a},o=function(a){return a},v=function(a){if(b!=null)return b;if(a==null)return"";var c=d3.select(document.createElement("table"));c.selectAll("thead").data([a]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",true).html(o(a.value));var f=c.selectAll("tbody").data([a]).enter().append("tbody").selectAll("tr").data(function(a){return a.series}).enter().append("tr").classed("highlight",
function(a){return a.highlight});f.append("td").classed("legend-color-guide",true).append("div").style("background-color",function(a){return a.color});f.append("td").classed("key",true).html(function(a){return a.key});f.append("td").classed("value",true).html(function(a,b){return u(a.value,b)});f.selectAll("td").each(function(a){if(a.highlight){a=d3.scale.linear().domain([0,1]).range(["#fff",a.color]);d3.select(this).style("border-bottom-color",a(0.6)).style("border-top-color",a(0.6))}});c=c.node().outerHTML;
a.footer!==void 0&&(c=c+("<div class='footer'>"+a.footer+"</div>"));return c};a.nvPointerEventsClass=y;a.content=function(c){if(!arguments.length)return b;b=c;return a};a.tooltipElem=function(){return x};a.contentGenerator=function(b){if(!arguments.length)return v;typeof b==="function"&&(v=b);return a};a.data=function(b){if(!arguments.length)return f;f=b;return a};a.gravity=function(b){if(!arguments.length)return l;l=b;return a};a.distance=function(b){if(!arguments.length)return g;g=b;return a};a.snapDistance=
function(b){if(!arguments.length)return h;h=b;return a};a.classes=function(b){if(!arguments.length)return j;j=b;return a};a.chartContainer=function(b){if(!arguments.length)return k;k=b;return a};a.position=function(b){if(!arguments.length)return n;n.left=typeof b.left!=="undefined"?b.left:n.left;n.top=typeof b.top!=="undefined"?b.top:n.top;return a};a.fixedTop=function(b){if(!arguments.length)return e;e=b;return a};a.enabled=function(b){if(!arguments.length)return m;m=b;return a};a.valueFormatter=
function(b){if(!arguments.length)return u;typeof b==="function"&&(u=b);return a};a.headerFormatter=function(b){if(!arguments.length)return o;typeof b==="function"&&(o=b);return a};a.id=function(){return w};return a};c.tooltip.show=function(a,b,f,l,g,h){var e=document.createElement("div");e.className="nvtooltip "+(h?h:"xy-tooltip");h=g;if(!g||g.tagName.match(/g|svg/i))h=document.getElementsByTagName("body")[0];e.style.left=0;e.style.top=0;e.style.opacity=0;typeof b!=="string"?e.appendChild(b):e.innerHTML=
b;h.appendChild(e);if(g){a[0]=a[0]-g.scrollLeft;a[1]=a[1]-g.scrollTop}c.tooltip.calcTooltipPosition(a,f,l,e)};c.tooltip.findFirstNonSVGParent=function(a){for(;a.tagName.match(/^g|svg$/i)!==null;)a=a.parentNode;return a};c.tooltip.findTotalOffsetTop=function(a,b){var c=b;do isNaN(a.offsetTop)||(c=c+a.offsetTop);while(a=a.offsetParent);return c};c.tooltip.findTotalOffsetLeft=function(a,b){var c=b;do isNaN(a.offsetLeft)||(c=c+a.offsetLeft);while(a=a.offsetParent);return c};c.tooltip.calcTooltipPosition=
function(a,b,f,l){var g=parseInt(l.offsetHeight),h=parseInt(l.offsetWidth),e=c.utils.windowSize().width,j=c.utils.windowSize().height,k=window.pageYOffset,x=window.pageXOffset,n,m,j=window.innerWidth>=document.body.scrollWidth?j:j-16,e=window.innerHeight>=document.body.scrollHeight?e:e-16,f=f||20,w=function(a){return c.tooltip.findTotalOffsetTop(a,m)},y=function(a){return c.tooltip.findTotalOffsetLeft(a,n)};switch(b||"s"){case "e":n=a[0]-h-f;m=a[1]-g/2;b=y(l);w=w(l);b<x&&(n=a[0]+f>x?a[0]+f:x-b+n);
w<k&&(m=k-w+m);w+g>k+j&&(m=k+j-w+m-g);break;case "w":n=a[0]+f;m=a[1]-g/2;b=y(l);w=w(l);b+h>e&&(n=a[0]-h-f);w<k&&(m=k+5);w+g>k+j&&(m=k+j-w+m-g);break;case "n":n=a[0]-h/2-5;m=a[1]+f;b=y(l);w=w(l);b<x&&(n=x+5);b+h>e&&(n=n-h/2+5);w+g>k+j&&(m=k+j-w+m-g);break;case "s":n=a[0]-h/2;m=a[1]-g-f;b=y(l);w=w(l);b<x&&(n=x+5);b+h>e&&(n=n-h/2+5);k>w&&(m=k);break;case "none":n=a[0];m=a[1]-f;b=y(l);w=w(l)}l.style.left=n+"px";l.style.top=m+"px";l.style.opacity=1;l.style.position="absolute";return l};c.tooltip.cleanup=
function(){for(var a=document.getElementsByClassName("nvtooltip"),b=[];a.length;){b.push(a[0]);a[0].style.transitionDelay="0 !important";a[0].style.opacity=0;a[0].className="nvtooltip-pending-removal"}setTimeout(function(){for(;b.length;){var a=b.pop();a.parentNode.removeChild(a)}},500)}})();c.utils.windowSize=function(){var a={width:640,height:480};if(document.body&&document.body.offsetWidth){a.width=document.body.offsetWidth;a.height=document.body.offsetHeight}if(document.compatMode=="CSS1Compat"&&
document.documentElement&&document.documentElement.offsetWidth){a.width=document.documentElement.offsetWidth;a.height=document.documentElement.offsetHeight}if(window.innerWidth&&window.innerHeight){a.width=window.innerWidth;a.height=window.innerHeight}return a};c.utils.windowResize=function(a){window.addEventListener?window.addEventListener("resize",a):c.log("ERROR: Failed to bind to window.resize with: ",a);return{callback:a,clear:function(){window.removeEventListener("resize",a)}}};c.utils.getColor=
function(a){return arguments.length?a instanceof Array?function(b,c){return b.color||a[c%a.length]}:a:c.utils.defaultColor()};c.utils.defaultColor=function(){var a=d3.scale.category20().range();return function(b,c){return b.color||a[c%a.length]}};c.utils.customTheme=function(a,b,c){var b=b||function(a){return a.key},c=c||d3.scale.category20().range(),l=c.length;return function(g){g=b(g);if(typeof a[g]==="function")return a[g]();if(a[g]!==void 0)return a[g];if(!l)l=c.length;l=l-1;return c[l]}};c.utils.pjax=
function(a,b){var f=function(f){d3.html(f,function(f){var h=d3.select(b).node();h.parentNode.replaceChild(d3.select(f).select(b).node(),h);c.utils.pjax(a,b)})};d3.selectAll(a).on("click",function(){history.pushState(this.href,this.textContent,this.href);f(this.href);d3.event.preventDefault()});d3.select(window).on("popstate",function(){d3.event.state&&f(d3.event.state)})};c.utils.calcApproxTextWidth=function(a){if(typeof a.style==="function"&&typeof a.text==="function"){var b=parseInt(a.style("font-size").replace("px",
""));return a.text().length*b*0.5}return 0};c.utils.NaNtoZero=function(a){return typeof a!=="number"||isNaN(a)||a===null||a===Infinity||a===-Infinity?0:a};d3.selection.prototype.watchTransition=function(a){var b=[this].concat([].slice.call(arguments,1));return a.transition.apply(a,b)};c.utils.renderWatch=function(a,b){if(!(this instanceof c.utils.renderWatch))return new c.utils.renderWatch(a,b);var f=b!==void 0?b:250,l=[],g=this;this.models=function(a){a=[].slice.call(arguments,0);a.forEach(function(a){a.__rendered=
false;(function(a){a.dispatch.on("renderEnd",function(){a.__rendered=true;g.renderEnd("model")})})(a);l.indexOf(a)<0&&l.push(a)});return this};this.reset=function(a){a!==void 0&&(f=a);l=[]};this.transition=function(a,b,c){b=arguments.length>1?[].slice.call(arguments,1):[];c=b.length>1?b.pop():f!==void 0?f:250;a.__rendered=false;l.indexOf(a)<0&&l.push(a);if(c===0){a.__rendered=true;a.delay=function(){return this};a.duration=function(){return this};return a}a.__rendered=a.length===0?true:a.every(function(a){return!a.length})?
true:false;var k=0;return a.transition().duration(c).each(function(){++k}).each("end",function(){if(--k===0){a.__rendered=true;g.renderEnd.apply(this,b)}})};this.renderEnd=function(){if(l.every(function(a){return a.__rendered})){l.forEach(function(a){a.__rendered=false});a.renderEnd.apply(this,arguments)}}};c.utils.deepExtend=function(a){(arguments.length>1?[].slice.call(arguments,1):[]).forEach(function(b){for(key in b){var f=a[key]instanceof Array,l=typeof b[key]==="object";typeof a[key]==="object"&&
!f&&l?c.utils.deepExtend(a[key],b[key]):a[key]=b[key]}})};c.utils.state=function(){if(!(this instanceof c.utils.state))return new c.utils.state;var a={},b=function(){},f=function(){return{}},l=null;this.dispatch=d3.dispatch("change","set");this.dispatch.on("set",function(a){b(a,true)});this.getter=function(a){f=a;return this};this.setter=function(a,c){c||(c=function(){});b=function(b,f){a(b);f&&c()};return this};this.init=function(a){l=l||{};c.utils.deepExtend(l,a)};this.update=function(){if(l){b(l,
false);l=null}var c;c=f();if(JSON.stringify(c)===JSON.stringify(a))c=false;else{for(var h in c){a[h]===void 0&&(a[h]={});a[h]=c[h]}c=true}c&&this.dispatch.change(a)}};c.utils.optionsFunc=function(a){c.deprecated("nv.utils.optionsFunc");a&&d3.map(a).forEach(function(a,c){if(typeof this[a]==="function")this[a](c)}.bind(this));return this};c.utils.calcTicksX=function(a,b){var f=1,l=0;for(l;l<b.length;l=l+1)var g=b[l]&&b[l].values?b[l].values.length:0,f=g>f?g:f;c.log("Requested number of ticks: ",a);
c.log("Calculated max values to be: ",f);a=a>f?a=f-1:a;a=Math.floor(a<1?1:a);c.log("Calculating tick count as: ",a);return a};c.utils.calcTicksY=function(a,b){return c.utils.calcTicksX(a,b)};c.utils.initOption=function(a,b){a[b]=a._calls&&a._calls[b]?a._calls[b]:function(c){if(!arguments.length)return a._options[b];a._options[b]=c;return a}};c.utils.initOptions=function(a){var b=Object.getOwnPropertyNames(a._options||{}),f=Object.getOwnPropertyNames(a._calls||{}),b=b.concat(f),l;for(l in b)c.utils.initOption(a,
b[l])};c.utils.inheritOptionsD3=function(a,b,c){a._d3options=c.concat(a._d3options||[]);c.unshift(b);c.unshift(a);d3.rebind.apply(this,c)};c.utils.arrayUnique=function(a){return a.sort().filter(function(b,c){return!c||b!=a[c-1]})};c.utils.symbolMap=d3.map();c.utils.symbol=function(){function a(a,g){var h=b.call(this,a,g),e=f.call(this,a,g);return d3.svg.symbolTypes.indexOf(h)!==-1?d3.svg.symbol().type(h).size(e)():c.utils.symbolMap.get(h)(e)}var b,f=64;a.type=function(c){if(!arguments.length)return b;
b=d3.functor(c);return a};a.size=function(b){if(!arguments.length)return f;f=d3.functor(b);return a};return a};c.utils.inheritOptions=function(a,b){var f=Object.getOwnPropertyNames(b._options||{}),l=Object.getOwnPropertyNames(b._calls||{}),g=b._inherited||[],h=b._d3options||[],e=f.concat(l).concat(g).concat(h);e.unshift(b);e.unshift(a);d3.rebind.apply(this,e);a._inherited=c.utils.arrayUnique(f.concat(l).concat(g).concat(f).concat(a._inherited||[]));a._d3options=c.utils.arrayUnique(h.concat(a._d3options||
[]))};c.utils.initSVG=function(a){a.classed({"nvd3-svg":true})};c.models.axis=function(){function a(h){q.reset();h.each(function(a){var h=d3.select(this);c.utils.initSVG(h);a=h.selectAll("g.nv-wrap.nv-axis").data([a]);a.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g");h=a.select("g");y!==null?b.ticks(y):(b.orient()=="top"||b.orient()=="bottom")&&b.ticks(Math.abs(f.range()[1]-f.range()[0])/100);h.watchTransition(q,"axis").call(b);z=z||b.scale();var p=b.tickFormat();p==null&&(p=
z.tickFormat());var o=h.selectAll("text.nv-axislabel").data([e||null]);o.exit().remove();switch(b.orient()){case "top":o.enter().append("text").attr("class","nv-axislabel");var s;s=f.range().length<2?0:f.range().length===2?f.range()[1]:f.range()[f.range().length-1]+(f.range()[1]-f.range()[0]);o.attr("text-anchor","middle").attr("y",0).attr("x",s/2);if(j){s=a.selectAll("g.nv-axisMaxMin").data(f.domain());s.enter().append("g").attr("class","nv-axisMaxMin").append("text");s.exit().remove();s.attr("transform",
function(a){return"translate("+c.utils.NaNtoZero(f(a))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-b.tickPadding()).attr("text-anchor","middle").text(function(a){a=p(a);return(""+a).match("NaN")?"":a});s.watchTransition(q,"min-max top").attr("transform",function(a,b){return"translate("+c.utils.NaNtoZero(f.range()[b])+",0)"})}break;case "bottom":var v=u+36,F=30,i=h.selectAll("g").select("text");if(x%360){i.each(function(){var a=this.getBoundingClientRect().width;a>F&&(F=a)});s=Math.abs(Math.sin(x*
Math.PI/180));v=(s?s*F:F)+30;i.attr("transform",function(){return"rotate("+x+" 0,0)"}).style("text-anchor",x%360>0?"start":"end")}o.enter().append("text").attr("class","nv-axislabel");s=f.range().length<2?0:f.range().length===2?f.range()[1]:f.range()[f.range().length-1]+(f.range()[1]-f.range()[0]);o.attr("text-anchor","middle").attr("y",v).attr("x",s/2);if(j){s=a.selectAll("g.nv-axisMaxMin").data([f.domain()[0],f.domain()[f.domain().length-1]]);s.enter().append("g").attr("class","nv-axisMaxMin").append("text");
s.exit().remove();s.attr("transform",function(a){return"translate("+c.utils.NaNtoZero(f(a)+(w?f.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",b.tickPadding()).attr("transform",function(){return"rotate("+x+" 0,0)"}).style("text-anchor",x?x%360>0?"start":"end":"middle").text(function(a){a=p(a);return(""+a).match("NaN")?"":a});s.watchTransition(q,"min-max bottom").attr("transform",function(a){return"translate("+c.utils.NaNtoZero(f(a)+(w?f.rangeBand()/2:0))+",0)"})}m&&i.attr("transform",
function(a,b){return"translate(0,"+(b%2==0?"0":"12")+")"});break;case "right":o.enter().append("text").attr("class","nv-axislabel");o.style("text-anchor",n?"middle":"begin").attr("transform",n?"rotate(90)":"").attr("y",n?-Math.max(l.right,g)+12:-10).attr("x",n?f.range()[0]/2:b.tickPadding());if(j){s=a.selectAll("g.nv-axisMaxMin").data(f.domain());s.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0);s.exit().remove();s.attr("transform",function(a){return"translate(0,"+
c.utils.NaNtoZero(f(a))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",b.tickPadding()).style("text-anchor","start").text(function(a){a=p(a);return(""+a).match("NaN")?"":a});s.watchTransition(q,"min-max right").attr("transform",function(a,b){return"translate(0,"+c.utils.NaNtoZero(f.range()[b])+")"}).select("text").style("opacity",1)}break;case "left":o.enter().append("text").attr("class","nv-axislabel");o.style("text-anchor",n?"middle":"end").attr("transform",n?"rotate(-90)":"").attr("y",
n?-Math.max(l.left,g)+25-(u||0):-10).attr("x",n?-f.range()[0]/2:-b.tickPadding());if(j){s=a.selectAll("g.nv-axisMaxMin").data(f.domain());s.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0);s.exit().remove();s.attr("transform",function(a){return"translate(0,"+c.utils.NaNtoZero(z(a))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-b.tickPadding()).attr("text-anchor","end").text(function(a){a=p(a);return(""+a).match("NaN")?"":a});s.watchTransition(q,"min-max right").attr("transform",
function(a,b){return"translate(0,"+c.utils.NaNtoZero(f.range()[b])+")"}).select("text").style("opacity",1)}}o.text(function(a){return a});if(j&&(b.orient()==="left"||b.orient()==="right")){h.selectAll("g").each(function(a){d3.select(this).select("text").attr("opacity",1);if(f(a)<f.range()[1]+10||f(a)>f.range()[0]-10){(a>1.0E-10||a<-1.0E-10)&&d3.select(this).attr("opacity",0);d3.select(this).select("text").attr("opacity",0)}});f.domain()[0]==f.domain()[1]&&f.domain()[0]==0&&a.selectAll("g.nv-axisMaxMin").style("opacity",
function(a,b){return!b?1:0})}if(j&&(b.orient()==="top"||b.orient()==="bottom")){var t=[];a.selectAll("g.nv-axisMaxMin").each(function(a,b){try{b?t.push(f(a)-this.getBoundingClientRect().width-4):t.push(f(a)+this.getBoundingClientRect().width+4)}catch(c){b?t.push(f(a)-4):t.push(f(a)+4)}});h.selectAll("g").each(function(a){if(f(a)<t[0]||f(a)>t[1])a>1.0E-10||a<-1.0E-10?d3.select(this).remove():d3.select(this).select("text").remove()})}k&&h.selectAll(".tick").filter(function(){return!parseFloat(Math.round(this.__data__*
1E5)/1E6)&&this.__data__!==void 0}).classed("zero",true);z=f.copy()});q.renderEnd("axis immediate");return a}var b=d3.svg.axis(),f=d3.scale.linear(),l={top:0,right:0,bottom:0,left:0},g=75,h=60,e=null,j=true,k=true,x=0,n=true,m=false,w=false,y=null,u=0,o=250,v=d3.dispatch("renderEnd");b.scale(f).orient("bottom").tickFormat(function(a){return a});var z,q=c.utils.renderWatch(v,o);a.axis=b;a.dispatch=v;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{axisLabelDistance:{get:function(){return u},
set:function(a){u=a}},staggerLabels:{get:function(){return m},set:function(a){m=a}},rotateLabels:{get:function(){return x},set:function(a){x=a}},rotateYLabel:{get:function(){return n},set:function(a){n=a}},highlightZero:{get:function(){return k},set:function(a){k=a}},showMaxMin:{get:function(){return j},set:function(a){j=a}},axisLabel:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return h},set:function(a){h=a}},ticks:{get:function(){return y},set:function(a){y=a}},width:{get:function(){return g},
set:function(a){g=a}},margin:{get:function(){return l},set:function(a){l.top=a.top!==void 0?a.top:l.top;l.right=a.right!==void 0?a.right:l.right;l.bottom=a.bottom!==void 0?a.bottom:l.bottom;l.left=a.left!==void 0?a.left:l.left}},duration:{get:function(){return o},set:function(a){o=a;q.reset(o)}},scale:{get:function(){return f},set:function(e){f=e;b.scale(f);w=typeof f.rangeBands==="function";c.utils.inheritOptionsD3(a,f,["domain","range","rangeBand","rangeBands"])}}});c.utils.initOptions(a);c.utils.inheritOptionsD3(a,
b,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]);c.utils.inheritOptionsD3(a,f,["domain","range","rangeBand","rangeBands"]);return a};c.models.bullet=function(){function a(f){f.each(function(a,f){var v=k-b.left-b.right,n=x-b.top-b.bottom,y=d3.select(this);c.utils.initSVG(y);var p=g.call(this,a,f).slice().sort(d3.descending),A=h.call(this,a,f).slice().sort(d3.descending),C=e.call(this,a,f).slice().sort(d3.descending),G=(a.rangeLabels?a.rangeLabels:[]).slice(),E=(a.markerLabels?
a.markerLabels:[]).slice(),s=(a.measureLabels?a.measureLabels:[]).slice(),D=d3.scale.linear().domain(d3.extent(d3.merge([j,p]))).range(l?[v,0]:[0,v]);this.__chart__||d3.scale.linear().domain([0,Infinity]).range(D.range());this.__chart__=D;var v=d3.min(p),F=d3.max(p),p=p[1],y=y.selectAll("g.nv-wrap.nv-bullet").data([a]),i=y.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),t=y.select("g");i.append("rect").attr("class","nv-range nv-rangeMax");i.append("rect").attr("class","nv-range nv-rangeAvg");
i.append("rect").attr("class","nv-range nv-rangeMin");i.append("rect").attr("class","nv-measure");i.append("path").attr("class","nv-markerTriangle");y.attr("transform","translate("+b.left+","+b.top+")");var i=function(a){return Math.abs(D(a)-D(0))},P=function(a){return a<0?D(a):D(0)};t.select("rect.nv-rangeMax").attr("height",n).attr("width",i(F>0?F:v)).attr("x",P(F>0?F:v)).datum(F>0?F:v);t.select("rect.nv-rangeAvg").attr("height",n).attr("width",i(p)).attr("x",P(p)).datum(p);t.select("rect.nv-rangeMin").attr("height",
n).attr("width",i(F)).attr("x",P(F)).attr("width",i(F>0?v:F)).attr("x",P(F>0?v:F)).datum(F>0?v:F);t.select("rect.nv-measure").style("fill",m).attr("height",n/3).attr("y",n/3).attr("width",C<0?D(0)-D(C[0]):D(C[0])-D(0)).attr("x",P(C)).on("mouseover",function(){w.elementMouseover({value:C[0],label:s[0]||"Current",pos:[D(C[0]),n/2]})}).on("mouseout",function(){w.elementMouseout({value:C[0],label:s[0]||"Current"})});v=n/6;if(A[0])t.selectAll("path.nv-markerTriangle").attr("transform",function(){return"translate("+
D(A[0])+","+n/2+")"}).attr("d","M0,"+v+"L"+v+","+-v+" "+-v+","+-v+"Z").on("mouseover",function(){w.elementMouseover({value:A[0],label:E[0]||"Previous",pos:[D(A[0]),n/2]})}).on("mouseout",function(){w.elementMouseout({value:A[0],label:E[0]||"Previous"})});else t.selectAll("path.nv-markerTriangle").remove();y.selectAll(".nv-range").on("mouseover",function(a,b){w.elementMouseover({value:a,label:G[b]||(!b?"Maximum":b==1?"Mean":"Minimum"),pos:[D(a),n/2]})}).on("mouseout",function(a,b){w.elementMouseout({value:a,
label:G[b]||(!b?"Maximum":b==1?"Mean":"Minimum")})})});return a}var b={top:0,right:0,bottom:0,left:0},f="left",l=false,g=function(a){return a.ranges},h=function(a){return a.markers?a.markers:[0]},e=function(a){return a.measures},j=[0],k=380,x=30,n=null,m=c.utils.getColor(["#1f77b4"]),w=d3.dispatch("elementMouseover","elementMouseout");a.dispatch=w;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{ranges:{get:function(){return g},set:function(a){g=a}},markers:{get:function(){return h},
set:function(a){h=a}},measures:{get:function(){return e},set:function(a){e=a}},forceX:{get:function(){return j},set:function(a){j=a}},width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return x},set:function(a){x=a}},tickFormat:{get:function(){return n},set:function(a){n=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},
orient:{get:function(){return f},set:function(a){f=a;l=f=="right"||f=="bottom"}},color:{get:function(){return m},set:function(a){m=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.bulletChart=function(){function a(f){f.each(function(v,z){var q=d3.select(this);c.utils.initSVG(q);var p=(k||parseInt(q.style("width"))||960)-g.left-g.right,A=x-g.top-g.bottom,C=this;a.update=function(){a(f)};a.container=this;if(!v||!h.call(this,v,z)){q=q.selectAll(".nv-noData").data([y]);q.enter().append("text").attr("class",
"nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");q.attr("x",g.left+p/2).attr("y",18+g.top+A/2).text(function(a){return a});return a}q.selectAll(".nv-noData").remove();var G=h.call(this,v,z).slice().sort(d3.descending),E=e.call(this,v,z).slice().sort(d3.descending),s=j.call(this,v,z).slice().sort(d3.descending),D=q.selectAll("g.nv-wrap.nv-bulletChart").data([v]),F=D.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),q=D.select("g");F.append("g").attr("class",
"nv-bulletWrap");F.append("g").attr("class","nv-titles");D.attr("transform","translate("+g.left+","+g.top+")");var i=d3.scale.linear().domain([0,Math.max(G[0],E[0],s[0])]).range(l?[p,0]:[0,p]),t=this.__chart__||d3.scale.linear().domain([0,Infinity]).range(i.range());this.__chart__=i;G=F.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(x-g.top-g.bottom)/2+")");G.append("text").attr("class","nv-title").text(function(a){return a.title});G.append("text").attr("class",
"nv-subtitle").attr("dy","1em").text(function(a){return a.subtitle});b.width(p).height(A);G=q.select(".nv-bulletWrap");d3.transition(G).call(b);var P=n||i.tickFormat(p/100),p=q.selectAll("g.nv-tick").data(i.ticks(p/50),function(a){return this.textContent||P(a)}),q=p.enter().append("g").attr("class","nv-tick").attr("transform",function(a){return"translate("+t(a)+",0)"}).style("opacity",1.0E-6);q.append("line").attr("y1",A).attr("y2",A*7/6);q.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",
A*7/6).text(P);q=d3.transition(p).attr("transform",function(a){return"translate("+i(a)+",0)"}).style("opacity",1);q.select("line").attr("y1",A).attr("y2",A*7/6);q.select("text").attr("y",A*7/6);d3.transition(p.exit()).attr("transform",function(a){return"translate("+i(a)+",0)"}).style("opacity",1.0E-6).remove();u.on("tooltipShow",function(b){b.key=v.title;if(m){var t=C.parentNode,i=b.pos[0]+(t.offsetLeft||0)+g.left,f=b.pos[1]+(t.offsetTop||0)+g.top,e=w(b.key,b.label,b.value,b,a);c.tooltip.show([i,
f],e,b.value<0?"e":"w",null,t)}})});d3.timer.flush();return a}var b=c.models.bullet(),f="left",l=false,g={top:5,right:40,bottom:20,left:120},h=function(a){return a.ranges},e=function(a){return a.markers?a.markers:[0]},j=function(a){return a.measures},k=null,x=55,n=null,m=true,w=function(a,b,c){return"<h3>"+b+"</h3><p>"+c+"</p>"},y="No Data Available.",u=d3.dispatch("tooltipShow","tooltipHide");b.dispatch.on("elementMouseover.tooltip",function(a){u.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",
function(a){u.tooltipHide(a)});u.on("tooltipHide",function(){m&&c.tooltip.cleanup()});a.bullet=b;a.dispatch=u;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{ranges:{get:function(){return h},set:function(a){h=a}},markers:{get:function(){return e},set:function(a){e=a}},measures:{get:function(){return j},set:function(a){j=a}},width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return x},set:function(a){x=a}},tickFormat:{get:function(){return n},set:function(a){n=
a}},tooltips:{get:function(){return m},set:function(a){m=a}},tooltipContent:{get:function(){return w},set:function(a){w=a}},noData:{get:function(){return y},set:function(a){y=a}},margin:{get:function(){return g},set:function(a){g.top=a.top!==void 0?a.top:g.top;g.right=a.right!==void 0?a.right:g.right;g.bottom=a.bottom!==void 0?a.bottom:g.bottom;g.left=a.left!==void 0?a.left:g.left}},orient:{get:function(){return f},set:function(a){f=a;l=f=="right"||f=="bottom"}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);
return a};c.models.cumulativeLineChart=function(){function a(K){B.reset();B.models(f);y&&B.models(l);u&&B.models(g);K.each(function(B){function K(){Z.data([r]);var b=a.duration();a.duration(0);a.update();a.duration(b)}var M=d3.select(this);c.utils.initSVG(M);M.classed("nv-chart-"+E,true);var I=this,L=(n||parseInt(M.style("width"))||960)-k.left-k.right,Q=(m||parseInt(M.style("height"))||400)-k.top-k.bottom;a.update=function(){P===0?M.call(a):M.transition().duration(P).call(a)};a.container=this;s.setter(N(B),
a.update).getter(S(B)).update();s.disabled=B.map(function(a){return!!a.disabled});if(!D){var V;D={};for(V in s)D[V]=s[V]instanceof Array?s[V].slice(0):s[V]}V=d3.behavior.drag().on("dragstart",function(){d3.select(a.container).style("cursor","ew-resize")}).on("drag",function(){r.x=d3.event.x;r.i=Math.round(J.invert(r.x));K()}).on("dragend",function(){d3.select(a.container).style("cursor","auto");s.index=r.i;t.stateChange(s)});if(!B||!B.length||!B.filter(function(a){return a.values.length}).length){V=
M.selectAll(".nv-noData").data([F]);V.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");V.attr("x",k.left+L/2).attr("y",k.top+Q/2).text(function(a){return a});return a}M.selectAll(".nv-noData").remove();C=f.xScale();G=f.yScale();if(p)f.yDomain(null);else{var O=B.filter(function(a){return!a.disabled}).map(function(a){a=d3.extent(a.values,f.y());a[0]<-0.95&&(a[0]=-0.95);return[(a[0]-a[1])/(1+a[1]),(a[1]-a[0])/(1+a[0])]}),O=[d3.min(O,function(a){return a[0]}),
d3.max(O,function(a){return a[1]})];f.yDomain(O)}J.domain([0,B[0].values.length-1]).range([0,L]).clamp(true);var B=b(r.i,B),ba=q?"none":"all",ca=M.selectAll("g.nv-wrap.nv-cumulativeLine").data([B]),Y=ca.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),O=ca.select("g");Y.append("g").attr("class","nv-interactive");Y.append("g").attr("class","nv-x nv-axis").style("pointer-events","none");Y.append("g").attr("class","nv-y nv-axis");Y.append("g").attr("class","nv-background");
Y.append("g").attr("class","nv-linesWrap").style("pointer-events",ba);Y.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none");Y.append("g").attr("class","nv-legendWrap");Y.append("g").attr("class","nv-controlsWrap");if(w){h.width(L);O.select(".nv-legendWrap").datum(B).call(h);if(k.top!=h.height()){k.top=h.height();Q=(m||parseInt(M.style("height"))||400)-k.top-k.bottom}O.select(".nv-legendWrap").attr("transform","translate(0,"+-k.top+")")}if(z){ba=[{key:"Re-scale y-axis",disabled:!p}];
e.width(140).color(["#444","#444","#444"]).rightAlign(false).margin({top:5,right:0,bottom:5,left:20});O.select(".nv-controlsWrap").datum(ba).attr("transform","translate(0,"+-k.top+")").call(e)}ca.attr("transform","translate("+k.left+","+k.top+")");o&&O.select(".nv-y.nv-axis").attr("transform","translate("+L+",0)");ba=B.filter(function(a){return a.tempDisabled});ca.select(".tempDisabled").remove();ba.length&&ca.append("text").attr("class","tempDisabled").attr("x",L/2).attr("y","-.71em").style("text-anchor",
"end").text(ba.map(function(a){return a.key}).join(", ")+" values cannot be calculated for this time period.");if(q){j.width(L).height(Q).margin({left:k.left,top:k.top}).svgContainer(M).xScale(C);ca.select(".nv-interactive").call(j)}Y.select(".nv-background").append("rect");O.select(".nv-background rect").attr("width",L).attr("height",Q);f.y(function(a){return a.display.y}).width(L).height(Q).color(B.map(function(a,b){return a.color||x(a,b)}).filter(function(a,b){return!B[b].disabled&&!B[b].tempDisabled}));
ca=O.select(".nv-linesWrap").datum(B.filter(function(a){return!a.disabled&&!a.tempDisabled}));ca.call(f);B.forEach(function(a,b){a.seriesIndex=b});Y=B.filter(function(a){return!a.disabled&&!!i(a)});Y=O.select(".nv-avgLinesWrap").selectAll("line").data(Y,function(a){return a.key});ba=function(a){a=G(i(a));return a<0?0:a>Q?Q:a};Y.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(a){return f.color()(a,a.seriesIndex)}).attr("x1",0).attr("x2",L).attr("y1",
ba).attr("y2",ba);Y.style("stroke-opacity",function(a){a=G(i(a));return a<0||a>Q?0:1}).attr("x1",0).attr("x2",L).attr("y1",ba).attr("y2",ba);Y.exit().remove();var Z=ca.selectAll(".nv-indexLine").data([r]);Z.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",0.5).style("pointer-events","all").call(V);Z.attr("transform",function(a){return"translate("+J(a.i)+",0)"}).attr("height",Q);if(y){l.scale(C).ticks(c.utils.calcTicksX(L/70,B)).tickSize(-Q,
0);O.select(".nv-x.nv-axis").attr("transform","translate(0,"+G.range()[0]+")");O.select(".nv-x.nv-axis").call(l)}if(u){g.scale(G).ticks(c.utils.calcTicksY(Q/36,B)).tickSize(-L,0);O.select(".nv-y.nv-axis").call(g)}O.select(".nv-background rect").on("click",function(){r.x=d3.mouse(this)[0];r.i=Math.round(J.invert(r.x));s.index=r.i;t.stateChange(s);K()});f.dispatch.on("elementClick",function(a){r.i=a.pointIndex;r.x=J(r.i);s.index=r.i;t.stateChange(s);K()});e.dispatch.on("legendClick",function(b){b.disabled=
!b.disabled;p=!b.disabled;s.rescaleY=p;t.stateChange(s);a.update()});h.dispatch.on("stateChange",function(b){for(var c in b)s[c]=b[c];t.stateChange(s);a.update()});j.dispatch.on("elementMousemove",function(b){f.clearHighlights();var t,i,e,h=[];B.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(r,g){i=c.interactiveBisect(r.values,b.pointXValue,a.x());f.highlightPoint(g,i,true);var B=r.values[i];if(typeof B!=="undefined"){typeof t==="undefined"&&(t=B);typeof e==="undefined"&&
(e=a.xScale()(a.x()(B,i)));h.push({key:r.key,value:a.y()(B,i),color:x(r,r.seriesIndex)})}});if(h.length>2){var r=a.yScale().invert(b.mouseY),s=0.03*Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]),r=c.nearestValueIndex(h.map(function(a){return a.value}),r,s);if(r!==null)h[r].highlight=true}r=l.tickFormat()(a.x()(t,i),i);j.tooltip.position({left:e+k.left,top:b.mouseY+k.top}).chartContainer(I.parentNode).enabled(v).valueFormatter(function(a){return g.tickFormat()(a)}).data({value:r,series:h})();
j.renderGuideLine(e)});j.dispatch.on("elementMouseout",function(){t.tooltipHide();f.clearHighlights()});t.on("tooltipShow",function(b){if(v){var t=I.parentNode,i=b.pos[0]+(t.offsetLeft||0),e=b.pos[1]+(t.offsetTop||0),h=l.tickFormat()(f.x()(b.point,b.pointIndex)),r=g.tickFormat()(f.y()(b.point,b.pointIndex)),b=A(b.series.key,h,r,b,a);c.tooltip.show([i,e],b,null,null,t)}});t.on("changeState",function(b){if(typeof b.disabled!=="undefined"){B.forEach(function(a,c){a.disabled=b.disabled[c]});s.disabled=
b.disabled}if(typeof b.index!=="undefined"){r.i=b.index;r.x=J(r.i);s.index=b.index;Z.data([r])}if(typeof b.rescaleY!=="undefined")p=b.rescaleY;a.update()})});B.renderEnd("cumulativeLineChart immediate");return a}function b(a,b){M||(M=f.y());return b.map(function(b){if(!b.values)return b;var c=b.values[a];if(c==null)return b;var t=M(c,a);if(t<-0.95&&!K){b.tempDisabled=true;return b}b.tempDisabled=false;b.values=b.values.map(function(a,b){a.display={y:(M(a,b)-t)/(1+t)};return a});return b})}var f=c.models.line(),
l=c.models.axis(),g=c.models.axis(),h=c.models.legend(),e=c.models.legend(),j=c.interactiveGuideline(),k={top:30,right:30,bottom:50,left:60},x=c.utils.defaultColor(),n=null,m=null,w=true,y=true,u=true,o=false,v=true,z=true,q=false,p=true,A=function(a,b,c){return"<h3>"+a+"</h3><p>"+c+" at "+b+"</p>"},C,G,E=f.id(),s=c.utils.state(),D=null,F="No Data Available.",i=function(a){return a.average},t=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),P=250,K=false;s.index=0;
s.rescaleY=p;l.orient("bottom").tickPadding(7);g.orient(o?"right":"left");e.updateState(false);var J=d3.scale.linear(),r={i:0,x:0},B=c.utils.renderWatch(t,P),S=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),index:r.i,rescaleY:p}}},N=function(a){return function(b){if(b.index!==void 0)r.i=b.index;if(b.rescaleY!==void 0)p=b.rescaleY;b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};f.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+
k.left,a.pos[1]+k.top];t.tooltipShow(a)});f.dispatch.on("elementMouseout.tooltip",function(a){t.tooltipHide(a)});t.on("tooltipHide",function(){v&&c.tooltip.cleanup()});var M=null;a.dispatch=t;a.lines=f;a.legend=h;a.xAxis=l;a.yAxis=g;a.interactiveLayer=j;a.state=s;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return n},set:function(a){n=a}},height:{get:function(){return m},set:function(a){m=a}},rescaleY:{get:function(){return p},set:function(a){p=a}},showControls:{get:function(){return z},
set:function(a){z=a}},showLegend:{get:function(){return w},set:function(a){w=a}},average:{get:function(){return i},set:function(a){i=a}},tooltips:{get:function(){return v},set:function(a){v=a}},tooltipContent:{get:function(){return A},set:function(a){A=a}},defaultState:{get:function(){return D},set:function(a){D=a}},noData:{get:function(){return F},set:function(a){F=a}},showXAxis:{get:function(){return y},set:function(a){y=a}},showYAxis:{get:function(){return u},set:function(a){u=a}},noErrorCheck:{get:function(){return K},
set:function(a){K=a}},margin:{get:function(){return k},set:function(a){k.top=a.top!==void 0?a.top:k.top;k.right=a.right!==void 0?a.right:k.right;k.bottom=a.bottom!==void 0?a.bottom:k.bottom;k.left=a.left!==void 0?a.left:k.left}},color:{get:function(){return x},set:function(a){x=c.utils.getColor(a);h.color(x)}},useInteractiveGuideline:{get:function(){return q},set:function(b){q=b;if(b===true){a.interactive(false);a.useVoronoi(false)}}},rightAlignYAxis:{get:function(){return o},set:function(a){o=a;
g.orient(a?"right":"left")}},duration:{get:function(){return P},set:function(a){P=a;f.duration(P);l.duration(P);g.duration(P);B.reset(P)}}});c.utils.inheritOptions(a,f);c.utils.initOptions(a);return a};c.models.discreteBar=function(){function a(g){C.reset();g.each(function(a){var g=f-b.left-b.right,p=l-b.top-b.bottom,F=d3.select(this);c.utils.initSVG(F);a.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});var i=y&&u?[]:a.map(function(a){return a.values.map(function(a,b){return{x:j(a,
b),y:k(a,b),y0:a.y0}})});h.domain(y||d3.merge(i).map(function(a){return a.x})).rangeBands(o||[0,g],0.1);e.domain(u||d3.extent(d3.merge(i).map(function(a){return a.y}).concat(x)));m?e.range(v||[p-(e.domain()[0]<0?12:0),e.domain()[1]>0?12:0]):e.range(v||[p,0]);A=A||e.copy().range([e(0),e(0)]);g=F.selectAll("g.nv-wrap.nv-discretebar").data([a]);p=g.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar").append("g");g.select("g");p.append("g").attr("class","nv-groups");g.attr("transform","translate("+
b.left+","+b.top+")");g=g.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});g.enter().append("g").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6);g.exit().watchTransition(C,"discreteBar: exit groups").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6).remove();g.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover});g.watchTransition(C,"discreteBar: groups").style("stroke-opacity",
1).style("fill-opacity",0.75);g=g.selectAll("g.nv-bar").data(function(a){return a.values});g.exit().remove();p=g.enter().append("g").attr("transform",function(a,b){return"translate("+(h(j(a,b))+h.rangeBand()*0.05)+", "+e(0)+")"}).on("mouseover",function(b,c){d3.select(this).classed("hover",true);z.elementMouseover({value:k(b,c),point:b,series:a[b.series],pos:[h(j(b,c))+h.rangeBand()*(b.series+0.5)/a.length,e(k(b,c))],pointIndex:c,seriesIndex:b.series,e:d3.event})}).on("mouseout",function(b,c){d3.select(this).classed("hover",
false);z.elementMouseout({value:k(b,c),point:b,series:a[b.series],pointIndex:c,seriesIndex:b.series,e:d3.event})}).on("click",function(b,c){z.elementClick({value:k(b,c),point:b,series:a[b.series],pos:[h(j(b,c))+h.rangeBand()*(b.series+0.5)/a.length,e(k(b,c))],pointIndex:c,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",function(b,c){z.elementDblClick({value:k(b,c),point:b,series:a[b.series],pos:[h(j(b,c))+h.rangeBand()*(b.series+0.5)/a.length,e(k(b,c))],pointIndex:c,seriesIndex:b.series,
e:d3.event});d3.event.stopPropagation()});p.append("rect").attr("height",0).attr("width",h.rangeBand()*0.9/a.length);if(m){p.append("text").attr("text-anchor","middle");g.select("text").text(function(a,b){return w(k(a,b))}).watchTransition(C,"discreteBar: bars text").attr("x",h.rangeBand()*0.9/2).attr("y",function(a,b){return k(a,b)<0?e(k(a,b))-e(0)+12:-4})}else g.selectAll("text").remove();g.attr("class",function(a,b){return k(a,b)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(a,
b){return a.color||n(a,b)}).style("stroke",function(a,b){return a.color||n(a,b)}).select("rect").attr("class",q).watchTransition(C,"discreteBar: bars rect").attr("width",h.rangeBand()*0.9/a.length);g.watchTransition(C,"discreteBar: bars").attr("transform",function(a,b){var c=h(j(a,b))+h.rangeBand()*0.05,i=k(a,b)<0?e(0):e(0)-e(k(a,b))<1?e(0)-1:e(k(a,b));return"translate("+c+", "+i+")"}).select("rect").attr("height",function(a,b){return Math.max(Math.abs(e(k(a,b))-e(u&&u[0]||0))||1)});h.copy();A=e.copy()});
C.renderEnd("discreteBar immediate");return a}var b={top:0,right:0,bottom:0,left:0},f=960,l=500,g=Math.floor(Math.random()*1E4),h=d3.scale.ordinal(),e=d3.scale.linear(),j=function(a){return a.x},k=function(a){return a.y},x=[0],n=c.utils.defaultColor(),m=false,w=d3.format(",.2f"),y,u,o,v,z=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),q="discreteBar",p=250,A,C=c.utils.renderWatch(z,p);a.dispatch=z;a.options=c.utils.optionsFunc.bind(a);a._options=
Object.create({},{width:{get:function(){return f},set:function(a){f=a}},height:{get:function(){return l},set:function(a){l=a}},forceY:{get:function(){return x},set:function(a){x=a}},showValues:{get:function(){return m},set:function(a){m=a}},x:{get:function(){return j},set:function(a){j=a}},y:{get:function(){return k},set:function(a){k=a}},xScale:{get:function(){return h},set:function(a){h=a}},yScale:{get:function(){return e},set:function(a){e=a}},xDomain:{get:function(){return y},set:function(a){y=
a}},yDomain:{get:function(){return u},set:function(a){u=a}},xRange:{get:function(){return o},set:function(a){o=a}},yRange:{get:function(){return v},set:function(a){v=a}},valueFormat:{get:function(){return w},set:function(a){w=a}},id:{get:function(){return g},set:function(a){g=a}},rectClass:{get:function(){return q},set:function(a){q=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;
b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return n},set:function(a){n=c.utils.getColor(a)}},duration:{get:function(){return p},set:function(a){p=a;C.reset(p)}}});c.utils.initOptions(a);return a};c.models.discreteBarChart=function(){function a(j){p.reset();p.models(b);k&&p.models(f);x&&p.models(l);j.each(function(j){var p=d3.select(this),A=this;c.utils.initSVG(p);var s=(h||parseInt(p.style("width"))||960)-g.left-g.right,D=(e||parseInt(p.style("height"))||400)-g.top-g.bottom;a.update=
function(){z.beforeUpdate();p.transition().duration(q).call(a)};a.container=this;if(!j||!j.length||!j.filter(function(a){return a.values.length}).length){j=p.selectAll(".nv-noData").data([v]);j.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");j.attr("x",g.left+s/2).attr("y",g.top+D/2).text(function(a){return a});return a}p.selectAll(".nv-noData").remove();u=b.xScale();o=b.yScale().clamp(true);var F=p.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([j]),
i=F.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),t=i.append("defs"),F=F.select("g");i.append("g").attr("class","nv-x nv-axis");i.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");i.append("g").attr("class","nv-barsWrap");F.attr("transform","translate("+g.left+","+g.top+")");n&&F.select(".nv-y.nv-axis").attr("transform","translate("+s+",0)");b.width(s).height(D);F.select(".nv-barsWrap").datum(j.filter(function(a){return!a.disabled})).transition().call(b);
t.append("clipPath").attr("id","nv-x-label-clip-"+b.id()).append("rect");F.select("#nv-x-label-clip-"+b.id()+" rect").attr("width",u.rangeBand()*(m?2:1)).attr("height",16).attr("x",-u.rangeBand()/(m?1:2));if(k){f.scale(u).ticks(c.utils.calcTicksX(s/100,j)).tickSize(-D,0);F.select(".nv-x.nv-axis").attr("transform","translate(0,"+(o.range()[0]+(b.showValues()&&o.domain()[0]<0?16:0))+")");F.select(".nv-x.nv-axis").call(f);i=F.select(".nv-x.nv-axis").selectAll("g");m&&i.selectAll("text").attr("transform",
function(a,b,c){return"translate(0,"+(c%2==0?"5":"17")+")"})}if(x){l.scale(o).ticks(c.utils.calcTicksY(D/36,j)).tickSize(-s,0);F.select(".nv-y.nv-axis").call(l)}F.select(".nv-zeroLine line").attr("x1",0).attr("x2",s).attr("y1",o(0)).attr("y2",o(0));z.on("tooltipShow",function(i){if(w){var e=A.parentNode,t=i.pos[0]+(e.offsetLeft||0),g=i.pos[1]+(e.offsetTop||0),h=f.tickFormat()(b.x()(i.point,i.pointIndex)),j=l.tickFormat()(b.y()(i.point,i.pointIndex)),h=y(i.series.key,h,j,i,a);c.tooltip.show([t,g],
h,i.value<0?"n":"s",null,e)}})});p.renderEnd("discreteBar chart immediate");return a}var b=c.models.discreteBar(),f=c.models.axis(),l=c.models.axis(),g={top:15,right:10,bottom:50,left:60},h=null,e=null,j=c.utils.getColor(),k=true,x=true,n=false,m=false,w=true,y=function(a,b,c){return"<h3>"+b+"</h3><p>"+c+"</p>"},u,o,v="No Data Available.",z=d3.dispatch("tooltipShow","tooltipHide","beforeUpdate","renderEnd"),q=250;f.orient("bottom").highlightZero(false).showMaxMin(false).tickFormat(function(a){return a});
l.orient(n?"right":"left").tickFormat(d3.format(",.1f"));var p=c.utils.renderWatch(z,q);b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+g.left,a.pos[1]+g.top];z.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){z.tooltipHide(a)});z.on("tooltipHide",function(){w&&c.tooltip.cleanup()});a.dispatch=z;a.discretebar=b;a.xAxis=f;a.yAxis=l;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return h},set:function(a){h=a}},height:{get:function(){return e},
set:function(a){e=a}},staggerLabels:{get:function(){return m},set:function(a){m=a}},showXAxis:{get:function(){return k},set:function(a){k=a}},showYAxis:{get:function(){return x},set:function(a){x=a}},tooltips:{get:function(){return w},set:function(a){w=a}},tooltipContent:{get:function(){return y},set:function(a){y=a}},noData:{get:function(){return v},set:function(a){v=a}},margin:{get:function(){return g},set:function(a){g.top=a.top!==void 0?a.top:g.top;g.right=a.right!==void 0?a.right:g.right;g.bottom=
a.bottom!==void 0?a.bottom:g.bottom;g.left=a.left!==void 0?a.left:g.left}},duration:{get:function(){return q},set:function(a){q=a;p.reset(q);b.duration(q);f.duration(q);l.duration(q)}},color:{get:function(){return j},set:function(a){j=c.utils.getColor(a);b.color(j)}},rightAlignYAxis:{get:function(){return n},set:function(a){n=a;l.orient(a?"right":"left")}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.distribution=function(){function a(f){m.reset();f.each(function(a){var f=
g=="x"?"y":"x",k=d3.select(this);c.utils.initSVG(k);n=n||j;a=k.selectAll("g.nv-distribution").data([a]);a.enter().append("g").attr("class","nvd3 nv-distribution").append("g");k=a.select("g");a.attr("transform","translate("+b.left+","+b.top+")");a=k.selectAll("g.nv-dist").data(function(a){return a},function(a){return a.key});a.enter().append("g");a.attr("class",function(a,b){return"nv-dist nv-series-"+b}).style("stroke",function(a,b){return e(a,b)});k=a.selectAll("line.nv-dist"+g).data(function(a){return a.values});
k.enter().append("line").attr(g+"1",function(a,b){return n(h(a,b))}).attr(g+"2",function(a,b){return n(h(a,b))});m.transition(a.exit().selectAll("line.nv-dist"+g),"dist exit").attr(g+"1",function(a,b){return j(h(a,b))}).attr(g+"2",function(a,b){return j(h(a,b))}).style("stroke-opacity",0).remove();k.attr("class",function(a,b){return"nv-dist"+g+" nv-dist"+g+"-"+b}).attr(f+"1",0).attr(f+"2",l);m.transition(k,"dist").attr(g+"1",function(a,b){return j(h(a,b))}).attr(g+"2",function(a,b){return j(h(a,b))});
n=j.copy()});m.renderEnd("distribution immediate");return a}var b={top:0,right:0,bottom:0,left:0},f=400,l=8,g="x",h=function(a){return a[g]},e=c.utils.defaultColor(),j=d3.scale.linear(),k=250,x=d3.dispatch("renderEnd"),n,m=c.utils.renderWatch(x,k);a.options=c.utils.optionsFunc.bind(a);a.dispatch=x;a.margin=function(c){if(!arguments.length)return b;b.top=typeof c.top!="undefined"?c.top:b.top;b.right=typeof c.right!="undefined"?c.right:b.right;b.bottom=typeof c.bottom!="undefined"?c.bottom:b.bottom;
b.left=typeof c.left!="undefined"?c.left:b.left;return a};a.width=function(b){if(!arguments.length)return f;f=b;return a};a.axis=function(b){if(!arguments.length)return g;g=b;return a};a.size=function(b){if(!arguments.length)return l;l=b;return a};a.getData=function(b){if(!arguments.length)return h;h=d3.functor(b);return a};a.scale=function(b){if(!arguments.length)return j;j=b;return a};a.color=function(b){if(!arguments.length)return e;e=c.utils.getColor(b);return a};a.duration=function(b){if(!arguments.length)return k;
k=b;m.reset(k);return a};return a};c.models.historicalBar=function(){function a(C){C.each(function(a){A.reset();var C=d3.select(this),s=(f||parseInt(C.style("width"))||960)-b.left-b.right,D=(l||parseInt(C.style("height"))||400)-b.top-b.bottom;c.utils.initSVG(C);h.domain(u||d3.extent(a[0].values.map(j).concat(x)));m?h.range(v||[s*0.5/a[0].values.length,s*(a[0].values.length-0.5)/a[0].values.length]):h.range(v||[0,s]);e.domain(o||d3.extent(a[0].values.map(k).concat(n))).range(z||[D,0]);h.domain()[0]===
h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]-h.domain()[0]*0.01,h.domain()[1]+h.domain()[1]*0.01]):h.domain([-1,1]));e.domain()[0]===e.domain()[1]&&(e.domain()[0]?e.domain([e.domain()[0]+e.domain()[0]*0.01,e.domain()[1]-e.domain()[1]*0.01]):e.domain([-1,1]));var F=C.selectAll("g.nv-wrap.nv-historicalBar-"+g).data([a[0].values]),i=F.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+g),t=i.append("defs"),i=i.append("g"),P=F.select("g");i.append("g").attr("class","nv-bars");
F.attr("transform","translate("+b.left+","+b.top+")");C.on("click",function(a,b){q.chartClick({data:a,index:b,pos:d3.event,id:g})});t.append("clipPath").attr("id","nv-chart-clip-path-"+g).append("rect");F.select("#nv-chart-clip-path-"+g+" rect").attr("width",s).attr("height",D);P.attr("clip-path",w?"url(#nv-chart-clip-path-"+g+")":"");C=F.select(".nv-bars").selectAll(".nv-bar").data(function(a){return a},function(a,b){return j(a,b)});C.exit().remove();C.enter().append("rect").attr("x",0).attr("y",
function(a,b){return c.utils.NaNtoZero(e(Math.max(0,k(a,b))))}).attr("height",function(a,b){return c.utils.NaNtoZero(Math.abs(e(k(a,b))-e(0)))}).attr("transform",function(b,c){return"translate("+(h(j(b,c))-s/a[0].values.length*0.45)+",0)"}).on("mouseover",function(b,c){if(p){d3.select(this).classed("hover",true);q.elementMouseover({point:b,series:a[0],pos:[h(j(b,c)),e(k(b,c))],pointIndex:c,seriesIndex:0,e:d3.event})}}).on("mouseout",function(b,c){if(p){d3.select(this).classed("hover",false);q.elementMouseout({point:b,
series:a[0],pointIndex:c,seriesIndex:0,e:d3.event})}}).on("click",function(a,b){if(p){q.elementClick({value:k(a,b),data:a,index:b,pos:[h(j(a,b)),e(k(a,b))],e:d3.event,id:g});d3.event.stopPropagation()}}).on("dblclick",function(a,b){if(p){q.elementDblClick({value:k(a,b),data:a,index:b,pos:[h(j(a,b)),e(k(a,b))],e:d3.event,id:g});d3.event.stopPropagation()}});C.attr("fill",function(a,b){return y(a,b)}).attr("class",function(a,b,c){return(k(a,b)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+c+"-"+
b}).watchTransition(A,"bars").attr("transform",function(b,c){return"translate("+(h(j(b,c))-s/a[0].values.length*0.45)+",0)"}).attr("width",s/a[0].values.length*0.9);C.watchTransition(A,"bars").attr("y",function(a,b){var i=k(a,b)<0?e(0):e(0)-e(k(a,b))<1?e(0)-1:e(k(a,b));return c.utils.NaNtoZero(i)}).attr("height",function(a,b){return c.utils.NaNtoZero(Math.max(Math.abs(e(k(a,b))-e(0)),1))})});A.renderEnd("historicalBar immediate");return a}var b={top:0,right:0,bottom:0,left:0},f=null,l=null,g=Math.floor(Math.random()*
1E4),h=d3.scale.linear(),e=d3.scale.linear(),j=function(a){return a.x},k=function(a){return a.y},x=[],n=[0],m=false,w=true,y=c.utils.defaultColor(),u,o,v,z,q=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),p=true,A=c.utils.renderWatch(q,0);a.highlightPoint=function(a,b){d3.select(".nv-historicalBar-"+g).select(".nv-bars .nv-bar-0-"+a).classed("hover",b)};a.clearHighlights=function(){d3.select(".nv-historicalBar-"+g).select(".nv-bars .nv-bar.hover").classed("hover",
false)};a.dispatch=q;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return f},set:function(a){f=a}},height:{get:function(){return l},set:function(a){l=a}},forceX:{get:function(){return x},set:function(a){x=a}},forceY:{get:function(){return n},set:function(a){n=a}},padData:{get:function(){return m},set:function(a){m=a}},x:{get:function(){return j},set:function(a){j=a}},y:{get:function(){return k},set:function(a){k=a}},xScale:{get:function(){return h},set:function(a){h=
a}},yScale:{get:function(){return e},set:function(a){e=a}},xDomain:{get:function(){return u},set:function(a){u=a}},yDomain:{get:function(){return o},set:function(a){o=a}},xRange:{get:function(){return v},set:function(a){v=a}},yRange:{get:function(){return z},set:function(a){z=a}},clipEdge:{get:function(){return w},set:function(a){w=a}},id:{get:function(){return g},set:function(a){g=a}},interactive:{get:function(){return p},set:function(a){p=a}},margin:{get:function(){return b},set:function(a){b.top=
a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return y},set:function(a){y=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.historicalBarChart=function(a){function b(a){a.each(function(i){D.reset();D.models(f);w&&D.models(l);y&&D.models(g);var t=d3.select(this),P=this;c.utils.initSVG(t);var K=(x||parseInt(t.style("width"))||960)-j.left-j.right,J=(n||parseInt(t.style("height"))||
400)-j.top-j.bottom;b.update=function(){t.transition().duration(s).call(b)};b.container=this;A.disabled=i.map(function(a){return!!a.disabled});if(!C){var r;C={};for(r in A)C[r]=A[r]instanceof Array?A[r].slice(0):A[r]}if(!i||!i.length||!i.filter(function(a){return a.values.length}).length){r=t.selectAll(".nv-noData").data([G]);r.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");r.attr("x",j.left+K/2).attr("y",j.top+J/2).text(function(a){return a});
return b}t.selectAll(".nv-noData").remove();q=f.xScale();p=f.yScale();var B=t.selectAll("g.nv-wrap.nv-historicalBarChart").data([i]);r=B.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g");var S=B.select("g");r.append("g").attr("class","nv-x nv-axis");r.append("g").attr("class","nv-y nv-axis");r.append("g").attr("class","nv-barsWrap");r.append("g").attr("class","nv-legendWrap");r.append("g").attr("class","nv-interactive");if(m){h.width(K);S.select(".nv-legendWrap").datum(i).call(h);
if(j.top!=h.height()){j.top=h.height();J=(n||parseInt(t.style("height"))||400)-j.top-j.bottom}B.select(".nv-legendWrap").attr("transform","translate(0,"+-j.top+")")}B.attr("transform","translate("+j.left+","+j.top+")");u&&S.select(".nv-y.nv-axis").attr("transform","translate("+K+",0)");if(o){e.width(K).height(J).margin({left:j.left,top:j.top}).svgContainer(t).xScale(q);B.select(".nv-interactive").call(e)}f.width(K).height(J).color(i.map(function(a,b){return a.color||k(a,b)}).filter(function(a,b){return!i[b].disabled}));
S.select(".nv-barsWrap").datum(i.filter(function(a){return!a.disabled})).transition().call(f);if(w){l.scale(q).tickSize(-J,0);S.select(".nv-x.nv-axis").attr("transform","translate(0,"+p.range()[0]+")");S.select(".nv-x.nv-axis").transition().call(l)}if(y){g.scale(p).ticks(c.utils.calcTicksY(J/36,i)).tickSize(-K,0);S.select(".nv-y.nv-axis").transition().call(g)}e.dispatch.on("elementMousemove",function(a){f.clearHighlights();var t,h,r,B=[];i.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(i){h=
c.interactiveBisect(i.values,a.pointXValue,b.x());f.highlightPoint(h,true);var e=i.values[h];if(typeof e!=="undefined"){typeof t==="undefined"&&(t=e);typeof r==="undefined"&&(r=b.xScale()(b.x()(e,h)));B.push({key:i.key,value:b.y()(e,h),color:k(i,i.seriesIndex),data:i.values[h]})}});var p=l.tickFormat()(b.x()(t,h));e.tooltip.position({left:r+j.left,top:a.mouseY+j.top}).chartContainer(P.parentNode).enabled(v).valueFormatter(function(a){return g.tickFormat()(a)}).data({value:p,series:B})();e.renderGuideLine(r)});
e.dispatch.on("elementMouseout",function(){E.tooltipHide();f.clearHighlights()});h.dispatch.on("legendClick",function(c){c.disabled=!c.disabled;i.filter(function(a){return!a.disabled}).length||i.map(function(a){a.disabled=false;B.selectAll(".nv-series").classed("disabled",false);return a});A.disabled=i.map(function(a){return!!a.disabled});E.stateChange(A);a.transition().call(b)});h.dispatch.on("legendDblclick",function(a){i.forEach(function(a){a.disabled=true});a.disabled=false;A.disabled=i.map(function(a){return!!a.disabled});
E.stateChange(A);b.update()});E.on("tooltipShow",function(a){if(v){var i=P.parentNode;if(i){var e=d3.select(i).select("svg"),t=e.node()?e.attr("viewBox"):null;if(t){t=t.split(" ");e=parseInt(e.style("width"))/t[2];a.pos[0]=a.pos[0]*e;a.pos[1]=a.pos[1]*e}}var e=a.pos[0]+(i.offsetLeft||0),t=a.pos[1]+(i.offsetTop||0),h=l.tickFormat()(f.x()(a.point,a.pointIndex)),r=g.tickFormat()(f.y()(a.point,a.pointIndex)),a=z(a.series.key,h,r,a,b);c.tooltip.show([e,t],a,null,null,i)}});E.on("changeState",function(a){if(typeof a.disabled!==
"undefined"){i.forEach(function(b,c){b.disabled=a.disabled[c]});A.disabled=a.disabled}b.update()})});D.renderEnd("historicalBarChart immediate");return b}var f=a||c.models.historicalBar(),l=c.models.axis(),g=c.models.axis(),h=c.models.legend(),e=c.interactiveGuideline(),j={top:30,right:90,bottom:50,left:90},k=c.utils.defaultColor(),x=null,n=null,m=false,w=true,y=true,u=false,o=false,v=true,z=function(a,b,c){return"<h3>"+a+"</h3><p>"+c+" at "+b+"</p>"},q,p,A={},C=null,G="No Data Available.",E=d3.dispatch("tooltipShow",
"tooltipHide","stateChange","changeState","renderEnd"),s=250;l.orient("bottom").tickPadding(7);g.orient(u?"right":"left");var D=c.utils.renderWatch(E,0);f.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+j.left,a.pos[1]+j.top];E.tooltipShow(a)});f.dispatch.on("elementMouseout.tooltip",function(a){E.tooltipHide(a)});E.on("tooltipHide",function(){v&&c.tooltip.cleanup()});b.dispatch=E;b.bars=f;b.legend=h;b.xAxis=l;b.yAxis=g;b.interactiveLayer=e;b.options=c.utils.optionsFunc.bind(b);
b._options=Object.create({},{width:{get:function(){return x},set:function(a){x=a}},height:{get:function(){return n},set:function(a){n=a}},showLegend:{get:function(){return m},set:function(a){m=a}},showXAxis:{get:function(){return w},set:function(a){w=a}},showYAxis:{get:function(){return y},set:function(a){y=a}},tooltips:{get:function(){return v},set:function(a){v=a}},tooltipContent:{get:function(){return z},set:function(a){z=a}},defaultState:{get:function(){return C},set:function(a){C=a}},noData:{get:function(){return G},
set:function(a){G=a}},margin:{get:function(){return j},set:function(a){j.top=a.top!==void 0?a.top:j.top;j.right=a.right!==void 0?a.right:j.right;j.bottom=a.bottom!==void 0?a.bottom:j.bottom;j.left=a.left!==void 0?a.left:j.left}},color:{get:function(){return k},set:function(a){k=c.utils.getColor(a);h.color(k);f.color(k)}},duration:{get:function(){return s},set:function(a){s=a;D.reset(s);g.duration(s);l.duration(s)}},rightAlignYAxis:{get:function(){return u},set:function(a){u=a;g.orient(a?"right":"left")}},
useInteractiveGuideline:{get:function(){return o},set:function(a){o=a;a===true&&b.interactive(false)}}});c.utils.inheritOptions(b,f);c.utils.initOptions(b);return b};c.models.ohlcBarChart=function(){var a=c.models.historicalBarChart(c.models.ohlcBar());a.useInteractiveGuideline(true);a.interactiveLayer.tooltip.contentGenerator(function(b){var c=b.series[0].data;return'<h3 style="color: #'+(c.open<c.close?"2ca02c":"d62728")+'">'+b.value+"</h3><table><tr><td>open:</td><td>"+a.yAxis.tickFormat()(c.open)+
"</td></tr><tr><td>close:</td><td>"+a.yAxis.tickFormat()(c.close)+"</td></tr><tr><td>high</td><td>"+a.yAxis.tickFormat()(c.high)+"</td></tr><tr><td>low:</td><td>"+a.yAxis.tickFormat()(c.low)+"</td></tr></table>"});return a};c.models.legend=function(){function a(m){m.each(function(a){var m=f-b.left-b.right,u=d3.select(this);c.utils.initSVG(u);var o=u.selectAll("g.nv-legend").data([a]);o.enter().append("g").attr("class","nvd3 nv-legend").append("g");u=o.select("g");o.attr("transform","translate("+b.left+
","+b.top+")");var o=u.selectAll(".nv-series").data(function(a){return a}),v=o.enter().append("g").attr("class","nv-series").on("mouseover",function(a,b){n.legendMouseover(a,b)}).on("mouseout",function(a,b){n.legendMouseout(a,b)}).on("click",function(b,c){n.legendClick(b,c);if(k){if(x){a.forEach(function(a){a.disabled=true});b.disabled=false}else{b.disabled=!b.disabled;a.every(function(a){return a.disabled})&&a.forEach(function(a){a.disabled=false})}n.stateChange({disabled:a.map(function(a){return!!a.disabled})})}}).on("dblclick",
function(b,c){n.legendDblclick(b,c);if(k){a.forEach(function(a){a.disabled=true});b.disabled=false;n.stateChange({disabled:a.map(function(a){return!!a.disabled})})}});v.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5);v.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");o.classed("nv-disabled",function(a){return a.disabled});o.exit().remove();o.select("circle").style("fill",function(a,b){return a.color||
h(a,b)}).style("stroke",function(a,b){return a.color||h(a,b)});o.select("text").text(g);if(e){var z=[];o.each(function(){var a=d3.select(this).select("text"),b;try{b=a.node().getComputedTextLength();if(b<=0)throw Error();}catch(e){b=c.utils.calcApproxTextWidth(a)}z.push(b+28)});for(var q=0,p=0,v=[];p<m&&q<z.length;){v[q]=z[q];p=p+z[q++]}for(q===0&&(q=1);p>m&&q>1;){v=[];q--;for(p=0;p<z.length;p++)if(z[p]>(v[p%q]||0))v[p%q]=z[p];p=v.reduce(function(a,b){return a+b})}for(var A=[],C=m=0;m<q;m++){A[m]=
C;C=C+v[m]}o.attr("transform",function(a,b){return"translate("+A[b%q]+","+(5+Math.floor(b/q)*20)+")"});j?u.attr("transform","translate("+(f-b.right-p)+","+b.top+")"):u.attr("transform","translate(0,"+b.top+")");l=b.top+b.bottom+Math.ceil(z.length/q)*20}else{var G=5,E=5,s=0,D;o.attr("transform",function(){var a=d3.select(this).select("text").node().getComputedTextLength()+28;D=E;if(f<b.left+b.right+D+a){E=D=5;G=G+20}E=E+a;E>s&&(s=E);return"translate("+D+","+G+")"});u.attr("transform","translate("+
(f-b.right-s)+","+b.top+")");l=b.top+b.bottom+G+15}});return a}var b={top:5,right:0,bottom:5,left:0},f=400,l=20,g=function(a){return a.key},h=c.utils.defaultColor(),e=true,j=true,k=true,x=false,n=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange");a.dispatch=n;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return f},set:function(a){f=a}},height:{get:function(){return l},set:function(a){l=a}},key:{get:function(){return g},
set:function(a){g=a}},align:{get:function(){return e},set:function(a){e=a}},rightAlign:{get:function(){return j},set:function(a){j=a}},updateState:{get:function(){return k},set:function(a){k=a}},radioButtonMode:{get:function(){return x},set:function(a){x=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return h},set:function(a){h=
c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.line=function(){function a(p){q.reset();q.models(b);p.each(function(a){var p=l-f.left-f.right,o=g-f.top-f.bottom,u=d3.select(this);c.utils.initSVG(u);m=b.xScale();w=b.yScale();v=v||m;z=z||w;var a=u.selectAll("g.nv-wrap.nv-line").data([a]),s=a.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),u=s.append("defs"),D=s.append("g"),s=a.select("g");D.append("g").attr("class","nv-groups");D.append("g").attr("class","nv-scatterWrap");
a.attr("transform","translate("+f.left+","+f.top+")");b.width(p).height(o);D=a.select(".nv-scatterWrap");D.call(b);u.append("clipPath").attr("id","nv-edge-clip-"+b.id()).append("rect");a.select("#nv-edge-clip-"+b.id()+" rect").attr("width",p).attr("height",o>0?o:0);s.attr("clip-path",n?"url(#nv-edge-clip-"+b.id()+")":"");D.attr("clip-path",n?"url(#nv-edge-clip-"+b.id()+")":"");p=a.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});p.enter().append("g").style("stroke-opacity",
1.0E-6).style("fill-opacity",1.0E-6);p.exit().remove();p.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return h(a,b)}).style("stroke",function(a,b){return h(a,b)});p.watchTransition(q,"line: groups").style("stroke-opacity",1).style("fill-opacity",0.5);o=p.selectAll("path.nv-area").data(function(a){return x(a)?[a]:[]});o.enter().append("path").attr("class","nv-area").attr("d",function(a){return d3.svg.area().interpolate(y).defined(k).x(function(a,
b){return c.utils.NaNtoZero(v(e(a,b)))}).y0(function(a,b){return c.utils.NaNtoZero(z(j(a,b)))}).y1(function(){return z(w.domain()[0]<=0?w.domain()[1]>=0?0:w.domain()[1]:w.domain()[0])}).apply(this,[a.values])});p.exit().selectAll("path.nv-area").remove();o.watchTransition(q,"line: areaPaths").attr("d",function(a){return d3.svg.area().interpolate(y).defined(k).x(function(a,b){return c.utils.NaNtoZero(m(e(a,b)))}).y0(function(a,b){return c.utils.NaNtoZero(w(j(a,b)))}).y1(function(){return w(w.domain()[0]<=
0?w.domain()[1]>=0?0:w.domain()[1]:w.domain()[0])}).apply(this,[a.values])});p=p.selectAll("path.nv-line").data(function(a){return[a.values]});p.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(y).defined(k).x(function(a,b){return c.utils.NaNtoZero(v(e(a,b)))}).y(function(a,b){return c.utils.NaNtoZero(z(j(a,b)))}));p.watchTransition(q,"line: linePaths").attr("d",d3.svg.line().interpolate(y).defined(k).x(function(a,b){return c.utils.NaNtoZero(m(e(a,b)))}).y(function(a,
b){return c.utils.NaNtoZero(w(j(a,b)))}));v=m.copy();z=w.copy()});q.renderEnd("line immediate");return a}var b=c.models.scatter(),f={top:0,right:0,bottom:0,left:0},l=960,g=500,h=c.utils.defaultColor(),e=function(a){return a.x},j=function(a){return a.y},k=function(a,b){return!isNaN(j(a,b))&&j(a,b)!==null},x=function(a){return a.area},n=false,m,w,y="linear",u=250,o=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");b.pointSize(16).pointDomain([16,256]);var v,z,q=c.utils.renderWatch(o,
u);a.dispatch=o;a.scatter=b;b.dispatch.on("elementClick",function(){o.elementClick.apply(this,arguments)});b.dispatch.on("elementMouseover",function(){o.elementMouseover.apply(this,arguments)});b.dispatch.on("elementMouseout",function(){o.elementMouseout.apply(this,arguments)});a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return g},set:function(a){g=a}},defined:{get:function(){return k},set:function(a){k=
a}},interpolate:{get:function(){return y},set:function(a){y=a}},clipEdge:{get:function(){return n},set:function(a){n=a}},margin:{get:function(){return f},set:function(a){f.top=a.top!==void 0?a.top:f.top;f.right=a.right!==void 0?a.right:f.right;f.bottom=a.bottom!==void 0?a.bottom:f.bottom;f.left=a.left!==void 0?a.left:f.left}},duration:{get:function(){return u},set:function(a){u=a;q.reset(u);b.duration(u)}},isArea:{get:function(){return x},set:function(a){x=d3.functor(a)}},x:{get:function(){return e},
set:function(a){e=a;b.x(a)}},y:{get:function(){return j},set:function(a){j=a;b.y(a)}},color:{get:function(){return h},set:function(a){h=c.utils.getColor(a);b.color(h)}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.lineChart=function(){function a(i){s.reset();s.models(b);m&&s.models(f);w&&s.models(l);i.each(function(i){var s=d3.select(this),K=this;c.utils.initSVG(s);var J=(k||parseInt(s.style("width"))||960)-e.left-e.right,r=(x||parseInt(s.style("height"))||400)-e.top-e.bottom;
a.update=function(){E===0?s.call(a):s.transition().duration(E).call(a)};a.container=this;p.setter(F(i),a.update).getter(D(i)).update();p.disabled=i.map(function(a){return!!a.disabled});if(!A){var B;A={};for(B in p)A[B]=p[B]instanceof Array?p[B].slice(0):p[B]}if(!i||!i.length||!i.filter(function(a){return a.values.length}).length){B=s.selectAll(".nv-noData").data([C]);B.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");B.attr("x",e.left+J/2).attr("y",
e.top+r/2).text(function(a){return a});return a}s.selectAll(".nv-noData").remove();z=b.xScale();q=b.yScale();B=s.selectAll("g.nv-wrap.nv-lineChart").data([i]);var S=B.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),N=B.select("g");S.append("rect").style("opacity",0);S.append("g").attr("class","nv-x nv-axis");S.append("g").attr("class","nv-y nv-axis");S.append("g").attr("class","nv-linesWrap");S.append("g").attr("class","nv-legendWrap");S.append("g").attr("class","nv-interactive");
N.select("rect").attr("width",J).attr("height",r>0?r:0);if(n){g.width(J);N.select(".nv-legendWrap").datum(i).call(g);if(e.top!=g.height()){e.top=g.height();r=(x||parseInt(s.style("height"))||400)-e.top-e.bottom}B.select(".nv-legendWrap").attr("transform","translate(0,"+-e.top+")")}B.attr("transform","translate("+e.left+","+e.top+")");y&&N.select(".nv-y.nv-axis").attr("transform","translate("+J+",0)");if(u){h.width(J).height(r).margin({left:e.left,top:e.top}).svgContainer(s).xScale(z);B.select(".nv-interactive").call(h)}b.width(J).height(r).color(i.map(function(a,
b){return a.color||j(a,b)}).filter(function(a,b){return!i[b].disabled}));N.select(".nv-linesWrap").datum(i.filter(function(a){return!a.disabled})).call(b);if(m){f.scale(z).ticks(c.utils.calcTicksX(J/100,i)).tickSize(-r,0);N.select(".nv-x.nv-axis").attr("transform","translate(0,"+q.range()[0]+")");N.select(".nv-x.nv-axis").call(f)}if(w){l.scale(q).ticks(c.utils.calcTicksY(r/36,i)).tickSize(-J,0);N.select(".nv-y.nv-axis").call(l)}g.dispatch.on("stateChange",function(b){for(var c in b)p[c]=b[c];G.stateChange(p);
a.update()});h.dispatch.on("elementMousemove",function(g){b.clearHighlights();var r,B,s,p=[];i.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(i,e){B=c.interactiveBisect(i.values,g.pointXValue,a.x());b.highlightPoint(e,B,true);var f=i.values[B];if(typeof f!=="undefined"){typeof r==="undefined"&&(r=f);typeof s==="undefined"&&(s=a.xScale()(a.x()(f,B)));p.push({key:i.key,value:a.y()(f,B),color:j(i,i.seriesIndex)})}});if(p.length>2){var k=a.yScale().invert(g.mouseY),m=0.03*Math.abs(a.yScale().domain()[0]-
a.yScale().domain()[1]),k=c.nearestValueIndex(p.map(function(a){return a.value}),k,m);if(k!==null)p[k].highlight=true}k=f.tickFormat()(a.x()(r,B));h.tooltip.position({left:s+e.left,top:g.mouseY+e.top}).chartContainer(K.parentNode).enabled(o).valueFormatter(function(a){return l.tickFormat()(a)}).data({value:k,series:p})();h.renderGuideLine(s)});h.dispatch.on("elementClick",function(e){var f,h=[];i.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(b){var i=c.interactiveBisect(b.values,
e.pointXValue,a.x()),t=b.values[i];if(typeof t!=="undefined"){typeof f==="undefined"&&(f=a.xScale()(a.x()(t,i)));var g=a.yScale()(a.y()(t,i));h.push({point:t,pointIndex:i,pos:[f,g],seriesIndex:b.seriesIndex,series:b})}});b.dispatch.elementClick(h)});h.dispatch.on("elementMouseout",function(){G.tooltipHide();b.clearHighlights()});G.on("tooltipShow",function(i){if(o){var e=K.parentNode,t=i.pos[0]+(e.offsetLeft||0),h=i.pos[1]+(e.offsetTop||0),g=f.tickFormat()(b.x()(i.point,i.pointIndex)),r=l.tickFormat()(b.y()(i.point,
i.pointIndex)),i=v(i.series.key,g,r,i,a);c.tooltip.show([t,h],i,null,null,e)}});G.on("changeState",function(b){if(typeof b.disabled!=="undefined"&&i.length===b.disabled.length){i.forEach(function(a,c){a.disabled=b.disabled[c]});p.disabled=b.disabled}a.update()})});s.renderEnd("lineChart immediate");return a}var b=c.models.line(),f=c.models.axis(),l=c.models.axis(),g=c.models.legend(),h=c.interactiveGuideline(),e={top:30,right:20,bottom:50,left:60},j=c.utils.defaultColor(),k=null,x=null,n=true,m=true,
w=true,y=false,u=false,o=true,v=function(a,b,c){return"<h3>"+a+"</h3><p>"+c+" at "+b+"</p>"},z,q,p=c.utils.state(),A=null,C="No Data Available.",G=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),E=250;f.orient("bottom").tickPadding(7);l.orient(y?"right":"left");var s=c.utils.renderWatch(G,E),D=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},F=function(a){return function(b){b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};
b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+e.left,a.pos[1]+e.top];G.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){G.tooltipHide(a)});G.on("tooltipHide",function(){o&&c.tooltip.cleanup()});a.dispatch=G;a.lines=b;a.legend=g;a.xAxis=f;a.yAxis=l;a.interactiveLayer=h;a.dispatch=G;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return x},set:function(a){x=a}},
showLegend:{get:function(){return n},set:function(a){n=a}},showXAxis:{get:function(){return m},set:function(a){m=a}},showYAxis:{get:function(){return w},set:function(a){w=a}},tooltips:{get:function(){return o},set:function(a){o=a}},tooltipContent:{get:function(){return v},set:function(a){v=a}},defaultState:{get:function(){return A},set:function(a){A=a}},noData:{get:function(){return C},set:function(a){C=a}},margin:{get:function(){return e},set:function(a){e.top=a.top!==void 0?a.top:e.top;e.right=
a.right!==void 0?a.right:e.right;e.bottom=a.bottom!==void 0?a.bottom:e.bottom;e.left=a.left!==void 0?a.left:e.left}},duration:{get:function(){return E},set:function(a){E=a;s.reset(E);b.duration(E);f.duration(E);l.duration(E)}},color:{get:function(){return j},set:function(a){j=c.utils.getColor(a);g.color(j);b.color(j)}},rightAlignYAxis:{get:function(){return y},set:function(a){y=a;l.orient(y?"right":"left")}},useInteractiveGuideline:{get:function(){return u},set:function(a){if(u=a){b.interactive(false);
b.useVoronoi(false)}}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.linePlusBarChart=function(){var a,b;function f(O){O.each(function(O){function ca(){u.empty()||u.extent(i);ja.data([u.empty()?J.domain():i]).each(function(a){var b=J(a[0])-J.range()[0],c=J.range()[1]-J(a[1]);d3.select(this).select(".left").attr("width",b<0?0:b);d3.select(this).select(".right").attr("x",J(a[1])).attr("width",c<0?0:c)})}function Y(){i=u.empty()?null:u.extent();F=u.empty()?J.domain():u.extent();
I.brush({extent:F,brush:u});ca();h.width($).height(fa).color(O.map(function(a,b){return a.color||A(a,b)}).filter(function(a,b){return!O[b].disabled&&O[b].bar}));l.width($).height(fa).color(O.map(function(a,b){return a.color||A(a,b)}).filter(function(a,b){return!O[b].disabled&&!O[b].bar}));var a=X.select(".nv-focus .nv-barsWrap").datum(!ea.length?[{values:[]}]:ea.map(function(a){return{key:a.key,values:a.values.filter(function(a,b){return h.x()(a,b)>=F[0]&&h.x()(a,b)<=F[1]})}})),b=X.select(".nv-focus .nv-linesWrap").datum(ga[0].disabled?
[{values:[]}]:ga.map(function(a){return{key:a.key,values:a.values.filter(function(a,b){return l.x()(a,b)>=F[0]&&l.x()(a,b)<=F[1]})}}));K=ea.length?h.xScale():l.xScale();j.scale(K).ticks(c.utils.calcTicksX($/100,O)).tickSize(-fa,0);j.domain([Math.ceil(F[0]),Math.floor(F[1])]);X.select(".nv-x.nv-axis").transition().duration(H).call(j);a.transition().duration(H).call(h);b.transition().duration(H).call(l);X.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")");x.scale(r).ticks(c.utils.calcTicksY(fa/
36,O)).tickSize(-$,0);n.scale(B).ticks(c.utils.calcTicksY(fa/36,O)).tickSize(ea.length?0:-$,0);X.select(".nv-focus .nv-y1.nv-axis").style("opacity",ea.length?1:0);X.select(".nv-focus .nv-y2.nv-axis").style("opacity",ga.length&&!ga[0].disabled?1:0).attr("transform","translate("+K.range()[1]+",0)");X.select(".nv-focus .nv-y1.nv-axis").transition().duration(H).call(x);X.select(".nv-focus .nv-y2.nv-axis").transition().duration(H).call(n)}var Z=d3.select(this),ia=this;c.utils.initSVG(Z);var $=(v||parseInt(Z.style("width"))||
960)-o.left-o.right,fa=(z||parseInt(Z.style("height"))||400)-o.top-o.bottom-(G?D:0),da=D-a-b;f.update=function(){Z.transition().duration(H).call(f)};f.container=this;R.setter(V(O),f.update).getter(Q(O)).update();R.disabled=O.map(function(a){return!!a.disabled});if(!T){var W;T={};for(W in R)T[W]=R[W]instanceof Array?R[W].slice(0):R[W]}if(!O||!O.length||!O.filter(function(a){return a.values.length}).length){W=Z.selectAll(".nv-noData").data([M]);W.enter().append("text").attr("class","nvd3 nv-noData").attr("dy",
"-.7em").style("text-anchor","middle");W.attr("x",o.left+$/2).attr("y",o.top+fa/2).text(function(a){return a});return f}Z.selectAll(".nv-noData").remove();var ea=O.filter(function(a){return!a.disabled&&a.bar}),ga=O.filter(function(a){return!a.bar});K=h.xScale();J=k.scale();r=h.yScale();B=l.yScale();S=e.yScale();N=g.yScale();W=O.filter(function(a){return!a.disabled&&a.bar}).map(function(a){return a.values.map(function(a,b){return{x:q(a,b),y:p(a,b)}})});var aa=O.filter(function(a){return!a.disabled&&
!a.bar}).map(function(a){return a.values.map(function(a,b){return{x:q(a,b),y:p(a,b)}})});K.range([0,$]);J.domain(d3.extent(d3.merge(W.concat(aa)),function(a){return a.x})).range([0,$]);W=Z.selectAll("g.nv-wrap.nv-linePlusBar").data([O]);var aa=W.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),X=W.select("g");aa.append("g").attr("class","nv-legendWrap");var ha=aa.append("g").attr("class","nv-focus");ha.append("g").attr("class","nv-x nv-axis");ha.append("g").attr("class",
"nv-y1 nv-axis");ha.append("g").attr("class","nv-y2 nv-axis");ha.append("g").attr("class","nv-barsWrap");ha.append("g").attr("class","nv-linesWrap");aa=aa.append("g").attr("class","nv-context");aa.append("g").attr("class","nv-x nv-axis");aa.append("g").attr("class","nv-y1 nv-axis");aa.append("g").attr("class","nv-y2 nv-axis");aa.append("g").attr("class","nv-barsWrap");aa.append("g").attr("class","nv-linesWrap");aa.append("g").attr("class","nv-brushBackground");aa.append("g").attr("class","nv-x nv-brush");
if(C){y.width($/2);X.select(".nv-legendWrap").datum(O.map(function(a){a.originalKey=a.originalKey===void 0?a.key:a.originalKey;a.key=a.originalKey+(a.bar?U:L);return a})).call(y);if(o.top!=y.height()){o.top=y.height();fa=(z||parseInt(Z.style("height"))||400)-o.top-o.bottom-D}X.select(".nv-legendWrap").attr("transform","translate("+$/2+","+-o.top+")")}W.attr("transform","translate("+o.left+","+o.top+")");X.select(".nv-context").style("display",G?"initial":"none");e.width($).height(da).color(O.map(function(a,
b){return a.color||A(a,b)}).filter(function(a,b){return!O[b].disabled&&O[b].bar}));g.width($).height(da).color(O.map(function(a,b){return a.color||A(a,b)}).filter(function(a,b){return!O[b].disabled&&!O[b].bar}));W=X.select(".nv-context .nv-barsWrap").datum(ea.length?ea:[{values:[]}]);aa=X.select(".nv-context .nv-linesWrap").datum(!ga[0].disabled?ga:[{values:[]}]);X.select(".nv-context").attr("transform","translate(0,"+(fa+o.bottom+a)+")");W.transition().call(e);aa.transition().call(g);if(s){k.ticks(c.utils.calcTicksX($/
100,O)).tickSize(-da,0);X.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+S.range()[0]+")");X.select(".nv-context .nv-x.nv-axis").transition().call(k)}if(E){m.scale(S).ticks(da/36).tickSize(-$,0);w.scale(N).ticks(da/36).tickSize(ea.length?0:-$,0);X.select(".nv-context .nv-y3.nv-axis").style("opacity",ea.length?1:0).attr("transform","translate(0,"+J.range()[0]+")");X.select(".nv-context .nv-y2.nv-axis").style("opacity",ga.length?1:0).attr("transform","translate("+J.range()[1]+",0)");
X.select(".nv-context .nv-y1.nv-axis").transition().call(m);X.select(".nv-context .nv-y2.nv-axis").transition().call(w)}u.x(J).on("brush",Y);i&&u.extent(i);var ja=X.select(".nv-brushBackground").selectAll("g").data([i||u.extent()]);W=ja.enter().append("g");W.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",da);W.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",da);W=X.select(".nv-x.nv-brush").call(u);W.selectAll("rect").attr("height",da);W.selectAll(".resize").append("path").attr("d",
function(a){var b=(a=+(a=="e"))?1:-1,c=da/3;return"M"+0.5*b+","+c+"A6,6 0 0 "+a+" "+6.5*b+","+(c+6)+"V"+(2*c-6)+"A6,6 0 0 "+a+" "+0.5*b+","+2*c+"ZM"+2.5*b+","+(c+8)+"V"+(2*c-8)+"M"+4.5*b+","+(c+8)+"V"+(2*c-8)});y.dispatch.on("stateChange",function(a){for(var b in a)R[b]=a[b];I.stateChange(R);f.update()});I.on("tooltipShow",function(a){if(t){var b=ia.parentNode;if(F)a.pointIndex=a.pointIndex+Math.ceil(F[0]);var e=a.pos[0]+(b.offsetLeft||0),i=a.pos[1]+(b.offsetTop||0),h=j.tickFormat()(l.x()(a.point,
a.pointIndex)),g=(a.series.bar?x:n).tickFormat()(l.y()(a.point,a.pointIndex)),h=P(a.series.key,h,g,a,f);c.tooltip.show([e,i],h,a.value<0?"n":"s",null,b)}});I.on("changeState",function(a){if(typeof a.disabled!=="undefined"){O.forEach(function(b,c){b.disabled=a.disabled[c]});R.disabled=a.disabled}f.update()});Y()});return f}var l=c.models.line(),g=c.models.line(),h=c.models.historicalBar(),e=c.models.historicalBar(),j=c.models.axis(),k=c.models.axis(),x=c.models.axis(),n=c.models.axis(),m=c.models.axis(),
w=c.models.axis(),y=c.models.legend(),u=d3.svg.brush(),o={top:30,right:30,bottom:30,left:60};a=0;b=20;var v=null,z=null,q=function(a){return a.x},p=function(a){return a.y},A=c.utils.defaultColor(),C=true,G=true,E=false,s=true,D=50,F,i=null,t=true,P=function(a,b,c){return"<h3>"+a+"</h3><p>"+c+" at "+b+"</p>"},K,J,r,B,S,N,M="No Data Available.",I=d3.dispatch("tooltipShow","tooltipHide","brush","stateChange","changeState"),H=0,R=c.utils.state(),T=null,U=" (left axis)",L=" (right axis)";l.clipEdge(true);
g.interactive(false);j.orient("bottom").tickPadding(5);x.orient("left");n.orient("right");k.orient("bottom").tickPadding(5);m.orient("left");w.orient("right");var Q=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},V=function(a){return function(b){b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};l.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+o.left,a.pos[1]+o.top];I.tooltipShow(a)});l.dispatch.on("elementMouseout.tooltip",
function(a){I.tooltipHide(a)});h.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+o.left,a.pos[1]+o.top];I.tooltipShow(a)});h.dispatch.on("elementMouseout.tooltip",function(a){I.tooltipHide(a)});I.on("tooltipHide",function(){t&&c.tooltip.cleanup()});f.dispatch=I;f.legend=y;f.lines=l;f.lines2=g;f.bars=h;f.bars2=e;f.xAxis=j;f.x2Axis=k;f.y1Axis=x;f.y2Axis=n;f.y3Axis=m;f.y4Axis=w;f.options=c.utils.optionsFunc.bind(f);f._options=Object.create({},{width:{get:function(){return v},set:function(a){v=
a}},height:{get:function(){return z},set:function(a){z=a}},showLegend:{get:function(){return C},set:function(a){C=a}},tooltips:{get:function(){return t},set:function(a){t=a}},tooltipContent:{get:function(){return P},set:function(a){P=a}},brushExtent:{get:function(){return i},set:function(a){i=a}},noData:{get:function(){return M},set:function(a){M=a}},focusEnable:{get:function(){return G},set:function(a){G=a}},focusHeight:{get:function(){return D},set:function(a){D=a}},focusShowAxisX:{get:function(){return s},
set:function(a){s=a}},focusShowAxisY:{get:function(){return E},set:function(a){E=a}},legendLeftAxisHint:{get:function(){return U},set:function(a){U=a}},legendRightAxisHint:{get:function(){return L},set:function(a){L=a}},margin:{get:function(){return o},set:function(a){o.top=a.top!==void 0?a.top:o.top;o.right=a.right!==void 0?a.right:o.right;o.bottom=a.bottom!==void 0?a.bottom:o.bottom;o.left=a.left!==void 0?a.left:o.left}},duration:{get:function(){return H},set:function(a){H=a}},color:{get:function(){return A},
set:function(a){A=c.utils.getColor(a);y.color(A)}},x:{get:function(){return q},set:function(a){q=a;l.x(a);g.x(a);h.x(a);e.x(a)}},y:{get:function(){return p},set:function(a){p=a;l.y(a);g.y(a);h.y(a);e.y(a)}}});c.utils.inheritOptions(f,l);c.utils.initOptions(f);return f};c.models.lineWithFocusChart=function(){var a,b;function f(J){J.each(function(r){function B(){n.empty()||n.extent(C);V.data([n.empty()?q.domain():C]).each(function(a){var b=q(a[0])-v.range()[0],c=v.range()[1]-q(a[1]);d3.select(this).select(".left").attr("width",
b<0?0:b);d3.select(this).select(".right").attr("x",q(a[1])).attr("width",c<0?0:c)})}function J(){C=n.empty()?null:n.extent();var a=n.empty()?q.domain():n.extent();if(!(Math.abs(a[0]-a[1])<=1)){D.brush({extent:a,brush:n});B();L.select(".nv-focus .nv-linesWrap").datum(r.filter(function(a){return!a.disabled}).map(function(b){return{key:b.key,area:b.area,values:b.values.filter(function(b,c){return l.x()(b,c)>=a[0]&&l.x()(b,c)<=a[1]})}})).transition().duration(F).call(l);L.select(".nv-focus .nv-x.nv-axis").transition().duration(F).call(h);
L.select(".nv-focus .nv-y.nv-axis").transition().duration(F).call(e)}}var N=d3.select(this),M=this;c.utils.initSVG(N);var I=(y||parseInt(N.style("width"))||960)-m.left-m.right,H=(u||parseInt(N.style("height"))||400)-m.top-m.bottom-o,R=o-a-b;f.update=function(){N.transition().duration(F).call(f)};f.container=this;i.setter(K(r),f.update).getter(P(r)).update();i.disabled=r.map(function(a){return!!a.disabled});if(!t){var T;t={};for(T in i)t[T]=i[T]instanceof Array?i[T].slice(0):i[T]}if(!r||!r.length||
!r.filter(function(a){return a.values.length}).length){T=N.selectAll(".nv-noData").data([s]);T.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");T.attr("x",m.left+I/2).attr("y",m.top+H/2).text(function(a){return a});return f}N.selectAll(".nv-noData").remove();v=l.xScale();z=l.yScale();q=g.xScale();p=g.yScale();T=N.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([r]);var U=T.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),
L=T.select("g");U.append("g").attr("class","nv-legendWrap");var Q=U.append("g").attr("class","nv-focus");Q.append("g").attr("class","nv-x nv-axis");Q.append("g").attr("class","nv-y nv-axis");Q.append("g").attr("class","nv-linesWrap");U=U.append("g").attr("class","nv-context");U.append("g").attr("class","nv-x nv-axis");U.append("g").attr("class","nv-y nv-axis");U.append("g").attr("class","nv-linesWrap");U.append("g").attr("class","nv-brushBackground");U.append("g").attr("class","nv-x nv-brush");if(A){x.width(I);
L.select(".nv-legendWrap").datum(r).call(x);if(m.top!=x.height()){m.top=x.height();H=(u||parseInt(N.style("height"))||400)-m.top-m.bottom-o}L.select(".nv-legendWrap").attr("transform","translate(0,"+-m.top+")")}T.attr("transform","translate("+m.left+","+m.top+")");l.width(I).height(H).color(r.map(function(a,b){return a.color||w(a,b)}).filter(function(a,b){return!r[b].disabled}));g.defined(l.defined()).width(I).height(R).color(r.map(function(a,b){return a.color||w(a,b)}).filter(function(a,b){return!r[b].disabled}));
L.select(".nv-context").attr("transform","translate(0,"+(H+m.bottom+a)+")");T=L.select(".nv-context .nv-linesWrap").datum(r.filter(function(a){return!a.disabled}));d3.transition(T).call(g);h.scale(v).ticks(c.utils.calcTicksX(I/100,r)).tickSize(-H,0);e.scale(z).ticks(c.utils.calcTicksY(H/36,r)).tickSize(-I,0);L.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+H+")");n.x(q).on("brush",function(){var a=f.duration();f.duration(0);J();f.duration(a)});C&&n.extent(C);var V=L.select(".nv-brushBackground").selectAll("g").data([C||
n.extent()]),H=V.enter().append("g");H.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",R);H.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",R);H=L.select(".nv-x.nv-brush").call(n);H.selectAll("rect").attr("height",R);H.selectAll(".resize").append("path").attr("d",function(a){var b=(a=+(a=="e"))?1:-1,c=R/3;return"M"+0.5*b+","+c+"A6,6 0 0 "+a+" "+6.5*b+","+(c+6)+"V"+(2*c-6)+"A6,6 0 0 "+a+" "+0.5*b+","+2*c+"ZM"+2.5*b+","+(c+8)+"V"+(2*c-8)+"M"+4.5*
b+","+(c+8)+"V"+(2*c-8)});J();j.scale(q).ticks(c.utils.calcTicksX(I/100,r)).tickSize(-R,0);L.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+p.range()[0]+")");d3.transition(L.select(".nv-context .nv-x.nv-axis")).call(j);k.scale(p).ticks(c.utils.calcTicksY(R/36,r)).tickSize(-I,0);d3.transition(L.select(".nv-context .nv-y.nv-axis")).call(k);L.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+p.range()[0]+")");x.dispatch.on("stateChange",function(a){for(var b in a)i[b]=
a[b];D.stateChange(i);f.update()});D.on("tooltipShow",function(a){if(G){var b=M.parentNode,i=a.pos[0]+(b.offsetLeft||0),t=a.pos[1]+(b.offsetTop||0),g=h.tickFormat()(l.x()(a.point,a.pointIndex)),r=e.tickFormat()(l.y()(a.point,a.pointIndex)),a=E(a.series.key,g,r,a,f);c.tooltip.show([i,t],a,null,null,b)}});D.on("changeState",function(a){typeof a.disabled!=="undefined"&&r.forEach(function(b,c){b.disabled=a.disabled[c]});f.update()})});return f}var l=c.models.line(),g=c.models.line(),h=c.models.axis(),
e=c.models.axis(),j=c.models.axis(),k=c.models.axis(),x=c.models.legend(),n=d3.svg.brush(),m={top:30,right:30,bottom:30,left:60};a=0;b=20;var w=c.utils.defaultColor(),y=null,u=null,o=100,v,z,q,p,A=true,C=null,G=true,E=function(a,b,c){return"<h3>"+a+"</h3><p>"+c+" at "+b+"</p>"},s="No Data Available.",D=d3.dispatch("tooltipShow","tooltipHide","brush","stateChange","changeState"),F=250,i=c.utils.state(),t=null;l.clipEdge(true);g.interactive(false);h.orient("bottom").tickPadding(5);e.orient("left");
j.orient("bottom").tickPadding(5);k.orient("left");var P=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},K=function(a){return function(b){b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};l.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+m.left,a.pos[1]+m.top];D.tooltipShow(a)});l.dispatch.on("elementMouseout.tooltip",function(a){D.tooltipHide(a)});D.on("tooltipHide",function(){G&&c.tooltip.cleanup()});f.dispatch=D;f.legend=
x;f.lines=l;f.lines2=g;f.xAxis=h;f.yAxis=e;f.x2Axis=j;f.y2Axis=k;f.options=c.utils.optionsFunc.bind(f);f._options=Object.create({},{width:{get:function(){return y},set:function(a){y=a}},height:{get:function(){return u},set:function(a){u=a}},focusHeight:{get:function(){return o},set:function(a){o=a}},showLegend:{get:function(){return A},set:function(a){A=a}},brushExtent:{get:function(){return C},set:function(a){C=a}},tooltips:{get:function(){return G},set:function(a){G=a}},tooltipContent:{get:function(){return E},
set:function(a){E=a}},defaultState:{get:function(){return t},set:function(a){t=a}},noData:{get:function(){return s},set:function(a){s=a}},margin:{get:function(){return m},set:function(a){m.top=a.top!==void 0?a.top:m.top;m.right=a.right!==void 0?a.right:m.right;m.bottom=a.bottom!==void 0?a.bottom:m.bottom;m.left=a.left!==void 0?a.left:m.left}},color:{get:function(){return w},set:function(a){w=c.utils.getColor(a);x.color(w)}},interpolate:{get:function(){return l.interpolate()},set:function(a){l.interpolate(a);
g.interpolate(a)}},xTickFormat:{get:function(){return h.xTickFormat()},set:function(a){h.xTickFormat(a);j.xTickFormat(a)}},yTickFormat:{get:function(){return e.yTickFormat()},set:function(a){e.yTickFormat(a);k.yTickFormat(a)}},duration:{get:function(){return F},set:function(a){F=a;e.duration(F);h.duration(F)}},x:{get:function(){return l.x()},set:function(a){l.x(a);g.x(a)}},y:{get:function(){return l.y()},set:function(a){l.y(a);g.y(a)}}});c.utils.inheritOptions(f,l);c.utils.initOptions(f);return f};
c.models.multiBar=function(){function a(i){D.reset();i.each(function(a){var i=f-b.left-b.right,K=l-b.top-b.bottom,J=d3.select(this);c.utils.initSVG(J);u&&a.length&&(u=[{values:a[0].values.map(function(a){return{x:a.x,y:0,series:a.series,size:0.01}})}]);m&&(a=d3.layout.stack().offset(w).values(function(a){return a.values}).y(k)(!a.length&&u?u:a));a.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});m&&a[0].values.map(function(b,c){var i=0,e=0;a.map(function(a){a=a.values[c];a.size=Math.abs(a.y);
if(a.y<0){a.y1=e;e=e-a.size}else{a.y1=a.size+i;i=i+a.size}})});var r=q&&p?[]:a.map(function(a){return a.values.map(function(a,b){return{x:j(a,b),y:k(a,b),y0:a.y0,y1:a.y1}})});g.domain(q||d3.merge(r).map(function(a){return a.x})).rangeBands(A||[0,i],G);h.domain(p||d3.extent(d3.merge(r).map(function(a){return m?a.y>0?a.y1:a.y1+a.y:a.y}).concat(x))).range(C||[K,0]);g.domain()[0]===g.domain()[1]&&(g.domain()[0]?g.domain([g.domain()[0]-g.domain()[0]*0.01,g.domain()[1]+g.domain()[1]*0.01]):g.domain([-1,
1]));h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]+h.domain()[0]*0.01,h.domain()[1]-h.domain()[1]*0.01]):h.domain([-1,1]));s=s||h;var J=J.selectAll("g.nv-wrap.nv-multibar").data([a]),B=J.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),r=B.append("defs"),B=B.append("g"),S=J.select("g");B.append("g").attr("class","nv-groups");J.attr("transform","translate("+b.left+","+b.top+")");r.append("clipPath").attr("id","nv-edge-clip-"+e).append("rect");J.select("#nv-edge-clip-"+
e+" rect").attr("width",i).attr("height",K);S.attr("clip-path",n?"url(#nv-edge-clip-"+e+")":"");i=J.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a,b){return b});i.enter().append("g").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6);K=D.transition(i.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,z)).attr("y",function(a){return(m?s(a.y0):s(0))||0}).attr("height",0).remove();K.delay&&K.delay(function(a,b){return b*(z/(F+1))-b});i.attr("class",
function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return y(a,b)}).style("stroke",function(a,b){return y(a,b)});i.style("stroke-opacity",1).style("fill-opacity",0.75);i=i.selectAll("rect.nv-bar").data(function(b){return u&&!a.length?u.values:b.values});i.exit().remove();i.enter().append("rect").attr("class",function(a,b){return k(a,b)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(b,c,i){return m?0:i*g.rangeBand()/a.length}).attr("y",
function(a){return s(m?a.y0:0)||0}).attr("height",0).attr("width",g.rangeBand()/(m?1:a.length)).attr("transform",function(a,b){return"translate("+g(j(a,b))+",0)"});i.style("fill",function(a,b,c){return y(a,c,b)}).style("stroke",function(a,b,c){return y(a,c,b)}).on("mouseover",function(b,c){d3.select(this).classed("hover",true);E.elementMouseover({value:k(b,c),point:b,series:a[b.series],pos:[g(j(b,c))+g.rangeBand()*(m?a.length/2:b.series+0.5)/a.length,h(k(b,c)+(m?b.y0:0))],pointIndex:c,seriesIndex:b.series,
e:d3.event})}).on("mouseout",function(b,c){d3.select(this).classed("hover",false);E.elementMouseout({value:k(b,c),point:b,series:a[b.series],pointIndex:c,seriesIndex:b.series,e:d3.event})}).on("click",function(b,c){E.elementClick({value:k(b,c),point:b,series:a[b.series],pos:[g(j(b,c))+g.rangeBand()*(m?a.length/2:b.series+0.5)/a.length,h(k(b,c)+(m?b.y0:0))],pointIndex:c,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",function(b,c){E.elementDblClick({value:k(b,c),point:b,
series:a[b.series],pos:[g(j(b,c))+g.rangeBand()*(m?a.length/2:b.series+0.5)/a.length,h(k(b,c)+(m?b.y0:0))],pointIndex:c,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()});i.attr("class",function(a,b){return k(a,b)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(a,b){return"translate("+g(j(a,b))+",0)"});if(o){v||(v=a.map(function(){return true}));i.style("fill",function(a,b,c){return d3.rgb(o(a,b)).darker(v.map(function(a,b){return b}).filter(function(a,b){return!v[b]})[c]).toString()}).style("stroke",
function(a,b,c){return d3.rgb(o(a,b)).darker(v.map(function(a,b){return b}).filter(function(a,b){return!v[b]})[c]).toString()})}i=i.watchTransition(D,"multibar",Math.min(250,z)).delay(function(b,c){return c*z/a[0].values.length});m?i.attr("y",function(a){return h(m?a.y1:0)}).attr("height",function(a){return Math.max(Math.abs(h(a.y+(m?a.y0:0))-h(m?a.y0:0)),1)}).attr("x",function(b){return m?0:b.series*g.rangeBand()/a.length}).attr("width",g.rangeBand()/(m?1:a.length)):i.attr("x",function(b){return b.series*
g.rangeBand()/a.length}).attr("width",g.rangeBand()/a.length).attr("y",function(a,b){return k(a,b)<0?h(0):h(0)-h(k(a,b))<1?h(0)-1:h(k(a,b))||0}).attr("height",function(a,b){return Math.max(Math.abs(h(k(a,b))-h(0)),1)||0});g.copy();s=h.copy();if(a[0]&&a[0].values)F=a[0].values.length});D.renderEnd("multibar immediate");return a}var b={top:0,right:0,bottom:0,left:0},f=960,l=500,g=d3.scale.ordinal(),h=d3.scale.linear(),e=Math.floor(Math.random()*1E4),j=function(a){return a.x},k=function(a){return a.y},
x=[0],n=true,m=false,w="zero",y=c.utils.defaultColor(),u=false,o=null,v,z=500,q,p,A,C,G=0.1,E=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),s,D=c.utils.renderWatch(E,z),F=0;a.dispatch=E;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return f},set:function(a){f=a}},height:{get:function(){return l},set:function(a){l=a}},x:{get:function(){return j},set:function(a){j=a}},y:{get:function(){return k},
set:function(a){k=a}},xScale:{get:function(){return g},set:function(a){g=a}},yScale:{get:function(){return h},set:function(a){h=a}},xDomain:{get:function(){return q},set:function(a){q=a}},yDomain:{get:function(){return p},set:function(a){p=a}},xRange:{get:function(){return A},set:function(a){A=a}},yRange:{get:function(){return C},set:function(a){C=a}},forceY:{get:function(){return x},set:function(a){x=a}},stacked:{get:function(){return m},set:function(a){m=a}},stackOffset:{get:function(){return w},
set:function(a){w=a}},clipEdge:{get:function(){return n},set:function(a){n=a}},disabled:{get:function(){return v},set:function(a){v=a}},id:{get:function(){return e},set:function(a){e=a}},hideable:{get:function(){return u},set:function(a){u=a}},groupSpacing:{get:function(){return G},set:function(a){G=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:
b.left}},duration:{get:function(){return z},set:function(a){z=a;D.reset(z)}},color:{get:function(){return y},set:function(a){y=c.utils.getColor(a)}},barColor:{get:function(){return o},set:function(a){o=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.multiBarChart=function(){function a(r){t.reset();t.models(b);y&&t.models(f);u&&t.models(l);r.each(function(r){var t=d3.select(this),N=this;c.utils.initSVG(t);var M=(j||parseInt(t.style("width"))||960)-e.left-e.right,I=(k||parseInt(t.style("height"))||
400)-e.top-e.bottom;a.update=function(){i===0?t.call(a):t.transition().duration(i).call(a)};a.container=this;E.setter(J(r),a.update).getter(K(r)).update();E.disabled=r.map(function(a){return!!a.disabled});if(!s){var H;s={};for(H in E)s[H]=E[H]instanceof Array?E[H].slice(0):E[H]}if(!r||!r.length||!r.filter(function(a){return a.values.length}).length){H=t.selectAll(".nv-noData").data([D]);H.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");H.attr("x",
e.left+M/2).attr("y",e.top+I/2).text(function(a){return a});return a}t.selectAll(".nv-noData").remove();C=b.xScale();G=b.yScale();var R=t.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([r]),T=R.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g");H=R.select("g");T.append("g").attr("class","nv-x nv-axis");T.append("g").attr("class","nv-y nv-axis");T.append("g").attr("class","nv-barsWrap");T.append("g").attr("class","nv-legendWrap");T.append("g").attr("class","nv-controlsWrap");
if(w){g.width(M-(n?180:0));b.barColor()&&r.forEach(function(a,b){a.color=d3.rgb("#ccc").darker(b*1.5).toString()});H.select(".nv-legendWrap").datum(r).call(g);if(e.top!=g.height()){e.top=g.height();I=(k||parseInt(t.style("height"))||400)-e.top-e.bottom}H.select(".nv-legendWrap").attr("transform","translate("+(n?180:0)+","+-e.top+")")}if(n){var U=[{key:m.grouped||"Grouped",disabled:b.stacked()},{key:m.stacked||"Stacked",disabled:!b.stacked()}];h.width(n?180:0).color(["#444","#444","#444"]);H.select(".nv-controlsWrap").datum(U).attr("transform",
"translate(0,"+-e.top+")").call(h)}R.attr("transform","translate("+e.left+","+e.top+")");o&&H.select(".nv-y.nv-axis").attr("transform","translate("+M+",0)");b.disabled(r.map(function(a){return a.disabled})).width(M).height(I).color(r.map(function(a,b){return a.color||x(a,b)}).filter(function(a,b){return!r[b].disabled}));H.select(".nv-barsWrap").datum(r.filter(function(a){return!a.disabled})).call(b);if(y){f.scale(C).ticks(c.utils.calcTicksX(M/100,r)).tickSize(-I,0);H.select(".nv-x.nv-axis").attr("transform",
"translate(0,"+G.range()[0]+")");H.select(".nv-x.nv-axis").call(f);R=H.select(".nv-x.nv-axis > g").selectAll("g");R.selectAll("line, text").style("opacity",1);if(z){R.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(c%2==0?5:17)+")"});var L=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;H.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(a,b){return"translate(0,"+(b===0||L%2!==0?17:5)+")"})}v&&R.filter(function(a,b){return b%Math.ceil(r[0].values.length/
(M/100))!==0}).selectAll("text, line").style("opacity",0);q&&R.selectAll(".tick text").attr("transform","rotate("+q+" 0,0)").style("text-anchor",q>0?"start":"end");H.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}if(u){l.scale(G).ticks(c.utils.calcTicksY(I/36,r)).tickSize(-M,0);H.select(".nv-y.nv-axis").call(l)}g.dispatch.on("stateChange",function(b){for(var c in b)E[c]=b[c];F.stateChange(E);a.update()});h.dispatch.on("legendClick",function(c){if(c.disabled){U=U.map(function(a){a.disabled=
true;return a});c.disabled=false;switch(c.key){case "Grouped":b.stacked(false);break;case "Stacked":b.stacked(true)}E.stacked=b.stacked();F.stateChange(E);a.update()}});F.on("tooltipShow",function(e){if(p){var i=N.parentNode,h=e.pos[0]+(i.offsetLeft||0),r=e.pos[1]+(i.offsetTop||0),g=f.tickFormat()(b.x()(e.point,e.pointIndex)),t=l.tickFormat()(b.y()(e.point,e.pointIndex)),g=A(e.series.key,g,t,e,a);c.tooltip.show([h,r],g,e.value<0?"n":"s",null,i)}});F.on("changeState",function(c){if(typeof c.disabled!==
"undefined"){r.forEach(function(a,b){a.disabled=c.disabled[b]});E.disabled=c.disabled}if(typeof c.stacked!=="undefined"){b.stacked(c.stacked);P=E.stacked=c.stacked}a.update()})});t.renderEnd("multibarchart immediate");return a}var b=c.models.multiBar(),f=c.models.axis(),l=c.models.axis(),g=c.models.legend(),h=c.models.legend(),e={top:30,right:20,bottom:50,left:60},j=null,k=null,x=c.utils.defaultColor(),n=true,m={},w=true,y=true,u=true,o=false,v=true,z=false,q=0,p=true,A=function(a,b,c){return"<h3>"+
a+"</h3><p>"+c+" on "+b+"</p>"},C,G,E=c.utils.state(),s=null,D="No Data Available.",F=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),i=250;E.stacked=false;b.stacked(false);f.orient("bottom").tickPadding(7).highlightZero(true).showMaxMin(false).tickFormat(function(a){return a});l.orient(o?"right":"left").tickFormat(d3.format(",.1f"));h.updateState(false);var t=c.utils.renderWatch(F),P=false,K=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),
stacked:P}}},J=function(a){return function(b){if(b.stacked!==void 0)P=b.stacked;b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+e.left,a.pos[1]+e.top];F.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){F.tooltipHide(a)});F.on("tooltipHide",function(){p&&c.tooltip.cleanup()});a.dispatch=F;a.multibar=b;a.legend=g;a.xAxis=f;a.yAxis=l;a.state=E;a.options=c.utils.optionsFunc.bind(a);a._options=
Object.create({},{width:{get:function(){return j},set:function(a){j=a}},height:{get:function(){return k},set:function(a){k=a}},showLegend:{get:function(){return w},set:function(a){w=a}},showControls:{get:function(){return n},set:function(a){n=a}},controlLabels:{get:function(){return m},set:function(a){m=a}},showXAxis:{get:function(){return y},set:function(a){y=a}},showYAxis:{get:function(){return u},set:function(a){u=a}},tooltips:{get:function(){return p},set:function(a){p=a}},tooltipContent:{get:function(){return A},
set:function(a){A=a}},defaultState:{get:function(){return s},set:function(a){s=a}},noData:{get:function(){return D},set:function(a){D=a}},reduceXTicks:{get:function(){return v},set:function(a){v=a}},rotateLabels:{get:function(){return q},set:function(a){q=a}},staggerLabels:{get:function(){return z},set:function(a){z=a}},margin:{get:function(){return e},set:function(a){e.top=a.top!==void 0?a.top:e.top;e.right=a.right!==void 0?a.right:e.right;e.bottom=a.bottom!==void 0?a.bottom:e.bottom;e.left=a.left!==
void 0?a.left:e.left}},duration:{get:function(){return i},set:function(a){i=a;b.duration(i);f.duration(i);l.duration(i);t.reset(i)}},color:{get:function(){return x},set:function(a){x=c.utils.getColor(a);g.color(x)}},rightAlignYAxis:{get:function(){return o},set:function(a){o=a;l.orient(o?"right":"left")}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.multiBarHorizontal=function(){function a(i){F.reset();i.each(function(a){var i=f-b.left-b.right,g=l-b.top-b.bottom,J=d3.select(this);
c.utils.initSVG(J);u&&(a=d3.layout.stack().offset("zero").values(function(a){return a.values}).y(k)(a));a.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});u&&a[0].values.map(function(b,c){var e=0,f=0;a.map(function(a){a=a.values[c];a.size=Math.abs(a.y);if(a.y<0){a.y1=f-a.size;f=f-a.size}else{a.y1=e;e=e+a.size}})});J=p&&A?[]:a.map(function(a){return a.values.map(function(a,b){return{x:j(a,b),y:k(a,b),y0:a.y0,y1:a.y1}})});h.domain(p||d3.merge(J).map(function(a){return a.x})).rangeBands(C||
[0,g],0.1);e.domain(A||d3.extent(d3.merge(J).map(function(a){return u?a.y>0?a.y1+a.y:a.y1:a.y}).concat(n)));o&&!u?e.range(G||[e.domain()[0]<0?z:0,i-(e.domain()[1]>0?z:0)]):e.range(G||[0,i]);D=D||d3.scale.linear().domain(e.domain()).range([e(0),e(0)]);i=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([a]);g=i.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal");g.append("defs");g=g.append("g");i.select("g");g.append("g").attr("class","nv-groups");i.attr("transform",
"translate("+b.left+","+b.top+")");i=i.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a,b){return b});i.enter().append("g").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6);i.exit().watchTransition(F,"multibarhorizontal: exit groups").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6).remove();i.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return m(a,b)}).style("stroke",
function(a,b){return m(a,b)});i.watchTransition(F,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",0.75);i=i.selectAll("g.nv-bar").data(function(a){return a.values});i.exit().remove();g=i.enter().append("g").attr("transform",function(b,c,e){return"translate("+D(u?b.y0:0)+","+(u?0:e*h.rangeBand()/a.length+h(j(b,c)))+")"});g.append("rect").attr("width",0).attr("height",h.rangeBand()/(u?1:a.length));i.on("mouseover",function(b,c){d3.select(this).classed("hover",true);s.elementMouseover({value:k(b,
c),point:b,series:a[b.series],pos:[e(k(b,c)+(u?b.y0:0)),h(j(b,c))+h.rangeBand()*(u?a.length/2:b.series+0.5)/a.length],pointIndex:c,seriesIndex:b.series,e:d3.event})}).on("mouseout",function(b,c){d3.select(this).classed("hover",false);s.elementMouseout({value:k(b,c),point:b,series:a[b.series],pointIndex:c,seriesIndex:b.series,e:d3.event})}).on("click",function(b,c){s.elementClick({value:k(b,c),point:b,series:a[b.series],pos:[h(j(b,c))+h.rangeBand()*(u?a.length/2:b.series+0.5)/a.length,e(k(b,c)+(u?
b.y0:0))],pointIndex:c,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",function(b,c){s.elementDblClick({value:k(b,c),point:b,series:a[b.series],pos:[h(j(b,c))+h.rangeBand()*(u?a.length/2:b.series+0.5)/a.length,e(k(b,c)+(u?b.y0:0))],pointIndex:c,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()});if(x(a[0],0)){g.append("polyline");i.select("polyline").attr("fill","none").attr("points",function(b,c){var f=x(b,c),i=0.8*h.rangeBand()/((u?1:a.length)*2),f=f.length?
f:[-Math.abs(f),Math.abs(f)],f=f.map(function(a){return e(a)-e(0)});return[[f[0],-i],[f[0],i],[f[0],0],[f[1],0],[f[1],-i],[f[1],i]].map(function(a){return a.join(",")}).join(" ")}).attr("transform",function(b,c){var f=h.rangeBand()/((u?1:a.length)*2);return"translate("+(k(b,c)<0?0:e(k(b,c))-e(0))+", "+f+")"})}g.append("text");if(o&&!u){i.select("text").attr("text-anchor",function(a,b){return k(a,b)<0?"end":"start"}).attr("y",h.rangeBand()/(a.length*2)).attr("dy",".32em").html(function(a,b){var c=
q(k(a,b)),e=x(a,b);return e===void 0?c:!e.length?c+"&plusmn;"+q(Math.abs(e)):c+"+"+q(Math.abs(e[1]))+"-"+q(Math.abs(e[0]))});i.watchTransition(F,"multibarhorizontal: bars").select("text").attr("x",function(a,b){return k(a,b)<0?-4:e(k(a,b))-e(0)+4})}else i.selectAll("text").text("");if(v&&!u){g.append("text").classed("nv-bar-label",true);i.select("text.nv-bar-label").attr("text-anchor",function(a,b){return k(a,b)<0?"start":"end"}).attr("y",h.rangeBand()/(a.length*2)).attr("dy",".32em").text(function(a,
b){return j(a,b)});i.watchTransition(F,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(a,b){return k(a,b)<0?e(0)-e(k(a,b))+4:-4})}else i.selectAll("text.nv-bar-label").text("");i.attr("class",function(a,b){return k(a,b)<0?"nv-bar negative":"nv-bar positive"});if(w){y||(y=a.map(function(){return true}));i.style("fill",function(a,b,c){return d3.rgb(w(a,b)).darker(y.map(function(a,b){return b}).filter(function(a,b){return!y[b]})[c]).toString()}).style("stroke",function(a,b,
c){return d3.rgb(w(a,b)).darker(y.map(function(a,b){return b}).filter(function(a,b){return!y[b]})[c]).toString()})}u?i.watchTransition(F,"multibarhorizontal: bars").attr("transform",function(a,b){return"translate("+e(a.y1)+","+h(j(a,b))+")"}).select("rect").attr("width",function(a,b){return Math.abs(e(k(a,b)+a.y0)-e(a.y0))}).attr("height",h.rangeBand()):i.watchTransition(F,"multibarhorizontal: bars").attr("transform",function(b,c){return"translate("+(k(b,c)<0?e(k(b,c)):e(0))+","+(b.series*h.rangeBand()/
a.length+h(j(b,c)))+")"}).select("rect").attr("height",h.rangeBand()/a.length).attr("width",function(a,b){return Math.max(Math.abs(e(k(a,b))-e(0)),1)});h.copy();D=e.copy()});F.renderEnd("multibarHorizontal immediate");return a}var b={top:0,right:0,bottom:0,left:0},f=960,l=500,g=Math.floor(Math.random()*1E4),h=d3.scale.ordinal(),e=d3.scale.linear(),j=function(a){return a.x},k=function(a){return a.y},x=function(a){return a.yErr},n=[0],m=c.utils.defaultColor(),w=null,y,u=false,o=false,v=false,z=60,q=
d3.format(",.2f"),p,A,C,G,E=250,s=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),D,F=c.utils.renderWatch(s,E);a.dispatch=s;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return f},set:function(a){f=a}},height:{get:function(){return l},set:function(a){l=a}},x:{get:function(){return j},set:function(a){j=a}},y:{get:function(){return k},set:function(a){k=a}},yErr:{get:function(){return x},set:function(a){x=
a}},xScale:{get:function(){return h},set:function(a){h=a}},yScale:{get:function(){return e},set:function(a){e=a}},xDomain:{get:function(){return p},set:function(a){p=a}},yDomain:{get:function(){return A},set:function(a){A=a}},xRange:{get:function(){return C},set:function(a){C=a}},yRange:{get:function(){return G},set:function(a){G=a}},forceY:{get:function(){return n},set:function(a){n=a}},stacked:{get:function(){return u},set:function(a){u=a}},showValues:{get:function(){return o},set:function(a){o=
a}},disabled:{get:function(){return y},set:function(a){y=a}},id:{get:function(){return g},set:function(a){g=a}},valueFormat:{get:function(){return q},set:function(a){q=a}},valuePadding:{get:function(){return z},set:function(a){z=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},duration:{get:function(){return E},set:function(a){E=a;F.reset(E)}},
color:{get:function(){return m},set:function(a){m=c.utils.getColor(a)}},barColor:{get:function(){return m},set:function(a){w=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.multiBarHorizontalChart=function(){function a(t){i.reset();i.models(b);y&&i.models(f);u&&i.models(l);t.each(function(i){var t=d3.select(this),J=this;c.utils.initSVG(t);var r=(j||parseInt(t.style("width"))||960)-e.left-e.right,B=(k||parseInt(t.style("height"))||400)-e.top-e.bottom;a.update=function(){t.transition().duration(s).call(a)};
a.container=this;o=b.stacked();A.setter(F(i),a.update).getter(D(i)).update();A.disabled=i.map(function(a){return!!a.disabled});if(!C){var S;C={};for(S in A)C[S]=A[S]instanceof Array?A[S].slice(0):A[S]}if(!i||!i.length||!i.filter(function(a){return a.values.length}).length){S=t.selectAll(".nv-noData").data([G]);S.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");S.attr("x",e.left+r/2).attr("y",e.top+B/2).text(function(a){return a});return a}t.selectAll(".nv-noData").remove();
q=b.xScale();p=b.yScale();S=t.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([i]);var N=S.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),M=S.select("g");N.append("g").attr("class","nv-x nv-axis");N.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");N.append("g").attr("class","nv-barsWrap");N.append("g").attr("class","nv-legendWrap");N.append("g").attr("class","nv-controlsWrap");if(w){g.width(r-(n?180:0));
b.barColor()&&i.forEach(function(a,b){a.color=d3.rgb("#ccc").darker(b*1.5).toString()});M.select(".nv-legendWrap").datum(i).call(g);if(e.top!=g.height()){e.top=g.height();B=(k||parseInt(t.style("height"))||400)-e.top-e.bottom}M.select(".nv-legendWrap").attr("transform","translate("+(n?180:0)+","+-e.top+")")}if(n){var I=[{key:m.grouped||"Grouped",disabled:b.stacked()},{key:m.stacked||"Stacked",disabled:!b.stacked()}];h.width(n?180:0).color(["#444","#444","#444"]);M.select(".nv-controlsWrap").datum(I).attr("transform",
"translate(0,"+-e.top+")").call(h)}S.attr("transform","translate("+e.left+","+e.top+")");b.disabled(i.map(function(a){return a.disabled})).width(r).height(B).color(i.map(function(a,b){return a.color||x(a,b)}).filter(function(a,b){return!i[b].disabled}));M.select(".nv-barsWrap").datum(i.filter(function(a){return!a.disabled})).transition().call(b);if(y){f.scale(q).ticks(c.utils.calcTicksY(B/24,i)).tickSize(-r,0);M.select(".nv-x.nv-axis").call(f);M.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text")}if(u){l.scale(p).ticks(c.utils.calcTicksX(r/
100,i)).tickSize(-B,0);M.select(".nv-y.nv-axis").attr("transform","translate(0,"+B+")");M.select(".nv-y.nv-axis").call(l)}M.select(".nv-zeroLine line").attr("x1",p(0)).attr("x2",p(0)).attr("y1",0).attr("y2",-B);g.dispatch.on("stateChange",function(b){for(var c in b)A[c]=b[c];E.stateChange(A);a.update()});h.dispatch.on("legendClick",function(c){if(c.disabled){I=I.map(function(a){a.disabled=true;return a});c.disabled=false;switch(c.key){case "Grouped":b.stacked(false);break;case "Stacked":b.stacked(true)}A.stacked=
b.stacked();E.stateChange(A);o=b.stacked();a.update()}});E.on("tooltipShow",function(e){if(v){var i=J.parentNode,g=e.pos[0]+(i.offsetLeft||0),h=e.pos[1]+(i.offsetTop||0),t=f.tickFormat()(b.x()(e.point,e.pointIndex)),j=l.tickFormat()(b.y()(e.point,e.pointIndex)),t=z(e.series.key,t,j,e,a);c.tooltip.show([g,h],t,e.value<0?"e":"w",null,i)}});E.on("changeState",function(c){if(typeof c.disabled!=="undefined"){i.forEach(function(a,b){a.disabled=c.disabled[b]});A.disabled=c.disabled}if(typeof c.stacked!==
"undefined"){b.stacked(c.stacked);o=A.stacked=c.stacked}a.update()})});i.renderEnd("multibar horizontal chart immediate");return a}var b=c.models.multiBarHorizontal(),f=c.models.axis(),l=c.models.axis(),g=c.models.legend().height(30),h=c.models.legend().height(30),e={top:30,right:20,bottom:50,left:60},j=null,k=null,x=c.utils.defaultColor(),n=true,m={},w=true,y=true,u=true,o=false,v=true,z=function(a,b,c){return"<h3>"+a+" - "+b+"</h3><p>"+c+"</p>"},q,p,A=c.utils.state(),C=null,G="No Data Available.",
E=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),s=250;A.stacked=false;b.stacked(o);f.orient("left").tickPadding(5).highlightZero(false).showMaxMin(false).tickFormat(function(a){return a});l.orient("bottom").tickFormat(d3.format(",.1f"));h.updateState(false);var D=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),stacked:o}}},F=function(a){return function(b){if(b.stacked!==void 0)o=b.stacked;b.active!==void 0&&a.forEach(function(a,
c){a.disabled=!b.active[c]})}},i=c.utils.renderWatch(E,s);b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+e.left,a.pos[1]+e.top];E.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){E.tooltipHide(a)});E.on("tooltipHide",function(){v&&c.tooltip.cleanup()});a.dispatch=E;a.multibar=b;a.legend=g;a.xAxis=f;a.yAxis=l;a.state=A;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return j},set:function(a){j=a}},height:{get:function(){return k},
set:function(a){k=a}},showLegend:{get:function(){return w},set:function(a){w=a}},showControls:{get:function(){return n},set:function(a){n=a}},controlLabels:{get:function(){return m},set:function(a){m=a}},showXAxis:{get:function(){return y},set:function(a){y=a}},showYAxis:{get:function(){return u},set:function(a){u=a}},tooltips:{get:function(){return v},set:function(a){v=a}},tooltipContent:{get:function(){return z},set:function(a){z=a}},defaultState:{get:function(){return C},set:function(a){C=a}},
noData:{get:function(){return G},set:function(a){G=a}},margin:{get:function(){return e},set:function(a){e.top=a.top!==void 0?a.top:e.top;e.right=a.right!==void 0?a.right:e.right;e.bottom=a.bottom!==void 0?a.bottom:e.bottom;e.left=a.left!==void 0?a.left:e.left}},duration:{get:function(){return s},set:function(a){s=a;i.reset(s);b.duration(s);f.duration(s);l.duration(s)}},color:{get:function(){return x},set:function(a){x=c.utils.getColor(a);g.color(x)}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);
return a};c.models.multiChart=function(){function a(t){t.each(function(t){var w=d3.select(this),J=this;c.utils.initSVG(w);a.update=function(){w.transition().call(a)};a.container=this;var r=(l||parseInt(w.style("width"))||960)-b.left-b.right,B=(g||parseInt(w.style("height"))||400)-b.top-b.bottom,y=t.filter(function(a){return a.type=="line"&&a.yAxis==1}),N=t.filter(function(a){return a.type=="line"&&a.yAxis==2}),M=t.filter(function(a){return a.type=="bar"&&a.yAxis==1}),I=t.filter(function(a){return a.type==
"bar"&&a.yAxis==2}),H=t.filter(function(a){return a.type=="area"&&a.yAxis==1}),R=t.filter(function(a){return a.type=="area"&&a.yAxis==2});if(!t||!t.length||!t.filter(function(a){return a.values.length}).length){y=w.selectAll(".nv-noData").data([x]);y.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");y.attr("x",b.left+r/2).attr("y",b.top+B/2).text(function(a){return a});return a}w.selectAll(".nv-noData").remove();var T=t.filter(function(a){return!a.disabled&&
a.yAxis==1}).map(function(a){return a.values.map(function(a){return{x:a.x,y:a.y}})}),U=t.filter(function(a){return!a.disabled&&a.yAxis==2}).map(function(a){return a.values.map(function(a){return{x:a.x,y:a.y}})});k.domain(d3.extent(d3.merge(T.concat(U)),function(a){return a.x})).range([0,r]);var L=w.selectAll("g.wrap.multiChart").data([t]),Q=L.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");Q.append("g").attr("class","x axis");Q.append("g").attr("class","y1 axis");Q.append("g").attr("class",
"y2 axis");Q.append("g").attr("class","lines1Wrap");Q.append("g").attr("class","lines2Wrap");Q.append("g").attr("class","bars1Wrap");Q.append("g").attr("class","bars2Wrap");Q.append("g").attr("class","stack1Wrap");Q.append("g").attr("class","stack2Wrap");Q.append("g").attr("class","legendWrap");L=L.select("g");Q=t.map(function(a,b){return t[b].color||f(a,b)});if(h){F.color(Q);F.width(r/2);L.select(".legendWrap").datum(t.map(function(a){a.originalKey=a.originalKey===void 0?a.key:a.originalKey;a.key=
a.originalKey+(a.yAxis==1?"":" (right axis)");return a})).call(F);if(b.top!=F.height()){b.top=F.height();B=(g||parseInt(w.style("height"))||400)-b.top-b.bottom}L.select(".legendWrap").attr("transform","translate("+r/2+","+-b.top+")")}z.width(r).height(B).interpolate(u).color(Q.filter(function(a,b){return!t[b].disabled&&t[b].yAxis==1&&t[b].type=="line"}));q.width(r).height(B).interpolate(u).color(Q.filter(function(a,b){return!t[b].disabled&&t[b].yAxis==2&&t[b].type=="line"}));p.width(r).height(B).color(Q.filter(function(a,
b){return!t[b].disabled&&t[b].yAxis==1&&t[b].type=="bar"}));A.width(r).height(B).color(Q.filter(function(a,b){return!t[b].disabled&&t[b].yAxis==2&&t[b].type=="bar"}));C.width(r).height(B).color(Q.filter(function(a,b){return!t[b].disabled&&t[b].yAxis==1&&t[b].type=="area"}));G.width(r).height(B).color(Q.filter(function(a,b){return!t[b].disabled&&t[b].yAxis==2&&t[b].type=="area"}));L.attr("transform","translate("+b.left+","+b.top+")");var Q=L.select(".lines1Wrap").datum(y.filter(function(a){return!a.disabled})),
V=L.select(".bars1Wrap").datum(M.filter(function(a){return!a.disabled})),O=L.select(".stack1Wrap").datum(H.filter(function(a){return!a.disabled})),ba=L.select(".lines2Wrap").datum(N.filter(function(a){return!a.disabled})),ca=L.select(".bars2Wrap").datum(I.filter(function(a){return!a.disabled})),Y=L.select(".stack2Wrap").datum(R.filter(function(a){return!a.disabled})),Z=H.length?H.map(function(a){return a.values}).reduce(function(a,b){return a.map(function(a,c){return{x:a.x,y:a.y+b[c].y}})}).concat([{x:0,
y:0}]):[],ia=R.length?R.map(function(a){return a.values}).reduce(function(a,b){return a.map(function(a,c){return{x:a.x,y:a.y+b[c].y}})}).concat([{x:0,y:0}]):[];o.domain(n||d3.extent(d3.merge(T).concat(Z),function(a){return a.y})).range([0,B]);v.domain(m||d3.extent(d3.merge(U).concat(ia),function(a){return a.y})).range([0,B]);z.yDomain(o.domain());p.yDomain(o.domain());C.yDomain(o.domain());q.yDomain(v.domain());A.yDomain(v.domain());G.yDomain(v.domain());H.length&&d3.transition(O).call(C);R.length&&
d3.transition(Y).call(G);M.length&&d3.transition(V).call(p);I.length&&d3.transition(ca).call(A);y.length&&d3.transition(Q).call(z);N.length&&d3.transition(ba).call(q);E.ticks(c.utils.calcTicksX(r/100,t)).tickSize(-B,0);L.select(".x.axis").attr("transform","translate(0,"+B+")");d3.transition(L.select(".x.axis")).call(E);s.ticks(c.utils.calcTicksY(B/36,t)).tickSize(-r,0);d3.transition(L.select(".y1.axis")).call(s);D.ticks(c.utils.calcTicksY(B/36,t)).tickSize(-r,0);d3.transition(L.select(".y2.axis")).call(D);
L.select(".y1.axis").classed("nv-disabled",T.length?false:true).attr("transform","translate("+k.range()[0]+",0)");L.select(".y2.axis").classed("nv-disabled",U.length?false:true).attr("transform","translate("+k.range()[1]+",0)");F.dispatch.on("stateChange",function(){a.update()});i.on("tooltipShow",function(b){if(e){var f=J.parentNode,i=b.pos[0]+(f.offsetLeft||0),g=b.pos[1]+(f.offsetTop||0),h=E.tickFormat()(z.x()(b.point,b.pointIndex)),t=(b.series.yAxis==2?D:s).tickFormat()(z.y()(b.point,b.pointIndex)),
b=j(b.series.key,h,t,b,a);c.tooltip.show([i,g],b,void 0,void 0,f.offsetParent)}})});return a}var b={top:30,right:20,bottom:50,left:60},f=c.utils.defaultColor(),l=null,g=null,h=true,e=true,j=function(a,b,c){return"<h3>"+a+"</h3><p>"+c+" at "+b+"</p>"},k,x="No Data Available.",n,m,w=function(a){return a.x},y=function(a){return a.y},u="monotone";k=d3.scale.linear();var o=d3.scale.linear(),v=d3.scale.linear(),z=c.models.line().yScale(o),q=c.models.line().yScale(v),p=c.models.multiBar().stacked(false).yScale(o),
A=c.models.multiBar().stacked(false).yScale(v),C=c.models.stackedArea().yScale(o),G=c.models.stackedArea().yScale(v),E=c.models.axis().scale(k).orient("bottom").tickPadding(5),s=c.models.axis().scale(o).orient("left"),D=c.models.axis().scale(v).orient("right"),F=c.models.legend().height(30),i=d3.dispatch("tooltipShow","tooltipHide");z.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];i.tooltipShow(a)});z.dispatch.on("elementMouseout.tooltip",function(a){i.tooltipHide(a)});
q.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];i.tooltipShow(a)});q.dispatch.on("elementMouseout.tooltip",function(a){i.tooltipHide(a)});p.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];i.tooltipShow(a)});p.dispatch.on("elementMouseout.tooltip",function(a){i.tooltipHide(a)});A.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];i.tooltipShow(a)});A.dispatch.on("elementMouseout.tooltip",
function(a){i.tooltipHide(a)});C.dispatch.on("tooltipShow",function(a){if(!Math.round(C.y()(a.point)*100)){setTimeout(function(){d3.selectAll(".point.hover").classed("hover",false)},0);return false}a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];i.tooltipShow(a)});C.dispatch.on("tooltipHide",function(a){i.tooltipHide(a)});G.dispatch.on("tooltipShow",function(a){if(!Math.round(G.y()(a.point)*100)){setTimeout(function(){d3.selectAll(".point.hover").classed("hover",false)},0);return false}a.pos=[a.pos[0]+b.left,
a.pos[1]+b.top];i.tooltipShow(a)});G.dispatch.on("tooltipHide",function(a){i.tooltipHide(a)});z.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];i.tooltipShow(a)});z.dispatch.on("elementMouseout.tooltip",function(a){i.tooltipHide(a)});q.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];i.tooltipShow(a)});q.dispatch.on("elementMouseout.tooltip",function(a){i.tooltipHide(a)});i.on("tooltipHide",function(){e&&c.tooltip.cleanup()});
a.dispatch=i;a.lines1=z;a.lines2=q;a.bars1=p;a.bars2=A;a.stack1=C;a.stack2=G;a.xAxis=E;a.yAxis1=s;a.yAxis2=D;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return g},set:function(a){g=a}},showLegend:{get:function(){return h},set:function(a){h=a}},yDomain1:{get:function(){return n},set:function(a){n=a}},yDomain2:{get:function(){return m},set:function(a){m=a}},tooltips:{get:function(){return e},set:function(a){e=
a}},tooltipContent:{get:function(){return j},set:function(a){j=a}},noData:{get:function(){return x},set:function(a){x=a}},interpolate:{get:function(){return u},set:function(a){u=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return f},set:function(a){f=c.utils.getColor(a)}},x:{get:function(){return w},set:function(a){w=
a;z.x(a);p.x(a)}},y:{get:function(){return y},set:function(a){y=a;z.y(a);p.y(a)}}});c.utils.initOptions(a);return a};c.models.ohlcBar=function(){function a(s){s.each(function(a){var s=d3.select(this),i=(f||parseInt(s.style("width"))||960)-b.left-b.right,t=(l||parseInt(s.style("height"))||400)-b.top-b.bottom;c.utils.initSVG(s);h.domain(p||d3.extent(a[0].values.map(j).concat(y)));o?h.range(C||[i*0.5/a[0].values.length,i*(a[0].values.length-0.5)/a[0].values.length]):h.range(C||[0,i]);e.domain(A||[d3.min(a[0].values.map(w).concat(u)),
d3.max(a[0].values.map(m).concat(u))]).range(G||[t,0]);h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]-h.domain()[0]*0.01,h.domain()[1]+h.domain()[1]*0.01]):h.domain([-1,1]));e.domain()[0]===e.domain()[1]&&(e.domain()[0]?e.domain([e.domain()[0]+e.domain()[0]*0.01,e.domain()[1]-e.domain()[1]*0.01]):e.domain([-1,1]));var q=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([a[0].values]),K=q.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),J=K.append("defs"),K=K.append("g"),
r=q.select("g");K.append("g").attr("class","nv-ticks");q.attr("transform","translate("+b.left+","+b.top+")");s.on("click",function(a,b){E.chartClick({data:a,index:b,pos:d3.event,id:g})});J.append("clipPath").attr("id","nv-chart-clip-path-"+g).append("rect");q.select("#nv-chart-clip-path-"+g+" rect").attr("width",i).attr("height",t);r.attr("clip-path",v?"url(#nv-chart-clip-path-"+g+")":"");s=q.select(".nv-ticks").selectAll(".nv-tick").data(function(a){return a});s.exit().remove();s.enter().append("path").attr("class",
function(a,b,c){return(x(a,b)>n(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b}).attr("d",function(b,c){var f=i/a[0].values.length*0.9;return"m0,0l0,"+(e(x(b,c))-e(m(b,c)))+"l"+-f/2+",0l"+f/2+",0l0,"+(e(w(b,c))-e(x(b,c)))+"l0,"+(e(n(b,c))-e(w(b,c)))+"l"+f/2+",0l"+-f/2+",0z"}).attr("transform",function(a,b){return"translate("+h(j(a,b))+","+e(m(a,b))+")"}).attr("fill",function(){return z[0]}).attr("stroke",function(){return z[0]}).attr("x",0).attr("y",function(a,b){return e(Math.max(0,
k(a,b)))}).attr("height",function(a,b){return Math.abs(e(k(a,b))-e(0))});s.attr("class",function(a,b,c){return(x(a,b)>n(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b});d3.transition(s).attr("transform",function(a,b){return"translate("+h(j(a,b))+","+e(m(a,b))+")"}).attr("d",function(b,c){var f=i/a[0].values.length*0.9;return"m0,0l0,"+(e(x(b,c))-e(m(b,c)))+"l"+-f/2+",0l"+f/2+",0l0,"+(e(w(b,c))-e(x(b,c)))+"l0,"+(e(n(b,c))-e(w(b,c)))+"l"+f/2+",0l"+-f/2+",0z"})});return a}var b={top:0,
right:0,bottom:0,left:0},f=null,l=null,g=Math.floor(Math.random()*1E4),h=d3.scale.linear(),e=d3.scale.linear(),j=function(a){return a.x},k=function(a){return a.y},x=function(a){return a.open},n=function(a){return a.close},m=function(a){return a.high},w=function(a){return a.low},y=[],u=[],o=false,v=true,z=c.utils.defaultColor(),q=false,p,A,C,G,E=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");
a.highlightPoint=function(b,c){a.clearHighlights();d3.select(".nv-ohlcBar .nv-tick-0-"+b).classed("hover",c)};a.clearHighlights=function(){d3.select(".nv-ohlcBar .nv-tick.hover").classed("hover",false)};a.dispatch=E;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return f},set:function(a){f=a}},height:{get:function(){return l},set:function(a){l=a}},xScale:{get:function(){return h},set:function(a){h=a}},yScale:{get:function(){return e},set:function(a){e=a}},
xDomain:{get:function(){return p},set:function(a){p=a}},yDomain:{get:function(){return A},set:function(a){A=a}},xRange:{get:function(){return C},set:function(a){C=a}},yRange:{get:function(){return G},set:function(a){G=a}},forceX:{get:function(){return y},set:function(a){y=a}},forceY:{get:function(){return u},set:function(a){u=a}},padData:{get:function(){return o},set:function(a){o=a}},clipEdge:{get:function(){return v},set:function(a){v=a}},id:{get:function(){return g},set:function(a){g=a}},interactive:{get:function(){return q},
set:function(a){q=a}},x:{get:function(){return j},set:function(a){j=a}},y:{get:function(){return k},set:function(a){k=a}},open:{get:function(){return x()},set:function(a){x=a}},close:{get:function(){return n()},set:function(a){n=a}},high:{get:function(){return m},set:function(a){m=a}},low:{get:function(){return w},set:function(a){w=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!=void 0?a.top:b.top;b.right=a.right!=void 0?a.right:b.right;b.bottom=a.bottom!=void 0?a.bottom:b.bottom;
b.left=a.left!=void 0?a.left:b.left}},color:{get:function(){return z},set:function(a){z=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.parallelCoordinates=function(){function a(m){m.each(function(m){function y(a){return p(e.map(function(b){return[g(b),h[b](a[b])]}))}function u(){var a=e.filter(function(a){return!h[a].brush.empty()}),b=a.map(function(a){return h[a].brush.extent()});k=[];a.forEach(function(a,c){k[c]={dimension:a,extent:b[c]}});x=[];C.style("display",function(c){var e=
a.every(function(a,e){return b[e][0]<=c[a]&&c[a]<=b[e][1]});e&&x.push(c);return e?null:"none"});n.brush({filters:k,active:x})}var o=d3.select(this),v=(f||parseInt(o.style("width"))||960)-b.left-b.right,z=(l||parseInt(o.style("height"))||400)-b.top-b.bottom;c.utils.initSVG(o);x=m;a.update=function(){};g.rangePoints([0,v],1).domain(e);e.forEach(function(a){h[a]=d3.scale.linear().domain(d3.extent(m,function(b){return+b[a]})).range([z,0]);h[a].brush=d3.svg.brush().y(h[a]).on("brush",u);return a!="name"});
var o=o.selectAll("g.nv-wrap.nv-parallelCoordinates").data([m]),v=o.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates").append("g"),q=o.select("g");v.append("g").attr("class","nv-parallelCoordinatesWrap");o.attr("transform","translate("+b.left+","+b.top+")");var p=d3.svg.line(),A=d3.svg.axis().orient("left"),C;v.append("g").attr("class","background").selectAll("path").data(m).enter().append("path").attr("d",y);C=v.append("g").attr("class","foreground").selectAll("path").data(m).enter().append("path").attr("d",
y).attr("stroke",j);o=q.selectAll(".dimension").data(e).enter().append("g").attr("class","dimension").attr("transform",function(a){return"translate("+g(a)+",0)"});o.append("g").attr("class","axis").each(function(a){d3.select(this).call(A.scale(h[a]))}).append("text").attr("text-anchor","middle").attr("y",-9).text(String);o.append("g").attr("class","brush").each(function(a){d3.select(this).call(h[a].brush)}).selectAll("rect").attr("x",-8).attr("width",16)});return a}var b={top:30,right:10,bottom:10,
left:10},f=null,l=null,g=d3.scale.ordinal(),h={},e=[],j=c.utils.defaultColor(),k=[],x=[],n=d3.dispatch("brush");a.dispatch=n;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return f},set:function(a){f=a}},height:{get:function(){return l},set:function(a){l=a}},dimensions:{get:function(){return e},set:function(a){e=a}},margin:{get:function(){return b},set:function(a){b.top=typeof a.top!="undefined"?a.top:b.top;b.right=typeof a.right!="undefined"?a.right:b.right;
b.bottom=typeof a.bottom!="undefined"?a.bottom:b.bottom;b.left=typeof a.left!="undefined"?a.left:b.left}},color:{get:function(){return j},set:function(a){j=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.pie=function(){function a(i){F.reset();i.each(function(a){var i=f-b.left-b.right,k=l-b.top-b.bottom,J=Math.min(i,k)/2,r=J-J/5,B=d3.select(this);c.utils.initSVG(B);var a=B.selectAll(".nv-wrap.nv-pie").data(a),S=a.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+e).append("g"),
N=a.select("g"),M=S.append("g").attr("class","nv-pie");S.append("g").attr("class","nv-pieLabels");a.attr("transform","translate("+b.left+","+b.top+")");N.select(".nv-pie").attr("transform","translate("+i/2+","+k/2+")");N.select(".nv-pieLabels").attr("transform","translate("+i/2+","+k/2+")");B.on("click",function(a,b){D.chartClick({data:a,index:b,pos:d3.event,id:e})});var I=d3.svg.arc().outerRadius(r),H=d3.svg.arc().outerRadius(r+5);if(A){I.startAngle(A);H.startAngle(A)}if(G){I.endAngle(G);H.endAngle(G)}if(o){I.innerRadius(J*
s);H.innerRadius(J*s)}k=d3.layout.pie().sort(null).value(function(a){return a.disabled?0:h(a)});k.padAngle&&C&&k.padAngle(C);if(I.cornerRadius&&E){I.cornerRadius(E);H.cornerRadius(E)}o&&v&&M.append("g").attr("class","nv-pie").append("text").style("text-anchor","middle").attr("class","nv-pie-title").text(function(){return v}).attr("dy","0.35em").attr("transform",function(){return"translate(0, "+q+")"});i=a.select(".nv-pie").selectAll(".nv-slice").data(k);a=a.select(".nv-pieLabels").selectAll(".nv-label").data(k);
i.exit().remove();a.exit().remove();k=i.enter().append("g");k.attr("class","nv-slice");k.on("mouseover",function(a,b){d3.select(this).classed("hover",true);z&&d3.select(this).select("path").transition().duration(70).attr("d",H);D.elementMouseover({label:g(a.data),value:h(a.data),point:a.data,pointIndex:b,pos:[d3.event.pageX,d3.event.pageY],id:e,color:d3.select(this).style("fill")})});k.on("mouseout",function(a,b){d3.select(this).classed("hover",false);z&&d3.select(this).select("path").transition().duration(50).attr("d",
I);D.elementMouseout({label:g(a.data),value:h(a.data),point:a.data,index:b,id:e})});i.attr("fill",function(a,b){return j(a,b)});i.attr("stroke",function(a,b){return j(a,b)});k=k.append("path").each(function(a){this._current=a});k.on("click",function(a,b){D.elementClick({label:g(a.data),value:h(a.data),point:a.data,index:b,pos:d3.event,id:e});d3.event.stopPropagation()});k.on("dblclick",function(a,b){D.elementDblClick({label:g(a.data),value:h(a.data),point:a.data,index:b,pos:d3.event,id:e});d3.event.stopPropagation()});
i.select("path").transition().attr("d",I).attrTween("d",function(a){a.endAngle=isNaN(a.endAngle)?0:a.endAngle;a.startAngle=isNaN(a.startAngle)?0:a.startAngle;if(!o)a.innerRadius=0;var b=d3.interpolate(this._current,a);this._current=b(0);return function(a){return I(b(a))}});if(n){var R=d3.svg.arc().innerRadius(0);m&&(R=I);w&&(R=d3.svg.arc().outerRadius(I.outerRadius()));a.enter().append("g").classed("nv-label",true).each(function(a){var b=d3.select(this);b.attr("transform",function(a){if(p){a.outerRadius=
r+10;a.innerRadius=r+15;var b=(a.startAngle+a.endAngle)/2*(180/Math.PI),b=(a.startAngle+a.endAngle)/2<Math.PI?b-90:b+90;return"translate("+R.centroid(a)+") rotate("+b+")"}a.outerRadius=J+10;a.innerRadius=J+15;return"translate("+R.centroid(a)+")"});b.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3);b.append("text").style("text-anchor",p?(a.startAngle+a.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var T={},U=function(a){return Math.floor(a[0]/
140)*140+","+Math.floor(a[1]/14)*14};a.watchTransition(F,"pie labels").attr("transform",function(a){if(p){a.outerRadius=r+10;a.innerRadius=r+15;var b=(a.startAngle+a.endAngle)/2*(180/Math.PI),b=(a.startAngle+a.endAngle)/2<Math.PI?b-90:b+90;return"translate("+R.centroid(a)+") rotate("+b+")"}a.outerRadius=J+10;a.innerRadius=J+15;b=R.centroid(a);if(a.value){a=U(b);T[a]&&(b[1]=b[1]-14);T[U(b)]=true}return"translate("+b+")"});a.select(".nv-label text").style("text-anchor",p?(d.startAngle+d.endAngle)/2<
Math.PI?"start":"end":"middle").text(function(a){var b=(a.endAngle-a.startAngle)/(2*Math.PI),c={key:g(a.data),value:h(a.data),percent:x(b)};return a.value&&b>u?c[y]:""})}});F.renderEnd("pie immediate");return a}var b={top:0,right:0,bottom:0,left:0},f=500,l=500,g=function(a){return a.x},h=function(a){return a.y},e=Math.floor(Math.random()*1E4),j=c.utils.defaultColor(),k=d3.format(",.2f"),x=d3.format("%"),n=true,m=true,w=false,y="key",u=0.02,o=false,v=false,z=true,q=0,p=false,A=false,C=false,G=false,
E=0,s=0.5,D=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),F=c.utils.renderWatch(D);a.dispatch=D;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return f},set:function(a){f=a}},height:{get:function(){return l},set:function(a){l=a}},showLabels:{get:function(){return n},set:function(a){n=a}},title:{get:function(){return v},set:function(a){v=a}},titleOffset:{get:function(){return q},set:function(a){q=
a}},labelThreshold:{get:function(){return u},set:function(a){u=a}},labelFormat:{get:function(){return x},set:function(a){x=a}},valueFormat:{get:function(){return k},set:function(a){k=a}},x:{get:function(){return g},set:function(a){g=a}},id:{get:function(){return e},set:function(a){e=a}},endAngle:{get:function(){return G},set:function(a){G=a}},startAngle:{get:function(){return A},set:function(a){A=a}},padAngle:{get:function(){return C},set:function(a){C=a}},cornerRadius:{get:function(){return E},set:function(a){E=
a}},donutRatio:{get:function(){return s},set:function(a){s=a}},pieLabelsOutside:{get:function(){return m},set:function(a){m=a}},donutLabelsOutside:{get:function(){return w},set:function(a){w=a}},labelSunbeamLayout:{get:function(){return p},set:function(a){p=a}},donut:{get:function(){return o},set:function(a){o=a}},growOnHover:{get:function(){return z},set:function(a){z=a}},margin:{get:function(){return b},set:function(a){b.top=typeof a.top!="undefined"?a.top:b.top;b.right=typeof a.right!="undefined"?
a.right:b.right;b.bottom=typeof a.bottom!="undefined"?a.bottom:b.bottom;b.left=typeof a.left!="undefined"?a.left:b.left}},y:{get:function(){return h},set:function(a){h=d3.functor(a)}},color:{get:function(){return j},set:function(a){j=c.utils.getColor(a)}},labelType:{get:function(){return y},set:function(a){y=a||"key"}}});c.utils.initOptions(a);return a};c.models.pieChart=function(){var a,b,f,l;function g(m){q.reset();q.models(h);m.each(function(m){var n=d3.select(this);c.utils.initSVG(n);var s=(j||
parseInt(n.style("width"),10)||960)-a-b,v=(k||parseInt(n.style("height"),10)||400)-f-l;g.update=function(){n.transition().call(g)};g.container=this;y.setter(A(m),g.update).getter(p(m)).update();y.disabled=m.map(function(a){return!!a.disabled});if(!u){var q;u={};for(q in y)u[q]=y[q]instanceof Array?y[q].slice(0):y[q]}if(!m||!m.length){q=n.selectAll(".nv-noData").data([o]);q.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");q.attr("x",a+s/2).attr("y",
f+v/2).text(function(a){return a});return g}n.selectAll(".nv-noData").remove();q=n.selectAll("g.nv-wrap.nv-pieChart").data([m]);var i=q.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),t=q.select("g");i.append("g").attr("class","nv-pieWrap");i.append("g").attr("class","nv-legendWrap");if(x){e.width(s).key(h.x());q.select(".nv-legendWrap").datum(m).call(e);if(f!=e.height()){f=e.height();v=(k||parseInt(n.style("height"))||400)-f-l}q.select(".nv-legendWrap").attr("transform",
"translate(0,"+-f+")")}q.attr("transform","translate("+a+","+f+")");h.width(s).height(v);s=t.select(".nv-pieWrap").datum([m]);d3.transition(s).call(h);e.dispatch.on("stateChange",function(a){for(var b in a)y[b]=a[b];z.stateChange(y);g.update()});h.dispatch.on("elementMouseout.tooltip",function(a){z.tooltipHide(a)});z.on("changeState",function(a){if(typeof a.disabled!=="undefined"){m.forEach(function(b,c){b.disabled=a.disabled[c]});y.disabled=a.disabled}g.update()})});q.renderEnd("pieChart immediate");
return g}var h=c.models.pie(),e=c.models.legend();f=30;a=l=b=20;var j=null,k=null,x=true,n=c.utils.defaultColor(),m=true,w=function(a,b,c){return'<h3 style="background-color: '+c.color+'">'+a+"</h3><p>"+b+"</p>"},y=c.utils.state(),u=null,o="No Data Available.",v=250,z=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),q=c.utils.renderWatch(z),p=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},A=function(a){return function(b){b.active!==
void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};h.dispatch.on("elementMouseover.tooltip",function(b){b.pos=[b.pos[0]+a,b.pos[1]+f];z.tooltipShow(b)});z.on("tooltipShow",function(a){if(m){var b=h.x()(a.point),e=a.pos[0]+0,f=a.pos[1]+0,j=h.valueFormat()(h.y()(a.point)),b=w(b,j,a,g);c.tooltip.show([e,f],b,a.value<0?"n":"s",null,void 0)}});z.on("tooltipHide",function(){m&&c.tooltip.cleanup()});g.legend=e;g.dispatch=z;g.pie=h;g.options=c.utils.optionsFunc.bind(g);g._options=Object.create({},
{noData:{get:function(){return o},set:function(a){o=a}},tooltipContent:{get:function(){return w},set:function(a){w=a}},tooltips:{get:function(){return m},set:function(a){m=a}},showLegend:{get:function(){return x},set:function(a){x=a}},defaultState:{get:function(){return u},set:function(a){u=a}},color:{get:function(){return n},set:function(a){n=a;e.color(n);h.color(n)}},duration:{get:function(){return v},set:function(a){v=a;q.reset(v)}}});c.utils.inheritOptions(g,h);c.utils.initOptions(g);return g};
c.models.scatter=function(){function a(r){I.reset();r.each(function(a){var r=d3.select(this),H=(f||parseInt(r.style("width"))||960)-b.left-b.right,L=(l||parseInt(r.style("height"))||400)-b.top-b.bottom;c.utils.initSVG(r);a.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});var Q=E&&s&&i?[]:d3.merge(a.map(function(a){return a.values.map(function(a,b){return{x:x(a,b),y:n(a,b),size:m(a,b)}})}));e.domain(E||d3.extent(Q.map(function(a){return a.x}).concat(y)));q&&a[0]?e.range(D||[(H*p+H)/
(2*a[0].values.length),H-H*(1+p)/(2*a[0].values.length)]):e.range(D||[0,H]);j.domain(s||d3.extent(Q.map(function(a){return a.y}).concat(u))).range(F||[L,0]);k.domain(i||d3.extent(Q.map(function(a){return a.size}).concat(o))).range(t||[16,256]);if(e.domain()[0]===e.domain()[1]||j.domain()[0]===j.domain()[1])P=true;e.domain()[0]===e.domain()[1]&&(e.domain()[0]?e.domain([e.domain()[0]-e.domain()[0]*0.01,e.domain()[1]+e.domain()[1]*0.01]):e.domain([-1,1]));j.domain()[0]===j.domain()[1]&&(j.domain()[0]?
j.domain([j.domain()[0]-j.domain()[0]*0.01,j.domain()[1]+j.domain()[1]*0.01]):j.domain([-1,1]));isNaN(e.domain()[0])&&e.domain([-1,1]);isNaN(j.domain()[0])&&j.domain([-1,1]);B=B||e;S=S||j;var V=r.selectAll("g.nv-wrap.nv-scatter").data([a]),Q=V.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+h+(P?" nv-single-point":"")),r=Q.append("defs"),Q=Q.append("g"),O=V.select("g");Q.append("g").attr("class","nv-groups");Q.append("g").attr("class","nv-point-paths");V.attr("transform","translate("+
b.left+","+b.top+")");r.append("clipPath").attr("id","nv-edge-clip-"+h).append("rect");V.select("#nv-edge-clip-"+h+" rect").attr("width",H).attr("height",L>0?L:0);O.attr("clip-path",A?"url(#nv-edge-clip-"+h+")":"");M=true;H=V.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});H.enter().append("g").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6);H.exit().remove();H.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",
function(a){return a.hover});H.watchTransition(I,"scatter: groups").style("fill",function(a,b){return g(a,b)}).style("stroke",function(a,b){return g(a,b)}).style("stroke-opacity",1).style("fill-opacity",0.5);L=H.selectAll("path.nv-point").data(function(a){return a.values});L.enter().append("path").style("fill",function(a){return a.color}).style("stroke",function(a){return a.color}).attr("transform",function(a,b){return"translate("+B(x(a,b))+","+S(n(a,b))+")"}).attr("d",c.utils.symbol().type(w).size(function(a,
b){return k(m(a,b))}));L.exit().remove();H.exit().selectAll("path.nv-point").watchTransition(I,"scatter exit").attr("transform",function(a,b){return"translate("+e(x(a,b))+","+j(n(a,b))+")"}).remove();L.each(function(a,b){d3.select(this).classed("nv-point",true).classed("nv-point-"+b,true).classed("hover",false)});L.watchTransition(I,"scatter points").attr("transform",function(a,b){return"translate("+e(x(a,b))+","+j(n(a,b))+")"}).attr("d",c.utils.symbol().type(w).size(function(a,b){return k(m(a,b))}));
clearTimeout(N);N=setTimeout(function(){if(!v)return false;var c=d3.merge(a.map(function(a,b){return a.values.map(function(a,c){var f=x(a,c),g=n(a,c);return[e(f)+Math.random()*1.0E-7,j(g)+Math.random()*1.0E-7,b,c,a]}).filter(function(a,b){return z(a[4],b)})}));if(J===true){if(c.length<3){c.push([e.range()[0]-20,j.range()[0]-20,null,null]);c.push([e.range()[1]+20,j.range()[1]+20,null,null]);c.push([e.range()[0]-20,j.range()[0]+20,null,null]);c.push([e.range()[1]+20,j.range()[1]-20,null,null])}var g=
d3.geom.polygon([[-10,-10],[-10,l+10],[f+10,l+10],[f+10,-10]]),h=d3.geom.voronoi(c).map(function(a,b){return{data:g.clip(a),series:c[b][2],point:c[b][3]}});V.select(".nv-point-paths").selectAll("path").remove();h=V.select(".nv-point-paths").selectAll("path").data(h);h.enter().append("svg:path").attr("d",function(a){return!a||!a.data||a.data.length===0?"M 0 0":"M"+a.data.join(",")+"Z"}).attr("id",function(a,b){return"nv-path-"+b}).attr("clip-path",function(a,b){return"url(#nv-clip-"+b+")"});C&&V.append("svg:g").attr("id",
"nv-point-clips").selectAll("clipPath").data(c).enter().append("svg:clipPath").attr("id",function(a,b){return"nv-clip-"+b}).append("svg:circle").attr("cx",function(a){return a[0]}).attr("cy",function(a){return a[1]}).attr("r",G);var i=function(c,f){if(M)return 0;var g=a[c.series];if(typeof g!=="undefined"){var h=g.values[c.point];f({point:h,series:g,pos:[e(x(h,c.point))+b.left,j(n(h,c.point))+b.top],seriesIndex:c.series,pointIndex:c.point})}};h.on("click",function(a){i(a,K.elementClick)}).on("dblclick",
function(a){i(a,K.elementDblClick)}).on("mouseover",function(a){i(a,K.elementMouseover)}).on("mouseout",function(a){i(a,K.elementMouseout)})}else V.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(c,f){if(M||!a[c.series])return 0;var g=a[c.series],h=g.values[f];K.elementClick({point:h,series:g,pos:[e(x(h,f))+b.left,j(n(h,f))+b.top],seriesIndex:c.series,pointIndex:f})}).on("mouseover",function(c,f){if(M||!a[c.series])return 0;var g=a[c.series],h=g.values[f];K.elementMouseover({point:h,
series:g,pos:[e(x(h,f))+b.left,j(n(h,f))+b.top],seriesIndex:c.series,pointIndex:f})}).on("mouseout",function(b,c){if(M||!a[b.series])return 0;var f=a[b.series];K.elementMouseout({point:f.values[c],series:f,seriesIndex:b.series,pointIndex:c})});M=false},300);B=e.copy();S=j.copy();k.copy()});I.renderEnd("scatter immediate");return a}var b={top:0,right:0,bottom:0,left:0},f=null,l=null,g=c.utils.defaultColor(),h=Math.floor(Math.random()*1E5),e=d3.scale.linear(),j=d3.scale.linear(),k=d3.scale.linear(),
x=function(a){return a.x},n=function(a){return a.y},m=function(a){return a.size||1},w=function(a){return a.shape||"circle"},y=[],u=[],o=[],v=true,z=function(a){return!a.notActive},q=false,p=0.1,A=false,C=true,G=function(){return 25},E=null,s=null,D=null,F=null,i=null,t=null,P=false,K=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),J=true,r=250,B,S,N,M=false,I=c.utils.renderWatch(K,r);a.dispatch=K;a.options=c.utils.optionsFunc.bind(a);a._calls=new function(){this.clearHighlights=
function(){d3.selectAll(".nv-chart-"+h+" .nv-point.hover").classed("hover",false);return null};this.highlightPoint=function(a,b,c){d3.select(".nv-chart-"+h+" .nv-series-"+a+" .nv-point-"+b).classed("hover",c)}};K.on("elementMouseover.point",function(b){v&&a._calls.highlightPoint(b.seriesIndex,b.pointIndex,true)});K.on("elementMouseout.point",function(b){v&&a._calls.highlightPoint(b.seriesIndex,b.pointIndex,false)});a._options=Object.create({},{width:{get:function(){return f},set:function(a){f=a}},
height:{get:function(){return l},set:function(a){l=a}},xScale:{get:function(){return e},set:function(a){e=a}},yScale:{get:function(){return j},set:function(a){j=a}},pointScale:{get:function(){return k},set:function(a){k=a}},xDomain:{get:function(){return E},set:function(a){E=a}},yDomain:{get:function(){return s},set:function(a){s=a}},pointDomain:{get:function(){return i},set:function(a){i=a}},xRange:{get:function(){return D},set:function(a){D=a}},yRange:{get:function(){return F},set:function(a){F=
a}},pointRange:{get:function(){return t},set:function(a){t=a}},forceX:{get:function(){return y},set:function(a){y=a}},forceY:{get:function(){return u},set:function(a){u=a}},forcePoint:{get:function(){return o},set:function(a){o=a}},interactive:{get:function(){return v},set:function(a){v=a}},pointActive:{get:function(){return z},set:function(a){z=a}},padDataOuter:{get:function(){return p},set:function(a){p=a}},padData:{get:function(){return q},set:function(a){q=a}},clipEdge:{get:function(){return A},
set:function(a){A=a}},clipVoronoi:{get:function(){return C},set:function(a){C=a}},clipRadius:{get:function(){return G},set:function(a){G=a}},id:{get:function(){return h},set:function(a){h=a}},x:{get:function(){return x},set:function(a){x=d3.functor(a)}},y:{get:function(){return n},set:function(a){n=d3.functor(a)}},pointSize:{get:function(){return m},set:function(a){m=d3.functor(a)}},pointShape:{get:function(){return w},set:function(a){w=d3.functor(a)}},margin:{get:function(){return b},set:function(a){b.top=
a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},duration:{get:function(){return r},set:function(a){r=a;I.reset(r)}},color:{get:function(){return g},set:function(a){g=c.utils.getColor(a)}},useVoronoi:{get:function(){return J},set:function(a){J=a;J===false&&(C=false)}}});c.utils.initOptions(a);return a};c.models.scatterChart=function(){function a(J){t.reset();t.models(b);v&&t.models(f);z&&t.models(l);
y&&t.models(h);u&&t.models(e);J.each(function(r){var B=d3.select(this),J=this;c.utils.initSVG(B);var N=(k||parseInt(B.style("width"))||960)-j.left-j.right,M=(x||parseInt(B.style("height"))||400)-j.top-j.bottom;a.update=function(){i===0?B.call(a):B.transition().duration(i).call(a)};a.container=this;E.setter(K(r),a.update).getter(P(r)).update();E.disabled=r.map(function(a){return!!a.disabled});if(!s){var I;s={};for(I in E)s[I]=E[I]instanceof Array?E[I].slice(0):E[I]}if(!r||!r.length||!r.filter(function(a){return a.values.length}).length){I=
B.selectAll(".nv-noData").data([F]);I.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");I.attr("x",j.left+N/2).attr("y",j.top+M/2).text(function(a){return a});t.renderEnd("scatter immediate");return a}B.selectAll(".nv-noData").remove();m=b.xScale();w=b.yScale();var H=B.selectAll("g.nv-wrap.nv-scatterChart").data([r]);I=H.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+b.id()).append("g");var R=H.select("g");I.append("rect").attr("class",
"nvd3 nv-background").style("pointer-events","none");I.append("g").attr("class","nv-x nv-axis");I.append("g").attr("class","nv-y nv-axis");I.append("g").attr("class","nv-scatterWrap");I.append("g").attr("class","nv-regressionLinesWrap");I.append("g").attr("class","nv-distWrap");I.append("g").attr("class","nv-legendWrap");H.attr("transform","translate("+j.left+","+j.top+")");q&&R.select(".nv-y.nv-axis").attr("transform","translate("+N+",0)");if(o){g.width(N/2);H.select(".nv-legendWrap").datum(r).call(g);
if(j.top!=g.height()){j.top=g.height();M=(x||parseInt(B.style("height"))||400)-j.top-j.bottom}H.select(".nv-legendWrap").attr("transform","translate("+N/2+","+-j.top+")")}b.width(N).height(M).color(r.map(function(a,b){return a.color||n(a,b)}).filter(function(a,b){return!r[b].disabled}));H.select(".nv-scatterWrap").datum(r.filter(function(a){return!a.disabled})).call(b);H.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+b.id()+")");H=H.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(a){return a});
H.enter().append("g").attr("class","nv-regLines");H=H.selectAll(".nv-regLine").data(function(a){return[a]});H.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0);H.filter(function(a){return a.intercept&&a.slope}).watchTransition(t,"scatterPlusLineChart: regline").attr("x1",m.range()[0]).attr("x2",m.range()[1]).attr("y1",function(a){return w(m.domain()[0]*a.slope+a.intercept)}).attr("y2",function(a){return w(m.domain()[1]*a.slope+a.intercept)}).style("stroke",function(a,b,c){return n(a,
c)}).style("stroke-opacity",function(a){return a.disabled||typeof a.slope==="undefined"||typeof a.intercept==="undefined"?0:1});if(v){f.scale(m).ticks(f.ticks()?f.ticks():c.utils.calcTicksX(N/100,r)).tickSize(-M,0);R.select(".nv-x.nv-axis").attr("transform","translate(0,"+w.range()[0]+")").call(f)}if(z){l.scale(w).ticks(l.ticks()?l.ticks():c.utils.calcTicksY(M/36,r)).tickSize(-N,0);R.select(".nv-y.nv-axis").call(l)}if(y){h.getData(b.x()).scale(m).width(N).color(r.map(function(a,b){return a.color||
n(a,b)}).filter(function(a,b){return!r[b].disabled}));I.select(".nv-distWrap").append("g").attr("class","nv-distributionX");R.select(".nv-distributionX").attr("transform","translate(0,"+w.range()[0]+")").datum(r.filter(function(a){return!a.disabled})).call(h)}if(u){e.getData(b.y()).scale(w).width(M).color(r.map(function(a,b){return a.color||n(a,b)}).filter(function(a,b){return!r[b].disabled}));I.select(".nv-distWrap").append("g").attr("class","nv-distributionY");R.select(".nv-distributionY").attr("transform",
"translate("+(q?N:-e.size())+",0)").datum(r.filter(function(a){return!a.disabled})).call(e)}g.dispatch.on("stateChange",function(b){for(var c in b)E[c]=b[c];D.stateChange(E);a.update()});b.dispatch.on("elementMouseover.tooltip",function(a){d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",a.pos[1]-M);d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",a.pos[0]+h.size());a.pos=[a.pos[0]+j.left,a.pos[1]+j.top];
D.tooltipShow(a)});D.on("tooltipShow",function(e){if(p){var g=J.parentNode,h=e.pos[0]+(g.offsetLeft||0),i=e.pos[1]+(g.offsetTop||0),k=e.pos[0]+(g.offsetLeft||0),o=w.range()[0]+j.top+(g.offsetTop||0),n=m.range()[0]+j.left+(g.offsetLeft||0),s=e.pos[1]+(g.offsetTop||0),r=f.tickFormat()(b.x()(e.point,e.pointIndex)),u=l.tickFormat()(b.y()(e.point,e.pointIndex));A!=null&&c.tooltip.show([k,o],A(e.series.key,r,u,e,a),"n",1,g,"x-nvtooltip");C!=null&&c.tooltip.show([n,s],C(e.series.key,r,u,e,a),"e",1,g,"y-nvtooltip");
G!=null&&c.tooltip.show([h,i],G(e.series.key,r,u,e.point.tooltip,e,a),e.value<0?"n":"s",null,g)}});D.on("changeState",function(b){if(typeof b.disabled!=="undefined"){r.forEach(function(a,c){a.disabled=b.disabled[c]});E.disabled=b.disabled}a.update()});m.copy();w.copy()});t.renderEnd("scatter with line immediate");return a}var b=c.models.scatter(),f=c.models.axis(),l=c.models.axis(),g=c.models.legend(),h=c.models.distribution(),e=c.models.distribution(),j={top:30,right:20,bottom:50,left:75},k=null,
x=null,n=c.utils.defaultColor(),m=b.xScale(),w=b.yScale(),y=false,u=false,o=true,v=true,z=true,q=false,p=true,A=function(a,b){return"<strong>"+b+"</strong>"},C=function(a,b,c){return"<strong>"+c+"</strong>"},G=function(a,b,c,e){return"<h3>"+a+"</h3><p>"+e+"</p>"},E=c.utils.state(),s=null,D=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),F="No Data Available.",i=250;b.xScale(m).yScale(w);f.orient("bottom").tickPadding(10);l.orient(q?"right":"left").tickPadding(10);
h.axis("x");e.axis("y");var t=c.utils.renderWatch(D,i),P=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},K=function(a){return function(b){b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};b.dispatch.on("elementMouseout.tooltip",function(a){D.tooltipHide(a);d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",0);d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",
e.size())});D.on("tooltipHide",function(){p&&c.tooltip.cleanup()});a.dispatch=D;a.scatter=b;a.legend=g;a.xAxis=f;a.yAxis=l;a.distX=h;a.distY=e;a._options=Object.create({},{width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return x},set:function(a){x=a}},showDistX:{get:function(){return y},set:function(a){y=a}},showDistY:{get:function(){return u},set:function(a){u=a}},showLegend:{get:function(){return o},set:function(a){o=a}},showXAxis:{get:function(){return v},set:function(a){v=
a}},showYAxis:{get:function(){return z},set:function(a){z=a}},tooltips:{get:function(){return p},set:function(a){p=a}},tooltipContent:{get:function(){return G},set:function(a){G=a}},tooltipXContent:{get:function(){return A},set:function(a){A=a}},tooltipYContent:{get:function(){return C},set:function(a){C=a}},defaultState:{get:function(){return s},set:function(a){s=a}},noData:{get:function(){return F},set:function(a){F=a}},duration:{get:function(){return i},set:function(a){i=a}},margin:{get:function(){return j},
set:function(a){j.top=a.top!==void 0?a.top:j.top;j.right=a.right!==void 0?a.right:j.right;j.bottom=a.bottom!==void 0?a.bottom:j.bottom;j.left=a.left!==void 0?a.left:j.left}},rightAlignYAxis:{get:function(){return q},set:function(a){q=a;l.orient(a?"right":"left")}},color:{get:function(){return n},set:function(a){n=c.utils.getColor(a);g.color(n);h.color(n);e.color(n)}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.sparkline=function(){function a(g){g.each(function(a){var g=
f-b.left-b.right,u=l-b.top-b.bottom,q=d3.select(this);c.utils.initSVG(q);h.domain(n||d3.extent(a,j)).range(w||[0,g]);e.domain(m||d3.extent(a,k)).range(y||[u,0]);a=q.selectAll("g.nv-wrap.nv-sparkline").data([a]);a.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline").append("g");a.select("g");a.attr("transform","translate("+b.left+","+b.top+")");g=a.selectAll("path").data(function(a){return[a]});g.enter().append("path");g.exit().remove();g.style("stroke",function(a,b){return a.color||x(a,b)}).attr("d",
d3.svg.line().x(function(a,b){return h(j(a,b))}).y(function(a,b){return e(k(a,b))}));a=a.selectAll("circle.nv-point").data(function(a){function b(c){if(c!=-1){var e=a[c];e.pointIndex=c;return e}return null}var c=a.map(function(a,b){return k(a,b)}),f=b(c.lastIndexOf(e.domain()[1])),g=b(c.indexOf(e.domain()[0])),c=b(c.length-1);return[g,f,c].filter(function(a){return a!=null})});a.enter().append("circle");a.exit().remove();a.attr("cx",function(a){return h(j(a,a.pointIndex))}).attr("cy",function(a){return e(k(a,
a.pointIndex))}).attr("r",2).attr("class",function(a){return j(a,a.pointIndex)==h.domain()[1]?"nv-point nv-currentValue":k(a,a.pointIndex)==e.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})});return a}var b={top:2,right:0,bottom:2,left:0},f=400,l=32,g=true,h=d3.scale.linear(),e=d3.scale.linear(),j=function(a){return a.x},k=function(a){return a.y},x=c.utils.getColor(["#000"]),n,m,w,y;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return f},set:function(a){f=
a}},height:{get:function(){return l},set:function(a){l=a}},xDomain:{get:function(){return n},set:function(a){n=a}},yDomain:{get:function(){return m},set:function(a){m=a}},xRange:{get:function(){return w},set:function(a){w=a}},yRange:{get:function(){return y},set:function(a){y=a}},xScale:{get:function(){return h},set:function(a){h=a}},yScale:{get:function(){return e},set:function(a){e=a}},animate:{get:function(){return g},set:function(a){g=a}},x:{get:function(){return j},set:function(a){j=d3.functor(a)}},
y:{get:function(){return k},set:function(a){k=d3.functor(a)}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return x},set:function(a){x=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.sparklinePlus=function(){function a(o){o.each(function(m){function z(){if(!k){var a=E.selectAll(".nv-hoverValue").data(j),
c=a.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);a.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove();a.attr("transform",function(a){return"translate("+h(b.x()(m[a],a))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1);if(j.length){c.append("line").attr("x1",0).attr("y1",-f.top).attr("x2",0).attr("y2",A);c.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",
-f.top).attr("text-anchor","end").attr("dy",".9em");E.select(".nv-hoverValue .nv-xValue").text(x(b.x()(m[j[0]],j[0])));c.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-f.top).attr("text-anchor","start").attr("dy",".9em");E.select(".nv-hoverValue .nv-yValue").text(n(b.y()(m[j[0]],j[0])))}}}var q=d3.select(this);c.utils.initSVG(q);var p=(l||parseInt(q.style("width"))||960)-f.left-f.right,A=(g||parseInt(q.style("height"))||400)-f.top-f.bottom;a.update=function(){a(o)};a.container=this;
if(!m||!m.length){var C=q.selectAll(".nv-noData").data([u]);C.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");C.attr("x",f.left+p/2).attr("y",f.top+A/2).text(function(a){return a});return a}q.selectAll(".nv-noData").remove();C=b.y()(m[m.length-1],m.length-1);h=b.xScale();e=b.yScale();var G=q.selectAll("g.nv-wrap.nv-sparklineplus").data([m]),q=G.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),E=G.select("g");q.append("g").attr("class",
"nv-sparklineWrap");q.append("g").attr("class","nv-valueWrap");q.append("g").attr("class","nv-hoverArea");G.attr("transform","translate("+f.left+","+f.top+")");G=E.select(".nv-sparklineWrap");b.width(p).height(A);G.call(b);G=E.select(".nv-valueWrap").selectAll(".nv-currentValue").data([C]);G.enter().append("text").attr("class","nv-currentValue").attr("dx",y?-8:8).attr("dy",".9em").style("text-anchor",y?"end":"start");G.attr("x",p+(y?f.right:0)).attr("y",w?function(a){return e(a)}:0).style("fill",
b.color()(m[m.length-1],m.length-1)).text(n(C));q.select(".nv-hoverArea").append("rect").on("mousemove",function(){if(!k){for(var a=d3.mouse(this)[0]-f.left,c=m,a=Math.round(h.invert(a)),e=Math.abs(b.x()(c[0],0)-a),g=0,l=0;l<c.length;l++)if(Math.abs(b.x()(c[l],l)-a)<e){e=Math.abs(b.x()(c[l],l)-a);g=l}j=[g];z()}}).on("click",function(){k=!k}).on("mouseout",function(){j=[];z()});E.select(".nv-hoverArea rect").attr("transform",function(){return"translate("+-f.left+","+-f.top+")"}).attr("width",p+f.left+
f.right).attr("height",A+f.top)});return a}var b=c.models.sparkline(),f={top:15,right:100,bottom:10,left:50},l=null,g=null,h,e,j=[],k=false,x=d3.format(",r"),n=d3.format(",.2f"),m=true,w=true,y=false,u="No Data Available.";a.sparkline=b;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return g},set:function(a){g=a}},xTickFormat:{get:function(){return x},set:function(a){x=a}},yTickFormat:{get:function(){return n},
set:function(a){n=a}},showValue:{get:function(){return m},set:function(a){m=a}},alignValue:{get:function(){return w},set:function(a){w=a}},rightAlignValue:{get:function(){return y},set:function(a){y=a}},noData:{get:function(){return u},set:function(a){u=a}},margin:{get:function(){return f},set:function(a){f.top=a.top!==void 0?a.top:f.top;f.right=a.right!==void 0?a.right:f.right;f.bottom=a.bottom!==void 0?a.bottom:f.bottom;f.left=a.left!==void 0?a.left:f.left}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);
return a};c.models.stackedArea=function(){function a(k){q.reset();q.models(o);k.each(function(k){var p=f-b.left-b.right,v=l-b.top-b.bottom,E=d3.select(this);c.utils.initSVG(E);y=o.xScale();u=o.yScale();var s=k;k.forEach(function(a,b){a.seriesIndex=b;a.values=a.values.map(function(a,c){a.index=c;a.seriesIndex=b;return a})});var k=k.filter(function(a){return!a.disabled}),k=d3.layout.stack().order(n).offset(x).values(function(a){return a.values}).x(e).y(j).out(function(a,b,c){c=j(a)===0?0:c;a.display=
{y:c,y0:b}})(k),E=E.selectAll("g.nv-wrap.nv-stackedarea").data([k]),D=E.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),F=D.append("defs"),D=D.append("g"),i=E.select("g");D.append("g").attr("class","nv-areaWrap");D.append("g").attr("class","nv-scatterWrap");E.attr("transform","translate("+b.left+","+b.top+")");o.width(p).height(v).x(e).y(function(a){return a.display.y+a.display.y0}).forceY([0]).color(k.map(function(a){return a.color||g(a,a.seriesIndex)}));i.select(".nv-scatterWrap").datum(k).call(o);
F.append("clipPath").attr("id","nv-edge-clip-"+h).append("rect");E.select("#nv-edge-clip-"+h+" rect").attr("width",p).attr("height",v);i.attr("clip-path",w?"url(#nv-edge-clip-"+h+")":"");var t=d3.svg.area().x(function(a,b){return y(e(a,b))}).y0(function(a){return u(a.display.y0)}).y1(function(a){return u(a.display.y+a.display.y0)}).interpolate(m),P=d3.svg.area().x(function(a,b){return y(e(a,b))}).y0(function(a){return u(a.display.y0)}).y1(function(a){return u(a.display.y0)}),p=i.select(".nv-areaWrap").selectAll("path.nv-area").data(function(a){return a});
p.enter().append("path").attr("class",function(a,b){return"nv-area nv-area-"+b}).attr("d",function(a){return P(a.values,a.seriesIndex)}).on("mouseover",function(a){d3.select(this).classed("hover",true);z.areaMouseover({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}).on("mouseout",function(a){d3.select(this).classed("hover",false);z.areaMouseout({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}).on("click",function(a){d3.select(this).classed("hover",
false);z.areaClick({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})});p.exit().remove();p.style("fill",function(a){return a.color||g(a,a.seriesIndex)}).style("stroke",function(a){return a.color||g(a,a.seriesIndex)});p.watchTransition(q,"stackedArea path").attr("d",function(a,b){return t(a.values,b)});o.dispatch.on("elementMouseover.area",function(a){i.select(".nv-chart-"+h+" .nv-area-"+a.seriesIndex).classed("hover",true)});o.dispatch.on("elementMouseout.area",
function(a){i.select(".nv-chart-"+h+" .nv-area-"+a.seriesIndex).classed("hover",false)});a.d3_stackedOffset_stackPercent=function(a){var b=a.length,c=a[0].length,e=1/b,f,g,h,i=[];for(g=0;g<c;++g){for(h=f=0;f<s.length;f++)h=h+j(s[f].values[g]);if(h)for(f=0;f<b;f++)a[f][g][1]=a[f][g][1]/h;else for(f=0;f<b;f++)a[f][g][1]=e}for(g=0;g<c;++g)i[g]=0;return i}});q.renderEnd("stackedArea immediate");return a}var b={top:0,right:0,bottom:0,left:0},f=960,l=500,g=c.utils.defaultColor(),h=Math.floor(Math.random()*
1E5),e=function(a){return a.x},j=function(a){return a.y},k="stack",x="zero",n="default",m="linear",w=false,y,u,o=c.models.scatter(),v=250,z=d3.dispatch("tooltipShow","tooltipHide","areaClick","areaMouseover","areaMouseout","renderEnd");o.interactive(false);o.pointSize(2.2).pointDomain([2.2,2.2]);var q=c.utils.renderWatch(z,v);o.dispatch.on("elementClick.area",function(a){z.areaClick(a)});o.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];z.tooltipShow(a)});
o.dispatch.on("elementMouseout.tooltip",function(a){z.tooltipHide(a)});a.dispatch=z;a.scatter=o;a.interpolate=function(b){if(!arguments.length)return m;m=b;return a};a.duration=function(b){if(!arguments.length)return v;v=b;q.reset(v);o.duration(v);return a};a.dispatch=z;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return f},set:function(a){f=a}},height:{get:function(){return l},set:function(a){l=a}},clipEdge:{get:function(){return w},set:function(a){w=a}},
offset:{get:function(){return x},set:function(a){x=a}},order:{get:function(){return n},set:function(a){n=a}},interpolate:{get:function(){return m},set:function(a){m=a}},x:{get:function(){return e},set:function(a){e=d3.functor(a)}},y:{get:function(){return j},set:function(a){j=d3.functor(a)}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return g},
set:function(a){g=c.utils.getColor(a)}},style:{get:function(){return k},set:function(b){k=b;switch(k){case "stack":a.offset("zero");a.order("default");break;case "stream":a.offset("wiggle");a.order("inside-out");break;case "stream-center":a.offset("silhouette");a.order("inside-out");break;case "expand":a.offset("expand");a.order("default");break;case "stack_percent":a.offset(a.d3_stackedOffset_stackPercent);a.order("default")}}},duration:{get:function(){return v},set:function(a){v=a;q.reset(v);o.duration(v)}}});
c.utils.inheritOptions(a,o);c.utils.initOptions(a);return a};c.models.stackedAreaChart=function(){function a(B){K.reset();K.models(b);y&&K.models(f);u&&K.models(l);B.each(function(B){var N=d3.select(this),M=this;c.utils.initSVG(N);var I=(k||parseInt(N.style("width"))||960)-j.left-j.right,H=(x||parseInt(N.style("height"))||400)-j.top-j.bottom;a.update=function(){N.transition().duration(P).call(a)};a.container=this;G.setter(r(B),a.update).getter(J(B)).update();G.disabled=B.map(function(a){return!!a.disabled});
if(!E){var K;E={};for(K in G)E[K]=G[K]instanceof Array?G[K].slice(0):G[K]}if(!B||!B.length||!B.filter(function(a){return a.values.length}).length){K=N.selectAll(".nv-noData").data([s]);K.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");K.attr("x",j.left+I/2).attr("y",j.top+H/2).text(function(a){return a});return a}N.selectAll(".nv-noData").remove();p=b.xScale();A=b.yScale();K=N.selectAll("g.nv-wrap.nv-stackedAreaChart").data([B]);var T=K.enter().append("g").attr("class",
"nvd3 nv-wrap nv-stackedAreaChart").append("g"),U=K.select("g");T.append("rect").style("opacity",0);T.append("g").attr("class","nv-x nv-axis");T.append("g").attr("class","nv-y nv-axis");T.append("g").attr("class","nv-stackedWrap");T.append("g").attr("class","nv-legendWrap");T.append("g").attr("class","nv-controlsWrap");T.append("g").attr("class","nv-interactive");U.select("rect").attr("width",I).attr("height",H);if(w){T=m?I-F:I;g.width(T);U.select(".nv-legendWrap").datum(B).call(g);if(j.top!=g.height()){j.top=
g.height();H=(x||parseInt(N.style("height"))||400)-j.top-j.bottom}U.select(".nv-legendWrap").attr("transform","translate("+(I-T)+","+-j.top+")")}if(m){var L=[{key:t.stacked||"Stacked",metaKey:"Stacked",disabled:b.style()!="stack",style:"stack"},{key:t.stream||"Stream",metaKey:"Stream",disabled:b.style()!="stream",style:"stream"},{key:t.expanded||"Expanded",metaKey:"Expanded",disabled:b.style()!="expand",style:"expand"},{key:t.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:b.style()!="stack_percent",
style:"stack_percent"}];F=i.length/3*260;L=L.filter(function(a){return i.indexOf(a.metaKey)!==-1});h.width(F).color(["#444","#444","#444"]);U.select(".nv-controlsWrap").datum(L).call(h);if(j.top!=Math.max(h.height(),g.height())){j.top=Math.max(h.height(),g.height());H=(x||parseInt(N.style("height"))||400)-j.top-j.bottom}U.select(".nv-controlsWrap").attr("transform","translate(0,"+-j.top+")")}K.attr("transform","translate("+j.left+","+j.top+")");o&&U.select(".nv-y.nv-axis").attr("transform","translate("+
I+",0)");if(v){e.width(I).height(H).margin({left:j.left,top:j.top}).svgContainer(N).xScale(p);K.select(".nv-interactive").call(e)}b.width(I).height(H);U.select(".nv-stackedWrap").datum(B).transition().call(b);if(y){f.scale(p).ticks(c.utils.calcTicksX(I/100,B)).tickSize(-H,0);U.select(".nv-x.nv-axis").attr("transform","translate(0,"+H+")");U.select(".nv-x.nv-axis").transition().duration(0).call(f)}if(u){l.scale(A).ticks(b.offset()=="wiggle"?0:c.utils.calcTicksY(H/36,B)).tickSize(-I,0).setTickFormat(b.style()==
"expand"||b.style()=="stack_percent"?d3.format("%"):C);U.select(".nv-y.nv-axis").transition().duration(0).call(l)}b.dispatch.on("areaClick.toggle",function(b){B.filter(function(a){return!a.disabled}).length===1?B.forEach(function(a){a.disabled=false}):B.forEach(function(a,c){a.disabled=c!=b.seriesIndex});G.disabled=B.map(function(a){return!!a.disabled});D.stateChange(G);a.update()});g.dispatch.on("stateChange",function(b){for(var c in b)G[c]=b[c];D.stateChange(G);a.update()});h.dispatch.on("legendClick",
function(c){if(c.disabled){L=L.map(function(a){a.disabled=true;return a});c.disabled=false;b.style(c.style);G.style=b.style();D.stateChange(G);a.update()}});e.dispatch.on("elementMousemove",function(g){b.clearHighlights();var h,i,k,m=[];B.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(e,f){i=c.interactiveBisect(e.values,g.pointXValue,a.x());b.highlightPoint(f,i,true);var j=e.values[i];if(typeof j!=="undefined"){typeof h==="undefined"&&(h=j);typeof k==="undefined"&&(k=a.xScale()(a.x()(j,
i)));var l=b.style()=="expand"?j.display.y:a.y()(j,i);m.push({key:e.key,value:l,color:n(e,e.seriesIndex),stackedValue:j.display})}});m.reverse();if(m.length>2){var o=a.yScale().invert(g.mouseY),p=null;m.forEach(function(a,b){o=Math.abs(o);var c=Math.abs(a.stackedValue.y0),e=Math.abs(a.stackedValue.y);o>=c&&o<=e+c&&(p=b)});if(p!=null)m[p].highlight=true}var q=f.tickFormat()(a.x()(h,i)),r=b.style()=="expand"?function(a){return d3.format(".1%")(a)}:function(a){return l.tickFormat()(a)};e.tooltip.position({left:k+
j.left,top:g.mouseY+j.top}).chartContainer(M.parentNode).enabled(z).valueFormatter(r).data({value:q,series:m})();e.renderGuideLine(k)});e.dispatch.on("elementMouseout",function(){D.tooltipHide();b.clearHighlights()});D.on("tooltipShow",function(e){if(z){var g=M.parentNode,h=e.pos[0]+(g.offsetLeft||0),i=e.pos[1]+(g.offsetTop||0),j=f.tickFormat()(b.x()(e.point,e.pointIndex)),k=l.tickFormat()(b.y()(e.point,e.pointIndex)),j=q(e.series.key,j,k,e,a);c.tooltip.show([h,i],j,e.value<0?"n":"s",null,g)}});D.on("changeState",
function(c){if(typeof c.disabled!=="undefined"&&B.length===c.disabled.length){B.forEach(function(a,b){a.disabled=c.disabled[b]});G.disabled=c.disabled}typeof c.style!=="undefined"&&b.style(c.style);a.update()})});K.renderEnd("stacked Area chart immediate");return a}var b=c.models.stackedArea(),f=c.models.axis(),l=c.models.axis(),g=c.models.legend(),h=c.models.legend(),e=c.interactiveGuideline(),j={top:30,right:25,bottom:50,left:60},k=null,x=null,n=c.utils.defaultColor(),m=true,w=true,y=true,u=true,
o=false,v=false,z=true,q=function(a,b,c){return"<h3>"+a+"</h3><p>"+c+" on "+b+"</p>"},p,A,C=d3.format(",.2f"),G=c.utils.state(),E=null,s="No Data Available.",D=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),F=250,i=["Stacked","Stream","Expanded"],t={},P=250;G.style=b.style();f.orient("bottom").tickPadding(7);l.orient(o?"right":"left");h.updateState(false);var K=c.utils.renderWatch(D);b.style();var J=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),
style:b.style()}}},r=function(a){return function(b){b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};b.dispatch.on("tooltipShow",function(a){a.pos=[a.pos[0]+j.left,a.pos[1]+j.top];D.tooltipShow(a)});b.dispatch.on("tooltipHide",function(a){D.tooltipHide(a)});D.on("tooltipHide",function(){z&&c.tooltip.cleanup()});a.dispatch=D;a.stacked=b;a.legend=g;a.controls=h;a.xAxis=f;a.yAxis=l;a.interactiveLayer=e;l.setTickFormat=l.tickFormat;a.dispatch=D;a.options=c.utils.optionsFunc.bind(a);
a._options=Object.create({},{width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return x},set:function(a){x=a}},showLegend:{get:function(){return w},set:function(a){w=a}},showXAxis:{get:function(){return y},set:function(a){y=a}},showYAxis:{get:function(){return u},set:function(a){u=a}},tooltips:{get:function(){return z},set:function(a){z=a}},tooltipContent:{get:function(){return q},set:function(a){q=a}},defaultState:{get:function(){return E},set:function(a){E=a}},noData:{get:function(){return s},
set:function(a){s=a}},showControls:{get:function(){return m},set:function(a){m=a}},controlLabels:{get:function(){return t},set:function(a){t=a}},yAxisTickFormat:{get:function(){return C},set:function(a){C=a}},margin:{get:function(){return j},set:function(a){j.top=a.top!==void 0?a.top:j.top;j.right=a.right!==void 0?a.right:j.right;j.bottom=a.bottom!==void 0?a.bottom:j.bottom;j.left=a.left!==void 0?a.left:j.left}},duration:{get:function(){return P},set:function(a){P=a;K.reset(P);b.duration(P);f.duration(P);
l.duration(P)}},color:{get:function(){return n},set:function(a){n=c.utils.getColor(a);g.color(n);b.color(n)}},rightAlignYAxis:{get:function(){return o},set:function(a){o=a;l.orient(o?"right":"left")}},useInteractiveGuideline:{get:function(){return v},set:function(b){v=!!b;if(b){a.interactive(false);a.useVoronoi(false)}}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.version="1.7.1"})();
