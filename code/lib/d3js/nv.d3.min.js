(function(){function ba(a,b){return(new Date(b,a+1,0)).getDate()}var c=window.nv||{};c.version="1.1.15b";c.dev=!0;window.nv=c;c.tooltip=c.tooltip||{};c.utils=c.utils||{};c.models=c.models||{};c.charts={};c.graphs=[];c.logs={};c.dispatch=d3.dispatch("render_start","render_end");c.dev&&(c.dispatch.on("render_start",function(){c.logs.startTime=+new Date}),c.dispatch.on("render_end",function(){c.logs.endTime=+new Date;c.logs.totalTime=c.logs.endTime-c.logs.startTime;c.log("total",c.logs.totalTime)}));
c.log=function(){c.dev&&console.log&&console.log.apply?console.log.apply(console,arguments):c.dev&&(typeof console.log=="function"&&Function.prototype.bind)&&Function.prototype.bind.call(console.log,console).apply(console,arguments);return arguments[arguments.length-1]};c.render=function(a){a=a||1;c.render.active=true;c.dispatch.render_start();setTimeout(function(){for(var b,g,k=0;k<a&&(g=c.render.queue[k]);k++){b=g.generate();typeof g.callback==typeof Function&&g.callback(b);c.graphs.push(b)}c.render.queue.splice(0,
k);if(c.render.queue.length)setTimeout(arguments.callee,0);else{c.dispatch.render_end();c.render.active=false}},0)};c.render.active=!1;c.render.queue=[];c.addGraph=function(a,b){typeof a===typeof Function&&(a={generate:a,callback:b});c.render.queue.push(a);c.render.active||c.render()};c.identity=function(a){return a};c.strip=function(a){return a.replace(/(\s|&)/g,"")};d3.time.monthEnd=function(a){return new Date(a.getFullYear(),a.getMonth(),0)};d3.time.monthEnds=function(a,b,g){return function(c,
j,f){var e=a(c),i=[];e<c&&b(e);if(f>1)for(;e<j;){c=new Date(+e);g(c)%f===0&&i.push(c);b(e)}else for(;e<j;){i.push(new Date(+e));b(e)}return i}}(d3.time.monthEnd,function(a){a.setUTCDate(a.getUTCDate()+1);a.setDate(ba(a.getMonth()+1,a.getFullYear()))},function(a){return a.getMonth()});c.interactiveGuideline=function(){function a(n){n.each(function(l){function n(){var g=d3.mouse(this),c=g[0],g=g[1],h=true,i=false;if(p){c=d3.event.offsetX;g=d3.event.offsetY;d3.event.target.tagName!=="svg"&&(h=false);
d3.event.target.className.baseVal.match("nv-legend")&&(i=true)}if(h){c=c-j.left;g=g-j.top}if(c<0||g<0||c>q||g>t||d3.event.relatedTarget&&d3.event.relatedTarget.ownerSVGElement===void 0||i){if(!p||!d3.event.relatedTarget||!(d3.event.relatedTarget.ownerSVGElement===void 0&&d3.event.relatedTarget.className.match(b.nvPointerEventsClass))){e.elementMouseout({mouseX:c,mouseY:g});a.renderGuideLine(null)}}else{h=f.invert(c);e.elementMousemove({mouseX:c,mouseY:g,pointXValue:h});d3.event.type==="dblclick"&&
e.elementDblclick({mouseX:c,mouseY:g,pointXValue:h})}}var o=d3.select(this),q=g||960,t=k||400,B=o.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([l]);B.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine");if(h){h.on("mousemove",n,true).on("mouseout",n,true).on("dblclick",n);a.renderGuideLine=function(a){if(i){a=B.select(".nv-interactiveGuideLine").selectAll("line").data(a!=null?[c.utils.NaNtoZero(a)]:[],String);a.enter().append("line").attr("class",
"nv-guideline").attr("x1",function(a){return a}).attr("x2",function(a){return a}).attr("y1",t).attr("y2",0);a.exit().remove()}}}})}var b=c.models.tooltip(),g=null,k=null,j={left:0,top:0},f=d3.scale.linear();d3.scale.linear();var e=d3.dispatch("elementMousemove","elementMouseout","elementDblclick"),i=true,h=null,p=navigator.userAgent.indexOf("MSIE")!==-1;a.dispatch=e;a.tooltip=b;a.margin=function(b){if(!arguments.length)return j;j.top=typeof b.top!="undefined"?b.top:j.top;j.left=typeof b.left!="undefined"?
b.left:j.left;return a};a.width=function(b){if(!arguments.length)return g;g=b;return a};a.height=function(b){if(!arguments.length)return k;k=b;return a};a.xScale=function(b){if(!arguments.length)return f;f=b;return a};a.showGuideLine=function(b){if(!arguments.length)return i;i=b;return a};a.svgContainer=function(b){if(!arguments.length)return h;h=b;return a};return a};c.interactiveBisect=function(a,b,g){if(!a instanceof Array)return null;typeof g!=="function"&&(g=function(a){return a.x});var c=d3.bisector(g).left,
c=d3.max([0,c(a,b)-1]),j=g(a[c],c);typeof j==="undefined"&&(j=c);if(j===b)return c;var f=d3.min([c+1,a.length-1]),a=g(a[f],f);typeof a==="undefined"&&(a=f);return Math.abs(a-b)>=Math.abs(j-b)?c:f};c.nearestValueIndex=function(a,b,g){var c=Infinity,j=null;a.forEach(function(a,e){var i=Math.abs(b-a);if(i<=c&&i<g){c=i;j=e}});return j};(function(){window.nv.tooltip={};window.nv.models.tooltip=function(){function a(){if(l){var b;b=g&&g.series&&g.series.length>0?true:false;if(b){if(h){b=d3.select(h);b.node().tagName!==
"svg"&&(b=b.select("svg"));var q=b.node()?b.attr("viewBox"):null;if(q){q=q.split(" ");b=parseInt(b.style("width"))/q[2];n.left=n.left*b;n.top=n.top*b}}b=n.left;var q=e!=null?e:n.top,t;t=B(g);var z;z=h?d3.select(h):d3.select("body");var w=z.select(".nvtooltip");w.node()===null&&(w=z.append("div").attr("class","nvtooltip "+(i?i:"xy-tooltip")).attr("id",r));w.node().innerHTML=t;w.style("top",0).style("left",0).style("opacity",0);w.selectAll("div, table, td, tr").classed(o,true);w.classed(o,true);p=t=
w.node();if(h){(w=h.getElementsByTagName("svg")[0])?w.getBoundingClientRect():h.getBoundingClientRect();var x=0;z=0;if(w){w=w.getBoundingClientRect();x=h.getBoundingClientRect();z=w.top;if(z<0){var m=h.getBoundingClientRect();z=Math.abs(z)>m.height?0:z}z=Math.abs(z-x.top);x=Math.abs(w.left-x.left)}b=b+(h.offsetLeft+x-2*h.scrollLeft);q=q+(h.offsetTop+z-2*h.scrollTop)}f&&f>0&&(q=Math.floor(q/f)*f);c.tooltip.calcTooltipPosition([b,q],k,j,t);return a}}}var b=null,g=null,k="w",j=50,f=25,e=null,i=null,
h=null,p=null,n={left:null,top:null},l=true,r="nvtooltip-"+Math.floor(Math.random()*1E5),o="nv-pointer-events-none",q=function(a){return a},t=function(a){return a},B=function(a){if(b!=null)return b;if(a==null)return"";var e=d3.select(document.createElement("table"));e.selectAll("thead").data([a]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",true).html(t(a.value));var f=e.selectAll("tbody").data([a]).enter().append("tbody").selectAll("tr").data(function(a){return a.series}).enter().append("tr").classed("highlight",
function(a){return a.highlight});f.append("td").classed("legend-color-guide",true).append("div").style("background-color",function(a){return a.color});f.append("td").classed("key",true).html(function(a){return a.key});f.append("td").classed("value",true).html(function(a,b){return q(a.value,b)});f.selectAll("td").each(function(a){if(a.highlight){a=d3.scale.linear().domain([0,1]).range(["#fff",a.color]);d3.select(this).style("border-bottom-color",a(0.6)).style("border-top-color",a(0.6))}});e=e.node().outerHTML;
a.footer!==void 0&&(e=e+("<div class='footer'>"+a.footer+"</div>"));return e};a.nvPointerEventsClass=o;a.content=function(e){if(!arguments.length)return b;b=e;return a};a.tooltipElem=function(){return p};a.contentGenerator=function(b){if(!arguments.length)return B;typeof b==="function"&&(B=b);return a};a.data=function(b){if(!arguments.length)return g;g=b;return a};a.gravity=function(b){if(!arguments.length)return k;k=b;return a};a.distance=function(b){if(!arguments.length)return j;j=b;return a};a.snapDistance=
function(b){if(!arguments.length)return f;f=b;return a};a.classes=function(b){if(!arguments.length)return i;i=b;return a};a.chartContainer=function(b){if(!arguments.length)return h;h=b;return a};a.position=function(b){if(!arguments.length)return n;n.left=typeof b.left!=="undefined"?b.left:n.left;n.top=typeof b.top!=="undefined"?b.top:n.top;return a};a.fixedTop=function(b){if(!arguments.length)return e;e=b;return a};a.enabled=function(b){if(!arguments.length)return l;l=b;return a};a.valueFormatter=
function(b){if(!arguments.length)return q;typeof b==="function"&&(q=b);return a};a.headerFormatter=function(b){if(!arguments.length)return t;typeof b==="function"&&(t=b);return a};a.id=function(){return r};return a};c.tooltip.show=function(a,b,g,k,j,f){var e=document.createElement("div");e.className="nvtooltip "+(f?f:"xy-tooltip");f=j;if(!j||j.tagName.match(/g|svg/i))f=document.getElementsByTagName("body")[0];e.style.left=0;e.style.top=0;e.style.opacity=0;e.innerHTML=b;f.appendChild(e);if(j){a[0]=
a[0]-j.scrollLeft;a[1]=a[1]-j.scrollTop}c.tooltip.calcTooltipPosition(a,g,k,e)};c.tooltip.findFirstNonSVGParent=function(a){for(;a.tagName.match(/^g|svg$/i)!==null;)a=a.parentNode;return a};c.tooltip.findTotalOffsetTop=function(a,b){var g=b;do isNaN(a.offsetTop)||(g=g+a.offsetTop);while(a=a.offsetParent);return g};c.tooltip.findTotalOffsetLeft=function(a,b){var g=b;do isNaN(a.offsetLeft)||(g=g+a.offsetLeft);while(a=a.offsetParent);return g};c.tooltip.calcTooltipPosition=function(a,b,g,k){var j=parseInt(k.offsetHeight),
f=parseInt(k.offsetWidth),e=c.utils.windowSize().width,i=c.utils.windowSize().height,h=window.pageYOffset,p=window.pageXOffset,n,l,i=window.innerWidth>=document.body.scrollWidth?i:i-16,e=window.innerHeight>=document.body.scrollHeight?e:e-16,g=g||20,r=function(a){return c.tooltip.findTotalOffsetTop(a,l)},o=function(a){return c.tooltip.findTotalOffsetLeft(a,n)};switch(b||"s"){case "e":n=a[0]-f-g;l=a[1]-j/2;b=o(k);r=r(k);b<p&&(n=a[0]+g>p?a[0]+g:p-b+n);r<h&&(l=h-r+l);r+j>h+i&&(l=h+i-r+l-j);break;case "w":n=
a[0]+g;l=a[1]-j/2;b=o(k);r=r(k);b+f>e&&(n=a[0]-f-g);r<h&&(l=h+5);r+j>h+i&&(l=h+i-r+l-j);break;case "n":n=a[0]-f/2-5;l=a[1]+g;b=o(k);r=r(k);b<p&&(n=p+5);b+f>e&&(n=n-f/2+5);r+j>h+i&&(l=h+i-r+l-j);break;case "s":n=a[0]-f/2;l=a[1]-j-g;b=o(k);r=r(k);b<p&&(n=p+5);b+f>e&&(n=n-f/2+5);h>r&&(l=h);break;case "none":n=a[0];l=a[1]-g;b=o(k);r=r(k)}k.style.left=n+"px";k.style.top=l+"px";k.style.opacity=1;k.style.position="absolute";return k};c.tooltip.cleanup=function(){for(var a=document.getElementsByClassName("nvtooltip"),
b=[];a.length;){b.push(a[0]);a[0].style.transitionDelay="0 !important";a[0].style.opacity=0;a[0].className="nvtooltip-pending-removal"}setTimeout(function(){for(;b.length;){var a=b.pop();a.parentNode.removeChild(a)}},500)}})();c.utils.windowSize=function(){var a={width:640,height:480};if(document.body&&document.body.offsetWidth){a.width=document.body.offsetWidth;a.height=document.body.offsetHeight}if(document.compatMode=="CSS1Compat"&&document.documentElement&&document.documentElement.offsetWidth){a.width=
document.documentElement.offsetWidth;a.height=document.documentElement.offsetHeight}if(window.innerWidth&&window.innerHeight){a.width=window.innerWidth;a.height=window.innerHeight}return a};c.utils.windowResize=function(a){if(a!==void 0){var b=window.onresize;window.onresize=function(c){typeof b=="function"&&b(c);a(c)}}};c.utils.getColor=function(a){return!arguments.length?c.utils.defaultColor():Object.prototype.toString.call(a)==="[object Array]"?function(b,c){return b.color||a[c%a.length]}:a};c.utils.defaultColor=
function(){var a=d3.scale.category20().range();return function(b,c){return b.color||a[c%a.length]}};c.utils.customTheme=function(a,b,c){var b=b||function(a){return a.key},c=c||d3.scale.category20().range(),k=c.length;return function(j){j=b(j);if(!k)k=c.length;return typeof a[j]!=="undefined"?typeof a[j]==="function"?a[j]():a[j]:c[--k]}};c.utils.pjax=function(a,b){function g(g){d3.html(g,function(g){var f=d3.select(b).node();f.parentNode.replaceChild(d3.select(g).select(b).node(),f);c.utils.pjax(a,
b)})}d3.selectAll(a).on("click",function(){history.pushState(this.href,this.textContent,this.href);g(this.href);d3.event.preventDefault()});d3.select(window).on("popstate",function(){d3.event.state&&g(d3.event.state)})};c.utils.calcApproxTextWidth=function(a){if(typeof a.style==="function"&&typeof a.text==="function"){var b=parseInt(a.style("font-size").replace("px",""));return a.text().length*b*0.5}return 0};c.utils.NaNtoZero=function(a){return typeof a!=="number"||isNaN(a)||a===null||a===Infinity?
0:a};c.utils.optionsFunc=function(a){a&&d3.map(a).forEach(function(a,c){if(typeof this[a]==="function")this[a](c)}.bind(this));return this};c.models.axis=function(){function a(c){c.each(function(a){a=d3.select(this).selectAll("g.nv-wrap.nv-axis").data([a]);a.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g");var c=a.select("g");o!==null?b.ticks(o):(b.orient()=="top"||b.orient()=="bottom")&&b.ticks(Math.abs(f.range()[1]-f.range()[0])/100);c.transition().call(b);t=t||b.scale();var j=
b.tickFormat();j==null&&(j=t.tickFormat());var z=c.selectAll("text.nv-axislabel").data([e||null]);z.exit().remove();switch(b.orient()){case "top":z.enter().append("text").attr("class","nv-axislabel");var w=f.range().length==2?f.range()[1]:f.range()[f.range().length-1]+(f.range()[1]-f.range()[0]);z.attr("text-anchor","middle").attr("y",0).attr("x",w/2);if(i){w=a.selectAll("g.nv-axisMaxMin").data(f.domain());w.enter().append("g").attr("class","nv-axisMaxMin").append("text");w.exit().remove();w.attr("transform",
function(a){return"translate("+f(a)+",0)"}).select("text").attr("dy","-0.5em").attr("y",-b.tickPadding()).attr("text-anchor","middle").text(function(a){a=j(a);return(""+a).match("NaN")?"":a});w.transition().attr("transform",function(a,b){return"translate("+f.range()[b]+",0)"})}break;case "bottom":var x=36,m=30,u=c.selectAll("g").select("text");if(p%360){u.each(function(){var a=this.getBBox().width;a>m&&(m=a)});w=Math.abs(Math.sin(p*Math.PI/180));x=(w?w*m:m)+30;u.attr("transform",function(){return"rotate("+
p+" 0,0)"}).style("text-anchor",p%360>0?"start":"end")}z.enter().append("text").attr("class","nv-axislabel");w=f.range().length==2?f.range()[1]:f.range()[f.range().length-1]+(f.range()[1]-f.range()[0]);z.attr("text-anchor","middle").attr("y",x).attr("x",w/2);if(i){w=a.selectAll("g.nv-axisMaxMin").data([f.domain()[0],f.domain()[f.domain().length-1]]);w.enter().append("g").attr("class","nv-axisMaxMin").append("text");w.exit().remove();w.attr("transform",function(a){return"translate("+(f(a)+(r?f.rangeBand()/
2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",b.tickPadding()).attr("transform",function(){return"rotate("+p+" 0,0)"}).style("text-anchor",p?p%360>0?"start":"end":"middle").text(function(a){a=j(a);return(""+a).match("NaN")?"":a});w.transition().attr("transform",function(a){return"translate("+(f(a)+(r?f.rangeBand()/2:0))+",0)"})}l&&u.attr("transform",function(a,b){return"translate(0,"+(b%2==0?"0":"12")+")"});break;case "right":z.enter().append("text").attr("class","nv-axislabel");z.style("text-anchor",
n?"middle":"begin").attr("transform",n?"rotate(90)":"").attr("y",n?-Math.max(g.right,k)+12:-10).attr("x",n?f.range()[0]/2:b.tickPadding());if(i){w=a.selectAll("g.nv-axisMaxMin").data(f.domain());w.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0);w.exit().remove();w.attr("transform",function(a){return"translate(0,"+f(a)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",b.tickPadding()).style("text-anchor","start").text(function(a){a=j(a);return(""+a).match("NaN")?
"":a});w.transition().attr("transform",function(a,b){return"translate(0,"+f.range()[b]+")"}).select("text").style("opacity",1)}break;case "left":z.enter().append("text").attr("class","nv-axislabel");z.style("text-anchor",n?"middle":"end").attr("transform",n?"rotate(-90)":"").attr("y",n?-Math.max(g.left,k)+q:-10).attr("x",n?-f.range()[0]/2:-b.tickPadding());if(i){w=a.selectAll("g.nv-axisMaxMin").data(f.domain());w.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0);
w.exit().remove();w.attr("transform",function(a){return"translate(0,"+t(a)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-b.tickPadding()).attr("text-anchor","end").text(function(a){a=j(a);return(""+a).match("NaN")?"":a});w.transition().attr("transform",function(a,b){return"translate(0,"+f.range()[b]+")"}).select("text").style("opacity",1)}}z.text(function(a){return a});if(i&&(b.orient()==="left"||b.orient()==="right")){c.selectAll("g").each(function(a){d3.select(this).select("text").attr("opacity",
1);if(f(a)<f.range()[1]+10||f(a)>f.range()[0]-10){(a>1.0E-10||a<-1.0E-10)&&d3.select(this).attr("opacity",0);d3.select(this).select("text").attr("opacity",0)}});f.domain()[0]==f.domain()[1]&&f.domain()[0]==0&&a.selectAll("g.nv-axisMaxMin").style("opacity",function(a,b){return!b?1:0})}if(i&&(b.orient()==="top"||b.orient()==="bottom")){var v=[];a.selectAll("g.nv-axisMaxMin").each(function(a,b){try{b?v.push(f(a)-this.getBBox().width-4):v.push(f(a)+this.getBBox().width+4)}catch(e){b?v.push(f(a)-4):v.push(f(a)+
4)}});c.selectAll("g").each(function(a){if(f(a)<v[0]||f(a)>v[1])a>1.0E-10||a<-1.0E-10?d3.select(this).remove():d3.select(this).select("text").remove()})}h&&c.selectAll(".tick").filter(function(a){return!parseFloat(Math.round(a.__data__*1E5)/1E6)&&a.__data__!==void 0}).classed("zero",true);t=f.copy()});return a}var b=d3.svg.axis(),g={top:0,right:0,bottom:0,left:0},k=75,j=60,f=d3.scale.linear(),e=null,i=true,h=true,p=0,n=true,l=false,r=false,o=null,q=12;b.scale(f).orient("bottom").tickFormat(function(a){return a});
var t;a.axis=b;d3.rebind(a,b,"orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat");d3.rebind(a,f,"domain","range","rangeBand","rangeBands");a.options=c.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return g;g.top=typeof b.top!="undefined"?b.top:g.top;g.right=typeof b.right!="undefined"?b.right:g.right;g.bottom=typeof b.bottom!="undefined"?b.bottom:g.bottom;g.left=typeof b.left!="undefined"?b.left:g.left;return a};a.width=function(b){if(!arguments.length)return k;
k=b;return a};a.ticks=function(b){if(!arguments.length)return o;o=b;return a};a.height=function(b){if(!arguments.length)return j;j=b;return a};a.axisLabel=function(b){if(!arguments.length)return e;e=b;return a};a.showMaxMin=function(b){if(!arguments.length)return i;i=b;return a};a.highlightZero=function(b){if(!arguments.length)return h;h=b;return a};a.scale=function(e){if(!arguments.length)return f;f=e;b.scale(f);r=typeof f.rangeBands==="function";d3.rebind(a,f,"domain","range","rangeBand","rangeBands");
return a};a.rotateYLabel=function(b){if(!arguments.length)return n;n=b;return a};a.rotateLabels=function(b){if(!arguments.length)return p;p=b;return a};a.staggerLabels=function(b){if(!arguments.length)return l;l=b;return a};a.axisLabelDistance=function(b){if(!arguments.length)return q;q=b;return a};return a};c.models.historicalBar=function(){function a(z){z.each(function(a){var z=g-b.left-b.right,m=k-b.top-b.bottom,u=d3.select(this);f.domain(q||d3.extent(a[0].values.map(i).concat(p)));l?f.range(B||
[z*0.5/a[0].values.length,z*(a[0].values.length-0.5)/a[0].values.length]):f.range(B||[0,z]);e.domain(t||d3.extent(a[0].values.map(h).concat(n))).range(D||[m,0]);f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]-f.domain()[0]*0.01,f.domain()[1]+f.domain()[1]*0.01]):f.domain([-1,1]));e.domain()[0]===e.domain()[1]&&(e.domain()[0]?e.domain([e.domain()[0]+e.domain()[0]*0.01,e.domain()[1]-e.domain()[1]*0.01]):e.domain([-1,1]));var v=u.selectAll("g.nv-wrap.nv-historicalBar-"+j).data([a[0].values]),
H=v.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+j),G=H.append("defs"),H=H.append("g"),C=v.select("g");H.append("g").attr("class","nv-bars");v.attr("transform","translate("+b.left+","+b.top+")");u.on("click",function(a,b){A.chartClick({data:a,index:b,pos:d3.event,id:j})});G.append("clipPath").attr("id","nv-chart-clip-path-"+j).append("rect");v.select("#nv-chart-clip-path-"+j+" rect").attr("width",z).attr("height",m);C.attr("clip-path",r?"url(#nv-chart-clip-path-"+j+")":"");m=
v.select(".nv-bars").selectAll(".nv-bar").data(function(a){return a},function(a,b){return i(a,b)});m.exit().remove();m.enter().append("rect").attr("x",0).attr("y",function(a,b){return c.utils.NaNtoZero(e(Math.max(0,h(a,b))))}).attr("height",function(a,b){return c.utils.NaNtoZero(Math.abs(e(h(a,b))-e(0)))}).attr("transform",function(b,e){return"translate("+(f(i(b,e))-z/a[0].values.length*0.45)+",0)"}).on("mouseover",function(b,c){if(s){d3.select(this).classed("hover",true);A.elementMouseover({point:b,
series:a[0],pos:[f(i(b,c)),e(h(b,c))],pointIndex:c,seriesIndex:0,e:d3.event})}}).on("mouseout",function(b,e){if(s){d3.select(this).classed("hover",false);A.elementMouseout({point:b,series:a[0],pointIndex:e,seriesIndex:0,e:d3.event})}}).on("click",function(a,b){if(s){A.elementClick({value:h(a,b),data:a,index:b,pos:[f(i(a,b)),e(h(a,b))],e:d3.event,id:j});d3.event.stopPropagation()}}).on("dblclick",function(a,b){if(s){A.elementDblClick({value:h(a,b),data:a,index:b,pos:[f(i(a,b)),e(h(a,b))],e:d3.event,
id:j});d3.event.stopPropagation()}});m.attr("fill",function(a,b){return o(a,b)}).attr("class",function(a,b,e){return(h(a,b)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+e+"-"+b}).transition().attr("transform",function(b,e){return"translate("+(f(i(b,e))-z/a[0].values.length*0.45)+",0)"}).attr("width",z/a[0].values.length*0.9);m.transition().attr("y",function(a,b){var f=h(a,b)<0?e(0):e(0)-e(h(a,b))<1?e(0)-1:e(h(a,b));return c.utils.NaNtoZero(f)}).attr("height",function(a,b){return c.utils.NaNtoZero(Math.max(Math.abs(e(h(a,
b))-e(0)),1))})});return a}var b={top:0,right:0,bottom:0,left:0},g=960,k=500,j=Math.floor(Math.random()*1E4),f=d3.scale.linear(),e=d3.scale.linear(),i=function(a){return a.x},h=function(a){return a.y},p=[],n=[0],l=false,r=true,o=c.utils.defaultColor(),q,t,B,D,A=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),s=true;a.highlightPoint=function(a,b){d3.select(".nv-historicalBar-"+j).select(".nv-bars .nv-bar-0-"+a).classed("hover",b)};a.clearHighlights=function(){d3.select(".nv-historicalBar-"+
j).select(".nv-bars .nv-bar.hover").classed("hover",false)};a.dispatch=A;a.options=c.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return i;i=b;return a};a.y=function(b){if(!arguments.length)return h;h=b;return a};a.margin=function(e){if(!arguments.length)return b;b.top=typeof e.top!="undefined"?e.top:b.top;b.right=typeof e.right!="undefined"?e.right:b.right;b.bottom=typeof e.bottom!="undefined"?e.bottom:b.bottom;b.left=typeof e.left!="undefined"?e.left:b.left;return a};a.width=function(b){if(!arguments.length)return g;
g=b;return a};a.height=function(b){if(!arguments.length)return k;k=b;return a};a.xScale=function(b){if(!arguments.length)return f;f=b;return a};a.yScale=function(b){if(!arguments.length)return e;e=b;return a};a.xDomain=function(b){if(!arguments.length)return q;q=b;return a};a.yDomain=function(b){if(!arguments.length)return t;t=b;return a};a.xRange=function(b){if(!arguments.length)return B;B=b;return a};a.yRange=function(b){if(!arguments.length)return D;D=b;return a};a.forceX=function(b){if(!arguments.length)return p;
p=b;return a};a.forceY=function(b){if(!arguments.length)return n;n=b;return a};a.padData=function(b){if(!arguments.length)return l;l=b;return a};a.clipEdge=function(b){if(!arguments.length)return r;r=b;return a};a.color=function(b){if(!arguments.length)return o;o=c.utils.getColor(b);return a};a.id=function(b){if(!arguments.length)return j;j=b;return a};a.interactive=function(b){if(!arguments.length)return s;s=false;return a};return a};c.models.bullet=function(){function a(c){c.each(function(a,c){var g=
h-b.left-b.right,o=p-b.top-b.bottom,n=d3.select(this),s=j.call(this,a,c).slice().sort(d3.descending),z=f.call(this,a,c).slice().sort(d3.descending),w=e.call(this,a,c).slice().sort(d3.descending),x=(a.rangeLabels?a.rangeLabels:[]).slice(),m=(a.markerLabels?a.markerLabels:[]).slice(),u=(a.measureLabels?a.measureLabels:[]).slice(),v=d3.scale.linear().domain(d3.extent(d3.merge([i,s]))).range(k?[g,0]:[0,g]);this.__chart__||d3.scale.linear().domain([0,Infinity]).range(v.range());this.__chart__=v;var g=
d3.min(s),H=d3.max(s),s=s[1],n=n.selectAll("g.nv-wrap.nv-bullet").data([a]),G=n.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),C=n.select("g");G.append("rect").attr("class","nv-range nv-rangeMax");G.append("rect").attr("class","nv-range nv-rangeAvg");G.append("rect").attr("class","nv-range nv-rangeMin");G.append("rect").attr("class","nv-measure");G.append("path").attr("class","nv-markerTriangle");n.attr("transform","translate("+b.left+","+b.top+")");var G=function(a){return Math.abs(v(a)-
v(0))},F=function(a){return a<0?v(a):v(0)};C.select("rect.nv-rangeMax").attr("height",o).attr("width",G(H>0?H:g)).attr("x",F(H>0?H:g)).datum(H>0?H:g);C.select("rect.nv-rangeAvg").attr("height",o).attr("width",G(s)).attr("x",F(s)).datum(s);C.select("rect.nv-rangeMin").attr("height",o).attr("width",G(H)).attr("x",F(H)).attr("width",G(H>0?g:H)).attr("x",F(H>0?g:H)).datum(H>0?g:H);C.select("rect.nv-measure").style("fill",l).attr("height",o/3).attr("y",o/3).attr("width",w<0?v(0)-v(w[0]):v(w[0])-v(0)).attr("x",
F(w)).on("mouseover",function(){r.elementMouseover({value:w[0],label:u[0]||"Current",pos:[v(w[0]),o/2]})}).on("mouseout",function(){r.elementMouseout({value:w[0],label:u[0]||"Current"})});g=o/6;if(z[0])C.selectAll("path.nv-markerTriangle").attr("transform",function(){return"translate("+v(z[0])+","+o/2+")"}).attr("d","M0,"+g+"L"+g+","+-g+" "+-g+","+-g+"Z").on("mouseover",function(){r.elementMouseover({value:z[0],label:m[0]||"Previous",pos:[v(z[0]),o/2]})}).on("mouseout",function(){r.elementMouseout({value:z[0],
label:m[0]||"Previous"})});else C.selectAll("path.nv-markerTriangle").remove();n.selectAll(".nv-range").on("mouseover",function(a,b){r.elementMouseover({value:a,label:x[b]||(!b?"Maximum":b==1?"Mean":"Minimum"),pos:[v(a),o/2]})}).on("mouseout",function(a,b){r.elementMouseout({value:a,label:x[b]||(!b?"Maximum":b==1?"Mean":"Minimum")})})});return a}var b={top:0,right:0,bottom:0,left:0},g="left",k=false,j=function(a){return a.ranges},f=function(a){return a.markers},e=function(a){return a.measures},i=
[0],h=380,p=30,n=null,l=c.utils.getColor(["#1f77b4"]),r=d3.dispatch("elementMouseover","elementMouseout");a.dispatch=r;a.options=c.utils.optionsFunc.bind(a);a.orient=function(b){if(!arguments.length)return g;g=b;k=g=="right"||g=="bottom";return a};a.ranges=function(b){if(!arguments.length)return j;j=b;return a};a.markers=function(b){if(!arguments.length)return f;f=b;return a};a.measures=function(b){if(!arguments.length)return e;e=b;return a};a.forceX=function(b){if(!arguments.length)return i;i=b;
return a};a.width=function(b){if(!arguments.length)return h;h=b;return a};a.height=function(b){if(!arguments.length)return p;p=b;return a};a.margin=function(e){if(!arguments.length)return b;b.top=typeof e.top!="undefined"?e.top:b.top;b.right=typeof e.right!="undefined"?e.right:b.right;b.bottom=typeof e.bottom!="undefined"?e.bottom:b.bottom;b.left=typeof e.left!="undefined"?e.left:b.left;return a};a.tickFormat=function(b){if(!arguments.length)return n;n=b;return a};a.color=function(b){if(!arguments.length)return l;
l=c.utils.getColor(b);return a};return a};c.models.bulletChart=function(){function a(g){g.each(function(B,D){var A=d3.select(this),s=(h||parseInt(A.style("width"))||960)-j.left-j.right,z=p-j.top-j.bottom,w=this;a.update=function(){a(g)};a.container=this;if(!B||!f.call(this,B,D)){A=A.selectAll(".nv-noData").data([o]);A.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");A.attr("x",j.left+s/2).attr("y",18+j.top+z/2).text(function(a){return a});return a}A.selectAll(".nv-noData").remove();
var x=f.call(this,B,D).slice().sort(d3.descending),m=e.call(this,B,D).slice().sort(d3.descending),u=i.call(this,B,D).slice().sort(d3.descending),v=A.selectAll("g.nv-wrap.nv-bulletChart").data([B]),H=v.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),A=v.select("g");H.append("g").attr("class","nv-bulletWrap");H.append("g").attr("class","nv-titles");v.attr("transform","translate("+j.left+","+j.top+")");var G=d3.scale.linear().domain([0,Math.max(x[0],m[0],u[0])]).range(k?[s,
0]:[0,s]),C=this.__chart__||d3.scale.linear().domain([0,Infinity]).range(G.range());this.__chart__=G;x=H.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(p-j.top-j.bottom)/2+")");x.append("text").attr("class","nv-title").text(function(a){return a.title});x.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(a){return a.subtitle});b.width(s).height(z);x=A.select(".nv-bulletWrap");d3.transition(x).call(b);var F=n||G.tickFormat(s/100),
s=A.selectAll("g.nv-tick").data(G.ticks(s/50),function(a){return this.textContent||F(a)}),A=s.enter().append("g").attr("class","nv-tick").attr("transform",function(a){return"translate("+C(a)+",0)"}).style("opacity",1.0E-6);A.append("line").attr("y1",z).attr("y2",z*7/6);A.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",z*7/6).text(F);A=d3.transition(s).attr("transform",function(a){return"translate("+G(a)+",0)"}).style("opacity",1);A.select("line").attr("y1",z).attr("y2",z*7/6);
A.select("text").attr("y",z*7/6);d3.transition(s.exit()).attr("transform",function(a){return"translate("+G(a)+",0)"}).style("opacity",1.0E-6).remove();q.on("tooltipShow",function(b){b.key=B.title;if(l){var e=w.parentNode,f=b.pos[0]+(e.offsetLeft||0)+j.left,y=b.pos[1]+(e.offsetTop||0)+j.top,g=r(b.key,b.label,b.value,b,a);c.tooltip.show([f,y],g,b.value<0?"e":"w",null,e)}})});d3.timer.flush();return a}var b=c.models.bullet(),g="left",k=false,j={top:5,right:40,bottom:20,left:120},f=function(a){return a.ranges},
e=function(a){return a.markers},i=function(a){return a.measures},h=null,p=55,n=null,l=true,r=function(a,b,e){return"<h3>"+b+"</h3><p>"+e+"</p>"},o="No Data Available.",q=d3.dispatch("tooltipShow","tooltipHide");b.dispatch.on("elementMouseover.tooltip",function(a){q.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){q.tooltipHide(a)});q.on("tooltipHide",function(){l&&c.tooltip.cleanup()});a.dispatch=q;a.bullet=b;d3.rebind(a,b,"color");a.options=c.utils.optionsFunc.bind(a);a.orient=
function(b){if(!arguments.length)return g;g=b;k=g=="right"||g=="bottom";return a};a.ranges=function(b){if(!arguments.length)return f;f=b;return a};a.markers=function(b){if(!arguments.length)return e;e=b;return a};a.measures=function(b){if(!arguments.length)return i;i=b;return a};a.width=function(b){if(!arguments.length)return h;h=b;return a};a.height=function(b){if(!arguments.length)return p;p=b;return a};a.margin=function(b){if(!arguments.length)return j;j.top=typeof b.top!="undefined"?b.top:j.top;
j.right=typeof b.right!="undefined"?b.right:j.right;j.bottom=typeof b.bottom!="undefined"?b.bottom:j.bottom;j.left=typeof b.left!="undefined"?b.left:j.left;return a};a.tickFormat=function(b){if(!arguments.length)return n;n=b;return a};a.tooltips=function(b){if(!arguments.length)return l;l=b;return a};a.tooltipContent=function(b){if(!arguments.length)return r;r=b;return a};a.noData=function(b){if(!arguments.length)return o;o=b;return a};return a};c.models.cumulativeLineChart=function(){function a(y){y.each(function(y){function E(){V.data([I]);
var b=a.transitionDuration();a.transitionDuration(0);a.update();a.transitionDuration(b)}var K=d3.select(this).classed("nv-chart-"+m,true),T=this,J=(n||parseInt(K.style("width"))||960)-h.left-h.right,S=(l||parseInt(K.style("height"))||400)-h.top-h.bottom;a.update=function(){K.transition().duration(F).call(a)};a.container=this;u.disabled=y.map(function(a){return!!a.disabled});if(!v){var R;v={};for(R in u)v[R]=u[R]instanceof Array?u[R].slice(0):u[R]}R=d3.behavior.drag().on("dragstart",function(){d3.select(a.container).style("cursor",
"ew-resize")}).on("drag",function(){I.x=d3.event.x;I.i=Math.round(M.invert(I.x));E()}).on("dragend",function(){d3.select(a.container).style("cursor","auto");u.index=I.i;C.stateChange(u)});if(!y||!y.length||!y.filter(function(a){return a.values.length}).length){R=K.selectAll(".nv-noData").data([H]);R.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");R.attr("x",h.left+J/2).attr("y",h.top+S/2).text(function(a){return a});return a}K.selectAll(".nv-noData").remove();
w=g.xScale();x=g.yScale();if(s)g.yDomain(null);else{var P=y.filter(function(a){return!a.disabled}).map(function(a){a=d3.extent(a.values,g.y());a[0]<-0.95&&(a[0]=-0.95);return[(a[0]-a[1])/(1+a[1]),(a[1]-a[0])/(1+a[0])]}),P=[d3.min(P,function(a){return a[0]}),d3.max(P,function(a){return a[1]})];g.yDomain(P)}M.domain([0,y[0].values.length-1]).range([0,J]).clamp(true);var y=b(I.i,y),L=A?"none":"all",U=K.selectAll("g.nv-wrap.nv-cumulativeLine").data([y]),O=U.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),
P=U.select("g");O.append("g").attr("class","nv-interactive");O.append("g").attr("class","nv-x nv-axis").style("pointer-events","none");O.append("g").attr("class","nv-y nv-axis");O.append("g").attr("class","nv-background");O.append("g").attr("class","nv-linesWrap").style("pointer-events",L);O.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none");O.append("g").attr("class","nv-legendWrap");O.append("g").attr("class","nv-controlsWrap");if(r){f.width(J);P.select(".nv-legendWrap").datum(y).call(f);
if(h.top!=f.height()){h.top=f.height();S=(l||parseInt(K.style("height"))||400)-h.top-h.bottom}P.select(".nv-legendWrap").attr("transform","translate(0,"+-h.top+")")}if(D){L=[{key:"Re-scale y-axis",disabled:!s}];e.width(140).color(["#444","#444","#444"]).rightAlign(false).margin({top:5,right:0,bottom:5,left:20});P.select(".nv-controlsWrap").datum(L).attr("transform","translate(0,"+-h.top+")").call(e)}U.attr("transform","translate("+h.left+","+h.top+")");t&&P.select(".nv-y.nv-axis").attr("transform",
"translate("+J+",0)");L=y.filter(function(a){return a.tempDisabled});U.select(".tempDisabled").remove();L.length&&U.append("text").attr("class","tempDisabled").attr("x",J/2).attr("y","-.71em").style("text-anchor","end").text(L.map(function(a){return a.key}).join(", ")+" values cannot be calculated for this time period.");if(A){i.width(J).height(S).margin({left:h.left,top:h.top}).svgContainer(K).xScale(w);U.select(".nv-interactive").call(i)}O.select(".nv-background").append("rect");P.select(".nv-background rect").attr("width",
J).attr("height",S);g.y(function(a){return a.display.y}).width(J).height(S).color(y.map(function(a,b){return a.color||p(a,b)}).filter(function(a,b){return!y[b].disabled&&!y[b].tempDisabled}));U=P.select(".nv-linesWrap").datum(y.filter(function(a){return!a.disabled&&!a.tempDisabled}));U.call(g);y.forEach(function(a,b){a.seriesIndex=b});O=y.filter(function(a){return!a.disabled&&!!G(a)});O=P.select(".nv-avgLinesWrap").selectAll("line").data(O,function(a){return a.key});L=function(a){a=x(G(a));return a<
0?0:a>S?S:a};O.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(a){return g.color()(a,a.seriesIndex)}).attr("x1",0).attr("x2",J).attr("y1",L).attr("y2",L);O.style("stroke-opacity",function(a){a=x(G(a));return a<0||a>S?0:1}).attr("x1",0).attr("x2",J).attr("y1",L).attr("y2",L);O.exit().remove();var V=U.selectAll(".nv-indexLine").data([I]);V.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",
0.5).style("pointer-events","all").call(R);V.attr("transform",function(a){return"translate("+M(a.i)+",0)"}).attr("height",S);if(o){k.scale(w).ticks(Math.min(y[0].values.length,J/70)).tickSize(-S,0);P.select(".nv-x.nv-axis").attr("transform","translate(0,"+x.range()[0]+")");d3.transition(P.select(".nv-x.nv-axis")).call(k)}if(q){j.scale(x).ticks(S/36).tickSize(-J,0);d3.transition(P.select(".nv-y.nv-axis")).call(j)}P.select(".nv-background rect").on("click",function(){I.x=d3.mouse(this)[0];I.i=Math.round(M.invert(I.x));
u.index=I.i;C.stateChange(u);E()});g.dispatch.on("elementClick",function(a){I.i=a.pointIndex;I.x=M(I.i);u.index=I.i;C.stateChange(u);E()});e.dispatch.on("legendClick",function(b){b.disabled=!b.disabled;s=!b.disabled;u.rescaleY=s;C.stateChange(u);a.update()});f.dispatch.on("stateChange",function(b){u.disabled=b.disabled;C.stateChange(u);a.update()});i.dispatch.on("elementMousemove",function(b){g.clearHighlights();var e,f,m,u=[];y.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(y,
v){f=c.interactiveBisect(y.values,b.pointXValue,a.x());g.highlightPoint(v,f,true);var Q=y.values[f];if(typeof Q!=="undefined"){typeof e==="undefined"&&(e=Q);typeof m==="undefined"&&(m=a.xScale()(a.x()(Q,f)));u.push({key:y.key,value:a.y()(Q,f),color:p(y,y.seriesIndex)})}});if(u.length>2){var v=a.yScale().invert(b.mouseY),H=0.03*Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]),v=c.nearestValueIndex(u.map(function(a){return a.value}),v,H);if(v!==null)u[v].highlight=true}v=k.tickFormat()(a.x()(e,
f),f);i.tooltip.position({left:m+h.left,top:b.mouseY+h.top}).chartContainer(T.parentNode).enabled(B).valueFormatter(function(a){return j.tickFormat()(a)}).data({value:v,series:u})();i.renderGuideLine(m)});i.dispatch.on("elementMouseout",function(){C.tooltipHide();g.clearHighlights()});C.on("tooltipShow",function(b){if(B){var y=T.parentNode,e=b.pos[0]+(y.offsetLeft||0),f=b.pos[1]+(y.offsetTop||0),m=k.tickFormat()(g.x()(b.point,b.pointIndex)),u=j.tickFormat()(g.y()(b.point,b.pointIndex)),b=z(b.series.key,
m,u,b,a);c.tooltip.show([e,f],b,null,null,y)}});C.on("changeState",function(b){if(typeof b.disabled!=="undefined"){y.forEach(function(a,y){a.disabled=b.disabled[y]});u.disabled=b.disabled}if(typeof b.index!=="undefined"){I.i=b.index;I.x=M(I.i);u.index=b.index;V.data([I])}if(typeof b.rescaleY!=="undefined")s=b.rescaleY;a.update()})});return a}function b(a,b){return b.map(function(b){if(!b.values)return b;var e=b.values[a];if(e==null)return b;var c=g.y()(e,a);if(c<-0.95&&!E){b.tempDisabled=true;return b}b.tempDisabled=
false;b.values=b.values.map(function(a,b){a.display={y:(g.y()(a,b)-c)/(1+c)};return a});return b})}var g=c.models.line(),k=c.models.axis(),j=c.models.axis(),f=c.models.legend(),e=c.models.legend(),i=c.interactiveGuideline(),h={top:30,right:30,bottom:50,left:60},p=c.utils.defaultColor(),n=null,l=null,r=true,o=true,q=true,t=false,B=true,D=true,A=false,s=true,z=function(a,b,e){return"<h3>"+a+"</h3><p>"+e+" at "+b+"</p>"},w,x,m=g.id(),u={index:0,rescaleY:s},v=null,H="No Data Available.",G=function(a){return a.average},
C=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),F=250,E=false;k.orient("bottom").tickPadding(7);j.orient(t?"right":"left");e.updateState(false);var M=d3.scale.linear(),I={i:0,x:0};g.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+h.left,a.pos[1]+h.top];C.tooltipShow(a)});g.dispatch.on("elementMouseout.tooltip",function(a){C.tooltipHide(a)});C.on("tooltipHide",function(){B&&c.tooltip.cleanup()});a.dispatch=C;a.lines=g;a.legend=f;a.xAxis=k;a.yAxis=j;a.interactiveLayer=
i;d3.rebind(a,g,"defined","isArea","x","y","xScale","yScale","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","useVoronoi","id");a.options=c.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return h;h.top=typeof b.top!="undefined"?b.top:h.top;h.right=typeof b.right!="undefined"?b.right:h.right;h.bottom=typeof b.bottom!="undefined"?b.bottom:h.bottom;h.left=typeof b.left!="undefined"?b.left:h.left;return a};a.width=function(b){if(!arguments.length)return n;
n=b;return a};a.height=function(b){if(!arguments.length)return l;l=b;return a};a.color=function(b){if(!arguments.length)return p;p=c.utils.getColor(b);f.color(p);return a};a.rescaleY=function(b){if(!arguments.length)return s;s=b;return a};a.showControls=function(b){if(!arguments.length)return D;D=b;return a};a.useInteractiveGuideline=function(b){if(!arguments.length)return A;A=b;if(b===true){a.interactive(false);a.useVoronoi(false)}return a};a.showLegend=function(b){if(!arguments.length)return r;
r=b;return a};a.showXAxis=function(b){if(!arguments.length)return o;o=b;return a};a.showYAxis=function(b){if(!arguments.length)return q;q=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return t;t=b;j.orient(b?"right":"left");return a};a.tooltips=function(b){if(!arguments.length)return B;B=b;return a};a.tooltipContent=function(b){if(!arguments.length)return z;z=b;return a};a.state=function(b){if(!arguments.length)return u;u=b;return a};a.defaultState=function(b){if(!arguments.length)return v;
v=b;return a};a.noData=function(b){if(!arguments.length)return H;H=b;return a};a.average=function(b){if(!arguments.length)return G;G=b;return a};a.transitionDuration=function(b){if(!arguments.length)return F;F=b;return a};a.noErrorCheck=function(b){if(!arguments.length)return E;E=b;return a};return a};c.models.discreteBar=function(){function a(c){c.each(function(a){var c=g-b.left-b.right,m=k-b.top-b.bottom,u=d3.select(this);a.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});var v=
o&&q?[]:a.map(function(a){return a.values.map(function(a,b){return{x:i(a,b),y:h(a,b),y0:a.y0}})});f.domain(o||d3.merge(v).map(function(a){return a.x})).rangeBands(t||[0,c],0.1);e.domain(q||d3.extent(d3.merge(v).map(function(a){return a.y}).concat(p)));l?e.range(B||[m-(e.domain()[0]<0?12:0),e.domain()[1]>0?12:0]):e.range(B||[m,0]);s=s||e.copy().range([e(0),e(0)]);c=u.selectAll("g.nv-wrap.nv-discretebar").data([a]);m=c.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar").append("g");c.select("g");
m.append("g").attr("class","nv-groups");c.attr("transform","translate("+b.left+","+b.top+")");c=c.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});c.enter().append("g").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6);c.exit().transition().style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6).remove();c.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover});c.transition().style("stroke-opacity",
1).style("fill-opacity",0.75);c=c.selectAll("g.nv-bar").data(function(a){return a.values});c.exit().remove();m=c.enter().append("g").attr("transform",function(a,b){return"translate("+(f(i(a,b))+f.rangeBand()*0.05)+", "+e(0)+")"}).on("mouseover",function(b,c){d3.select(this).classed("hover",true);D.elementMouseover({value:h(b,c),point:b,series:a[b.series],pos:[f(i(b,c))+f.rangeBand()*(b.series+0.5)/a.length,e(h(b,c))],pointIndex:c,seriesIndex:b.series,e:d3.event})}).on("mouseout",function(b,e){d3.select(this).classed("hover",
false);D.elementMouseout({value:h(b,e),point:b,series:a[b.series],pointIndex:e,seriesIndex:b.series,e:d3.event})}).on("click",function(b,c){D.elementClick({value:h(b,c),point:b,series:a[b.series],pos:[f(i(b,c))+f.rangeBand()*(b.series+0.5)/a.length,e(h(b,c))],pointIndex:c,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",function(b,c){D.elementDblClick({value:h(b,c),point:b,series:a[b.series],pos:[f(i(b,c))+f.rangeBand()*(b.series+0.5)/a.length,e(h(b,c))],pointIndex:c,seriesIndex:b.series,
e:d3.event});d3.event.stopPropagation()});m.append("rect").attr("height",0).attr("width",f.rangeBand()*0.9/a.length);if(l){m.append("text").attr("text-anchor","middle");c.select("text").text(function(a,b){return r(h(a,b))}).transition().attr("x",f.rangeBand()*0.9/2).attr("y",function(a,b){return h(a,b)<0?e(h(a,b))-e(0)+12:-4})}else c.selectAll("text").remove();c.attr("class",function(a,b){return h(a,b)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(a,b){return a.color||n(a,b)}).style("stroke",
function(a,b){return a.color||n(a,b)}).select("rect").attr("class",A).transition().attr("width",f.rangeBand()*0.9/a.length);c.transition().attr("transform",function(a,b){var c=f(i(a,b))+f.rangeBand()*0.05,m=h(a,b)<0?e(0):e(0)-e(h(a,b))<1?e(0)-1:e(h(a,b));return"translate("+c+", "+m+")"}).select("rect").attr("height",function(a,b){return Math.max(Math.abs(e(h(a,b))-e(q&&q[0]||0))||1)});f.copy();s=e.copy()});return a}var b={top:0,right:0,bottom:0,left:0},g=960,k=500,j=Math.floor(Math.random()*1E4),
f=d3.scale.ordinal(),e=d3.scale.linear(),i=function(a){return a.x},h=function(a){return a.y},p=[0],n=c.utils.defaultColor(),l=false,r=d3.format(",.2f"),o,q,t,B,D=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),A="discreteBar",s;a.dispatch=D;a.options=c.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return i;i=b;return a};a.y=function(b){if(!arguments.length)return h;h=b;return a};a.margin=function(c){if(!arguments.length)return b;b.top=
typeof c.top!="undefined"?c.top:b.top;b.right=typeof c.right!="undefined"?c.right:b.right;b.bottom=typeof c.bottom!="undefined"?c.bottom:b.bottom;b.left=typeof c.left!="undefined"?c.left:b.left;return a};a.width=function(b){if(!arguments.length)return g;g=b;return a};a.height=function(b){if(!arguments.length)return k;k=b;return a};a.xScale=function(b){if(!arguments.length)return f;f=b;return a};a.yScale=function(b){if(!arguments.length)return e;e=b;return a};a.xDomain=function(b){if(!arguments.length)return o;
o=b;return a};a.yDomain=function(b){if(!arguments.length)return q;q=b;return a};a.xRange=function(b){if(!arguments.length)return t;t=b;return a};a.yRange=function(b){if(!arguments.length)return B;B=b;return a};a.forceY=function(b){if(!arguments.length)return p;p=b;return a};a.color=function(b){if(!arguments.length)return n;n=c.utils.getColor(b);return a};a.id=function(b){if(!arguments.length)return j;j=b;return a};a.showValues=function(b){if(!arguments.length)return l;l=b;return a};a.valueFormat=
function(b){if(!arguments.length)return r;r=b;return a};a.rectClass=function(b){if(!arguments.length)return A;A=b;return a};return a};c.models.discreteBarChart=function(){function a(i){i.each(function(i){var s=d3.select(this),x=this,m=(f||parseInt(s.style("width"))||960)-j.left-j.right,u=(e||parseInt(s.style("height"))||400)-j.top-j.bottom;a.update=function(){D.beforeUpdate();s.transition().duration(A).call(a)};a.container=this;if(!i||!i.length||!i.filter(function(a){return a.values.length}).length){i=
s.selectAll(".nv-noData").data([B]);i.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");i.attr("x",j.left+m/2).attr("y",j.top+u/2).text(function(a){return a});return a}s.selectAll(".nv-noData").remove();q=b.xScale();t=b.yScale().clamp(true);var v=s.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([i]),H=v.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),G=H.append("defs"),v=v.select("g");H.append("g").attr("class",
"nv-x nv-axis");H.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");H.append("g").attr("class","nv-barsWrap");v.attr("transform","translate("+j.left+","+j.top+")");n&&v.select(".nv-y.nv-axis").attr("transform","translate("+m+",0)");b.width(m).height(u);v.select(".nv-barsWrap").datum(i.filter(function(a){return!a.disabled})).transition().call(b);G.append("clipPath").attr("id","nv-x-label-clip-"+b.id()).append("rect");v.select("#nv-x-label-clip-"+b.id()+
" rect").attr("width",q.rangeBand()*(l?2:1)).attr("height",16).attr("x",-q.rangeBand()/(l?1:2));if(h){g.scale(q).ticks(m/100).tickSize(-u,0);v.select(".nv-x.nv-axis").attr("transform","translate(0,"+(t.range()[0]+(b.showValues()&&t.domain()[0]<0?16:0))+")");v.select(".nv-x.nv-axis").transition().call(g);i=v.select(".nv-x.nv-axis").selectAll("g");l&&i.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(c%2==0?"5":"17")+")"})}if(p){k.scale(t).ticks(u/36).tickSize(-m,0);v.select(".nv-y.nv-axis").transition().call(k)}v.select(".nv-zeroLine line").attr("x1",
0).attr("x2",m).attr("y1",t(0)).attr("y2",t(0));D.on("tooltipShow",function(e){if(r){var f=x.parentNode,m=e.pos[0]+(f.offsetLeft||0),u=e.pos[1]+(f.offsetTop||0),v=g.tickFormat()(b.x()(e.point,e.pointIndex)),y=k.tickFormat()(b.y()(e.point,e.pointIndex)),v=o(e.series.key,v,y,e,a);c.tooltip.show([m,u],v,e.value<0?"n":"s",null,f)}})});return a}var b=c.models.discreteBar(),g=c.models.axis(),k=c.models.axis(),j={top:15,right:10,bottom:50,left:60},f=null,e=null,i=c.utils.getColor(),h=true,p=true,n=false,
l=false,r=true,o=function(a,b,c){return"<h3>"+b+"</h3><p>"+c+"</p>"},q,t,B="No Data Available.",D=d3.dispatch("tooltipShow","tooltipHide","beforeUpdate"),A=250;g.orient("bottom").highlightZero(false).showMaxMin(false).tickFormat(function(a){return a});k.orient(n?"right":"left").tickFormat(d3.format(",.1f"));b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+j.left,a.pos[1]+j.top];D.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){D.tooltipHide(a)});D.on("tooltipHide",
function(){r&&c.tooltip.cleanup()});a.dispatch=D;a.discretebar=b;a.xAxis=g;a.yAxis=k;d3.rebind(a,b,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","id","showValues","valueFormat");a.options=c.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return j;j.top=typeof b.top!="undefined"?b.top:j.top;j.right=typeof b.right!="undefined"?b.right:j.right;j.bottom=typeof b.bottom!="undefined"?b.bottom:j.bottom;j.left=typeof b.left!="undefined"?b.left:j.left;return a};a.width=
function(b){if(!arguments.length)return f;f=b;return a};a.height=function(b){if(!arguments.length)return e;e=b;return a};a.color=function(e){if(!arguments.length)return i;i=c.utils.getColor(e);b.color(i);return a};a.showXAxis=function(b){if(!arguments.length)return h;h=b;return a};a.showYAxis=function(b){if(!arguments.length)return p;p=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return n;n=b;k.orient(b?"right":"left");return a};a.staggerLabels=function(b){if(!arguments.length)return l;
l=b;return a};a.tooltips=function(b){if(!arguments.length)return r;r=b;return a};a.tooltipContent=function(b){if(!arguments.length)return o;o=b;return a};a.noData=function(b){if(!arguments.length)return B;B=b;return a};a.transitionDuration=function(b){if(!arguments.length)return A;A=b;return a};return a};c.models.distribution=function(){function a(c){c.each(function(a){var c=j=="x"?"y":"x",g=d3.select(this);h=h||i;a=g.selectAll("g.nv-distribution").data([a]);a.enter().append("g").attr("class","nvd3 nv-distribution").append("g");
g=a.select("g");a.attr("transform","translate("+b.left+","+b.top+")");a=g.selectAll("g.nv-dist").data(function(a){return a},function(a){return a.key});a.enter().append("g");a.attr("class",function(a,b){return"nv-dist nv-series-"+b}).style("stroke",function(a,b){return e(a,b)});g=a.selectAll("line.nv-dist"+j).data(function(a){return a.values});g.enter().append("line").attr(j+"1",function(a,b){return h(f(a,b))}).attr(j+"2",function(a,b){return h(f(a,b))});a.exit().selectAll("line.nv-dist"+j).transition().attr(j+
"1",function(a,b){return i(f(a,b))}).attr(j+"2",function(a,b){return i(f(a,b))}).style("stroke-opacity",0).remove();g.attr("class",function(a,b){return"nv-dist"+j+" nv-dist"+j+"-"+b}).attr(c+"1",0).attr(c+"2",k);g.transition().attr(j+"1",function(a,b){return i(f(a,b))}).attr(j+"2",function(a,b){return i(f(a,b))});h=i.copy()});return a}var b={top:0,right:0,bottom:0,left:0},g=400,k=8,j="x",f=function(a){return a[j]},e=c.utils.defaultColor(),i=d3.scale.linear(),h;a.options=c.utils.optionsFunc.bind(a);
a.margin=function(c){if(!arguments.length)return b;b.top=typeof c.top!="undefined"?c.top:b.top;b.right=typeof c.right!="undefined"?c.right:b.right;b.bottom=typeof c.bottom!="undefined"?c.bottom:b.bottom;b.left=typeof c.left!="undefined"?c.left:b.left;return a};a.width=function(b){if(!arguments.length)return g;g=b;return a};a.axis=function(b){if(!arguments.length)return j;j=b;return a};a.size=function(b){if(!arguments.length)return k;k=b;return a};a.getData=function(b){if(!arguments.length)return f;
f=d3.functor(b);return a};a.scale=function(b){if(!arguments.length)return i;i=b;return a};a.color=function(b){if(!arguments.length)return e;e=c.utils.getColor(b);return a};return a};c.models.historicalBarChart=function(){function a(x){x.each(function(m){var u=d3.select(this),v=this,H=(i||parseInt(u.style("width"))||960)-f.left-f.right,G=(h||parseInt(u.style("height"))||400)-f.top-f.bottom;a.update=function(){u.transition().duration(w).call(a)};a.container=this;D.disabled=m.map(function(a){return!!a.disabled});
if(!A){var C;A={};for(C in D)A[C]=D[C]instanceof Array?D[C].slice(0):D[C]}if(!m||!m.length||!m.filter(function(a){return a.values.length}).length){C=u.selectAll(".nv-noData").data([s]);C.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");C.attr("x",f.left+H/2).attr("y",f.top+G/2).text(function(a){return a});return a}u.selectAll(".nv-noData").remove();t=b.xScale();B=b.yScale();var F=u.selectAll("g.nv-wrap.nv-historicalBarChart").data([m]);C=F.enter().append("g").attr("class",
"nvd3 nv-wrap nv-historicalBarChart").append("g");var E=F.select("g");C.append("g").attr("class","nv-x nv-axis");C.append("g").attr("class","nv-y nv-axis");C.append("g").attr("class","nv-barsWrap");C.append("g").attr("class","nv-legendWrap");if(p){j.width(H);E.select(".nv-legendWrap").datum(m).call(j);if(f.top!=j.height()){f.top=j.height();G=(h||parseInt(u.style("height"))||400)-f.top-f.bottom}F.select(".nv-legendWrap").attr("transform","translate(0,"+-f.top+")")}F.attr("transform","translate("+f.left+
","+f.top+")");r&&E.select(".nv-y.nv-axis").attr("transform","translate("+H+",0)");b.width(H).height(G).color(m.map(function(a,b){return a.color||e(a,b)}).filter(function(a,b){return!m[b].disabled}));E.select(".nv-barsWrap").datum(m.filter(function(a){return!a.disabled})).transition().call(b);if(n){g.scale(t).tickSize(-G,0);E.select(".nv-x.nv-axis").attr("transform","translate(0,"+B.range()[0]+")");E.select(".nv-x.nv-axis").transition().call(g)}if(l){k.scale(B).ticks(G/36).tickSize(-H,0);E.select(".nv-y.nv-axis").transition().call(k)}j.dispatch.on("legendClick",
function(b){b.disabled=!b.disabled;m.filter(function(a){return!a.disabled}).length||m.map(function(a){a.disabled=false;F.selectAll(".nv-series").classed("disabled",false);return a});D.disabled=m.map(function(a){return!!a.disabled});z.stateChange(D);x.transition().call(a)});j.dispatch.on("legendDblclick",function(b){m.forEach(function(a){a.disabled=true});b.disabled=false;D.disabled=m.map(function(a){return!!a.disabled});z.stateChange(D);a.update()});z.on("tooltipShow",function(e){if(o){var f=v.parentNode;
if(f){var y=d3.select(f).select("svg"),m=y.node()?y.attr("viewBox"):null;if(m){m=m.split(" ");y=parseInt(y.style("width"))/m[2];e.pos[0]=e.pos[0]*y;e.pos[1]=e.pos[1]*y}}var y=e.pos[0]+(f.offsetLeft||0),m=e.pos[1]+(f.offsetTop||0),u=g.tickFormat()(b.x()(e.point,e.pointIndex)),h=k.tickFormat()(b.y()(e.point,e.pointIndex)),e=q(e.series.key,u,h,e,a);c.tooltip.show([y,m],e,null,null,f)}});z.on("changeState",function(b){if(typeof b.disabled!=="undefined"){m.forEach(function(a,c){a.disabled=b.disabled[c]});
D.disabled=b.disabled}a.update()})});return a}var b=c.models.historicalBar(),g=c.models.axis(),k=c.models.axis(),j=c.models.legend(),f={top:30,right:90,bottom:50,left:90},e=c.utils.defaultColor(),i=null,h=null,p=false,n=true,l=true,r=false,o=true,q=function(a,b,c){return"<h3>"+a+"</h3><p>"+c+" at "+b+"</p>"},t,B,D={},A=null,s="No Data Available.",z=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),w=250;g.orient("bottom").tickPadding(7);k.orient(r?"right":"left");b.dispatch.on("elementMouseover.tooltip",
function(a){a.pos=[a.pos[0]+f.left,a.pos[1]+f.top];z.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){z.tooltipHide(a)});z.on("tooltipHide",function(){o&&c.tooltip.cleanup()});a.dispatch=z;a.bars=b;a.legend=j;a.xAxis=g;a.yAxis=k;d3.rebind(a,b,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id","interpolate","highlightPoint","clearHighlights","interactive");a.options=c.utils.optionsFunc.bind(a);
a.margin=function(b){if(!arguments.length)return f;f.top=typeof b.top!="undefined"?b.top:f.top;f.right=typeof b.right!="undefined"?b.right:f.right;f.bottom=typeof b.bottom!="undefined"?b.bottom:f.bottom;f.left=typeof b.left!="undefined"?b.left:f.left;return a};a.width=function(b){if(!arguments.length)return i;i=b;return a};a.height=function(b){if(!arguments.length)return h;h=b;return a};a.color=function(b){if(!arguments.length)return e;e=c.utils.getColor(b);j.color(e);return a};a.showLegend=function(b){if(!arguments.length)return p;
p=b;return a};a.showXAxis=function(b){if(!arguments.length)return n;n=b;return a};a.showYAxis=function(b){if(!arguments.length)return l;l=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return r;r=b;k.orient(b?"right":"left");return a};a.tooltips=function(b){if(!arguments.length)return o;o=b;return a};a.tooltipContent=function(b){if(!arguments.length)return q;q=b;return a};a.state=function(b){if(!arguments.length)return D;D=b;return a};a.defaultState=function(b){if(!arguments.length)return A;
A=b;return a};a.noData=function(b){if(!arguments.length)return s;s=b;return a};a.transitionDuration=function(b){if(!arguments.length)return w;w=b;return a};return a};c.models.indentedTree=function(){function a(b){b.each(function(b){function c(b,e,f){d3.event.stopPropagation();if(d3.event.shiftKey&&!f){d3.event.shiftKey=false;b.values&&b.values.forEach(function(a){(a.values||a._values)&&c(a,0,true)});return true}if(!j(b))return true;if(b.values){b._values=b.values;b.values=null}else{b.values=b._values;
b._values=null}a.update()}function f(a){return a._values&&a._values.length?r:a.values&&a.values.length?o:""}function g(a){return a._values&&a._values.length}function j(a){return(a=a.values||a._values)&&a.length}var m=1,u=d3.select(this),v=d3.layout.tree().children(function(a){return a.values}).size([k,p]);a.update=function(){u.transition().duration(600).call(a)};b[0]||(b[0]={key:h});var m=v.nodes(b[0]),H=d3.select(this).selectAll("div").data([[m]]),b=H.enter().append("div").attr("class","nvd3 nv-wrap nv-indentedtree").append("table"),
H=H.select("table").attr("width","100%").attr("class",l);if(e){var G=b.append("thead").append("tr");n.forEach(function(a){G.append("th").attr("width",a.width?a.width:"10%").style("text-align",a.type=="numeric"?"right":"left").append("span").text(a.label)})}b=H.selectAll("tbody").data(function(a){return a});b.enter().append("tbody");m=d3.max(m,function(a){return a.depth});v.size([k,m*p]);var C=b.selectAll("tr").data(function(a){return a.filter(function(a){return i&&!a.children?i(a):true})},function(a){return a.id||
a.id||++B});C.exit().remove();C.select("img.nv-treeicon").attr("src",f).classed("folded",g);var D=C.enter().append("tr");n.forEach(function(a,b){var e=D.append("td").style("padding-left",function(a){return(b?0:a.depth*p+12+(f(a)?0:16))+"px"},"important").style("text-align",a.type=="numeric"?"right":"left");if(b==0)e.append("img").classed("nv-treeicon",true).classed("nv-folded",g).attr("src",f).style("width","14px").style("height","14px").style("padding","0 1px").style("display",function(a){return f(a)?
"inline-block":"none"}).on("click",c);e.each(function(c){!b&&t(c)?d3.select(this).append("a").attr("href",t).attr("class",d3.functor(a.classes)).append("span"):d3.select(this).append("span");d3.select(this).select("span").attr("class",d3.functor(a.classes)).text(function(b){return a.format?a.format(b):b[a.key]||"-"})});if(a.showCount){e.append("span").attr("class","nv-childrenCount");C.selectAll("span.nv-childrenCount").text(function(a){return a.values&&a.values.length||a._values&&a._values.length?
"("+(a.values&&a.values.filter(function(a){return i?i(a):true}).length||a._values&&a._values.filter(function(a){return i?i(a):true}).length||0)+")":""})}});C.order().on("click",function(a){q.elementClick({row:this,data:a,pos:[a.x,a.y]})}).on("dblclick",function(a){q.elementDblclick({row:this,data:a,pos:[a.x,a.y]})}).on("mouseover",function(a){q.elementMouseover({row:this,data:a,pos:[a.x,a.y]})}).on("mouseout",function(a){q.elementMouseout({row:this,data:a,pos:[a.x,a.y]})})});return a}var b={top:0,
right:0,bottom:0,left:0},g=960,k=500,j=c.utils.defaultColor(),f=Math.floor(Math.random()*1E4),e=true,i=false,h="No Data Available.",p=20,n=[{key:"key",label:"Name",type:"text"}],l=null,r="images/grey-plus.png",o="images/grey-minus.png",q=d3.dispatch("elementClick","elementDblclick","elementMouseover","elementMouseout"),t=function(a){return a.url},B=0;a.options=c.utils.optionsFunc.bind(a);a.margin=function(c){if(!arguments.length)return b;b.top=typeof c.top!="undefined"?c.top:b.top;b.right=typeof c.right!=
"undefined"?c.right:b.right;b.bottom=typeof c.bottom!="undefined"?c.bottom:b.bottom;b.left=typeof c.left!="undefined"?c.left:b.left;return a};a.width=function(b){if(!arguments.length)return g;g=b;return a};a.height=function(b){if(!arguments.length)return k;k=b;return a};a.color=function(b){if(!arguments.length)return j;j=c.utils.getColor(b);scatter.color(j);return a};a.id=function(b){if(!arguments.length)return f;f=b;return a};a.header=function(b){if(!arguments.length)return e;e=b;return a};a.noData=
function(b){if(!arguments.length)return h;h=b;return a};a.filterZero=function(b){if(!arguments.length)return i;i=b;return a};a.columns=function(b){if(!arguments.length)return n;n=b;return a};a.tableClass=function(b){if(!arguments.length)return l;l=b;return a};a.iconOpen=function(b){if(!arguments.length)return r;r=b;return a};a.iconClose=function(b){if(!arguments.length)return o;o=b;return a};a.getUrl=function(b){if(!arguments.length)return t;t=b;return a};return a};c.models.legend=function(){function a(l){l.each(function(a){var l=
g-b.left-b.right,q=d3.select(this).selectAll("g.nv-legend").data([a]);q.enter().append("g").attr("class","nvd3 nv-legend").append("g");var t=q.select("g");q.attr("transform","translate("+b.left+","+b.top+")");var q=t.selectAll(".nv-series").data(function(a){return a}),B=q.enter().append("g").attr("class","nv-series").on("mouseover",function(a,b){n.legendMouseover(a,b)}).on("mouseout",function(a,b){n.legendMouseout(a,b)}).on("click",function(b,c){n.legendClick(b,c);if(h){if(p){a.forEach(function(a){a.disabled=
true});b.disabled=false}else{b.disabled=!b.disabled;a.every(function(a){return a.disabled})&&a.forEach(function(a){a.disabled=false})}n.stateChange({disabled:a.map(function(a){return!!a.disabled})})}}).on("dblclick",function(b,c){n.legendDblclick(b,c);if(h){a.forEach(function(a){a.disabled=true});b.disabled=false;n.stateChange({disabled:a.map(function(a){return!!a.disabled})})}});B.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5);B.append("text").attr("text-anchor",
"start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");q.classed("disabled",function(a){return a.disabled});q.exit().remove();q.select("circle").style("fill",function(a,b){return a.color||f(a,b)}).style("stroke",function(a,b){return a.color||f(a,b)});q.select("text").text(j);if(e){var D=[];q.each(function(){var a=d3.select(this).select("text"),b;try{b=a.getComputedTextLength();if(b<=0)throw Error();}catch(e){b=c.utils.calcApproxTextWidth(a)}D.push(b+28)});for(var A=0,s=0,B=[];s<
l&&A<D.length;){B[A]=D[A];s=s+D[A++]}for(A===0&&(A=1);s>l&&A>1;){B=[];A--;for(s=0;s<D.length;s++)if(D[s]>(B[s%A]||0))B[s%A]=D[s];s=B.reduce(function(a,b){return a+b})}for(var z=[],w=l=0;l<A;l++){z[l]=w;w=w+B[l]}q.attr("transform",function(a,b){return"translate("+z[b%A]+","+(5+Math.floor(b/A)*20)+")"});i?t.attr("transform","translate("+(g-b.right-s)+","+b.top+")"):t.attr("transform","translate(0,"+b.top+")");k=b.top+b.bottom+Math.ceil(D.length/A)*20}else{var x=5,m=5,u=0,v;q.attr("transform",function(){var a=
d3.select(this).select("text").node().getComputedTextLength()+28;v=m;if(g<b.left+b.right+v+a){m=v=5;x=x+20}m=m+a;m>u&&(u=m);return"translate("+v+","+x+")"});t.attr("transform","translate("+(g-b.right-u)+","+b.top+")");k=b.top+b.bottom+x+15}});return a}var b={top:5,right:0,bottom:5,left:0},g=400,k=20,j=function(a){return a.key},f=c.utils.defaultColor(),e=true,i=true,h=true,p=false,n=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange");a.dispatch=n;a.options=
c.utils.optionsFunc.bind(a);a.margin=function(c){if(!arguments.length)return b;b.top=typeof c.top!="undefined"?c.top:b.top;b.right=typeof c.right!="undefined"?c.right:b.right;b.bottom=typeof c.bottom!="undefined"?c.bottom:b.bottom;b.left=typeof c.left!="undefined"?c.left:b.left;return a};a.width=function(b){if(!arguments.length)return g;g=b;return a};a.height=function(b){if(!arguments.length)return k;k=b;return a};a.key=function(b){if(!arguments.length)return j;j=b;return a};a.color=function(b){if(!arguments.length)return f;
f=c.utils.getColor(b);return a};a.align=function(b){if(!arguments.length)return e;e=b;return a};a.rightAlign=function(b){if(!arguments.length)return i;i=b;return a};a.updateState=function(b){if(!arguments.length)return h;h=b;return a};a.radioButtonMode=function(b){if(!arguments.length)return p;p=b;return a};return a};c.models.line=function(){function a(B){B.each(function(a){var B=k-g.left-g.right,s=j-g.top-g.bottom,z=d3.select(this);l=b.xScale();r=b.yScale();q=q||l;t=t||r;var a=z.selectAll("g.nv-wrap.nv-line").data([a]),
w=a.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),z=w.append("defs"),x=w.append("g"),w=a.select("g");x.append("g").attr("class","nv-groups");x.append("g").attr("class","nv-scatterWrap");a.attr("transform","translate("+g.left+","+g.top+")");b.width(B).height(s);x=a.select(".nv-scatterWrap");x.transition().call(b);z.append("clipPath").attr("id","nv-edge-clip-"+b.id()).append("rect");a.select("#nv-edge-clip-"+b.id()+" rect").attr("width",B).attr("height",s>0?s:0);w.attr("clip-path",n?"url(#nv-edge-clip-"+
b.id()+")":"");x.attr("clip-path",n?"url(#nv-edge-clip-"+b.id()+")":"");B=a.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});B.enter().append("g").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6);B.exit().remove();B.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return f(a,b)}).style("stroke",function(a,b){return f(a,b)});B.transition().style("stroke-opacity",
1).style("fill-opacity",0.5);s=B.selectAll("path.nv-area").data(function(a){return p(a)?[a]:[]});s.enter().append("path").attr("class","nv-area").attr("d",function(a){return d3.svg.area().interpolate(o).defined(h).x(function(a,b){return c.utils.NaNtoZero(q(e(a,b)))}).y0(function(a,b){return c.utils.NaNtoZero(t(i(a,b)))}).y1(function(){return t(r.domain()[0]<=0?r.domain()[1]>=0?0:r.domain()[1]:r.domain()[0])}).apply(this,[a.values])});B.exit().selectAll("path.nv-area").remove();s.transition().attr("d",
function(a){return d3.svg.area().interpolate(o).defined(h).x(function(a,b){return c.utils.NaNtoZero(l(e(a,b)))}).y0(function(a,b){return c.utils.NaNtoZero(r(i(a,b)))}).y1(function(){return r(r.domain()[0]<=0?r.domain()[1]>=0?0:r.domain()[1]:r.domain()[0])}).apply(this,[a.values])});B=B.selectAll("path.nv-line").data(function(a){return[a.values]});B.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(o).defined(h).x(function(a,b){return c.utils.NaNtoZero(q(e(a,b)))}).y(function(a,
b){return c.utils.NaNtoZero(t(i(a,b)))}));B.transition().attr("d",d3.svg.line().interpolate(o).defined(h).x(function(a,b){return c.utils.NaNtoZero(l(e(a,b)))}).y(function(a,b){return c.utils.NaNtoZero(r(i(a,b)))}));q=l.copy();t=r.copy()});return a}var b=c.models.scatter(),g={top:0,right:0,bottom:0,left:0},k=960,j=500,f=c.utils.defaultColor(),e=function(a){return a.x},i=function(a){return a.y},h=function(a,b){return!isNaN(i(a,b))&&i(a,b)!==null},p=function(a){return a.area},n=false,l,r,o="linear";
b.size(16).sizeDomain([16,256]);var q,t;a.dispatch=b.dispatch;a.scatter=b;d3.rebind(a,b,"id","interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","padData","highlightPoint","clearHighlights");a.options=c.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return g;g.top=typeof b.top!="undefined"?b.top:g.top;g.right=typeof b.right!="undefined"?b.right:g.right;g.bottom=
typeof b.bottom!="undefined"?b.bottom:g.bottom;g.left=typeof b.left!="undefined"?b.left:g.left;return a};a.width=function(b){if(!arguments.length)return k;k=b;return a};a.height=function(b){if(!arguments.length)return j;j=b;return a};a.x=function(c){if(!arguments.length)return e;e=c;b.x(c);return a};a.y=function(c){if(!arguments.length)return i;i=c;b.y(c);return a};a.clipEdge=function(b){if(!arguments.length)return n;n=b;return a};a.color=function(e){if(!arguments.length)return f;f=c.utils.getColor(e);
b.color(f);return a};a.interpolate=function(b){if(!arguments.length)return o;o=b;return a};a.defined=function(b){if(!arguments.length)return h;h=b;return a};a.isArea=function(b){if(!arguments.length)return p;p=d3.functor(b);return a};return a};c.models.lineChart=function(){function a(u){u.each(function(v){var u=d3.select(this),G=this,C=(h||parseInt(u.style("width"))||960)-e.left-e.right,F=(p||parseInt(u.style("height"))||400)-e.top-e.bottom;a.update=function(){u.transition().duration(m).call(a)};
a.container=this;s.disabled=v.map(function(a){return!!a.disabled});if(!z){var E;z={};for(E in s)z[E]=s[E]instanceof Array?s[E].slice(0):s[E]}if(!v||!v.length||!v.filter(function(a){return a.values.length}).length){E=u.selectAll(".nv-noData").data([w]);E.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");E.attr("x",e.left+C/2).attr("y",e.top+F/2).text(function(a){return a});return a}u.selectAll(".nv-noData").remove();D=b.xScale();A=b.yScale();E=u.selectAll("g.nv-wrap.nv-lineChart").data([v]);
var M=E.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),I=E.select("g");M.append("rect").style("opacity",0);M.append("g").attr("class","nv-x nv-axis");M.append("g").attr("class","nv-y nv-axis");M.append("g").attr("class","nv-linesWrap");M.append("g").attr("class","nv-legendWrap");M.append("g").attr("class","nv-interactive");I.select("rect").attr("width",C).attr("height",F>0?F:0);if(n){j.width(C);I.select(".nv-legendWrap").datum(v).call(j);if(e.top!=j.height()){e.top=j.height();
F=(p||parseInt(u.style("height"))||400)-e.top-e.bottom}E.select(".nv-legendWrap").attr("transform","translate(0,"+-e.top+")")}E.attr("transform","translate("+e.left+","+e.top+")");o&&I.select(".nv-y.nv-axis").attr("transform","translate("+C+",0)");if(q){f.width(C).height(F).margin({left:e.left,top:e.top}).svgContainer(u).xScale(D);E.select(".nv-interactive").call(f)}b.width(C).height(F).color(v.map(function(a,b){return a.color||i(a,b)}).filter(function(a,b){return!v[b].disabled}));I.select(".nv-linesWrap").datum(v.filter(function(a){return!a.disabled})).transition().call(b);
if(l){g.scale(D).ticks(C/100).tickSize(-F,0);I.select(".nv-x.nv-axis").attr("transform","translate(0,"+A.range()[0]+")");I.select(".nv-x.nv-axis").transition().call(g)}if(r){k.scale(A).ticks(F/36).tickSize(-C,0);I.select(".nv-y.nv-axis").transition().call(k)}j.dispatch.on("stateChange",function(b){s=b;x.stateChange(s);a.update()});f.dispatch.on("elementMousemove",function(y){b.clearHighlights();var m,u,h,j=[];v.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(e,f){u=c.interactiveBisect(e.values,
y.pointXValue,a.x());b.highlightPoint(f,u,true);var g=e.values[u];if(typeof g!=="undefined"){typeof m==="undefined"&&(m=g);typeof h==="undefined"&&(h=a.xScale()(a.x()(g,u)));j.push({key:e.key,value:a.y()(g,u),color:i(e,e.seriesIndex)})}});if(j.length>2){var q=a.yScale().invert(y.mouseY),E=0.03*Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]),q=c.nearestValueIndex(j.map(function(a){return a.value}),q,E);if(q!==null)j[q].highlight=true}q=g.tickFormat()(a.x()(m,u));f.tooltip.position({left:h+
e.left,top:y.mouseY+e.top}).chartContainer(G.parentNode).enabled(t).valueFormatter(function(a){return k.tickFormat()(a)}).data({value:q,series:j})();f.renderGuideLine(h)});f.dispatch.on("elementMouseout",function(){x.tooltipHide();b.clearHighlights()});x.on("tooltipShow",function(e){if(t){var f=G.parentNode,m=e.pos[0]+(f.offsetLeft||0),u=e.pos[1]+(f.offsetTop||0),v=g.tickFormat()(b.x()(e.point,e.pointIndex)),h=k.tickFormat()(b.y()(e.point,e.pointIndex)),e=B(e.series.key,v,h,e,a);c.tooltip.show([m,
u],e,null,null,f)}});x.on("changeState",function(b){if(typeof b.disabled!=="undefined"&&v.length===b.disabled.length){v.forEach(function(a,c){a.disabled=b.disabled[c]});s.disabled=b.disabled}a.update()})});return a}var b=c.models.line(),g=c.models.axis(),k=c.models.axis(),j=c.models.legend(),f=c.interactiveGuideline(),e={top:30,right:20,bottom:50,left:60},i=c.utils.defaultColor(),h=null,p=null,n=true,l=true,r=true,o=false,q=false,t=true,B=function(a,b,c){return"<h3>"+a+"</h3><p>"+c+" at "+b+"</p>"},
D,A,s={},z=null,w="No Data Available.",x=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),m=250;g.orient("bottom").tickPadding(7);k.orient(o?"right":"left");b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+e.left,a.pos[1]+e.top];x.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){x.tooltipHide(a)});x.on("tooltipHide",function(){t&&c.tooltip.cleanup()});a.dispatch=x;a.lines=b;a.legend=j;a.xAxis=g;a.yAxis=k;a.interactiveLayer=f;d3.rebind(a,
b,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","useVoronoi","id","interpolate");a.options=c.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return e;e.top=typeof b.top!="undefined"?b.top:e.top;e.right=typeof b.right!="undefined"?b.right:e.right;e.bottom=typeof b.bottom!="undefined"?b.bottom:e.bottom;e.left=typeof b.left!="undefined"?b.left:e.left;return a};a.width=function(b){if(!arguments.length)return h;
h=b;return a};a.height=function(b){if(!arguments.length)return p;p=b;return a};a.color=function(b){if(!arguments.length)return i;i=c.utils.getColor(b);j.color(i);return a};a.showLegend=function(b){if(!arguments.length)return n;n=b;return a};a.showXAxis=function(b){if(!arguments.length)return l;l=b;return a};a.showYAxis=function(b){if(!arguments.length)return r;r=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return o;o=b;k.orient(b?"right":"left");return a};a.useInteractiveGuideline=
function(b){if(!arguments.length)return q;q=b;if(b===true){a.interactive(false);a.useVoronoi(false)}return a};a.tooltips=function(b){if(!arguments.length)return t;t=b;return a};a.tooltipContent=function(b){if(!arguments.length)return B;B=b;return a};a.state=function(b){if(!arguments.length)return s;s=b;return a};a.defaultState=function(b){if(!arguments.length)return z;z=b;return a};a.noData=function(b){if(!arguments.length)return w;w=b;return a};a.transitionDuration=function(b){if(!arguments.length)return m;
m=b;return a};return a};c.models.linePlusBarChart=function(){function a(m){m.each(function(m){var v=d3.select(this),H=this,G=(h||parseInt(v.style("width"))||960)-i.left-i.right,C=(p||parseInt(v.style("height"))||400)-i.top-i.bottom;a.update=function(){v.transition().call(a)};s.disabled=m.map(function(a){return!!a.disabled});if(!z){var n;z={};for(n in s)z[n]=s[n]instanceof Array?s[n].slice(0):s[n]}if(!m||!m.length||!m.filter(function(a){return a.values.length}).length){n=v.selectAll(".nv-noData").data([w]);
n.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");n.attr("x",i.left+G/2).attr("y",i.top+C/2).text(function(a){return a});return a}v.selectAll(".nv-noData").remove();n=m.filter(function(a){return!a.disabled&&a.bar});var E=m.filter(function(a){return!a.bar});B=E.filter(function(a){return!a.disabled}).length&&E.filter(function(a){return!a.disabled})[0].values.length?b.xScale():g.xScale();D=g.yScale();A=b.yScale();var l=d3.select(this).selectAll("g.nv-wrap.nv-linePlusBar").data([m]),
I=l.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),y=l.select("g");I.append("g").attr("class","nv-x nv-axis");I.append("g").attr("class","nv-y1 nv-axis");I.append("g").attr("class","nv-y2 nv-axis");I.append("g").attr("class","nv-barsWrap");I.append("g").attr("class","nv-linesWrap");I.append("g").attr("class","nv-legendWrap");if(o){e.width(G/2);y.select(".nv-legendWrap").datum(m.map(function(a){a.originalKey=a.originalKey===void 0?a.key:a.originalKey;a.key=a.originalKey+
(a.bar?" (left axis)":" (right axis)");return a})).call(e);if(i.top!=e.height()){i.top=e.height();C=(p||parseInt(v.style("height"))||400)-i.top-i.bottom}y.select(".nv-legendWrap").attr("transform","translate("+G/2+","+-i.top+")")}l.attr("transform","translate("+i.left+","+i.top+")");b.width(G).height(C).color(m.map(function(a,b){return a.color||r(a,b)}).filter(function(a,b){return!m[b].disabled&&!m[b].bar}));g.width(G).height(C).color(m.map(function(a,b){return a.color||r(a,b)}).filter(function(a,
b){return!m[b].disabled&&m[b].bar}));l=y.select(".nv-barsWrap").datum(n.length?n:[{values:[]}]);I=y.select(".nv-linesWrap").datum(E[0]&&!E[0].disabled?E:[{values:[]}]);d3.transition(l).call(g);d3.transition(I).call(b);k.scale(B).ticks(G/100).tickSize(-C,0);y.select(".nv-x.nv-axis").attr("transform","translate(0,"+D.range()[0]+")");d3.transition(y.select(".nv-x.nv-axis")).call(k);j.scale(D).ticks(C/36).tickSize(-G,0);d3.transition(y.select(".nv-y1.nv-axis")).style("opacity",n.length?1:0).call(j);f.scale(A).ticks(C/
36).tickSize(n.length?0:-G,0);y.select(".nv-y2.nv-axis").style("opacity",E.length?1:0).attr("transform","translate("+G+",0)");d3.transition(y.select(".nv-y2.nv-axis")).call(f);e.dispatch.on("stateChange",function(b){s=b;x.stateChange(s);a.update()});x.on("tooltipShow",function(e){if(q){var g=H.parentNode,y=e.pos[0]+(g.offsetLeft||0),m=e.pos[1]+(g.offsetTop||0),h=k.tickFormat()(b.x()(e.point,e.pointIndex)),v=(e.series.bar?j:f).tickFormat()(b.y()(e.point,e.pointIndex)),h=t(e.series.key,h,v,e,a);c.tooltip.show([y,
m],h,e.value<0?"n":"s",null,g)}});x.on("changeState",function(b){if(typeof b.disabled!=="undefined"){m.forEach(function(a,c){a.disabled=b.disabled[c]});s.disabled=b.disabled}a.update()})});return a}var b=c.models.line(),g=c.models.historicalBar(),k=c.models.axis(),j=c.models.axis(),f=c.models.axis(),e=c.models.legend(),i={top:30,right:60,bottom:50,left:60},h=null,p=null,n=function(a){return a.x},l=function(a){return a.y},r=c.utils.defaultColor(),o=true,q=true,t=function(a,b,c){return"<h3>"+a+"</h3><p>"+
c+" at "+b+"</p>"},B,D,A,s={},z=null,w="No Data Available.",x=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");g.padData(true);b.clipEdge(false).padData(true);k.orient("bottom").tickPadding(7).highlightZero(false);j.orient("left");f.orient("right");b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+i.left,a.pos[1]+i.top];x.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){x.tooltipHide(a)});g.dispatch.on("elementMouseover.tooltip",function(a){a.pos=
[a.pos[0]+i.left,a.pos[1]+i.top];x.tooltipShow(a)});g.dispatch.on("elementMouseout.tooltip",function(a){x.tooltipHide(a)});x.on("tooltipHide",function(){q&&c.tooltip.cleanup()});a.dispatch=x;a.legend=e;a.lines=b;a.bars=g;a.xAxis=k;a.y1Axis=j;a.y2Axis=f;d3.rebind(a,b,"defined","size","clipVoronoi","interpolate");a.options=c.utils.optionsFunc.bind(a);a.x=function(c){if(!arguments.length)return n;n=c;b.x(c);g.x(c);return a};a.y=function(c){if(!arguments.length)return l;l=c;b.y(c);g.y(c);return a};a.margin=
function(b){if(!arguments.length)return i;i.top=typeof b.top!="undefined"?b.top:i.top;i.right=typeof b.right!="undefined"?b.right:i.right;i.bottom=typeof b.bottom!="undefined"?b.bottom:i.bottom;i.left=typeof b.left!="undefined"?b.left:i.left;return a};a.width=function(b){if(!arguments.length)return h;h=b;return a};a.height=function(b){if(!arguments.length)return p;p=b;return a};a.color=function(b){if(!arguments.length)return r;r=c.utils.getColor(b);e.color(r);return a};a.showLegend=function(b){if(!arguments.length)return o;
o=b;return a};a.tooltips=function(b){if(!arguments.length)return q;q=b;return a};a.tooltipContent=function(b){if(!arguments.length)return t;t=b;return a};a.state=function(b){if(!arguments.length)return s;s=b;return a};a.defaultState=function(b){if(!arguments.length)return z;z=b;return a};a.noData=function(b){if(!arguments.length)return w;w=b;return a};return a};c.models.lineWithFocusChart=function(){function a(H){H.each(function(H){function C(){h.empty()||h.extent(z);S.data([h.empty()?D.domain():
z]).each(function(a){var b=D(a[0])-t.range()[0],c=t.range()[1]-D(a[1]);d3.select(this).select(".left").attr("width",b<0?0:b);d3.select(this).select(".right").attr("x",D(a[1])).attr("width",c<0?0:c)})}function F(){z=h.empty()?null:h.extent();var a=h.empty()?D.domain():h.extent();if(!(Math.abs(a[0]-a[1])<=1)){u.brush({extent:a,brush:h});C();T.select(".nv-focus .nv-linesWrap").datum(H.filter(function(a){return!a.disabled}).map(function(c){return{key:c.key,values:c.values.filter(function(c,e){return b.x()(c,
e)>=a[0]&&b.x()(c,e)<=a[1]})}})).transition().duration(v).call(b);T.select(".nv-focus .nv-x.nv-axis").transition().duration(v).call(k);T.select(".nv-focus .nv-y.nv-axis").transition().duration(v).call(j)}}var E=d3.select(this),M=this,I=(r||parseInt(E.style("width"))||960)-p.left-p.right,y=(o||parseInt(E.style("height"))||400)-p.top-p.bottom-q,Q=q-n.top-n.bottom;a.update=function(){E.transition().duration(v).call(a)};a.container=this;if(!H||!H.length||!H.filter(function(a){return a.values.length}).length){var N=
E.selectAll(".nv-noData").data([m]);N.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");N.attr("x",p.left+I/2).attr("y",p.top+y/2).text(function(a){return a});return a}E.selectAll(".nv-noData").remove();t=b.xScale();B=b.yScale();D=g.xScale();A=g.yScale();var N=E.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([H]),K=N.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),T=N.select("g");K.append("g").attr("class",
"nv-legendWrap");var J=K.append("g").attr("class","nv-focus");J.append("g").attr("class","nv-x nv-axis");J.append("g").attr("class","nv-y nv-axis");J.append("g").attr("class","nv-linesWrap");K=K.append("g").attr("class","nv-context");K.append("g").attr("class","nv-x nv-axis");K.append("g").attr("class","nv-y nv-axis");K.append("g").attr("class","nv-linesWrap");K.append("g").attr("class","nv-brushBackground");K.append("g").attr("class","nv-x nv-brush");if(s){i.width(I);T.select(".nv-legendWrap").datum(H).call(i);
if(p.top!=i.height()){p.top=i.height();y=(o||parseInt(E.style("height"))||400)-p.top-p.bottom-q}T.select(".nv-legendWrap").attr("transform","translate(0,"+-p.top+")")}N.attr("transform","translate("+p.left+","+p.top+")");b.width(I).height(y).color(H.map(function(a,b){return a.color||l(a,b)}).filter(function(a,b){return!H[b].disabled}));g.defined(b.defined()).width(I).height(Q).color(H.map(function(a,b){return a.color||l(a,b)}).filter(function(a,b){return!H[b].disabled}));T.select(".nv-context").attr("transform",
"translate(0,"+(y+p.bottom+n.top)+")");N=T.select(".nv-context .nv-linesWrap").datum(H.filter(function(a){return!a.disabled}));d3.transition(N).call(g);k.scale(t).ticks(I/100).tickSize(-y,0);j.scale(B).ticks(y/36).tickSize(-I,0);T.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+y+")");h.x(D).on("brush",function(){var b=a.transitionDuration();a.transitionDuration(0);F();a.transitionDuration(b)});z&&h.extent(z);var S=T.select(".nv-brushBackground").selectAll("g").data([z||h.extent()]),
y=S.enter().append("g");y.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",Q);y.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",Q);y=T.select(".nv-x.nv-brush").call(h);y.selectAll("rect").attr("height",Q);y.selectAll(".resize").append("path").attr("d",function(a){var b=(a=+(a=="e"))?1:-1,c=Q/3;return"M"+0.5*b+","+c+"A6,6 0 0 "+a+" "+6.5*b+","+(c+6)+"V"+(2*c-6)+"A6,6 0 0 "+a+" "+0.5*b+","+2*c+"ZM"+2.5*b+","+(c+8)+"V"+(2*c-8)+"M"+4.5*b+","+(c+8)+"V"+
(2*c-8)});F();f.scale(D).ticks(I/100).tickSize(-Q,0);T.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+A.range()[0]+")");d3.transition(T.select(".nv-context .nv-x.nv-axis")).call(f);e.scale(A).ticks(Q/36).tickSize(-I,0);d3.transition(T.select(".nv-context .nv-y.nv-axis")).call(e);T.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+A.range()[0]+")");i.dispatch.on("stateChange",function(){a.update()});u.on("tooltipShow",function(e){if(w){var f=M.parentNode,g=e.pos[0]+
(f.offsetLeft||0),y=e.pos[1]+(f.offsetTop||0),h=k.tickFormat()(b.x()(e.point,e.pointIndex)),v=j.tickFormat()(b.y()(e.point,e.pointIndex)),e=x(e.series.key,h,v,e,a);c.tooltip.show([g,y],e,null,null,f)}})});return a}var b=c.models.line(),g=c.models.line(),k=c.models.axis(),j=c.models.axis(),f=c.models.axis(),e=c.models.axis(),i=c.models.legend(),h=d3.svg.brush(),p={top:30,right:30,bottom:30,left:60},n={top:0,right:30,bottom:20,left:60},l=c.utils.defaultColor(),r=null,o=null,q=100,t,B,D,A,s=true,z=null,
w=true,x=function(a,b,c){return"<h3>"+a+"</h3><p>"+c+" at "+b+"</p>"},m="No Data Available.",u=d3.dispatch("tooltipShow","tooltipHide","brush"),v=250;b.clipEdge(true);g.interactive(false);k.orient("bottom").tickPadding(5);j.orient("left");f.orient("bottom").tickPadding(5);e.orient("left");b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+p.left,a.pos[1]+p.top];u.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){u.tooltipHide(a)});u.on("tooltipHide",function(){w&&
c.tooltip.cleanup()});a.dispatch=u;a.legend=i;a.lines=b;a.lines2=g;a.xAxis=k;a.yAxis=j;a.x2Axis=f;a.y2Axis=e;d3.rebind(a,b,"defined","isArea","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id");a.options=c.utils.optionsFunc.bind(a);a.x=function(c){if(!arguments.length)return b.x;b.x(c);g.x(c);return a};a.y=function(c){if(!arguments.length)return b.y;b.y(c);g.y(c);return a};a.margin=function(b){if(!arguments.length)return p;p.top=typeof b.top!=
"undefined"?b.top:p.top;p.right=typeof b.right!="undefined"?b.right:p.right;p.bottom=typeof b.bottom!="undefined"?b.bottom:p.bottom;p.left=typeof b.left!="undefined"?b.left:p.left;return a};a.margin2=function(b){if(!arguments.length)return n;n=b;return a};a.width=function(b){if(!arguments.length)return r;r=b;return a};a.height=function(b){if(!arguments.length)return o;o=b;return a};a.height2=function(b){if(!arguments.length)return q;q=b;return a};a.color=function(b){if(!arguments.length)return l;
l=c.utils.getColor(b);i.color(l);return a};a.showLegend=function(b){if(!arguments.length)return s;s=b;return a};a.tooltips=function(b){if(!arguments.length)return w;w=b;return a};a.tooltipContent=function(b){if(!arguments.length)return x;x=b;return a};a.interpolate=function(c){if(!arguments.length)return b.interpolate();b.interpolate(c);g.interpolate(c);return a};a.noData=function(b){if(!arguments.length)return m;m=b;return a};a.xTickFormat=function(b){if(!arguments.length)return k.tickFormat();k.tickFormat(b);
f.tickFormat(b);return a};a.yTickFormat=function(b){if(!arguments.length)return j.tickFormat();j.tickFormat(b);e.tickFormat(b);return a};a.brushExtent=function(b){if(!arguments.length)return z;z=b;return a};a.transitionDuration=function(b){if(!arguments.length)return v;v=b;return a};return a};c.models.linePlusBarWithFocusChart=function(){var a,b;function g(K){K.each(function(K){function J(){q.empty()||q.extent(u);aa.data([q.empty()?C.domain():u]).each(function(a){var b=C(a[0])-C.range()[0],c=C.range()[1]-
C(a[1]);d3.select(this).select(".left").attr("width",b<0?0:b);d3.select(this).select(".right").attr("x",C(a[1])).attr("width",c<0?0:c)})}function S(){u=q.empty()?null:q.extent();m=q.empty()?C.domain():q.extent();Q.brush({extent:m,brush:q});J();f.width(L).height(U).color(K.map(function(a,b){return a.color||w(a,b)}).filter(function(a,b){return!K[b].disabled&&K[b].bar}));k.width(L).height(U).color(K.map(function(a,b){return a.color||w(a,b)}).filter(function(a,b){return!K[b].disabled&&!K[b].bar}));var a=
W.select(".nv-focus .nv-barsWrap").datum(!Y.length?[{values:[]}]:Y.map(function(a){return{key:a.key,values:a.values.filter(function(a,b){return f.x()(a,b)>=m[0]&&f.x()(a,b)<=m[1]})}})),b=W.select(".nv-focus .nv-linesWrap").datum(Z[0].disabled?[{values:[]}]:Z.map(function(a){return{key:a.key,values:a.values.filter(function(a,b){return k.x()(a,b)>=m[0]&&k.x()(a,b)<=m[1]})}}));G=Y.length?f.xScale():k.xScale();i.scale(G).ticks(L/100).tickSize(-U,0);i.domain([Math.ceil(m[0]),Math.floor(m[1])]);W.select(".nv-x.nv-axis").transition().duration(N).call(i);
a.transition().duration(N).call(f);b.transition().duration(N).call(k);W.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+F.range()[0]+")");p.scale(F).ticks(U/36).tickSize(-L,0);W.select(".nv-focus .nv-y1.nv-axis").style("opacity",Y.length?1:0);n.scale(E).ticks(U/36).tickSize(Y.length?0:-L,0);W.select(".nv-focus .nv-y2.nv-axis").style("opacity",Z.length?1:0).attr("transform","translate("+G.range()[1]+",0)");W.select(".nv-focus .nv-y1.nv-axis").transition().duration(N).call(p);W.select(".nv-focus .nv-y2.nv-axis").transition().duration(N).call(n)}
var R=d3.select(this),P=this,L=(B||parseInt(R.style("width"))||960)-t.left-t.right,U=(D||parseInt(R.style("height"))||400)-t.top-t.bottom-A,O=A-a-b;g.update=function(){R.transition().duration(N).call(g)};g.container=this;if(!K||!K.length||!K.filter(function(a){return a.values.length}).length){var V=R.selectAll(".nv-noData").data([y]);V.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");V.attr("x",t.left+L/2).attr("y",t.top+U/2).text(function(a){return a});
return g}R.selectAll(".nv-noData").remove();var Y=K.filter(function(a){return!a.disabled&&a.bar}),Z=K.filter(function(a){return!a.bar});G=f.xScale();C=h.scale();F=f.yScale();E=k.yScale();M=e.yScale();I=j.yScale();var V=K.filter(function(a){return!a.disabled&&a.bar}).map(function(a){return a.values.map(function(a,b){return{x:s(a,b),y:z(a,b)}})}),X=K.filter(function(a){return!a.disabled&&!a.bar}).map(function(a){return a.values.map(function(a,b){return{x:s(a,b),y:z(a,b)}})});G.range([0,L]);C.domain(d3.extent(d3.merge(V.concat(X)),
function(a){return a.x})).range([0,L]);var V=R.selectAll("g.nv-wrap.nv-linePlusBar").data([K]),X=V.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),W=V.select("g");X.append("g").attr("class","nv-legendWrap");var $=X.append("g").attr("class","nv-focus");$.append("g").attr("class","nv-x nv-axis");$.append("g").attr("class","nv-y1 nv-axis");$.append("g").attr("class","nv-y2 nv-axis");$.append("g").attr("class","nv-barsWrap");$.append("g").attr("class","nv-linesWrap");X=X.append("g").attr("class",
"nv-context");X.append("g").attr("class","nv-x nv-axis");X.append("g").attr("class","nv-y1 nv-axis");X.append("g").attr("class","nv-y2 nv-axis");X.append("g").attr("class","nv-barsWrap");X.append("g").attr("class","nv-linesWrap");X.append("g").attr("class","nv-brushBackground");X.append("g").attr("class","nv-x nv-brush");if(x){o.width(L/2);W.select(".nv-legendWrap").datum(K.map(function(a){a.originalKey=a.originalKey===void 0?a.key:a.originalKey;a.key=a.originalKey+(a.bar?" (left axis)":" (right axis)");
return a})).call(o);if(t.top!=o.height()){t.top=o.height();U=(D||parseInt(R.style("height"))||400)-t.top-t.bottom-A}W.select(".nv-legendWrap").attr("transform","translate("+L/2+","+-t.top+")")}V.attr("transform","translate("+t.left+","+t.top+")");e.width(L).height(O).color(K.map(function(a,b){return a.color||w(a,b)}).filter(function(a,b){return!K[b].disabled&&K[b].bar}));j.width(L).height(O).color(K.map(function(a,b){return a.color||w(a,b)}).filter(function(a,b){return!K[b].disabled&&!K[b].bar}));
V=W.select(".nv-context .nv-barsWrap").datum(Y.length?Y:[{values:[]}]);X=W.select(".nv-context .nv-linesWrap").datum(!Z[0].disabled?Z:[{values:[]}]);W.select(".nv-context").attr("transform","translate(0,"+(U+t.bottom+a)+")");V.transition().call(e);X.transition().call(j);q.x(C).on("brush",S);u&&q.extent(u);var aa=W.select(".nv-brushBackground").selectAll("g").data([u||q.extent()]),V=aa.enter().append("g");V.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",O);V.append("rect").attr("class",
"right").attr("x",0).attr("y",0).attr("height",O);V=W.select(".nv-x.nv-brush").call(q);V.selectAll("rect").attr("height",O);V.selectAll(".resize").append("path").attr("d",function(a){var b=(a=+(a=="e"))?1:-1,c=O/3;return"M"+0.5*b+","+c+"A6,6 0 0 "+a+" "+6.5*b+","+(c+6)+"V"+(2*c-6)+"A6,6 0 0 "+a+" "+0.5*b+","+2*c+"ZM"+2.5*b+","+(c+8)+"V"+(2*c-8)+"M"+4.5*b+","+(c+8)+"V"+(2*c-8)});h.ticks(L/100).tickSize(-O,0);W.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+M.range()[0]+")");W.select(".nv-context .nv-x.nv-axis").transition().call(h);
l.scale(M).ticks(O/36).tickSize(-L,0);W.select(".nv-context .nv-y1.nv-axis").style("opacity",Y.length?1:0).attr("transform","translate(0,"+C.range()[0]+")");W.select(".nv-context .nv-y1.nv-axis").transition().call(l);r.scale(I).ticks(O/36).tickSize(Y.length?0:-L,0);W.select(".nv-context .nv-y2.nv-axis").style("opacity",Z.length?1:0).attr("transform","translate("+C.range()[1]+",0)");W.select(".nv-context .nv-y2.nv-axis").transition().call(r);o.dispatch.on("stateChange",function(){g.update()});Q.on("tooltipShow",
function(a){if(v){var b=P.parentNode;if(m)a.pointIndex=a.pointIndex+Math.ceil(m[0]);var e=a.pos[0]+(b.offsetLeft||0),f=a.pos[1]+(b.offsetTop||0),y=i.tickFormat()(k.x()(a.point,a.pointIndex)),h=(a.series.bar?p:n).tickFormat()(k.y()(a.point,a.pointIndex)),y=H(a.series.key,y,h,a,g);c.tooltip.show([e,f],y,a.value<0?"n":"s",null,b)}});S()});return g}var k=c.models.line(),j=c.models.line(),f=c.models.historicalBar(),e=c.models.historicalBar(),i=c.models.axis(),h=c.models.axis(),p=c.models.axis(),n=c.models.axis(),
l=c.models.axis(),r=c.models.axis(),o=c.models.legend(),q=d3.svg.brush(),t={top:30,right:30,bottom:30,left:60};a=0;b=20;var B=null,D=null,A=100,s=function(a){return a.x},z=function(a){return a.y},w=c.utils.defaultColor(),x=true,m,u=null,v=true,H=function(a,b,c){return"<h3>"+a+"</h3><p>"+c+" at "+b+"</p>"},G,C,F,E,M,I,y="No Data Available.",Q=d3.dispatch("tooltipShow","tooltipHide","brush"),N=0;k.clipEdge(true);j.interactive(false);i.orient("bottom").tickPadding(5);p.orient("left");n.orient("right");
h.orient("bottom").tickPadding(5);l.orient("left");r.orient("right");k.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+t.left,a.pos[1]+t.top];Q.tooltipShow(a)});k.dispatch.on("elementMouseout.tooltip",function(a){Q.tooltipHide(a)});f.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+t.left,a.pos[1]+t.top];Q.tooltipShow(a)});f.dispatch.on("elementMouseout.tooltip",function(a){Q.tooltipHide(a)});Q.on("tooltipHide",function(){v&&c.tooltip.cleanup()});g.dispatch=Q;
g.legend=o;g.lines=k;g.lines2=j;g.bars=f;g.bars2=e;g.xAxis=i;g.x2Axis=h;g.y1Axis=p;g.y2Axis=n;g.y3Axis=l;g.y4Axis=r;d3.rebind(g,k,"defined","size","clipVoronoi","interpolate");g.options=c.utils.optionsFunc.bind(g);g.x=function(a){if(!arguments.length)return s;s=a;k.x(a);f.x(a);return g};g.y=function(a){if(!arguments.length)return z;z=a;k.y(a);f.y(a);return g};g.margin=function(a){if(!arguments.length)return t;t.top=typeof a.top!="undefined"?a.top:t.top;t.right=typeof a.right!="undefined"?a.right:
t.right;t.bottom=typeof a.bottom!="undefined"?a.bottom:t.bottom;t.left=typeof a.left!="undefined"?a.left:t.left;return g};g.width=function(a){if(!arguments.length)return B;B=a;return g};g.height=function(a){if(!arguments.length)return D;D=a;return g};g.color=function(a){if(!arguments.length)return w;w=c.utils.getColor(a);o.color(w);return g};g.showLegend=function(a){if(!arguments.length)return x;x=a;return g};g.tooltips=function(a){if(!arguments.length)return v;v=a;return g};g.tooltipContent=function(a){if(!arguments.length)return H;
H=a;return g};g.noData=function(a){if(!arguments.length)return y;y=a;return g};g.brushExtent=function(a){if(!arguments.length)return u;u=a;return g};return g};c.models.multiBar=function(){function a(c){c.each(function(a){var c=g-b.left-b.right,v=k-b.top-b.bottom,F=d3.select(this);q&&a.length&&(q=[{values:a[0].values.map(function(a){return{x:a.x,y:0,series:a.series,size:0.01}})}]);l&&(a=d3.layout.stack().offset(r).values(function(a){return a.values}).y(h)(!a.length&&q?q:a));a.forEach(function(a,b){a.values.forEach(function(a){a.series=
b})});l&&a[0].values.map(function(b,c){var e=0,f=0;a.map(function(a){a=a.values[c];a.size=Math.abs(a.y);if(a.y<0){a.y1=f;f=f-a.size}else{a.y1=a.size+e;e=e+a.size}})});var E=A&&s?[]:a.map(function(a){return a.values.map(function(a,b){return{x:i(a,b),y:h(a,b),y0:a.y0,y1:a.y1}})});j.domain(A||d3.merge(E).map(function(a){return a.x})).rangeBands(z||[0,c],x);f.domain(s||d3.extent(d3.merge(E).map(function(a){return l?a.y>0?a.y1:a.y1+a.y:a.y}).concat(p))).range(w||[v,0]);j.domain()[0]===j.domain()[1]&&(j.domain()[0]?
j.domain([j.domain()[0]-j.domain()[0]*0.01,j.domain()[1]+j.domain()[1]*0.01]):j.domain([-1,1]));f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+f.domain()[0]*0.01,f.domain()[1]-f.domain()[1]*0.01]):f.domain([-1,1]));u=u||f;var F=F.selectAll("g.nv-wrap.nv-multibar").data([a]),M=F.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),E=M.append("defs"),M=M.append("g"),I=F.select("g");M.append("g").attr("class","nv-groups");F.attr("transform","translate("+b.left+","+b.top+
")");E.append("clipPath").attr("id","nv-edge-clip-"+e).append("rect");F.select("#nv-edge-clip-"+e+" rect").attr("width",c).attr("height",v);I.attr("clip-path",n?"url(#nv-edge-clip-"+e+")":"");c=F.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a,b){return b});c.enter().append("g").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6);c.exit().transition().selectAll("rect.nv-bar").delay(function(b,c){return c*D/a[0].values.length}).attr("y",function(a){return l?
u(a.y0):u(0)}).attr("height",0).remove();c.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return o(a,b)}).style("stroke",function(a,b){return o(a,b)});c.transition().style("stroke-opacity",1).style("fill-opacity",0.75);c=c.selectAll("rect.nv-bar").data(function(b){return q&&!a.length?q.values:b.values});c.exit().remove();c.enter().append("rect").attr("class",function(a,b){return h(a,b)<0?"nv-bar negative":"nv-bar positive"}).attr("x",
function(b,c,e){return l?0:e*j.rangeBand()/a.length}).attr("y",function(a){return u(l?a.y0:0)}).attr("height",0).attr("width",j.rangeBand()/(l?1:a.length)).attr("transform",function(a,b){return"translate("+j(i(a,b))+",0)"});c.style("fill",function(a,b,c){return o(a,c,b)}).style("stroke",function(a,b,c){return o(a,c,b)}).on("mouseover",function(b,c){d3.select(this).classed("hover",true);m.elementMouseover({value:h(b,c),point:b,series:a[b.series],pos:[j(i(b,c))+j.rangeBand()*(l?a.length/2:b.series+
0.5)/a.length,f(h(b,c)+(l?b.y0:0))],pointIndex:c,seriesIndex:b.series,e:d3.event})}).on("mouseout",function(b,c){d3.select(this).classed("hover",false);m.elementMouseout({value:h(b,c),point:b,series:a[b.series],pointIndex:c,seriesIndex:b.series,e:d3.event})}).on("click",function(b,c){m.elementClick({value:h(b,c),point:b,series:a[b.series],pos:[j(i(b,c))+j.rangeBand()*(l?a.length/2:b.series+0.5)/a.length,f(h(b,c)+(l?b.y0:0))],pointIndex:c,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",
function(b,c){m.elementDblClick({value:h(b,c),point:b,series:a[b.series],pos:[j(i(b,c))+j.rangeBand()*(l?a.length/2:b.series+0.5)/a.length,f(h(b,c)+(l?b.y0:0))],pointIndex:c,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()});c.attr("class",function(a,b){return h(a,b)<0?"nv-bar negative":"nv-bar positive"}).transition().attr("transform",function(a,b){return"translate("+j(i(a,b))+",0)"});if(t){B||(B=a.map(function(){return true}));c.style("fill",function(a,b,c){return d3.rgb(t(a,b)).darker(B.map(function(a,
b){return b}).filter(function(a,b){return!B[b]})[c]).toString()}).style("stroke",function(a,b,c){return d3.rgb(t(a,b)).darker(B.map(function(a,b){return b}).filter(function(a,b){return!B[b]})[c]).toString()})}l?c.transition().delay(function(b,c){return c*D/a[0].values.length}).attr("y",function(a){return f(l?a.y1:0)}).attr("height",function(a){return Math.max(Math.abs(f(a.y+(l?a.y0:0))-f(l?a.y0:0)),1)}).attr("x",function(b){return l?0:b.series*j.rangeBand()/a.length}).attr("width",j.rangeBand()/(l?
1:a.length)):c.transition().delay(function(b,c){return c*D/a[0].values.length}).attr("x",function(b){return b.series*j.rangeBand()/a.length}).attr("width",j.rangeBand()/a.length).attr("y",function(a,b){return h(a,b)<0?f(0):f(0)-f(h(a,b))<1?f(0)-1:f(h(a,b))||0}).attr("height",function(a,b){return Math.max(Math.abs(f(h(a,b))-f(0)),1)||0});j.copy();u=f.copy()});return a}var b={top:0,right:0,bottom:0,left:0},g=960,k=500,j=d3.scale.ordinal(),f=d3.scale.linear(),e=Math.floor(Math.random()*1E4),i=function(a){return a.x},
h=function(a){return a.y},p=[0],n=true,l=false,r="zero",o=c.utils.defaultColor(),q=false,t=null,B,D=1200,A,s,z,w,x=0.1,m=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),u;a.dispatch=m;a.options=c.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return i;i=b;return a};a.y=function(b){if(!arguments.length)return h;h=b;return a};a.margin=function(c){if(!arguments.length)return b;b.top=typeof c.top!="undefined"?c.top:b.top;b.right=typeof c.right!=
"undefined"?c.right:b.right;b.bottom=typeof c.bottom!="undefined"?c.bottom:b.bottom;b.left=typeof c.left!="undefined"?c.left:b.left;return a};a.width=function(b){if(!arguments.length)return g;g=b;return a};a.height=function(b){if(!arguments.length)return k;k=b;return a};a.xScale=function(b){if(!arguments.length)return j;j=b;return a};a.yScale=function(b){if(!arguments.length)return f;f=b;return a};a.xDomain=function(b){if(!arguments.length)return A;A=b;return a};a.yDomain=function(b){if(!arguments.length)return s;
s=b;return a};a.xRange=function(b){if(!arguments.length)return z;z=b;return a};a.yRange=function(b){if(!arguments.length)return w;w=b;return a};a.forceY=function(b){if(!arguments.length)return p;p=b;return a};a.stacked=function(b){if(!arguments.length)return l;l=b;return a};a.stackOffset=function(b){if(!arguments.length)return r;r=b;return a};a.clipEdge=function(b){if(!arguments.length)return n;n=b;return a};a.color=function(b){if(!arguments.length)return o;o=c.utils.getColor(b);return a};a.barColor=
function(b){if(!arguments.length)return t;t=c.utils.getColor(b);return a};a.disabled=function(b){if(!arguments.length)return B;B=b;return a};a.id=function(b){if(!arguments.length)return e;e=b;return a};a.hideable=function(b){if(!arguments.length)return q;q=b;return a};a.delay=function(b){if(!arguments.length)return D;D=b;return a};a.groupSpacing=function(b){if(!arguments.length)return x;x=b;return a};return a};c.models.multiBarChart=function(){function a(G){G.each(function(C){var G=d3.select(this),
E=this,M=(i||parseInt(G.style("width"))||960)-e.left-e.right,I=(h||parseInt(G.style("height"))||400)-e.top-e.bottom;a.update=function(){G.transition().duration(H).call(a)};a.container=this;x.disabled=C.map(function(a){return!!a.disabled});if(!m){var y;m={};for(y in x)m[y]=x[y]instanceof Array?x[y].slice(0):x[y]}if(!C||!C.length||!C.filter(function(a){return a.values.length}).length){y=G.selectAll(".nv-noData").data([u]);y.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor",
"middle");y.attr("x",e.left+M/2).attr("y",e.top+I/2).text(function(a){return a});return a}G.selectAll(".nv-noData").remove();z=b.xScale();w=b.yScale();var Q=G.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([C]),N=Q.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g");y=Q.select("g");N.append("g").attr("class","nv-x nv-axis");N.append("g").attr("class","nv-y nv-axis");N.append("g").attr("class","nv-barsWrap");N.append("g").attr("class","nv-legendWrap");N.append("g").attr("class",
"nv-controlsWrap");if(l){j.width(M-(n?180:0));b.barColor()&&C.forEach(function(a,b){a.color=d3.rgb("#ccc").darker(b*1.5).toString()});y.select(".nv-legendWrap").datum(C).call(j);if(e.top!=j.height()){e.top=j.height();I=(h||parseInt(G.style("height"))||400)-e.top-e.bottom}y.select(".nv-legendWrap").attr("transform","translate("+(n?180:0)+","+-e.top+")")}if(n){var K=[{key:"Grouped",disabled:b.stacked()},{key:"Stacked",disabled:!b.stacked()}];f.width(n?180:0).color(["#444","#444","#444"]);y.select(".nv-controlsWrap").datum(K).attr("transform",
"translate(0,"+-e.top+")").call(f)}Q.attr("transform","translate("+e.left+","+e.top+")");q&&y.select(".nv-y.nv-axis").attr("transform","translate("+M+",0)");b.disabled(C.map(function(a){return a.disabled})).width(M).height(I).color(C.map(function(a,b){return a.color||p(a,b)}).filter(function(a,b){return!C[b].disabled}));y.select(".nv-barsWrap").datum(C.filter(function(a){return!a.disabled})).transition().call(b);if(r){g.scale(z).ticks(M/100).tickSize(-I,0);y.select(".nv-x.nv-axis").attr("transform",
"translate(0,"+w.range()[0]+")");y.select(".nv-x.nv-axis").transition().call(g);Q=y.select(".nv-x.nv-axis > g").selectAll("g");Q.selectAll("line, text").style("opacity",1);if(B){Q.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(c%2==0?5:17)+")"});var T=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;y.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(a,b){return"translate(0,"+(b===0||T%2!==0?17:5)+")"})}t&&Q.filter(function(a,b){return b%Math.ceil(C[0].values.length/
(M/100))!==0}).selectAll("text, line").style("opacity",0);D&&Q.selectAll(".tick text").attr("transform","rotate("+D+" 0,0)").style("text-anchor",D>0?"start":"end");y.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}if(o){k.scale(w).ticks(I/36).tickSize(-M,0);y.select(".nv-y.nv-axis").transition().call(k)}j.dispatch.on("stateChange",function(b){x=b;v.stateChange(x);a.update()});f.dispatch.on("legendClick",function(c){if(c.disabled){K=K.map(function(a){a.disabled=true;return a});
c.disabled=false;switch(c.key){case "Grouped":b.stacked(false);break;case "Stacked":b.stacked(true)}x.stacked=b.stacked();v.stateChange(x);a.update()}});v.on("tooltipShow",function(e){if(A){var f=E.parentNode,h=e.pos[0]+(f.offsetLeft||0),i=e.pos[1]+(f.offsetTop||0),m=g.tickFormat()(b.x()(e.point,e.pointIndex)),j=k.tickFormat()(b.y()(e.point,e.pointIndex)),m=s(e.series.key,m,j,e,a);c.tooltip.show([h,i],m,e.value<0?"n":"s",null,f)}});v.on("changeState",function(c){if(typeof c.disabled!=="undefined"){C.forEach(function(a,
b){a.disabled=c.disabled[b]});x.disabled=c.disabled}if(typeof c.stacked!=="undefined"){b.stacked(c.stacked);x.stacked=c.stacked}a.update()})});return a}var b=c.models.multiBar(),g=c.models.axis(),k=c.models.axis(),j=c.models.legend(),f=c.models.legend(),e={top:30,right:20,bottom:50,left:60},i=null,h=null,p=c.utils.defaultColor(),n=true,l=true,r=true,o=true,q=false,t=true,B=false,D=0,A=true,s=function(a,b,c){return"<h3>"+a+"</h3><p>"+c+" on "+b+"</p>"},z,w,x={stacked:false},m=null,u="No Data Available.",
v=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),H=250;b.stacked(false);g.orient("bottom").tickPadding(7).highlightZero(true).showMaxMin(false).tickFormat(function(a){return a});k.orient(q?"right":"left").tickFormat(d3.format(",.1f"));f.updateState(false);b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+e.left,a.pos[1]+e.top];v.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){v.tooltipHide(a)});v.on("tooltipHide",function(){A&&c.tooltip.cleanup()});
a.dispatch=v;a.multibar=b;a.legend=j;a.xAxis=g;a.yAxis=k;d3.rebind(a,b,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","stacked","stackOffset","delay","barColor","groupSpacing");a.options=c.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return e;e.top=typeof b.top!="undefined"?b.top:e.top;e.right=typeof b.right!="undefined"?b.right:e.right;e.bottom=typeof b.bottom!="undefined"?b.bottom:e.bottom;e.left=typeof b.left!="undefined"?b.left:e.left;return a};
a.width=function(b){if(!arguments.length)return i;i=b;return a};a.height=function(b){if(!arguments.length)return h;h=b;return a};a.color=function(b){if(!arguments.length)return p;p=c.utils.getColor(b);j.color(p);return a};a.showControls=function(b){if(!arguments.length)return n;n=b;return a};a.showLegend=function(b){if(!arguments.length)return l;l=b;return a};a.showXAxis=function(b){if(!arguments.length)return r;r=b;return a};a.showYAxis=function(b){if(!arguments.length)return o;o=b;return a};a.rightAlignYAxis=
function(b){if(!arguments.length)return q;q=b;k.orient(b?"right":"left");return a};a.reduceXTicks=function(b){if(!arguments.length)return t;t=b;return a};a.rotateLabels=function(b){if(!arguments.length)return D;D=b;return a};a.staggerLabels=function(b){if(!arguments.length)return B;B=b;return a};a.tooltip=function(b){if(!arguments.length)return s;s=b;return a};a.tooltips=function(b){if(!arguments.length)return A;A=b;return a};a.tooltipContent=function(b){if(!arguments.length)return s;s=b;return a};
a.state=function(b){if(!arguments.length)return x;x=b;return a};a.defaultState=function(b){if(!arguments.length)return m;m=b;return a};a.noData=function(b){if(!arguments.length)return u;u=b;return a};a.transitionDuration=function(b){if(!arguments.length)return H;H=b;return a};return a};c.models.multiBarHorizontal=function(){function a(c){c.each(function(a){var c=g-b.left-b.right,j=k-b.top-b.bottom;d3.select(this);o&&(a=d3.layout.stack().offset("zero").values(function(a){return a.values}).y(h)(a));
a.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});o&&a[0].values.map(function(b,c){var e=0,f=0;a.map(function(a){a=a.values[c];a.size=Math.abs(a.y);if(a.y<0){a.y1=f-a.size;f=f-a.size}else{a.y1=e;e=e+a.size}})});var v=s&&z?[]:a.map(function(a){return a.values.map(function(a,b){return{x:i(a,b),y:h(a,b),y0:a.y0,y1:a.y1}})});f.domain(s||d3.merge(v).map(function(a){return a.x})).rangeBands(w||[0,j],0.1);e.domain(z||d3.extent(d3.merge(v).map(function(a){return o?a.y>0?a.y1+a.y:a.y1:a.y}).concat(p)));
q&&!o?e.range(x||[e.domain()[0]<0?B:0,c-(e.domain()[1]>0?B:0)]):e.range(x||[0,c]);u=u||d3.scale.linear().domain(e.domain()).range([e(0),e(0)]);c=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([a]);j=c.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal");j.append("defs");j=j.append("g");c.select("g");j.append("g").attr("class","nv-groups");c.attr("transform","translate("+b.left+","+b.top+")");c=c.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},
function(a,b){return b});c.enter().append("g").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6);c.exit().transition().style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6).remove();c.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return n(a,b)}).style("stroke",function(a,b){return n(a,b)});c.transition().style("stroke-opacity",1).style("fill-opacity",0.75);c=c.selectAll("g.nv-bar").data(function(a){return a.values});
c.exit().remove();j=c.enter().append("g").attr("transform",function(b,c,e){return"translate("+u(o?b.y0:0)+","+(o?0:e*f.rangeBand()/a.length+f(i(b,c)))+")"});j.append("rect").attr("width",0).attr("height",f.rangeBand()/(o?1:a.length));c.on("mouseover",function(b,c){d3.select(this).classed("hover",true);m.elementMouseover({value:h(b,c),point:b,series:a[b.series],pos:[e(h(b,c)+(o?b.y0:0)),f(i(b,c))+f.rangeBand()*(o?a.length/2:b.series+0.5)/a.length],pointIndex:c,seriesIndex:b.series,e:d3.event})}).on("mouseout",
function(b,c){d3.select(this).classed("hover",false);m.elementMouseout({value:h(b,c),point:b,series:a[b.series],pointIndex:c,seriesIndex:b.series,e:d3.event})}).on("click",function(b,c){m.elementClick({value:h(b,c),point:b,series:a[b.series],pos:[f(i(b,c))+f.rangeBand()*(o?a.length/2:b.series+0.5)/a.length,e(h(b,c)+(o?b.y0:0))],pointIndex:c,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",function(b,c){m.elementDblClick({value:h(b,c),point:b,series:a[b.series],pos:[f(i(b,
c))+f.rangeBand()*(o?a.length/2:b.series+0.5)/a.length,e(h(b,c)+(o?b.y0:0))],pointIndex:c,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()});j.append("text");if(q&&!o){c.select("text").attr("text-anchor",function(a,b){return h(a,b)<0?"end":"start"}).attr("y",f.rangeBand()/(a.length*2)).attr("dy",".32em").text(function(a,b){return D(h(a,b))});c.transition().select("text").attr("x",function(a,b){return h(a,b)<0?-4:e(h(a,b))-e(0)+4})}else c.selectAll("text").text("");if(t&&!o){j.append("text").classed("nv-bar-label",
true);c.select("text.nv-bar-label").attr("text-anchor",function(a,b){return h(a,b)<0?"start":"end"}).attr("y",f.rangeBand()/(a.length*2)).attr("dy",".32em").text(function(a,b){return i(a,b)});c.transition().select("text.nv-bar-label").attr("x",function(a,b){return h(a,b)<0?e(0)-e(h(a,b))+4:-4})}else c.selectAll("text.nv-bar-label").text("");c.attr("class",function(a,b){return h(a,b)<0?"nv-bar negative":"nv-bar positive"});if(l){r||(r=a.map(function(){return true}));c.style("fill",function(a,b,c){return d3.rgb(l(a,
b)).darker(r.map(function(a,b){return b}).filter(function(a,b){return!r[b]})[c]).toString()}).style("stroke",function(a,b,c){return d3.rgb(l(a,b)).darker(r.map(function(a,b){return b}).filter(function(a,b){return!r[b]})[c]).toString()})}o?c.transition().attr("transform",function(a,b){return"translate("+e(a.y1)+","+f(i(a,b))+")"}).select("rect").attr("width",function(a,b){return Math.abs(e(h(a,b)+a.y0)-e(a.y0))}).attr("height",f.rangeBand()):c.transition().attr("transform",function(b,c){return"translate("+
(h(b,c)<0?e(h(b,c)):e(0))+","+(b.series*f.rangeBand()/a.length+f(i(b,c)))+")"}).select("rect").attr("height",f.rangeBand()/a.length).attr("width",function(a,b){return Math.max(Math.abs(e(h(a,b))-e(0)),1)});f.copy();u=e.copy()});return a}var b={top:0,right:0,bottom:0,left:0},g=960,k=500,j=Math.floor(Math.random()*1E4),f=d3.scale.ordinal(),e=d3.scale.linear(),i=function(a){return a.x},h=function(a){return a.y},p=[0],n=c.utils.defaultColor(),l=null,r,o=false,q=false,t=false,B=60,D=d3.format(",.2f"),
A=1200,s,z,w,x,m=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),u;a.dispatch=m;a.options=c.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return i;i=b;return a};a.y=function(b){if(!arguments.length)return h;h=b;return a};a.margin=function(c){if(!arguments.length)return b;b.top=typeof c.top!="undefined"?c.top:b.top;b.right=typeof c.right!="undefined"?c.right:b.right;b.bottom=typeof c.bottom!="undefined"?c.bottom:b.bottom;b.left=typeof c.left!=
"undefined"?c.left:b.left;return a};a.width=function(b){if(!arguments.length)return g;g=b;return a};a.height=function(b){if(!arguments.length)return k;k=b;return a};a.xScale=function(b){if(!arguments.length)return f;f=b;return a};a.yScale=function(b){if(!arguments.length)return e;e=b;return a};a.xDomain=function(b){if(!arguments.length)return s;s=b;return a};a.yDomain=function(b){if(!arguments.length)return z;z=b;return a};a.xRange=function(b){if(!arguments.length)return w;w=b;return a};a.yRange=
function(b){if(!arguments.length)return x;x=b;return a};a.forceY=function(b){if(!arguments.length)return p;p=b;return a};a.stacked=function(b){if(!arguments.length)return o;o=b;return a};a.color=function(b){if(!arguments.length)return n;n=c.utils.getColor(b);return a};a.barColor=function(b){if(!arguments.length)return l;l=c.utils.getColor(b);return a};a.disabled=function(b){if(!arguments.length)return r;r=b;return a};a.id=function(b){if(!arguments.length)return j;j=b;return a};a.delay=function(b){if(!arguments.length)return A;
A=b;return a};a.showValues=function(b){if(!arguments.length)return q;q=b;return a};a.showBarLabels=function(b){if(!arguments.length)return t;t=b;return a};a.valueFormat=function(b){if(!arguments.length)return D;D=b;return a};a.valuePadding=function(b){if(!arguments.length)return B;B=b;return a};return a};c.models.multiBarHorizontalChart=function(){function a(m){m.each(function(m){var v=d3.select(this),H=this,G=(i||parseInt(v.style("width"))||960)-e.left-e.right,C=(h||parseInt(v.style("height"))||
400)-e.top-e.bottom;a.update=function(){v.transition().duration(x).call(a)};a.container=this;A.disabled=m.map(function(a){return!!a.disabled});if(!s){var F;s={};for(F in A)s[F]=A[F]instanceof Array?A[F].slice(0):A[F]}if(!m||!m.length||!m.filter(function(a){return a.values.length}).length){F=v.selectAll(".nv-noData").data([z]);F.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");F.attr("x",e.left+G/2).attr("y",e.top+C/2).text(function(a){return a});
return a}v.selectAll(".nv-noData").remove();B=b.xScale();D=b.yScale();F=v.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([m]);var E=F.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),M=F.select("g");E.append("g").attr("class","nv-x nv-axis");E.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");E.append("g").attr("class","nv-barsWrap");E.append("g").attr("class","nv-legendWrap");E.append("g").attr("class","nv-controlsWrap");
if(l){j.width(G-(n?180:0));b.barColor()&&m.forEach(function(a,b){a.color=d3.rgb("#ccc").darker(b*1.5).toString()});M.select(".nv-legendWrap").datum(m).call(j);if(e.top!=j.height()){e.top=j.height();C=(h||parseInt(v.style("height"))||400)-e.top-e.bottom}M.select(".nv-legendWrap").attr("transform","translate("+(n?180:0)+","+-e.top+")")}if(n){var I=[{key:"Grouped",disabled:b.stacked()},{key:"Stacked",disabled:!b.stacked()}];f.width(n?180:0).color(["#444","#444","#444"]);M.select(".nv-controlsWrap").datum(I).attr("transform",
"translate(0,"+-e.top+")").call(f)}F.attr("transform","translate("+e.left+","+e.top+")");b.disabled(m.map(function(a){return a.disabled})).width(G).height(C).color(m.map(function(a,b){return a.color||p(a,b)}).filter(function(a,b){return!m[b].disabled}));M.select(".nv-barsWrap").datum(m.filter(function(a){return!a.disabled})).transition().call(b);if(r){g.scale(B).ticks(C/24).tickSize(-G,0);M.select(".nv-x.nv-axis").transition().call(g);M.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text")}if(o){k.scale(D).ticks(G/
100).tickSize(-C,0);M.select(".nv-y.nv-axis").attr("transform","translate(0,"+C+")");M.select(".nv-y.nv-axis").transition().call(k)}M.select(".nv-zeroLine line").attr("x1",D(0)).attr("x2",D(0)).attr("y1",0).attr("y2",-C);j.dispatch.on("stateChange",function(b){A=b;w.stateChange(A);a.update()});f.dispatch.on("legendClick",function(c){if(c.disabled){I=I.map(function(a){a.disabled=true;return a});c.disabled=false;switch(c.key){case "Grouped":b.stacked(false);break;case "Stacked":b.stacked(true)}A.stacked=
b.stacked();w.stateChange(A);a.update()}});w.on("tooltipShow",function(e){if(q){var f=H.parentNode,h=e.pos[0]+(f.offsetLeft||0),m=e.pos[1]+(f.offsetTop||0),i=g.tickFormat()(b.x()(e.point,e.pointIndex)),j=k.tickFormat()(b.y()(e.point,e.pointIndex)),i=t(e.series.key,i,j,e,a);c.tooltip.show([h,m],i,e.value<0?"e":"w",null,f)}});w.on("changeState",function(c){if(typeof c.disabled!=="undefined"){m.forEach(function(a,b){a.disabled=c.disabled[b]});A.disabled=c.disabled}if(typeof c.stacked!=="undefined"){b.stacked(c.stacked);
A.stacked=c.stacked}a.update()})});return a}var b=c.models.multiBarHorizontal(),g=c.models.axis(),k=c.models.axis(),j=c.models.legend().height(30),f=c.models.legend().height(30),e={top:30,right:20,bottom:50,left:60},i=null,h=null,p=c.utils.defaultColor(),n=true,l=true,r=true,o=true,q=true,t=function(a,b,c){return"<h3>"+a+" - "+b+"</h3><p>"+c+"</p>"},B,D,A={stacked:false},s=null,z="No Data Available.",w=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),x=250;b.stacked(false);g.orient("left").tickPadding(5).highlightZero(false).showMaxMin(false).tickFormat(function(a){return a});
k.orient("bottom").tickFormat(d3.format(",.1f"));f.updateState(false);b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+e.left,a.pos[1]+e.top];w.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){w.tooltipHide(a)});w.on("tooltipHide",function(){q&&c.tooltip.cleanup()});a.dispatch=w;a.multibar=b;a.legend=j;a.xAxis=g;a.yAxis=k;d3.rebind(a,b,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","delay","showValues","showBarLabels","valueFormat",
"stacked","barColor");a.options=c.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return e;e.top=typeof b.top!="undefined"?b.top:e.top;e.right=typeof b.right!="undefined"?b.right:e.right;e.bottom=typeof b.bottom!="undefined"?b.bottom:e.bottom;e.left=typeof b.left!="undefined"?b.left:e.left;return a};a.width=function(b){if(!arguments.length)return i;i=b;return a};a.height=function(b){if(!arguments.length)return h;h=b;return a};a.color=function(b){if(!arguments.length)return p;p=
c.utils.getColor(b);j.color(p);return a};a.showControls=function(b){if(!arguments.length)return n;n=b;return a};a.showLegend=function(b){if(!arguments.length)return l;l=b;return a};a.showXAxis=function(b){if(!arguments.length)return r;r=b;return a};a.showYAxis=function(b){if(!arguments.length)return o;o=b;return a};a.tooltip=function(b){if(!arguments.length)return t;t=b;return a};a.tooltips=function(b){if(!arguments.length)return q;q=b;return a};a.tooltipContent=function(b){if(!arguments.length)return t;
t=b;return a};a.state=function(b){if(!arguments.length)return A;A=b;return a};a.defaultState=function(b){if(!arguments.length)return s;s=b;return a};a.noData=function(b){if(!arguments.length)return z;z=b;return a};a.transitionDuration=function(b){if(!arguments.length)return x;x=b;return a};return a};c.models.multiChart=function(){function a(u){u.each(function(u){var H=d3.select(this),G=this;a.update=function(){H.transition().call(a)};a.container=this;var C=(k||parseInt(H.style("width"))||960)-b.left-
b.right,F=(j||parseInt(H.style("height"))||400)-b.top-b.bottom,E=u.filter(function(a){return!a.disabled&&a.type=="line"&&a.yAxis==1}),M=u.filter(function(a){return!a.disabled&&a.type=="line"&&a.yAxis==2}),I=u.filter(function(a){return!a.disabled&&a.type=="bar"&&a.yAxis==1}),y=u.filter(function(a){return!a.disabled&&a.type=="bar"&&a.yAxis==2}),Q=u.filter(function(a){return!a.disabled&&a.type=="area"&&a.yAxis==1}),N=u.filter(function(a){return!a.disabled&&a.type=="area"&&a.yAxis==2}),K=u.filter(function(a){return!a.disabled&&
a.yAxis==1}).map(function(a){return a.values.map(function(a){return{x:a.x,y:a.y}})}),T=u.filter(function(a){return!a.disabled&&a.yAxis==2}).map(function(a){return a.values.map(function(a){return{x:a.x,y:a.y}})});h.domain(d3.extent(d3.merge(K.concat(T)),function(a){return a.x})).range([0,C]);var J=H.selectAll("g.wrap.multiChart").data([u]),S=J.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");S.append("g").attr("class","x axis");S.append("g").attr("class","y1 axis");S.append("g").attr("class",
"y2 axis");S.append("g").attr("class","lines1Wrap");S.append("g").attr("class","lines2Wrap");S.append("g").attr("class","bars1Wrap");S.append("g").attr("class","bars2Wrap");S.append("g").attr("class","stack1Wrap");S.append("g").attr("class","stack2Wrap");S.append("g").attr("class","legendWrap");J=J.select("g");if(f){x.width(C/2);J.select(".legendWrap").datum(u.map(function(a){a.originalKey=a.originalKey===void 0?a.key:a.originalKey;a.key=a.originalKey+(a.yAxis==1?"":" (right axis)");return a})).call(x);
if(b.top!=x.height()){b.top=x.height();F=(j||parseInt(H.style("height"))||400)-b.top-b.bottom}J.select(".legendWrap").attr("transform","translate("+C/2+","+-b.top+")")}o.width(C).height(F).interpolate("monotone").color(u.map(function(a,b){return a.color||g[b%g.length]}).filter(function(a,b){return!u[b].disabled&&u[b].yAxis==1&&u[b].type=="line"}));q.width(C).height(F).interpolate("monotone").color(u.map(function(a,b){return a.color||g[b%g.length]}).filter(function(a,b){return!u[b].disabled&&u[b].yAxis==
2&&u[b].type=="line"}));t.width(C).height(F).color(u.map(function(a,b){return a.color||g[b%g.length]}).filter(function(a,b){return!u[b].disabled&&u[b].yAxis==1&&u[b].type=="bar"}));B.width(C).height(F).color(u.map(function(a,b){return a.color||g[b%g.length]}).filter(function(a,b){return!u[b].disabled&&u[b].yAxis==2&&u[b].type=="bar"}));D.width(C).height(F).color(u.map(function(a,b){return a.color||g[b%g.length]}).filter(function(a,b){return!u[b].disabled&&u[b].yAxis==1&&u[b].type=="area"}));A.width(C).height(F).color(u.map(function(a,
b){return a.color||g[b%g.length]}).filter(function(a,b){return!u[b].disabled&&u[b].yAxis==2&&u[b].type=="area"}));J.attr("transform","translate("+b.left+","+b.top+")");var S=J.select(".lines1Wrap").datum(E),R=J.select(".bars1Wrap").datum(I),P=J.select(".stack1Wrap").datum(Q),L=J.select(".lines2Wrap").datum(M),U=J.select(".bars2Wrap").datum(y),O=J.select(".stack2Wrap").datum(N),V=Q.length?Q.map(function(a){return a.values}).reduce(function(a,b){return a.map(function(a,c){return{x:a.x,y:a.y+b[c].y}})}).concat([{x:0,
y:0}]):[],Y=N.length?N.map(function(a){return a.values}).reduce(function(a,b){return a.map(function(a,c){return{x:a.x,y:a.y+b[c].y}})}).concat([{x:0,y:0}]):[];l.domain(p||d3.extent(d3.merge(K).concat(V),function(a){return a.y})).range([0,F]);r.domain(n||d3.extent(d3.merge(T).concat(Y),function(a){return a.y})).range([0,F]);o.yDomain(l.domain());t.yDomain(l.domain());D.yDomain(l.domain());q.yDomain(r.domain());B.yDomain(r.domain());A.yDomain(r.domain());Q.length&&d3.transition(P).call(D);N.length&&
d3.transition(O).call(A);I.length&&d3.transition(R).call(t);y.length&&d3.transition(U).call(B);E.length&&d3.transition(S).call(o);M.length&&d3.transition(L).call(q);s.ticks(C/100).tickSize(-F,0);J.select(".x.axis").attr("transform","translate(0,"+F+")");d3.transition(J.select(".x.axis")).call(s);z.ticks(F/36).tickSize(-C,0);d3.transition(J.select(".y1.axis")).call(z);w.ticks(F/36).tickSize(-C,0);d3.transition(J.select(".y2.axis")).call(w);J.select(".y2.axis").style("opacity",T.length?1:0).attr("transform",
"translate("+h.range()[1]+",0)");x.dispatch.on("stateChange",function(){a.update()});m.on("tooltipShow",function(b){if(e){var f=G.parentNode,g=b.pos[0]+(f.offsetLeft||0),h=b.pos[1]+(f.offsetTop||0),j=s.tickFormat()(o.x()(b.point,b.pointIndex)),u=(b.series.yAxis==2?w:z).tickFormat()(o.y()(b.point,b.pointIndex)),b=i(b.series.key,j,u,b,a);c.tooltip.show([g,h],b,void 0,void 0,f.offsetParent)}})});return a}var b={top:30,right:20,bottom:50,left:60},g=d3.scale.category20().range(),k=null,j=null,f=true,e=
true,i=function(a,b,c){return"<h3>"+a+"</h3><p>"+c+" at "+b+"</p>"},h,p,n;h=d3.scale.linear();var l=d3.scale.linear(),r=d3.scale.linear(),o=c.models.line().yScale(l),q=c.models.line().yScale(r),t=c.models.multiBar().stacked(false).yScale(l),B=c.models.multiBar().stacked(false).yScale(r),D=c.models.stackedArea().yScale(l),A=c.models.stackedArea().yScale(r),s=c.models.axis().scale(h).orient("bottom").tickPadding(5),z=c.models.axis().scale(l).orient("left"),w=c.models.axis().scale(r).orient("right"),
x=c.models.legend().height(30),m=d3.dispatch("tooltipShow","tooltipHide");o.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];m.tooltipShow(a)});o.dispatch.on("elementMouseout.tooltip",function(a){m.tooltipHide(a)});q.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];m.tooltipShow(a)});q.dispatch.on("elementMouseout.tooltip",function(a){m.tooltipHide(a)});t.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+
b.left,a.pos[1]+b.top];m.tooltipShow(a)});t.dispatch.on("elementMouseout.tooltip",function(a){m.tooltipHide(a)});B.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];m.tooltipShow(a)});B.dispatch.on("elementMouseout.tooltip",function(a){m.tooltipHide(a)});D.dispatch.on("tooltipShow",function(a){if(!Math.round(D.y()(a.point)*100)){setTimeout(function(){d3.selectAll(".point.hover").classed("hover",false)},0);return false}a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];
m.tooltipShow(a)});D.dispatch.on("tooltipHide",function(a){m.tooltipHide(a)});A.dispatch.on("tooltipShow",function(a){if(!Math.round(A.y()(a.point)*100)){setTimeout(function(){d3.selectAll(".point.hover").classed("hover",false)},0);return false}a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];m.tooltipShow(a)});A.dispatch.on("tooltipHide",function(a){m.tooltipHide(a)});o.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];m.tooltipShow(a)});o.dispatch.on("elementMouseout.tooltip",
function(a){m.tooltipHide(a)});q.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];m.tooltipShow(a)});q.dispatch.on("elementMouseout.tooltip",function(a){m.tooltipHide(a)});m.on("tooltipHide",function(){e&&c.tooltip.cleanup()});a.dispatch=m;a.lines1=o;a.lines2=q;a.bars1=t;a.bars2=B;a.stack1=D;a.stack2=A;a.xAxis=s;a.yAxis1=z;a.yAxis2=w;a.options=c.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return getX;getX=b;o.x(b);t.x(b);return a};a.y=function(b){if(!arguments.length)return getY;
getY=b;o.y(b);t.y(b);return a};a.yDomain1=function(b){if(!arguments.length)return p;p=b;return a};a.yDomain2=function(b){if(!arguments.length)return n;n=b;return a};a.margin=function(c){if(!arguments.length)return b;b=c;return a};a.width=function(b){if(!arguments.length)return k;k=b;return a};a.height=function(b){if(!arguments.length)return j;j=b;return a};a.color=function(b){if(!arguments.length)return g;g=b;x.color(b);return a};a.showLegend=function(b){if(!arguments.length)return f;f=b;return a};
a.tooltips=function(b){if(!arguments.length)return e;e=b;return a};a.tooltipContent=function(b){if(!arguments.length)return i;i=b;return a};return a};c.models.ohlcBar=function(){function a(c){c.each(function(a){var c=g-b.left-b.right,m=k-b.top-b.bottom,D=d3.select(this);f.domain(A||d3.extent(a[0].values.map(i).concat(o)));t?f.range(z||[c*0.5/a[0].values.length,c*(a[0].values.length-0.5)/a[0].values.length]):f.range(z||[0,c]);e.domain(s||[d3.min(a[0].values.map(r).concat(q)),d3.max(a[0].values.map(l).concat(q))]).range(w||
[m,0]);f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]-f.domain()[0]*0.01,f.domain()[1]+f.domain()[1]*0.01]):f.domain([-1,1]));e.domain()[0]===e.domain()[1]&&(e.domain()[0]?e.domain([e.domain()[0]+e.domain()[0]*0.01,e.domain()[1]-e.domain()[1]*0.01]):e.domain([-1,1]));var C=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([a[0].values]),F=C.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),E=F.append("defs"),F=F.append("g"),M=C.select("g");F.append("g").attr("class",
"nv-ticks");C.attr("transform","translate("+b.left+","+b.top+")");D.on("click",function(a,b){x.chartClick({data:a,index:b,pos:d3.event,id:j})});E.append("clipPath").attr("id","nv-chart-clip-path-"+j).append("rect");C.select("#nv-chart-clip-path-"+j+" rect").attr("width",c).attr("height",m);M.attr("clip-path",B?"url(#nv-chart-clip-path-"+j+")":"");m=C.select(".nv-ticks").selectAll(".nv-tick").data(function(a){return a});m.exit().remove();m.enter().append("path").attr("class",function(a,b,c){return(p(a,
b)>n(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b}).attr("d",function(b,f){var g=c/a[0].values.length*0.9;return"m0,0l0,"+(e(p(b,f))-e(l(b,f)))+"l"+-g/2+",0l"+g/2+",0l0,"+(e(r(b,f))-e(p(b,f)))+"l0,"+(e(n(b,f))-e(r(b,f)))+"l"+g/2+",0l"+-g/2+",0z"}).attr("transform",function(a,b){return"translate("+f(i(a,b))+","+e(l(a,b))+")"}).on("mouseover",function(b,c){d3.select(this).classed("hover",true);x.elementMouseover({point:b,series:a[0],pos:[f(i(b,c)),e(h(b,c))],pointIndex:c,seriesIndex:0,
e:d3.event})}).on("mouseout",function(b,c){d3.select(this).classed("hover",false);x.elementMouseout({point:b,series:a[0],pointIndex:c,seriesIndex:0,e:d3.event})}).on("click",function(a,b){x.elementClick({value:h(a,b),data:a,index:b,pos:[f(i(a,b)),e(h(a,b))],e:d3.event,id:j});d3.event.stopPropagation()}).on("dblclick",function(a,b){x.elementDblClick({value:h(a,b),data:a,index:b,pos:[f(i(a,b)),e(h(a,b))],e:d3.event,id:j});d3.event.stopPropagation()});m.attr("class",function(a,b,c){return(p(a,b)>n(a,
b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b});d3.transition(m).attr("transform",function(a,b){return"translate("+f(i(a,b))+","+e(l(a,b))+")"}).attr("d",function(b,f){var g=c/a[0].values.length*0.9;return"m0,0l0,"+(e(p(b,f))-e(l(b,f)))+"l"+-g/2+",0l"+g/2+",0l0,"+(e(r(b,f))-e(p(b,f)))+"l0,"+(e(n(b,f))-e(r(b,f)))+"l"+g/2+",0l"+-g/2+",0z"})});return a}var b={top:0,right:0,bottom:0,left:0},g=960,k=500,j=Math.floor(Math.random()*1E4),f=d3.scale.linear(),e=d3.scale.linear(),i=function(a){return a.x},
h=function(a){return a.y},p=function(a){return a.open},n=function(a){return a.close},l=function(a){return a.high},r=function(a){return a.low},o=[],q=[],t=false,B=true,D=c.utils.defaultColor(),A,s,z,w,x=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");a.dispatch=x;a.options=c.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return i;i=b;return a};a.y=function(b){if(!arguments.length)return h;h=b;return a};a.open=function(b){if(!arguments.length)return p;
p=b;return a};a.close=function(b){if(!arguments.length)return n;n=b;return a};a.high=function(b){if(!arguments.length)return l;l=b;return a};a.low=function(b){if(!arguments.length)return r;r=b;return a};a.margin=function(c){if(!arguments.length)return b;b.top=typeof c.top!="undefined"?c.top:b.top;b.right=typeof c.right!="undefined"?c.right:b.right;b.bottom=typeof c.bottom!="undefined"?c.bottom:b.bottom;b.left=typeof c.left!="undefined"?c.left:b.left;return a};a.width=function(b){if(!arguments.length)return g;
g=b;return a};a.height=function(b){if(!arguments.length)return k;k=b;return a};a.xScale=function(b){if(!arguments.length)return f;f=b;return a};a.yScale=function(b){if(!arguments.length)return e;e=b;return a};a.xDomain=function(b){if(!arguments.length)return A;A=b;return a};a.yDomain=function(b){if(!arguments.length)return s;s=b;return a};a.xRange=function(b){if(!arguments.length)return z;z=b;return a};a.yRange=function(b){if(!arguments.length)return w;w=b;return a};a.forceX=function(b){if(!arguments.length)return o;
o=b;return a};a.forceY=function(b){if(!arguments.length)return q;q=b;return a};a.padData=function(b){if(!arguments.length)return t;t=b;return a};a.clipEdge=function(b){if(!arguments.length)return B;B=b;return a};a.color=function(b){if(!arguments.length)return D;D=c.utils.getColor(b);return a};a.id=function(b){if(!arguments.length)return j;j=b;return a};return a};c.models.pie=function(){function a(c){c.each(function(a){var c=g-b.left-b.right,e=k-b.top-b.bottom,w=Math.min(c,e)/2,p=w-w/5,G=d3.select(this),
a=G.selectAll(".nv-wrap.nv-pie").data(a),C=a.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+i).append("g"),F=a.select("g");C.append("g").attr("class","nv-pie");C.append("g").attr("class","nv-pieLabels");a.attr("transform","translate("+b.left+","+b.top+")");F.select(".nv-pie").attr("transform","translate("+c/2+","+e/2+")");F.select(".nv-pieLabels").attr("transform","translate("+c/2+","+e/2+")");G.on("click",function(a,b){z.chartClick({data:a,index:b,pos:d3.event,id:i})});var E=d3.svg.arc().outerRadius(p);
D&&E.startAngle(D);A&&E.endAngle(A);t&&E.innerRadius(w*s);e=d3.layout.pie().sort(null).value(function(a){return a.disabled?0:f(a)});c=a.select(".nv-pie").selectAll(".nv-slice").data(e);a=a.select(".nv-pieLabels").selectAll(".nv-label").data(e);c.exit().remove();a.exit().remove();e=c.enter().append("g").attr("class","nv-slice").on("mouseover",function(a,b){d3.select(this).classed("hover",true);z.elementMouseover({label:j(a.data),value:f(a.data),point:a.data,pointIndex:b,pos:[d3.event.pageX,d3.event.pageY],
id:i})}).on("mouseout",function(a,b){d3.select(this).classed("hover",false);z.elementMouseout({label:j(a.data),value:f(a.data),point:a.data,index:b,id:i})}).on("click",function(a,b){z.elementClick({label:j(a.data),value:f(a.data),point:a.data,index:b,pos:d3.event,id:i});d3.event.stopPropagation()}).on("dblclick",function(a,b){z.elementDblClick({label:j(a.data),value:f(a.data),point:a.data,index:b,pos:d3.event,id:i});d3.event.stopPropagation()});c.attr("fill",function(a,b){return h(a,b)}).attr("stroke",
function(a,b){return h(a,b)});e.append("path").each(function(a){this._current=a});c.select("path").transition().attr("d",E).attrTween("d",function(a){a.endAngle=isNaN(a.endAngle)?0:a.endAngle;a.startAngle=isNaN(a.startAngle)?0:a.startAngle;if(!t)a.innerRadius=0;var b=d3.interpolate(this._current,a);this._current=b(0);return function(a){return E(b(a))}});if(n){var M=d3.svg.arc().innerRadius(0);l&&(M=E);r&&(M=d3.svg.arc().outerRadius(E.outerRadius()));a.enter().append("g").classed("nv-label",true).each(function(a){var b=
d3.select(this);b.attr("transform",function(a){if(B){a.outerRadius=p+10;a.innerRadius=p+15;var b=(a.startAngle+a.endAngle)/2*(180/Math.PI),b=(a.startAngle+a.endAngle)/2<Math.PI?b-90:b+90;return"translate("+M.centroid(a)+") rotate("+b+")"}a.outerRadius=w+10;a.innerRadius=w+15;return"translate("+M.centroid(a)+")"});b.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3);b.append("text").style("text-anchor",B?(a.startAngle+a.endAngle)/2<Math.PI?"start":"end":"middle").style("fill",
"#000")});var I={},y=function(a){return Math.floor(a[0]/140)*140+","+Math.floor(a[1]/14)*14};a.transition().attr("transform",function(a){if(B){a.outerRadius=p+10;a.innerRadius=p+15;var b=(a.startAngle+a.endAngle)/2*(180/Math.PI),b=(a.startAngle+a.endAngle)/2<Math.PI?b-90:b+90;return"translate("+M.centroid(a)+") rotate("+b+")"}a.outerRadius=w+10;a.innerRadius=w+15;a=M.centroid(a);b=y(a);I[b]&&(a[1]=a[1]-14);I[y(a)]=true;return"translate("+a+")"});a.select(".nv-label text").style("text-anchor",B?(d.startAngle+
d.endAngle)/2<Math.PI?"start":"end":"middle").text(function(a){var b=(a.endAngle-a.startAngle)/(2*Math.PI),c={key:j(a.data),value:f(a.data),percent:d3.format("%")(b)};return a.value&&b>q?c[o]:""})}});return a}var b={top:0,right:0,bottom:0,left:0},g=500,k=500,j=function(a){return a.x},f=function(a){return a.y},e=function(a){return a.description},i=Math.floor(Math.random()*1E4),h=c.utils.defaultColor(),p=d3.format(",.2f"),n=true,l=true,r=false,o="key",q=0.02,t=false,B=false,D=false,A=false,s=0.5,z=
d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");a.dispatch=z;a.options=c.utils.optionsFunc.bind(a);a.margin=function(c){if(!arguments.length)return b;b.top=typeof c.top!="undefined"?c.top:b.top;b.right=typeof c.right!="undefined"?c.right:b.right;b.bottom=typeof c.bottom!="undefined"?c.bottom:b.bottom;b.left=typeof c.left!="undefined"?c.left:b.left;return a};a.width=function(b){if(!arguments.length)return g;g=b;return a};a.height=function(b){if(!arguments.length)return k;
k=b;return a};a.values=function(){c.log("pie.values() is no longer supported.");return a};a.x=function(b){if(!arguments.length)return j;j=b;return a};a.y=function(b){if(!arguments.length)return f;f=d3.functor(b);return a};a.description=function(b){if(!arguments.length)return e;e=b;return a};a.showLabels=function(b){if(!arguments.length)return n;n=b;return a};a.labelSunbeamLayout=function(b){if(!arguments.length)return B;B=b;return a};a.donutLabelsOutside=function(b){if(!arguments.length)return r;
r=b;return a};a.pieLabelsOutside=function(b){if(!arguments.length)return l;l=b;return a};a.labelType=function(b){if(!arguments.length)return o;o=(o=b)||"key";return a};a.donut=function(b){if(!arguments.length)return t;t=b;return a};a.donutRatio=function(b){if(!arguments.length)return s;s=b;return a};a.startAngle=function(b){if(!arguments.length)return D;D=b;return a};a.endAngle=function(b){if(!arguments.length)return A;A=b;return a};a.id=function(b){if(!arguments.length)return i;i=b;return a};a.color=
function(b){if(!arguments.length)return h;h=c.utils.getColor(b);return a};a.valueFormat=function(b){if(!arguments.length)return p;p=b;return a};a.labelThreshold=function(b){if(!arguments.length)return q;q=b;return a};return a};c.models.pieChart=function(){function a(c){c.each(function(c){var h=d3.select(this),i=(j||parseInt(h.style("width"))||960)-k.left-k.right,q=(f||parseInt(h.style("height"))||400)-k.top-k.bottom;a.update=function(){h.transition().call(a)};a.container=this;n.disabled=c.map(function(a){return!!a.disabled});
if(!l){var s;l={};for(s in n)l[s]=n[s]instanceof Array?n[s].slice(0):n[s]}if(!c||!c.length){s=h.selectAll(".nv-noData").data([r]);s.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");s.attr("x",k.left+i/2).attr("y",k.top+q/2).text(function(a){return a});return a}h.selectAll(".nv-noData").remove();s=h.selectAll("g.nv-wrap.nv-pieChart").data([c]);var p=s.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),w=s.select("g");p.append("g").attr("class",
"nv-pieWrap");p.append("g").attr("class","nv-legendWrap");if(e){g.width(i).key(b.x());s.select(".nv-legendWrap").datum(c).call(g);if(k.top!=g.height()){k.top=g.height();q=(f||parseInt(h.style("height"))||400)-k.top-k.bottom}s.select(".nv-legendWrap").attr("transform","translate(0,"+-k.top+")")}s.attr("transform","translate("+k.left+","+k.top+")");b.width(i).height(q);i=w.select(".nv-pieWrap").datum([c]);d3.transition(i).call(b);g.dispatch.on("stateChange",function(b){n=b;o.stateChange(n);a.update()});
b.dispatch.on("elementMouseout.tooltip",function(a){o.tooltipHide(a)});o.on("changeState",function(b){if(typeof b.disabled!=="undefined"){c.forEach(function(a,c){a.disabled=b.disabled[c]});n.disabled=b.disabled}a.update()})});return a}var b=c.models.pie(),g=c.models.legend(),k={top:30,right:20,bottom:20,left:20},j=null,f=null,e=true,i=c.utils.defaultColor(),h=true,p=function(a,b){return"<h3>"+a+"</h3><p>"+b+"</p>"},n={},l=null,r="No Data Available.",o=d3.dispatch("tooltipShow","tooltipHide","stateChange",
"changeState");b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+k.left,a.pos[1]+k.top];o.tooltipShow(a)});o.on("tooltipShow",function(e){if(h){var f=b.description()(e.point)||b.x()(e.point),g=e.pos[0]+0,i=e.pos[1]+0,j=b.valueFormat()(b.y()(e.point)),f=p(f,j,e,a);c.tooltip.show([g,i],f,e.value<0?"n":"s",null,void 0)}});o.on("tooltipHide",function(){h&&c.tooltip.cleanup()});a.legend=g;a.dispatch=o;a.pie=b;d3.rebind(a,b,"valueFormat","values","x","y","description","id","showLabels",
"donutLabelsOutside","pieLabelsOutside","labelType","donut","donutRatio","labelThreshold");a.options=c.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return k;k.top=typeof b.top!="undefined"?b.top:k.top;k.right=typeof b.right!="undefined"?b.right:k.right;k.bottom=typeof b.bottom!="undefined"?b.bottom:k.bottom;k.left=typeof b.left!="undefined"?b.left:k.left;return a};a.width=function(b){if(!arguments.length)return j;j=b;return a};a.height=function(b){if(!arguments.length)return f;
f=b;return a};a.color=function(e){if(!arguments.length)return i;i=c.utils.getColor(e);g.color(i);b.color(i);return a};a.showLegend=function(b){if(!arguments.length)return e;e=b;return a};a.tooltips=function(b){if(!arguments.length)return h;h=b;return a};a.tooltipContent=function(b){if(!arguments.length)return p;p=b;return a};a.state=function(b){if(!arguments.length)return n;n=b;return a};a.defaultState=function(b){if(!arguments.length)return l;l=b;return a};a.noData=function(b){if(!arguments.length)return r;
r=b;return a};return a};c.models.scatter=function(){function a(J){J.each(function(a){var J=g-b.left-b.right,P=k-b.top-b.bottom,L=d3.select(this);a.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});var U=v&&H&&F?[]:d3.merge(a.map(function(a){return a.values.map(function(a,b){return{x:p(a,b),y:n(a,b),size:l(a,b)}})}));e.domain(v||d3.extent(U.map(function(a){return a.x}).concat(q)));z&&a[0]?e.range(G||[(J*w+J)/(2*a[0].values.length),J-J*(1+w)/(2*a[0].values.length)]):e.range(G||[0,J]);
i.domain(H||d3.extent(U.map(function(a){return a.y}).concat(t))).range(C||[P,0]);h.domain(F||d3.extent(U.map(function(a){return a.size}).concat(B))).range(E||[16,256]);if(e.domain()[0]===e.domain()[1]||i.domain()[0]===i.domain()[1])M=true;e.domain()[0]===e.domain()[1]&&(e.domain()[0]?e.domain([e.domain()[0]-e.domain()[0]*0.01,e.domain()[1]+e.domain()[1]*0.01]):e.domain([-1,1]));i.domain()[0]===i.domain()[1]&&(i.domain()[0]?i.domain([i.domain()[0]-i.domain()[0]*0.01,i.domain()[1]+i.domain()[1]*0.01]):
i.domain([-1,1]));isNaN(e.domain()[0])&&e.domain([-1,1]);isNaN(i.domain()[0])&&i.domain([-1,1]);Q=Q||e;N=N||i;var O=L.selectAll("g.nv-wrap.nv-scatter").data([a]),U=O.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+f+(M?" nv-single-point":"")),L=U.append("defs"),U=U.append("g"),V=O.select("g");U.append("g").attr("class","nv-groups");U.append("g").attr("class","nv-point-paths");O.attr("transform","translate("+b.left+","+b.top+")");L.append("clipPath").attr("id","nv-edge-clip-"+
f).append("rect");O.select("#nv-edge-clip-"+f+" rect").attr("width",J).attr("height",P>0?P:0);V.attr("clip-path",x?"url(#nv-edge-clip-"+f+")":"");T=true;J=O.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});J.enter().append("g").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6);J.exit().remove();J.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover});J.transition().style("fill",function(a,b){return j(a,
b)}).style("stroke",function(a,b){return j(a,b)}).style("stroke-opacity",1).style("fill-opacity",0.5);if(o){P=J.selectAll("circle.nv-point").data(function(a){return a.values},A);P.enter().append("circle").style("fill",function(a){return a.color}).style("stroke",function(a){return a.color}).attr("cx",function(a,b){return c.utils.NaNtoZero(Q(p(a,b)))}).attr("cy",function(a,b){return c.utils.NaNtoZero(N(n(a,b)))}).attr("r",function(a,b){return Math.sqrt(h(l(a,b))/Math.PI)});P.exit().remove();J.exit().selectAll("path.nv-point").transition().attr("cx",
function(a,b){return c.utils.NaNtoZero(e(p(a,b)))}).attr("cy",function(a,b){return c.utils.NaNtoZero(i(n(a,b)))}).remove();P.each(function(a,b){d3.select(this).classed("nv-point",true).classed("nv-point-"+b,true).classed("hover",false)});P.transition().attr("cx",function(a,b){return c.utils.NaNtoZero(e(p(a,b)))}).attr("cy",function(a,b){return c.utils.NaNtoZero(i(n(a,b)))}).attr("r",function(a,b){return Math.sqrt(h(l(a,b))/Math.PI)})}else{P=J.selectAll("path.nv-point").data(function(a){return a.values});
P.enter().append("path").style("fill",function(a){return a.color}).style("stroke",function(a){return a.color}).attr("transform",function(a,b){return"translate("+Q(p(a,b))+","+N(n(a,b))+")"}).attr("d",d3.svg.symbol().type(r).size(function(a,b){return h(l(a,b))}));P.exit().remove();J.exit().selectAll("path.nv-point").transition().attr("transform",function(a,b){return"translate("+e(p(a,b))+","+i(n(a,b))+")"}).remove();P.each(function(a,b){d3.select(this).classed("nv-point",true).classed("nv-point-"+
b,true).classed("hover",false)});P.transition().attr("transform",function(a,b){return"translate("+e(p(a,b))+","+i(n(a,b))+")"}).attr("d",d3.svg.symbol().type(r).size(function(a,b){return h(l(a,b))}))}clearTimeout(K);K=setTimeout(function(){if(!D)return false;var c=d3.merge(a.map(function(a,b){return a.values.map(function(a,c){var f=p(a,c),g=n(a,c);return[e(f)+Math.random()*1.0E-7,i(g)+Math.random()*1.0E-7,b,c,a]}).filter(function(a,b){return s(a[4],b)})}));if(y===true){if(m){O.select("defs").selectAll(".nv-point-clips").data([f]).enter().append("clipPath").attr("class",
"nv-point-clips").attr("id","nv-points-clip-"+f);var h=O.select("#nv-points-clip-"+f).selectAll("circle").data(c);h.enter().append("circle").attr("r",u);h.exit().remove();h.attr("cx",function(a){return a[0]}).attr("cy",function(a){return a[1]});O.select(".nv-point-paths").attr("clip-path","url(#nv-points-clip-"+f+")")}if(c.length){c.push([e.range()[0]-20,i.range()[0]-20,null,null]);c.push([e.range()[1]+20,i.range()[1]+20,null,null]);c.push([e.range()[0]-20,i.range()[0]+20,null,null]);c.push([e.range()[1]+
20,i.range()[1]-20,null,null])}var j=d3.geom.polygon([[-10,-10],[-10,k+10],[g+10,k+10],[g+10,-10]]),h=d3.geom.voronoi(c).map(function(a,b){return{data:j.clip(a),series:c[b][2],point:c[b][3]}}),h=O.select(".nv-point-paths").selectAll("path").data(h);h.enter().append("path").attr("class",function(a,b){return"nv-path-"+b});h.exit().remove();h.attr("d",function(a){return a.data.length===0?"M 0 0":"M"+a.data.join("L")+"Z"});var q=function(c,f){if(T)return 0;var g=a[c.series];if(typeof g!=="undefined"){var h=
g.values[c.point];f({point:h,series:g,pos:[e(p(h,c.point))+b.left,i(n(h,c.point))+b.top],seriesIndex:c.series,pointIndex:c.point})}};h.on("click",function(a){q(a,I.elementClick)}).on("mouseover",function(a){q(a,I.elementMouseover)}).on("mouseout",function(a){q(a,I.elementMouseout)})}else O.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(c,f){if(T||!a[c.series])return 0;var g=a[c.series],h=g.values[f];I.elementClick({point:h,series:g,pos:[e(p(h,f))+b.left,i(n(h,
f))+b.top],seriesIndex:c.series,pointIndex:f})}).on("mouseover",function(c,f){if(T||!a[c.series])return 0;var g=a[c.series],h=g.values[f];I.elementMouseover({point:h,series:g,pos:[e(p(h,f))+b.left,i(n(h,f))+b.top],seriesIndex:c.series,pointIndex:f})}).on("mouseout",function(b,c){if(T||!a[b.series])return 0;var e=a[b.series];I.elementMouseout({point:e.values[c],series:e,seriesIndex:b.series,pointIndex:c})});T=false},300);Q=e.copy();N=i.copy();h.copy()});return a}var b={top:0,right:0,bottom:0,left:0},
g=960,k=500,j=c.utils.defaultColor(),f=Math.floor(Math.random()*1E5),e=d3.scale.linear(),i=d3.scale.linear(),h=d3.scale.linear(),p=function(a){return a.x},n=function(a){return a.y},l=function(a){return a.size||1},r=function(a){return a.shape||"circle"},o=true,q=[],t=[],B=[],D=true,A=null,s=function(a){return!a.notActive},z=false,w=0.1,x=false,m=true,u=function(){return 25},v=null,H=null,G=null,C=null,F=null,E=null,M=false,I=d3.dispatch("elementClick","elementMouseover","elementMouseout"),y=true,Q,
N,K,T=false;a.clearHighlights=function(){d3.selectAll(".nv-chart-"+f+" .nv-point.hover").classed("hover",false)};a.highlightPoint=function(a,b,c){d3.select(".nv-chart-"+f+" .nv-series-"+a+" .nv-point-"+b).classed("hover",c)};I.on("elementMouseover.point",function(b){D&&a.highlightPoint(b.seriesIndex,b.pointIndex,true)});I.on("elementMouseout.point",function(b){D&&a.highlightPoint(b.seriesIndex,b.pointIndex,false)});a.dispatch=I;a.options=c.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return p;
p=d3.functor(b);return a};a.y=function(b){if(!arguments.length)return n;n=d3.functor(b);return a};a.size=function(b){if(!arguments.length)return l;l=d3.functor(b);return a};a.margin=function(c){if(!arguments.length)return b;b.top=typeof c.top!="undefined"?c.top:b.top;b.right=typeof c.right!="undefined"?c.right:b.right;b.bottom=typeof c.bottom!="undefined"?c.bottom:b.bottom;b.left=typeof c.left!="undefined"?c.left:b.left;return a};a.width=function(b){if(!arguments.length)return g;g=b;return a};a.height=
function(b){if(!arguments.length)return k;k=b;return a};a.xScale=function(b){if(!arguments.length)return e;e=b;return a};a.yScale=function(b){if(!arguments.length)return i;i=b;return a};a.zScale=function(b){if(!arguments.length)return h;h=b;return a};a.xDomain=function(b){if(!arguments.length)return v;v=b;return a};a.yDomain=function(b){if(!arguments.length)return H;H=b;return a};a.sizeDomain=function(b){if(!arguments.length)return F;F=b;return a};a.xRange=function(b){if(!arguments.length)return G;
G=b;return a};a.yRange=function(b){if(!arguments.length)return C;C=b;return a};a.sizeRange=function(b){if(!arguments.length)return E;E=b;return a};a.forceX=function(b){if(!arguments.length)return q;q=b;return a};a.forceY=function(b){if(!arguments.length)return t;t=b;return a};a.forceSize=function(b){if(!arguments.length)return B;B=b;return a};a.interactive=function(b){if(!arguments.length)return D;D=b;return a};a.pointKey=function(b){if(!arguments.length)return A;A=b;return a};a.pointActive=function(b){if(!arguments.length)return s;
s=b;return a};a.padData=function(b){if(!arguments.length)return z;z=b;return a};a.padDataOuter=function(b){if(!arguments.length)return w;w=b;return a};a.clipEdge=function(b){if(!arguments.length)return x;x=b;return a};a.clipVoronoi=function(b){if(!arguments.length)return m;m=b;return a};a.useVoronoi=function(b){if(!arguments.length)return y;y=b;y===false&&(m=false);return a};a.clipRadius=function(b){if(!arguments.length)return u;u=b;return a};a.color=function(b){if(!arguments.length)return j;j=c.utils.getColor(b);
return a};a.shape=function(b){if(!arguments.length)return r;r=b;return a};a.onlyCircles=function(b){if(!arguments.length)return o;o=b;return a};a.id=function(b){if(!arguments.length)return f;f=b;return a};a.singlePoint=function(b){if(!arguments.length)return M;M=b;return a};return a};c.models.scatterChart=function(){function a(N){N.each(function(N){function T(){if(u){O.select(".nv-point-paths").style("pointer-events","all");return false}O.select(".nv-point-paths").style("pointer-events","none");var a=
d3.mouse(this);r.distortion(m).focus(a[0]);o.distortion(m).focus(a[1]);O.select(".nv-scatterWrap").call(b);s&&O.select(".nv-x.nv-axis").call(g);z&&O.select(".nv-y.nv-axis").call(k);O.select(".nv-distributionX").datum(N.filter(function(a){return!a.disabled})).call(e);O.select(".nv-distributionY").datum(N.filter(function(a){return!a.disabled})).call(i)}var J=d3.select(this),S=this,R=(p||parseInt(J.style("width"))||960)-h.left-h.right,P=(n||parseInt(J.style("height"))||400)-h.top-h.bottom;a.update=function(){J.transition().duration(y).call(a)};
a.container=this;F.disabled=N.map(function(a){return!!a.disabled});if(!E){var L;E={};for(L in F)E[L]=F[L]instanceof Array?F[L].slice(0):F[L]}if(!N||!N.length||!N.filter(function(a){return a.values.length}).length){L=J.selectAll(".nv-noData").data([I]);L.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");L.attr("x",h.left+R/2).attr("y",h.top+P/2).text(function(a){return a});return a}J.selectAll(".nv-noData").remove();L=J.selectAll("g.nv-wrap.nv-scatterChart").data([N]);
var U=L.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+b.id()).append("g"),O=L.select("g");U.append("rect").attr("class","nvd3 nv-background");U.append("g").attr("class","nv-x nv-axis");U.append("g").attr("class","nv-y nv-axis");U.append("g").attr("class","nv-scatterWrap");U.append("g").attr("class","nv-distWrap");U.append("g").attr("class","nv-legendWrap");U.append("g").attr("class","nv-controlsWrap");if(A){var V=x?R/2:R;j.width(V);L.select(".nv-legendWrap").datum(N).call(j);
if(h.top!=j.height()){h.top=j.height();P=(n||parseInt(J.style("height"))||400)-h.top-h.bottom}L.select(".nv-legendWrap").attr("transform","translate("+(R-V)+","+-h.top+")")}if(x){f.width(180).color(["#444"]);O.select(".nv-controlsWrap").datum(Q).attr("transform","translate(0,"+-h.top+")").call(f)}L.attr("transform","translate("+h.left+","+h.top+")");w&&O.select(".nv-y.nv-axis").attr("transform","translate("+R+",0)");b.width(R).height(P).color(N.map(function(a,b){return a.color||l(a,b)}).filter(function(a,
b){return!N[b].disabled}));q!==0&&b.xDomain(null);t!==0&&b.yDomain(null);L.select(".nv-scatterWrap").datum(N.filter(function(a){return!a.disabled})).call(b);if(q!==0){V=r.domain()[1]-r.domain()[0];b.xDomain([r.domain()[0]-q*V,r.domain()[1]+q*V])}if(t!==0){V=o.domain()[1]-o.domain()[0];b.yDomain([o.domain()[0]-t*V,o.domain()[1]+t*V])}(t!==0||q!==0)&&L.select(".nv-scatterWrap").datum(N.filter(function(a){return!a.disabled})).call(b);if(s){g.scale(r).ticks(g.ticks()&&g.ticks().length?g.ticks():R/100).tickSize(-P,
0);O.select(".nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")").call(g)}if(z){k.scale(o).ticks(k.ticks()&&k.ticks().length?k.ticks():P/36).tickSize(-R,0);O.select(".nv-y.nv-axis").call(k)}if(B){e.getData(b.x()).scale(r).width(R).color(N.map(function(a,b){return a.color||l(a,b)}).filter(function(a,b){return!N[b].disabled}));U.select(".nv-distWrap").append("g").attr("class","nv-distributionX");O.select(".nv-distributionX").attr("transform","translate(0,"+o.range()[0]+")").datum(N.filter(function(a){return!a.disabled})).call(e)}if(D){i.getData(b.y()).scale(o).width(P).color(N.map(function(a,
b){return a.color||l(a,b)}).filter(function(a,b){return!N[b].disabled}));U.select(".nv-distWrap").append("g").attr("class","nv-distributionY");O.select(".nv-distributionY").attr("transform","translate("+(w?R:-i.size())+",0)").datum(N.filter(function(a){return!a.disabled})).call(i)}if(d3.fisheye){O.select(".nv-background").attr("width",R).attr("height",P);O.select(".nv-background").on("mousemove",T);O.select(".nv-background").on("click",function(){u=!u});b.dispatch.on("elementClick.freezeFisheye",
function(){u=!u})}f.dispatch.on("legendClick",function(c){c.disabled=!c.disabled;m=c.disabled?0:2.5;O.select(".nv-background").style("pointer-events",c.disabled?"none":"all");O.select(".nv-point-paths").style("pointer-events",c.disabled?"all":"none");if(c.disabled){r.distortion(m).focus(0);o.distortion(m).focus(0);O.select(".nv-scatterWrap").call(b);O.select(".nv-x.nv-axis").call(g);O.select(".nv-y.nv-axis").call(k)}else u=false;a.update()});j.dispatch.on("stateChange",function(b){F.disabled=b.disabled;
M.stateChange(F);a.update()});b.dispatch.on("elementMouseover.tooltip",function(a){d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",function(){return a.pos[1]-P});d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",a.pos[0]+e.size());a.pos=[a.pos[0]+h.left,a.pos[1]+h.top];M.tooltipShow(a)});M.on("tooltipShow",function(e){if(v){var f=S.parentNode,i=e.pos[0]+(f.offsetLeft||0),j=e.pos[1]+(f.offsetTop||0),m=e.pos[0]+
(f.offsetLeft||0),q=o.range()[0]+h.top+(f.offsetTop||0),n=r.range()[0]+h.left+(f.offsetLeft||0),t=e.pos[1]+(f.offsetTop||0),l=g.tickFormat()(b.x()(e.point,e.pointIndex)),s=k.tickFormat()(b.y()(e.point,e.pointIndex));H!=null&&c.tooltip.show([m,q],H(e.series.key,l,s,e,a),"n",1,f,"x-nvtooltip");G!=null&&c.tooltip.show([n,t],G(e.series.key,l,s,e,a),"e",1,f,"y-nvtooltip");C!=null&&c.tooltip.show([i,j],C(e.series.key,l,s,e,a),e.value<0?"n":"s",null,f)}});M.on("changeState",function(b){if(typeof b.disabled!==
"undefined"){N.forEach(function(a,c){a.disabled=b.disabled[c]});F.disabled=b.disabled}a.update()});r.copy();o.copy()});return a}var b=c.models.scatter(),g=c.models.axis(),k=c.models.axis(),j=c.models.legend(),f=c.models.legend(),e=c.models.distribution(),i=c.models.distribution(),h={top:30,right:20,bottom:50,left:75},p=null,n=null,l=c.utils.defaultColor(),r=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):b.xScale(),o=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):b.yScale(),
q=0,t=0,B=false,D=false,A=true,s=true,z=true,w=false,x=!!d3.fisheye,m=0,u=false,v=true,H=function(a,b){return"<strong>"+b+"</strong>"},G=function(a,b,c){return"<strong>"+c+"</strong>"},C=null,F={},E=null,M=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),I="No Data Available.",y=250;b.xScale(r).yScale(o);g.orient("bottom").tickPadding(10);k.orient(w?"right":"left").tickPadding(10);e.axis("x");i.axis("y");f.updateState(false);var Q=[{key:"Magnify",disabled:true}];b.dispatch.on("elementMouseout.tooltip",
function(a){M.tooltipHide(a);d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",0);d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",i.size())});M.on("tooltipHide",function(){v&&c.tooltip.cleanup()});a.dispatch=M;a.scatter=b;a.legend=j;a.controls=f;a.xAxis=g;a.yAxis=k;a.distX=e;a.distY=i;d3.rebind(a,b,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","xRange",
"yRange","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi");a.options=c.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return h;h.top=typeof b.top!="undefined"?b.top:h.top;h.right=typeof b.right!="undefined"?b.right:h.right;h.bottom=typeof b.bottom!="undefined"?b.bottom:h.bottom;h.left=typeof b.left!="undefined"?b.left:h.left;return a};a.width=function(b){if(!arguments.length)return p;p=b;return a};a.height=function(b){if(!arguments.length)return n;
n=b;return a};a.color=function(b){if(!arguments.length)return l;l=c.utils.getColor(b);j.color(l);e.color(l);i.color(l);return a};a.showDistX=function(b){if(!arguments.length)return B;B=b;return a};a.showDistY=function(b){if(!arguments.length)return D;D=b;return a};a.showControls=function(b){if(!arguments.length)return x;x=b;return a};a.showLegend=function(b){if(!arguments.length)return A;A=b;return a};a.showXAxis=function(b){if(!arguments.length)return s;s=b;return a};a.showYAxis=function(b){if(!arguments.length)return z;
z=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return w;w=b;k.orient(b?"right":"left");return a};a.fisheye=function(b){if(!arguments.length)return m;m=b;return a};a.xPadding=function(b){if(!arguments.length)return q;q=b;return a};a.yPadding=function(b){if(!arguments.length)return t;t=b;return a};a.tooltips=function(b){if(!arguments.length)return v;v=b;return a};a.tooltipContent=function(b){if(!arguments.length)return C;C=b;return a};a.tooltipXContent=function(b){if(!arguments.length)return H;
H=b;return a};a.tooltipYContent=function(b){if(!arguments.length)return G;G=b;return a};a.state=function(b){if(!arguments.length)return F;F=b;return a};a.defaultState=function(b){if(!arguments.length)return E;E=b;return a};a.noData=function(b){if(!arguments.length)return I;I=b;return a};a.transitionDuration=function(b){if(!arguments.length)return y;y=b;return a};return a};c.models.scatterPlusLineChart=function(){function a(y){y.each(function(y){function N(){if(x){L.select(".nv-point-paths").style("pointer-events",
"all");return false}L.select(".nv-point-paths").style("pointer-events","none");var a=d3.mouse(this);r.distortion(w).focus(a[0]);o.distortion(w).focus(a[1]);L.select(".nv-scatterWrap").datum(y.filter(function(a){return!a.disabled})).call(b);D&&L.select(".nv-x.nv-axis").call(g);A&&L.select(".nv-y.nv-axis").call(k);L.select(".nv-distributionX").datum(y.filter(function(a){return!a.disabled})).call(e);L.select(".nv-distributionY").datum(y.filter(function(a){return!a.disabled})).call(i)}var K=d3.select(this),
T=this,J=(p||parseInt(K.style("width"))||960)-h.left-h.right,S=(n||parseInt(K.style("height"))||400)-h.top-h.bottom;a.update=function(){K.transition().duration(M).call(a)};a.container=this;G.disabled=y.map(function(a){return!!a.disabled});if(!C){var R;C={};for(R in G)C[R]=G[R]instanceof Array?G[R].slice(0):G[R]}if(!y||!y.length||!y.filter(function(a){return a.values.length}).length){R=K.selectAll(".nv-noData").data([E]);R.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor",
"middle");R.attr("x",h.left+J/2).attr("y",h.top+S/2).text(function(a){return a});return a}K.selectAll(".nv-noData").remove();r=b.xScale();o=b.yScale();var P=K.selectAll("g.nv-wrap.nv-scatterChart").data([y]);R=P.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+b.id()).append("g");var L=P.select("g");R.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none");R.append("g").attr("class","nv-x nv-axis");R.append("g").attr("class","nv-y nv-axis");R.append("g").attr("class",
"nv-scatterWrap");R.append("g").attr("class","nv-regressionLinesWrap");R.append("g").attr("class","nv-distWrap");R.append("g").attr("class","nv-legendWrap");R.append("g").attr("class","nv-controlsWrap");P.attr("transform","translate("+h.left+","+h.top+")");s&&L.select(".nv-y.nv-axis").attr("transform","translate("+J+",0)");if(B){j.width(J/2);P.select(".nv-legendWrap").datum(y).call(j);if(h.top!=j.height()){h.top=j.height();S=(n||parseInt(K.style("height"))||400)-h.top-h.bottom}P.select(".nv-legendWrap").attr("transform",
"translate("+J/2+","+-h.top+")")}if(z){f.width(180).color(["#444"]);L.select(".nv-controlsWrap").datum(I).attr("transform","translate(0,"+-h.top+")").call(f)}b.width(J).height(S).color(y.map(function(a,b){return a.color||l(a,b)}).filter(function(a,b){return!y[b].disabled}));P.select(".nv-scatterWrap").datum(y.filter(function(a){return!a.disabled})).call(b);P.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+b.id()+")");P=P.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(a){return a});
P.enter().append("g").attr("class","nv-regLines");P=P.selectAll(".nv-regLine").data(function(a){return[a]});P.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0);P.transition().attr("x1",r.range()[0]).attr("x2",r.range()[1]).attr("y1",function(a){return o(r.domain()[0]*a.slope+a.intercept)}).attr("y2",function(a){return o(r.domain()[1]*a.slope+a.intercept)}).style("stroke",function(a,b,c){return l(a,c)}).style("stroke-opacity",function(a){return a.disabled||typeof a.slope===
"undefined"||typeof a.intercept==="undefined"?0:1});if(D){g.scale(r).ticks(g.ticks()?g.ticks():J/100).tickSize(-S,0);L.select(".nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")").call(g)}if(A){k.scale(o).ticks(k.ticks()?k.ticks():S/36).tickSize(-J,0);L.select(".nv-y.nv-axis").call(k)}if(q){e.getData(b.x()).scale(r).width(J).color(y.map(function(a,b){return a.color||l(a,b)}).filter(function(a,b){return!y[b].disabled}));R.select(".nv-distWrap").append("g").attr("class","nv-distributionX");
L.select(".nv-distributionX").attr("transform","translate(0,"+o.range()[0]+")").datum(y.filter(function(a){return!a.disabled})).call(e)}if(t){i.getData(b.y()).scale(o).width(S).color(y.map(function(a,b){return a.color||l(a,b)}).filter(function(a,b){return!y[b].disabled}));R.select(".nv-distWrap").append("g").attr("class","nv-distributionY");L.select(".nv-distributionY").attr("transform","translate("+(s?J:-i.size())+",0)").datum(y.filter(function(a){return!a.disabled})).call(i)}if(d3.fisheye){L.select(".nv-background").attr("width",
J).attr("height",S);L.select(".nv-background").on("mousemove",N);L.select(".nv-background").on("click",function(){x=!x});b.dispatch.on("elementClick.freezeFisheye",function(){x=!x})}f.dispatch.on("legendClick",function(c){c.disabled=!c.disabled;w=c.disabled?0:2.5;L.select(".nv-background").style("pointer-events",c.disabled?"none":"all");L.select(".nv-point-paths").style("pointer-events",c.disabled?"all":"none");if(c.disabled){r.distortion(w).focus(0);o.distortion(w).focus(0);L.select(".nv-scatterWrap").call(b);
L.select(".nv-x.nv-axis").call(g);L.select(".nv-y.nv-axis").call(k)}else x=false;a.update()});j.dispatch.on("stateChange",function(b){G=b;F.stateChange(G);a.update()});b.dispatch.on("elementMouseover.tooltip",function(a){d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",a.pos[1]-S);d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",a.pos[0]+e.size());a.pos=[a.pos[0]+h.left,a.pos[1]+h.top];F.tooltipShow(a)});
F.on("tooltipShow",function(e){if(m){var f=T.parentNode,i=e.pos[0]+(f.offsetLeft||0),j=e.pos[1]+(f.offsetTop||0),q=e.pos[0]+(f.offsetLeft||0),n=o.range()[0]+h.top+(f.offsetTop||0),C=r.range()[0]+h.left+(f.offsetLeft||0),y=e.pos[1]+(f.offsetTop||0),t=g.tickFormat()(b.x()(e.point,e.pointIndex)),l=k.tickFormat()(b.y()(e.point,e.pointIndex));u!=null&&c.tooltip.show([q,n],u(e.series.key,t,l,e,a),"n",1,f,"x-nvtooltip");v!=null&&c.tooltip.show([C,y],v(e.series.key,t,l,e,a),"e",1,f,"y-nvtooltip");H!=null&&
c.tooltip.show([i,j],H(e.series.key,t,l,e.point.tooltip,e,a),e.value<0?"n":"s",null,f)}});F.on("changeState",function(b){if(typeof b.disabled!=="undefined"){y.forEach(function(a,c){a.disabled=b.disabled[c]});G.disabled=b.disabled}a.update()});r.copy();o.copy()});return a}var b=c.models.scatter(),g=c.models.axis(),k=c.models.axis(),j=c.models.legend(),f=c.models.legend(),e=c.models.distribution(),i=c.models.distribution(),h={top:30,right:20,bottom:50,left:75},p=null,n=null,l=c.utils.defaultColor(),
r=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):b.xScale(),o=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):b.yScale(),q=false,t=false,B=true,D=true,A=true,s=false,z=!!d3.fisheye,w=0,x=false,m=true,u=function(a,b){return"<strong>"+b+"</strong>"},v=function(a,b,c){return"<strong>"+c+"</strong>"},H=function(a,b,c,e){return"<h3>"+a+"</h3><p>"+e+"</p>"},G={},C=null,F=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),E="No Data Available.",M=250;b.xScale(r).yScale(o);
g.orient("bottom").tickPadding(10);k.orient(s?"right":"left").tickPadding(10);e.axis("x");i.axis("y");f.updateState(false);var I=[{key:"Magnify",disabled:true}];b.dispatch.on("elementMouseout.tooltip",function(a){F.tooltipHide(a);d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",0);d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",i.size())});F.on("tooltipHide",function(){m&&c.tooltip.cleanup()});a.dispatch=
F;a.scatter=b;a.legend=j;a.controls=f;a.xAxis=g;a.yAxis=k;a.distX=e;a.distY=i;d3.rebind(a,b,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi");a.options=c.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return h;h.top=typeof b.top!="undefined"?b.top:h.top;h.right=typeof b.right!="undefined"?b.right:h.right;h.bottom=
typeof b.bottom!="undefined"?b.bottom:h.bottom;h.left=typeof b.left!="undefined"?b.left:h.left;return a};a.width=function(b){if(!arguments.length)return p;p=b;return a};a.height=function(b){if(!arguments.length)return n;n=b;return a};a.color=function(b){if(!arguments.length)return l;l=c.utils.getColor(b);j.color(l);e.color(l);i.color(l);return a};a.showDistX=function(b){if(!arguments.length)return q;q=b;return a};a.showDistY=function(b){if(!arguments.length)return t;t=b;return a};a.showControls=function(b){if(!arguments.length)return z;
z=b;return a};a.showLegend=function(b){if(!arguments.length)return B;B=b;return a};a.showXAxis=function(b){if(!arguments.length)return D;D=b;return a};a.showYAxis=function(b){if(!arguments.length)return A;A=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return s;s=b;k.orient(b?"right":"left");return a};a.fisheye=function(b){if(!arguments.length)return w;w=b;return a};a.tooltips=function(b){if(!arguments.length)return m;m=b;return a};a.tooltipContent=function(b){if(!arguments.length)return H;
H=b;return a};a.tooltipXContent=function(b){if(!arguments.length)return u;u=b;return a};a.tooltipYContent=function(b){if(!arguments.length)return v;v=b;return a};a.state=function(b){if(!arguments.length)return G;G=b;return a};a.defaultState=function(b){if(!arguments.length)return C;C=b;return a};a.noData=function(b){if(!arguments.length)return E;E=b;return a};a.transitionDuration=function(b){if(!arguments.length)return M;M=b;return a};return a};c.models.sparkline=function(){function a(c){c.each(function(a){var c=
g-b.left-b.right,j=k-b.top-b.bottom,q=d3.select(this);f.domain(n||d3.extent(a,i)).range(r||[0,c]);e.domain(l||d3.extent(a,h)).range(o||[j,0]);a=q.selectAll("g.nv-wrap.nv-sparkline").data([a]);a.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline").append("g");a.select("g");a.attr("transform","translate("+b.left+","+b.top+")");c=a.selectAll("path").data(function(a){return[a]});c.enter().append("path");c.exit().remove();c.style("stroke",function(a,b){return a.color||p(a,b)}).attr("d",d3.svg.line().x(function(a,
b){return f(i(a,b))}).y(function(a,b){return e(h(a,b))}));a=a.selectAll("circle.nv-point").data(function(a){function b(c){if(c!=-1){var e=a[c];e.pointIndex=c;return e}return null}var c=a.map(function(a,b){return h(a,b)}),f=b(c.lastIndexOf(e.domain()[1])),g=b(c.indexOf(e.domain()[0])),c=b(c.length-1);return[g,f,c].filter(function(a){return a!=null})});a.enter().append("circle");a.exit().remove();a.attr("cx",function(a){return f(i(a,a.pointIndex))}).attr("cy",function(a){return e(h(a,a.pointIndex))}).attr("r",
2).attr("class",function(a){return i(a,a.pointIndex)==f.domain()[1]?"nv-point nv-currentValue":h(a,a.pointIndex)==e.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})});return a}var b={top:2,right:0,bottom:2,left:0},g=400,k=32,j=true,f=d3.scale.linear(),e=d3.scale.linear(),i=function(a){return a.x},h=function(a){return a.y},p=c.utils.getColor(["#000"]),n,l,r,o;a.options=c.utils.optionsFunc.bind(a);a.margin=function(c){if(!arguments.length)return b;b.top=typeof c.top!="undefined"?c.top:b.top;
b.right=typeof c.right!="undefined"?c.right:b.right;b.bottom=typeof c.bottom!="undefined"?c.bottom:b.bottom;b.left=typeof c.left!="undefined"?c.left:b.left;return a};a.width=function(b){if(!arguments.length)return g;g=b;return a};a.height=function(b){if(!arguments.length)return k;k=b;return a};a.x=function(b){if(!arguments.length)return i;i=d3.functor(b);return a};a.y=function(b){if(!arguments.length)return h;h=d3.functor(b);return a};a.xScale=function(b){if(!arguments.length)return f;f=b;return a};
a.yScale=function(b){if(!arguments.length)return e;e=b;return a};a.xDomain=function(b){if(!arguments.length)return n;n=b;return a};a.yDomain=function(b){if(!arguments.length)return l;l=b;return a};a.xRange=function(b){if(!arguments.length)return r;r=b;return a};a.yRange=function(b){if(!arguments.length)return o;o=b;return a};a.animate=function(b){if(!arguments.length)return j;j=b;return a};a.color=function(b){if(!arguments.length)return p;p=c.utils.getColor(b);return a};return a};c.models.sparklinePlus=
function(){function a(c){c.each(function(l){function D(){if(!h){var a=m.selectAll(".nv-hoverValue").data(i),c=a.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);a.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove();a.attr("transform",function(a){return"translate("+f(b.x()(l[a],a))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1);if(i.length){c.append("line").attr("x1",0).attr("y1",
-g.top).attr("x2",0).attr("y2",z);c.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-g.top).attr("text-anchor","end").attr("dy",".9em");m.select(".nv-hoverValue .nv-xValue").text(p(b.x()(l[i[0]],i[0])));c.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-g.top).attr("text-anchor","start").attr("dy",".9em");m.select(".nv-hoverValue .nv-yValue").text(n(b.y()(l[i[0]],i[0])))}}}var A=d3.select(this),s=(k||parseInt(A.style("width"))||960)-g.left-g.right,z=(j||parseInt(A.style("height"))||
400)-g.top-g.bottom;a.update=function(){a(c)};a.container=this;if(!l||!l.length){var w=A.selectAll(".nv-noData").data([q]);w.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");w.attr("x",g.left+s/2).attr("y",g.top+z/2).text(function(a){return a});return a}A.selectAll(".nv-noData").remove();w=b.y()(l[l.length-1],l.length-1);f=b.xScale();e=b.yScale();var x=A.selectAll("g.nv-wrap.nv-sparklineplus").data([l]),A=x.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),
m=x.select("g");A.append("g").attr("class","nv-sparklineWrap");A.append("g").attr("class","nv-valueWrap");A.append("g").attr("class","nv-hoverArea");x.attr("transform","translate("+g.left+","+g.top+")");x=m.select(".nv-sparklineWrap");b.width(s).height(z);x.call(b);x=m.select(".nv-valueWrap").selectAll(".nv-currentValue").data([w]);x.enter().append("text").attr("class","nv-currentValue").attr("dx",o?-8:8).attr("dy",".9em").style("text-anchor",o?"end":"start");x.attr("x",s+(o?g.right:0)).attr("y",
r?function(a){return e(a)}:0).style("fill",b.color()(l[l.length-1],l.length-1)).text(n(w));A.select(".nv-hoverArea").append("rect").on("mousemove",function(){if(!h){for(var a=d3.mouse(this)[0]-g.left,c=l,a=Math.round(f.invert(a)),e=Math.abs(b.x()(c[0],0)-a),j=0,k=0;k<c.length;k++)if(Math.abs(b.x()(c[k],k)-a)<e){e=Math.abs(b.x()(c[k],k)-a);j=k}i=[j];D()}}).on("click",function(){h=!h}).on("mouseout",function(){i=[];D()});m.select(".nv-hoverArea rect").attr("transform",function(){return"translate("+
-g.left+","+-g.top+")"}).attr("width",s+g.left+g.right).attr("height",z+g.top)});return a}var b=c.models.sparkline(),g={top:15,right:100,bottom:10,left:50},k=null,j=null,f,e,i=[],h=false,p=d3.format(",r"),n=d3.format(",.2f"),l=true,r=true,o=false,q="No Data Available.";a.sparkline=b;d3.rebind(a,b,"x","y","xScale","yScale","color");a.options=c.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return g;g.top=typeof b.top!="undefined"?b.top:g.top;g.right=typeof b.right!="undefined"?
b.right:g.right;g.bottom=typeof b.bottom!="undefined"?b.bottom:g.bottom;g.left=typeof b.left!="undefined"?b.left:g.left;return a};a.width=function(b){if(!arguments.length)return k;k=b;return a};a.height=function(b){if(!arguments.length)return j;j=b;return a};a.xTickFormat=function(b){if(!arguments.length)return p;p=b;return a};a.yTickFormat=function(b){if(!arguments.length)return n;n=b;return a};a.showValue=function(b){if(!arguments.length)return l;l=b;return a};a.alignValue=function(b){if(!arguments.length)return r;
r=b;return a};a.rightAlignValue=function(b){if(!arguments.length)return o;o=b;return a};a.noData=function(b){if(!arguments.length)return q;q=b;return a};return a};c.models.stackedArea=function(){function a(c){c.each(function(c){var h=g-b.left-b.right,D=k-b.top-b.bottom,w=d3.select(this);o=t.xScale();q=t.yScale();var x=c;c.forEach(function(a,b){a.seriesIndex=b;a.values=a.values.map(function(a,c){a.index=c;a.seriesIndex=b;return a})});var c=c.filter(function(a){return!a.disabled}),c=d3.layout.stack().order(n).offset(p).values(function(a){return a.values}).x(e).y(i).out(function(a,
b,c){c=i(a)===0?0:c;a.display={y:c,y0:b}})(c),w=w.selectAll("g.nv-wrap.nv-stackedarea").data([c]),m=w.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),u=m.append("defs"),m=m.append("g"),v=w.select("g");m.append("g").attr("class","nv-areaWrap");m.append("g").attr("class","nv-scatterWrap");w.attr("transform","translate("+b.left+","+b.top+")");t.width(h).height(D).x(e).y(function(a){return a.display.y+a.display.y0}).forceY([0]).color(c.map(function(a){return a.color||j(a,a.seriesIndex)}));
v.select(".nv-scatterWrap").datum(c).call(t);u.append("clipPath").attr("id","nv-edge-clip-"+f).append("rect");w.select("#nv-edge-clip-"+f+" rect").attr("width",h).attr("height",D);v.attr("clip-path",r?"url(#nv-edge-clip-"+f+")":"");var H=d3.svg.area().x(function(a,b){return o(e(a,b))}).y0(function(a){return q(a.display.y0)}).y1(function(a){return q(a.display.y+a.display.y0)}).interpolate(l),G=d3.svg.area().x(function(a,b){return o(e(a,b))}).y0(function(a){return q(a.display.y0)}).y1(function(a){return q(a.display.y0)}),
h=v.select(".nv-areaWrap").selectAll("path.nv-area").data(function(a){return a});h.enter().append("path").attr("class",function(a,b){return"nv-area nv-area-"+b}).attr("d",function(a){return G(a.values,a.seriesIndex)}).on("mouseover",function(a){d3.select(this).classed("hover",true);B.areaMouseover({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}).on("mouseout",function(a){d3.select(this).classed("hover",false);B.areaMouseout({point:a,series:a.key,pos:[d3.event.pageX,
d3.event.pageY],seriesIndex:a.seriesIndex})}).on("click",function(a){d3.select(this).classed("hover",false);B.areaClick({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})});h.exit().remove();h.style("fill",function(a){return a.color||j(a,a.seriesIndex)}).style("stroke",function(a){return a.color||j(a,a.seriesIndex)});h.transition().attr("d",function(a,b){return H(a.values,b)});t.dispatch.on("elementMouseover.area",function(a){v.select(".nv-chart-"+f+" .nv-area-"+
a.seriesIndex).classed("hover",true)});t.dispatch.on("elementMouseout.area",function(a){v.select(".nv-chart-"+f+" .nv-area-"+a.seriesIndex).classed("hover",false)});a.d3_stackedOffset_stackPercent=function(a){var b=a.length,c=a[0].length,e=1/b,f,g,h,j=[];for(g=0;g<c;++g){for(h=f=0;f<x.length;f++)h=h+i(x[f].values[g]);if(h)for(f=0;f<b;f++)a[f][g][1]=a[f][g][1]/h;else for(f=0;f<b;f++)a[f][g][1]=e}for(g=0;g<c;++g)j[g]=0;return j}});return a}var b={top:0,right:0,bottom:0,left:0},g=960,k=500,j=c.utils.defaultColor(),
f=Math.floor(Math.random()*1E5),e=function(a){return a.x},i=function(a){return a.y},h="stack",p="zero",n="default",l="linear",r=false,o,q,t=c.models.scatter(),B=d3.dispatch("tooltipShow","tooltipHide","areaClick","areaMouseover","areaMouseout");t.size(2.2).sizeDomain([2.2,2.2]);t.dispatch.on("elementClick.area",function(a){B.areaClick(a)});t.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];B.tooltipShow(a)});t.dispatch.on("elementMouseout.tooltip",function(a){B.tooltipHide(a)});
a.dispatch=B;a.scatter=t;d3.rebind(a,t,"interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","highlightPoint","clearHighlights");a.options=c.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return e;e=d3.functor(b);return a};a.y=function(b){if(!arguments.length)return i;i=d3.functor(b);return a};a.margin=function(c){if(!arguments.length)return b;b.top=typeof c.top!="undefined"?
c.top:b.top;b.right=typeof c.right!="undefined"?c.right:b.right;b.bottom=typeof c.bottom!="undefined"?c.bottom:b.bottom;b.left=typeof c.left!="undefined"?c.left:b.left;return a};a.width=function(b){if(!arguments.length)return g;g=b;return a};a.height=function(b){if(!arguments.length)return k;k=b;return a};a.clipEdge=function(b){if(!arguments.length)return r;r=b;return a};a.color=function(b){if(!arguments.length)return j;j=c.utils.getColor(b);return a};a.offset=function(b){if(!arguments.length)return p;
p=b;return a};a.order=function(b){if(!arguments.length)return n;n=b;return a};a.style=function(b){if(!arguments.length)return h;h=b;switch(h){case "stack":a.offset("zero");a.order("default");break;case "stream":a.offset("wiggle");a.order("inside-out");break;case "stream-center":a.offset("silhouette");a.order("inside-out");break;case "expand":a.offset("expand");a.order("default");break;case "stack_percent":a.offset(a.d3_stackedOffset_stackPercent);a.order("default")}return a};a.interpolate=function(b){if(!arguments.length)return l;
l=b;return a};return a};c.models.stackedAreaChart=function(){function a(E){E.each(function(E){var I=d3.select(this),y=this,Q=(h||parseInt(I.style("width"))||960)-i.left-i.right,N=(p||parseInt(I.style("height"))||400)-i.top-i.bottom;a.update=function(){I.transition().duration(F).call(a)};a.container=this;x.disabled=E.map(function(a){return!!a.disabled});if(!m){var K;m={};for(K in x)m[K]=x[K]instanceof Array?x[K].slice(0):x[K]}if(!E||!E.length||!E.filter(function(a){return a.values.length}).length){K=
I.selectAll(".nv-noData").data([u]);K.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");K.attr("x",i.left+Q/2).attr("y",i.top+N/2).text(function(a){return a});return a}I.selectAll(".nv-noData").remove();s=b.xScale();z=b.yScale();K=I.selectAll("g.nv-wrap.nv-stackedAreaChart").data([E]);var T=K.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),J=K.select("g");T.append("rect").style("opacity",0);T.append("g").attr("class",
"nv-x nv-axis");T.append("g").attr("class","nv-y nv-axis");T.append("g").attr("class","nv-stackedWrap");T.append("g").attr("class","nv-legendWrap");T.append("g").attr("class","nv-controlsWrap");T.append("g").attr("class","nv-interactive");J.select("rect").attr("width",Q).attr("height",N);if(r){T=l?Q-H:Q;j.width(T);J.select(".nv-legendWrap").datum(E).call(j);if(i.top!=j.height()){i.top=j.height();N=(p||parseInt(I.style("height"))||400)-i.top-i.bottom}J.select(".nv-legendWrap").attr("transform","translate("+
(Q-T)+","+-i.top+")")}if(l){var S=[{key:C.stacked||"Stacked",metaKey:"Stacked",disabled:b.style()!="stack",style:"stack"},{key:C.stream||"Stream",metaKey:"Stream",disabled:b.style()!="stream",style:"stream"},{key:C.expanded||"Expanded",metaKey:"Expanded",disabled:b.style()!="expand",style:"expand"},{key:C.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:b.style()!="stack_percent",style:"stack_percent"}];H=G.length/3*260;S=S.filter(function(a){return G.indexOf(a.metaKey)!==-1});f.width(H).color(["#444",
"#444","#444"]);J.select(".nv-controlsWrap").datum(S).call(f);if(i.top!=Math.max(f.height(),j.height())){i.top=Math.max(f.height(),j.height());N=(p||parseInt(I.style("height"))||400)-i.top-i.bottom}J.select(".nv-controlsWrap").attr("transform","translate(0,"+-i.top+")")}K.attr("transform","translate("+i.left+","+i.top+")");t&&J.select(".nv-y.nv-axis").attr("transform","translate("+Q+",0)");if(B){e.width(Q).height(N).margin({left:i.left,top:i.top}).svgContainer(I).xScale(s);K.select(".nv-interactive").call(e)}b.width(Q).height(N);
J.select(".nv-stackedWrap").datum(E).transition().call(b);if(o){g.scale(s).ticks(Q/100).tickSize(-N,0);J.select(".nv-x.nv-axis").attr("transform","translate(0,"+N+")");J.select(".nv-x.nv-axis").transition().duration(0).call(g)}if(q){k.scale(z).ticks(b.offset()=="wiggle"?0:N/36).tickSize(-Q,0).setTickFormat(b.style()=="expand"||b.style()=="stack_percent"?d3.format("%"):w);J.select(".nv-y.nv-axis").transition().duration(0).call(k)}b.dispatch.on("areaClick.toggle",function(b){E.filter(function(a){return!a.disabled}).length===
1?E.forEach(function(a){a.disabled=false}):E.forEach(function(a,c){a.disabled=c!=b.seriesIndex});x.disabled=E.map(function(a){return!!a.disabled});v.stateChange(x);a.update()});j.dispatch.on("stateChange",function(b){x.disabled=b.disabled;v.stateChange(x);a.update()});f.dispatch.on("legendClick",function(c){if(c.disabled){S=S.map(function(a){a.disabled=true;return a});c.disabled=false;b.style(c.style);x.style=b.style();v.stateChange(x);a.update()}});e.dispatch.on("elementMousemove",function(f){b.clearHighlights();
var h,j,m,l=[];E.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(e,g){j=c.interactiveBisect(e.values,f.pointXValue,a.x());b.highlightPoint(g,j,true);var i=e.values[j];if(typeof i!=="undefined"){typeof h==="undefined"&&(h=i);typeof m==="undefined"&&(m=a.xScale()(a.x()(i,j)));var k=b.style()=="expand"?i.display.y:a.y()(i,j);l.push({key:e.key,value:k,color:n(e,e.seriesIndex),stackedValue:i.display})}});l.reverse();if(l.length>2){var o=a.yScale().invert(f.mouseY),p=null;l.forEach(function(a,
b){o=Math.abs(o);var c=Math.abs(a.stackedValue.y0),e=Math.abs(a.stackedValue.y);o>=c&&o<=e+c&&(p=b)});if(p!=null)l[p].highlight=true}var q=g.tickFormat()(a.x()(h,j)),r=b.style()=="expand"?function(a){return d3.format(".1%")(a)}:function(a){return k.tickFormat()(a)};e.tooltip.position({left:m+i.left,top:f.mouseY+i.top}).chartContainer(y.parentNode).enabled(D).valueFormatter(r).data({value:q,series:l})();e.renderGuideLine(m)});e.dispatch.on("elementMouseout",function(){v.tooltipHide();b.clearHighlights()});
v.on("tooltipShow",function(e){if(D){var f=y.parentNode,h=e.pos[0]+(f.offsetLeft||0),i=e.pos[1]+(f.offsetTop||0),j=g.tickFormat()(b.x()(e.point,e.pointIndex)),l=k.tickFormat()(b.y()(e.point,e.pointIndex)),j=A(e.series.key,j,l,e,a);c.tooltip.show([h,i],j,e.value<0?"n":"s",null,f)}});v.on("changeState",function(c){if(typeof c.disabled!=="undefined"&&E.length===c.disabled.length){E.forEach(function(a,b){a.disabled=c.disabled[b]});x.disabled=c.disabled}typeof c.style!=="undefined"&&b.style(c.style);a.update()})});
return a}var b=c.models.stackedArea(),g=c.models.axis(),k=c.models.axis(),j=c.models.legend(),f=c.models.legend(),e=c.interactiveGuideline(),i={top:30,right:25,bottom:50,left:60},h=null,p=null,n=c.utils.defaultColor(),l=true,r=true,o=true,q=true,t=false,B=false,D=true,A=function(a,b,c){return"<h3>"+a+"</h3><p>"+c+" on "+b+"</p>"},s,z,w=d3.format(",.2f"),x={style:b.style()},m=null,u="No Data Available.",v=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),H=250,G=["Stacked","Stream",
"Expanded"],C={},F=250;g.orient("bottom").tickPadding(7);k.orient(t?"right":"left");f.updateState(false);b.dispatch.on("tooltipShow",function(a){a.pos=[a.pos[0]+i.left,a.pos[1]+i.top];v.tooltipShow(a)});b.dispatch.on("tooltipHide",function(a){v.tooltipHide(a)});v.on("tooltipHide",function(){D&&c.tooltip.cleanup()});a.dispatch=v;a.stacked=b;a.legend=j;a.controls=f;a.xAxis=g;a.yAxis=k;a.interactiveLayer=e;d3.rebind(a,b,"x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","sizeDomain",
"interactive","useVoronoi","offset","order","style","clipEdge","forceX","forceY","forceSize","interpolate");a.options=c.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return i;i.top=typeof b.top!="undefined"?b.top:i.top;i.right=typeof b.right!="undefined"?b.right:i.right;i.bottom=typeof b.bottom!="undefined"?b.bottom:i.bottom;i.left=typeof b.left!="undefined"?b.left:i.left;return a};a.width=function(b){if(!arguments.length)return h;h=b;return a};a.height=function(b){if(!arguments.length)return p;
p=b;return a};a.color=function(e){if(!arguments.length)return n;n=c.utils.getColor(e);j.color(n);b.color(n);return a};a.showControls=function(b){if(!arguments.length)return l;l=b;return a};a.showLegend=function(b){if(!arguments.length)return r;r=b;return a};a.showXAxis=function(b){if(!arguments.length)return o;o=b;return a};a.showYAxis=function(b){if(!arguments.length)return q;q=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return t;t=b;k.orient(b?"right":"left");return a};a.useInteractiveGuideline=
function(b){if(!arguments.length)return B;B=b;if(b===true){a.interactive(false);a.useVoronoi(false)}return a};a.tooltip=function(b){if(!arguments.length)return A;A=b;return a};a.tooltips=function(b){if(!arguments.length)return D;D=b;return a};a.tooltipContent=function(b){if(!arguments.length)return A;A=b;return a};a.state=function(b){if(!arguments.length)return x;x=b;return a};a.defaultState=function(b){if(!arguments.length)return m;m=b;return a};a.noData=function(b){if(!arguments.length)return u;
u=b;return a};a.transitionDuration=function(b){if(!arguments.length)return F;F=b;return a};a.controlsData=function(b){if(!arguments.length)return G;G=b;return a};a.controlLabels=function(b){if(!arguments.length||typeof b!=="object")return C;C=b;return a};k.setTickFormat=k.tickFormat;k.tickFormat=function(a){if(!arguments.length)return w;w=a;return k};return a}})();
