(function(){var c={dev:!1};c.tooltip=c.tooltip||{};c.utils=c.utils||{};c.models=c.models||{};c.charts={};c.logs={};c.dom={};c.dispatch=d3.dispatch("render_start","render_end");Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,i=function(){},f=function(){return c.apply(this instanceof i&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};
i.prototype=this.prototype;f.prototype=new i;return f});c.dev&&(c.dispatch.on("render_start",function(){c.logs.startTime=+new Date}),c.dispatch.on("render_end",function(){c.logs.endTime=+new Date;c.logs.totalTime=c.logs.endTime-c.logs.startTime;c.log("total",c.logs.totalTime)}));c.log=function(){c.dev&&window.console&&console.log&&console.log.apply?console.log.apply(console,arguments):c.dev&&(window.console&&typeof console.log=="function"&&Function.prototype.bind)&&Function.prototype.bind.call(console.log,
console).apply(console,arguments);return arguments[arguments.length-1]};c.deprecated=function(a,b){console&&console.warn&&console.warn("nvd3 warning: `"+a+"` has been deprecated. ",b||"")};c.render=function(a){a=a||1;c.render.active=true;c.dispatch.render_start();var b=function(){for(var d,i,f=0;f<a&&(i=c.render.queue[f]);f++){d=i.generate();typeof i.callback==typeof Function&&i.callback(d)}c.render.queue.splice(0,f);if(c.render.queue.length)setTimeout(b);else{c.dispatch.render_end();c.render.active=
false}};setTimeout(b)};c.render.active=!1;c.render.queue=[];c.addGraph=function(a,b){typeof a===typeof Function&&(a={generate:a,callback:b});c.render.queue.push(a);c.render.active||c.render()};"undefined"!==typeof module&&"undefined"!==typeof exports&&(module.exports=c);"undefined"!==typeof window&&(window.nv=c);c.dom.write=function(a){return window.fastdom!==void 0?fastdom.write(a):a()};c.dom.read=function(a){return window.fastdom!==void 0?fastdom.read(a):a()};c.interactiveGuideline=function(){function a(t){t.each(function(p){function q(){var c=
d3.mouse(this),d=c[0],c=c[1],e=true,i=false;if(l){d=d3.event.offsetX;c=d3.event.offsetY;d3.event.target.tagName!=="svg"&&(e=false);d3.event.target.className.baseVal.match("nv-legend")&&(i=true)}if(e){d=d-f.left;c=c-f.top}if(d<0||c<0||d>n||c>u||d3.event.relatedTarget&&d3.event.relatedTarget.ownerSVGElement===void 0||i){if(!l||!d3.event.relatedTarget||!(d3.event.relatedTarget.ownerSVGElement===void 0&&(d3.event.relatedTarget.className===void 0||d3.event.relatedTarget.className.match(b.nvPointerEventsClass)))){g.elementMouseout({mouseX:d,
mouseY:c});a.renderGuideLine(null);b.hidden(true)}}else{b.hidden(false);e=h.invert(d);g.elementMousemove({mouseX:d,mouseY:c,pointXValue:e});d3.event.type==="dblclick"&&g.elementDblclick({mouseX:d,mouseY:c,pointXValue:e});d3.event.type==="click"&&g.elementClick({mouseX:d,mouseY:c,pointXValue:e})}}var r=d3.select(this),n=d||960,u=i||400,x=r.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([p]);x.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine");
if(k){k.on("touchmove",q).on("mousemove",q,true).on("mouseout",q,true).on("dblclick",q).on("click",q);a.guideLine=null;a.renderGuideLine=function(b){e&&(a.guideLine&&a.guideLine.attr("x1")===b||c.dom.write(function(){var a=x.select(".nv-interactiveGuideLine").selectAll("line").data(b!=null?[c.utils.NaNtoZero(b)]:[],String);a.enter().append("line").attr("class","nv-guideline").attr("x1",function(a){return a}).attr("x2",function(a){return a}).attr("y1",u).attr("y2",0);a.exit().remove()}))}}})}var b=
c.models.tooltip();b.duration(0).hideDelay(0)._isInteractiveLayer(true).hidden(false);var d=null,i=null,f={left:0,top:0},h=d3.scale.linear(),g=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick"),e=true,k=null,l="ActiveXObject"in window;a.dispatch=g;a.tooltip=b;a.margin=function(b){if(!arguments.length)return f;f.top=typeof b.top!="undefined"?b.top:f.top;f.left=typeof b.left!="undefined"?b.left:f.left;return a};a.width=function(b){if(!arguments.length)return d;d=b;return a};
a.height=function(b){if(!arguments.length)return i;i=b;return a};a.xScale=function(b){if(!arguments.length)return h;h=b;return a};a.showGuideLine=function(b){if(!arguments.length)return e;e=b;return a};a.svgContainer=function(b){if(!arguments.length)return k;k=b;return a};return a};c.interactiveBisect=function(a,b,c){if(!(a instanceof Array))return null;var i;i=typeof c!=="function"?function(a){return a.x}:c;var c=d3.bisector(function(a,b){return i(a)-b}).left,c=d3.max([0,c(a,b)-1]),f=i(a[c]);typeof f===
"undefined"&&(f=c);if(f===b)return c;var h=d3.min([c+1,a.length-1]),a=i(a[h]);typeof a==="undefined"&&(a=h);return Math.abs(a-b)>=Math.abs(f-b)?c:h};c.nearestValueIndex=function(a,b,c){var i=Infinity,f=null;a.forEach(function(a,g){var e=Math.abs(b-a);if(a!=null&&e<=i&&e<c){i=e;f=g}});return f};(function(){c.models.tooltip=function(){function a(){if(k){var a=d3.select(k);a.node().tagName!=="svg"&&(a=a.select("svg"));var b=a.node()?a.attr("viewBox"):null;if(b){b=b.split(" ");a=parseInt(a.style("width"),
10)/b[2];r.left=r.left*a;r.top=r.top*a}}}function b(){if(u){var v;a:{if(d&&d.series){if(d.series instanceof Array){v=!!d.series.length;break a}if(d.series instanceof Object){d.series=[d.series];v=true;break a}}v=false}if(v){a();var f=r.left,y=g!==null?g:r.top;c.dom.write(function(){if(!p){p=d3.select(k?k:document.body).append("div").attr("class","nvtooltip "+(e?e:"xy-tooltip")).attr("id",j);p.style("top",0).style("left",0);p.style("opacity",0);p.selectAll("div, table, td, tr").classed(w,true);p.classed(w,
true);q=p.node()}var a=C(d);if(a)q.innerHTML=a;k&&o?c.dom.read(function(){var a=k.getElementsByTagName("svg")[0],b=0,c=0;if(a){a=a.getBoundingClientRect();b=k.getBoundingClientRect();c=a.top;if(c<0)var m=k.getBoundingClientRect(),c=Math.abs(c)>m.height?0:c;c=Math.abs(c-b.top);b=Math.abs(a.left-b.left)}f=f+(k.offsetLeft+b-2*k.scrollLeft);y=y+(k.offsetTop+c-2*k.scrollTop);h&&h>0&&(y=Math.floor(y/h)*h);s([f,y])}):s([f,y])});return b}}}var d=null,i="w",f=25,h=0,g=null,e=null,k=null,l=true,t=400,p=null,
q=null,r={left:null,top:null},n={left:0,top:0},u=true,x=100,E=true,o=false,j="nvtooltip-"+Math.floor(Math.random()*1E5),w="nv-pointer-events-none",A=function(a){return a},D=function(a){return a},H=function(a){return a},C=function(a){if(a===null)return"";var b=d3.select(document.createElement("table"));E&&b.selectAll("thead").data([a]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",true).html(D(a.value));var c=b.selectAll("tbody").data([a]).enter().append("tbody").selectAll("tr").data(function(a){return a.series}).enter().append("tr").classed("highlight",
function(a){return a.highlight});c.append("td").classed("legend-color-guide",true).append("div").style("background-color",function(a){return a.color});c.append("td").classed("key",true).html(function(a,b){return H(a.key,b)});c.append("td").classed("value",true).html(function(a,b){return A(a.value,b)});c.selectAll("td").each(function(a){if(a.highlight){a=d3.scale.linear().domain([0,1]).range(["#fff",a.color]);d3.select(this).style("border-bottom-color",a(0.6)).style("border-top-color",a(0.6))}});b=
b.node().outerHTML;a.footer!==void 0&&(b=b+("<div class='footer'>"+a.footer+"</div>"));return b},s=function(a){q&&c.dom.read(function(){var b=parseInt(q.offsetHeight,10),d=parseInt(q.offsetWidth,10),m=c.utils.windowSize().width,e=c.utils.windowSize().height,G=window.pageYOffset,j=window.pageXOffset,s,z,e=window.innerWidth>=document.body.scrollWidth?e:e-16,m=window.innerHeight>=document.body.scrollHeight?m:m-16,F=function(a){var b=z;do{isNaN(a.offsetTop)||(b=b+a.offsetTop);a=a.offsetParent}while(a);
return b},J=function(a){var b=s;do{isNaN(a.offsetLeft)||(b=b+a.offsetLeft);a=a.offsetParent}while(a);return b};switch(i){case "e":s=a[0]-d-f;z=a[1]-b/2;J=J(q);F=F(q);J<j&&(s=a[0]+f>j?a[0]+f:j-J+s);F<G&&(z=G-F+z);F+b>G+e&&(z=G+e-F+z-b);break;case "w":s=a[0]+f;z=a[1]-b/2;J=J(q);F=F(q);J+d>m&&(s=a[0]-d-f);F<G&&(z=G+5);F+b>G+e&&(z=G+e-F+z-b);break;case "n":s=a[0]-d/2-5;z=a[1]+f;J=J(q);F=F(q);J<j&&(s=j+5);J+d>m&&(s=s-d/2+5);F+b>G+e&&(z=G+e-F+z-b);break;case "s":s=a[0]-d/2;z=a[1]-b-f;J=J(q);F=F(q);J<j&&
(s=j+5);J+d>m&&(s=s-d/2+5);G>F&&(z=G);break;case "none":s=a[0];z=a[1]-f;J=J(q);F=F(q)}s=s-n.left;z=z-n.top;var d=q.getBoundingClientRect(),G=window.pageYOffset||document.documentElement.scrollTop,j=window.pageXOffset||document.documentElement.scrollLeft,b="translate("+s+"px, "+z+"px)",h=d3.interpolateString("translate("+(d.left+j)+"px, "+(d.top+G)+"px)",b),G=p.style("opacity")<0.1;l?p.transition().delay(t).duration(0).style("opacity",0):p.interrupt().transition().duration(G?0:x).styleTween("transform",
function(){return h},"important").style("-webkit-transform",b).style("opacity",1)})};b.nvPointerEventsClass=w;b.options=c.utils.optionsFunc.bind(b);b._options=Object.create({},{duration:{get:function(){return x},set:function(a){x=a}},gravity:{get:function(){return i},set:function(a){i=a}},distance:{get:function(){return f},set:function(a){f=a}},snapDistance:{get:function(){return h},set:function(a){h=a}},classes:{get:function(){return e},set:function(a){e=a}},chartContainer:{get:function(){return k},
set:function(a){k=a}},fixedTop:{get:function(){return g},set:function(a){g=a}},enabled:{get:function(){return u},set:function(a){u=a}},hideDelay:{get:function(){return t},set:function(a){t=a}},contentGenerator:{get:function(){return C},set:function(a){C=a}},valueFormatter:{get:function(){return A},set:function(a){A=a}},headerFormatter:{get:function(){return D},set:function(a){D=a}},keyFormatter:{get:function(){return H},set:function(a){H=a}},headerEnabled:{get:function(){return E},set:function(a){E=
a}},_isInteractiveLayer:{get:function(){return o},set:function(a){o=!!a}},position:{get:function(){return r},set:function(a){r.left=a.left!==void 0?a.left:r.left;r.top=a.top!==void 0?a.top:r.top}},offset:{get:function(){return n},set:function(a){n.left=a.left!==void 0?a.left:n.left;n.top=a.top!==void 0?a.top:n.top}},hidden:{get:function(){return l},set:function(a){if(l!=a){l=!!a;b()}}},data:{get:function(){return d},set:function(a){if(a.point){a.value=a.point.x;a.series=a.series||{};a.series.value=
a.point.y;a.series.color=a.point.color||a.series.color}d=a}},tooltipElem:{get:function(){return q},set:function(){}},id:{get:function(){return j},set:function(){}}});c.utils.initOptions(b);return b}})();c.utils.windowSize=function(){var a={width:640,height:480};if(window.innerWidth&&window.innerHeight){a.width=window.innerWidth;a.height=window.innerHeight;return a}if(document.compatMode=="CSS1Compat"&&document.documentElement&&document.documentElement.offsetWidth){a.width=document.documentElement.offsetWidth;
a.height=document.documentElement.offsetHeight;return a}if(document.body&&document.body.offsetWidth){a.width=document.body.offsetWidth;a.height=document.body.offsetHeight}return a};c.utils.windowResize=function(a){window.addEventListener?window.addEventListener("resize",a):c.log("ERROR: Failed to bind to window.resize with: ",a);return{callback:a,clear:function(){window.removeEventListener("resize",a)}}};c.utils.getColor=function(a){if(a===void 0)return c.utils.defaultColor();if(Array.isArray(a)){var b=
d3.scale.ordinal().range(a);return function(a,c){return a.color||b(c===void 0?a:c)}}return a};c.utils.defaultColor=function(){return c.utils.getColor(d3.scale.category20().range())};c.utils.customTheme=function(a,b,c){var b=b||function(a){return a.key},c=c||d3.scale.category20().range(),i=c.length;return function(f){f=b(f);if(typeof a[f]==="function")return a[f]();if(a[f]!==void 0)return a[f];if(!i)i=c.length;i=i-1;return c[i]}};c.utils.pjax=function(a,b){var d=function(d){d3.html(d,function(d){var h=
d3.select(b).node();h.parentNode.replaceChild(d3.select(d).select(b).node(),h);c.utils.pjax(a,b)})};d3.selectAll(a).on("click",function(){history.pushState(this.href,this.textContent,this.href);d(this.href);d3.event.preventDefault()});d3.select(window).on("popstate",function(){d3.event.state&&d(d3.event.state)})};c.utils.calcApproxTextWidth=function(a){if(typeof a.style==="function"&&typeof a.text==="function"){var b=parseInt(a.style("font-size").replace("px",""),10);return a.text().length*b*0.5}return 0};
c.utils.NaNtoZero=function(a){return typeof a!=="number"||isNaN(a)||a===null||a===Infinity||a===-Infinity?0:a};d3.selection.prototype.watchTransition=function(a){var b=[this].concat([].slice.call(arguments,1));return a.transition.apply(a,b)};c.utils.renderWatch=function(a,b){if(!(this instanceof c.utils.renderWatch))return new c.utils.renderWatch(a,b);var d=b!==void 0?b:250,i=[],f=this;this.models=function(a){a=[].slice.call(arguments,0);a.forEach(function(a){a.__rendered=false;(function(a){a.dispatch.on("renderEnd",
function(){a.__rendered=true;f.renderEnd("model")})})(a);i.indexOf(a)<0&&i.push(a)});return this};this.reset=function(a){a!==void 0&&(d=a);i=[]};this.transition=function(a,b,c){b=arguments.length>1?[].slice.call(arguments,1):[];c=b.length>1?b.pop():d!==void 0?d:250;a.__rendered=false;i.indexOf(a)<0&&i.push(a);if(c===0){a.__rendered=true;a.delay=function(){return this};a.duration=function(){return this};return a}a.__rendered=a.length===0?true:a.every(function(a){return!a.length})?true:false;var k=
0;return a.transition().duration(c).each(function(){++k}).each("end",function(){if(--k===0){a.__rendered=true;f.renderEnd.apply(this,b)}})};this.renderEnd=function(){if(i.every(function(a){return a.__rendered})){i.forEach(function(a){a.__rendered=false});a.renderEnd.apply(this,arguments)}}};c.utils.deepExtend=function(a){(arguments.length>1?[].slice.call(arguments,1):[]).forEach(function(b){for(var d in b){var i=a[d]instanceof Array,f=typeof b[d]==="object";typeof a[d]==="object"&&!i&&f?c.utils.deepExtend(a[d],
b[d]):a[d]=b[d]}})};c.utils.state=function(){if(!(this instanceof c.utils.state))return new c.utils.state;var a={},b=function(){},d=function(){return{}},i=null;this.dispatch=d3.dispatch("change","set");this.dispatch.on("set",function(a){b(a,true)});this.getter=function(a){d=a;return this};this.setter=function(a,c){c||(c=function(){});b=function(b,d){a(b);d&&c()};return this};this.init=function(a){i=i||{};c.utils.deepExtend(i,a)};this.update=function(){if(i){b(i,false);i=null}var c;c=d();if(JSON.stringify(c)===
JSON.stringify(a))c=false;else{for(var h in c){a[h]===void 0&&(a[h]={});a[h]=c[h]}c=true}c&&this.dispatch.change(a)}};c.utils.optionsFunc=function(a){a&&d3.map(a).forEach(function(a,c){if(typeof this[a]==="function")this[a](c)}.bind(this));return this};c.utils.calcTicksX=function(a,b){var d=1,i=0;for(i;i<b.length;i=i+1)var f=b[i]&&b[i].values?b[i].values.length:0,d=f>d?f:d;c.log("Requested number of ticks: ",a);c.log("Calculated max values to be: ",d);a=a>d?a=d-1:a;a=Math.floor(a<1?1:a);c.log("Calculating tick count as: ",
a);return a};c.utils.calcTicksY=function(a,b){return c.utils.calcTicksX(a,b)};c.utils.initOption=function(a,b){if(a._calls&&a._calls[b])a[b]=a._calls[b];else{a[b]=function(c){if(!arguments.length)return a._options[b];a._overrides[b]=true;a._options[b]=c;return a};a["_"+b]=function(c){if(!arguments.length)return a._options[b];a._overrides[b]||(a._options[b]=c);return a}}};c.utils.initOptions=function(a){a._overrides=a._overrides||{};var b=Object.getOwnPropertyNames(a._options||{}),d=Object.getOwnPropertyNames(a._calls||
{}),b=b.concat(d),i;for(i in b)c.utils.initOption(a,b[i])};c.utils.inheritOptionsD3=function(a,b,c){a._d3options=c.concat(a._d3options||[]);c.unshift(b);c.unshift(a);d3.rebind.apply(this,c)};c.utils.arrayUnique=function(a){return a.sort().filter(function(b,c){return!c||b!=a[c-1]})};c.utils.symbolMap=d3.map();c.utils.symbol=function(){function a(a,f){var h=b.call(this,a,f),g=d.call(this,a,f);return d3.svg.symbolTypes.indexOf(h)!==-1?d3.svg.symbol().type(h).size(g)():c.utils.symbolMap.get(h)(g)}var b,
d=64;a.type=function(c){if(!arguments.length)return b;b=d3.functor(c);return a};a.size=function(b){if(!arguments.length)return d;d=d3.functor(b);return a};return a};c.utils.inheritOptions=function(a,b){var d=Object.getOwnPropertyNames(b._options||{}),i=Object.getOwnPropertyNames(b._calls||{}),f=b._inherited||[],h=b._d3options||[],g=d.concat(i).concat(f).concat(h);g.unshift(b);g.unshift(a);d3.rebind.apply(this,g);a._inherited=c.utils.arrayUnique(d.concat(i).concat(f).concat(d).concat(a._inherited||
[]));a._d3options=c.utils.arrayUnique(h.concat(a._d3options||[]))};c.utils.initSVG=function(a){a.classed({"nvd3-svg":true})};c.utils.sanitizeHeight=function(a,b){return a||parseInt(b.style("height"),10)||400};c.utils.sanitizeWidth=function(a,b){return a||parseInt(b.style("width"),10)||960};c.utils.availableHeight=function(a,b,d){return c.utils.sanitizeHeight(a,b)-d.top-d.bottom};c.utils.availableWidth=function(a,b,d){return c.utils.sanitizeWidth(a,b)-d.left-d.right};c.utils.noData=function(a,b){var d=
a.options(),i=d.margin(),f=d.noData(),f=f==null?["No Data Available."]:[f],h=c.utils.availableHeight(d.height(),b,i),d=c.utils.availableWidth(d.width(),b,i),d=i.left+d/2,i=i.top+h/2;b.selectAll("g").remove();f=b.selectAll(".nv-noData").data(f);f.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");f.attr("x",d).attr("y",i).text(function(a){return a})};c.models.axis=function(){function a(n){E.reset();n.each(function(a){var n=d3.select(this);c.utils.initSVG(n);
a=n.selectAll("g.nv-wrap.nv-axis").data([a]);a.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g");n=a.select("g");q!==null?b.ticks(q):(b.orient()=="top"||b.orient()=="bottom")&&b.ticks(Math.abs(d.range()[1]-d.range()[0])/100);n.watchTransition(E,"axis").call(b);x=x||b.scale();var h=b.tickFormat();h==null&&(h=x.tickFormat());var u=n.selectAll("text.nv-axislabel").data([g||null]);u.exit().remove();var o,C;switch(b.orient()){case "top":u.enter().append("text").attr("class","nv-axislabel");
C=d.range().length<2?0:d.range().length===2?d.range()[1]:d.range()[d.range().length-1]+(d.range()[1]-d.range()[0]);u.attr("text-anchor","middle").attr("y",0).attr("x",C/2);if(e){o=a.selectAll("g.nv-axisMaxMin").data(d.domain());o.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin nv-axisMaxMin-x",b==0?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text");o.exit().remove();o.attr("transform",function(a){return"translate("+c.utils.NaNtoZero(d(a))+",0)"}).select("text").attr("dy",
"-0.5em").attr("y",-b.tickPadding()).attr("text-anchor","middle").text(function(a){a=h(a);return(""+a).match("NaN")?"":a});o.watchTransition(E,"min-max top").attr("transform",function(a,b){return"translate("+c.utils.NaNtoZero(d.range()[b])+",0)"})}break;case "bottom":o=r+36;var s=30,v=0,B=n.selectAll("g").select("text"),y="";if(k%360){B.each(function(){var a=this.getBoundingClientRect(),b=a.width;v=a.height;b>s&&(s=b)});y="rotate("+k+" 0,"+(v/2+b.tickPadding())+")";o=Math.abs(Math.sin(k*Math.PI/180));
o=(o?o*s:s)+30;B.attr("transform",y).style("text-anchor",k%360>0?"start":"end")}u.enter().append("text").attr("class","nv-axislabel");C=d.range().length<2?0:d.range().length===2?d.range()[1]:d.range()[d.range().length-1]+(d.range()[1]-d.range()[0]);u.attr("text-anchor","middle").attr("y",o).attr("x",C/2);if(e){o=a.selectAll("g.nv-axisMaxMin").data([d.domain()[0],d.domain()[d.domain().length-1]]);o.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin nv-axisMaxMin-x",b==0?"nv-axisMin-x":
"nv-axisMax-x"].join(" ")}).append("text");o.exit().remove();o.attr("transform",function(a){return"translate("+c.utils.NaNtoZero(d(a)+(p?d.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",b.tickPadding()).attr("transform",y).style("text-anchor",k?k%360>0?"start":"end":"middle").text(function(a){a=h(a);return(""+a).match("NaN")?"":a});o.watchTransition(E,"min-max bottom").attr("transform",function(a){return"translate("+c.utils.NaNtoZero(d(a)+(p?d.rangeBand()/2:0))+",0)"})}t&&B.attr("transform",
function(a,b){return"translate(0,"+(b%2==0?"0":"12")+")"});break;case "right":u.enter().append("text").attr("class","nv-axislabel");u.style("text-anchor",l?"middle":"begin").attr("transform",l?"rotate(90)":"").attr("y",l?-Math.max(i.right,f)+12:-10).attr("x",l?d3.max(d.range())/2:b.tickPadding());if(e){o=a.selectAll("g.nv-axisMaxMin").data(d.domain());o.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin nv-axisMaxMin-y",b==0?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",
0);o.exit().remove();o.attr("transform",function(a){return"translate(0,"+c.utils.NaNtoZero(d(a))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",b.tickPadding()).style("text-anchor","start").text(function(a){a=h(a);return(""+a).match("NaN")?"":a});o.watchTransition(E,"min-max right").attr("transform",function(a,b){return"translate(0,"+c.utils.NaNtoZero(d.range()[b])+")"}).select("text").style("opacity",1)}break;case "left":u.enter().append("text").attr("class","nv-axislabel");u.style("text-anchor",
l?"middle":"end").attr("transform",l?"rotate(-90)":"").attr("y",l?-Math.max(i.left,f)+25-(r||0):-10).attr("x",l?-d3.max(d.range())/2:-b.tickPadding());if(e){o=a.selectAll("g.nv-axisMaxMin").data(d.domain());o.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin nv-axisMaxMin-y",b==0?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0);o.exit().remove();o.attr("transform",function(a){return"translate(0,"+c.utils.NaNtoZero(x(a))+")"}).select("text").attr("dy",
".32em").attr("y",0).attr("x",-b.tickPadding()).attr("text-anchor","end").text(function(a){a=h(a);return(""+a).match("NaN")?"":a});o.watchTransition(E,"min-max right").attr("transform",function(a,b){return"translate(0,"+c.utils.NaNtoZero(d.range()[b])+")"}).select("text").style("opacity",1)}}u.text(function(a){return a});if(e&&(b.orient()==="left"||b.orient()==="right")){n.selectAll("g").each(function(a){d3.select(this).select("text").attr("opacity",1);if(d(a)<d.range()[1]+10||d(a)>d.range()[0]-10){(a>
1.0E-10||a<-1.0E-10)&&d3.select(this).attr("opacity",0);d3.select(this).select("text").attr("opacity",0)}});d.domain()[0]==d.domain()[1]&&d.domain()[0]==0&&a.selectAll("g.nv-axisMaxMin").style("opacity",function(a,b){return!b?1:0})}if(e&&(b.orient()==="top"||b.orient()==="bottom")){var m=[];a.selectAll("g.nv-axisMaxMin").each(function(a,b){try{b?m.push(d(a)-this.getBoundingClientRect().width-4):m.push(d(a)+this.getBoundingClientRect().width+4)}catch(c){b?m.push(d(a)-4):m.push(d(a)+4)}});n.selectAll("g").each(function(a){if(d(a)<
m[0]||d(a)>m[1])a>1.0E-10||a<-1.0E-10?d3.select(this).remove():d3.select(this).select("text").remove()})}n.selectAll(".tick").filter(function(a){return!parseFloat(Math.round(a*1E5)/1E6)&&a!==void 0}).classed("zero",true);x=d.copy()});E.renderEnd("axis immediate");return a}var b=d3.svg.axis(),d=d3.scale.linear(),i={top:0,right:0,bottom:0,left:0},f=75,h=60,g=null,e=true,k=0,l=true,t=false,p=false,q=null,r=0,n=250,u=d3.dispatch("renderEnd");b.scale(d).orient("bottom").tickFormat(function(a){return a});
var x,E=c.utils.renderWatch(u,n);a.axis=b;a.dispatch=u;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{axisLabelDistance:{get:function(){return r},set:function(a){r=a}},staggerLabels:{get:function(){return t},set:function(a){t=a}},rotateLabels:{get:function(){return k},set:function(a){k=a}},rotateYLabel:{get:function(){return l},set:function(a){l=a}},showMaxMin:{get:function(){return e},set:function(a){e=a}},axisLabel:{get:function(){return g},set:function(a){g=a}},height:{get:function(){return h},
set:function(a){h=a}},ticks:{get:function(){return q},set:function(a){q=a}},width:{get:function(){return f},set:function(a){f=a}},margin:{get:function(){return i},set:function(a){i.top=a.top!==void 0?a.top:i.top;i.right=a.right!==void 0?a.right:i.right;i.bottom=a.bottom!==void 0?a.bottom:i.bottom;i.left=a.left!==void 0?a.left:i.left}},duration:{get:function(){return n},set:function(a){n=a;E.reset(n)}},scale:{get:function(){return d},set:function(e){d=e;b.scale(d);p=typeof d.rangeBands==="function";
c.utils.inheritOptionsD3(a,d,["domain","range","rangeBand","rangeBands"])}}});c.utils.initOptions(a);c.utils.inheritOptionsD3(a,b,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]);c.utils.inheritOptionsD3(a,d,["domain","range","rangeBand","rangeBands"]);return a};c.models.boxPlot=function(){function a(f){j.reset();f.each(function(a){var f=d-b.left-b.right,w=i-b.top-b.bottom;t=d3.select(this);c.utils.initSVG(t);h.domain(p||a.map(function(a,b){return e(a,b)})).rangeBands(r||
[0,f],0.1);f=[];if(!q)var f=d3.min(a.map(function(a){var b=[];b.push(a.values.Q1);a.values.hasOwnProperty("whisker_low")&&a.values.whisker_low!==null&&b.push(a.values.whisker_low);a.values.hasOwnProperty("outliers")&&a.values.outliers!==null&&(b=b.concat(a.values.outliers));return d3.min(b)})),k=d3.max(a.map(function(a){var b=[];b.push(a.values.Q3);a.values.hasOwnProperty("whisker_high")&&a.values.whisker_high!==null&&b.push(a.values.whisker_high);a.values.hasOwnProperty("outliers")&&a.values.outliers!==
null&&(b=b.concat(a.values.outliers));return d3.max(b)})),f=[f,k];g.domain(q||f);g.range(n||[w,0]);o=o||g.copy().range([g(0),g(0)]);w=t.selectAll("g.nv-wrap").data([a]);w.enter().append("g").attr("class","nvd3 nv-wrap");w.attr("transform","translate("+b.left+","+b.top+")");var s=w.selectAll(".nv-boxplot").data(function(a){return a}),v=s.enter().append("g").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6);s.attr("class","nv-boxplot").attr("transform",function(a,b){return"translate("+(h(e(a,
b))+h.rangeBand()*0.05)+", 0)"}).classed("hover",function(a){return a.hover});s.watchTransition(j,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",0.75).delay(function(b,c){return c*x/a.length}).attr("transform",function(a,b){return"translate("+(h(e(a,b))+h.rangeBand()*0.05)+", 0)"});s.exit().remove();v.each(function(a,b){var c=d3.select(this);["low","high"].forEach(function(m){if(a.values.hasOwnProperty("whisker_"+m)&&a.values["whisker_"+m]!==null){c.append("line").style("stroke",
a.color?a.color:l(a,b)).attr("class","nv-boxplot-whisker nv-boxplot-"+m);c.append("line").style("stroke",a.color?a.color:l(a,b)).attr("class","nv-boxplot-tick nv-boxplot-"+m)}})});w=s.selectAll(".nv-boxplot-outlier").data(function(a){return a.values.hasOwnProperty("outliers")&&a.values.outliers!==null?a.values.outliers:[]});w.enter().append("circle").style("fill",function(a,b,c){return l(a,c)}).style("stroke",function(a,b,c){return l(a,c)}).on("mouseover",function(a,b,c){d3.select(this).classed("hover",
true);u.elementMouseover({series:{key:a,color:l(a,c)},e:d3.event})}).on("mouseout",function(a,b,c){d3.select(this).classed("hover",false);u.elementMouseout({series:{key:a,color:l(a,c)},e:d3.event})}).on("mousemove",function(){u.elementMousemove({e:d3.event})});w.attr("class","nv-boxplot-outlier");w.watchTransition(j,"nv-boxplot: nv-boxplot-outlier").attr("cx",h.rangeBand()*0.45).attr("cy",function(a){return g(a)}).attr("r","3");w.exit().remove();var B=function(){return E===null?h.rangeBand()*0.9:
Math.min(75,h.rangeBand()*0.9)},y=function(){return h.rangeBand()*0.45-B()/2},m=function(){return h.rangeBand()*0.45+B()/2};["low","high"].forEach(function(a){var b=a==="low"?"Q1":"Q3";s.select("line.nv-boxplot-whisker.nv-boxplot-"+a).watchTransition(j,"nv-boxplot: boxplots").attr("x1",h.rangeBand()*0.45).attr("y1",function(b){return g(b.values["whisker_"+a])}).attr("x2",h.rangeBand()*0.45).attr("y2",function(a){return g(a.values[b])});s.select("line.nv-boxplot-tick.nv-boxplot-"+a).watchTransition(j,
"nv-boxplot: boxplots").attr("x1",y).attr("y1",function(b){return g(b.values["whisker_"+a])}).attr("x2",m).attr("y2",function(b){return g(b.values["whisker_"+a])})});["low","high"].forEach(function(a){v.selectAll(".nv-boxplot-"+a).on("mouseover",function(b,c,m){d3.select(this).classed("hover",true);u.elementMouseover({series:{key:b.values["whisker_"+a],color:l(b,m)},e:d3.event})}).on("mouseout",function(b,c,m){d3.select(this).classed("hover",false);u.elementMouseout({series:{key:b.values["whisker_"+
a],color:l(b,m)},e:d3.event})}).on("mousemove",function(){u.elementMousemove({e:d3.event})})});v.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(a,b){d3.select(this).classed("hover",true);u.elementMouseover({key:a.label,value:a.label,series:[{key:"Q3",value:a.values.Q3,color:a.color||l(a,b)},{key:"Q2",value:a.values.Q2,color:a.color||l(a,b)},{key:"Q1",value:a.values.Q1,color:a.color||l(a,b)}],data:a,index:b,e:d3.event})}).on("mouseout",function(a,b){d3.select(this).classed("hover",
false);u.elementMouseout({key:a.label,value:a.label,series:[{key:"Q3",value:a.values.Q3,color:a.color||l(a,b)},{key:"Q2",value:a.values.Q2,color:a.color||l(a,b)},{key:"Q1",value:a.values.Q1,color:a.color||l(a,b)}],data:a,index:b,e:d3.event})}).on("mousemove",function(){u.elementMousemove({e:d3.event})});s.select("rect.nv-boxplot-box").watchTransition(j,"nv-boxplot: boxes").attr("y",function(a){return g(a.values.Q3)}).attr("width",B).attr("x",y).attr("height",function(a){return Math.abs(g(a.values.Q3)-
g(a.values.Q1))||1}).style("fill",function(a,b){return a.color||l(a,b)}).style("stroke",function(a,b){return a.color||l(a,b)});v.append("line").attr("class","nv-boxplot-median");s.select("line.nv-boxplot-median").watchTransition(j,"nv-boxplot: boxplots line").attr("x1",y).attr("y1",function(a){return g(a.values.Q2)}).attr("x2",m).attr("y2",function(a){return g(a.values.Q2)});h.copy();o=g.copy()});j.renderEnd("nv-boxplot immediate");return a}var b={top:0,right:0,bottom:0,left:0},d=960,i=500,f=Math.floor(Math.random()*
1E4),h=d3.scale.ordinal(),g=d3.scale.linear(),e=function(a){return a.x},k=function(a){return a.y},l=c.utils.defaultColor(),t=null,p,q,r,n,u=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),x=250,E=null,o,j=c.utils.renderWatch(u,x);a.dispatch=u;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return i},set:function(a){i=a}},maxBoxWidth:{get:function(){return E},set:function(a){E=
a}},x:{get:function(){return e},set:function(a){e=a}},y:{get:function(){return k},set:function(a){k=a}},xScale:{get:function(){return h},set:function(a){h=a}},yScale:{get:function(){return g},set:function(a){g=a}},xDomain:{get:function(){return p},set:function(a){p=a}},yDomain:{get:function(){return q},set:function(a){q=a}},xRange:{get:function(){return r},set:function(a){r=a}},yRange:{get:function(){return n},set:function(a){n=a}},id:{get:function(){return f},set:function(a){f=a}},margin:{get:function(){return b},
set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return l},set:function(a){l=c.utils.getColor(a)}},duration:{get:function(){return x},set:function(a){x=a;j.reset(x)}}});c.utils.initOptions(a);return a};c.models.boxPlotChart=function(){function a(e){o.reset();o.models(b);k&&o.models(d);l&&o.models(i);e.each(function(e){var j=d3.select(this);c.utils.initSVG(j);
var o=(h||parseInt(j.style("width"))||960)-f.left-f.right,q=(g||parseInt(j.style("height"))||400)-f.top-f.bottom;a.update=function(){x.beforeUpdate();j.transition().duration(E).call(a)};a.container=this;if(!e||!e.length||!e.filter(function(a){return a.values.hasOwnProperty("Q1")&&a.values.hasOwnProperty("Q2")&&a.values.hasOwnProperty("Q3")}).length){e=j.selectAll(".nv-noData").data([u]);e.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");e.attr("x",
f.left+o/2).attr("y",f.top+q/2).text(function(a){return a});return a}j.selectAll(".nv-noData").remove();r=b.xScale();n=b.yScale().clamp(true);var C=j.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([e]),s=C.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),v=s.append("defs"),C=C.select("g");s.append("g").attr("class","nv-x nv-axis");s.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");s.append("g").attr("class","nv-barsWrap");
C.attr("transform","translate("+f.left+","+f.top+")");t&&C.select(".nv-y.nv-axis").attr("transform","translate("+o+",0)");b.width(o).height(q);C.select(".nv-barsWrap").datum(e.filter(function(a){return!a.disabled})).transition().call(b);v.append("clipPath").attr("id","nv-x-label-clip-"+b.id()).append("rect");C.select("#nv-x-label-clip-"+b.id()+" rect").attr("width",r.rangeBand()*(p?2:1)).attr("height",16).attr("x",-r.rangeBand()/(p?1:2));if(k){d.scale(r).ticks(c.utils.calcTicksX(o/100,e)).tickSize(-q,
0);C.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")");C.select(".nv-x.nv-axis").call(d);e=C.select(".nv-x.nv-axis").selectAll("g");p&&e.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(c%2==0?"5":"17")+")"})}if(l){i.scale(n).ticks(Math.floor(q/36)).tickSize(-o,0);C.select(".nv-y.nv-axis").call(i)}C.select(".nv-zeroLine line").attr("x1",0).attr("x2",o).attr("y1",n(0)).attr("y2",n(0))});o.renderEnd("nv-boxplot chart immediate");return a}var b=c.models.boxPlot(),
d=c.models.axis(),i=c.models.axis(),f={top:15,right:10,bottom:50,left:60},h=null,g=null,e=c.utils.getColor(),k=true,l=true,t=false,p=false,q=c.models.tooltip(),r,n,u="No Data Available.",x=d3.dispatch("tooltipShow","tooltipHide","beforeUpdate","renderEnd"),E=250;d.orient("bottom").showMaxMin(false).tickFormat(function(a){return a});i.orient(t?"right":"left").tickFormat(d3.format(",.1f"));q.duration(0);var o=c.utils.renderWatch(x,E);b.dispatch.on("elementMouseover.tooltip",function(a){q.data(a).hidden(false)});
b.dispatch.on("elementMouseout.tooltip",function(a){q.data(a).hidden(true)});b.dispatch.on("elementMousemove.tooltip",function(){q.position({top:d3.event.pageY,left:d3.event.pageX})()});a.dispatch=x;a.boxplot=b;a.xAxis=d;a.yAxis=i;a.tooltip=q;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return h},set:function(a){h=a}},height:{get:function(){return g},set:function(a){g=a}},staggerLabels:{get:function(){return p},set:function(a){p=a}},showXAxis:{get:function(){return k},
set:function(a){k=a}},showYAxis:{get:function(){return l},set:function(a){l=a}},tooltips:{get:function(){return tooltips},set:function(a){tooltips=a}},tooltipContent:{get:function(){return q},set:function(a){q=a}},noData:{get:function(){return u},set:function(a){u=a}},margin:{get:function(){return f},set:function(a){f.top=a.top!==void 0?a.top:f.top;f.right=a.right!==void 0?a.right:f.right;f.bottom=a.bottom!==void 0?a.bottom:f.bottom;f.left=a.left!==void 0?a.left:f.left}},duration:{get:function(){return E},
set:function(a){E=a;o.reset(E);b.duration(E);d.duration(E);i.duration(E)}},color:{get:function(){return e},set:function(a){e=c.utils.getColor(a);b.color(e)}},rightAlignYAxis:{get:function(){return t},set:function(a){t=a;i.orient(a?"right":"left")}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.bullet=function(){function a(d){d.each(function(a,d){var n=k-b.left-b.right,o=l-b.top-b.bottom;t=d3.select(this);c.utils.initSVG(t);var j=f.call(this,a,d).slice().sort(d3.descending),
w=h.call(this,a,d).slice().sort(d3.descending),A=g.call(this,a,d).slice().sort(d3.descending),p=(a.rangeLabels?a.rangeLabels:[]).slice(),H=(a.markerLabels?a.markerLabels:[]).slice(),C=(a.measureLabels?a.measureLabels:[]).slice(),s=d3.scale.linear().domain(d3.extent(d3.merge([e,j]))).range(i?[n,0]:[0,n]);this.__chart__||d3.scale.linear().domain([0,Infinity]).range(s.range());this.__chart__=s;var v=d3.min(j),B=d3.max(j),y=j[1],j=t.selectAll("g.nv-wrap.nv-bullet").data([a]),n=j.enter().append("g").attr("class",
"nvd3 nv-wrap nv-bullet").append("g"),m=j.select("g");n.append("rect").attr("class","nv-range nv-rangeMax");n.append("rect").attr("class","nv-range nv-rangeAvg");n.append("rect").attr("class","nv-range nv-rangeMin");n.append("rect").attr("class","nv-measure");j.attr("transform","translate("+b.left+","+b.top+")");var K=function(a){return Math.abs(s(a)-s(0))},G=function(a){return a<0?s(a):s(0)};m.select("rect.nv-rangeMax").attr("height",o).attr("width",K(B>0?B:v)).attr("x",G(B>0?B:v)).datum(B>0?B:v);
m.select("rect.nv-rangeAvg").attr("height",o).attr("width",K(y)).attr("x",G(y)).datum(y);m.select("rect.nv-rangeMin").attr("height",o).attr("width",K(B)).attr("x",G(B)).attr("width",K(B>0?v:B)).attr("x",G(B>0?v:B)).datum(B>0?v:B);m.select("rect.nv-measure").style("fill",q).attr("height",o/3).attr("y",o/3).attr("width",A<0?s(0)-s(A[0]):s(A[0])-s(0)).attr("x",G(A)).on("mouseover",function(){r.elementMouseover({value:A[0],label:C[0]||"Current",color:d3.select(this).style("fill")})}).on("mousemove",function(){r.elementMousemove({value:A[0],
label:C[0]||"Current",color:d3.select(this).style("fill")})}).on("mouseout",function(){r.elementMouseout({value:A[0],label:C[0]||"Current",color:d3.select(this).style("fill")})});v=o/6;w=w.map(function(a,b){return{value:a,label:H[b]}});n.selectAll("path.nv-markerTriangle").data(w).enter().append("path").attr("class","nv-markerTriangle").attr("transform",function(a){return"translate("+s(a.value)+","+o/2+")"}).attr("d","M0,"+v+"L"+v+","+-v+" "+-v+","+-v+"Z").on("mouseover",function(a){r.elementMouseover({value:a.value,
label:a.label||"Previous",color:d3.select(this).style("fill"),pos:[s(a.value),o/2]})}).on("mousemove",function(a){r.elementMousemove({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(a){r.elementMouseout({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill")})});j.selectAll(".nv-range").on("mouseover",function(a,b){r.elementMouseover({value:a,label:p[b]||(!b?"Maximum":b==1?"Mean":"Minimum"),color:d3.select(this).style("fill")})}).on("mousemove",
function(){r.elementMousemove({value:A[0],label:C[0]||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){r.elementMouseout({value:a,label:p[b]||(!b?"Maximum":b==1?"Mean":"Minimum"),color:d3.select(this).style("fill")})})});return a}var b={top:0,right:0,bottom:0,left:0},d="left",i=false,f=function(a){return a.ranges},h=function(a){return a.markers?a.markers:[0]},g=function(a){return a.measures},e=[0],k=380,l=30,t=null,p=null,q=c.utils.getColor(["#1f77b4"]),r=d3.dispatch("elementMouseover",
"elementMouseout","elementMousemove");a.dispatch=r;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{ranges:{get:function(){return f},set:function(a){f=a}},markers:{get:function(){return h},set:function(a){h=a}},measures:{get:function(){return g},set:function(a){g=a}},forceX:{get:function(){return e},set:function(a){e=a}},width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return l},set:function(a){l=a}},tickFormat:{get:function(){return p},set:function(a){p=
a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},orient:{get:function(){return d},set:function(a){d=a;i=d=="right"||d=="bottom"}},color:{get:function(){return q},set:function(a){q=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.bulletChart=function(){function a(d){d.each(function(i,n){var o=d3.select(this);c.utils.initSVG(o);
var j=c.utils.availableWidth(l,o,h),w=t-h.top-h.bottom;a.update=function(){a(d)};a.container=this;if(!i||!g.call(this,i,n)){c.utils.noData(a,o);return a}o.selectAll(".nv-noData").remove();var r=g.call(this,i,n).slice().sort(d3.descending),D=e.call(this,i,n).slice().sort(d3.descending),H=k.call(this,i,n).slice().sort(d3.descending),C=o.selectAll("g.nv-wrap.nv-bulletChart").data([i]),s=C.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),o=C.select("g");s.append("g").attr("class",
"nv-bulletWrap");s.append("g").attr("class","nv-titles");C.attr("transform","translate("+h.left+","+h.top+")");var v=d3.scale.linear().domain([0,Math.max(r[0],D[0],H[0])]).range(f?[j,0]:[0,j]),B=this.__chart__||d3.scale.linear().domain([0,Infinity]).range(v.range());this.__chart__=v;r=s.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(t-h.top-h.bottom)/2+")");r.append("text").attr("class","nv-title").text(function(a){return a.title});r.append("text").attr("class",
"nv-subtitle").attr("dy","1em").text(function(a){return a.subtitle});b.width(j).height(w);r=o.select(".nv-bulletWrap");d3.transition(r).call(b);var y=p||v.tickFormat(j/100),j=o.selectAll("g.nv-tick").data(v.ticks(q?q:j/50),function(a){return this.textContent||y(a)}),o=j.enter().append("g").attr("class","nv-tick").attr("transform",function(a){return"translate("+B(a)+",0)"}).style("opacity",1.0E-6);o.append("line").attr("y1",w).attr("y2",w*7/6);o.append("text").attr("text-anchor","middle").attr("dy",
"1em").attr("y",w*7/6).text(y);o=d3.transition(j).attr("transform",function(a){return"translate("+v(a)+",0)"}).style("opacity",1);o.select("line").attr("y1",w).attr("y2",w*7/6);o.select("text").attr("y",w*7/6);d3.transition(j.exit()).attr("transform",function(a){return"translate("+v(a)+",0)"}).style("opacity",1.0E-6).remove()});d3.timer.flush();return a}var b=c.models.bullet(),d=c.models.tooltip(),i="left",f=false,h={top:5,right:40,bottom:20,left:120},g=function(a){return a.ranges},e=function(a){return a.markers?
a.markers:[0]},k=function(a){return a.measures},l=null,t=55,p=null,q=null,r=null,n=d3.dispatch("tooltipShow","tooltipHide");d.duration(0).headerEnabled(false);b.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:a.label,value:a.value,color:a.color};d.data(a).hidden(false)});b.dispatch.on("elementMouseout.tooltip",function(){d.hidden(true)});b.dispatch.on("elementMousemove.tooltip",function(){d.position({top:d3.event.pageY,left:d3.event.pageX})()});a.bullet=b;a.dispatch=n;a.tooltip=d;
a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{ranges:{get:function(){return g},set:function(a){g=a}},markers:{get:function(){return e},set:function(a){e=a}},measures:{get:function(){return k},set:function(a){k=a}},width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return t},set:function(a){t=a}},tickFormat:{get:function(){return p},set:function(a){p=a}},ticks:{get:function(){return q},set:function(a){q=a}},noData:{get:function(){return r},set:function(a){r=
a}},tooltips:{get:function(){return d.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");d.enabled(!!a)}},tooltipContent:{get:function(){return d.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");d.contentGenerator(a)}},margin:{get:function(){return h},set:function(a){h.top=a.top!==void 0?a.top:h.top;h.right=a.right!==void 0?a.right:h.right;h.bottom=a.bottom!==void 0?a.bottom:h.bottom;h.left=a.left!==
void 0?a.left:h.left}},orient:{get:function(){return i},set:function(a){i=a;f=i=="right"||i=="bottom"}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.candlestickBar=function(){function a(s){s.each(function(a){h=d3.select(this);var s=c.utils.availableWidth(d,h,b),y=c.utils.availableHeight(i,h,b);c.utils.initSVG(h);var m=s/a[0].values.length*0.45;g.domain(w||d3.extent(a[0].values.map(k).concat(n)));x?g.range(D||[s*0.5/a[0].values.length,s*(a[0].values.length-0.5)/a[0].values.length]):
g.range(D||[5+m/2,s-m/2-5]);e.domain(A||[d3.min(a[0].values.map(r).concat(u)),d3.max(a[0].values.map(q).concat(u))]).range(H||[y,0]);g.domain()[0]===g.domain()[1]&&(g.domain()[0]?g.domain([g.domain()[0]-g.domain()[0]*0.01,g.domain()[1]+g.domain()[1]*0.01]):g.domain([-1,1]));e.domain()[0]===e.domain()[1]&&(e.domain()[0]?e.domain([e.domain()[0]+e.domain()[0]*0.01,e.domain()[1]-e.domain()[1]*0.01]):e.domain([-1,1]));var a=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([a[0].values]),j=
a.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),G=j.append("defs"),j=j.append("g"),o=a.select("g");j.append("g").attr("class","nv-ticks");a.attr("transform","translate("+b.left+","+b.top+")");h.on("click",function(a,b){C.chartClick({data:a,index:b,pos:d3.event,id:f})});G.append("clipPath").attr("id","nv-chart-clip-path-"+f).append("rect");a.select("#nv-chart-clip-path-"+f+" rect").attr("width",s).attr("height",y);o.attr("clip-path",E?"url(#nv-chart-clip-path-"+f+")":"");s=a.select(".nv-ticks").selectAll(".nv-tick").data(function(a){return a});
s.exit().remove();s=s.enter().append("g").attr("class",function(a,b,c){return(t(a,b)>p(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b});s.append("line").attr("class","nv-candlestick-lines").attr("transform",function(a,b){return"translate("+g(k(a,b))+",0)"}).attr("x1",0).attr("y1",function(a,b){return e(q(a,b))}).attr("x2",0).attr("y2",function(a,b){return e(r(a,b))});s.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(a,b){return"translate("+(g(k(a,
b))-m/2)+","+(e(l(a,b))-(t(a,b)>p(a,b)?e(p(a,b))-e(t(a,b)):0))+")"}).attr("x",0).attr("y",0).attr("width",m).attr("height",function(a,b){var c=t(a,b),d=p(a,b);return c>d?e(d)-e(c):e(c)-e(d)});h.selectAll(".nv-candlestick-lines").transition().attr("transform",function(a,b){return"translate("+g(k(a,b))+",0)"}).attr("x1",0).attr("y1",function(a,b){return e(q(a,b))}).attr("x2",0).attr("y2",function(a,b){return e(r(a,b))});h.selectAll(".nv-candlestick-rects").transition().attr("transform",function(a,b){return"translate("+
(g(k(a,b))-m/2)+","+(e(l(a,b))-(t(a,b)>p(a,b)?e(p(a,b))-e(t(a,b)):0))+")"}).attr("x",0).attr("y",0).attr("width",m).attr("height",function(a,b){var c=t(a,b),d=p(a,b);return c>d?e(d)-e(c):e(c)-e(d)})});return a}var b={top:0,right:0,bottom:0,left:0},d=null,i=null,f=Math.floor(Math.random()*1E4),h,g=d3.scale.linear(),e=d3.scale.linear(),k=function(a){return a.x},l=function(a){return a.y},t=function(a){return a.open},p=function(a){return a.close},q=function(a){return a.high},r=function(a){return a.low},
n=[],u=[],x=false,E=true,o=c.utils.defaultColor(),j=false,w,A,D,H,C=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");a.highlightPoint=function(b,c){a.clearHighlights();h.select(".nv-candlestickBar .nv-tick-0-"+b).classed("hover",c)};a.clearHighlights=function(){h.select(".nv-candlestickBar .nv-tick.hover").classed("hover",false)};a.dispatch=C;a.options=c.utils.optionsFunc.bind(a);
a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return i},set:function(a){i=a}},xScale:{get:function(){return g},set:function(a){g=a}},yScale:{get:function(){return e},set:function(a){e=a}},xDomain:{get:function(){return w},set:function(a){w=a}},yDomain:{get:function(){return A},set:function(a){A=a}},xRange:{get:function(){return D},set:function(a){D=a}},yRange:{get:function(){return H},set:function(a){H=a}},forceX:{get:function(){return n},
set:function(a){n=a}},forceY:{get:function(){return u},set:function(a){u=a}},padData:{get:function(){return x},set:function(a){x=a}},clipEdge:{get:function(){return E},set:function(a){E=a}},id:{get:function(){return f},set:function(a){f=a}},interactive:{get:function(){return j},set:function(a){j=a}},x:{get:function(){return k},set:function(a){k=a}},y:{get:function(){return l},set:function(a){l=a}},open:{get:function(){return t()},set:function(a){t=a}},close:{get:function(){return p()},set:function(a){p=
a}},high:{get:function(){return q},set:function(a){q=a}},low:{get:function(){return r},set:function(a){r=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!=void 0?a.top:b.top;b.right=a.right!=void 0?a.right:b.right;b.bottom=a.bottom!=void 0?a.bottom:b.bottom;b.left=a.left!=void 0?a.left:b.left}},color:{get:function(){return o},set:function(a){o=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.cumulativeLineChart=function(){function a(m){I.reset();I.models(d);n&&I.models(i);
u&&I.models(f);m.each(function(m){function J(){Y.data([G]);var b=a.duration();a.duration(0);a.update();a.duration(b)}var F=d3.select(this);c.utils.initSVG(F);F.classed("nv-chart-"+D,true);var s=this,k=c.utils.availableWidth(p,F,l),I=c.utils.availableHeight(q,F,l);a.update=function(){y===0?F.call(a):F.transition().duration(y).call(a)};a.container=this;H.setter(z(m),a.update).getter(L(m)).update();H.disabled=m.map(function(a){return!!a.disabled});if(!C){var S;C={};for(S in H)C[S]=H[S]instanceof Array?
H[S].slice(0):H[S]}S=d3.behavior.drag().on("dragstart",function(){d3.select(a.container).style("cursor","ew-resize")}).on("drag",function(){G.x=d3.event.x;G.i=Math.round(K.invert(G.x));J()}).on("dragend",function(){d3.select(a.container).style("cursor","auto");H.index=G.i;B.stateChange(H)});if(!m||!m.length||!m.filter(function(a){return a.values.length}).length){c.utils.noData(a,F);return a}F.selectAll(".nv-noData").remove();w=d.xScale();A=d.yScale();if(j)d.yDomain(null);else{var P=m.filter(function(a){return!a.disabled}).map(function(a){a=
d3.extent(a.values,d.y());a[0]<-0.95&&(a[0]=-0.95);return[(a[0]-a[1])/(1+a[1]),(a[1]-a[0])/(1+a[0])]}),P=[d3.min(P,function(a){return a[0]}),d3.max(P,function(a){return a[1]})];d.yDomain(P)}K.domain([0,m[0].values.length-1]).range([0,k]).clamp(true);var m=b(G.i,m),Q=o?"none":"all",U=F.selectAll("g.nv-wrap.nv-cumulativeLine").data([m]),W=U.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),P=U.select("g");W.append("g").attr("class","nv-interactive");W.append("g").attr("class",
"nv-x nv-axis").style("pointer-events","none");W.append("g").attr("class","nv-y nv-axis");W.append("g").attr("class","nv-background");W.append("g").attr("class","nv-linesWrap").style("pointer-events",Q);W.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none");W.append("g").attr("class","nv-legendWrap");W.append("g").attr("class","nv-controlsWrap");if(r){h.width(k);P.select(".nv-legendWrap").datum(m).call(h);if(l.top!=h.height()){l.top=h.height();I=c.utils.availableHeight(q,F,l)}P.select(".nv-legendWrap").attr("transform",
"translate(0,"+-l.top+")")}if(E){Q=[{key:"Re-scale y-axis",disabled:!j}];g.width(140).color(["#444","#444","#444"]).rightAlign(false).margin({top:5,right:0,bottom:5,left:20});P.select(".nv-controlsWrap").datum(Q).attr("transform","translate(0,"+-l.top+")").call(g)}U.attr("transform","translate("+l.left+","+l.top+")");x&&P.select(".nv-y.nv-axis").attr("transform","translate("+k+",0)");Q=m.filter(function(a){return a.tempDisabled});U.select(".tempDisabled").remove();Q.length&&U.append("text").attr("class",
"tempDisabled").attr("x",k/2).attr("y","-.71em").style("text-anchor","end").text(Q.map(function(a){return a.key}).join(", ")+" values cannot be calculated for this time period.");if(o){e.width(k).height(I).margin({left:l.left,top:l.top}).svgContainer(F).xScale(w);U.select(".nv-interactive").call(e)}W.select(".nv-background").append("rect");P.select(".nv-background rect").attr("width",k).attr("height",I);d.y(function(a){return a.display.y}).width(k).height(I).color(m.map(function(a,b){return a.color||
t(a,b)}).filter(function(a,b){return!m[b].disabled&&!m[b].tempDisabled}));U=P.select(".nv-linesWrap").datum(m.filter(function(a){return!a.disabled&&!a.tempDisabled}));U.call(d);m.forEach(function(a,b){a.seriesIndex=b});W=m.filter(function(a){return!a.disabled&&!!v(a)});W=P.select(".nv-avgLinesWrap").selectAll("line").data(W,function(a){return a.key});Q=function(a){a=A(v(a));return a<0?0:a>I?I:a};W.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(a){return d.color()(a,
a.seriesIndex)}).attr("x1",0).attr("x2",k).attr("y1",Q).attr("y2",Q);W.style("stroke-opacity",function(a){a=A(v(a));return a<0||a>I?0:1}).attr("x1",0).attr("x2",k).attr("y1",Q).attr("y2",Q);W.exit().remove();var Y=U.selectAll(".nv-indexLine").data([G]);Y.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",0.5).style("pointer-events","all").call(S);Y.attr("transform",function(a){return"translate("+K(a.i)+",0)"}).attr("height",I);if(n){i.scale(w)._ticks(c.utils.calcTicksX(k/
70,m)).tickSize(-I,0);P.select(".nv-x.nv-axis").attr("transform","translate(0,"+A.range()[0]+")");P.select(".nv-x.nv-axis").call(i)}if(u){f.scale(A)._ticks(c.utils.calcTicksY(I/36,m)).tickSize(-k,0);P.select(".nv-y.nv-axis").call(f)}P.select(".nv-background rect").on("click",function(){G.x=d3.mouse(this)[0];G.i=Math.round(K.invert(G.x));H.index=G.i;B.stateChange(H);J()});d.dispatch.on("elementClick",function(a){G.i=a.pointIndex;G.x=K(G.i);H.index=G.i;B.stateChange(H);J()});g.dispatch.on("legendClick",
function(b){b.disabled=!b.disabled;j=!b.disabled;H.rescaleY=j;B.stateChange(H);a.update()});h.dispatch.on("stateChange",function(b){for(var c in b)H[c]=b[c];B.stateChange(H);a.update()});e.dispatch.on("elementMousemove",function(b){d.clearHighlights();var z,F,J,y=[];m.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(m,e){F=c.interactiveBisect(m.values,b.pointXValue,a.x());d.highlightPoint(e,F,true);var j=m.values[F];if(typeof j!=="undefined"){typeof z==="undefined"&&(z=j);
typeof J==="undefined"&&(J=a.xScale()(a.x()(j,F)));y.push({key:m.key,value:a.y()(j,F),color:t(m,m.seriesIndex)})}});if(y.length>2){var j=a.yScale().invert(b.mouseY),G=0.03*Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]),j=c.nearestValueIndex(y.map(function(a){return a.value}),j,G);if(j!==null)y[j].highlight=true}j=i.tickFormat()(a.x()(z,F),F);e.tooltip.position({left:J+l.left,top:b.mouseY+l.top}).chartContainer(s.parentNode).valueFormatter(function(a){return f.tickFormat()(a)}).data({value:j,
series:y})();e.renderGuideLine(J)});e.dispatch.on("elementMouseout",function(){d.clearHighlights()});B.on("changeState",function(b){if(typeof b.disabled!=="undefined"){m.forEach(function(a,c){a.disabled=b.disabled[c]});H.disabled=b.disabled}if(typeof b.index!=="undefined"){G.i=b.index;G.x=K(G.i);H.index=b.index;Y.data([G])}if(typeof b.rescaleY!=="undefined")j=b.rescaleY;a.update()})});I.renderEnd("cumulativeLineChart immediate");return a}function b(a,b){F||(F=d.y());return b.map(function(b){if(!b.values)return b;
var c=b.values[a];if(c==null)return b;var d=F(c,a);if(d<-0.95&&!m){b.tempDisabled=true;return b}b.tempDisabled=false;b.values=b.values.map(function(a,b){a.display={y:(F(a,b)-d)/(1+d)};return a});return b})}var d=c.models.line(),i=c.models.axis(),f=c.models.axis(),h=c.models.legend(),g=c.models.legend(),e=c.interactiveGuideline(),k=c.models.tooltip(),l={top:30,right:30,bottom:50,left:60},t=c.utils.defaultColor(),p=null,q=null,r=true,n=true,u=true,x=false,E=true,o=false,j=true,w,A,D=d.id(),H=c.utils.state(),
C=null,s=null,v=function(a){return a.average},B=d3.dispatch("stateChange","changeState","renderEnd"),y=250,m=false;H.index=0;H.rescaleY=j;i.orient("bottom").tickPadding(7);f.orient(x?"right":"left");k.valueFormatter(function(a,b){return f.tickFormat()(a,b)}).headerFormatter(function(a,b){return i.tickFormat()(a,b)});g.updateState(false);var K=d3.scale.linear(),G={i:0,x:0},I=c.utils.renderWatch(B,y),L=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),index:G.i,rescaleY:j}}},
z=function(a){return function(b){if(b.index!==void 0)G.i=b.index;if(b.rescaleY!==void 0)j=b.rescaleY;b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};d.dispatch.on("elementMouseover.tooltip",function(b){var c={x:a.x()(b.point),y:a.y()(b.point),color:b.point.color};b.point=c;k.data(b).position(b.pos).hidden(false)});d.dispatch.on("elementMouseout.tooltip",function(){k.hidden(true)});var F=null;a.dispatch=B;a.lines=d;a.legend=h;a.controls=g;a.xAxis=i;a.yAxis=f;a.interactiveLayer=
e;a.state=H;a.tooltip=k;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return p},set:function(a){p=a}},height:{get:function(){return q},set:function(a){q=a}},rescaleY:{get:function(){return j},set:function(a){j=a}},showControls:{get:function(){return E},set:function(a){E=a}},showLegend:{get:function(){return r},set:function(a){r=a}},average:{get:function(){return v},set:function(a){v=a}},defaultState:{get:function(){return C},set:function(a){C=a}},noData:{get:function(){return s},
set:function(a){s=a}},showXAxis:{get:function(){return n},set:function(a){n=a}},showYAxis:{get:function(){return u},set:function(a){u=a}},noErrorCheck:{get:function(){return m},set:function(a){m=a}},tooltips:{get:function(){return k.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");k.enabled(!!a)}},tooltipContent:{get:function(){return k.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");k.contentGenerator(a)}},
margin:{get:function(){return l},set:function(a){l.top=a.top!==void 0?a.top:l.top;l.right=a.right!==void 0?a.right:l.right;l.bottom=a.bottom!==void 0?a.bottom:l.bottom;l.left=a.left!==void 0?a.left:l.left}},color:{get:function(){return t},set:function(a){t=c.utils.getColor(a);h.color(t)}},useInteractiveGuideline:{get:function(){return o},set:function(b){o=b;if(b===true){a.interactive(false);a.useVoronoi(false)}}},rightAlignYAxis:{get:function(){return x},set:function(a){x=a;f.orient(a?"right":"left")}},
duration:{get:function(){return y},set:function(a){y=a;d.duration(y);i.duration(y);f.duration(y);I.reset(y)}}});c.utils.inheritOptions(a,d);c.utils.initOptions(a);return a};c.models.discreteBar=function(){function a(f){D.reset();f.each(function(a){var f=d-b.left-b.right,v=i-b.top-b.bottom;h=d3.select(this);c.utils.initSVG(h);a.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});var w=n&&u?[]:a.map(function(a){return a.values.map(function(a,b){return{x:k(a,b),y:l(a,b),y0:a.y0}})});g.domain(n||
d3.merge(w).map(function(a){return a.x})).rangeBands(x||[0,f],0.1);e.domain(u||d3.extent(d3.merge(w).map(function(a){return a.y}).concat(t)));q?e.range(E||[v-(e.domain()[0]<0?12:0),e.domain()[1]>0?12:0]):e.range(E||[v,0]);A=A||e.copy().range([e(0),e(0)]);f=h.selectAll("g.nv-wrap.nv-discretebar").data([a]);v=f.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar").append("g");f.select("g");v.append("g").attr("class","nv-groups");f.attr("transform","translate("+b.left+","+b.top+")");f=f.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},
function(a){return a.key});f.enter().append("g").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6);f.exit().watchTransition(D,"discreteBar: exit groups").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6).remove();f.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover});f.watchTransition(D,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",0.75);f=f.selectAll("g.nv-bar").data(function(a){return a.values});f.exit().remove();
v=f.enter().append("g").attr("transform",function(a,b){return"translate("+(g(k(a,b))+g.rangeBand()*0.05)+", "+e(0)+")"}).on("mouseover",function(a,b){d3.select(this).classed("hover",true);o.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){d3.select(this).classed("hover",false);o.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mousemove",function(a,b){o.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",
function(a,b){o.elementClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()}).on("dblclick",function(a,b){o.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()});v.append("rect").attr("height",0).attr("width",g.rangeBand()*0.9/a.length);if(q){v.append("text").attr("text-anchor","middle");f.select("text").text(function(a,b){return r(l(a,b))}).watchTransition(D,"discreteBar: bars text").attr("x",g.rangeBand()*0.9/2).attr("y",
function(a,b){return l(a,b)<0?e(l(a,b))-e(0)+12:-4})}else f.selectAll("text").remove();f.attr("class",function(a,b){return l(a,b)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(a,b){return a.color||p(a,b)}).style("stroke",function(a,b){return a.color||p(a,b)}).select("rect").attr("class",j).watchTransition(D,"discreteBar: bars rect").attr("width",g.rangeBand()*0.9/a.length);f.watchTransition(D,"discreteBar: bars").attr("transform",function(a,b){var c=g(k(a,b))+g.rangeBand()*0.05,d=
l(a,b)<0?e(0):e(0)-e(l(a,b))<1?e(0)-1:e(l(a,b));return"translate("+c+", "+d+")"}).select("rect").attr("height",function(a,b){return Math.max(Math.abs(e(l(a,b))-e(u&&u[0]||0))||1)});g.copy();A=e.copy()});D.renderEnd("discreteBar immediate");return a}var b={top:0,right:0,bottom:0,left:0},d=960,i=500,f=Math.floor(Math.random()*1E4),h,g=d3.scale.ordinal(),e=d3.scale.linear(),k=function(a){return a.x},l=function(a){return a.y},t=[0],p=c.utils.defaultColor(),q=false,r=d3.format(",.2f"),n,u,x,E,o=d3.dispatch("chartClick",
"elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),j="discreteBar",w=250,A,D=c.utils.renderWatch(o,w);a.dispatch=o;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return i},set:function(a){i=a}},forceY:{get:function(){return t},set:function(a){t=a}},showValues:{get:function(){return q},set:function(a){q=a}},x:{get:function(){return k},set:function(a){k=
a}},y:{get:function(){return l},set:function(a){l=a}},xScale:{get:function(){return g},set:function(a){g=a}},yScale:{get:function(){return e},set:function(a){e=a}},xDomain:{get:function(){return n},set:function(a){n=a}},yDomain:{get:function(){return u},set:function(a){u=a}},xRange:{get:function(){return x},set:function(a){x=a}},yRange:{get:function(){return E},set:function(a){E=a}},valueFormat:{get:function(){return r},set:function(a){r=a}},id:{get:function(){return f},set:function(a){f=a}},rectClass:{get:function(){return j},
set:function(a){j=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return p},set:function(a){p=c.utils.getColor(a)}},duration:{get:function(){return w},set:function(a){w=a;D.reset(w)}}});c.utils.initOptions(a);return a};c.models.discreteBarChart=function(){function a(j){o.reset();o.models(b);l&&o.models(d);t&&o.models(i);
j.each(function(j){var f=d3.select(this);c.utils.initSVG(f);var k=c.utils.availableWidth(g,f,h),o=c.utils.availableHeight(e,f,h);a.update=function(){x.beforeUpdate();f.transition().duration(E).call(a)};a.container=this;if(!j||!j.length||!j.filter(function(a){return a.values.length}).length){c.utils.noData(a,f);return a}f.selectAll(".nv-noData").remove();r=b.xScale();n=b.yScale().clamp(true);var u=f.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([j]),s=u.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),
v=s.append("defs"),u=u.select("g");s.append("g").attr("class","nv-x nv-axis");s.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");s.append("g").attr("class","nv-barsWrap");u.attr("transform","translate("+h.left+","+h.top+")");p&&u.select(".nv-y.nv-axis").attr("transform","translate("+k+",0)");b.width(k).height(o);u.select(".nv-barsWrap").datum(j.filter(function(a){return!a.disabled})).transition().call(b);v.append("clipPath").attr("id","nv-x-label-clip-"+
b.id()).append("rect");u.select("#nv-x-label-clip-"+b.id()+" rect").attr("width",r.rangeBand()*(q?2:1)).attr("height",16).attr("x",-r.rangeBand()/(q?1:2));if(l){d.scale(r)._ticks(c.utils.calcTicksX(k/100,j)).tickSize(-o,0);u.select(".nv-x.nv-axis").attr("transform","translate(0,"+(n.range()[0]+(b.showValues()&&n.domain()[0]<0?16:0))+")");u.select(".nv-x.nv-axis").call(d);s=u.select(".nv-x.nv-axis").selectAll("g");q&&s.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(c%2==0?
"5":"17")+")"})}if(t){i.scale(n)._ticks(c.utils.calcTicksY(o/36,j)).tickSize(-k,0);u.select(".nv-y.nv-axis").call(i)}u.select(".nv-zeroLine line").attr("x1",0).attr("x2",k).attr("y1",n(0)).attr("y2",n(0))});o.renderEnd("discreteBar chart immediate");return a}var b=c.models.discreteBar(),d=c.models.axis(),i=c.models.axis(),f=c.models.tooltip(),h={top:15,right:10,bottom:50,left:60},g=null,e=null,k=c.utils.getColor(),l=true,t=true,p=false,q=false,r,n,u=null,x=d3.dispatch("beforeUpdate","renderEnd"),
E=250;d.orient("bottom").showMaxMin(false).tickFormat(function(a){return a});i.orient(p?"right":"left").tickFormat(d3.format(",.1f"));f.duration(0).headerEnabled(false).valueFormatter(function(a,b){return i.tickFormat()(a,b)}).keyFormatter(function(a,b){return d.tickFormat()(a,b)});var o=c.utils.renderWatch(x,E);b.dispatch.on("elementMouseover.tooltip",function(b){b.series={key:a.x()(b.data),value:a.y()(b.data),color:b.color};f.data(b).hidden(false)});b.dispatch.on("elementMouseout.tooltip",function(){f.hidden(true)});
b.dispatch.on("elementMousemove.tooltip",function(){f.position({top:d3.event.pageY,left:d3.event.pageX})()});a.dispatch=x;a.discretebar=b;a.xAxis=d;a.yAxis=i;a.tooltip=f;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return g},set:function(a){g=a}},height:{get:function(){return e},set:function(a){e=a}},staggerLabels:{get:function(){return q},set:function(a){q=a}},showXAxis:{get:function(){return l},set:function(a){l=a}},showYAxis:{get:function(){return t},
set:function(a){t=a}},noData:{get:function(){return u},set:function(a){u=a}},tooltips:{get:function(){return f.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");f.enabled(!!a)}},tooltipContent:{get:function(){return f.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");f.contentGenerator(a)}},margin:{get:function(){return h},set:function(a){h.top=a.top!==void 0?a.top:h.top;h.right=a.right!==void 0?
a.right:h.right;h.bottom=a.bottom!==void 0?a.bottom:h.bottom;h.left=a.left!==void 0?a.left:h.left}},duration:{get:function(){return E},set:function(a){E=a;o.reset(E);b.duration(E);d.duration(E);i.duration(E)}},color:{get:function(){return k},set:function(a){k=c.utils.getColor(a);b.color(k)}},rightAlignYAxis:{get:function(){return p},set:function(a){p=a;i.orient(a?"right":"left")}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.distribution=function(){function a(d){p.reset();
d.each(function(a){var d=f=="x"?"y":"x",k=d3.select(this);c.utils.initSVG(k);t=t||e;a=k.selectAll("g.nv-distribution").data([a]);a.enter().append("g").attr("class","nvd3 nv-distribution").append("g");k=a.select("g");a.attr("transform","translate("+b.left+","+b.top+")");a=k.selectAll("g.nv-dist").data(function(a){return a},function(a){return a.key});a.enter().append("g");a.attr("class",function(a,b){return"nv-dist nv-series-"+b}).style("stroke",function(a,b){return g(a,b)});k=a.selectAll("line.nv-dist"+
f).data(function(a){return a.values});k.enter().append("line").attr(f+"1",function(a,b){return t(h(a,b))}).attr(f+"2",function(a,b){return t(h(a,b))});p.transition(a.exit().selectAll("line.nv-dist"+f),"dist exit").attr(f+"1",function(a,b){return e(h(a,b))}).attr(f+"2",function(a,b){return e(h(a,b))}).style("stroke-opacity",0).remove();k.attr("class",function(a,b){return"nv-dist"+f+" nv-dist"+f+"-"+b}).attr(d+"1",0).attr(d+"2",i);p.transition(k,"dist").attr(f+"1",function(a,b){return e(h(a,b))}).attr(f+
"2",function(a,b){return e(h(a,b))});t=e.copy()});p.renderEnd("distribution immediate");return a}var b={top:0,right:0,bottom:0,left:0},d=400,i=8,f="x",h=function(a){return a[f]},g=c.utils.defaultColor(),e=d3.scale.linear(),k=250,l=d3.dispatch("renderEnd"),t,p=c.utils.renderWatch(l,k);a.options=c.utils.optionsFunc.bind(a);a.dispatch=l;a.margin=function(c){if(!arguments.length)return b;b.top=typeof c.top!="undefined"?c.top:b.top;b.right=typeof c.right!="undefined"?c.right:b.right;b.bottom=typeof c.bottom!=
"undefined"?c.bottom:b.bottom;b.left=typeof c.left!="undefined"?c.left:b.left;return a};a.width=function(b){if(!arguments.length)return d;d=b;return a};a.axis=function(b){if(!arguments.length)return f;f=b;return a};a.size=function(b){if(!arguments.length)return i;i=b;return a};a.getData=function(b){if(!arguments.length)return h;h=d3.functor(b);return a};a.scale=function(b){if(!arguments.length)return e;e=b;return a};a.color=function(b){if(!arguments.length)return g;g=c.utils.getColor(b);return a};
a.duration=function(b){if(!arguments.length)return k;k=b;p.reset(k);return a};return a};c.models.furiousLegend=function(){function a(n){function u(a,b){if(r!="furious")return"#000";if(p)return a.disengaged?h(a,b):"#fff";if(!p)return a.disabled?h(a,b):"#fff"}function x(a,b){return p&&r=="furious"?a.disengaged?"#fff":h(a,b):a.disabled?"#fff":h(a,b)}n.each(function(a){var n=d-b.left-b.right,j=d3.select(this);c.utils.initSVG(j);j=j.selectAll("g.nv-legend").data([a]);j.enter().append("g").attr("class",
"nvd3 nv-legend").append("g");a=j.select("g");j.attr("transform","translate("+b.left+","+b.top+")");var w=a.selectAll(".nv-series").data(function(a){return r!="furious"?a:a.filter(function(a){return p?true:!a.disengaged})}),j=w.enter().append("g").attr("class","nv-series"),A;if(r=="classic"){j.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5);A=w.select("circle")}else if(r=="furious"){j.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",
3).attr("ry",3);A=w.select("rect");j.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)");w.select(".nv-check-box").each(function(a,b){d3.select(this).selectAll("path").attr("stroke",u(a,b))})}j.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",
".32em").attr("dx","8");var D=w.select("text.nv-legend-text");w.on("mouseover",function(a,b){q.legendMouseover(a,b)}).on("mouseout",function(a,b){q.legendMouseout(a,b)}).on("click",function(a,b){q.legendClick(a,b);var c=w.data();if(l){if(r=="classic")if(t){c.forEach(function(a){a.disabled=true});a.disabled=false}else{a.disabled=!a.disabled;c.every(function(a){return a.disabled})&&c.forEach(function(a){a.disabled=false})}else if(r=="furious")if(p){a.disengaged=!a.disengaged;a.userDisabled=a.userDisabled==
void 0?!!a.disabled:a.userDisabled;a.disabled=a.disengaged||a.userDisabled}else if(!p){a.disabled=!a.disabled;a.userDisabled=a.disabled;c.filter(function(a){return!a.disengaged}).every(function(a){return a.userDisabled})&&c.forEach(function(a){a.disabled=a.userDisabled=false})}q.stateChange({disabled:c.map(function(a){return!!a.disabled}),disengaged:c.map(function(a){return!!a.disengaged})})}}).on("dblclick",function(a,b){if(!(r=="furious"&&p)){q.legendDblclick(a,b);if(l){var c=w.data();c.forEach(function(a){a.disabled=
true;if(r=="furious")a.userDisabled=a.disabled});a.disabled=false;if(r=="furious")a.userDisabled=a.disabled;q.stateChange({disabled:c.map(function(a){return!!a.disabled})})}}});w.classed("nv-disabled",function(a){return a.userDisabled});w.exit().remove();D.attr("fill",u).text(f);var H;switch(r){case "furious":H=23;break;case "classic":H=20}if(g){var C=[];w.each(function(){var a=d3.select(this).select("text"),b;try{b=a.node().getComputedTextLength();if(b<=0)throw Error();}catch(d){b=c.utils.calcApproxTextWidth(a)}C.push(b+
e)});for(var s=0,v=0,j=[];v<n&&s<C.length;){j[s]=C[s];v=v+C[s++]}for(s===0&&(s=1);v>n&&s>1;){j=[];s--;for(v=0;v<C.length;v++)if(C[v]>(j[v%s]||0))j[v%s]=C[v];v=j.reduce(function(a,b){return a+b})}for(var B=[],y=n=0;n<s;n++){B[n]=y;y=y+j[n]}w.attr("transform",function(a,b){return"translate("+B[b%s]+","+(5+Math.floor(b/s)*H)+")"});k?a.attr("transform","translate("+(d-b.right-v)+","+b.top+")"):a.attr("transform","translate(0,"+b.top+")");i=b.top+b.bottom+Math.ceil(C.length/s)*H}else{var m=5,K=5,G=0,I;
w.attr("transform",function(){var a=d3.select(this).select("text").node().getComputedTextLength()+e;I=K;if(d<b.left+b.right+I+a){K=I=5;m=m+H}K=K+a;K>G&&(G=K);return"translate("+I+","+m+")"});a.attr("transform","translate("+(d-b.right-G)+","+b.top+")");i=b.top+b.bottom+m+15}r=="furious"&&A.attr("width",function(a,b){return D[0][b].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15);A.style("fill",x).style("stroke",function(a,b){return a.color||h(a,b)})});return a}var b={top:5,
right:0,bottom:5,left:0},d=400,i=20,f=function(a){return a.key},h=c.utils.getColor(),g=true,e=28,k=true,l=true,t=false,p=false,q=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),r="classic";a.dispatch=q;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return i},set:function(a){i=a}},key:{get:function(){return f},set:function(a){f=a}},align:{get:function(){return g},
set:function(a){g=a}},rightAlign:{get:function(){return k},set:function(a){k=a}},padding:{get:function(){return e},set:function(a){e=a}},updateState:{get:function(){return l},set:function(a){l=a}},radioButtonMode:{get:function(){return t},set:function(a){t=a}},expanded:{get:function(){return p},set:function(a){p=a}},vers:{get:function(){return r},set:function(a){r=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=
a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return h},set:function(a){h=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.historicalBar=function(){function a(D){D.each(function(a){A.reset();h=d3.select(this);var D=c.utils.availableWidth(d,h,b),s=c.utils.availableHeight(i,h,b);c.utils.initSVG(h);g.domain(u||d3.extent(a[0].values.map(k).concat(t)));q?g.range(E||[D*0.5/a[0].values.length,D*(a[0].values.length-0.5)/a[0].values.length]):
g.range(E||[0,D]);e.domain(x||d3.extent(a[0].values.map(l).concat(p))).range(o||[s,0]);g.domain()[0]===g.domain()[1]&&(g.domain()[0]?g.domain([g.domain()[0]-g.domain()[0]*0.01,g.domain()[1]+g.domain()[1]*0.01]):g.domain([-1,1]));e.domain()[0]===e.domain()[1]&&(e.domain()[0]?e.domain([e.domain()[0]+e.domain()[0]*0.01,e.domain()[1]-e.domain()[1]*0.01]):e.domain([-1,1]));var v=h.selectAll("g.nv-wrap.nv-historicalBar-"+f).data([a[0].values]),B=v.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+
f),y=B.append("defs"),B=B.append("g"),m=v.select("g");B.append("g").attr("class","nv-bars");v.attr("transform","translate("+b.left+","+b.top+")");h.on("click",function(a,b){j.chartClick({data:a,index:b,pos:d3.event,id:f})});y.append("clipPath").attr("id","nv-chart-clip-path-"+f).append("rect");v.select("#nv-chart-clip-path-"+f+" rect").attr("width",D).attr("height",s);m.attr("clip-path",r?"url(#nv-chart-clip-path-"+f+")":"");s=v.select(".nv-bars").selectAll(".nv-bar").data(function(a){return a},function(a,
b){return k(a,b)});s.exit().remove();s.enter().append("rect").attr("x",0).attr("y",function(a,b){return c.utils.NaNtoZero(e(Math.max(0,l(a,b))))}).attr("height",function(a,b){return c.utils.NaNtoZero(Math.abs(e(l(a,b))-e(0)))}).attr("transform",function(b,c){return"translate("+(g(k(b,c))-D/a[0].values.length*0.45)+",0)"}).on("mouseover",function(a,b){if(w){d3.select(this).classed("hover",true);j.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")})}}).on("mouseout",function(a,b){if(w){d3.select(this).classed("hover",
false);j.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}}).on("mousemove",function(a,b){w&&j.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){if(w){j.elementClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()}}).on("dblclick",function(a,b){if(w){j.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()}});s.attr("fill",function(a,b){return n(a,b)}).attr("class",
function(a,b,c){return(l(a,b)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+c+"-"+b}).watchTransition(A,"bars").attr("transform",function(b,c){return"translate("+(g(k(b,c))-D/a[0].values.length*0.45)+",0)"}).attr("width",D/a[0].values.length*0.9);s.watchTransition(A,"bars").attr("y",function(a,b){var d=l(a,b)<0?e(0):e(0)-e(l(a,b))<1?e(0)-1:e(l(a,b));return c.utils.NaNtoZero(d)}).attr("height",function(a,b){return c.utils.NaNtoZero(Math.max(Math.abs(e(l(a,b))-e(0)),1))})});A.renderEnd("historicalBar immediate");
return a}var b={top:0,right:0,bottom:0,left:0},d=null,i=null,f=Math.floor(Math.random()*1E4),h=null,g=d3.scale.linear(),e=d3.scale.linear(),k=function(a){return a.x},l=function(a){return a.y},t=[],p=[0],q=false,r=true,n=c.utils.defaultColor(),u,x,E,o,j=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),w=true,A=c.utils.renderWatch(j,0);a.highlightPoint=function(a,b){h.select(".nv-bars .nv-bar-0-"+a).classed("hover",b)};a.clearHighlights=
function(){h.select(".nv-bars .nv-bar.hover").classed("hover",false)};a.dispatch=j;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return i},set:function(a){i=a}},forceX:{get:function(){return t},set:function(a){t=a}},forceY:{get:function(){return p},set:function(a){p=a}},padData:{get:function(){return q},set:function(a){q=a}},x:{get:function(){return k},set:function(a){k=a}},y:{get:function(){return l},
set:function(a){l=a}},xScale:{get:function(){return g},set:function(a){g=a}},yScale:{get:function(){return e},set:function(a){e=a}},xDomain:{get:function(){return u},set:function(a){u=a}},yDomain:{get:function(){return x},set:function(a){x=a}},xRange:{get:function(){return E},set:function(a){E=a}},yRange:{get:function(){return o},set:function(a){o=a}},clipEdge:{get:function(){return r},set:function(a){r=a}},id:{get:function(){return f},set:function(a){f=a}},interactive:{get:function(){return w},set:function(a){w=
a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return n},set:function(a){n=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.historicalBarChart=function(a){function b(a){a.each(function(e){C.reset();C.models(d);r&&C.models(i);n&&C.models(f);var B=d3.select(this),y=this;c.utils.initSVG(B);var m=c.utils.availableWidth(t,
B,k),A=c.utils.availableHeight(p,B,k);b.update=function(){B.transition().duration(H).call(b)};b.container=this;j.disabled=e.map(function(a){return!!a.disabled});if(!w){var G;w={};for(G in j)w[G]=j[G]instanceof Array?j[G].slice(0):j[G]}if(!e||!e.length||!e.filter(function(a){return a.values.length}).length){c.utils.noData(b,B);return b}B.selectAll(".nv-noData").remove();E=d.xScale();o=d.yScale();var I=B.selectAll("g.nv-wrap.nv-historicalBarChart").data([e]);G=I.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g");
var L=I.select("g");G.append("g").attr("class","nv-x nv-axis");G.append("g").attr("class","nv-y nv-axis");G.append("g").attr("class","nv-barsWrap");G.append("g").attr("class","nv-legendWrap");G.append("g").attr("class","nv-interactive");if(q){h.width(m);L.select(".nv-legendWrap").datum(e).call(h);if(k.top!=h.height()){k.top=h.height();A=c.utils.availableHeight(p,B,k)}I.select(".nv-legendWrap").attr("transform","translate(0,"+-k.top+")")}I.attr("transform","translate("+k.left+","+k.top+")");u&&L.select(".nv-y.nv-axis").attr("transform",
"translate("+m+",0)");if(x){g.width(m).height(A).margin({left:k.left,top:k.top}).svgContainer(B).xScale(E);I.select(".nv-interactive").call(g)}d.width(m).height(A).color(e.map(function(a,b){return a.color||l(a,b)}).filter(function(a,b){return!e[b].disabled}));L.select(".nv-barsWrap").datum(e.filter(function(a){return!a.disabled})).transition().call(d);if(r){i.scale(E)._ticks(c.utils.calcTicksX(m/100,e)).tickSize(-A,0);L.select(".nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")");L.select(".nv-x.nv-axis").transition().call(i)}if(n){f.scale(o)._ticks(c.utils.calcTicksY(A/
36,e)).tickSize(-m,0);L.select(".nv-y.nv-axis").transition().call(f)}g.dispatch.on("elementMousemove",function(a){d.clearHighlights();var m,j,h,s=[];e.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(e){j=c.interactiveBisect(e.values,a.pointXValue,b.x());d.highlightPoint(j,true);var f=e.values[j];if(f!==void 0){m===void 0&&(m=f);h===void 0&&(h=b.xScale()(b.x()(f,j)));s.push({key:e.key,value:b.y()(f,j),color:l(e,e.seriesIndex),data:e.values[j]})}});var G=i.tickFormat()(b.x()(m,
j));g.tooltip.position({left:h+k.left,top:a.mouseY+k.top}).chartContainer(y.parentNode).valueFormatter(function(a){return f.tickFormat()(a)}).data({value:G,index:j,series:s})();g.renderGuideLine(h)});g.dispatch.on("elementMouseout",function(){D.tooltipHide();d.clearHighlights()});h.dispatch.on("legendClick",function(c){c.disabled=!c.disabled;e.filter(function(a){return!a.disabled}).length||e.map(function(a){a.disabled=false;I.selectAll(".nv-series").classed("disabled",false);return a});j.disabled=
e.map(function(a){return!!a.disabled});D.stateChange(j);a.transition().call(b)});h.dispatch.on("legendDblclick",function(a){e.forEach(function(a){a.disabled=true});a.disabled=false;j.disabled=e.map(function(a){return!!a.disabled});D.stateChange(j);b.update()});D.on("changeState",function(a){if(typeof a.disabled!=="undefined"){e.forEach(function(b,c){b.disabled=a.disabled[c]});j.disabled=a.disabled}b.update()})});C.renderEnd("historicalBarChart immediate");return b}var d=a||c.models.historicalBar(),
i=c.models.axis(),f=c.models.axis(),h=c.models.legend(),g=c.interactiveGuideline(),e=c.models.tooltip(),k={top:30,right:90,bottom:50,left:90},l=c.utils.defaultColor(),t=null,p=null,q=false,r=true,n=true,u=false,x=false,E,o,j={},w=null,A=null,D=d3.dispatch("tooltipHide","stateChange","changeState","renderEnd"),H=250;i.orient("bottom").tickPadding(7);f.orient(u?"right":"left");e.duration(0).headerEnabled(false).valueFormatter(function(a,b){return f.tickFormat()(a,b)}).headerFormatter(function(a,b){return i.tickFormat()(a,
b)});var C=c.utils.renderWatch(D,0);d.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:b.x()(a.data),value:b.y()(a.data),color:a.color};e.data(a).hidden(false)});d.dispatch.on("elementMouseout.tooltip",function(){e.hidden(true)});d.dispatch.on("elementMousemove.tooltip",function(){e.position({top:d3.event.pageY,left:d3.event.pageX})()});b.dispatch=D;b.bars=d;b.legend=h;b.xAxis=i;b.yAxis=f;b.interactiveLayer=g;b.tooltip=e;b.options=c.utils.optionsFunc.bind(b);b._options=Object.create({},
{width:{get:function(){return t},set:function(a){t=a}},height:{get:function(){return p},set:function(a){p=a}},showLegend:{get:function(){return q},set:function(a){q=a}},showXAxis:{get:function(){return r},set:function(a){r=a}},showYAxis:{get:function(){return n},set:function(a){n=a}},defaultState:{get:function(){return w},set:function(a){w=a}},noData:{get:function(){return A},set:function(a){A=a}},tooltips:{get:function(){return e.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");
e.enabled(!!a)}},tooltipContent:{get:function(){return e.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");e.contentGenerator(a)}},margin:{get:function(){return k},set:function(a){k.top=a.top!==void 0?a.top:k.top;k.right=a.right!==void 0?a.right:k.right;k.bottom=a.bottom!==void 0?a.bottom:k.bottom;k.left=a.left!==void 0?a.left:k.left}},color:{get:function(){return l},set:function(a){l=c.utils.getColor(a);h.color(l);d.color(l)}},duration:{get:function(){return H},
set:function(a){H=a;C.reset(H);f.duration(H);i.duration(H)}},rightAlignYAxis:{get:function(){return u},set:function(a){u=a;f.orient(a?"right":"left")}},useInteractiveGuideline:{get:function(){return x},set:function(a){x=a;a===true&&b.interactive(false)}}});c.utils.inheritOptions(b,d);c.utils.initOptions(b);return b};c.models.ohlcBarChart=function(){var a=c.models.historicalBarChart(c.models.ohlcBar());a.useInteractiveGuideline(true);a.interactiveLayer.tooltip.contentGenerator(function(b){var c=b.series[0].data;
return'<h3 style="color: #'+(c.open<c.close?"2ca02c":"d62728")+'">'+b.value+"</h3><table><tr><td>open:</td><td>"+a.yAxis.tickFormat()(c.open)+"</td></tr><tr><td>close:</td><td>"+a.yAxis.tickFormat()(c.close)+"</td></tr><tr><td>high</td><td>"+a.yAxis.tickFormat()(c.high)+"</td></tr><tr><td>low:</td><td>"+a.yAxis.tickFormat()(c.low)+"</td></tr></table>"});return a};c.models.candlestickBarChart=function(){var a=c.models.historicalBarChart(c.models.candlestickBar());a.useInteractiveGuideline(true);a.interactiveLayer.tooltip.contentGenerator(function(b){var c=
b.series[0].data;return'<h3 style="color: #'+(c.open<c.close?"2ca02c":"d62728")+'">'+b.value+"</h3><table><tr><td>open:</td><td>"+a.yAxis.tickFormat()(c.open)+"</td></tr><tr><td>close:</td><td>"+a.yAxis.tickFormat()(c.close)+"</td></tr><tr><td>high</td><td>"+a.yAxis.tickFormat()(c.high)+"</td></tr><tr><td>low:</td><td>"+a.yAxis.tickFormat()(c.low)+"</td></tr></table>"});return a};c.models.legend=function(){function a(n){function u(a,b){if(r!="furious")return"#000";if(p)return a.disengaged?"#000":
"#fff";if(!p){if(!a.color)a.color=h(a,b);return a.disabled?a.color:"#fff"}}function x(a,b){return p&&r=="furious"?a.disengaged?"#eee":a.color||h(a,b):a.color||h(a,b)}function E(a){return p&&r=="furious"?1:a.disabled?0:1}n.each(function(a){var j=d-b.left-b.right,h=d3.select(this);c.utils.initSVG(h);var n=h.selectAll("g.nv-legend").data([a]),a=n.enter().append("g").attr("class","nvd3 nv-legend").append("g"),h=n.select("g");n.attr("transform","translate("+b.left+","+b.top+")");var D=h.selectAll(".nv-series").data(function(a){return r!=
"furious"?a:a.filter(function(a){return p?true:!a.disengaged})}),n=D.enter().append("g").attr("class","nv-series"),H,C;switch(r){case "furious":C=23;break;case "classic":C=20}if(r=="classic"){n.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5);H=D.select("circle")}else if(r=="furious"){n.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3);H=D.select(".nv-legend-symbol");n.append("g").attr("class","nv-check-box").property("innerHTML",
'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)");D.select(".nv-check-box").each(function(a,b){d3.select(this).selectAll("path").attr("stroke",u(a,b))})}n.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var s=D.select("text.nv-legend-text");D.on("mouseover",function(a,b){q.legendMouseover(a,
b)}).on("mouseout",function(a,b){q.legendMouseout(a,b)}).on("click",function(a,b){q.legendClick(a,b);var c=D.data();if(l){if(r=="classic")if(t){c.forEach(function(a){a.disabled=true});a.disabled=false}else{a.disabled=!a.disabled;c.every(function(a){return a.disabled})&&c.forEach(function(a){a.disabled=false})}else if(r=="furious")if(p){a.disengaged=!a.disengaged;a.userDisabled=a.userDisabled==void 0?!!a.disabled:a.userDisabled;a.disabled=a.disengaged||a.userDisabled}else if(!p){a.disabled=!a.disabled;
a.userDisabled=a.disabled;c.filter(function(a){return!a.disengaged}).every(function(a){return a.userDisabled})&&c.forEach(function(a){a.disabled=a.userDisabled=false})}q.stateChange({disabled:c.map(function(a){return!!a.disabled}),disengaged:c.map(function(a){return!!a.disengaged})})}}).on("dblclick",function(a,b){if(!(r=="furious"&&p)){q.legendDblclick(a,b);if(l){var c=D.data();c.forEach(function(a){a.disabled=true;if(r=="furious")a.userDisabled=a.disabled});a.disabled=false;if(r=="furious")a.userDisabled=
a.disabled;q.stateChange({disabled:c.map(function(a){return!!a.disabled})})}}});D.classed("nv-disabled",function(a){return a.userDisabled});D.exit().remove();s.attr("fill",u).text(f);var v=0;if(g){var B=[];D.each(function(){var a=d3.select(this).select("text"),b;try{b=a.node().getComputedTextLength();if(b<=0)throw Error();}catch(d){b=c.utils.calcApproxTextWidth(a)}B.push(b+e)});for(var y=0,n=[],v=0;v<j&&y<B.length;){n[y]=B[y];v=v+B[y++]}for(y===0&&(y=1);v>j&&y>1;){n=[];y--;for(var m=0;m<B.length;m++)if(B[m]>
(n[m%y]||0))n[m%y]=B[m];v=n.reduce(function(a,b){return a+b})}for(var K=[],m=j=0;j<y;j++){K[j]=m;m=m+n[j]}D.attr("transform",function(a,b){return"translate("+K[b%y]+","+(5+Math.floor(b/y)*C)+")"});k?h.attr("transform","translate("+(d-b.right-v)+","+b.top+")"):h.attr("transform","translate(0,"+b.top+")");i=b.top+b.bottom+Math.ceil(B.length/y)*C}else{var G=5,I=5,L=0,z;D.attr("transform",function(){var a=d3.select(this).select("text").node().getComputedTextLength()+e;z=I;if(d<b.left+b.right+z+a){I=z=
5;G=G+C}I=I+a;I>L&&(L=I);v<z+L&&(v=z+L);return"translate("+z+","+G+")"});h.attr("transform","translate("+(d-b.right-L)+","+b.top+")");i=b.top+b.bottom+G+15}if(r=="furious"){H.attr("width",function(a,b){return s[0][b].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15);a.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0);h.select(".nv-legend-bg").transition().duration(300).attr("x",-C).attr("width",v+C-12).attr("height",i+10).attr("y",
-b.top-10).attr("opacity",p?1:0)}H.style("fill",x).style("fill-opacity",E).style("stroke",x)});return a}var b={top:5,right:0,bottom:5,left:0},d=400,i=20,f=function(a){return a.key},h=c.utils.getColor(),g=true,e=32,k=true,l=true,t=false,p=false,q=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),r="classic";a.dispatch=q;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return i},
set:function(a){i=a}},key:{get:function(){return f},set:function(a){f=a}},align:{get:function(){return g},set:function(a){g=a}},rightAlign:{get:function(){return k},set:function(a){k=a}},padding:{get:function(){return e},set:function(a){e=a}},updateState:{get:function(){return l},set:function(a){l=a}},radioButtonMode:{get:function(){return t},set:function(a){t=a}},expanded:{get:function(){return p},set:function(a){p=a}},vers:{get:function(){return r},set:function(a){r=a}},margin:{get:function(){return b},
set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return h},set:function(a){h=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.line=function(){function a(A){w.reset();w.models(b);A.each(function(a){h=d3.select(this);var A=c.utils.availableWidth(i,h,d),x=c.utils.availableHeight(f,h,d);c.utils.initSVG(h);r=b.xScale();n=b.yScale();o=o||r;j=
j||n;var a=h.selectAll("g.nv-wrap.nv-line").data([a]),s=a.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),v=s.append("defs"),B=s.append("g"),s=a.select("g");B.append("g").attr("class","nv-groups");B.append("g").attr("class","nv-scatterWrap");a.attr("transform","translate("+d.left+","+d.top+")");b.width(A).height(x);B=a.select(".nv-scatterWrap");B.call(b);v.append("clipPath").attr("id","nv-edge-clip-"+b.id()).append("rect");a.select("#nv-edge-clip-"+b.id()+" rect").attr("width",A).attr("height",
x>0?x:0);s.attr("clip-path",q?"url(#nv-edge-clip-"+b.id()+")":"");B.attr("clip-path",q?"url(#nv-edge-clip-"+b.id()+")":"");A=a.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});A.enter().append("g").style("stroke-opacity",1.0E-6).style("stroke-width",function(a){return a.strokeWidth||g}).style("fill-opacity",1.0E-6);A.exit().remove();A.attr("class",function(a,b){return(a.classed||"")+" nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",
function(a,b){return e(a,b)}).style("stroke",function(a,b){return e(a,b)});A.watchTransition(w,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(a){return a.fillOpacity||0.5});x=A.selectAll("path.nv-area").data(function(a){return p(a)?[a]:[]});x.enter().append("path").attr("class","nv-area").attr("d",function(a){return d3.svg.area().interpolate(u).defined(t).x(function(a,b){return c.utils.NaNtoZero(o(k(a,b)))}).y0(function(a,b){return c.utils.NaNtoZero(j(l(a,b)))}).y1(function(){return j(n.domain()[0]<=
0?n.domain()[1]>=0?0:n.domain()[1]:n.domain()[0])}).apply(this,[a.values])});A.exit().selectAll("path.nv-area").remove();x.watchTransition(w,"line: areaPaths").attr("d",function(a){return d3.svg.area().interpolate(u).defined(t).x(function(a,b){return c.utils.NaNtoZero(r(k(a,b)))}).y0(function(a,b){return c.utils.NaNtoZero(n(l(a,b)))}).y1(function(){return n(n.domain()[0]<=0?n.domain()[1]>=0?0:n.domain()[1]:n.domain()[0])}).apply(this,[a.values])});A=A.selectAll("path.nv-line").data(function(a){return[a.values]});
A.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(u).defined(t).x(function(a,b){return c.utils.NaNtoZero(o(k(a,b)))}).y(function(a,b){return c.utils.NaNtoZero(j(l(a,b)))}));A.watchTransition(w,"line: linePaths").attr("d",d3.svg.line().interpolate(u).defined(t).x(function(a,b){return c.utils.NaNtoZero(r(k(a,b)))}).y(function(a,b){return c.utils.NaNtoZero(n(l(a,b)))}));o=r.copy();j=n.copy()});w.renderEnd("line immediate");return a}var b=c.models.scatter(),d={top:0,
right:0,bottom:0,left:0},i=960,f=500,h=null,g=1.5,e=c.utils.defaultColor(),k=function(a){return a.x},l=function(a){return a.y},t=function(a,b){return!isNaN(l(a,b))&&l(a,b)!==null},p=function(a){return a.area},q=false,r,n,u="linear",x=250,E=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");b.pointSize(16).pointDomain([16,256]);var o,j,w=c.utils.renderWatch(E,x);a.dispatch=E;a.scatter=b;b.dispatch.on("elementClick",function(){E.elementClick.apply(this,arguments)});b.dispatch.on("elementMouseover",
function(){E.elementMouseover.apply(this,arguments)});b.dispatch.on("elementMouseout",function(){E.elementMouseout.apply(this,arguments)});a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return i},set:function(a){i=a}},height:{get:function(){return f},set:function(a){f=a}},defined:{get:function(){return t},set:function(a){t=a}},interpolate:{get:function(){return u},set:function(a){u=a}},clipEdge:{get:function(){return q},set:function(a){q=a}},margin:{get:function(){return d},
set:function(a){d.top=a.top!==void 0?a.top:d.top;d.right=a.right!==void 0?a.right:d.right;d.bottom=a.bottom!==void 0?a.bottom:d.bottom;d.left=a.left!==void 0?a.left:d.left}},duration:{get:function(){return x},set:function(a){x=a;w.reset(x);b.duration(x)}},isArea:{get:function(){return p},set:function(a){p=d3.functor(a)}},x:{get:function(){return k},set:function(a){k=a;b.x(a)}},y:{get:function(){return l},set:function(a){l=a;b.y(a)}},color:{get:function(){return e},set:function(a){e=c.utils.getColor(a);
b.color(e)}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.lineChart=function(){function a(g){H.reset();H.models(b);q&&H.models(d);r&&H.models(i);g.each(function(g){var y=d3.select(this),m=this;c.utils.initSVG(y);var v=c.utils.availableWidth(l,y,e),G=c.utils.availableHeight(t,y,e);a.update=function(){D===0?y.call(a):y.transition().duration(D).call(a)};a.container=this;o.setter(s(g),a.update).getter(C(g)).update();o.disabled=g.map(function(a){return!!a.disabled});if(!j){var I;
j={};for(I in o)j[I]=o[I]instanceof Array?o[I].slice(0):o[I]}if(!g||!g.length||!g.filter(function(a){return a.values.length}).length){c.utils.noData(a,y);return a}y.selectAll(".nv-noData").remove();x=b.xScale();E=b.yScale();I=y.selectAll("g.nv-wrap.nv-lineChart").data([g]);var w=I.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),z=I.select("g");w.append("rect").style("opacity",0);w.append("g").attr("class","nv-x nv-axis");w.append("g").attr("class","nv-y nv-axis");w.append("g").attr("class",
"nv-linesWrap");w.append("g").attr("class","nv-legendWrap");w.append("g").attr("class","nv-interactive");z.select("rect").attr("width",v).attr("height",G>0?G:0);if(p){f.width(v);z.select(".nv-legendWrap").datum(g).call(f);if(e.top!=f.height()){e.top=f.height();G=c.utils.availableHeight(t,y,e)}I.select(".nv-legendWrap").attr("transform","translate(0,"+-e.top+")")}I.attr("transform","translate("+e.left+","+e.top+")");n&&z.select(".nv-y.nv-axis").attr("transform","translate("+v+",0)");if(u){h.width(v).height(G).margin({left:e.left,
top:e.top}).svgContainer(y).xScale(x);I.select(".nv-interactive").call(h)}b.width(v).height(G).color(g.map(function(a,b){return a.color||k(a,b)}).filter(function(a,b){return!g[b].disabled}));z.select(".nv-linesWrap").datum(g.filter(function(a){return!a.disabled})).call(b);if(q){d.scale(x)._ticks(c.utils.calcTicksX(v/100,g)).tickSize(-G,0);z.select(".nv-x.nv-axis").attr("transform","translate(0,"+E.range()[0]+")");z.select(".nv-x.nv-axis").call(d)}if(r){i.scale(E)._ticks(c.utils.calcTicksY(G/36,g)).tickSize(-v,
0);z.select(".nv-y.nv-axis").call(i)}f.dispatch.on("stateChange",function(b){for(var c in b)o[c]=b[c];A.stateChange(o);a.update()});h.dispatch.on("elementMousemove",function(f){b.clearHighlights();var z,j,G,y=[];g.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(d,e){j=c.interactiveBisect(d.values,f.pointXValue,a.x());var m=d.values[j],h=a.y()(m,j);h!=null&&b.highlightPoint(e,j,true);if(m!==void 0){z===void 0&&(z=m);G===void 0&&(G=a.xScale()(a.x()(m,j)));y.push({key:d.key,
value:h,color:k(d,d.seriesIndex)})}});if(y.length>2){var s=a.yScale().invert(f.mouseY),v=0.03*Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]),s=c.nearestValueIndex(y.map(function(a){return a.value}),s,v);if(s!==null)y[s].highlight=true}s=d.tickFormat()(a.x()(z,j));h.tooltip.position({left:f.mouseX+e.left,top:f.mouseY+e.top}).chartContainer(m.parentNode).valueFormatter(function(a){return a==null?"N/A":i.tickFormat()(a)}).data({value:s,index:j,series:y})();h.renderGuideLine(G)});h.dispatch.on("elementClick",
function(d){var e,m=[];g.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(b){var f=c.interactiveBisect(b.values,d.pointXValue,a.x()),z=b.values[f];if(typeof z!=="undefined"){typeof e==="undefined"&&(e=a.xScale()(a.x()(z,f)));var j=a.yScale()(a.y()(z,f));m.push({point:z,pointIndex:f,pos:[e,j],seriesIndex:b.seriesIndex,series:b})}});b.dispatch.elementClick(m)});h.dispatch.on("elementMouseout",function(){b.clearHighlights()});A.on("changeState",function(b){if(typeof b.disabled!==
"undefined"&&g.length===b.disabled.length){g.forEach(function(a,c){a.disabled=b.disabled[c]});o.disabled=b.disabled}a.update()})});H.renderEnd("lineChart immediate");return a}var b=c.models.line(),d=c.models.axis(),i=c.models.axis(),f=c.models.legend(),h=c.interactiveGuideline(),g=c.models.tooltip(),e={top:30,right:20,bottom:50,left:60},k=c.utils.defaultColor(),l=null,t=null,p=true,q=true,r=true,n=false,u=false,x,E,o=c.utils.state(),j=null,w=null,A=d3.dispatch("tooltipShow","tooltipHide","stateChange",
"changeState","renderEnd"),D=250;d.orient("bottom").tickPadding(7);i.orient(n?"right":"left");g.valueFormatter(function(a,b){return i.tickFormat()(a,b)}).headerFormatter(function(a,b){return d.tickFormat()(a,b)});var H=c.utils.renderWatch(A,D),C=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},s=function(a){return function(b){b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};b.dispatch.on("elementMouseover.tooltip",function(a){g.data(a).position(a.pos).hidden(false)});
b.dispatch.on("elementMouseout.tooltip",function(){g.hidden(true)});a.dispatch=A;a.lines=b;a.legend=f;a.xAxis=d;a.yAxis=i;a.interactiveLayer=h;a.tooltip=g;a.dispatch=A;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return t},set:function(a){t=a}},showLegend:{get:function(){return p},set:function(a){p=a}},showXAxis:{get:function(){return q},set:function(a){q=a}},showYAxis:{get:function(){return r},set:function(a){r=
a}},defaultState:{get:function(){return j},set:function(a){j=a}},noData:{get:function(){return w},set:function(a){w=a}},tooltips:{get:function(){return g.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");g.enabled(!!a)}},tooltipContent:{get:function(){return g.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");g.contentGenerator(a)}},margin:{get:function(){return e},set:function(a){e.top=a.top!==
void 0?a.top:e.top;e.right=a.right!==void 0?a.right:e.right;e.bottom=a.bottom!==void 0?a.bottom:e.bottom;e.left=a.left!==void 0?a.left:e.left}},duration:{get:function(){return D},set:function(a){D=a;H.reset(D);b.duration(D);d.duration(D);i.duration(D)}},color:{get:function(){return k},set:function(a){k=c.utils.getColor(a);f.color(k);b.color(k)}},rightAlignYAxis:{get:function(){return n},set:function(a){n=a;i.orient(n?"right":"left")}},useInteractiveGuideline:{get:function(){return u},set:function(a){if(u=
a){b.interactive(false);b.useVoronoi(false)}}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.linePlusBarChart=function(){var a,b;function d(F){F.each(function(F){function u(){n.empty()||n.extent(y);ga.data([n.empty()?K.domain():y]).each(function(a){var b=K(a[0])-K.range()[0],c=K.range()[1]-K(a[1]);d3.select(this).select(".left").attr("width",b<0?0:b);d3.select(this).select(".right").attr("x",K(a[1])).attr("width",c<0?0:c)})}function P(){y=n.empty()?null:n.extent();B=n.empty()?
K.domain():n.extent();J.brush({extent:B,brush:n});u();h.width(Z).height(ca).color(F.map(function(a,b){return a.color||A(a,b)}).filter(function(a,b){return!F[b].disabled&&F[b].bar}));i.width(Z).height(ca).color(F.map(function(a,b){return a.color||A(a,b)}).filter(function(a,b){return!F[b].disabled&&!F[b].bar}));var a=V.select(".nv-focus .nv-barsWrap").datum(!da.length?[{values:[]}]:da.map(function(a){return{key:a.key,values:a.values.filter(function(a,b){return h.x()(a,b)>=B[0]&&h.x()(a,b)<=B[1]})}})),
b=V.select(".nv-focus .nv-linesWrap").datum(fa[0].disabled?[{values:[]}]:fa.map(function(a){return{area:a.area,fillOpacity:a.fillOpacity,key:a.key,values:a.values.filter(function(a,b){return i.x()(a,b)>=B[0]&&i.x()(a,b)<=B[1]})}}));m=da.length?h.xScale():i.xScale();e.scale(m)._ticks(c.utils.calcTicksX(Z/100,F)).tickSize(-ca,0);e.domain([Math.ceil(B[0]),Math.floor(B[1])]);V.select(".nv-x.nv-axis").transition().duration(aa).call(e);a.transition().duration(aa).call(h);b.transition().duration(aa).call(i);
V.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+G.range()[0]+")");l.scale(G)._ticks(c.utils.calcTicksY(ca/36,F)).tickSize(-Z,0);t.scale(I)._ticks(c.utils.calcTicksY(ca/36,F)).tickSize(da.length?0:-Z,0);V.select(".nv-focus .nv-y1.nv-axis").style("opacity",da.length?1:0);V.select(".nv-focus .nv-y2.nv-axis").style("opacity",fa.length&&!fa[0].disabled?1:0).attr("transform","translate("+m.range()[1]+",0)");V.select(".nv-focus .nv-y1.nv-axis").transition().duration(aa).call(l);V.select(".nv-focus .nv-y2.nv-axis").transition().duration(aa).call(t)}
var Y=d3.select(this);c.utils.initSVG(Y);var Z=c.utils.availableWidth(E,Y,x),ca=c.utils.availableHeight(o,Y,x)-(H?v:0),ba=v-a-b;d.update=function(){Y.transition().duration(aa).call(d)};d.container=this;R.setter(S(F),d.update).getter(T(F)).update();R.disabled=F.map(function(a){return!!a.disabled});if(!M){var X;M={};for(X in R)M[X]=R[X]instanceof Array?R[X].slice(0):R[X]}if(!F||!F.length||!F.filter(function(a){return a.values.length}).length){c.utils.noData(d,Y);return d}Y.selectAll(".nv-noData").remove();
var da=F.filter(function(a){return!a.disabled&&a.bar}),fa=F.filter(function(a){return!a.bar});m=h.xScale();K=k.scale();G=h.yScale();I=i.yScale();L=g.yScale();z=f.yScale();X=F.filter(function(a){return!a.disabled&&a.bar}).map(function(a){return a.values.map(function(a,b){return{x:j(a,b),y:w(a,b)}})});var $=F.filter(function(a){return!a.disabled&&!a.bar}).map(function(a){return a.values.map(function(a,b){return{x:j(a,b),y:w(a,b)}})});m.range([0,Z]);K.domain(d3.extent(d3.merge(X.concat($)),function(a){return a.x})).range([0,
Z]);X=Y.selectAll("g.nv-wrap.nv-linePlusBar").data([F]);var $=X.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),V=X.select("g");$.append("g").attr("class","nv-legendWrap");var ea=$.append("g").attr("class","nv-focus");ea.append("g").attr("class","nv-x nv-axis");ea.append("g").attr("class","nv-y1 nv-axis");ea.append("g").attr("class","nv-y2 nv-axis");ea.append("g").attr("class","nv-barsWrap");ea.append("g").attr("class","nv-linesWrap");$=$.append("g").attr("class","nv-context");
$.append("g").attr("class","nv-x nv-axis");$.append("g").attr("class","nv-y1 nv-axis");$.append("g").attr("class","nv-y2 nv-axis");$.append("g").attr("class","nv-barsWrap");$.append("g").attr("class","nv-linesWrap");$.append("g").attr("class","nv-brushBackground");$.append("g").attr("class","nv-x nv-brush");if(D){$=r.align()?Z/2:Z;ea=r.align()?$:0;r.width($);V.select(".nv-legendWrap").datum(F.map(function(a){a.originalKey=a.originalKey===void 0?a.key:a.originalKey;a.key=a.originalKey+(a.bar?O:N);
return a})).call(r);if(x.top!=r.height()){x.top=r.height();ca=c.utils.availableHeight(o,Y,x)-v}V.select(".nv-legendWrap").attr("transform","translate("+ea+","+-x.top+")")}X.attr("transform","translate("+x.left+","+x.top+")");V.select(".nv-context").style("display",H?"initial":"none");g.width(Z).height(ba).color(F.map(function(a,b){return a.color||A(a,b)}).filter(function(a,b){return!F[b].disabled&&F[b].bar}));f.width(Z).height(ba).color(F.map(function(a,b){return a.color||A(a,b)}).filter(function(a,
b){return!F[b].disabled&&!F[b].bar}));X=V.select(".nv-context .nv-barsWrap").datum(da.length?da:[{values:[]}]);$=V.select(".nv-context .nv-linesWrap").datum(!fa[0].disabled?fa:[{values:[]}]);V.select(".nv-context").attr("transform","translate(0,"+(ca+x.bottom+a)+")");X.transition().call(g);$.transition().call(f);if(s){k._ticks(c.utils.calcTicksX(Z/100,F)).tickSize(-ba,0);V.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+L.range()[0]+")");V.select(".nv-context .nv-x.nv-axis").transition().call(k)}if(C){p.scale(L)._ticks(ba/
36).tickSize(-Z,0);q.scale(z)._ticks(ba/36).tickSize(da.length?0:-Z,0);V.select(".nv-context .nv-y3.nv-axis").style("opacity",da.length?1:0).attr("transform","translate(0,"+K.range()[0]+")");V.select(".nv-context .nv-y2.nv-axis").style("opacity",fa.length?1:0).attr("transform","translate("+K.range()[1]+",0)");V.select(".nv-context .nv-y1.nv-axis").transition().call(p);V.select(".nv-context .nv-y2.nv-axis").transition().call(q)}n.x(K).on("brush",P);y&&n.extent(y);var ga=V.select(".nv-brushBackground").selectAll("g").data([y||
n.extent()]);X=ga.enter().append("g");X.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",ba);X.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",ba);X=V.select(".nv-x.nv-brush").call(n);X.selectAll("rect").attr("height",ba);X.selectAll(".resize").append("path").attr("d",function(a){var b=(a=+(a=="e"))?1:-1,c=ba/3;return"M"+0.5*b+","+c+"A6,6 0 0 "+a+" "+6.5*b+","+(c+6)+"V"+(2*c-6)+"A6,6 0 0 "+a+" "+0.5*b+","+2*c+"ZM"+2.5*b+","+(c+8)+"V"+(2*c-8)+"M"+
4.5*b+","+(c+8)+"V"+(2*c-8)});r.dispatch.on("stateChange",function(a){for(var b in a)R[b]=a[b];J.stateChange(R);d.update()});J.on("changeState",function(a){if(typeof a.disabled!=="undefined"){F.forEach(function(b,c){b.disabled=a.disabled[c]});R.disabled=a.disabled}d.update()});P()});return d}var i=c.models.line(),f=c.models.line(),h=c.models.historicalBar(),g=c.models.historicalBar(),e=c.models.axis(),k=c.models.axis(),l=c.models.axis(),t=c.models.axis(),p=c.models.axis(),q=c.models.axis(),r=c.models.legend(),
n=d3.svg.brush(),u=c.models.tooltip(),x={top:30,right:30,bottom:30,left:60};a=0;b=20;var E=null,o=null,j=function(a){return a.x},w=function(a){return a.y},A=c.utils.defaultColor(),D=true,H=true,C=false,s=true,v=50,B,y=null,m,K,G,I,L,z,F=null,J=d3.dispatch("brush","stateChange","changeState"),aa=0,R=c.utils.state(),M=null,O=" (left axis)",N=" (right axis)";i.clipEdge(true);f.interactive(false);e.orient("bottom").tickPadding(5);l.orient("left");t.orient("right");k.orient("bottom").tickPadding(5);p.orient("left");
q.orient("right");u.headerEnabled(true).headerFormatter(function(a,b){return e.tickFormat()(a,b)});var T=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},S=function(a){return function(b){b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};i.dispatch.on("elementMouseover.tooltip",function(a){u.duration(100).valueFormatter(function(a,b){return t.tickFormat()(a,b)}).data(a).position(a.pos).hidden(false)});i.dispatch.on("elementMouseout.tooltip",
function(){u.hidden(true)});h.dispatch.on("elementMouseover.tooltip",function(a){a.value=d.x()(a.data);a.series={value:d.y()(a.data),color:a.color};u.duration(0).valueFormatter(function(a,b){return l.tickFormat()(a,b)}).data(a).hidden(false)});h.dispatch.on("elementMouseout.tooltip",function(){u.hidden(true)});h.dispatch.on("elementMousemove.tooltip",function(){u.position({top:d3.event.pageY,left:d3.event.pageX})()});d.dispatch=J;d.legend=r;d.lines=i;d.lines2=f;d.bars=h;d.bars2=g;d.xAxis=e;d.x2Axis=
k;d.y1Axis=l;d.y2Axis=t;d.y3Axis=p;d.y4Axis=q;d.tooltip=u;d.options=c.utils.optionsFunc.bind(d);d._options=Object.create({},{width:{get:function(){return E},set:function(a){E=a}},height:{get:function(){return o},set:function(a){o=a}},showLegend:{get:function(){return D},set:function(a){D=a}},brushExtent:{get:function(){return y},set:function(a){y=a}},noData:{get:function(){return F},set:function(a){F=a}},focusEnable:{get:function(){return H},set:function(a){H=a}},focusHeight:{get:function(){return v},
set:function(a){v=a}},focusShowAxisX:{get:function(){return s},set:function(a){s=a}},focusShowAxisY:{get:function(){return C},set:function(a){C=a}},legendLeftAxisHint:{get:function(){return O},set:function(a){O=a}},legendRightAxisHint:{get:function(){return N},set:function(a){N=a}},tooltips:{get:function(){return u.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");u.enabled(!!a)}},tooltipContent:{get:function(){return u.contentGenerator()},set:function(a){c.deprecated("tooltipContent",
"use chart.tooltip.contentGenerator() instead");u.contentGenerator(a)}},margin:{get:function(){return x},set:function(a){x.top=a.top!==void 0?a.top:x.top;x.right=a.right!==void 0?a.right:x.right;x.bottom=a.bottom!==void 0?a.bottom:x.bottom;x.left=a.left!==void 0?a.left:x.left}},duration:{get:function(){return aa},set:function(a){aa=a}},color:{get:function(){return A},set:function(a){A=c.utils.getColor(a);r.color(A)}},x:{get:function(){return j},set:function(a){j=a;i.x(a);f.x(a);h.x(a);g.x(a)}},y:{get:function(){return w},
set:function(a){w=a;i.y(a);f.y(a);h.y(a);g.y(a)}}});c.utils.inheritOptions(d,i);c.utils.initOptions(d);return d};c.models.lineWithFocusChart=function(){var a,b;function d(s){s.each(function(s){function z(){t.empty()||t.extent(C);Q.data([t.empty()?A.domain():C]).each(function(a){var b=A(a[0])-j.range()[0],c=p-A(a[1]);d3.select(this).select(".left").attr("width",b<0?0:b);d3.select(this).select(".right").attr("x",A(a[1])).attr("width",c<0?0:c)})}function F(){C=t.empty()?null:t.extent();var a=t.empty()?
A.domain():t.extent();if(!(Math.abs(a[0]-a[1])<=1)){v.brush({extent:a,brush:t});z();S.select(".nv-focus .nv-linesWrap").datum(s.filter(function(a){return!a.disabled}).map(function(b){return{key:b.key,area:b.area,values:b.values.filter(function(b,c){return i.x()(b,c)>=a[0]&&i.x()(b,c)<=a[1]})}})).transition().duration(B).call(i);S.select(".nv-focus .nv-x.nv-axis").transition().duration(B).call(h);S.select(".nv-focus .nv-y.nv-axis").transition().duration(B).call(g)}}var J=d3.select(this),I=this;c.utils.initSVG(J);
var p=c.utils.availableWidth(u,J,r),M=c.utils.availableHeight(x,J,r)-E,O=E-a-b;d.update=function(){J.transition().duration(B).call(d)};d.container=this;y.setter(G(s),d.update).getter(K(s)).update();y.disabled=s.map(function(a){return!!a.disabled});if(!m){var N;m={};for(N in y)m[N]=y[N]instanceof Array?y[N].slice(0):y[N]}if(!s||!s.length||!s.filter(function(a){return a.values.length}).length){c.utils.noData(d,J);return d}J.selectAll(".nv-noData").remove();j=i.xScale();w=i.yScale();A=f.xScale();D=f.yScale();
N=J.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([s]);var T=N.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),S=N.select("g");T.append("g").attr("class","nv-legendWrap");var P=T.append("g").attr("class","nv-focus");P.append("g").attr("class","nv-x nv-axis");P.append("g").attr("class","nv-y nv-axis");P.append("g").attr("class","nv-linesWrap");P.append("g").attr("class","nv-interactive");T=T.append("g").attr("class","nv-context");T.append("g").attr("class","nv-x nv-axis");
T.append("g").attr("class","nv-y nv-axis");T.append("g").attr("class","nv-linesWrap");T.append("g").attr("class","nv-brushBackground");T.append("g").attr("class","nv-x nv-brush");if(H){l.width(p);S.select(".nv-legendWrap").datum(s).call(l);if(r.top!=l.height()){r.top=l.height();M=c.utils.availableHeight(x,J,r)-E}S.select(".nv-legendWrap").attr("transform","translate(0,"+-r.top+")")}N.attr("transform","translate("+r.left+","+r.top+")");if(o){q.width(p).height(M).margin({left:r.left,top:r.top}).svgContainer(J).xScale(j);
N.select(".nv-interactive").call(q)}i.width(p).height(M).color(s.map(function(a,b){return a.color||n(a,b)}).filter(function(a,b){return!s[b].disabled}));f.defined(i.defined()).width(p).height(O).color(s.map(function(a,b){return a.color||n(a,b)}).filter(function(a,b){return!s[b].disabled}));S.select(".nv-context").attr("transform","translate(0,"+(M+r.bottom+a)+")");N=S.select(".nv-context .nv-linesWrap").datum(s.filter(function(a){return!a.disabled}));d3.transition(N).call(f);h.scale(j)._ticks(c.utils.calcTicksX(p/
100,s)).tickSize(-M,0);g.scale(w)._ticks(c.utils.calcTicksY(M/36,s)).tickSize(-p,0);S.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+M+")");t.x(A).on("brush",function(){F()});C&&t.extent(C);var Q=S.select(".nv-brushBackground").selectAll("g").data([C||t.extent()]),M=Q.enter().append("g");M.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",O);M.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",O);M=S.select(".nv-x.nv-brush").call(t);
M.selectAll("rect").attr("height",O);M.selectAll(".resize").append("path").attr("d",function(a){var b=(a=+(a=="e"))?1:-1,c=O/3;return"M"+0.5*b+","+c+"A6,6 0 0 "+a+" "+6.5*b+","+(c+6)+"V"+(2*c-6)+"A6,6 0 0 "+a+" "+0.5*b+","+2*c+"ZM"+2.5*b+","+(c+8)+"V"+(2*c-8)+"M"+4.5*b+","+(c+8)+"V"+(2*c-8)});F();e.scale(A)._ticks(c.utils.calcTicksX(p/100,s)).tickSize(-O,0);S.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+D.range()[0]+")");d3.transition(S.select(".nv-context .nv-x.nv-axis")).call(e);
k.scale(D)._ticks(c.utils.calcTicksY(O/36,s)).tickSize(-p,0);d3.transition(S.select(".nv-context .nv-y.nv-axis")).call(k);S.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+D.range()[0]+")");l.dispatch.on("stateChange",function(a){for(var b in a)y[b]=a[b];v.stateChange(y);d.update()});q.dispatch.on("elementMousemove",function(a){i.clearHighlights();var b,e,m,f=[];s.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(z,j){var h=t.empty()?A.domain():t.extent(),
F=z.values.filter(function(a,b){return i.x()(a,b)>=h[0]&&i.x()(a,b)<=h[1]});e=c.interactiveBisect(F,a.pointXValue,i.x());F=F[e];d.y()(F,e)!=null&&i.highlightPoint(j,e,true);if(F!==void 0){b===void 0&&(b=F);m===void 0&&(m=d.xScale()(d.x()(F,e)));f.push({key:z.key,value:d.y()(F,e),color:n(z,z.seriesIndex)})}});if(f.length>2){var z=d.yScale().invert(a.mouseY),j=0.03*Math.abs(d.yScale().domain()[0]-d.yScale().domain()[1]),z=c.nearestValueIndex(f.map(function(a){return a.value}),z,j);if(z!==null)f[z].highlight=
true}z=h.tickFormat()(d.x()(b,e));q.tooltip.position({left:a.mouseX+r.left,top:a.mouseY+r.top}).chartContainer(I.parentNode).valueFormatter(function(a){return a==null?"N/A":g.tickFormat()(a)}).data({value:z,index:e,series:f})();q.renderGuideLine(m)});q.dispatch.on("elementMouseout",function(){i.clearHighlights()});v.on("changeState",function(a){typeof a.disabled!=="undefined"&&s.forEach(function(b,c){b.disabled=a.disabled[c]});d.update()})});return d}var i=c.models.line(),f=c.models.line(),h=c.models.axis(),
g=c.models.axis(),e=c.models.axis(),k=c.models.axis(),l=c.models.legend(),t=d3.svg.brush(),p=c.models.tooltip(),q=c.interactiveGuideline(),r={top:30,right:30,bottom:30,left:60};a=0;b=20;var n=c.utils.defaultColor(),u=null,x=null,E=50,o=false,j,w,A,D,H=true,C=null,s=null,v=d3.dispatch("brush","stateChange","changeState"),B=250,y=c.utils.state(),m=null;i.clipEdge(true).duration(0);f.interactive(false);h.orient("bottom").tickPadding(5);g.orient("left");e.orient("bottom").tickPadding(5);k.orient("left");
p.valueFormatter(function(a,b){return g.tickFormat()(a,b)}).headerFormatter(function(a,b){return h.tickFormat()(a,b)});var K=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},G=function(a){return function(b){b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};i.dispatch.on("elementMouseover.tooltip",function(a){p.data(a).position(a.pos).hidden(false)});i.dispatch.on("elementMouseout.tooltip",function(){p.hidden(true)});d.dispatch=v;d.legend=l;
d.lines=i;d.lines2=f;d.xAxis=h;d.yAxis=g;d.x2Axis=e;d.y2Axis=k;d.interactiveLayer=q;d.tooltip=p;d.options=c.utils.optionsFunc.bind(d);d._options=Object.create({},{width:{get:function(){return u},set:function(a){u=a}},height:{get:function(){return x},set:function(a){x=a}},focusHeight:{get:function(){return E},set:function(a){E=a}},showLegend:{get:function(){return H},set:function(a){H=a}},brushExtent:{get:function(){return C},set:function(a){C=a}},defaultState:{get:function(){return m},set:function(a){m=
a}},noData:{get:function(){return s},set:function(a){s=a}},tooltips:{get:function(){return p.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");p.enabled(!!a)}},tooltipContent:{get:function(){return p.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");p.contentGenerator(a)}},margin:{get:function(){return r},set:function(a){r.top=a.top!==void 0?a.top:r.top;r.right=a.right!==void 0?a.right:r.right;
r.bottom=a.bottom!==void 0?a.bottom:r.bottom;r.left=a.left!==void 0?a.left:r.left}},color:{get:function(){return n},set:function(a){n=c.utils.getColor(a);l.color(n)}},interpolate:{get:function(){return i.interpolate()},set:function(a){i.interpolate(a);f.interpolate(a)}},xTickFormat:{get:function(){return h.tickFormat()},set:function(a){h.tickFormat(a);e.tickFormat(a)}},yTickFormat:{get:function(){return g.tickFormat()},set:function(a){g.tickFormat(a);k.tickFormat(a)}},duration:{get:function(){return B},
set:function(a){B=a;g.duration(B);k.duration(B);h.duration(B);e.duration(B)}},x:{get:function(){return i.x()},set:function(a){i.x(a);f.x(a)}},y:{get:function(){return i.y()},set:function(a){i.y(a);f.y(a)}},useInteractiveGuideline:{get:function(){return o},set:function(a){if(o=a){i.interactive(false);i.useVoronoi(false)}}}});c.utils.inheritOptions(d,i);c.utils.initOptions(d);return d};c.models.multiBar=function(){function a(y){v.reset();y.each(function(a){var y=d-b.left-b.right,G=i-b.top-b.bottom;
e=d3.select(this);c.utils.initSVG(e);var I=0;u&&a.length&&(u=[{values:a[0].values.map(function(a){return{x:a.x,y:0,series:a.series,size:0.01}})}]);if(q){var L=d3.layout.stack().offset(r).values(function(a){return a.values}).y(l)(!a.length&&u?u:a);L.forEach(function(b,c){if(b.nonStackable){a[c].nonStackableSeries=I++;L[c]=a[c]}else c>0&&L[c-1].nonStackable&&L[c].values.map(function(a,b){a.y0=a.y0-L[c-1].values[b].y;a.y1=a.y0+a.y})});a=L}a.forEach(function(a,b){a.values.forEach(function(c){c.series=
b;c.key=a.key})});q&&a[0].values.map(function(b,c){var d=0,e=0;a.map(function(b,f){if(!a[f].nonStackable){var z=b.values[c];z.size=Math.abs(z.y);if(z.y<0){z.y1=e;e=e-z.size}else{z.y1=z.size+d;d=d+z.size}}})});var z=j&&w?[]:a.map(function(a,b){return a.values.map(function(a,c){return{x:k(a,c),y:l(a,c),y0:a.y0,y1:a.y1,idx:b}})});f.domain(j||d3.merge(z).map(function(a){return a.x})).rangeBands(A||[0,y],H);h.domain(w||d3.extent(d3.merge(z).map(function(b){var c=b.y;q&&!a[b.idx].nonStackable&&(c=b.y>0?
b.y1:b.y1+b.y);return c}).concat(t))).range(D||[G,0]);f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]-f.domain()[0]*0.01,f.domain()[1]+f.domain()[1]*0.01]):f.domain([-1,1]));h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]+h.domain()[0]*0.01,h.domain()[1]-h.domain()[1]*0.01]):h.domain([-1,1]));s=s||h;var z=e.selectAll("g.nv-wrap.nv-multibar").data([a]),F=z.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),J=F.append("defs"),F=F.append("g"),aa=
z.select("g");F.append("g").attr("class","nv-groups");z.attr("transform","translate("+b.left+","+b.top+")");J.append("clipPath").attr("id","nv-edge-clip-"+g).append("rect");z.select("#nv-edge-clip-"+g+" rect").attr("width",y).attr("height",G);aa.attr("clip-path",p?"url(#nv-edge-clip-"+g+")":"");y=z.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a,b){return b});y.enter().append("g").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6);G=v.transition(y.exit().selectAll("rect.nv-bar"),
"multibarExit",Math.min(100,o)).attr("y",function(b){var c=s(0)||0;q&&a[b.series]&&!a[b.series].nonStackable&&(c=s(b.y0));return c}).attr("height",0).remove();G.delay&&G.delay(function(a,b){return b*(o/(B+1))-b});y.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return n(a,b)}).style("stroke",function(a,b){return n(a,b)});y.style("stroke-opacity",1).style("fill-opacity",0.75);y=y.selectAll("rect.nv-bar").data(function(b){return u&&
!a.length?u.values:b.values});y.exit().remove();y.enter().append("rect").attr("class",function(a,b){return l(a,b)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(b,c,d){return q&&!a[d].nonStackable?0:d*f.rangeBand()/a.length}).attr("y",function(b,c,d){return s(q&&!a[d].nonStackable?b.y0:0)||0}).attr("height",0).attr("width",function(b,c,d){return f.rangeBand()/(q&&!a[d].nonStackable?1:a.length)}).attr("transform",function(a,b){return"translate("+f(k(a,b))+",0)"});y.style("fill",function(a,
b,c){return n(a,c,b)}).style("stroke",function(a,b,c){return n(a,c,b)}).on("mouseover",function(a,b){d3.select(this).classed("hover",true);C.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){d3.select(this).classed("hover",false);C.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mousemove",function(a,b){C.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){C.elementClick({data:a,
index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()}).on("dblclick",function(a,b){C.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()});y.attr("class",function(a,b){return l(a,b)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(a,b){return"translate("+f(k(a,b))+",0)"});if(x){E||(E=a.map(function(){return true}));y.style("fill",function(a,b,c){return d3.rgb(x(a,b)).darker(E.map(function(a,b){return b}).filter(function(a,
b){return!E[b]})[c]).toString()}).style("stroke",function(a,b,c){return d3.rgb(x(a,b)).darker(E.map(function(a,b){return b}).filter(function(a,b){return!E[b]})[c]).toString()})}y=y.watchTransition(v,"multibar",Math.min(250,o)).delay(function(b,c){return c*o/a[0].values.length});q?y.attr("y",function(b,c,d){var e=0;return e=a[d].nonStackable?l(b,c)<0?h(0):h(0)-h(l(b,c))<-1?h(0)-1:h(l(b,c))||0:h(b.y1)}).attr("height",function(b,c,d){return a[d].nonStackable?Math.max(Math.abs(h(l(b,c))-h(0)),1)||0:Math.max(Math.abs(h(b.y+
b.y0)-h(b.y0)),1)}).attr("x",function(b,c,d){c=0;if(a[d].nonStackable){c=b.series*f.rangeBand()/a.length;a.length!==I&&(c=a[d].nonStackableSeries*f.rangeBand()/(I*2))}return c}).attr("width",function(b,c,d){if(a[d].nonStackable){b=f.rangeBand()/I;a.length!==I&&(b=f.rangeBand()/(I*2));return b}return f.rangeBand()}):y.attr("x",function(b){return b.series*f.rangeBand()/a.length}).attr("width",f.rangeBand()/a.length).attr("y",function(a,b){return l(a,b)<0?h(0):h(0)-h(l(a,b))<1?h(0)-1:h(l(a,b))||0}).attr("height",
function(a,b){return Math.max(Math.abs(h(l(a,b))-h(0)),1)||0});f.copy();s=h.copy();if(a[0]&&a[0].values)B=a[0].values.length});v.renderEnd("multibar immediate");return a}var b={top:0,right:0,bottom:0,left:0},d=960,i=500,f=d3.scale.ordinal(),h=d3.scale.linear(),g=Math.floor(Math.random()*1E4),e=null,k=function(a){return a.x},l=function(a){return a.y},t=[0],p=true,q=false,r="zero",n=c.utils.defaultColor(),u=false,x=null,E,o=500,j,w,A,D,H=0.1,C=d3.dispatch("chartClick","elementClick","elementDblClick",
"elementMouseover","elementMouseout","elementMousemove","renderEnd"),s,v=c.utils.renderWatch(C,o),B=0;a.dispatch=C;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return i},set:function(a){i=a}},x:{get:function(){return k},set:function(a){k=a}},y:{get:function(){return l},set:function(a){l=a}},xScale:{get:function(){return f},set:function(a){f=a}},yScale:{get:function(){return h},set:function(a){h=a}},
xDomain:{get:function(){return j},set:function(a){j=a}},yDomain:{get:function(){return w},set:function(a){w=a}},xRange:{get:function(){return A},set:function(a){A=a}},yRange:{get:function(){return D},set:function(a){D=a}},forceY:{get:function(){return t},set:function(a){t=a}},stacked:{get:function(){return q},set:function(a){q=a}},stackOffset:{get:function(){return r},set:function(a){r=a}},clipEdge:{get:function(){return p},set:function(a){p=a}},disabled:{get:function(){return E},set:function(a){E=
a}},id:{get:function(){return g},set:function(a){g=a}},hideable:{get:function(){return u},set:function(a){u=a}},groupSpacing:{get:function(){return H},set:function(a){H=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},duration:{get:function(){return o},set:function(a){o=a;v.reset(o)}},color:{get:function(){return n},set:function(a){n=c.utils.getColor(a)}},
barColor:{get:function(){return x},set:function(a){x=a?c.utils.getColor(a):null}}});c.utils.initOptions(a);return a};c.models.multiBarChart=function(){function a(g){B.reset();B.models(b);n&&B.models(d);u&&B.models(i);g.each(function(g){var G=d3.select(this);c.utils.initSVG(G);var z=c.utils.availableWidth(k,G,e),F=c.utils.availableHeight(l,G,e);a.update=function(){v===0?G.call(a):G.transition().duration(v).call(a)};a.container=this;D.setter(K(g),a.update).getter(m(g)).update();D.disabled=g.map(function(a){return!!a.disabled});
if(!H){var J;H={};for(J in D)H[J]=D[J]instanceof Array?D[J].slice(0):D[J]}if(!g||!g.length||!g.filter(function(a){return a.values.length}).length){c.utils.noData(a,G);return a}G.selectAll(".nv-noData").remove();w=b.xScale();A=b.yScale();var B=G.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([g]),C=B.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g");J=B.select("g");C.append("g").attr("class","nv-x nv-axis");C.append("g").attr("class","nv-y nv-axis");C.append("g").attr("class",
"nv-barsWrap");C.append("g").attr("class","nv-legendWrap");C.append("g").attr("class","nv-controlsWrap");if(r){f.width(z-(p?180:0));J.select(".nv-legendWrap").datum(g).call(f);if(e.top!=f.height()){e.top=f.height();F=c.utils.availableHeight(l,G,e)}J.select(".nv-legendWrap").attr("transform","translate("+(p?180:0)+","+-e.top+")")}if(p){var M=[{key:q.grouped||"Grouped",disabled:b.stacked()},{key:q.stacked||"Stacked",disabled:!b.stacked()}];h.width(p?180:0).color(["#444","#444","#444"]);J.select(".nv-controlsWrap").datum(M).attr("transform",
"translate(0,"+-e.top+")").call(h)}B.attr("transform","translate("+e.left+","+e.top+")");x&&J.select(".nv-y.nv-axis").attr("transform","translate("+z+",0)");b.disabled(g.map(function(a){return a.disabled})).width(z).height(F).color(g.map(function(a,b){return a.color||t(a,b)}).filter(function(a,b){return!g[b].disabled}));J.select(".nv-barsWrap").datum(g.filter(function(a){return!a.disabled})).call(b);if(n){d.scale(w)._ticks(c.utils.calcTicksX(z/100,g)).tickSize(-F,0);J.select(".nv-x.nv-axis").attr("transform",
"translate(0,"+A.range()[0]+")");J.select(".nv-x.nv-axis").call(d);B=J.select(".nv-x.nv-axis > g").selectAll("g");B.selectAll("line, text").style("opacity",1);if(o){B.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(c%2==0?5:17)+")"});var O=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;J.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(a,b){return"translate(0,"+(b===0||O%2!==0?17:5)+")"})}E&&B.filter(function(a,b){return b%Math.ceil(g[0].values.length/
(z/100))!==0}).selectAll("text, line").style("opacity",0);j&&B.selectAll(".tick text").attr("transform","rotate("+j+" 0,0)").style("text-anchor",j>0?"start":"end");J.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}if(u){i.scale(A)._ticks(c.utils.calcTicksY(F/36,g)).tickSize(-z,0);J.select(".nv-y.nv-axis").call(i)}f.dispatch.on("stateChange",function(b){for(var c in b)D[c]=b[c];s.stateChange(D);a.update()});h.dispatch.on("legendClick",function(c){if(c.disabled){M=M.map(function(a){a.disabled=
true;return a});c.disabled=false;switch(c.key){case "Grouped":case q.grouped:b.stacked(false);break;case "Stacked":case q.stacked:b.stacked(true)}D.stacked=b.stacked();s.stateChange(D);a.update()}});s.on("changeState",function(c){if(typeof c.disabled!=="undefined"){g.forEach(function(a,b){a.disabled=c.disabled[b]});D.disabled=c.disabled}if(typeof c.stacked!=="undefined"){b.stacked(c.stacked);y=D.stacked=c.stacked}a.update()})});B.renderEnd("multibarchart immediate");return a}var b=c.models.multiBar(),
d=c.models.axis(),i=c.models.axis(),f=c.models.legend(),h=c.models.legend(),g=c.models.tooltip(),e={top:30,right:20,bottom:50,left:60},k=null,l=null,t=c.utils.defaultColor(),p=true,q={},r=true,n=true,u=true,x=false,E=true,o=false,j=0,w,A,D=c.utils.state(),H=null,C=null,s=d3.dispatch("stateChange","changeState","renderEnd"),v=250;D.stacked=false;b.stacked(false);d.orient("bottom").tickPadding(7).showMaxMin(false).tickFormat(function(a){return a});i.orient(x?"right":"left").tickFormat(d3.format(",.1f"));
g.duration(0).valueFormatter(function(a,b){return i.tickFormat()(a,b)}).headerFormatter(function(a,b){return d.tickFormat()(a,b)});h.updateState(false);var B=c.utils.renderWatch(s),y=false,m=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),stacked:y}}},K=function(a){return function(b){if(b.stacked!==void 0)y=b.stacked;b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};b.dispatch.on("elementMouseover.tooltip",function(b){b.value=a.x()(b.data);b.series=
{key:b.data.key,value:a.y()(b.data),color:b.color};g.data(b).hidden(false)});b.dispatch.on("elementMouseout.tooltip",function(){g.hidden(true)});b.dispatch.on("elementMousemove.tooltip",function(){g.position({top:d3.event.pageY,left:d3.event.pageX})()});a.dispatch=s;a.multibar=b;a.legend=f;a.controls=h;a.xAxis=d;a.yAxis=i;a.state=D;a.tooltip=g;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return l},set:function(a){l=
a}},showLegend:{get:function(){return r},set:function(a){r=a}},showControls:{get:function(){return p},set:function(a){p=a}},controlLabels:{get:function(){return q},set:function(a){q=a}},showXAxis:{get:function(){return n},set:function(a){n=a}},showYAxis:{get:function(){return u},set:function(a){u=a}},defaultState:{get:function(){return H},set:function(a){H=a}},noData:{get:function(){return C},set:function(a){C=a}},reduceXTicks:{get:function(){return E},set:function(a){E=a}},rotateLabels:{get:function(){return j},
set:function(a){j=a}},staggerLabels:{get:function(){return o},set:function(a){o=a}},tooltips:{get:function(){return g.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");g.enabled(!!a)}},tooltipContent:{get:function(){return g.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");g.contentGenerator(a)}},margin:{get:function(){return e},set:function(a){e.top=a.top!==void 0?a.top:e.top;e.right=a.right!==
void 0?a.right:e.right;e.bottom=a.bottom!==void 0?a.bottom:e.bottom;e.left=a.left!==void 0?a.left:e.left}},duration:{get:function(){return v},set:function(a){v=a;b.duration(v);d.duration(v);i.duration(v);B.reset(v)}},color:{get:function(){return t},set:function(a){t=c.utils.getColor(a);f.color(t)}},rightAlignYAxis:{get:function(){return x},set:function(a){x=a;i.orient(x?"right":"left")}},barColor:{get:function(){return b.barColor},set:function(a){b.barColor(a);f.color(function(a,b){return d3.rgb("#ccc").darker(b*
1.5).toString()})}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.multiBarHorizontal=function(){function a(m){y.reset();m.each(function(a){var m=d-b.left-b.right,f=i-b.top-b.bottom;h=d3.select(this);c.utils.initSVG(h);u&&(a=d3.layout.stack().offset("zero").values(function(a){return a.values}).y(l)(a));a.forEach(function(a,b){a.values.forEach(function(c){c.series=b;c.key=a.key})});u&&a[0].values.map(function(b,c){var d=0,e=0;a.map(function(a){a=a.values[c];a.size=Math.abs(a.y);
if(a.y<0){a.y1=e-a.size;e=e-a.size}else{a.y1=d;d=d+a.size}})});var s=A&&D?[]:a.map(function(a){return a.values.map(function(a,b){return{x:k(a,b),y:l(a,b),y0:a.y0,y1:a.y1}})});g.domain(A||d3.merge(s).map(function(a){return a.x})).rangeBands(H||[0,f],j);e.domain(D||d3.extent(d3.merge(s).map(function(a){return u?a.y>0?a.y1+a.y:a.y1:a.y}).concat(p)));x&&!u?e.range(C||[e.domain()[0]<0?o:0,m-(e.domain()[1]>0?o:0)]):e.range(C||[0,m]);B=B||d3.scale.linear().domain(e.domain()).range([e(0),e(0)]);m=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([a]);
f=m.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal");f.append("defs");f=f.append("g");m.select("g");f.append("g").attr("class","nv-groups");m.attr("transform","translate("+b.left+","+b.top+")");m=m.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a,b){return b});m.enter().append("g").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6);m.exit().watchTransition(y,"multibarhorizontal: exit groups").style("stroke-opacity",1.0E-6).style("fill-opacity",
1.0E-6).remove();m.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return q(a,b)}).style("stroke",function(a,b){return q(a,b)});m.watchTransition(y,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",0.75);m=m.selectAll("g.nv-bar").data(function(a){return a.values});m.exit().remove();f=m.enter().append("g").attr("transform",function(b,c,d){return"translate("+B(u?b.y0:0)+","+(u?0:d*g.rangeBand()/
a.length+g(k(b,c)))+")"});f.append("rect").attr("width",0).attr("height",g.rangeBand()/(u?1:a.length));m.on("mouseover",function(a,b){d3.select(this).classed("hover",true);v.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){d3.select(this).classed("hover",false);v.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){v.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mousemove",
function(a,b){v.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){v.elementClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()}).on("dblclick",function(a,b){v.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()});if(t(a[0],0)){f.append("polyline");m.select("polyline").attr("fill","none").attr("points",function(b,c){var d=t(b,c),m=0.8*g.rangeBand()/((u?1:a.length)*2),d=d.length?
d:[-Math.abs(d),Math.abs(d)],d=d.map(function(a){return e(a)-e(0)});return[[d[0],-m],[d[0],m],[d[0],0],[d[1],0],[d[1],-m],[d[1],m]].map(function(a){return a.join(",")}).join(" ")}).attr("transform",function(b,c){var d=g.rangeBand()/((u?1:a.length)*2);return"translate("+(l(b,c)<0?0:e(l(b,c))-e(0))+", "+d+")"})}f.append("text");if(x&&!u){m.select("text").attr("text-anchor",function(a,b){return l(a,b)<0?"end":"start"}).attr("y",g.rangeBand()/(a.length*2)).attr("dy",".32em").text(function(a,b){var c=
w(l(a,b)),d=t(a,b);return d===void 0?c:!d.length?c+"\u00b1"+w(Math.abs(d)):c+"+"+w(Math.abs(d[1]))+"-"+w(Math.abs(d[0]))});m.watchTransition(y,"multibarhorizontal: bars").select("text").attr("x",function(a,b){return l(a,b)<0?-4:e(l(a,b))-e(0)+4})}else m.selectAll("text").text("");if(E&&!u){f.append("text").classed("nv-bar-label",true);m.select("text.nv-bar-label").attr("text-anchor",function(a,b){return l(a,b)<0?"start":"end"}).attr("y",g.rangeBand()/(a.length*2)).attr("dy",".32em").text(function(a,
b){return k(a,b)});m.watchTransition(y,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(a,b){return l(a,b)<0?e(0)-e(l(a,b))+4:-4})}else m.selectAll("text.nv-bar-label").text("");m.attr("class",function(a,b){return l(a,b)<0?"nv-bar negative":"nv-bar positive"});if(r){n||(n=a.map(function(){return true}));m.style("fill",function(a,b,c){return d3.rgb(r(a,b)).darker(n.map(function(a,b){return b}).filter(function(a,b){return!n[b]})[c]).toString()}).style("stroke",function(a,b,
c){return d3.rgb(r(a,b)).darker(n.map(function(a,b){return b}).filter(function(a,b){return!n[b]})[c]).toString()})}u?m.watchTransition(y,"multibarhorizontal: bars").attr("transform",function(a,b){return"translate("+e(a.y1)+","+g(k(a,b))+")"}).select("rect").attr("width",function(a,b){return Math.abs(e(l(a,b)+a.y0)-e(a.y0))}).attr("height",g.rangeBand()):m.watchTransition(y,"multibarhorizontal: bars").attr("transform",function(b,c){return"translate("+(l(b,c)<0?e(l(b,c)):e(0))+","+(b.series*g.rangeBand()/
a.length+g(k(b,c)))+")"}).select("rect").attr("height",g.rangeBand()/a.length).attr("width",function(a,b){return Math.max(Math.abs(e(l(a,b))-e(0)),1)});g.copy();B=e.copy()});y.renderEnd("multibarHorizontal immediate");return a}var b={top:0,right:0,bottom:0,left:0},d=960,i=500,f=Math.floor(Math.random()*1E4),h=null,g=d3.scale.ordinal(),e=d3.scale.linear(),k=function(a){return a.x},l=function(a){return a.y},t=function(a){return a.yErr},p=[0],q=c.utils.defaultColor(),r=null,n,u=false,x=false,E=false,
o=60,j=0.1,w=d3.format(",.2f"),A,D,H,C,s=250,v=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),B,y=c.utils.renderWatch(v,s);a.dispatch=v;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return i},set:function(a){i=a}},x:{get:function(){return k},set:function(a){k=a}},y:{get:function(){return l},set:function(a){l=a}},yErr:{get:function(){return t},
set:function(a){t=a}},xScale:{get:function(){return g},set:function(a){g=a}},yScale:{get:function(){return e},set:function(a){e=a}},xDomain:{get:function(){return A},set:function(a){A=a}},yDomain:{get:function(){return D},set:function(a){D=a}},xRange:{get:function(){return H},set:function(a){H=a}},yRange:{get:function(){return C},set:function(a){C=a}},forceY:{get:function(){return p},set:function(a){p=a}},stacked:{get:function(){return u},set:function(a){u=a}},showValues:{get:function(){return x},
set:function(a){x=a}},disabled:{get:function(){return n},set:function(a){n=a}},id:{get:function(){return f},set:function(a){f=a}},valueFormat:{get:function(){return w},set:function(a){w=a}},valuePadding:{get:function(){return o},set:function(a){o=a}},groupSpacing:{get:function(){return j},set:function(a){j=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?
a.left:b.left}},duration:{get:function(){return s},set:function(a){s=a;y.reset(s)}},color:{get:function(){return q},set:function(a){q=c.utils.getColor(a)}},barColor:{get:function(){return r},set:function(a){r=a?c.utils.getColor(a):null}}});c.utils.initOptions(a);return a};c.models.multiBarHorizontalChart=function(){function a(g){v.reset();v.models(b);n&&v.models(d);u&&v.models(i);g.each(function(g){var m=d3.select(this);c.utils.initSVG(m);var v=c.utils.availableWidth(k,m,e),G=c.utils.availableHeight(l,
m,e);a.update=function(){m.transition().duration(H).call(a)};a.container=this;x=b.stacked();j.setter(s(g),a.update).getter(C(g)).update();j.disabled=g.map(function(a){return!!a.disabled});if(!w){var B;w={};for(B in j)w[B]=j[B]instanceof Array?j[B].slice(0):j[B]}if(!g||!g.length||!g.filter(function(a){return a.values.length}).length){c.utils.noData(a,m);return a}m.selectAll(".nv-noData").remove();E=b.xScale();o=b.yScale();B=m.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([g]);var A=B.enter().append("g").attr("class",
"nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),z=B.select("g");A.append("g").attr("class","nv-x nv-axis");A.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");A.append("g").attr("class","nv-barsWrap");A.append("g").attr("class","nv-legendWrap");A.append("g").attr("class","nv-controlsWrap");if(r){f.width(v-(p?180:0));z.select(".nv-legendWrap").datum(g).call(f);if(e.top!=f.height()){e.top=f.height();G=c.utils.availableHeight(l,m,e)}z.select(".nv-legendWrap").attr("transform",
"translate("+(p?180:0)+","+-e.top+")")}if(p){var F=[{key:q.grouped||"Grouped",disabled:b.stacked()},{key:q.stacked||"Stacked",disabled:!b.stacked()}];h.width(p?180:0).color(["#444","#444","#444"]);z.select(".nv-controlsWrap").datum(F).attr("transform","translate(0,"+-e.top+")").call(h)}B.attr("transform","translate("+e.left+","+e.top+")");b.disabled(g.map(function(a){return a.disabled})).width(v).height(G).color(g.map(function(a,b){return a.color||t(a,b)}).filter(function(a,b){return!g[b].disabled}));
z.select(".nv-barsWrap").datum(g.filter(function(a){return!a.disabled})).transition().call(b);if(n){d.scale(E)._ticks(c.utils.calcTicksY(G/24,g)).tickSize(-v,0);z.select(".nv-x.nv-axis").call(d);z.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text")}if(u){i.scale(o)._ticks(c.utils.calcTicksX(v/100,g)).tickSize(-G,0);z.select(".nv-y.nv-axis").attr("transform","translate(0,"+G+")");z.select(".nv-y.nv-axis").call(i)}z.select(".nv-zeroLine line").attr("x1",o(0)).attr("x2",o(0)).attr("y1",0).attr("y2",
-G);f.dispatch.on("stateChange",function(b){for(var c in b)j[c]=b[c];D.stateChange(j);a.update()});h.dispatch.on("legendClick",function(c){if(c.disabled){F=F.map(function(a){a.disabled=true;return a});c.disabled=false;switch(c.key){case "Grouped":b.stacked(false);break;case "Stacked":b.stacked(true)}j.stacked=b.stacked();D.stateChange(j);x=b.stacked();a.update()}});D.on("changeState",function(c){if(typeof c.disabled!=="undefined"){g.forEach(function(a,b){a.disabled=c.disabled[b]});j.disabled=c.disabled}if(typeof c.stacked!==
"undefined"){b.stacked(c.stacked);x=j.stacked=c.stacked}a.update()})});v.renderEnd("multibar horizontal chart immediate");return a}var b=c.models.multiBarHorizontal(),d=c.models.axis(),i=c.models.axis(),f=c.models.legend().height(30),h=c.models.legend().height(30),g=c.models.tooltip(),e={top:30,right:20,bottom:50,left:60},k=null,l=null,t=c.utils.defaultColor(),p=true,q={},r=true,n=true,u=true,x=false,E,o,j=c.utils.state(),w=null,A=null,D=d3.dispatch("stateChange","changeState","renderEnd"),H=250;
j.stacked=false;b.stacked(x);d.orient("left").tickPadding(5).showMaxMin(false).tickFormat(function(a){return a});i.orient("bottom").tickFormat(d3.format(",.1f"));g.duration(0).valueFormatter(function(a,b){return i.tickFormat()(a,b)}).headerFormatter(function(a,b){return d.tickFormat()(a,b)});h.updateState(false);var C=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),stacked:x}}},s=function(a){return function(b){if(b.stacked!==void 0)x=b.stacked;b.active!==void 0&&
a.forEach(function(a,c){a.disabled=!b.active[c]})}},v=c.utils.renderWatch(D,H);b.dispatch.on("elementMouseover.tooltip",function(b){b.value=a.x()(b.data);b.series={key:b.data.key,value:a.y()(b.data),color:b.color};g.data(b).hidden(false)});b.dispatch.on("elementMouseout.tooltip",function(){g.hidden(true)});b.dispatch.on("elementMousemove.tooltip",function(){g.position({top:d3.event.pageY,left:d3.event.pageX})()});a.dispatch=D;a.multibar=b;a.legend=f;a.controls=h;a.xAxis=d;a.yAxis=i;a.state=j;a.tooltip=
g;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return l},set:function(a){l=a}},showLegend:{get:function(){return r},set:function(a){r=a}},showControls:{get:function(){return p},set:function(a){p=a}},controlLabels:{get:function(){return q},set:function(a){q=a}},showXAxis:{get:function(){return n},set:function(a){n=a}},showYAxis:{get:function(){return u},set:function(a){u=a}},defaultState:{get:function(){return w},
set:function(a){w=a}},noData:{get:function(){return A},set:function(a){A=a}},tooltips:{get:function(){return g.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");g.enabled(!!a)}},tooltipContent:{get:function(){return g.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");g.contentGenerator(a)}},margin:{get:function(){return e},set:function(a){e.top=a.top!==void 0?a.top:e.top;e.right=a.right!==void 0?
a.right:e.right;e.bottom=a.bottom!==void 0?a.bottom:e.bottom;e.left=a.left!==void 0?a.left:e.left}},duration:{get:function(){return H},set:function(a){H=a;v.reset(H);b.duration(H);d.duration(H);i.duration(H)}},color:{get:function(){return t},set:function(a){t=c.utils.getColor(a);f.color(t)}},barColor:{get:function(){return b.barColor},set:function(a){b.barColor(a);f.color(function(a,b){return d3.rgb("#ccc").darker(b*1.5).toString()})}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};
c.models.multiChart=function(){function a(g){g.each(function(m){function g(a){var b=m[a.seriesIndex].yAxis===2?C:H;a.value=a.point.x;a.series={value:a.point.y,color:a.point.color};v.duration(100).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).position(a.pos).hidden(false)}function l(a){var b=m[a.seriesIndex].yAxis===2?C:H;a.point.x=w.x()(a.point);a.point.y=w.y()(a.point);v.duration(100).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).position(a.pos).hidden(false)}
function q(a){var b=m[a.data.series].yAxis===2?C:H;a.value=o.x()(a.data);a.series={value:o.y()(a.data),color:a.color};v.duration(0).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).hidden(false)}var y=d3.select(this);c.utils.initSVG(y);a.update=function(){y.transition().call(a)};a.container=this;var z=c.utils.availableWidth(i,y,b),F=c.utils.availableHeight(f,y,b),t=m.filter(function(a){return a.type=="line"&&a.yAxis==1}),B=m.filter(function(a){return a.type=="line"&&a.yAxis==2}),
R=m.filter(function(a){return a.type=="bar"&&a.yAxis==1}),M=m.filter(function(a){return a.type=="bar"&&a.yAxis==2}),O=m.filter(function(a){return a.type=="area"&&a.yAxis==1}),N=m.filter(function(a){return a.type=="area"&&a.yAxis==2});if(!m||!m.length||!m.filter(function(a){return a.values.length}).length){c.utils.noData(a,y);return a}y.selectAll(".nv-noData").remove();var T=m.filter(function(a){return!a.disabled&&a.yAxis==1}).map(function(a){return a.values.map(function(a){return{x:a.x,y:a.y}})}),
S=m.filter(function(a){return!a.disabled&&a.yAxis==2}).map(function(a){return a.values.map(function(a){return{x:a.x,y:a.y}})});r.domain(d3.extent(d3.merge(T.concat(S)),function(a){return a.x})).range([0,z]);var P=y.selectAll("g.wrap.multiChart").data([m]),Q=P.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");Q.append("g").attr("class","nv-x nv-axis");Q.append("g").attr("class","nv-y1 nv-axis");Q.append("g").attr("class","nv-y2 nv-axis");Q.append("g").attr("class","lines1Wrap");
Q.append("g").attr("class","lines2Wrap");Q.append("g").attr("class","bars1Wrap");Q.append("g").attr("class","bars2Wrap");Q.append("g").attr("class","stack1Wrap");Q.append("g").attr("class","stack2Wrap");Q.append("g").attr("class","legendWrap");P=P.select("g");Q=m.map(function(a,b){return m[b].color||d(a,b)});if(h){var U=s.align()?z/2:z,W=s.align()?U:0;s.width(U);s.color(Q);P.select(".legendWrap").datum(m.map(function(a){a.originalKey=a.originalKey===void 0?a.key:a.originalKey;a.key=a.originalKey+
(a.yAxis==1?"":" (right axis)");return a})).call(s);if(b.top!=s.height()){b.top=s.height();F=c.utils.availableHeight(f,y,b)}P.select(".legendWrap").attr("transform","translate("+W+","+-b.top+")")}x.width(z).height(F).interpolate(p).color(Q.filter(function(a,b){return!m[b].disabled&&m[b].yAxis==1&&m[b].type=="line"}));E.width(z).height(F).interpolate(p).color(Q.filter(function(a,b){return!m[b].disabled&&m[b].yAxis==2&&m[b].type=="line"}));o.width(z).height(F).color(Q.filter(function(a,b){return!m[b].disabled&&
m[b].yAxis==1&&m[b].type=="bar"}));j.width(z).height(F).color(Q.filter(function(a,b){return!m[b].disabled&&m[b].yAxis==2&&m[b].type=="bar"}));w.width(z).height(F).color(Q.filter(function(a,b){return!m[b].disabled&&m[b].yAxis==1&&m[b].type=="area"}));A.width(z).height(F).color(Q.filter(function(a,b){return!m[b].disabled&&m[b].yAxis==2&&m[b].type=="area"}));P.attr("transform","translate("+b.left+","+b.top+")");var Q=P.select(".lines1Wrap").datum(t.filter(function(a){return!a.disabled})),U=P.select(".bars1Wrap").datum(R.filter(function(a){return!a.disabled})),
W=P.select(".stack1Wrap").datum(O.filter(function(a){return!a.disabled})),Y=P.select(".lines2Wrap").datum(B.filter(function(a){return!a.disabled})),Z=P.select(".bars2Wrap").datum(M.filter(function(a){return!a.disabled})),ca=P.select(".stack2Wrap").datum(N.filter(function(a){return!a.disabled})),ba=O.length?O.map(function(a){return a.values}).reduce(function(a,b){return a.map(function(a,c){return{x:a.x,y:a.y+b[c].y}})}).concat([{x:0,y:0}]):[],X=N.length?N.map(function(a){return a.values}).reduce(function(a,
b){return a.map(function(a,c){return{x:a.x,y:a.y+b[c].y}})}).concat([{x:0,y:0}]):[];n.domain(e||d3.extent(d3.merge(T).concat(ba),function(a){return a.y})).range([0,F]);u.domain(k||d3.extent(d3.merge(S).concat(X),function(a){return a.y})).range([0,F]);x.yDomain(n.domain());o.yDomain(n.domain());w.yDomain(n.domain());E.yDomain(u.domain());j.yDomain(u.domain());A.yDomain(u.domain());O.length&&d3.transition(W).call(w);N.length&&d3.transition(ca).call(A);R.length&&d3.transition(U).call(o);M.length&&d3.transition(Z).call(j);
t.length&&d3.transition(Q).call(x);B.length&&d3.transition(Y).call(E);D._ticks(c.utils.calcTicksX(z/100,m)).tickSize(-F,0);P.select(".nv-x.nv-axis").attr("transform","translate(0,"+F+")");d3.transition(P.select(".nv-x.nv-axis")).call(D);H._ticks(c.utils.calcTicksY(F/36,m)).tickSize(-z,0);d3.transition(P.select(".nv-y1.nv-axis")).call(H);C._ticks(c.utils.calcTicksY(F/36,m)).tickSize(-z,0);d3.transition(P.select(".nv-y2.nv-axis")).call(C);P.select(".nv-y1.nv-axis").classed("nv-disabled",T.length?false:
true).attr("transform","translate("+r.range()[0]+",0)");P.select(".nv-y2.nv-axis").classed("nv-disabled",S.length?false:true).attr("transform","translate("+r.range()[1]+",0)");s.dispatch.on("stateChange",function(){a.update()});x.dispatch.on("elementMouseover.tooltip",g);E.dispatch.on("elementMouseover.tooltip",g);x.dispatch.on("elementMouseout.tooltip",function(){v.hidden(true)});E.dispatch.on("elementMouseout.tooltip",function(){v.hidden(true)});w.dispatch.on("elementMouseover.tooltip",l);A.dispatch.on("elementMouseover.tooltip",
l);w.dispatch.on("elementMouseout.tooltip",function(){v.hidden(true)});A.dispatch.on("elementMouseout.tooltip",function(){v.hidden(true)});o.dispatch.on("elementMouseover.tooltip",q);j.dispatch.on("elementMouseover.tooltip",q);o.dispatch.on("elementMouseout.tooltip",function(){v.hidden(true)});j.dispatch.on("elementMouseout.tooltip",function(){v.hidden(true)});o.dispatch.on("elementMousemove.tooltip",function(){v.position({top:d3.event.pageY,left:d3.event.pageX})()});j.dispatch.on("elementMousemove.tooltip",
function(){v.position({top:d3.event.pageY,left:d3.event.pageX})()})});return a}var b={top:30,right:20,bottom:50,left:60},d=c.utils.defaultColor(),i=null,f=null,h=true,g=null,e,k,l=function(a){return a.x},t=function(a){return a.y},p="monotone",q=true,r=d3.scale.linear(),n=d3.scale.linear(),u=d3.scale.linear(),x=c.models.line().yScale(n),E=c.models.line().yScale(u),o=c.models.multiBar().stacked(false).yScale(n),j=c.models.multiBar().stacked(false).yScale(u),w=c.models.stackedArea().yScale(n),A=c.models.stackedArea().yScale(u),
D=c.models.axis().scale(r).orient("bottom").tickPadding(5),H=c.models.axis().scale(n).orient("left"),C=c.models.axis().scale(u).orient("right"),s=c.models.legend().height(30),v=c.models.tooltip(),B=d3.dispatch();a.dispatch=B;a.lines1=x;a.lines2=E;a.bars1=o;a.bars2=j;a.stack1=w;a.stack2=A;a.xAxis=D;a.yAxis1=H;a.yAxis2=C;a.tooltip=v;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return i},set:function(a){i=a}},height:{get:function(){return f},set:function(a){f=
a}},showLegend:{get:function(){return h},set:function(a){h=a}},yDomain1:{get:function(){return e},set:function(a){e=a}},yDomain2:{get:function(){return k},set:function(a){k=a}},noData:{get:function(){return g},set:function(a){g=a}},interpolate:{get:function(){return p},set:function(a){p=a}},tooltips:{get:function(){return v.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");v.enabled(!!a)}},tooltipContent:{get:function(){return v.contentGenerator()},set:function(a){c.deprecated("tooltipContent",
"use chart.tooltip.contentGenerator() instead");v.contentGenerator(a)}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return d},set:function(a){d=c.utils.getColor(a)}},x:{get:function(){return l},set:function(a){l=a;x.x(a);E.x(a);o.x(a);j.x(a);w.x(a);A.x(a)}},y:{get:function(){return t},set:function(a){t=a;x.y(a);E.y(a);
w.y(a);A.y(a);o.y(a);j.y(a)}},useVoronoi:{get:function(){return q},set:function(a){q=a;x.useVoronoi(a);E.useVoronoi(a);w.useVoronoi(a);A.useVoronoi(a)}}});c.utils.initOptions(a);return a};c.models.ohlcBar=function(){function a(j){j.each(function(a){h=d3.select(this);var j=c.utils.availableWidth(d,h,b),s=c.utils.availableHeight(i,h,b);c.utils.initSVG(h);var m=j/a[0].values.length*0.9;g.domain(w||d3.extent(a[0].values.map(k).concat(n)));x?g.range(D||[j*0.5/a[0].values.length,j*(a[0].values.length-0.5)/
a[0].values.length]):g.range(D||[5+m/2,j-m/2-5]);e.domain(A||[d3.min(a[0].values.map(r).concat(u)),d3.max(a[0].values.map(q).concat(u))]).range(H||[s,0]);g.domain()[0]===g.domain()[1]&&(g.domain()[0]?g.domain([g.domain()[0]-g.domain()[0]*0.01,g.domain()[1]+g.domain()[1]*0.01]):g.domain([-1,1]));e.domain()[0]===e.domain()[1]&&(e.domain()[0]?e.domain([e.domain()[0]+e.domain()[0]*0.01,e.domain()[1]-e.domain()[1]*0.01]):e.domain([-1,1]));var K=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([a[0].values]),
G=K.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),I=G.append("defs"),G=G.append("g"),L=K.select("g");G.append("g").attr("class","nv-ticks");K.attr("transform","translate("+b.left+","+b.top+")");h.on("click",function(a,b){C.chartClick({data:a,index:b,pos:d3.event,id:f})});I.append("clipPath").attr("id","nv-chart-clip-path-"+f).append("rect");K.select("#nv-chart-clip-path-"+f+" rect").attr("width",j).attr("height",s);L.attr("clip-path",E?"url(#nv-chart-clip-path-"+f+")":"");s=K.select(".nv-ticks").selectAll(".nv-tick").data(function(a){return a});
s.exit().remove();s.enter().append("path").attr("class",function(a,b,c){return(t(a,b)>p(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b}).attr("d",function(a,b){return"m0,0l0,"+(e(t(a,b))-e(q(a,b)))+"l"+-m/2+",0l"+m/2+",0l0,"+(e(r(a,b))-e(t(a,b)))+"l0,"+(e(p(a,b))-e(r(a,b)))+"l"+m/2+",0l"+-m/2+",0z"}).attr("transform",function(a,b){return"translate("+g(k(a,b))+","+e(q(a,b))+")"}).attr("fill",function(){return o[0]}).attr("stroke",function(){return o[0]}).attr("x",0).attr("y",function(a,
b){return e(Math.max(0,l(a,b)))}).attr("height",function(a,b){return Math.abs(e(l(a,b))-e(0))});s.attr("class",function(a,b,c){return(t(a,b)>p(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b});d3.transition(s).attr("transform",function(a,b){return"translate("+g(k(a,b))+","+e(q(a,b))+")"}).attr("d",function(b,c){var d=j/a[0].values.length*0.9;return"m0,0l0,"+(e(t(b,c))-e(q(b,c)))+"l"+-d/2+",0l"+d/2+",0l0,"+(e(r(b,c))-e(t(b,c)))+"l0,"+(e(p(b,c))-e(r(b,c)))+"l"+d/2+",0l"+-d/2+",0z"})});
return a}var b={top:0,right:0,bottom:0,left:0},d=null,i=null,f=Math.floor(Math.random()*1E4),h=null,g=d3.scale.linear(),e=d3.scale.linear(),k=function(a){return a.x},l=function(a){return a.y},t=function(a){return a.open},p=function(a){return a.close},q=function(a){return a.high},r=function(a){return a.low},n=[],u=[],x=false,E=true,o=c.utils.defaultColor(),j=false,w,A,D,H,C=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick",
"elementMouseover","elementMouseout","elementMousemove");a.highlightPoint=function(b,c){a.clearHighlights();h.select(".nv-ohlcBar .nv-tick-0-"+b).classed("hover",c)};a.clearHighlights=function(){h.select(".nv-ohlcBar .nv-tick.hover").classed("hover",false)};a.dispatch=C;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return i},set:function(a){i=a}},xScale:{get:function(){return g},set:function(a){g=a}},
yScale:{get:function(){return e},set:function(a){e=a}},xDomain:{get:function(){return w},set:function(a){w=a}},yDomain:{get:function(){return A},set:function(a){A=a}},xRange:{get:function(){return D},set:function(a){D=a}},yRange:{get:function(){return H},set:function(a){H=a}},forceX:{get:function(){return n},set:function(a){n=a}},forceY:{get:function(){return u},set:function(a){u=a}},padData:{get:function(){return x},set:function(a){x=a}},clipEdge:{get:function(){return E},set:function(a){E=a}},id:{get:function(){return f},
set:function(a){f=a}},interactive:{get:function(){return j},set:function(a){j=a}},x:{get:function(){return k},set:function(a){k=a}},y:{get:function(){return l},set:function(a){l=a}},open:{get:function(){return t()},set:function(a){t=a}},close:{get:function(){return p()},set:function(a){p=a}},high:{get:function(){return q},set:function(a){q=a}},low:{get:function(){return r},set:function(a){r=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!=void 0?a.top:b.top;b.right=a.right!=void 0?
a.right:b.right;b.bottom=a.bottom!=void 0?a.bottom:b.bottom;b.left=a.left!=void 0?a.left:b.left}},color:{get:function(){return o},set:function(a){o=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.parallelCoordinates=function(){function a(n){n.each(function(a){function n(a){return C(g.map(function(b){if(isNaN(a[b])||isNaN(parseFloat(a[b]))){var c=h[b].domain(),d=h[b].range(),e=c[0]-(c[1]-c[0])/9;if(m.indexOf(b)<0){c=d3.scale.linear().domain([e,c[1]]).range([A-12,d[1]]);h[b].brush.y(c);
m.push(b)}return[f(b),h[b](e)]}if(m.length>0){v.style("display","inline");B.style("display","inline")}else{v.style("display","none");B.style("display","none")}return[f(b),h[b](a[b])]}))}function E(){var a=g.filter(function(a){return!h[a].brush.empty()}),b=a.map(function(a){return h[a].brush.extent()});l=[];a.forEach(function(a,c){l[c]={dimension:a,extent:b[c]}});t=[];I.style("display",function(c){var d=a.every(function(a,d){return isNaN(c[a])&&b[d][0]==h[a].brush.y().domain()[0]?true:b[d][0]<=c[a]&&
c[a]<=b[d][1]});d&&t.push(c);return d?null:"none"});r.brush({filters:l,active:t})}function o(a){var b=p[a];return b==null?f(a):b}var j=d3.select(this),w=c.utils.availableWidth(d,j,b),A=c.utils.availableHeight(i,j,b);c.utils.initSVG(j);t=a;f.rangePoints([0,w],1).domain(g);g.forEach(function(b){var c=d3.extent(a,function(a){return+a[b]});if(c[0]===void 0){c[0]=0;c[1]=0}if(c[0]===c[1]){c[0]=c[0]-1;c[1]=c[1]+1}h[b]=d3.scale.linear().domain(c).range([(A-12)*0.9,0]);h[b].brush=d3.svg.brush().y(h[b]).on("brush",
E);return b!="name"});var j=j.selectAll("g.nv-wrap.nv-parallelCoordinates").data([a]),D=j.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates").append("g"),H=j.select("g");D.append("g").attr("class","nv-parallelCoordinates background");D.append("g").attr("class","nv-parallelCoordinates foreground");D.append("g").attr("class","nv-parallelCoordinates missingValuesline");j.attr("transform","translate("+b.left+","+b.top+")");var C=d3.svg.line().interpolate("cardinal").tension(q),s=d3.svg.axis().orient("left"),
D=d3.behavior.drag().on("dragstart",function(a){p[a]=this.parentNode.__origin__=f(a);G.attr("visibility","hidden")}).on("drag",function(a){p[a]=Math.min(w,Math.max(0,this.parentNode.__origin__=this.parentNode.__origin__+d3.event.x));I.attr("d",n);g.sort(function(a,b){return o(a)-o(b)});f.domain(g);L.attr("transform",function(a){return"translate("+o(a)+")"})}).on("dragend",function(a){delete this.parentNode.__origin__;delete p[a];d3.select(this.parentNode).attr("transform","translate("+f(a)+")");I.attr("d",
n);G.attr("d",n).attr("visibility",null)}),v,B,y=f.range()[1]-f.range()[0],m=[],K=[0+y/2,A-12,w-y/2,A-12];v=j.select(".missingValuesline").selectAll("line").data([K]);v.enter().append("line");v.exit().remove();v.attr("x1",function(a){return a[0]}).attr("y1",function(a){return a[1]}).attr("x2",function(a){return a[2]}).attr("y2",function(a){return a[3]});B=j.select(".missingValuesline").selectAll("text").data(["undefined values"]);B.append("text").data(["undefined values"]);B.enter().append("text");
B.exit().remove();B.attr("y",A).attr("x",w-92-y/2).text(function(a){return a});var G=j.select(".background").selectAll("path").data(a);G.enter().append("path");G.exit().remove();G.attr("d",n);var I=j.select(".foreground").selectAll("path").data(a);I.enter().append("path");I.exit().remove();I.attr("d",n).attr("stroke",k);I.on("mouseover",function(a,b){d3.select(this).classed("hover",true);r.elementMouseover({label:a.name,data:a.data,index:b,pos:[d3.mouse(this.parentNode)[0],d3.mouse(this.parentNode)[1]]})});
I.on("mouseout",function(a,b){d3.select(this).classed("hover",false);r.elementMouseout({label:a.name,data:a.data,index:b})});var L=H.selectAll(".dimension").data(g),j=L.enter().append("g").attr("class","nv-parallelCoordinates dimension");j.append("g").attr("class","nv-parallelCoordinates nv-axis");j.append("g").attr("class","nv-parallelCoordinates-brush");j.append("text").attr("class","nv-parallelCoordinates nv-label");L.attr("transform",function(a){return"translate("+f(a)+",0)"});L.exit().remove();
L.select(".nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").text(String).on("mouseover",function(a){r.elementMouseover({dim:a,pos:[d3.mouse(this.parentNode.parentNode)[0],d3.mouse(this.parentNode.parentNode)[1]]})}).on("mouseout",function(a){r.elementMouseout({dim:a})}).call(D);L.select(".nv-axis").each(function(a,b){d3.select(this).call(s.scale(h[a]).tickFormat(d3.format(e[b])))});L.select(".nv-parallelCoordinates-brush").each(function(a){d3.select(this).call(h[a].brush)}).selectAll("rect").attr("x",
-8).attr("width",16)});return a}var b={top:30,right:0,bottom:10,left:0},d=null,i=null,f=d3.scale.ordinal(),h={},g=[],e=[],k=c.utils.defaultColor(),l=[],t=[],p=[],q=1,r=d3.dispatch("brush","elementMouseover","elementMouseout");a.dispatch=r;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return i},set:function(a){i=a}},dimensionNames:{get:function(){return g},set:function(a){g=a}},dimensionFormats:{get:function(){return e},
set:function(a){e=a}},lineTension:{get:function(){return q},set:function(a){q=a}},dimensions:{get:function(){return g},set:function(a){c.deprecated("dimensions","use dimensionNames instead");g=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return k},set:function(a){k=c.utils.getColor(a)}}});c.utils.initOptions(a);
return a};c.models.pie=function(){function a(m){y.reset();m.each(function(a){var m=d-b.left-b.right,I=i-b.top-b.bottom,L=Math.min(m,I)/2,z=[],F=[];e=d3.select(this);if(C.length===0)for(var J=L-L/5,aa=H*L,R=0;R<a[0].length;R++){z.push(J);F.push(aa)}else{z=C.map(function(a){return(a.outer-a.outer/5)*L});F=C.map(function(a){return(a.inner-a.inner/5)*L});H=d3.min(C.map(function(a){return a.inner-a.inner/5}))}c.utils.initSVG(e);var J=e.selectAll(".nv-wrap.nv-pie").data(a),R=J.enter().append("g").attr("class",
"nvd3 nv-wrap nv-pie nv-chart-"+g).append("g"),M=J.select("g"),aa=R.append("g").attr("class","nv-pie");R.append("g").attr("class","nv-pieLabels");J.attr("transform","translate("+b.left+","+b.top+")");M.select(".nv-pie").attr("transform","translate("+m/2+","+I/2+")");M.select(".nv-pieLabels").attr("transform","translate("+m/2+","+I/2+")");e.on("click",function(a,b){s.chartClick({data:a,index:b,pos:d3.event,id:g})});v=[];B=[];for(R=0;R<a[0].length;R++){var M=d3.svg.arc().outerRadius(z[R]),O=d3.svg.arc().outerRadius(z[R]+
5);if(j!==false){M.startAngle(j);O.startAngle(j)}if(A!==false){M.endAngle(A);O.endAngle(A)}if(n){M.innerRadius(F[R]);O.innerRadius(F[R])}if(M.cornerRadius&&D){M.cornerRadius(D);O.cornerRadius(D)}v.push(M);B.push(O)}F=d3.layout.pie().sort(null).value(function(a){return a.disabled?0:h(a)});F.padAngle&&w&&F.padAngle(w);if(n&&u){aa.append("text").attr("class","nv-pie-title");J.select(".nv-pie-title").style("text-anchor","middle").text(function(){return u}).style("font-size",Math.min(m,I)*H*2/(u.length+
2)+"px").attr("dy","0.35em").attr("transform",function(){return"translate(0, "+E+")"})}m=J.select(".nv-pie").selectAll(".nv-slice").data(F);I=J.select(".nv-pieLabels").selectAll(".nv-label").data(F);m.exit().remove();I.exit().remove();F=m.enter().append("g");F.attr("class","nv-slice");F.on("mouseover",function(a,b){d3.select(this).classed("hover",true);x&&d3.select(this).select("path").transition().duration(70).attr("d",B[b]);s.elementMouseover({data:a.data,index:b,color:d3.select(this).style("fill")})});
F.on("mouseout",function(a,b){d3.select(this).classed("hover",false);x&&d3.select(this).select("path").transition().duration(50).attr("d",v[b]);s.elementMouseout({data:a.data,index:b})});F.on("mousemove",function(a,b){s.elementMousemove({data:a.data,index:b})});F.on("click",function(a,b){s.elementClick({data:a.data,index:b,color:d3.select(this).style("fill")})});F.on("dblclick",function(a,b){s.elementDblClick({data:a.data,index:b,color:d3.select(this).style("fill")})});m.attr("fill",function(a,b){return k(a.data,
b)});m.attr("stroke",function(a,b){return k(a.data,b)});F.append("path").each(function(a){this._current=a});m.select("path").transition().attr("d",function(a,b){return v[b](a)}).attrTween("d",function(a,b){a.endAngle=isNaN(a.endAngle)?0:a.endAngle;a.startAngle=isNaN(a.startAngle)?0:a.startAngle;if(!n)a.innerRadius=0;var c=d3.interpolate(this._current,a);this._current=c(0);return function(a){return v[b](c(a))}});if(t){for(var N=[],R=0;R<a[0].length;R++){N.push(v[R]);if(p){if(n){N[R]=d3.svg.arc().outerRadius(v[R].outerRadius());
j!==false&&N[R].startAngle(j);A!==false&&N[R].endAngle(A)}}else n||N[R].innerRadius(0)}I.enter().append("g").classed("nv-label",true).each(function(a){var b=d3.select(this);b.attr("transform",function(a,b){if(o){a.outerRadius=z[b]+10;a.innerRadius=z[b]+15;var c=(a.startAngle+a.endAngle)/2*(180/Math.PI),c=(a.startAngle+a.endAngle)/2<Math.PI?c-90:c+90;return"translate("+N[b].centroid(a)+") rotate("+c+")"}a.outerRadius=L+10;a.innerRadius=L+15;return"translate("+N[b].centroid(a)+")"});b.append("rect").style("stroke",
"#fff").style("fill","#fff").attr("rx",3).attr("ry",3);b.append("text").style("text-anchor",o?(a.startAngle+a.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var T={},S=function(a){return Math.floor(a[0]/140)*140+","+Math.floor(a[1]/14)*14};I.watchTransition(y,"pie labels").attr("transform",function(a,b){if(o){a.outerRadius=z[b]+10;a.innerRadius=z[b]+15;var c=(a.startAngle+a.endAngle)/2*(180/Math.PI),c=(a.startAngle+a.endAngle)/2<Math.PI?c-90:c+90;return"translate("+N[b].centroid(a)+
") rotate("+c+")"}a.outerRadius=L+10;a.innerRadius=L+15;c=N[b].centroid(a);if(a.value){var d=S(c);T[d]&&(c[1]=c[1]-14);T[S(c)]=true}return"translate("+c+")"});I.select(".nv-label text").style("text-anchor",function(a){return o?(a.startAngle+a.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(a,b){var c=(a.endAngle-a.startAngle)/(2*Math.PI),d="";if(!a.value||c<r)return"";if(typeof q==="function")d=q(a,b,{key:f(a.data),value:h(a.data),percent:l(c)});else switch(q){case "key":d=f(a.data);break;
case "value":d=l(h(a.data));break;case "percent":d=d3.format("%")(c)}return d})}});y.renderEnd("pie immediate");return a}var b={top:0,right:0,bottom:0,left:0},d=500,i=500,f=function(a){return a.x},h=function(a){return a.y},g=Math.floor(Math.random()*1E4),e=null,k=c.utils.defaultColor(),l=d3.format(",.2f"),t=true,p=false,q="key",r=0.02,n=false,u=false,x=true,E=0,o=false,j=false,w=false,A=false,D=0,H=0.5,C=[],s=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout",
"elementMousemove","renderEnd"),v=[],B=[],y=c.utils.renderWatch(s);a.dispatch=s;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{arcsRadius:{get:function(){return C},set:function(a){C=a}},width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return i},set:function(a){i=a}},showLabels:{get:function(){return t},set:function(a){t=a}},title:{get:function(){return u},set:function(a){u=a}},titleOffset:{get:function(){return E},set:function(a){E=a}},labelThreshold:{get:function(){return r},
set:function(a){r=a}},valueFormat:{get:function(){return l},set:function(a){l=a}},x:{get:function(){return f},set:function(a){f=a}},id:{get:function(){return g},set:function(a){g=a}},endAngle:{get:function(){return A},set:function(a){A=a}},startAngle:{get:function(){return j},set:function(a){j=a}},padAngle:{get:function(){return w},set:function(a){w=a}},cornerRadius:{get:function(){return D},set:function(a){D=a}},donutRatio:{get:function(){return H},set:function(a){H=a}},labelsOutside:{get:function(){return p},
set:function(a){p=a}},labelSunbeamLayout:{get:function(){return o},set:function(a){o=a}},donut:{get:function(){return n},set:function(a){n=a}},growOnHover:{get:function(){return x},set:function(a){x=a}},pieLabelsOutside:{get:function(){return p},set:function(a){p=a;c.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return p},set:function(a){p=a;c.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return l},set:function(a){l=
a;c.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return b},set:function(a){b.top=typeof a.top!="undefined"?a.top:b.top;b.right=typeof a.right!="undefined"?a.right:b.right;b.bottom=typeof a.bottom!="undefined"?a.bottom:b.bottom;b.left=typeof a.left!="undefined"?a.left:b.left}},y:{get:function(){return h},set:function(a){h=d3.functor(a)}},color:{get:function(){return k},set:function(a){k=c.utils.getColor(a)}},labelType:{get:function(){return q},set:function(a){q=a||"key"}}});
c.utils.initOptions(a);return a};c.models.pieChart=function(){function a(i){u.reset();u.models(b);i.each(function(j){var i=d3.select(this);c.utils.initSVG(i);var l=c.utils.availableWidth(h,i,f),u=c.utils.availableHeight(g,i,f);a.update=function(){i.transition().call(a)};a.container=this;t.setter(E(j),a.update).getter(x(j)).update();t.disabled=j.map(function(a){return!!a.disabled});if(!p){var o;p={};for(o in t)p[o]=t[o]instanceof Array?t[o].slice(0):t[o]}if(!j||!j.length){c.utils.noData(a,i);return a}i.selectAll(".nv-noData").remove();
o=i.selectAll("g.nv-wrap.nv-pieChart").data([j]);var q=o.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),s=o.select("g");q.append("g").attr("class","nv-pieWrap");q.append("g").attr("class","nv-legendWrap");if(e)if(k==="top"){d.width(l).key(b.x());o.select(".nv-legendWrap").datum(j).call(d);if(f.top!=d.height()){f.top=d.height();u=c.utils.availableHeight(g,i,f)}o.select(".nv-legendWrap").attr("transform","translate(0,"+-f.top+")")}else if(k==="right"){q=c.models.legend().width();
l/2<q&&(q=l/2);d.height(u).key(b.x());d.width(q);l=l-d.width();o.select(".nv-legendWrap").datum(j).call(d).attr("transform","translate("+l+",0)")}o.attr("transform","translate("+f.left+","+f.top+")");b.width(l).height(u);l=s.select(".nv-pieWrap").datum([j]);d3.transition(l).call(b);d.dispatch.on("stateChange",function(b){for(var c in b)t[c]=b[c];n.stateChange(t);a.update()});n.on("changeState",function(b){if(typeof b.disabled!=="undefined"){j.forEach(function(a,c){a.disabled=b.disabled[c]});t.disabled=
b.disabled}a.update()})});u.renderEnd("pieChart immediate");return a}var b=c.models.pie(),d=c.models.legend(),i=c.models.tooltip(),f={top:30,right:20,bottom:20,left:20},h=null,g=null,e=true,k="top",l=c.utils.defaultColor(),t=c.utils.state(),p=null,q=null,r=250,n=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd");i.headerEnabled(false).duration(0).valueFormatter(function(a,c){return b.valueFormat()(a,c)});var u=c.utils.renderWatch(n),x=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},
E=function(a){return function(b){b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};b.dispatch.on("elementMouseover.tooltip",function(b){b.series={key:a.x()(b.data),value:a.y()(b.data),color:b.color};i.data(b).hidden(false)});b.dispatch.on("elementMouseout.tooltip",function(){i.hidden(true)});b.dispatch.on("elementMousemove.tooltip",function(){i.position({top:d3.event.pageY,left:d3.event.pageX})()});a.legend=d;a.dispatch=n;a.pie=b;a.tooltip=i;a.options=c.utils.optionsFunc.bind(a);
a._options=Object.create({},{noData:{get:function(){return q},set:function(a){q=a}},showLegend:{get:function(){return e},set:function(a){e=a}},legendPosition:{get:function(){return k},set:function(a){k=a}},defaultState:{get:function(){return p},set:function(a){p=a}},tooltips:{get:function(){return i.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");i.enabled(!!a)}},tooltipContent:{get:function(){return i.contentGenerator()},set:function(a){c.deprecated("tooltipContent",
"use chart.tooltip.contentGenerator() instead");i.contentGenerator(a)}},color:{get:function(){return l},set:function(a){l=a;d.color(l);b.color(l)}},duration:{get:function(){return r},set:function(a){r=a;u.reset(r)}},margin:{get:function(){return f},set:function(a){f.top=a.top!==void 0?a.top:f.top;f.right=a.right!==void 0?a.right:f.right;f.bottom=a.bottom!==void 0?a.bottom:f.bottom;f.left=a.left!==void 0?a.left:f.left}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.scatter=
function(){function a(z){M.reset();z.each(function(a){g=d3.select(this);var z=c.utils.availableWidth(d,g,b),N=c.utils.availableHeight(i,g,b);c.utils.initSVG(g);a.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});var Q=s&&v&&m?[]:d3.merge(a.map(function(a){return a.values.map(function(a,b){return{x:t(a,b),y:p(a,b),size:q(a,b)}})}));e.domain(s||d3.extent(Q.map(function(a){return a.x}).concat(n)));j&&a[0]?e.range(B||[(z*w+z)/(2*a[0].values.length),z-z*(1+w)/(2*a[0].values.length)]):e.range(B||
[0,z]);k.domain(v||d3.extent(Q.map(function(a){return a.y}).concat(u))).range(y||[N,0]);l.domain(m||d3.extent(Q.map(function(a){return a.size}).concat(x))).range(K||O);G=e.domain()[0]===e.domain()[1]||k.domain()[0]===k.domain()[1];e.domain()[0]===e.domain()[1]&&(e.domain()[0]?e.domain([e.domain()[0]-e.domain()[0]*0.01,e.domain()[1]+e.domain()[1]*0.01]):e.domain([-1,1]));k.domain()[0]===k.domain()[1]&&(k.domain()[0]?k.domain([k.domain()[0]-k.domain()[0]*0.01,k.domain()[1]+k.domain()[1]*0.01]):k.domain([-1,
1]));isNaN(e.domain()[0])&&e.domain([-1,1]);isNaN(k.domain()[0])&&k.domain([-1,1]);F=F||e;J=J||k;var U=g.selectAll("g.nv-wrap.nv-scatter").data([a]),Q=U.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+h),W=Q.append("defs"),Y=Q.append("g"),Z=U.select("g");U.classed("nv-single-point",G);Y.append("g").attr("class","nv-groups");Y.append("g").attr("class","nv-point-paths");Q.append("g").attr("class","nv-point-clips");U.attr("transform","translate("+b.left+","+b.top+")");W.append("clipPath").attr("id",
"nv-edge-clip-"+h).append("rect");U.select("#nv-edge-clip-"+h+" rect").attr("width",z).attr("height",N>0?N:0);Z.attr("clip-path",A?"url(#nv-edge-clip-"+h+")":"");R=true;z=U.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});z.enter().append("g").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6);z.exit().remove();z.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover});z.watchTransition(M,"scatter: groups").style("fill",
function(a,b){return f(a,b)}).style("stroke",function(a,b){return f(a,b)}).style("stroke-opacity",1).style("fill-opacity",0.5);N=z.selectAll("path.nv-point").data(function(a){return a.values.map(function(a,b){return[a,b]}).filter(function(a,b){return o(a[0],b)})});N.enter().append("path").style("fill",function(a){return a.color}).style("stroke",function(a){return a.color}).attr("transform",function(a){return"translate("+F(t(a[0],a[1]))+","+J(p(a[0],a[1]))+")"}).attr("d",c.utils.symbol().type(function(a){return r(a[0])}).size(function(a){return l(q(a[0],
a[1]))}));N.exit().remove();z.exit().selectAll("path.nv-point").watchTransition(M,"scatter exit").attr("transform",function(a){return"translate("+e(t(a[0],a[1]))+","+k(p(a[0],a[1]))+")"}).remove();N.each(function(a){d3.select(this).classed("nv-point",true).classed("nv-point-"+a[1],true).classed("nv-noninteractive",!E).classed("hover",false)});N.watchTransition(M,"scatter points").attr("transform",function(a){return"translate("+e(t(a[0],a[1]))+","+k(p(a[0],a[1]))+")"}).attr("d",c.utils.symbol().type(function(a){return r(a[0])}).size(function(a){return l(q(a[0],
a[1]))}));clearTimeout(aa);aa=setTimeout(function(){R=false;if(!E)return false;if(L===true){var c=d3.merge(a.map(function(a,b){return a.values.map(function(a,c){var d=t(a,c),f=p(a,c);return[e(d)+Math.random()*1.0E-4,k(f)+Math.random()*1.0E-4,b,c,a]}).filter(function(a,b){return o(a[4],b)})}));if(c.length==0)return false;if(c.length<3){c.push([e.range()[0]-20,k.range()[0]-20,null,null]);c.push([e.range()[1]+20,k.range()[1]+20,null,null]);c.push([e.range()[0]-20,k.range()[0]+20,null,null]);c.push([e.range()[1]+
20,k.range()[1]-20,null,null])}var j=d3.geom.polygon([[-10,-10],[-10,i+10],[d+10,i+10],[d+10,-10]]),h=d3.geom.voronoi(c).map(function(a,b){return{data:j.clip(a),series:c[b][2],point:c[b][3]}});U.select(".nv-point-paths").selectAll("path").remove();var h=U.select(".nv-point-paths").selectAll("path").data(h),m=h.enter().append("svg:path").attr("d",function(a){return!a||!a.data||a.data.length===0?"M 0 0":"M"+a.data.join(",")+"Z"}).attr("id",function(a,b){return"nv-path-"+b}).attr("clip-path",function(a,
b){return"url(#nv-clip-"+b+")"});H&&m.style("fill",d3.rgb(230,230,230)).style("fill-opacity",0.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200));if(D){U.select(".nv-point-clips").selectAll("clipPath").remove();U.select(".nv-point-clips").selectAll("clipPath").data(c).enter().append("svg:clipPath").attr("id",function(a,b){return"nv-clip-"+b}).append("svg:circle").attr("cx",function(a){return a[0]}).attr("cy",function(a){return a[1]}).attr("r",C)}var l=function(c,d){if(R)return 0;var j=
a[c.series];if(j!==void 0){var h=j.values[c.point];h.color=f(j,c.series);h.x=t(h);h.y=p(h);var m=g.node().getBoundingClientRect(),i=window.pageYOffset||document.documentElement.scrollTop,l=window.pageXOffset||document.documentElement.scrollLeft,m={left:e(t(h,c.point))+m.left+l+b.left+10,top:k(p(h,c.point))+m.top+i+b.top+10};d({point:h,series:j,pos:m,seriesIndex:c.series,pointIndex:c.point})}};h.on("click",function(a){l(a,I.elementClick)}).on("dblclick",function(a){l(a,I.elementDblClick)}).on("mouseover",
function(a){l(a,I.elementMouseover)}).on("mouseout",function(a){l(a,I.elementMouseout)})}else U.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(c,d){if(R||!a[c.series])return 0;var f=a[c.series],j=f.values[d];I.elementClick({point:j,series:f,pos:[e(t(j,d))+b.left,k(p(j,d))+b.top],seriesIndex:c.series,pointIndex:d})}).on("dblclick",function(c,d){if(R||!a[c.series])return 0;var f=a[c.series],j=f.values[d];I.elementDblClick({point:j,series:f,pos:[e(t(j,d))+b.left,
k(p(j,d))+b.top],seriesIndex:c.series,pointIndex:d})}).on("mouseover",function(c,d){if(R||!a[c.series])return 0;var j=a[c.series],g=j.values[d];I.elementMouseover({point:g,series:j,pos:[e(t(g,d))+b.left,k(p(g,d))+b.top],seriesIndex:c.series,pointIndex:d,color:f(c,d)})}).on("mouseout",function(b,c){if(R||!a[b.series])return 0;var d=a[b.series];I.elementMouseout({point:d.values[c],series:d,seriesIndex:b.series,pointIndex:c,color:f(b,c)})})},300);F=e.copy();J=k.copy();l.copy()});M.renderEnd("scatter immediate");
return a}var b={top:0,right:0,bottom:0,left:0},d=null,i=null,f=c.utils.defaultColor(),h=Math.floor(Math.random()*1E5),g=null,e=d3.scale.linear(),k=d3.scale.linear(),l=d3.scale.linear(),t=function(a){return a.x},p=function(a){return a.y},q=function(a){return a.size||1},r=function(a){return a.shape||"circle"},n=[],u=[],x=[],E=true,o=function(a){return!a.notActive},j=false,w=0.1,A=false,D=true,H=false,C=function(){return 25},s=null,v=null,B=null,y=null,m=null,K=null,G=false,I=d3.dispatch("elementClick",
"elementDblClick","elementMouseover","elementMouseout","renderEnd"),L=true,z=250,F,J,aa,R=false,M=c.utils.renderWatch(I,z),O=[16,256];a.dispatch=I;a.options=c.utils.optionsFunc.bind(a);a._calls=new function(){this.clearHighlights=function(){c.dom.write(function(){g.selectAll(".nv-point.hover").classed("hover",false)});return null};this.highlightPoint=function(a,b,d){c.dom.write(function(){g.select(" .nv-series-"+a+" .nv-point-"+b).classed("hover",d)})}};I.on("elementMouseover.point",function(b){E&&
a._calls.highlightPoint(b.seriesIndex,b.pointIndex,true)});I.on("elementMouseout.point",function(b){E&&a._calls.highlightPoint(b.seriesIndex,b.pointIndex,false)});a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return i},set:function(a){i=a}},xScale:{get:function(){return e},set:function(a){e=a}},yScale:{get:function(){return k},set:function(a){k=a}},pointScale:{get:function(){return l},set:function(a){l=a}},xDomain:{get:function(){return s},
set:function(a){s=a}},yDomain:{get:function(){return v},set:function(a){v=a}},pointDomain:{get:function(){return m},set:function(a){m=a}},xRange:{get:function(){return B},set:function(a){B=a}},yRange:{get:function(){return y},set:function(a){y=a}},pointRange:{get:function(){return K},set:function(a){K=a}},forceX:{get:function(){return n},set:function(a){n=a}},forceY:{get:function(){return u},set:function(a){u=a}},forcePoint:{get:function(){return x},set:function(a){x=a}},interactive:{get:function(){return E},
set:function(a){E=a}},pointActive:{get:function(){return o},set:function(a){o=a}},padDataOuter:{get:function(){return w},set:function(a){w=a}},padData:{get:function(){return j},set:function(a){j=a}},clipEdge:{get:function(){return A},set:function(a){A=a}},clipVoronoi:{get:function(){return D},set:function(a){D=a}},clipRadius:{get:function(){return C},set:function(a){C=a}},showVoronoi:{get:function(){return H},set:function(a){H=a}},id:{get:function(){return h},set:function(a){h=a}},x:{get:function(){return t},
set:function(a){t=d3.functor(a)}},y:{get:function(){return p},set:function(a){p=d3.functor(a)}},pointSize:{get:function(){return q},set:function(a){q=d3.functor(a)}},pointShape:{get:function(){return r},set:function(a){r=d3.functor(a)}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},duration:{get:function(){return z},set:function(a){z=a;M.reset(z)}},
color:{get:function(){return f},set:function(a){f=c.utils.getColor(a)}},useVoronoi:{get:function(){return L},set:function(a){L=a;L===false&&(D=false)}}});c.utils.initOptions(a);return a};c.models.scatterChart=function(){function a(m){v.reset();v.models(b);o&&v.models(d);j&&v.models(i);u&&v.models(h);x&&v.models(g);m.each(function(m){p=d3.select(this);c.utils.initSVG(p);var G=c.utils.availableWidth(l,p,k),C=c.utils.availableHeight(t,p,k);a.update=function(){s===0?p.call(a):p.transition().duration(s).call(a)};
a.container=this;A.setter(y(m),a.update).getter(B(m)).update();A.disabled=m.map(function(a){return!!a.disabled});if(!D){var L;D={};for(L in A)D[L]=A[L]instanceof Array?A[L].slice(0):A[L]}if(!m||!m.length||!m.filter(function(a){return a.values.length}).length){c.utils.noData(a,p);v.renderEnd("scatter immediate");return a}p.selectAll(".nv-noData").remove();r=b.xScale();n=b.yScale();var z=p.selectAll("g.nv-wrap.nv-scatterChart").data([m]);L=z.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+
b.id()).append("g");var F=z.select("g");L.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none");L.append("g").attr("class","nv-x nv-axis");L.append("g").attr("class","nv-y nv-axis");L.append("g").attr("class","nv-scatterWrap");L.append("g").attr("class","nv-regressionLinesWrap");L.append("g").attr("class","nv-distWrap");L.append("g").attr("class","nv-legendWrap");w&&F.select(".nv-y.nv-axis").attr("transform","translate("+G+",0)");if(E){f.width(G);z.select(".nv-legendWrap").datum(m).call(f);
if(k.top!=f.height()){k.top=f.height();C=c.utils.availableHeight(t,p,k)}z.select(".nv-legendWrap").attr("transform","translate(0,"+-k.top+")")}z.attr("transform","translate("+k.left+","+k.top+")");b.width(G).height(C).color(m.map(function(a,b){a.color=a.color||q(a,b);return a.color}).filter(function(a,b){return!m[b].disabled}));z.select(".nv-scatterWrap").datum(m.filter(function(a){return!a.disabled})).call(b);z.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+b.id()+")");z=
z.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(a){return a});z.enter().append("g").attr("class","nv-regLines");z=z.selectAll(".nv-regLine").data(function(a){return[a]});z.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0);z.filter(function(a){return a.intercept&&a.slope}).watchTransition(v,"scatterPlusLineChart: regline").attr("x1",r.range()[0]).attr("x2",r.range()[1]).attr("y1",function(a){return n(r.domain()[0]*a.slope+a.intercept)}).attr("y2",
function(a){return n(r.domain()[1]*a.slope+a.intercept)}).style("stroke",function(a,b,c){return q(a,c)}).style("stroke-opacity",function(a){return a.disabled||typeof a.slope==="undefined"||typeof a.intercept==="undefined"?0:1});if(o){d.scale(r)._ticks(c.utils.calcTicksX(G/100,m)).tickSize(-C,0);F.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")").call(d)}if(j){i.scale(n)._ticks(c.utils.calcTicksY(C/36,m)).tickSize(-G,0);F.select(".nv-y.nv-axis").call(i)}if(u){h.getData(b.x()).scale(r).width(G).color(m.map(function(a,
b){return a.color||q(a,b)}).filter(function(a,b){return!m[b].disabled}));L.select(".nv-distWrap").append("g").attr("class","nv-distributionX");F.select(".nv-distributionX").attr("transform","translate(0,"+n.range()[0]+")").datum(m.filter(function(a){return!a.disabled})).call(h)}if(x){g.getData(b.y()).scale(n).width(C).color(m.map(function(a,b){return a.color||q(a,b)}).filter(function(a,b){return!m[b].disabled}));L.select(".nv-distWrap").append("g").attr("class","nv-distributionY");F.select(".nv-distributionY").attr("transform",
"translate("+(w?G:-g.size())+",0)").datum(m.filter(function(a){return!a.disabled})).call(g)}f.dispatch.on("stateChange",function(b){for(var c in b)A[c]=b[c];H.stateChange(A);a.update()});H.on("changeState",function(b){if(typeof b.disabled!=="undefined"){m.forEach(function(a,c){a.disabled=b.disabled[c]});A.disabled=b.disabled}a.update()});b.dispatch.on("elementMouseout.tooltip",function(a){e.hidden(true);p.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",
0);p.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",g.size())});b.dispatch.on("elementMouseover.tooltip",function(a){p.select(".nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",a.pos.top-C-k.top);p.select(".nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",a.pos.left+h.size()-k.left);e.position(a.pos).data(a).hidden(false)});r.copy();n.copy()});v.renderEnd("scatter with line immediate");return a}var b=c.models.scatter(),d=
c.models.axis(),i=c.models.axis(),f=c.models.legend(),h=c.models.distribution(),g=c.models.distribution(),e=c.models.tooltip(),k={top:30,right:20,bottom:50,left:75},l=null,t=null,p=null,q=c.utils.defaultColor(),r=b.xScale(),n=b.yScale(),u=false,x=false,E=true,o=true,j=true,w=false,A=c.utils.state(),D=null,H=d3.dispatch("stateChange","changeState","renderEnd"),C=null,s=250;b.xScale(r).yScale(n);d.orient("bottom").tickPadding(10);i.orient(w?"right":"left").tickPadding(10);h.axis("x");g.axis("y");e.headerFormatter(function(a,
b){return d.tickFormat()(a,b)}).valueFormatter(function(a,b){return i.tickFormat()(a,b)});var v=c.utils.renderWatch(H,s),B=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},y=function(a){return function(b){b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};a.dispatch=H;a.scatter=b;a.legend=f;a.xAxis=d;a.yAxis=i;a.distX=h;a.distY=g;a.tooltip=e;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return l},set:function(a){l=
a}},height:{get:function(){return t},set:function(a){t=a}},container:{get:function(){return p},set:function(a){p=a}},showDistX:{get:function(){return u},set:function(a){u=a}},showDistY:{get:function(){return x},set:function(a){x=a}},showLegend:{get:function(){return E},set:function(a){E=a}},showXAxis:{get:function(){return o},set:function(a){o=a}},showYAxis:{get:function(){return j},set:function(a){j=a}},defaultState:{get:function(){return D},set:function(a){D=a}},noData:{get:function(){return C},
set:function(a){C=a}},duration:{get:function(){return s},set:function(a){s=a}},tooltips:{get:function(){return e.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");e.enabled(!!a)}},tooltipContent:{get:function(){return e.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");e.contentGenerator(a)}},tooltipXContent:{get:function(){return e.contentGenerator()},set:function(){c.deprecated("tooltipContent",
"This option is removed, put values into main tooltip.")}},tooltipYContent:{get:function(){return e.contentGenerator()},set:function(){c.deprecated("tooltipContent","This option is removed, put values into main tooltip.")}},margin:{get:function(){return k},set:function(a){k.top=a.top!==void 0?a.top:k.top;k.right=a.right!==void 0?a.right:k.right;k.bottom=a.bottom!==void 0?a.bottom:k.bottom;k.left=a.left!==void 0?a.left:k.left}},rightAlignYAxis:{get:function(){return w},set:function(a){w=a;i.orient(a?
"right":"left")}},color:{get:function(){return q},set:function(a){q=c.utils.getColor(a);f.color(q);h.color(q);g.color(q)}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.sparkline=function(){function a(h){h.each(function(a){var h=d-b.left-b.right,u=i-b.top-b.bottom;f=d3.select(this);c.utils.initSVG(f);g.domain(p||d3.extent(a,k)).range(r||[0,h]);e.domain(q||d3.extent(a,l)).range(n||[u,0]);a=f.selectAll("g.nv-wrap.nv-sparkline").data([a]);a.enter().append("g").attr("class",
"nvd3 nv-wrap nv-sparkline").append("g");a.select("g");a.attr("transform","translate("+b.left+","+b.top+")");h=a.selectAll("path").data(function(a){return[a]});h.enter().append("path");h.exit().remove();h.style("stroke",function(a,b){return a.color||t(a,b)}).attr("d",d3.svg.line().x(function(a,b){return g(k(a,b))}).y(function(a,b){return e(l(a,b))}));a=a.selectAll("circle.nv-point").data(function(a){function b(c){if(c!=-1){var d=a[c];d.pointIndex=c;return d}return null}var c=a.map(function(a,b){return l(a,
b)}),d=b(c.lastIndexOf(e.domain()[1])),f=b(c.indexOf(e.domain()[0])),c=b(c.length-1);return[f,d,c].filter(function(a){return a!=null})});a.enter().append("circle");a.exit().remove();a.attr("cx",function(a){return g(k(a,a.pointIndex))}).attr("cy",function(a){return e(l(a,a.pointIndex))}).attr("r",2).attr("class",function(a){return k(a,a.pointIndex)==g.domain()[1]?"nv-point nv-currentValue":l(a,a.pointIndex)==e.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})});return a}var b={top:2,right:0,
bottom:2,left:0},d=400,i=32,f=null,h=true,g=d3.scale.linear(),e=d3.scale.linear(),k=function(a){return a.x},l=function(a){return a.y},t=c.utils.getColor(["#000"]),p,q,r,n;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return i},set:function(a){i=a}},xDomain:{get:function(){return p},set:function(a){p=a}},yDomain:{get:function(){return q},set:function(a){q=a}},xRange:{get:function(){return r},set:function(a){r=
a}},yRange:{get:function(){return n},set:function(a){n=a}},xScale:{get:function(){return g},set:function(a){g=a}},yScale:{get:function(){return e},set:function(a){e=a}},animate:{get:function(){return h},set:function(a){h=a}},x:{get:function(){return k},set:function(a){k=d3.functor(a)}},y:{get:function(){return l},set:function(a){l=d3.functor(a)}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:
b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return t},set:function(a){t=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.sparklinePlus=function(){function a(n){n.each(function(n){function u(){if(!k){var a=C.selectAll(".nv-hoverValue").data(e),c=a.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);a.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove();a.attr("transform",
function(a){return"translate("+h(b.x()(n[a],a))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1);if(e.length){c.append("line").attr("x1",0).attr("y1",-d.top).attr("x2",0).attr("y2",w);c.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-d.top).attr("text-anchor","end").attr("dy",".9em");C.select(".nv-hoverValue .nv-xValue").text(l(b.x()(n[e[0]],e[0])));c.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-d.top).attr("text-anchor","start").attr("dy",
".9em");C.select(".nv-hoverValue .nv-yValue").text(t(b.y()(n[e[0]],e[0])))}}}var o=d3.select(this);c.utils.initSVG(o);var j=c.utils.availableWidth(i,o,d),w=c.utils.availableHeight(f,o,d);a.update=function(){o.call(a)};a.container=this;if(!n||!n.length){c.utils.noData(a,o);return a}o.selectAll(".nv-noData").remove();var A=b.y()(n[n.length-1],n.length-1);h=b.xScale();g=b.yScale();var D=o.selectAll("g.nv-wrap.nv-sparklineplus").data([n]),H=D.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),
C=D.select("g");H.append("g").attr("class","nv-sparklineWrap");H.append("g").attr("class","nv-valueWrap");H.append("g").attr("class","nv-hoverArea");D.attr("transform","translate("+d.left+","+d.top+")");D=C.select(".nv-sparklineWrap");b.width(j).height(w);D.call(b);if(p){D=C.select(".nv-valueWrap").selectAll(".nv-currentValue").data([A]);D.enter().append("text").attr("class","nv-currentValue").attr("dx",r?-8:8).attr("dy",".9em").style("text-anchor",r?"end":"start");D.attr("x",j+(r?d.right:0)).attr("y",
q?function(a){return g(a)}:0).style("fill",b.color()(n[n.length-1],n.length-1)).text(t(A))}H.select(".nv-hoverArea").append("rect").on("mousemove",function(){if(!k){for(var a=d3.mouse(this)[0]-d.left,c=n,a=Math.round(h.invert(a)),f=Math.abs(b.x()(c[0],0)-a),g=0,j=0;j<c.length;j++)if(Math.abs(b.x()(c[j],j)-a)<f){f=Math.abs(b.x()(c[j],j)-a);g=j}e=[g];u()}}).on("click",function(){k=!k}).on("mouseout",function(){e=[];u()});C.select(".nv-hoverArea rect").attr("transform",function(){return"translate("+
-d.left+","+-d.top+")"}).attr("width",j+d.left+d.right).attr("height",w+d.top)});return a}var b=c.models.sparkline(),d={top:15,right:100,bottom:10,left:50},i=null,f=null,h,g,e=[],k=false,l=d3.format(",r"),t=d3.format(",.2f"),p=true,q=true,r=false,n=null;a.sparkline=b;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return i},set:function(a){i=a}},height:{get:function(){return f},set:function(a){f=a}},xTickFormat:{get:function(){return l},set:function(a){l=a}},
yTickFormat:{get:function(){return t},set:function(a){t=a}},showLastValue:{get:function(){return p},set:function(a){p=a}},alignValue:{get:function(){return q},set:function(a){q=a}},rightAlignValue:{get:function(){return r},set:function(a){r=a}},noData:{get:function(){return n},set:function(a){n=a}},margin:{get:function(){return d},set:function(a){d.top=a.top!==void 0?a.top:d.top;d.right=a.right!==void 0?a.right:d.right;d.bottom=a.bottom!==void 0?a.bottom:d.bottom;d.left=a.left!==void 0?a.left:d.left}}});
c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.stackedArea=function(){function a(l){j.reset();j.models(x);l.each(function(l){var w=d-b.left-b.right,E=i-b.top-b.bottom;g=d3.select(this);c.utils.initSVG(g);n=x.xScale();u=x.yScale();var C=l;l.forEach(function(a,b){a.seriesIndex=b;a.values=a.values.map(function(a,c){a.index=c;a.seriesIndex=b;return a})});var l=l.filter(function(a){return!a.disabled}),l=d3.layout.stack().order(p).offset(t).values(function(a){return a.values}).x(e).y(k).out(function(a,
b,c){a.display={y:c,y0:b}})(l),s=g.selectAll("g.nv-wrap.nv-stackedarea").data([l]),v=s.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),B=v.append("defs"),v=v.append("g"),y=s.select("g");v.append("g").attr("class","nv-areaWrap");v.append("g").attr("class","nv-scatterWrap");s.attr("transform","translate("+b.left+","+b.top+")");x.forceY().length==0&&x.forceY().push(0);x.width(w).height(E).x(e).y(function(a){return a.display.y+a.display.y0}).forceY([0]).color(l.map(function(a){return a.color||
f(a,a.seriesIndex)}));y.select(".nv-scatterWrap").datum(l).call(x);B.append("clipPath").attr("id","nv-edge-clip-"+h).append("rect");s.select("#nv-edge-clip-"+h+" rect").attr("width",w).attr("height",E);y.attr("clip-path",r?"url(#nv-edge-clip-"+h+")":"");var m=d3.svg.area().x(function(a,b){return n(e(a,b))}).y0(function(a){return u(a.display.y0)}).y1(function(a){return u(a.display.y+a.display.y0)}).interpolate(q),K=d3.svg.area().x(function(a,b){return n(e(a,b))}).y0(function(a){return u(a.display.y0)}).y1(function(a){return u(a.display.y0)}),
w=y.select(".nv-areaWrap").selectAll("path.nv-area").data(function(a){return a});w.enter().append("path").attr("class",function(a,b){return"nv-area nv-area-"+b}).attr("d",function(a){return K(a.values,a.seriesIndex)}).on("mouseover",function(a){d3.select(this).classed("hover",true);o.areaMouseover({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}).on("mouseout",function(a){d3.select(this).classed("hover",false);o.areaMouseout({point:a,series:a.key,pos:[d3.event.pageX,
d3.event.pageY],seriesIndex:a.seriesIndex})}).on("click",function(a){d3.select(this).classed("hover",false);o.areaClick({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})});w.exit().remove();w.style("fill",function(a){return a.color||f(a,a.seriesIndex)}).style("stroke",function(a){return a.color||f(a,a.seriesIndex)});w.watchTransition(j,"stackedArea path").attr("d",function(a,b){return m(a.values,b)});x.dispatch.on("elementMouseover.area",function(a){y.select(".nv-chart-"+
h+" .nv-area-"+a.seriesIndex).classed("hover",true)});x.dispatch.on("elementMouseout.area",function(a){y.select(".nv-chart-"+h+" .nv-area-"+a.seriesIndex).classed("hover",false)});a.d3_stackedOffset_stackPercent=function(a){var b=a.length,c=a[0].length,d,e,f,g=[];for(e=0;e<c;++e){for(f=d=0;d<C.length;d++)f=f+k(C[d].values[e]);if(f)for(d=0;d<b;d++)a[d][e][1]=a[d][e][1]/f;else for(d=0;d<b;d++)a[d][e][1]=0}for(e=0;e<c;++e)g[e]=0;return g}});j.renderEnd("stackedArea immediate");return a}var b={top:0,
right:0,bottom:0,left:0},d=960,i=500,f=c.utils.defaultColor(),h=Math.floor(Math.random()*1E5),g=null,e=function(a){return a.x},k=function(a){return a.y},l="stack",t="zero",p="default",q="linear",r=false,n,u,x=c.models.scatter(),E=250,o=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");x.pointSize(2.2).pointDomain([2.2,2.2]);var j=c.utils.renderWatch(o,E);a.dispatch=o;a.scatter=x;x.dispatch.on("elementClick",function(){o.elementClick.apply(this,
arguments)});x.dispatch.on("elementMouseover",function(){o.elementMouseover.apply(this,arguments)});x.dispatch.on("elementMouseout",function(){o.elementMouseout.apply(this,arguments)});a.interpolate=function(b){if(!arguments.length)return q;q=b;return a};a.duration=function(b){if(!arguments.length)return E;E=b;j.reset(E);x.duration(E);return a};a.dispatch=o;a.scatter=x;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return i},
set:function(a){i=a}},clipEdge:{get:function(){return r},set:function(a){r=a}},offset:{get:function(){return t},set:function(a){t=a}},order:{get:function(){return p},set:function(a){p=a}},interpolate:{get:function(){return q},set:function(a){q=a}},x:{get:function(){return e},set:function(a){e=d3.functor(a)}},y:{get:function(){return k},set:function(a){k=d3.functor(a)}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=
a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return f},set:function(a){f=c.utils.getColor(a)}},style:{get:function(){return l},set:function(b){l=b;switch(l){case "stack":a.offset("zero");a.order("default");break;case "stream":a.offset("wiggle");a.order("inside-out");break;case "stream-center":a.offset("silhouette");a.order("inside-out");break;case "expand":a.offset("expand");a.order("default");break;case "stack_percent":a.offset(a.d3_stackedOffset_stackPercent);
a.order("default")}}},duration:{get:function(){return E},set:function(a){E=a;j.reset(E);x.duration(E)}}});c.utils.inheritOptions(a,x);c.utils.initOptions(a);return a};c.models.stackedAreaChart=function(){function a(e){K.reset();K.models(b);n&&K.models(d);u&&K.models(i);e.each(function(e){var z=d3.select(this),D=this;c.utils.initSVG(z);var K=c.utils.availableWidth(l,z,k),M=c.utils.availableHeight(t,z,k);a.update=function(){z.transition().duration(B).call(a)};a.container=this;w.setter(I(e),a.update).getter(G(e)).update();
w.disabled=e.map(function(a){return!!a.disabled});if(!A){var O;A={};for(O in w)A[O]=w[O]instanceof Array?w[O].slice(0):w[O]}if(!e||!e.length||!e.filter(function(a){return a.values.length}).length){c.utils.noData(a,z);return a}z.selectAll(".nv-noData").remove();o=b.xScale();j=b.yScale();var N=z.selectAll("g.nv-wrap.nv-stackedAreaChart").data([e]),T=N.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g");O=N.select("g");T.append("rect").style("opacity",0);T.append("g").attr("class",
"nv-x nv-axis");T.append("g").attr("class","nv-y nv-axis");T.append("g").attr("class","nv-stackedWrap");T.append("g").attr("class","nv-legendWrap");T.append("g").attr("class","nv-controlsWrap");T.append("g").attr("class","nv-interactive");O.select("rect").attr("width",K).attr("height",M);if(r){T=q?K-C:K;f.width(T);O.select(".nv-legendWrap").datum(e).call(f);if(k.top!=f.height()){k.top=f.height();M=c.utils.availableHeight(t,z,k)}O.select(".nv-legendWrap").attr("transform","translate("+(K-T)+","+-k.top+
")")}if(q){var S=[{key:v.stacked||"Stacked",metaKey:"Stacked",disabled:b.style()!="stack",style:"stack"},{key:v.stream||"Stream",metaKey:"Stream",disabled:b.style()!="stream",style:"stream"},{key:v.expanded||"Expanded",metaKey:"Expanded",disabled:b.style()!="expand",style:"expand"},{key:v.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:b.style()!="stack_percent",style:"stack_percent"}];C=s.length/3*260;S=S.filter(function(a){return s.indexOf(a.metaKey)!==-1});h.width(C).color(["#444","#444",
"#444"]);O.select(".nv-controlsWrap").datum(S).call(h);if(k.top!=Math.max(h.height(),f.height())){k.top=Math.max(h.height(),f.height());M=c.utils.availableHeight(t,z,k)}O.select(".nv-controlsWrap").attr("transform","translate(0,"+-k.top+")")}N.attr("transform","translate("+k.left+","+k.top+")");x&&O.select(".nv-y.nv-axis").attr("transform","translate("+K+",0)");if(E){g.width(K).height(M).margin({left:k.left,top:k.top}).svgContainer(z).xScale(o);N.select(".nv-interactive").call(g)}b.width(K).height(M);
O.select(".nv-stackedWrap").datum(e).transition().call(b);if(n){d.scale(o)._ticks(c.utils.calcTicksX(K/100,e)).tickSize(-M,0);O.select(".nv-x.nv-axis").attr("transform","translate(0,"+M+")");O.select(".nv-x.nv-axis").transition().duration(0).call(d)}if(u){M=b.offset()==="wiggle"?0:c.utils.calcTicksY(M/36,e);i.scale(j)._ticks(M).tickSize(-K,0);if(b.style()==="expand"||b.style()==="stack_percent"){K=i.tickFormat();if(!y||K!==L)y=K;i.tickFormat(L)}else if(y){i.tickFormat(y);y=null}O.select(".nv-y.nv-axis").transition().duration(0).call(i)}b.dispatch.on("areaClick.toggle",
function(b){e.filter(function(a){return!a.disabled}).length===1?e.forEach(function(a){a.disabled=false}):e.forEach(function(a,c){a.disabled=c!=b.seriesIndex});w.disabled=e.map(function(a){return!!a.disabled});H.stateChange(w);a.update()});f.dispatch.on("stateChange",function(b){for(var c in b)w[c]=b[c];H.stateChange(w);a.update()});h.dispatch.on("legendClick",function(c){if(c.disabled){S=S.map(function(a){a.disabled=true;return a});c.disabled=false;b.style(c.style);w.style=b.style();H.stateChange(w);
a.update()}});g.dispatch.on("elementMousemove",function(f){b.clearHighlights();var h,j,i,l=[];e.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(d,e){j=c.interactiveBisect(d.values,f.pointXValue,a.x());var g=d.values[j];a.y()(g,j)!=null&&b.highlightPoint(e,j,true);if(typeof g!=="undefined"){typeof h==="undefined"&&(h=g);typeof i==="undefined"&&(i=a.xScale()(a.x()(g,j)));var k=b.style()=="expand"?g.display.y:a.y()(g,j);l.push({key:d.key,value:k,color:p(d,d.seriesIndex),stackedValue:g.display})}});
l.reverse();if(l.length>2){var n=a.yScale().invert(f.mouseY),q=null;l.forEach(function(a,b){n=Math.abs(n);var c=Math.abs(a.stackedValue.y0),d=Math.abs(a.stackedValue.y);n>=c&&n<=d+c&&(q=b)});if(q!=null)l[q].highlight=true}var r=d.tickFormat()(a.x()(h,j)),o=g.tooltip.valueFormatter();if(b.style()==="expand"||b.style()==="stack_percent"){m||(m=o);o=d3.format(".1%")}else if(m){o=m;m=null}g.tooltip.position({left:i+k.left,top:f.mouseY+k.top}).chartContainer(D.parentNode).valueFormatter(o).data({value:r,
series:l})();g.renderGuideLine(i)});g.dispatch.on("elementMouseout",function(){b.clearHighlights()});H.on("changeState",function(c){if(typeof c.disabled!=="undefined"&&e.length===c.disabled.length){e.forEach(function(a,b){a.disabled=c.disabled[b]});w.disabled=c.disabled}typeof c.style!=="undefined"&&b.style(c.style);a.update()})});K.renderEnd("stacked Area chart immediate");return a}var b=c.models.stackedArea(),d=c.models.axis(),i=c.models.axis(),f=c.models.legend(),h=c.models.legend(),g=c.interactiveGuideline(),
e=c.models.tooltip(),k={top:30,right:25,bottom:50,left:60},l=null,t=null,p=c.utils.defaultColor(),q=true,r=true,n=true,u=true,x=false,E=false,o,j,w=c.utils.state(),A=null,D=null,H=d3.dispatch("stateChange","changeState","renderEnd"),C=250,s=["Stacked","Stream","Expanded"],v={},B=250;w.style=b.style();d.orient("bottom").tickPadding(7);i.orient(x?"right":"left");e.headerFormatter(function(a,b){return d.tickFormat()(a,b)}).valueFormatter(function(a,b){return i.tickFormat()(a,b)});g.tooltip.headerFormatter(function(a,
b){return d.tickFormat()(a,b)}).valueFormatter(function(a,b){return i.tickFormat()(a,b)});var y=null,m=null;h.updateState(false);var K=c.utils.renderWatch(H);b.style();var G=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),style:b.style()}}},I=function(a){return function(b){b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},L=d3.format("%");b.dispatch.on("elementMouseover.tooltip",function(a){a.point.x=b.x()(a.point);a.point.y=b.y()(a.point);e.data(a).position(a.pos).hidden(false)});
b.dispatch.on("elementMouseout.tooltip",function(){e.hidden(true)});a.dispatch=H;a.stacked=b;a.legend=f;a.controls=h;a.xAxis=d;a.yAxis=i;a.interactiveLayer=g;a.tooltip=e;a.dispatch=H;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return t},set:function(a){t=a}},showLegend:{get:function(){return r},set:function(a){r=a}},showXAxis:{get:function(){return n},set:function(a){n=a}},showYAxis:{get:function(){return u},
set:function(a){u=a}},defaultState:{get:function(){return A},set:function(a){A=a}},noData:{get:function(){return D},set:function(a){D=a}},showControls:{get:function(){return q},set:function(a){q=a}},controlLabels:{get:function(){return v},set:function(a){v=a}},controlOptions:{get:function(){return s},set:function(a){s=a}},tooltips:{get:function(){return e.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");e.enabled(!!a)}},tooltipContent:{get:function(){return e.contentGenerator()},
set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");e.contentGenerator(a)}},margin:{get:function(){return k},set:function(a){k.top=a.top!==void 0?a.top:k.top;k.right=a.right!==void 0?a.right:k.right;k.bottom=a.bottom!==void 0?a.bottom:k.bottom;k.left=a.left!==void 0?a.left:k.left}},duration:{get:function(){return B},set:function(a){B=a;K.reset(B);b.duration(B);d.duration(B);i.duration(B)}},color:{get:function(){return p},set:function(a){p=c.utils.getColor(a);
f.color(p);b.color(p)}},rightAlignYAxis:{get:function(){return x},set:function(a){x=a;i.orient(x?"right":"left")}},useInteractiveGuideline:{get:function(){return E},set:function(c){E=!!c;a.interactive(!c);a.useVoronoi(!c);b.scatter.interactive(!c)}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.sunburst=function(){function a(j){o.reset();j.each(function(a){function j(a){a.x0=a.x;a.dx0=a.dx}function o(a){var b=d3.interpolate(p.domain(),[a.x,a.x+a.dx]),c=d3.interpolate(q.domain(),
[a.y,1]),d=d3.interpolate(q.range(),[a.y?20:0,s]);return function(a,e){return e?function(){return n(a)}:function(e){p.domain(b(e));q.domain(c(e)).range(d(e));return n(a)}}}e=d3.select(this);var H=c.utils.availableWidth(d,e,b),C=c.utils.availableHeight(i,e,b),s=Math.min(H,C)/2,v;c.utils.initSVG(e);var B=e.selectAll(".nv-wrap.nv-sunburst").data(a),y=B.enter().append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+g).selectAll("nv-sunburst");B.attr("transform","translate("+H/2+","+C/2+")");e.on("click",
function(a,b){t.chartClick({data:a,index:b,pos:d3.event,id:g})});q.range([0,s]);u=u||a;E=a[0];r.value(h[f]||h.count);v=y.data(r.nodes).enter().append("path").attr("d",n).style("fill",function(a){return k((a.children?a:a.parent).name)}).style("stroke","#FFF").on("click",function(a){x!==u&&u!==a&&(x=u);u=a;v.transition().duration(l).attrTween("d",o(a))}).each(j).on("dblclick",function(a){x.parent==a&&v.transition().duration(l).attrTween("d",o(E))}).each(j).on("mouseover",function(a){d3.select(this).classed("hover",
true).style("opacity",0.8);t.elementMouseover({data:a,color:d3.select(this).style("fill")})}).on("mouseout",function(a){d3.select(this).classed("hover",false).style("opacity",1);t.elementMouseout({data:a})}).on("mousemove",function(a){t.elementMousemove({data:a})})});o.renderEnd("sunburst immediate");return a}var b={top:0,right:0,bottom:0,left:0},d=null,i=null,f="count",h={count:function(){return 1},size:function(a){return a.size}},g=Math.floor(Math.random()*1E4),e=null,k=c.utils.defaultColor(),l=
500,t=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),p=d3.scale.linear().range([0,2*Math.PI]),q=d3.scale.sqrt(),r=d3.layout.partition().sort(null).value(function(){return 1}),n=d3.svg.arc().startAngle(function(a){return Math.max(0,Math.min(2*Math.PI,p(a.x)))}).endAngle(function(a){return Math.max(0,Math.min(2*Math.PI,p(a.x+a.dx)))}).innerRadius(function(a){return Math.max(0,q(a.y))}).outerRadius(function(a){return Math.max(0,
q(a.y+a.dy))}),u,x,E,o=c.utils.renderWatch(t);a.dispatch=t;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return i},set:function(a){i=a}},mode:{get:function(){return f},set:function(a){f=a}},id:{get:function(){return g},set:function(a){g=a}},duration:{get:function(){return l},set:function(a){l=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!=void 0?a.top:b.top;b.right=a.right!=void 0?
a.right:b.right;b.bottom=a.bottom!=void 0?a.bottom:b.bottom;b.left=a.left!=void 0?a.left:b.left}},color:{get:function(){return k},set:function(a){k=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.sunburstChart=function(){function a(d){p.reset();p.models(b);d.each(function(d){var e=d3.select(this);c.utils.initSVG(e);var g=c.utils.availableWidth(f,e,i),k=c.utils.availableHeight(h,e,i);a.update=function(){l===0?e.call(a):e.transition().duration(l).call(a)};a.container=this;if(!d||!d.length){c.utils.noData(a,
e);return a}e.selectAll(".nv-noData").remove();var q=e.selectAll("g.nv-wrap.nv-sunburstChart").data(d),o=q.enter().append("g").attr("class","nvd3 nv-wrap nv-sunburstChart").append("g"),j=q.select("g");o.append("g").attr("class","nv-sunburstWrap");q.attr("transform","translate("+i.left+","+i.top+")");b.width(g).height(k);d=j.select(".nv-sunburstWrap").datum(d);d3.transition(d).call(b)});p.renderEnd("sunburstChart immediate");return a}var b=c.models.sunburst(),d=c.models.tooltip(),i={top:30,right:20,
bottom:20,left:20},f=null,h=null,g=c.utils.defaultColor();Math.round(Math.random()*1E5);var e=null,k=null,l=250,t=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),p=c.utils.renderWatch(t);d.headerEnabled(false).duration(0).valueFormatter(function(a){return a});b.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:a.data.name,value:a.data.size,color:a.color};d.data(a).hidden(false)});b.dispatch.on("elementMouseout.tooltip",function(){d.hidden(true)});b.dispatch.on("elementMousemove.tooltip",
function(){d.position({top:d3.event.pageY,left:d3.event.pageX})()});a.dispatch=t;a.sunburst=b;a.tooltip=d;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{noData:{get:function(){return k},set:function(a){k=a}},defaultState:{get:function(){return e},set:function(a){e=a}},color:{get:function(){return g},set:function(a){g=a;b.color(g)}},duration:{get:function(){return l},set:function(a){l=a;p.reset(l);b.duration(l)}},margin:{get:function(){return i},set:function(a){i.top=a.top!==void 0?
a.top:i.top;i.right=a.right!==void 0?a.right:i.right;i.bottom=a.bottom!==void 0?a.bottom:i.bottom;i.left=a.left!==void 0?a.left:i.left}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.version="1.8.1"})();
