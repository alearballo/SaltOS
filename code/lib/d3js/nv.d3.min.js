(function(){var c={dev:!1};c.tooltip=c.tooltip||{};c.utils=c.utils||{};c.models=c.models||{};c.charts={};c.logs={};c.dom={};c.dispatch=d3.dispatch("render_start","render_end");Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,i=function(){},f=function(){return c.apply(this instanceof i&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};
i.prototype=this.prototype;f.prototype=new i;return f});c.dev&&(c.dispatch.on("render_start",function(){c.logs.startTime=+new Date}),c.dispatch.on("render_end",function(){c.logs.endTime=+new Date;c.logs.totalTime=c.logs.endTime-c.logs.startTime;c.log("total",c.logs.totalTime)}));c.log=function(){c.dev&&window.console&&console.log&&console.log.apply?console.log.apply(console,arguments):c.dev&&(window.console&&typeof console.log=="function"&&Function.prototype.bind)&&Function.prototype.bind.call(console.log,
console).apply(console,arguments);return arguments[arguments.length-1]};c.deprecated=function(a,b){console&&console.warn&&console.warn("nvd3 warning: `"+a+"` has been deprecated. ",b||"")};c.render=function(a){a=a||1;c.render.active=true;c.dispatch.render_start();var b=function(){for(var e,i,f=0;f<a&&(i=c.render.queue[f]);f++){e=i.generate();typeof i.callback==typeof Function&&i.callback(e)}c.render.queue.splice(0,f);if(c.render.queue.length)setTimeout(b);else{c.dispatch.render_end();c.render.active=
false}};setTimeout(b)};c.render.active=!1;c.render.queue=[];c.addGraph=function(a,b){typeof a===typeof Function&&(a={generate:a,callback:b});c.render.queue.push(a);c.render.active||c.render()};"undefined"!==typeof module&&"undefined"!==typeof exports&&(module.exports=c);"undefined"!==typeof window&&(window.nv=c);c.dom.write=function(a){return window.fastdom!==void 0?fastdom.write(a):a()};c.dom.read=function(a){return window.fastdom!==void 0?fastdom.read(a):a()};c.interactiveGuideline=function(){function a(u){u.each(function(q){function n(){var c=
d3.mouse(this),e=c[0],c=c[1],d=true,v=false;if(l){e=d3.event.offsetX;c=d3.event.offsetY;d3.event.target.tagName!=="svg"&&(d=false);d3.event.target.className.baseVal.match("nv-legend")&&(v=true)}if(d){e=e-f.left;c=c-f.top}if(e<0||c<0||e>o||c>j||d3.event.relatedTarget&&d3.event.relatedTarget.ownerSVGElement===void 0||v){if(!l||!d3.event.relatedTarget||!(d3.event.relatedTarget.ownerSVGElement===void 0&&(d3.event.relatedTarget.className===void 0||d3.event.relatedTarget.className.match(b.nvPointerEventsClass)))){g.elementMouseout({mouseX:e,
mouseY:c});a.renderGuideLine(null);b.hidden(true)}}else{b.hidden(false);d=h.invert(e);g.elementMousemove({mouseX:e,mouseY:c,pointXValue:d});d3.event.type==="dblclick"&&g.elementDblclick({mouseX:e,mouseY:c,pointXValue:d});d3.event.type==="click"&&g.elementClick({mouseX:e,mouseY:c,pointXValue:d})}}var u=d3.select(this),o=e||960,j=i||400,C=u.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([q]);C.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine");
if(k){k.on("touchmove",n).on("mousemove",n,true).on("mouseout",n,true).on("dblclick",n).on("click",n);a.guideLine=null;a.renderGuideLine=function(b){d&&(a.guideLine&&a.guideLine.attr("x1")===b||c.dom.write(function(){var a=C.select(".nv-interactiveGuideLine").selectAll("line").data(b!=null?[c.utils.NaNtoZero(b)]:[],String);a.enter().append("line").attr("class","nv-guideline").attr("x1",function(a){return a}).attr("x2",function(a){return a}).attr("y1",j).attr("y2",0);a.exit().remove()}))}}})}var b=
c.models.tooltip();b.duration(0).hideDelay(0)._isInteractiveLayer(true).hidden(false);var e=null,i=null,f={left:0,top:0},h=d3.scale.linear(),g=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick"),d=true,k=null,l="ActiveXObject"in window;a.dispatch=g;a.tooltip=b;a.margin=function(b){if(!arguments.length)return f;f.top=typeof b.top!="undefined"?b.top:f.top;f.left=typeof b.left!="undefined"?b.left:f.left;return a};a.width=function(b){if(!arguments.length)return e;e=b;return a};
a.height=function(b){if(!arguments.length)return i;i=b;return a};a.xScale=function(b){if(!arguments.length)return h;h=b;return a};a.showGuideLine=function(b){if(!arguments.length)return d;d=b;return a};a.svgContainer=function(b){if(!arguments.length)return k;k=b;return a};return a};c.interactiveBisect=function(a,b,c){if(!(a instanceof Array))return null;var i;i=typeof c!=="function"?function(a){return a.x}:c;var c=d3.bisector(function(a,b){return i(a)-b}).left,c=d3.max([0,c(a,b)-1]),f=i(a[c]);typeof f===
"undefined"&&(f=c);if(f===b)return c;var h=d3.min([c+1,a.length-1]),a=i(a[h]);typeof a==="undefined"&&(a=h);return Math.abs(a-b)>=Math.abs(f-b)?c:h};c.nearestValueIndex=function(a,b,c){var i=Infinity,f=null;a.forEach(function(a,g){var d=Math.abs(b-a);if(a!=null&&d<=i&&d<c){i=d;f=g}});return f};(function(){c.models.tooltip=function(){function a(){if(k){var a=d3.select(k);a.node().tagName!=="svg"&&(a=a.select("svg"));var b=a.node()?a.attr("viewBox"):null;if(b){b=b.split(" ");a=parseInt(a.style("width"),
10)/b[2];t.left=t.left*a;t.top=t.top*a}}}function b(){if(j){var x;a:{if(e&&e.series){if(e.series instanceof Array){x=!!e.series.length;break a}if(e.series instanceof Object){e.series=[e.series];x=true;break a}}x=false}if(x){a();var f=t.left,F=g!==null?g:t.top;c.dom.write(function(){if(!q){q=d3.select(k?k:document.body).append("div").attr("class","nvtooltip "+(d?d:"xy-tooltip")).attr("id",p);q.style("top",0).style("left",0);q.style("opacity",0);q.selectAll("div, table, td, tr").classed(v,true);q.classed(v,
true);n=q.node()}var a=H(e);if(a)n.innerHTML=a;k&&s?c.dom.read(function(){var a=k.getElementsByTagName("svg")[0],b=0,c=0;if(a){a=a.getBoundingClientRect();b=k.getBoundingClientRect();c=a.top;if(c<0)var r=k.getBoundingClientRect(),c=Math.abs(c)>r.height?0:c;c=Math.abs(c-b.top);b=Math.abs(a.left-b.left)}f=f+(k.offsetLeft+b-2*k.scrollLeft);F=F+(k.offsetTop+c-2*k.scrollTop);h&&h>0&&(F=Math.floor(F/h)*h);m([f,F])}):m([f,F])});return b}}}var e=null,i="w",f=25,h=0,g=null,d=null,k=null,l=true,u=400,q=null,
n=null,t={left:null,top:null},o={left:0,top:0},j=true,C=100,E=true,s=false,p="nvtooltip-"+Math.floor(Math.random()*1E5),v="nv-pointer-events-none",D=function(a){return a},z=function(a){return a},y=function(a){return a},H=function(a){if(a===null)return"";var b=d3.select(document.createElement("table"));E&&b.selectAll("thead").data([a]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",true).html(z(a.value));var c=b.selectAll("tbody").data([a]).enter().append("tbody").selectAll("tr").data(function(a){return a.series}).enter().append("tr").classed("highlight",
function(a){return a.highlight});c.append("td").classed("legend-color-guide",true).append("div").style("background-color",function(a){return a.color});c.append("td").classed("key",true).classed("total",function(a){return!!a.total}).html(function(a,b){return y(a.key,b)});c.append("td").classed("value",true).html(function(a,b){return D(a.value,b)});c.selectAll("td").each(function(a){if(a.highlight){a=d3.scale.linear().domain([0,1]).range(["#fff",a.color]);d3.select(this).style("border-bottom-color",
a(0.6)).style("border-top-color",a(0.6))}});b=b.node().outerHTML;a.footer!==void 0&&(b=b+("<div class='footer'>"+a.footer+"</div>"));return b},m=function(a){n&&c.dom.read(function(){var b=parseInt(n.offsetHeight,10),e=parseInt(n.offsetWidth,10),r=c.utils.windowSize().width,J=c.utils.windowSize().height,w=window.pageYOffset,d=window.pageXOffset,m,B,J=window.innerWidth>=document.body.scrollWidth?J:J-16,r=window.innerHeight>=document.body.scrollHeight?r:r-16,j=function(a){var b=B;do{isNaN(a.offsetTop)||
(b=b+a.offsetTop);a=a.offsetParent}while(a);return b},G=function(a){var b=m;do{isNaN(a.offsetLeft)||(b=b+a.offsetLeft);a=a.offsetParent}while(a);return b};switch(i){case "e":m=a[0]-e-f;B=a[1]-b/2;G=G(n);j=j(n);G<d&&(m=a[0]+f>d?a[0]+f:d-G+m);j<w&&(B=w-j+B);j+b>w+J&&(B=w+J-j+B-b);break;case "w":m=a[0]+f;B=a[1]-b/2;G=G(n);j=j(n);G+e>r&&(m=a[0]-e-f);j<w&&(B=w-j+B);j+b>w+J&&(B=w+J-j+B-b);break;case "n":m=a[0]-e/2-5;B=a[1]+f;G=G(n);j=j(n);G<d&&(m=d+5);G+e>r&&(m=m-e/2+5);j+b>w+J&&(B=w+J-j+B-b);break;case "s":m=
a[0]-e/2;B=a[1]-b-f;G=G(n);j=j(n);G<d&&(m=d+5);G+e>r&&(m=m-e/2+5);w>j&&(B=w);break;case "none":m=a[0];B=a[1]-f;G=G(n);j=j(n);break;case "center":m=a[0]-e/2;B=a[1]-b/2;G=G(n);j=j(n)}m=m-o.left;B=B-o.top;var e=n.getBoundingClientRect(),w=window.pageYOffset||document.documentElement.scrollTop,d=window.pageXOffset||document.documentElement.scrollLeft,b="translate("+m+"px, "+B+"px)",p=d3.interpolateString("translate("+(e.left+d)+"px, "+(e.top+w)+"px)",b),w=q.style("opacity")<0.1;l?q.transition().delay(u).duration(0).style("opacity",
0):q.interrupt().transition().duration(w?0:C).styleTween("transform",function(){return p},"important").styleTween("-webkit-transform",function(){return p}).style("-ms-transform",b).style("opacity",1)})};b.nvPointerEventsClass=v;b.options=c.utils.optionsFunc.bind(b);b._options=Object.create({},{duration:{get:function(){return C},set:function(a){C=a}},gravity:{get:function(){return i},set:function(a){i=a}},distance:{get:function(){return f},set:function(a){f=a}},snapDistance:{get:function(){return h},
set:function(a){h=a}},classes:{get:function(){return d},set:function(a){d=a}},chartContainer:{get:function(){return k},set:function(a){k=a}},fixedTop:{get:function(){return g},set:function(a){g=a}},enabled:{get:function(){return j},set:function(a){j=a}},hideDelay:{get:function(){return u},set:function(a){u=a}},contentGenerator:{get:function(){return H},set:function(a){H=a}},valueFormatter:{get:function(){return D},set:function(a){D=a}},headerFormatter:{get:function(){return z},set:function(a){z=a}},
keyFormatter:{get:function(){return y},set:function(a){y=a}},headerEnabled:{get:function(){return E},set:function(a){E=a}},_isInteractiveLayer:{get:function(){return s},set:function(a){s=!!a}},position:{get:function(){return t},set:function(a){t.left=a.left!==void 0?a.left:t.left;t.top=a.top!==void 0?a.top:t.top}},offset:{get:function(){return o},set:function(a){o.left=a.left!==void 0?a.left:o.left;o.top=a.top!==void 0?a.top:o.top}},hidden:{get:function(){return l},set:function(a){if(l!=a){l=!!a;
b()}}},data:{get:function(){return e},set:function(a){if(a.point){a.value=a.point.x;a.series=a.series||{};a.series.value=a.point.y;a.series.color=a.point.color||a.series.color}e=a}},tooltipElem:{get:function(){return n},set:function(){}},id:{get:function(){return p},set:function(){}}});c.utils.initOptions(b);return b}})();c.utils.windowSize=function(){var a={width:640,height:480};if(window.innerWidth&&window.innerHeight){a.width=window.innerWidth;a.height=window.innerHeight;return a}if(document.compatMode==
"CSS1Compat"&&document.documentElement&&document.documentElement.offsetWidth){a.width=document.documentElement.offsetWidth;a.height=document.documentElement.offsetHeight;return a}if(document.body&&document.body.offsetWidth){a.width=document.body.offsetWidth;a.height=document.body.offsetHeight}return a};c.utils.windowResize=function(a){window.addEventListener?window.addEventListener("resize",a):c.log("ERROR: Failed to bind to window.resize with: ",a);return{callback:a,clear:function(){window.removeEventListener("resize",
a)}}};c.utils.getColor=function(a){if(a===void 0)return c.utils.defaultColor();if(Array.isArray(a)){var b=d3.scale.ordinal().range(a);return function(a,c){return a.color||b(c===void 0?a:c)}}return a};c.utils.defaultColor=function(){return c.utils.getColor(d3.scale.category20().range())};c.utils.customTheme=function(a,b,c){var b=b||function(a){return a.key},c=c||d3.scale.category20().range(),i=c.length;return function(f){f=b(f);if(typeof a[f]==="function")return a[f]();if(a[f]!==void 0)return a[f];
if(!i)i=c.length;i=i-1;return c[i]}};c.utils.pjax=function(a,b){var e=function(e){d3.html(e,function(e){var h=d3.select(b).node();h.parentNode.replaceChild(d3.select(e).select(b).node(),h);c.utils.pjax(a,b)})};d3.selectAll(a).on("click",function(){history.pushState(this.href,this.textContent,this.href);e(this.href);d3.event.preventDefault()});d3.select(window).on("popstate",function(){d3.event.state&&e(d3.event.state)})};c.utils.calcApproxTextWidth=function(a){if(typeof a.style==="function"&&typeof a.text===
"function"){var b=parseInt(a.style("font-size").replace("px",""),10);return a.text().length*b*0.5}return 0};c.utils.NaNtoZero=function(a){return typeof a!=="number"||isNaN(a)||a===null||a===Infinity||a===-Infinity?0:a};d3.selection.prototype.watchTransition=function(a){var b=[this].concat([].slice.call(arguments,1));return a.transition.apply(a,b)};c.utils.renderWatch=function(a,b){if(!(this instanceof c.utils.renderWatch))return new c.utils.renderWatch(a,b);var e=b!==void 0?b:250,i=[],f=this;this.models=
function(a){a=[].slice.call(arguments,0);a.forEach(function(a){a.__rendered=false;(function(a){a.dispatch.on("renderEnd",function(){a.__rendered=true;f.renderEnd("model")})})(a);i.indexOf(a)<0&&i.push(a)});return this};this.reset=function(a){a!==void 0&&(e=a);i=[]};this.transition=function(a,b,c){b=arguments.length>1?[].slice.call(arguments,1):[];c=b.length>1?b.pop():e!==void 0?e:250;a.__rendered=false;i.indexOf(a)<0&&i.push(a);if(c===0){a.__rendered=true;a.delay=function(){return this};a.duration=
function(){return this};return a}a.__rendered=a.length===0?true:a.every(function(a){return!a.length})?true:false;var k=0;return a.transition().duration(c).each(function(){++k}).each("end",function(){if(--k===0){a.__rendered=true;f.renderEnd.apply(this,b)}})};this.renderEnd=function(){if(i.every(function(a){return a.__rendered})){i.forEach(function(a){a.__rendered=false});a.renderEnd.apply(this,arguments)}}};c.utils.deepExtend=function(a){(arguments.length>1?[].slice.call(arguments,1):[]).forEach(function(b){for(var e in b){var i=
a[e]instanceof Array,f=typeof b[e]==="object";typeof a[e]==="object"&&!i&&f?c.utils.deepExtend(a[e],b[e]):a[e]=b[e]}})};c.utils.state=function(){if(!(this instanceof c.utils.state))return new c.utils.state;var a={},b=function(){},e=function(){return{}},i=null;this.dispatch=d3.dispatch("change","set");this.dispatch.on("set",function(a){b(a,true)});this.getter=function(a){e=a;return this};this.setter=function(a,c){c||(c=function(){});b=function(b,e){a(b);e&&c()};return this};this.init=function(a){i=
i||{};c.utils.deepExtend(i,a)};this.update=function(){if(i){b(i,false);i=null}var c;c=e();if(JSON.stringify(c)===JSON.stringify(a))c=false;else{for(var h in c){a[h]===void 0&&(a[h]={});a[h]=c[h]}c=true}c&&this.dispatch.change(a)}};c.utils.optionsFunc=function(a){a&&d3.map(a).forEach(function(a,c){if(typeof this[a]==="function")this[a](c)}.bind(this));return this};c.utils.calcTicksX=function(a,b){var e=1,i=0;for(i;i<b.length;i=i+1)var f=b[i]&&b[i].values?b[i].values.length:0,e=f>e?f:e;c.log("Requested number of ticks: ",
a);c.log("Calculated max values to be: ",e);a=a>e?a=e-1:a;a=Math.floor(a<1?1:a);c.log("Calculating tick count as: ",a);return a};c.utils.calcTicksY=function(a,b){return c.utils.calcTicksX(a,b)};c.utils.initOption=function(a,b){if(a._calls&&a._calls[b])a[b]=a._calls[b];else{a[b]=function(c){if(!arguments.length)return a._options[b];a._overrides[b]=true;a._options[b]=c;return a};a["_"+b]=function(c){if(!arguments.length)return a._options[b];a._overrides[b]||(a._options[b]=c);return a}}};c.utils.initOptions=
function(a){a._overrides=a._overrides||{};var b=Object.getOwnPropertyNames(a._options||{}),e=Object.getOwnPropertyNames(a._calls||{}),b=b.concat(e),i;for(i in b)c.utils.initOption(a,b[i])};c.utils.inheritOptionsD3=function(a,b,c){a._d3options=c.concat(a._d3options||[]);c.unshift(b);c.unshift(a);d3.rebind.apply(this,c)};c.utils.arrayUnique=function(a){return a.sort().filter(function(b,c){return!c||b!=a[c-1]})};c.utils.symbolMap=d3.map();c.utils.symbol=function(){function a(a,f){var h=b.call(this,a,
f),g=e.call(this,a,f);return d3.svg.symbolTypes.indexOf(h)!==-1?d3.svg.symbol().type(h).size(g)():c.utils.symbolMap.get(h)(g)}var b,e=64;a.type=function(c){if(!arguments.length)return b;b=d3.functor(c);return a};a.size=function(b){if(!arguments.length)return e;e=d3.functor(b);return a};return a};c.utils.inheritOptions=function(a,b){var e=Object.getOwnPropertyNames(b._options||{}),i=Object.getOwnPropertyNames(b._calls||{}),f=b._inherited||[],h=b._d3options||[],g=e.concat(i).concat(f).concat(h);g.unshift(b);
g.unshift(a);d3.rebind.apply(this,g);a._inherited=c.utils.arrayUnique(e.concat(i).concat(f).concat(e).concat(a._inherited||[]));a._d3options=c.utils.arrayUnique(h.concat(a._d3options||[]))};c.utils.initSVG=function(a){a.classed({"nvd3-svg":true})};c.utils.sanitizeHeight=function(a,b){return a||parseInt(b.style("height"),10)||400};c.utils.sanitizeWidth=function(a,b){return a||parseInt(b.style("width"),10)||960};c.utils.availableHeight=function(a,b,e){return c.utils.sanitizeHeight(a,b)-e.top-e.bottom};
c.utils.availableWidth=function(a,b,e){return c.utils.sanitizeWidth(a,b)-e.left-e.right};c.utils.noData=function(a,b){var e=a.options(),i=e.margin(),e=e.noData(),e=e==null?["No Data Available."]:[e],f=c.utils.availableHeight(null,b,i),h=c.utils.availableWidth(null,b,i),h=i.left+h/2,i=i.top+f/2;b.selectAll("g").remove();e=b.selectAll(".nv-noData").data(e);e.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");e.attr("x",h).attr("y",i).text(function(a){return a})};
c.models.axis=function(){function a(j){E.reset();j.each(function(a){var j=d3.select(this);c.utils.initSVG(j);a=j.selectAll("g.nv-wrap.nv-axis").data([a]);a.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g");j=a.select("g");n!==null?b.ticks(n):(b.orient()=="top"||b.orient()=="bottom")&&b.ticks(Math.abs(e.range()[1]-e.range()[0])/100);j.watchTransition(E,"axis").call(b);C=C||b.scale();var h=b.tickFormat();h==null&&(h=C.tickFormat());var o=j.selectAll("text.nv-axislabel").data([g||
null]);o.exit().remove();var y,s;switch(b.orient()){case "top":o.enter().append("text").attr("class","nv-axislabel");s=0;e.range().length===1?s=q?e.range()[0]*2+e.rangeBand():0:e.range().length===2?s=q?e.range()[0]+e.range()[1]+e.rangeBand():e.range()[1]:e.range().length>2&&(s=e.range()[e.range().length-1]+(e.range()[1]-e.range()[0]));o.attr("text-anchor","middle").attr("y",0).attr("x",s/2);if(d){y=a.selectAll("g.nv-axisMaxMin").data(e.domain());y.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin nv-axisMaxMin-x",
b==0?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text");y.exit().remove();y.attr("transform",function(a){return"translate("+c.utils.NaNtoZero(e(a))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-b.tickPadding()).attr("text-anchor","middle").text(function(a){a=h(a);return(""+a).match("NaN")?"":a});y.watchTransition(E,"min-max top").attr("transform",function(a,b){return"translate("+c.utils.NaNtoZero(e.range()[b])+",0)"})}break;case "bottom":y=t+36;var m=30,x=0,A=j.selectAll("g").select("text"),
F="";if(k%360){A.each(function(){var a=this.getBoundingClientRect(),b=a.width;x=a.height;b>m&&(m=b)});F="rotate("+k+" 0,"+(x/2+b.tickPadding())+")";y=Math.abs(Math.sin(k*Math.PI/180));y=(y?y*m:m)+30;A.attr("transform",F).style("text-anchor",k%360>0?"start":"end")}o.enter().append("text").attr("class","nv-axislabel");s=0;e.range().length===1?s=q?e.range()[0]*2+e.rangeBand():0:e.range().length===2?s=q?e.range()[0]+e.range()[1]+e.rangeBand():e.range()[1]:e.range().length>2&&(s=e.range()[e.range().length-
1]+(e.range()[1]-e.range()[0]));o.attr("text-anchor","middle").attr("y",y).attr("x",s/2);if(d){y=a.selectAll("g.nv-axisMaxMin").data([e.domain()[0],e.domain()[e.domain().length-1]]);y.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin nv-axisMaxMin-x",b==0?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text");y.exit().remove();y.attr("transform",function(a){return"translate("+c.utils.NaNtoZero(e(a)+(q?e.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",b.tickPadding()).attr("transform",
F).style("text-anchor",k?k%360>0?"start":"end":"middle").text(function(a){a=h(a);return(""+a).match("NaN")?"":a});y.watchTransition(E,"min-max bottom").attr("transform",function(a){return"translate("+c.utils.NaNtoZero(e(a)+(q?e.rangeBand()/2:0))+",0)"})}u&&A.attr("transform",function(a,b){return"translate(0,"+(b%2==0?"0":"12")+")"});break;case "right":o.enter().append("text").attr("class","nv-axislabel");o.style("text-anchor",l?"middle":"begin").attr("transform",l?"rotate(90)":"").attr("y",l?-Math.max(i.right,
f)+12:-10).attr("x",l?d3.max(e.range())/2:b.tickPadding());if(d){y=a.selectAll("g.nv-axisMaxMin").data(e.domain());y.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin nv-axisMaxMin-y",b==0?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0);y.exit().remove();y.attr("transform",function(a){return"translate(0,"+c.utils.NaNtoZero(e(a))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",b.tickPadding()).style("text-anchor","start").text(function(a){a=
h(a);return(""+a).match("NaN")?"":a});y.watchTransition(E,"min-max right").attr("transform",function(a,b){return"translate(0,"+c.utils.NaNtoZero(e.range()[b])+")"}).select("text").style("opacity",1)}break;case "left":o.enter().append("text").attr("class","nv-axislabel");o.style("text-anchor",l?"middle":"end").attr("transform",l?"rotate(-90)":"").attr("y",l?-Math.max(i.left,f)+25-(t||0):-10).attr("x",l?-d3.max(e.range())/2:-b.tickPadding());if(d){y=a.selectAll("g.nv-axisMaxMin").data(e.domain());y.enter().append("g").attr("class",
function(a,b){return["nv-axisMaxMin nv-axisMaxMin-y",b==0?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0);y.exit().remove();y.attr("transform",function(a){return"translate(0,"+c.utils.NaNtoZero(C(a))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-b.tickPadding()).attr("text-anchor","end").text(function(a){a=h(a);return(""+a).match("NaN")?"":a});y.watchTransition(E,"min-max right").attr("transform",function(a,b){return"translate(0,"+c.utils.NaNtoZero(e.range()[b])+
")"}).select("text").style("opacity",1)}}o.text(function(a){return a});if(d&&(b.orient()==="left"||b.orient()==="right")){j.selectAll("g").each(function(a){d3.select(this).select("text").attr("opacity",1);if(e(a)<e.range()[1]+10||e(a)>e.range()[0]-10){(a>1.0E-10||a<-1.0E-10)&&d3.select(this).attr("opacity",0);d3.select(this).select("text").attr("opacity",0)}});e.domain()[0]==e.domain()[1]&&e.domain()[0]==0&&a.selectAll("g.nv-axisMaxMin").style("opacity",function(a,b){return!b?1:0})}if(d&&(b.orient()===
"top"||b.orient()==="bottom")){var r=[];a.selectAll("g.nv-axisMaxMin").each(function(a,b){try{b?r.push(e(a)-this.getBoundingClientRect().width-4):r.push(e(a)+this.getBoundingClientRect().width+4)}catch(c){b?r.push(e(a)-4):r.push(e(a)+4)}});j.selectAll("g").each(function(a){if(e(a)<r[0]||e(a)>r[1])a>1.0E-10||a<-1.0E-10?d3.select(this).remove():d3.select(this).select("text").remove()})}j.selectAll(".tick").filter(function(a){return!parseFloat(Math.round(a*1E5)/1E6)&&a!==void 0}).classed("zero",true);
C=e.copy()});E.renderEnd("axis immediate");return a}var b=d3.svg.axis(),e=d3.scale.linear(),i={top:0,right:0,bottom:0,left:0},f=75,h=60,g=null,d=true,k=0,l=true,u=false,q=false,n=null,t=0,o=250,j=d3.dispatch("renderEnd");b.scale(e).orient("bottom").tickFormat(function(a){return a});var C,E=c.utils.renderWatch(j,o);a.axis=b;a.dispatch=j;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{axisLabelDistance:{get:function(){return t},set:function(a){t=a}},staggerLabels:{get:function(){return u},
set:function(a){u=a}},rotateLabels:{get:function(){return k},set:function(a){k=a}},rotateYLabel:{get:function(){return l},set:function(a){l=a}},showMaxMin:{get:function(){return d},set:function(a){d=a}},axisLabel:{get:function(){return g},set:function(a){g=a}},height:{get:function(){return h},set:function(a){h=a}},ticks:{get:function(){return n},set:function(a){n=a}},width:{get:function(){return f},set:function(a){f=a}},margin:{get:function(){return i},set:function(a){i.top=a.top!==void 0?a.top:i.top;
i.right=a.right!==void 0?a.right:i.right;i.bottom=a.bottom!==void 0?a.bottom:i.bottom;i.left=a.left!==void 0?a.left:i.left}},duration:{get:function(){return o},set:function(a){o=a;E.reset(o)}},scale:{get:function(){return e},set:function(j){e=j;b.scale(e);q=typeof e.rangeBands==="function";c.utils.inheritOptionsD3(a,e,["domain","range","rangeBand","rangeBands"])}}});c.utils.initOptions(a);c.utils.inheritOptionsD3(a,b,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]);c.utils.inheritOptionsD3(a,
e,["domain","range","rangeBand","rangeBands"]);return a};c.models.boxPlot=function(){function a(f){p.reset();f.each(function(a){var f=e-b.left-b.right,v=i-b.top-b.bottom;u=d3.select(this);c.utils.initSVG(u);h.domain(q||a.map(function(a,b){return d(a,b)})).rangeBands(t||[0,f],0.1);f=[];if(!n)var f=d3.min(a.map(function(a){var b=[];b.push(a.values.Q1);a.values.hasOwnProperty("whisker_low")&&a.values.whisker_low!==null&&b.push(a.values.whisker_low);a.values.hasOwnProperty("outliers")&&a.values.outliers!==
null&&(b=b.concat(a.values.outliers));return d3.min(b)})),k=d3.max(a.map(function(a){var b=[];b.push(a.values.Q3);a.values.hasOwnProperty("whisker_high")&&a.values.whisker_high!==null&&b.push(a.values.whisker_high);a.values.hasOwnProperty("outliers")&&a.values.outliers!==null&&(b=b.concat(a.values.outliers));return d3.max(b)})),f=[f,k];g.domain(n||f);g.range(o||[v,0]);s=s||g.copy().range([g(0),g(0)]);v=u.selectAll("g.nv-wrap").data([a]);v.enter().append("g").attr("class","nvd3 nv-wrap");v.attr("transform",
"translate("+b.left+","+b.top+")");var m=v.selectAll(".nv-boxplot").data(function(a){return a}),x=m.enter().append("g").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6);m.attr("class","nv-boxplot").attr("transform",function(a,b){return"translate("+(h(d(a,b))+h.rangeBand()*0.05)+", 0)"}).classed("hover",function(a){return a.hover});m.watchTransition(p,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",0.75).delay(function(b,c){return c*C/a.length}).attr("transform",function(a,
b){return"translate("+(h(d(a,b))+h.rangeBand()*0.05)+", 0)"});m.exit().remove();x.each(function(a,b){var c=d3.select(this);["low","high"].forEach(function(r){if(a.values.hasOwnProperty("whisker_"+r)&&a.values["whisker_"+r]!==null){c.append("line").style("stroke",a.color?a.color:l(a,b)).attr("class","nv-boxplot-whisker nv-boxplot-"+r);c.append("line").style("stroke",a.color?a.color:l(a,b)).attr("class","nv-boxplot-tick nv-boxplot-"+r)}})});v=m.selectAll(".nv-boxplot-outlier").data(function(a){return a.values.hasOwnProperty("outliers")&&
a.values.outliers!==null?a.values.outliers:[]});v.enter().append("circle").style("fill",function(a,b,c){return l(a,c)}).style("stroke",function(a,b,c){return l(a,c)}).on("mouseover",function(a,b,c){d3.select(this).classed("hover",true);j.elementMouseover({series:{key:a,color:l(a,c)},e:d3.event})}).on("mouseout",function(a,b,c){d3.select(this).classed("hover",false);j.elementMouseout({series:{key:a,color:l(a,c)},e:d3.event})}).on("mousemove",function(){j.elementMousemove({e:d3.event})});v.attr("class",
"nv-boxplot-outlier");v.watchTransition(p,"nv-boxplot: nv-boxplot-outlier").attr("cx",h.rangeBand()*0.45).attr("cy",function(a){return g(a)}).attr("r","3");v.exit().remove();var A=function(){return E===null?h.rangeBand()*0.9:Math.min(75,h.rangeBand()*0.9)},F=function(){return h.rangeBand()*0.45-A()/2},r=function(){return h.rangeBand()*0.45+A()/2};["low","high"].forEach(function(a){var b=a==="low"?"Q1":"Q3";m.select("line.nv-boxplot-whisker.nv-boxplot-"+a).watchTransition(p,"nv-boxplot: boxplots").attr("x1",
h.rangeBand()*0.45).attr("y1",function(b){return g(b.values["whisker_"+a])}).attr("x2",h.rangeBand()*0.45).attr("y2",function(a){return g(a.values[b])});m.select("line.nv-boxplot-tick.nv-boxplot-"+a).watchTransition(p,"nv-boxplot: boxplots").attr("x1",F).attr("y1",function(b){return g(b.values["whisker_"+a])}).attr("x2",r).attr("y2",function(b){return g(b.values["whisker_"+a])})});["low","high"].forEach(function(a){x.selectAll(".nv-boxplot-"+a).on("mouseover",function(b,c,r){d3.select(this).classed("hover",
true);j.elementMouseover({series:{key:b.values["whisker_"+a],color:l(b,r)},e:d3.event})}).on("mouseout",function(b,c,r){d3.select(this).classed("hover",false);j.elementMouseout({series:{key:b.values["whisker_"+a],color:l(b,r)},e:d3.event})}).on("mousemove",function(){j.elementMousemove({e:d3.event})})});x.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(a,b){d3.select(this).classed("hover",true);j.elementMouseover({key:a.label,value:a.label,series:[{key:"Q3",value:a.values.Q3,
color:a.color||l(a,b)},{key:"Q2",value:a.values.Q2,color:a.color||l(a,b)},{key:"Q1",value:a.values.Q1,color:a.color||l(a,b)}],data:a,index:b,e:d3.event})}).on("mouseout",function(a,b){d3.select(this).classed("hover",false);j.elementMouseout({key:a.label,value:a.label,series:[{key:"Q3",value:a.values.Q3,color:a.color||l(a,b)},{key:"Q2",value:a.values.Q2,color:a.color||l(a,b)},{key:"Q1",value:a.values.Q1,color:a.color||l(a,b)}],data:a,index:b,e:d3.event})}).on("mousemove",function(){j.elementMousemove({e:d3.event})});
m.select("rect.nv-boxplot-box").watchTransition(p,"nv-boxplot: boxes").attr("y",function(a){return g(a.values.Q3)}).attr("width",A).attr("x",F).attr("height",function(a){return Math.abs(g(a.values.Q3)-g(a.values.Q1))||1}).style("fill",function(a,b){return a.color||l(a,b)}).style("stroke",function(a,b){return a.color||l(a,b)});x.append("line").attr("class","nv-boxplot-median");m.select("line.nv-boxplot-median").watchTransition(p,"nv-boxplot: boxplots line").attr("x1",F).attr("y1",function(a){return g(a.values.Q2)}).attr("x2",
r).attr("y2",function(a){return g(a.values.Q2)});h.copy();s=g.copy()});p.renderEnd("nv-boxplot immediate");return a}var b={top:0,right:0,bottom:0,left:0},e=960,i=500,f=Math.floor(Math.random()*1E4),h=d3.scale.ordinal(),g=d3.scale.linear(),d=function(a){return a.x},k=function(a){return a.y},l=c.utils.defaultColor(),u=null,q,n,t,o,j=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),C=250,E=null,s,p=c.utils.renderWatch(j,C);a.dispatch=j;a.options=c.utils.optionsFunc.bind(a);
a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return i},set:function(a){i=a}},maxBoxWidth:{get:function(){return E},set:function(a){E=a}},x:{get:function(){return d},set:function(a){d=a}},y:{get:function(){return k},set:function(a){k=a}},xScale:{get:function(){return h},set:function(a){h=a}},yScale:{get:function(){return g},set:function(a){g=a}},xDomain:{get:function(){return q},set:function(a){q=a}},yDomain:{get:function(){return n},set:function(a){n=
a}},xRange:{get:function(){return t},set:function(a){t=a}},yRange:{get:function(){return o},set:function(a){o=a}},id:{get:function(){return f},set:function(a){f=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return l},set:function(a){l=c.utils.getColor(a)}},duration:{get:function(){return C},set:function(a){C=a;p.reset(C)}}});
c.utils.initOptions(a);return a};c.models.boxPlotChart=function(){function a(d){p.reset();p.models(b);k&&p.models(e);l&&p.models(i);d.each(function(d){var p=d3.select(this);c.utils.initSVG(p);var v=(h||parseInt(p.style("width"))||960)-f.left-f.right,n=(g||parseInt(p.style("height"))||400)-f.top-f.bottom;a.update=function(){C.beforeUpdate();p.transition().duration(E).call(a)};a.container=this;if(!d||!d.length||!d.filter(function(a){return a.values.hasOwnProperty("Q1")&&a.values.hasOwnProperty("Q2")&&
a.values.hasOwnProperty("Q3")}).length){d=p.selectAll(".nv-noData").data([j]);d.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");d.attr("x",f.left+v/2).attr("y",f.top+n/2).text(function(a){return a});return a}p.selectAll(".nv-noData").remove();t=b.xScale();o=b.yScale().clamp(true);var m=p.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([d]),x=m.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),A=x.append("defs"),m=
m.select("g");x.append("g").attr("class","nv-x nv-axis");x.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");x.append("g").attr("class","nv-barsWrap");m.attr("transform","translate("+f.left+","+f.top+")");u&&m.select(".nv-y.nv-axis").attr("transform","translate("+v+",0)");b.width(v).height(n);m.select(".nv-barsWrap").datum(d.filter(function(a){return!a.disabled})).transition().call(b);A.append("clipPath").attr("id","nv-x-label-clip-"+b.id()).append("rect");
m.select("#nv-x-label-clip-"+b.id()+" rect").attr("width",t.rangeBand()*(q?2:1)).attr("height",16).attr("x",-t.rangeBand()/(q?1:2));if(k){e.scale(t).ticks(c.utils.calcTicksX(v/100,d)).tickSize(-n,0);m.select(".nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")");m.select(".nv-x.nv-axis").call(e);d=m.select(".nv-x.nv-axis").selectAll("g");q&&d.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(c%2==0?"5":"17")+")"})}if(l){i.scale(o).ticks(Math.floor(n/36)).tickSize(-v,
0);m.select(".nv-y.nv-axis").call(i)}m.select(".nv-zeroLine line").attr("x1",0).attr("x2",v).attr("y1",o(0)).attr("y2",o(0))});p.renderEnd("nv-boxplot chart immediate");return a}var b=c.models.boxPlot(),e=c.models.axis(),i=c.models.axis(),f={top:15,right:10,bottom:50,left:60},h=null,g=null,d=c.utils.getColor(),k=true,l=true,u=false,q=false,n=c.models.tooltip(),t,o,j="No Data Available.",C=d3.dispatch("tooltipShow","tooltipHide","beforeUpdate","renderEnd"),E=250,s;e.orient("bottom").showMaxMin(false).tickFormat(function(a){return a});
i.orient(u?"right":"left").tickFormat(d3.format(",.1f"));n.duration(0);var p=c.utils.renderWatch(C,E);b.dispatch.on("elementMouseover.tooltip",function(a){n.data(a).hidden(false)});b.dispatch.on("elementMouseout.tooltip",function(a){n.data(a).hidden(true)});b.dispatch.on("elementMousemove.tooltip",function(){n.position({top:d3.event.pageY,left:d3.event.pageX})()});a.dispatch=C;a.boxplot=b;a.xAxis=e;a.yAxis=i;a.tooltip=n;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return h},
set:function(a){h=a}},height:{get:function(){return g},set:function(a){g=a}},staggerLabels:{get:function(){return q},set:function(a){q=a}},showXAxis:{get:function(){return k},set:function(a){k=a}},showYAxis:{get:function(){return l},set:function(a){l=a}},tooltips:{get:function(){return s},set:function(a){s=a}},tooltipContent:{get:function(){return n},set:function(a){n=a}},noData:{get:function(){return j},set:function(a){j=a}},margin:{get:function(){return f},set:function(a){f.top=a.top!==void 0?a.top:
f.top;f.right=a.right!==void 0?a.right:f.right;f.bottom=a.bottom!==void 0?a.bottom:f.bottom;f.left=a.left!==void 0?a.left:f.left}},duration:{get:function(){return E},set:function(a){E=a;p.reset(E);b.duration(E);e.duration(E);i.duration(E)}},color:{get:function(){return d},set:function(a){d=c.utils.getColor(a);b.color(d)}},rightAlignYAxis:{get:function(){return u},set:function(a){u=a;i.orient(a?"right":"left")}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.bullet=function(){function a(e){e.each(function(a,
e){var o=k-b.left-b.right,s=l-b.top-b.bottom;u=d3.select(this);c.utils.initSVG(u);var p=f.call(this,a,e).slice().sort(d3.descending),v=h.call(this,a,e).slice().sort(d3.descending),q=g.call(this,a,e).slice().sort(d3.descending),z=(a.rangeLabels?a.rangeLabels:[]).slice(),y=(a.markerLabels?a.markerLabels:[]).slice(),H=(a.measureLabels?a.measureLabels:[]).slice(),m=d3.scale.linear().domain(d3.extent(d3.merge([d,p]))).range(i?[o,0]:[0,o]);this.__chart__||d3.scale.linear().domain([0,Infinity]).range(m.range());
this.__chart__=m;var x=d3.min(p),A=d3.max(p),F=p[1],p=u.selectAll("g.nv-wrap.nv-bullet").data([a]),o=p.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),r=p.select("g");o.append("rect").attr("class","nv-range nv-rangeMax");o.append("rect").attr("class","nv-range nv-rangeAvg");o.append("rect").attr("class","nv-range nv-rangeMin");o.append("rect").attr("class","nv-measure");p.attr("transform","translate("+b.left+","+b.top+")");var J=function(a){return Math.abs(m(a)-m(0))},w=function(a){return a<
0?m(a):m(0)};r.select("rect.nv-rangeMax").attr("height",s).attr("width",J(A>0?A:x)).attr("x",w(A>0?A:x)).datum(A>0?A:x);r.select("rect.nv-rangeAvg").attr("height",s).attr("width",J(F)).attr("x",w(F)).datum(F);r.select("rect.nv-rangeMin").attr("height",s).attr("width",J(A)).attr("x",w(A)).attr("width",J(A>0?x:A)).attr("x",w(A>0?x:A)).datum(A>0?x:A);r.select("rect.nv-measure").style("fill",n).attr("height",s/3).attr("y",s/3).attr("width",q<0?m(0)-m(q[0]):m(q[0])-m(0)).attr("x",w(q)).on("mouseover",
function(){t.elementMouseover({value:q[0],label:H[0]||"Current",color:d3.select(this).style("fill")})}).on("mousemove",function(){t.elementMousemove({value:q[0],label:H[0]||"Current",color:d3.select(this).style("fill")})}).on("mouseout",function(){t.elementMouseout({value:q[0],label:H[0]||"Current",color:d3.select(this).style("fill")})});x=s/6;v=v.map(function(a,b){return{value:a,label:y[b]}});o.selectAll("path.nv-markerTriangle").data(v).enter().append("path").attr("class","nv-markerTriangle").attr("transform",
function(a){return"translate("+m(a.value)+","+s/2+")"}).attr("d","M0,"+x+"L"+x+","+-x+" "+-x+","+-x+"Z").on("mouseover",function(a){t.elementMouseover({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill"),pos:[m(a.value),s/2]})}).on("mousemove",function(a){t.elementMousemove({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(a){t.elementMouseout({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill")})});
p.selectAll(".nv-range").on("mouseover",function(a,b){t.elementMouseover({value:a,label:z[b]||(!b?"Maximum":b==1?"Mean":"Minimum"),color:d3.select(this).style("fill")})}).on("mousemove",function(){t.elementMousemove({value:q[0],label:H[0]||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){t.elementMouseout({value:a,label:z[b]||(!b?"Maximum":b==1?"Mean":"Minimum"),color:d3.select(this).style("fill")})})});return a}var b={top:0,right:0,bottom:0,left:0},e="left",i=false,
f=function(a){return a.ranges},h=function(a){return a.markers?a.markers:[0]},g=function(a){return a.measures},d=[0],k=380,l=30,u=null,q=null,n=c.utils.getColor(["#1f77b4"]),t=d3.dispatch("elementMouseover","elementMouseout","elementMousemove");a.dispatch=t;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{ranges:{get:function(){return f},set:function(a){f=a}},markers:{get:function(){return h},set:function(a){h=a}},measures:{get:function(){return g},set:function(a){g=a}},forceX:{get:function(){return d},
set:function(a){d=a}},width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return l},set:function(a){l=a}},tickFormat:{get:function(){return q},set:function(a){q=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},orient:{get:function(){return e},set:function(a){e=a;i=e=="right"||e=="bottom"}},color:{get:function(){return n},
set:function(a){n=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.bulletChart=function(){function a(e){e.each(function(i,o){var s=d3.select(this);c.utils.initSVG(s);var p=c.utils.availableWidth(l,s,h),v=u-h.top-h.bottom;a.update=function(){a(e)};a.container=this;if(!i||!g.call(this,i,o)){c.utils.noData(a,s);return a}s.selectAll(".nv-noData").remove();var D=g.call(this,i,o).slice().sort(d3.descending),z=d.call(this,i,o).slice().sort(d3.descending),y=k.call(this,i,o).slice().sort(d3.descending),
t=s.selectAll("g.nv-wrap.nv-bulletChart").data([i]),m=t.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),s=t.select("g");m.append("g").attr("class","nv-bulletWrap");m.append("g").attr("class","nv-titles");t.attr("transform","translate("+h.left+","+h.top+")");var x=d3.scale.linear().domain([0,Math.max(D[0],z[0],y[0])]).range(f?[p,0]:[0,p]),A=this.__chart__||d3.scale.linear().domain([0,Infinity]).range(x.range());this.__chart__=x;D=m.select(".nv-titles").append("g").attr("text-anchor",
"end").attr("transform","translate(-6,"+(u-h.top-h.bottom)/2+")");D.append("text").attr("class","nv-title").text(function(a){return a.title});D.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(a){return a.subtitle});b.width(p).height(v);D=s.select(".nv-bulletWrap");d3.transition(D).call(b);var F=q||x.tickFormat(p/100),p=s.selectAll("g.nv-tick").data(x.ticks(n?n:p/50),function(a){return this.textContent||F(a)}),s=p.enter().append("g").attr("class","nv-tick").attr("transform",
function(a){return"translate("+A(a)+",0)"}).style("opacity",1.0E-6);s.append("line").attr("y1",v).attr("y2",v*7/6);s.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",v*7/6).text(F);s=d3.transition(p).attr("transform",function(a){return"translate("+x(a)+",0)"}).style("opacity",1);s.select("line").attr("y1",v).attr("y2",v*7/6);s.select("text").attr("y",v*7/6);d3.transition(p.exit()).attr("transform",function(a){return"translate("+x(a)+",0)"}).style("opacity",1.0E-6).remove()});
d3.timer.flush();return a}var b=c.models.bullet(),e=c.models.tooltip(),i="left",f=false,h={top:5,right:40,bottom:20,left:120},g=function(a){return a.ranges},d=function(a){return a.markers?a.markers:[0]},k=function(a){return a.measures},l=null,u=55,q=null,n=null,t=null,o=d3.dispatch("tooltipShow","tooltipHide");e.duration(0).headerEnabled(false);b.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:a.label,value:a.value,color:a.color};e.data(a).hidden(false)});b.dispatch.on("elementMouseout.tooltip",
function(){e.hidden(true)});b.dispatch.on("elementMousemove.tooltip",function(){e.position({top:d3.event.pageY,left:d3.event.pageX})()});a.bullet=b;a.dispatch=o;a.tooltip=e;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{ranges:{get:function(){return g},set:function(a){g=a}},markers:{get:function(){return d},set:function(a){d=a}},measures:{get:function(){return k},set:function(a){k=a}},width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return u},set:function(a){u=
a}},tickFormat:{get:function(){return q},set:function(a){q=a}},ticks:{get:function(){return n},set:function(a){n=a}},noData:{get:function(){return t},set:function(a){t=a}},tooltips:{get:function(){return e.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");e.enabled(!!a)}},tooltipContent:{get:function(){return e.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");e.contentGenerator(a)}},margin:{get:function(){return h},
set:function(a){h.top=a.top!==void 0?a.top:h.top;h.right=a.right!==void 0?a.right:h.right;h.bottom=a.bottom!==void 0?a.bottom:h.bottom;h.left=a.left!==void 0?a.left:h.left}},orient:{get:function(){return i},set:function(a){i=a;f=i=="right"||i=="bottom"}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.candlestickBar=function(){function a(m){m.each(function(a){h=d3.select(this);var m=c.utils.availableWidth(e,h,b),p=c.utils.availableHeight(i,h,b);c.utils.initSVG(h);var r=m/a[0].values.length*
0.45;g.domain(v||d3.extent(a[0].values.map(k).concat(o)));C?g.range(z||[m*0.5/a[0].values.length,m*(a[0].values.length-0.5)/a[0].values.length]):g.range(z||[5+r/2,m-r/2-5]);d.domain(D||[d3.min(a[0].values.map(t).concat(j)),d3.max(a[0].values.map(n).concat(j))]).range(y||[p,0]);g.domain()[0]===g.domain()[1]&&(g.domain()[0]?g.domain([g.domain()[0]-g.domain()[0]*0.01,g.domain()[1]+g.domain()[1]*0.01]):g.domain([-1,1]));d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+d.domain()[0]*
0.01,d.domain()[1]-d.domain()[1]*0.01]):d.domain([-1,1]));var a=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([a[0].values]),J=a.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),w=J.append("defs"),J=J.append("g"),s=a.select("g");J.append("g").attr("class","nv-ticks");a.attr("transform","translate("+b.left+","+b.top+")");h.on("click",function(a,b){H.chartClick({data:a,index:b,pos:d3.event,id:f})});w.append("clipPath").attr("id","nv-chart-clip-path-"+f).append("rect");
a.select("#nv-chart-clip-path-"+f+" rect").attr("width",m).attr("height",p);s.attr("clip-path",E?"url(#nv-chart-clip-path-"+f+")":"");m=a.select(".nv-ticks").selectAll(".nv-tick").data(function(a){return a});m.exit().remove();p=m.enter().append("g");m.attr("class",function(a,b,c){return(u(a,b)>q(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b});p.append("line").attr("class","nv-candlestick-lines").attr("transform",function(a,b){return"translate("+g(k(a,b))+",0)"}).attr("x1",0).attr("y1",
function(a,b){return d(n(a,b))}).attr("x2",0).attr("y2",function(a,b){return d(t(a,b))});p.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(a,b){return"translate("+(g(k(a,b))-r/2)+","+(d(l(a,b))-(u(a,b)>q(a,b)?d(q(a,b))-d(u(a,b)):0))+")"}).attr("x",0).attr("y",0).attr("width",r).attr("height",function(a,b){var c=u(a,b),G=q(a,b);return c>G?d(G)-d(c):d(c)-d(G)});m.select(".nv-candlestick-lines").transition().attr("transform",function(a,b){return"translate("+g(k(a,
b))+",0)"}).attr("x1",0).attr("y1",function(a,b){return d(n(a,b))}).attr("x2",0).attr("y2",function(a,b){return d(t(a,b))});m.select(".nv-candlestick-rects").transition().attr("transform",function(a,b){return"translate("+(g(k(a,b))-r/2)+","+(d(l(a,b))-(u(a,b)>q(a,b)?d(q(a,b))-d(u(a,b)):0))+")"}).attr("x",0).attr("y",0).attr("width",r).attr("height",function(a,b){var c=u(a,b),G=q(a,b);return c>G?d(G)-d(c):d(c)-d(G)})});return a}var b={top:0,right:0,bottom:0,left:0},e=null,i=null,f=Math.floor(Math.random()*
1E4),h,g=d3.scale.linear(),d=d3.scale.linear(),k=function(a){return a.x},l=function(a){return a.y},u=function(a){return a.open},q=function(a){return a.close},n=function(a){return a.high},t=function(a){return a.low},o=[],j=[],C=false,E=true,s=c.utils.defaultColor(),p=false,v,D,z,y,H=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");a.highlightPoint=function(b,c){a.clearHighlights();
h.select(".nv-candlestickBar .nv-tick-0-"+b).classed("hover",c)};a.clearHighlights=function(){h.select(".nv-candlestickBar .nv-tick.hover").classed("hover",false)};a.dispatch=H;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return i},set:function(a){i=a}},xScale:{get:function(){return g},set:function(a){g=a}},yScale:{get:function(){return d},set:function(a){d=a}},xDomain:{get:function(){return v},set:function(a){v=
a}},yDomain:{get:function(){return D},set:function(a){D=a}},xRange:{get:function(){return z},set:function(a){z=a}},yRange:{get:function(){return y},set:function(a){y=a}},forceX:{get:function(){return o},set:function(a){o=a}},forceY:{get:function(){return j},set:function(a){j=a}},padData:{get:function(){return C},set:function(a){C=a}},clipEdge:{get:function(){return E},set:function(a){E=a}},id:{get:function(){return f},set:function(a){f=a}},interactive:{get:function(){return p},set:function(a){p=a}},
x:{get:function(){return k},set:function(a){k=a}},y:{get:function(){return l},set:function(a){l=a}},open:{get:function(){return u()},set:function(a){u=a}},close:{get:function(){return q()},set:function(a){q=a}},high:{get:function(){return n},set:function(a){n=a}},low:{get:function(){return t},set:function(a){t=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!=void 0?a.top:b.top;b.right=a.right!=void 0?a.right:b.right;b.bottom=a.bottom!=void 0?a.bottom:b.bottom;b.left=a.left!=void 0?
a.left:b.left}},color:{get:function(){return s},set:function(a){s=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.cumulativeLineChart=function(){function a(G){I.reset();I.models(e);o&&I.models(i);j&&I.models(f);G.each(function(G){function r(){$.data([w]);var b=a.duration();a.duration(0);a.update();a.duration(b)}var m=d3.select(this);c.utils.initSVG(m);m.classed("nv-chart-"+z,true);var K=this,k=c.utils.availableWidth(q,m,l),I=c.utils.availableHeight(n,m,l);a.update=function(){F===
0?m.call(a):m.transition().duration(F).call(a)};a.container=this;y.setter(B(G),a.update).getter(L(G)).update();y.disabled=G.map(function(a){return!!a.disabled});if(!H){var V;H={};for(V in y)H[V]=y[V]instanceof Array?y[V].slice(0):y[V]}V=d3.behavior.drag().on("dragstart",function(){d3.select(a.container).style("cursor","ew-resize")}).on("drag",function(){w.x=d3.event.x;w.i=Math.round(J.invert(w.x));r()}).on("dragend",function(){d3.select(a.container).style("cursor","auto");y.index=w.i;A.stateChange(y)});
if(!G||!G.length||!G.filter(function(a){return a.values.length}).length){c.utils.noData(a,m);return a}m.selectAll(".nv-noData").remove();v=e.xScale();D=e.yScale();if(p)e.yDomain(null);else{var R=G.filter(function(a){return!a.disabled}).map(function(a){a=d3.extent(a.values,e.y());a[0]<-0.95&&(a[0]=-0.95);return[(a[0]-a[1])/(1+a[1]),(a[1]-a[0])/(1+a[0])]}),R=[d3.min(R,function(a){return a[0]}),d3.max(R,function(a){return a[1]})];e.yDomain(R)}J.domain([0,G[0].values.length-1]).range([0,k]).clamp(true);
var G=b(w.i,G),U=s?"none":"all",W=m.selectAll("g.nv-wrap.nv-cumulativeLine").data([G]),Z=W.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),R=W.select("g");Z.append("g").attr("class","nv-interactive");Z.append("g").attr("class","nv-x nv-axis").style("pointer-events","none");Z.append("g").attr("class","nv-y nv-axis");Z.append("g").attr("class","nv-background");Z.append("g").attr("class","nv-linesWrap").style("pointer-events",U);Z.append("g").attr("class","nv-avgLinesWrap").style("pointer-events",
"none");Z.append("g").attr("class","nv-legendWrap");Z.append("g").attr("class","nv-controlsWrap");if(t){h.width(k);R.select(".nv-legendWrap").datum(G).call(h);if(l.top!=h.height()){l.top=h.height();I=c.utils.availableHeight(n,m,l)}R.select(".nv-legendWrap").attr("transform","translate(0,"+-l.top+")")}if(E){U=[{key:"Re-scale y-axis",disabled:!p}];g.width(140).color(["#444","#444","#444"]).rightAlign(false).margin({top:5,right:0,bottom:5,left:20});R.select(".nv-controlsWrap").datum(U).attr("transform",
"translate(0,"+-l.top+")").call(g)}W.attr("transform","translate("+l.left+","+l.top+")");C&&R.select(".nv-y.nv-axis").attr("transform","translate("+k+",0)");U=G.filter(function(a){return a.tempDisabled});W.select(".tempDisabled").remove();U.length&&W.append("text").attr("class","tempDisabled").attr("x",k/2).attr("y","-.71em").style("text-anchor","end").text(U.map(function(a){return a.key}).join(", ")+" values cannot be calculated for this time period.");if(s){d.width(k).height(I).margin({left:l.left,
top:l.top}).svgContainer(m).xScale(v);W.select(".nv-interactive").call(d)}Z.select(".nv-background").append("rect");R.select(".nv-background rect").attr("width",k).attr("height",I);e.y(function(a){return a.display.y}).width(k).height(I).color(G.map(function(a,b){return a.color||u(a,b)}).filter(function(a,b){return!G[b].disabled&&!G[b].tempDisabled}));W=R.select(".nv-linesWrap").datum(G.filter(function(a){return!a.disabled&&!a.tempDisabled}));W.call(e);G.forEach(function(a,b){a.seriesIndex=b});Z=G.filter(function(a){return!a.disabled&&
!!x(a)});Z=R.select(".nv-avgLinesWrap").selectAll("line").data(Z,function(a){return a.key});U=function(a){a=D(x(a));return a<0?0:a>I?I:a};Z.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(a){return e.color()(a,a.seriesIndex)}).attr("x1",0).attr("x2",k).attr("y1",U).attr("y2",U);Z.style("stroke-opacity",function(a){a=D(x(a));return a<0||a>I?0:1}).attr("x1",0).attr("x2",k).attr("y1",U).attr("y2",U);Z.exit().remove();var $=W.selectAll(".nv-indexLine").data([w]);
$.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",0.5).style("pointer-events","all").call(V);$.attr("transform",function(a){return"translate("+J(a.i)+",0)"}).attr("height",I);if(o){i.scale(v)._ticks(c.utils.calcTicksX(k/70,G)).tickSize(-I,0);R.select(".nv-x.nv-axis").attr("transform","translate(0,"+D.range()[0]+")");R.select(".nv-x.nv-axis").call(i)}if(j){f.scale(D)._ticks(c.utils.calcTicksY(I/36,G)).tickSize(-k,0);R.select(".nv-y.nv-axis").call(f)}R.select(".nv-background rect").on("click",
function(){w.x=d3.mouse(this)[0];w.i=Math.round(J.invert(w.x));y.index=w.i;A.stateChange(y);r()});e.dispatch.on("elementClick",function(a){w.i=a.pointIndex;w.x=J(w.i);y.index=w.i;A.stateChange(y);r()});g.dispatch.on("legendClick",function(b){b.disabled=!b.disabled;p=!b.disabled;y.rescaleY=p;A.stateChange(y);a.update()});h.dispatch.on("stateChange",function(b){for(var c in b)y[c]=b[c];A.stateChange(y);a.update()});d.dispatch.on("elementMousemove",function(b){e.clearHighlights();var w,r,m,j=[];G.filter(function(a,
b){a.seriesIndex=b;return!a.disabled}).forEach(function(G,d){r=c.interactiveBisect(G.values,b.pointXValue,a.x());e.highlightPoint(d,r,true);var p=G.values[r];if(typeof p!=="undefined"){typeof w==="undefined"&&(w=p);typeof m==="undefined"&&(m=a.xScale()(a.x()(p,r)));j.push({key:G.key,value:a.y()(p,r),color:u(G,G.seriesIndex)})}});if(j.length>2){var p=a.yScale().invert(b.mouseY),B=0.03*Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]),p=c.nearestValueIndex(j.map(function(a){return a.value}),p,
B);if(p!==null)j[p].highlight=true}p=i.tickFormat()(a.x()(w,r),r);d.tooltip.position({left:m+l.left,top:b.mouseY+l.top}).chartContainer(K.parentNode).valueFormatter(function(a){return f.tickFormat()(a)}).data({value:p,series:j})();d.renderGuideLine(m)});d.dispatch.on("elementMouseout",function(){e.clearHighlights()});A.on("changeState",function(b){if(typeof b.disabled!=="undefined"){G.forEach(function(a,c){a.disabled=b.disabled[c]});y.disabled=b.disabled}if(typeof b.index!=="undefined"){w.i=b.index;
w.x=J(w.i);y.index=b.index;$.data([w])}if(typeof b.rescaleY!=="undefined")p=b.rescaleY;a.update()})});I.renderEnd("cumulativeLineChart immediate");return a}function b(a,b){K||(K=e.y());return b.map(function(b){if(!b.values)return b;var c=b.values[a];if(c==null)return b;var w=K(c,a);if(w<-0.95&&!r){b.tempDisabled=true;return b}b.tempDisabled=false;b.values=b.values.map(function(a,b){a.display={y:(K(a,b)-w)/(1+w)};return a});return b})}var e=c.models.line(),i=c.models.axis(),f=c.models.axis(),h=c.models.legend(),
g=c.models.legend(),d=c.interactiveGuideline(),k=c.models.tooltip(),l={top:30,right:30,bottom:50,left:60},u=c.utils.defaultColor(),q=null,n=null,t=true,o=true,j=true,C=false,E=true,s=false,p=true,v,D,z=e.id(),y=c.utils.state(),H=null,m=null,x=function(a){return a.average},A=d3.dispatch("stateChange","changeState","renderEnd"),F=250,r=false;y.index=0;y.rescaleY=p;i.orient("bottom").tickPadding(7);f.orient(C?"right":"left");k.valueFormatter(function(a,b){return f.tickFormat()(a,b)}).headerFormatter(function(a,
b){return i.tickFormat()(a,b)});g.updateState(false);var J=d3.scale.linear(),w={i:0,x:0},I=c.utils.renderWatch(A,F),L=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),index:w.i,rescaleY:p}}},B=function(a){return function(b){if(b.index!==void 0)w.i=b.index;if(b.rescaleY!==void 0)p=b.rescaleY;b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};e.dispatch.on("elementMouseover.tooltip",function(b){var c={x:a.x()(b.point),y:a.y()(b.point),color:b.point.color};
b.point=c;k.data(b).position(b.pos).hidden(false)});e.dispatch.on("elementMouseout.tooltip",function(){k.hidden(true)});var K=null;a.dispatch=A;a.lines=e;a.legend=h;a.controls=g;a.xAxis=i;a.yAxis=f;a.interactiveLayer=d;a.state=y;a.tooltip=k;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return q},set:function(a){q=a}},height:{get:function(){return n},set:function(a){n=a}},rescaleY:{get:function(){return p},set:function(a){p=a}},showControls:{get:function(){return E},
set:function(a){E=a}},showLegend:{get:function(){return t},set:function(a){t=a}},average:{get:function(){return x},set:function(a){x=a}},defaultState:{get:function(){return H},set:function(a){H=a}},noData:{get:function(){return m},set:function(a){m=a}},showXAxis:{get:function(){return o},set:function(a){o=a}},showYAxis:{get:function(){return j},set:function(a){j=a}},noErrorCheck:{get:function(){return r},set:function(a){r=a}},tooltips:{get:function(){return k.enabled()},set:function(a){c.deprecated("tooltips",
"use chart.tooltip.enabled() instead");k.enabled(!!a)}},tooltipContent:{get:function(){return k.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");k.contentGenerator(a)}},margin:{get:function(){return l},set:function(a){l.top=a.top!==void 0?a.top:l.top;l.right=a.right!==void 0?a.right:l.right;l.bottom=a.bottom!==void 0?a.bottom:l.bottom;l.left=a.left!==void 0?a.left:l.left}},color:{get:function(){return u},set:function(a){u=c.utils.getColor(a);
h.color(u)}},useInteractiveGuideline:{get:function(){return s},set:function(b){s=b;if(b===true){a.interactive(false);a.useVoronoi(false)}}},rightAlignYAxis:{get:function(){return C},set:function(a){C=a;f.orient(a?"right":"left")}},duration:{get:function(){return F},set:function(a){F=a;e.duration(F);i.duration(F);f.duration(F);I.reset(F)}}});c.utils.inheritOptions(a,e);c.utils.initOptions(a);return a};c.models.discreteBar=function(){function a(f){z.reset();f.each(function(a){var m=e-b.left-b.right,
f=i-b.top-b.bottom;h=d3.select(this);c.utils.initSVG(h);a.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});var v=o&&j?[]:a.map(function(a){return a.values.map(function(a,b){return{x:k(a,b),y:l(a,b),y0:a.y0}})});g.domain(o||d3.merge(v).map(function(a){return a.x})).rangeBands(C||[0,m],0.1);d.domain(j||d3.extent(d3.merge(v).map(function(a){return a.y}).concat(u)));n?d.range(E||[f-(d.domain()[0]<0?12:0),d.domain()[1]>0?12:0]):d.range(E||[f,0]);D=D||d.copy().range([d(0),d(0)]);m=h.selectAll("g.nv-wrap.nv-discretebar").data([a]);
f=m.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar").append("g");m.select("g");f.append("g").attr("class","nv-groups");m.attr("transform","translate("+b.left+","+b.top+")");m=m.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});m.enter().append("g").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6);m.exit().watchTransition(z,"discreteBar: exit groups").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6).remove();m.attr("class",
function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover});m.watchTransition(z,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",0.75);m=m.selectAll("g.nv-bar").data(function(a){return a.values});m.exit().remove();f=m.enter().append("g").attr("transform",function(a,b){return"translate("+(g(k(a,b))+g.rangeBand()*0.05)+", "+d(0)+")"}).on("mouseover",function(a,b){d3.select(this).classed("hover",true);s.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",
function(a,b){d3.select(this).classed("hover",false);s.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mousemove",function(a,b){s.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){s.elementClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()}).on("dblclick",function(a,b){s.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()});f.append("rect").attr("height",
0).attr("width",g.rangeBand()*0.9/a.length);if(n){f.append("text").attr("text-anchor","middle");m.select("text").text(function(a,b){return t(l(a,b))}).watchTransition(z,"discreteBar: bars text").attr("x",g.rangeBand()*0.9/2).attr("y",function(a,b){return l(a,b)<0?d(l(a,b))-d(0)+12:-4})}else m.selectAll("text").remove();m.attr("class",function(a,b){return l(a,b)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(a,b){return a.color||q(a,b)}).style("stroke",function(a,b){return a.color||
q(a,b)}).select("rect").attr("class",p).watchTransition(z,"discreteBar: bars rect").attr("width",g.rangeBand()*0.9/a.length);m.watchTransition(z,"discreteBar: bars").attr("transform",function(a,b){var c=g(k(a,b))+g.rangeBand()*0.05,w=l(a,b)<0?d(0):d(0)-d(l(a,b))<1?d(0)-1:d(l(a,b));return"translate("+c+", "+w+")"}).select("rect").attr("height",function(a,b){return Math.max(Math.abs(d(l(a,b))-d(j&&j[0]||0))||1)});g.copy();D=d.copy()});z.renderEnd("discreteBar immediate");return a}var b={top:0,right:0,
bottom:0,left:0},e=960,i=500,f=Math.floor(Math.random()*1E4),h,g=d3.scale.ordinal(),d=d3.scale.linear(),k=function(a){return a.x},l=function(a){return a.y},u=[0],q=c.utils.defaultColor(),n=false,t=d3.format(",.2f"),o,j,C,E,s=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),p="discreteBar",v=250,D,z=c.utils.renderWatch(s,v);a.dispatch=s;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},
set:function(a){e=a}},height:{get:function(){return i},set:function(a){i=a}},forceY:{get:function(){return u},set:function(a){u=a}},showValues:{get:function(){return n},set:function(a){n=a}},x:{get:function(){return k},set:function(a){k=a}},y:{get:function(){return l},set:function(a){l=a}},xScale:{get:function(){return g},set:function(a){g=a}},yScale:{get:function(){return d},set:function(a){d=a}},xDomain:{get:function(){return o},set:function(a){o=a}},yDomain:{get:function(){return j},set:function(a){j=
a}},xRange:{get:function(){return C},set:function(a){C=a}},yRange:{get:function(){return E},set:function(a){E=a}},valueFormat:{get:function(){return t},set:function(a){t=a}},id:{get:function(){return f},set:function(a){f=a}},rectClass:{get:function(){return p},set:function(a){p=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return q},
set:function(a){q=c.utils.getColor(a)}},duration:{get:function(){return v},set:function(a){v=a;z.reset(v)}}});c.utils.initOptions(a);return a};c.models.discreteBarChart=function(){function a(p){s.reset();s.models(b);l&&s.models(e);u&&s.models(i);p.each(function(p){var j=d3.select(this);c.utils.initSVG(j);var f=c.utils.availableWidth(g,j,h),k=c.utils.availableHeight(d,j,h);a.update=function(){C.beforeUpdate();j.transition().duration(E).call(a)};a.container=this;if(!p||!p.length||!p.filter(function(a){return a.values.length}).length){c.utils.noData(a,
j);return a}j.selectAll(".nv-noData").remove();t=b.xScale();o=b.yScale().clamp(true);var s=j.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([p]),m=s.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),x=m.append("defs"),s=s.select("g");m.append("g").attr("class","nv-x nv-axis");m.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");m.append("g").attr("class","nv-barsWrap");s.attr("transform","translate("+h.left+","+h.top+
")");q&&s.select(".nv-y.nv-axis").attr("transform","translate("+f+",0)");b.width(f).height(k);s.select(".nv-barsWrap").datum(p.filter(function(a){return!a.disabled})).transition().call(b);x.append("clipPath").attr("id","nv-x-label-clip-"+b.id()).append("rect");s.select("#nv-x-label-clip-"+b.id()+" rect").attr("width",t.rangeBand()*(n?2:1)).attr("height",16).attr("x",-t.rangeBand()/(n?1:2));if(l){e.scale(t)._ticks(c.utils.calcTicksX(f/100,p)).tickSize(-k,0);s.select(".nv-x.nv-axis").attr("transform",
"translate(0,"+(o.range()[0]+(b.showValues()&&o.domain()[0]<0?16:0))+")");s.select(".nv-x.nv-axis").call(e);m=s.select(".nv-x.nv-axis").selectAll("g");n&&m.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(c%2==0?"5":"17")+")"})}if(u){i.scale(o)._ticks(c.utils.calcTicksY(k/36,p)).tickSize(-f,0);s.select(".nv-y.nv-axis").call(i)}s.select(".nv-zeroLine line").attr("x1",0).attr("x2",f).attr("y1",o(0)).attr("y2",o(0))});s.renderEnd("discreteBar chart immediate");return a}var b=
c.models.discreteBar(),e=c.models.axis(),i=c.models.axis(),f=c.models.tooltip(),h={top:15,right:10,bottom:50,left:60},g=null,d=null,k=c.utils.getColor(),l=true,u=true,q=false,n=false,t,o,j=null,C=d3.dispatch("beforeUpdate","renderEnd"),E=250;e.orient("bottom").showMaxMin(false).tickFormat(function(a){return a});i.orient(q?"right":"left").tickFormat(d3.format(",.1f"));f.duration(0).headerEnabled(false).valueFormatter(function(a,b){return i.tickFormat()(a,b)}).keyFormatter(function(a,b){return e.tickFormat()(a,
b)});var s=c.utils.renderWatch(C,E);b.dispatch.on("elementMouseover.tooltip",function(b){b.series={key:a.x()(b.data),value:a.y()(b.data),color:b.color};f.data(b).hidden(false)});b.dispatch.on("elementMouseout.tooltip",function(){f.hidden(true)});b.dispatch.on("elementMousemove.tooltip",function(){f.position({top:d3.event.pageY,left:d3.event.pageX})()});a.dispatch=C;a.discretebar=b;a.xAxis=e;a.yAxis=i;a.tooltip=f;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return g},
set:function(a){g=a}},height:{get:function(){return d},set:function(a){d=a}},staggerLabels:{get:function(){return n},set:function(a){n=a}},showXAxis:{get:function(){return l},set:function(a){l=a}},showYAxis:{get:function(){return u},set:function(a){u=a}},noData:{get:function(){return j},set:function(a){j=a}},tooltips:{get:function(){return f.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");f.enabled(!!a)}},tooltipContent:{get:function(){return f.contentGenerator()},
set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");f.contentGenerator(a)}},margin:{get:function(){return h},set:function(a){h.top=a.top!==void 0?a.top:h.top;h.right=a.right!==void 0?a.right:h.right;h.bottom=a.bottom!==void 0?a.bottom:h.bottom;h.left=a.left!==void 0?a.left:h.left}},duration:{get:function(){return E},set:function(a){E=a;s.reset(E);b.duration(E);e.duration(E);i.duration(E)}},color:{get:function(){return k},set:function(a){k=c.utils.getColor(a);
b.color(k)}},rightAlignYAxis:{get:function(){return q},set:function(a){q=a;i.orient(a?"right":"left")}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.distribution=function(){function a(e){q.reset();e.each(function(a){var e=f=="x"?"y":"x",j=d3.select(this);c.utils.initSVG(j);u=u||d;a=j.selectAll("g.nv-distribution").data([a]);a.enter().append("g").attr("class","nvd3 nv-distribution").append("g");j=a.select("g");a.attr("transform","translate("+b.left+","+b.top+")");a=j.selectAll("g.nv-dist").data(function(a){return a},
function(a){return a.key});a.enter().append("g");a.attr("class",function(a,b){return"nv-dist nv-series-"+b}).style("stroke",function(a,b){return g(a,b)});j=a.selectAll("line.nv-dist"+f).data(function(a){return a.values});j.enter().append("line").attr(f+"1",function(a,b){return u(h(a,b))}).attr(f+"2",function(a,b){return u(h(a,b))});q.transition(a.exit().selectAll("line.nv-dist"+f),"dist exit").attr(f+"1",function(a,b){return d(h(a,b))}).attr(f+"2",function(a,b){return d(h(a,b))}).style("stroke-opacity",
0).remove();j.attr("class",function(a,b){return"nv-dist"+f+" nv-dist"+f+"-"+b}).attr(e+"1",0).attr(e+"2",i);q.transition(j,"dist").attr(f+"1",function(a,b){return d(h(a,b))}).attr(f+"2",function(a,b){return d(h(a,b))});u=d.copy()});q.renderEnd("distribution immediate");return a}var b={top:0,right:0,bottom:0,left:0},e=400,i=8,f="x",h=function(a){return a[f]},g=c.utils.defaultColor(),d=d3.scale.linear(),k=250,l=d3.dispatch("renderEnd"),u,q=c.utils.renderWatch(l,k);a.options=c.utils.optionsFunc.bind(a);
a.dispatch=l;a.margin=function(c){if(!arguments.length)return b;b.top=typeof c.top!="undefined"?c.top:b.top;b.right=typeof c.right!="undefined"?c.right:b.right;b.bottom=typeof c.bottom!="undefined"?c.bottom:b.bottom;b.left=typeof c.left!="undefined"?c.left:b.left;return a};a.width=function(b){if(!arguments.length)return e;e=b;return a};a.axis=function(b){if(!arguments.length)return f;f=b;return a};a.size=function(b){if(!arguments.length)return i;i=b;return a};a.getData=function(b){if(!arguments.length)return h;
h=d3.functor(b);return a};a.scale=function(b){if(!arguments.length)return d;d=b;return a};a.color=function(b){if(!arguments.length)return g;g=c.utils.getColor(b);return a};a.duration=function(b){if(!arguments.length)return k;k=b;q.reset(k);return a};return a};c.models.furiousLegend=function(){function a(j){function C(a,b){if(o!="furious")return"#000";if(n)return a.disengaged?h(a,b):"#fff";if(!n)return a.disabled?h(a,b):"#fff"}function E(a,b){return n&&o=="furious"?a.disengaged?"#fff":h(a,b):a.disabled?
"#fff":h(a,b)}j.each(function(a){var j=e-b.left-b.right,v=d3.select(this);c.utils.initSVG(v);v=v.selectAll("g.nv-legend").data([a]);v.enter().append("g").attr("class","nvd3 nv-legend").append("g");a=v.select("g");v.attr("transform","translate("+b.left+","+b.top+")");var D=a.selectAll(".nv-series").data(function(a){return o!="furious"?a:a.filter(function(a){return n?true:!a.disengaged})}),v=D.enter().append("g").attr("class","nv-series"),z;if(o=="classic"){v.append("circle").style("stroke-width",2).attr("class",
"nv-legend-symbol").attr("r",5);z=D.select("circle")}else if(o=="furious"){v.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3);z=D.select("rect");v.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)");D.select(".nv-check-box").each(function(a,
b){d3.select(this).selectAll("path").attr("stroke",C(a,b))})}v.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var y=D.select("text.nv-legend-text");D.on("mouseover",function(a,b){t.legendMouseover(a,b)}).on("mouseout",function(a,b){t.legendMouseout(a,b)}).on("click",function(a,b){t.legendClick(a,b);var c=D.data();if(u){if(o=="classic")if(q){c.forEach(function(a){a.disabled=true});a.disabled=false}else{a.disabled=!a.disabled;c.every(function(a){return a.disabled})&&
c.forEach(function(a){a.disabled=false})}else if(o=="furious")if(n){a.disengaged=!a.disengaged;a.userDisabled=a.userDisabled==void 0?!!a.disabled:a.userDisabled;a.disabled=a.disengaged||a.userDisabled}else if(!n){a.disabled=!a.disabled;a.userDisabled=a.disabled;c.filter(function(a){return!a.disengaged}).every(function(a){return a.userDisabled})&&c.forEach(function(a){a.disabled=a.userDisabled=false})}t.stateChange({disabled:c.map(function(a){return!!a.disabled}),disengaged:c.map(function(a){return!!a.disengaged})})}}).on("dblclick",
function(a,b){if(!(o=="furious"&&n)){t.legendDblclick(a,b);if(u){var c=D.data();c.forEach(function(a){a.disabled=true;if(o=="furious")a.userDisabled=a.disabled});a.disabled=false;if(o=="furious")a.userDisabled=a.disabled;t.stateChange({disabled:c.map(function(a){return!!a.disabled})})}}});D.classed("nv-disabled",function(a){return a.userDisabled});D.exit().remove();y.attr("fill",C).text(f);var H;switch(o){case "furious":H=23;break;case "classic":H=20}if(d){var m=[];D.each(function(a){var b;if(f(a).length>
g){b=f(a).substring(0,g);b=d3.select(this).select("text").text(b+"...");d3.select(this).append("svg:title").text(f(a))}else b=d3.select(this).select("text");var w;try{w=b.node().getComputedTextLength();if(w<=0)throw Error();}catch(e){w=c.utils.calcApproxTextWidth(b)}m.push(w+k)});for(var x=0,A=0,v=[];A<j&&x<m.length;){v[x]=m[x];A=A+m[x++]}for(x===0&&(x=1);A>j&&x>1;){v=[];x--;for(A=0;A<m.length;A++)if(m[A]>(v[A%x]||0))v[A%x]=m[A];A=v.reduce(function(a,b){return a+b})}for(var F=[],r=j=0;j<x;j++){F[j]=
r;r=r+v[j]}D.attr("transform",function(a,b){return"translate("+F[b%x]+","+(5+Math.floor(b/x)*H)+")"});l?a.attr("transform","translate("+(e-b.right-A)+","+b.top+")"):a.attr("transform","translate(0,"+b.top+")");i=b.top+b.bottom+Math.ceil(m.length/x)*H}else{var J=5,w=5,I=0,L;D.attr("transform",function(){var a=d3.select(this).select("text").node().getComputedTextLength()+k;L=w;if(e<b.left+b.right+L+a){w=L=5;J=J+H}w=w+a;w>I&&(I=w);return"translate("+L+","+J+")"});a.attr("transform","translate("+(e-b.right-
I)+","+b.top+")");i=b.top+b.bottom+J+15}o=="furious"&&z.attr("width",function(a,b){return y[0][b].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15);z.style("fill",E).style("stroke",function(a,b){return a.color||h(a,b)})});return a}var b={top:5,right:0,bottom:5,left:0},e=400,i=20,f=function(a){return a.key},h=c.utils.getColor(),g=20,d=true,k=28,l=true,u=true,q=false,n=false,t=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),o="classic";
a.dispatch=t;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return i},set:function(a){i=a}},key:{get:function(){return f},set:function(a){f=a}},align:{get:function(){return d},set:function(a){d=a}},rightAlign:{get:function(){return l},set:function(a){l=a}},maxKeyLength:{get:function(){return g},set:function(a){g=a}},padding:{get:function(){return k},set:function(a){k=a}},updateState:{get:function(){return u},
set:function(a){u=a}},radioButtonMode:{get:function(){return q},set:function(a){q=a}},expanded:{get:function(){return n},set:function(a){n=a}},vers:{get:function(){return o},set:function(a){o=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return h},set:function(a){h=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};
c.models.historicalBar=function(){function a(z){z.each(function(a){D.reset();h=d3.select(this);var z=c.utils.availableWidth(e,h,b),m=c.utils.availableHeight(i,h,b);c.utils.initSVG(h);g.domain(j||d3.extent(a[0].values.map(k).concat(u)));n?g.range(E||[z*0.5/a[0].values.length,z*(a[0].values.length-0.5)/a[0].values.length]):g.range(E||[0,z]);d.domain(C||d3.extent(a[0].values.map(l).concat(q))).range(s||[m,0]);g.domain()[0]===g.domain()[1]&&(g.domain()[0]?g.domain([g.domain()[0]-g.domain()[0]*0.01,g.domain()[1]+
g.domain()[1]*0.01]):g.domain([-1,1]));d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+d.domain()[0]*0.01,d.domain()[1]-d.domain()[1]*0.01]):d.domain([-1,1]));var x=h.selectAll("g.nv-wrap.nv-historicalBar-"+f).data([a[0].values]),A=x.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+f),F=A.append("defs"),A=A.append("g"),r=x.select("g");A.append("g").attr("class","nv-bars");x.attr("transform","translate("+b.left+","+b.top+")");h.on("click",function(a,b){p.chartClick({data:a,
index:b,pos:d3.event,id:f})});F.append("clipPath").attr("id","nv-chart-clip-path-"+f).append("rect");x.select("#nv-chart-clip-path-"+f+" rect").attr("width",z).attr("height",m);r.attr("clip-path",t?"url(#nv-chart-clip-path-"+f+")":"");m=x.select(".nv-bars").selectAll(".nv-bar").data(function(a){return a},function(a,b){return k(a,b)});m.exit().remove();m.enter().append("rect").attr("x",0).attr("y",function(a,b){return c.utils.NaNtoZero(d(Math.max(0,l(a,b))))}).attr("height",function(a,b){return c.utils.NaNtoZero(Math.abs(d(l(a,
b))-d(0)))}).attr("transform",function(b,c){return"translate("+(g(k(b,c))-z/a[0].values.length*0.45)+",0)"}).on("mouseover",function(a,b){if(v){d3.select(this).classed("hover",true);p.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")})}}).on("mouseout",function(a,b){if(v){d3.select(this).classed("hover",false);p.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}}).on("mousemove",function(a,b){v&&p.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",
function(a,b){if(v){p.elementClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()}}).on("dblclick",function(a,b){if(v){p.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()}});m.attr("fill",function(a,b){return o(a,b)}).attr("class",function(a,b,c){return(l(a,b)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+c+"-"+b}).watchTransition(D,"bars").attr("transform",function(b,c){return"translate("+(g(k(b,c))-z/a[0].values.length*
0.45)+",0)"}).attr("width",z/a[0].values.length*0.9);m.watchTransition(D,"bars").attr("y",function(a,b){var e=l(a,b)<0?d(0):d(0)-d(l(a,b))<1?d(0)-1:d(l(a,b));return c.utils.NaNtoZero(e)}).attr("height",function(a,b){return c.utils.NaNtoZero(Math.max(Math.abs(d(l(a,b))-d(0)),1))})});D.renderEnd("historicalBar immediate");return a}var b={top:0,right:0,bottom:0,left:0},e=null,i=null,f=Math.floor(Math.random()*1E4),h=null,g=d3.scale.linear(),d=d3.scale.linear(),k=function(a){return a.x},l=function(a){return a.y},
u=[],q=[0],n=false,t=true,o=c.utils.defaultColor(),j,C,E,s,p=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),v=true,D=c.utils.renderWatch(p,0);a.highlightPoint=function(a,b){h.select(".nv-bars .nv-bar-0-"+a).classed("hover",b)};a.clearHighlights=function(){h.select(".nv-bars .nv-bar.hover").classed("hover",false)};a.dispatch=p;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},
set:function(a){e=a}},height:{get:function(){return i},set:function(a){i=a}},forceX:{get:function(){return u},set:function(a){u=a}},forceY:{get:function(){return q},set:function(a){q=a}},padData:{get:function(){return n},set:function(a){n=a}},x:{get:function(){return k},set:function(a){k=a}},y:{get:function(){return l},set:function(a){l=a}},xScale:{get:function(){return g},set:function(a){g=a}},yScale:{get:function(){return d},set:function(a){d=a}},xDomain:{get:function(){return j},set:function(a){j=
a}},yDomain:{get:function(){return C},set:function(a){C=a}},xRange:{get:function(){return E},set:function(a){E=a}},yRange:{get:function(){return s},set:function(a){s=a}},clipEdge:{get:function(){return t},set:function(a){t=a}},id:{get:function(){return f},set:function(a){f=a}},interactive:{get:function(){return v},set:function(a){v=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;
b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return o},set:function(a){o=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.historicalBarChart=function(a){function b(a){a.each(function(d){H.reset();H.models(e);t&&H.models(i);o&&H.models(f);var A=d3.select(this),F=this;c.utils.initSVG(A);var r=c.utils.availableWidth(u,A,k),J=c.utils.availableHeight(q,A,k);b.update=function(){A.transition().duration(y).call(b)};b.container=this;p.disabled=d.map(function(a){return!!a.disabled});
if(!v){var w;v={};for(w in p)v[w]=p[w]instanceof Array?p[w].slice(0):p[w]}if(!d||!d.length||!d.filter(function(a){return a.values.length}).length){c.utils.noData(b,A);return b}A.selectAll(".nv-noData").remove();E=e.xScale();s=e.yScale();var I=A.selectAll("g.nv-wrap.nv-historicalBarChart").data([d]);w=I.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g");var D=I.select("g");w.append("g").attr("class","nv-x nv-axis");w.append("g").attr("class","nv-y nv-axis");w.append("g").attr("class",
"nv-barsWrap");w.append("g").attr("class","nv-legendWrap");w.append("g").attr("class","nv-interactive");if(n){h.width(r);D.select(".nv-legendWrap").datum(d).call(h);if(k.top!=h.height()){k.top=h.height();J=c.utils.availableHeight(q,A,k)}I.select(".nv-legendWrap").attr("transform","translate(0,"+-k.top+")")}I.attr("transform","translate("+k.left+","+k.top+")");j&&D.select(".nv-y.nv-axis").attr("transform","translate("+r+",0)");if(C){g.width(r).height(J).margin({left:k.left,top:k.top}).svgContainer(A).xScale(E);
I.select(".nv-interactive").call(g)}e.width(r).height(J).color(d.map(function(a,b){return a.color||l(a,b)}).filter(function(a,b){return!d[b].disabled}));D.select(".nv-barsWrap").datum(d.filter(function(a){return!a.disabled})).transition().call(e);if(t){i.scale(E)._ticks(c.utils.calcTicksX(r/100,d)).tickSize(-J,0);D.select(".nv-x.nv-axis").attr("transform","translate(0,"+s.range()[0]+")");D.select(".nv-x.nv-axis").transition().call(i)}if(o){f.scale(s)._ticks(c.utils.calcTicksY(J/36,d)).tickSize(-r,
0);D.select(".nv-y.nv-axis").transition().call(f)}g.dispatch.on("elementMousemove",function(a){e.clearHighlights();var w,r,m,j=[];d.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(d){r=c.interactiveBisect(d.values,a.pointXValue,b.x());e.highlightPoint(r,true);var f=d.values[r];if(f!==void 0){w===void 0&&(w=f);m===void 0&&(m=b.xScale()(b.x()(f,r)));j.push({key:d.key,value:b.y()(f,r),color:l(d,d.seriesIndex),data:d.values[r]})}});var p=i.tickFormat()(b.x()(w,r));g.tooltip.position({left:m+
k.left,top:a.mouseY+k.top}).chartContainer(F.parentNode).valueFormatter(function(a){return f.tickFormat()(a)}).data({value:p,index:r,series:j})();g.renderGuideLine(m)});g.dispatch.on("elementMouseout",function(){z.tooltipHide();e.clearHighlights()});h.dispatch.on("legendClick",function(c){c.disabled=!c.disabled;d.filter(function(a){return!a.disabled}).length||d.map(function(a){a.disabled=false;I.selectAll(".nv-series").classed("disabled",false);return a});p.disabled=d.map(function(a){return!!a.disabled});
z.stateChange(p);a.transition().call(b)});h.dispatch.on("legendDblclick",function(a){d.forEach(function(a){a.disabled=true});a.disabled=false;p.disabled=d.map(function(a){return!!a.disabled});z.stateChange(p);b.update()});z.on("changeState",function(a){if(typeof a.disabled!=="undefined"){d.forEach(function(b,c){b.disabled=a.disabled[c]});p.disabled=a.disabled}b.update()})});H.renderEnd("historicalBarChart immediate");return b}var e=a||c.models.historicalBar(),i=c.models.axis(),f=c.models.axis(),h=
c.models.legend(),g=c.interactiveGuideline(),d=c.models.tooltip(),k={top:30,right:90,bottom:50,left:90},l=c.utils.defaultColor(),u=null,q=null,n=false,t=true,o=true,j=false,C=false,E,s,p={},v=null,D=null,z=d3.dispatch("tooltipHide","stateChange","changeState","renderEnd"),y=250;i.orient("bottom").tickPadding(7);f.orient(j?"right":"left");d.duration(0).headerEnabled(false).valueFormatter(function(a,b){return f.tickFormat()(a,b)}).headerFormatter(function(a,b){return i.tickFormat()(a,b)});var H=c.utils.renderWatch(z,
0);e.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:b.x()(a.data),value:b.y()(a.data),color:a.color};d.data(a).hidden(false)});e.dispatch.on("elementMouseout.tooltip",function(){d.hidden(true)});e.dispatch.on("elementMousemove.tooltip",function(){d.position({top:d3.event.pageY,left:d3.event.pageX})()});b.dispatch=z;b.bars=e;b.legend=h;b.xAxis=i;b.yAxis=f;b.interactiveLayer=g;b.tooltip=d;b.options=c.utils.optionsFunc.bind(b);b._options=Object.create({},{width:{get:function(){return u},
set:function(a){u=a}},height:{get:function(){return q},set:function(a){q=a}},showLegend:{get:function(){return n},set:function(a){n=a}},showXAxis:{get:function(){return t},set:function(a){t=a}},showYAxis:{get:function(){return o},set:function(a){o=a}},defaultState:{get:function(){return v},set:function(a){v=a}},noData:{get:function(){return D},set:function(a){D=a}},tooltips:{get:function(){return d.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");d.enabled(!!a)}},
tooltipContent:{get:function(){return d.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");d.contentGenerator(a)}},margin:{get:function(){return k},set:function(a){k.top=a.top!==void 0?a.top:k.top;k.right=a.right!==void 0?a.right:k.right;k.bottom=a.bottom!==void 0?a.bottom:k.bottom;k.left=a.left!==void 0?a.left:k.left}},color:{get:function(){return l},set:function(a){l=c.utils.getColor(a);h.color(l);e.color(l)}},duration:{get:function(){return y},
set:function(a){y=a;H.reset(y);f.duration(y);i.duration(y)}},rightAlignYAxis:{get:function(){return j},set:function(a){j=a;f.orient(a?"right":"left")}},useInteractiveGuideline:{get:function(){return C},set:function(a){C=a;a===true&&b.interactive(false)}}});c.utils.inheritOptions(b,e);c.utils.initOptions(b);return b};c.models.ohlcBarChart=function(){var a=c.models.historicalBarChart(c.models.ohlcBar());a.useInteractiveGuideline(true);a.interactiveLayer.tooltip.contentGenerator(function(b){var c=b.series[0].data;
return'<h3 style="color: #'+(c.open<c.close?"2ca02c":"d62728")+'">'+b.value+"</h3><table><tr><td>open:</td><td>"+a.yAxis.tickFormat()(c.open)+"</td></tr><tr><td>close:</td><td>"+a.yAxis.tickFormat()(c.close)+"</td></tr><tr><td>high</td><td>"+a.yAxis.tickFormat()(c.high)+"</td></tr><tr><td>low:</td><td>"+a.yAxis.tickFormat()(c.low)+"</td></tr></table>"});return a};c.models.candlestickBarChart=function(){var a=c.models.historicalBarChart(c.models.candlestickBar());a.useInteractiveGuideline(true);a.interactiveLayer.tooltip.contentGenerator(function(b){var c=
b.series[0].data;return'<h3 style="color: #'+(c.open<c.close?"2ca02c":"d62728")+'">'+b.value+"</h3><table><tr><td>open:</td><td>"+a.yAxis.tickFormat()(c.open)+"</td></tr><tr><td>close:</td><td>"+a.yAxis.tickFormat()(c.close)+"</td></tr><tr><td>high</td><td>"+a.yAxis.tickFormat()(c.high)+"</td></tr><tr><td>low:</td><td>"+a.yAxis.tickFormat()(c.low)+"</td></tr></table>"});return a};c.models.legend=function(){function a(j){function C(a,b){if(o!="furious")return"#000";if(n)return a.disengaged?"#000":
"#fff";if(!n){if(!a.color)a.color=h(a,b);return a.disabled?a.color:"#fff"}}function E(a,b){return n&&o=="furious"?a.disengaged?"#eee":a.color||h(a,b):a.color||h(a,b)}function s(a){return n&&o=="furious"?1:a.disabled?0:1}j.each(function(a){var j=e-b.left-b.right,h=d3.select(this);c.utils.initSVG(h);var z=h.selectAll("g.nv-legend").data([a]),a=z.enter().append("g").attr("class","nvd3 nv-legend").append("g"),h=z.select("g");z.attr("transform","translate("+b.left+","+b.top+")");var y=h.selectAll(".nv-series").data(function(a){return o!=
"furious"?a:a.filter(function(a){return n?true:!a.disengaged})}),z=y.enter().append("g").attr("class","nv-series"),H,m;switch(o){case "furious":m=23;break;case "classic":m=20}if(o=="classic"){z.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5);H=y.select("circle")}else if(o=="furious"){z.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3);H=y.select(".nv-legend-symbol");z.append("g").attr("class","nv-check-box").property("innerHTML",
'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)");y.select(".nv-check-box").each(function(a,b){d3.select(this).selectAll("path").attr("stroke",C(a,b))})}z.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var x=y.select("text.nv-legend-text");y.on("mouseover",function(a,b){t.legendMouseover(a,
b)}).on("mouseout",function(a,b){t.legendMouseout(a,b)}).on("click",function(a,b){t.legendClick(a,b);var c=y.data();if(u){if(o=="classic")if(q){c.forEach(function(a){a.disabled=true});a.disabled=false}else{a.disabled=!a.disabled;c.every(function(a){return a.disabled})&&c.forEach(function(a){a.disabled=false})}else if(o=="furious")if(n){a.disengaged=!a.disengaged;a.userDisabled=a.userDisabled==void 0?!!a.disabled:a.userDisabled;a.disabled=a.disengaged||a.userDisabled}else if(!n){a.disabled=!a.disabled;
a.userDisabled=a.disabled;c.filter(function(a){return!a.disengaged}).every(function(a){return a.userDisabled})&&c.forEach(function(a){a.disabled=a.userDisabled=false})}t.stateChange({disabled:c.map(function(a){return!!a.disabled}),disengaged:c.map(function(a){return!!a.disengaged})})}}).on("dblclick",function(a,b){if(!(o=="furious"&&n)){t.legendDblclick(a,b);if(u){var c=y.data();c.forEach(function(a){a.disabled=true;if(o=="furious")a.userDisabled=a.disabled});a.disabled=false;if(o=="furious")a.userDisabled=
a.disabled;t.stateChange({disabled:c.map(function(a){return!!a.disabled})})}}});y.classed("nv-disabled",function(a){return a.userDisabled});y.exit().remove();x.attr("fill",C).text(f);var A=0;if(d){var F=[];y.each(function(a){var b;if(f(a).length>g){b=f(a).substring(0,g);b=d3.select(this).select("text").text(b+"...");d3.select(this).append("svg:title").text(f(a))}else b=d3.select(this).select("text");var d;try{d=b.node().getComputedTextLength();if(d<=0)throw Error();}catch(e){d=c.utils.calcApproxTextWidth(b)}F.push(d+
k)});for(var r=0,z=[],A=0;A<j&&r<F.length;){z[r]=F[r];A=A+F[r++]}for(r===0&&(r=1);A>j&&r>1;){z=[];r--;for(var J=0;J<F.length;J++)if(F[J]>(z[J%r]||0))z[J%r]=F[J];A=z.reduce(function(a,b){return a+b})}for(var w=[],J=j=0;j<r;j++){w[j]=J;J=J+z[j]}y.attr("transform",function(a,b){return"translate("+w[b%r]+","+(5+Math.floor(b/r)*m)+")"});l?h.attr("transform","translate("+(e-b.right-A)+","+b.top+")"):h.attr("transform","translate(0,"+b.top+")");i=b.top+b.bottom+Math.ceil(F.length/r)*m}else{var I=5,L=5,B=
0,K;y.attr("transform",function(){var a=d3.select(this).select("text").node().getComputedTextLength()+k;K=L;if(e<b.left+b.right+K+a){L=K=5;I=I+m}L=L+a;L>B&&(B=L);A<K+B&&(A=K+B);return"translate("+K+","+I+")"});h.attr("transform","translate("+(e-b.right-B)+","+b.top+")");i=b.top+b.bottom+I+15}if(o=="furious"){H.attr("width",function(a,b){return x[0][b].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15);a.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill",
"#eee").attr("opacity",0);h.select(".nv-legend-bg").transition().duration(300).attr("x",-m).attr("width",A+m-12).attr("height",i+10).attr("y",-b.top-10).attr("opacity",n?1:0)}H.style("fill",E).style("fill-opacity",s).style("stroke",E)});return a}var b={top:5,right:0,bottom:5,left:0},e=400,i=20,f=function(a){return a.key},h=c.utils.getColor(),g=20,d=true,k=32,l=true,u=true,q=false,n=false,t=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),o="classic";a.dispatch=
t;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return i},set:function(a){i=a}},key:{get:function(){return f},set:function(a){f=a}},align:{get:function(){return d},set:function(a){d=a}},maxKeyLength:{get:function(){return g},set:function(a){g=a}},rightAlign:{get:function(){return l},set:function(a){l=a}},padding:{get:function(){return k},set:function(a){k=a}},updateState:{get:function(){return u},set:function(a){u=
a}},radioButtonMode:{get:function(){return q},set:function(a){q=a}},expanded:{get:function(){return n},set:function(a){n=a}},vers:{get:function(){return o},set:function(a){o=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return h},set:function(a){h=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.line=
function(){function a(D){v.reset();v.models(b);D.each(function(a){h=d3.select(this);var D=c.utils.availableWidth(i,h,e),C=c.utils.availableHeight(f,h,e);c.utils.initSVG(h);t=b.xScale();o=b.yScale();s=s||t;p=p||o;var a=h.selectAll("g.nv-wrap.nv-line").data([a]),m=a.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),x=m.append("defs"),A=m.append("g"),m=a.select("g");A.append("g").attr("class","nv-groups");A.append("g").attr("class","nv-scatterWrap");a.attr("transform","translate("+e.left+","+
e.top+")");b.width(D).height(C);A=a.select(".nv-scatterWrap");A.call(b);x.append("clipPath").attr("id","nv-edge-clip-"+b.id()).append("rect");a.select("#nv-edge-clip-"+b.id()+" rect").attr("width",D).attr("height",C>0?C:0);m.attr("clip-path",n?"url(#nv-edge-clip-"+b.id()+")":"");A.attr("clip-path",n?"url(#nv-edge-clip-"+b.id()+")":"");D=a.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});D.enter().append("g").style("stroke-opacity",1.0E-6).style("stroke-width",
function(a){return a.strokeWidth||g}).style("fill-opacity",1.0E-6);D.exit().remove();D.attr("class",function(a,b){return(a.classed||"")+" nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return d(a,b)}).style("stroke",function(a,b){return d(a,b)});D.watchTransition(v,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(a){return a.fillOpacity||0.5});C=D.selectAll("path.nv-area").data(function(a){return q(a)?[a]:[]});C.enter().append("path").attr("class",
"nv-area").attr("d",function(a){return d3.svg.area().interpolate(j).defined(u).x(function(a,b){return c.utils.NaNtoZero(s(k(a,b)))}).y0(function(a,b){return c.utils.NaNtoZero(p(l(a,b)))}).y1(function(){return p(o.domain()[0]<=0?o.domain()[1]>=0?0:o.domain()[1]:o.domain()[0])}).apply(this,[a.values])});D.exit().selectAll("path.nv-area").remove();C.watchTransition(v,"line: areaPaths").attr("d",function(a){return d3.svg.area().interpolate(j).defined(u).x(function(a,b){return c.utils.NaNtoZero(t(k(a,
b)))}).y0(function(a,b){return c.utils.NaNtoZero(o(l(a,b)))}).y1(function(){return o(o.domain()[0]<=0?o.domain()[1]>=0?0:o.domain()[1]:o.domain()[0])}).apply(this,[a.values])});D=D.selectAll("path.nv-line").data(function(a){return[a.values]});D.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(j).defined(u).x(function(a,b){return c.utils.NaNtoZero(s(k(a,b)))}).y(function(a,b){return c.utils.NaNtoZero(p(l(a,b)))}));D.watchTransition(v,"line: linePaths").attr("d",d3.svg.line().interpolate(j).defined(u).x(function(a,
b){return c.utils.NaNtoZero(t(k(a,b)))}).y(function(a,b){return c.utils.NaNtoZero(o(l(a,b)))}));s=t.copy();p=o.copy()});v.renderEnd("line immediate");return a}var b=c.models.scatter(),e={top:0,right:0,bottom:0,left:0},i=960,f=500,h=null,g=1.5,d=c.utils.defaultColor(),k=function(a){return a.x},l=function(a){return a.y},u=function(a,b){return!isNaN(l(a,b))&&l(a,b)!==null},q=function(a){return a.area},n=false,t,o,j="linear",C=250,E=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");
b.pointSize(16).pointDomain([16,256]);var s,p,v=c.utils.renderWatch(E,C);a.dispatch=E;a.scatter=b;b.dispatch.on("elementClick",function(){E.elementClick.apply(this,arguments)});b.dispatch.on("elementMouseover",function(){E.elementMouseover.apply(this,arguments)});b.dispatch.on("elementMouseout",function(){E.elementMouseout.apply(this,arguments)});a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return i},set:function(a){i=a}},height:{get:function(){return f},
set:function(a){f=a}},defined:{get:function(){return u},set:function(a){u=a}},interpolate:{get:function(){return j},set:function(a){j=a}},clipEdge:{get:function(){return n},set:function(a){n=a}},margin:{get:function(){return e},set:function(a){e.top=a.top!==void 0?a.top:e.top;e.right=a.right!==void 0?a.right:e.right;e.bottom=a.bottom!==void 0?a.bottom:e.bottom;e.left=a.left!==void 0?a.left:e.left}},duration:{get:function(){return C},set:function(a){C=a;v.reset(C);b.duration(C)}},isArea:{get:function(){return q},
set:function(a){q=d3.functor(a)}},x:{get:function(){return k},set:function(a){k=a;b.x(a)}},y:{get:function(){return l},set:function(a){l=a;b.y(a)}},color:{get:function(){return d},set:function(a){d=c.utils.getColor(a);b.color(d)}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.lineChart=function(){function a(g){y.reset();y.models(b);n&&y.models(e);t&&y.models(i);g.each(function(g){var x=d3.select(this),r=this;c.utils.initSVG(x);var v=c.utils.availableWidth(l,x,d),w=c.utils.availableHeight(u,
x,d);a.update=function(){z===0?x.call(a):x.transition().duration(z).call(a)};a.container=this;s.setter(m(g),a.update).getter(H(g)).update();s.disabled=g.map(function(a){return!!a.disabled});if(!p){var I;p={};for(I in s)p[I]=s[I]instanceof Array?s[I].slice(0):s[I]}if(!g||!g.length||!g.filter(function(a){return a.values.length}).length){c.utils.noData(a,x);return a}x.selectAll(".nv-noData").remove();C=b.xScale();E=b.yScale();I=x.selectAll("g.nv-wrap.nv-lineChart").data([g]);var y=I.enter().append("g").attr("class",
"nvd3 nv-wrap nv-lineChart").append("g"),B=I.select("g");y.append("rect").style("opacity",0);y.append("g").attr("class","nv-x nv-axis");y.append("g").attr("class","nv-y nv-axis");y.append("g").attr("class","nv-linesWrap");y.append("g").attr("class","nv-legendWrap");y.append("g").attr("class","nv-interactive");B.select("rect").attr("width",v).attr("height",w>0?w:0);if(q){f.width(v);B.select(".nv-legendWrap").datum(g).call(f);if(d.top!=f.height()){d.top=f.height();w=c.utils.availableHeight(u,x,d)}I.select(".nv-legendWrap").attr("transform",
"translate(0,"+-d.top+")")}I.attr("transform","translate("+d.left+","+d.top+")");o&&B.select(".nv-y.nv-axis").attr("transform","translate("+v+",0)");if(j){h.width(v).height(w).margin({left:d.left,top:d.top}).svgContainer(x).xScale(C);I.select(".nv-interactive").call(h)}b.width(v).height(w).color(g.map(function(a,b){return a.color||k(a,b)}).filter(function(a,b){return!g[b].disabled}));B.select(".nv-linesWrap").datum(g.filter(function(a){return!a.disabled})).call(b);if(n){e.scale(C)._ticks(c.utils.calcTicksX(v/
100,g)).tickSize(-w,0);B.select(".nv-x.nv-axis").attr("transform","translate(0,"+E.range()[0]+")");B.select(".nv-x.nv-axis").call(e)}if(t){i.scale(E)._ticks(c.utils.calcTicksY(w/36,g)).tickSize(-v,0);B.select(".nv-y.nv-axis").call(i)}f.dispatch.on("stateChange",function(b){for(var c in b)s[c]=b[c];D.stateChange(s);a.update()});h.dispatch.on("elementMousemove",function(w){b.clearHighlights();var f,j,m,p=[];g.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(d,e){j=c.interactiveBisect(d.values,
w.pointXValue,a.x());var r=d.values[j],h=a.y()(r,j);h!=null&&b.highlightPoint(e,j,true);if(r!==void 0){f===void 0&&(f=r);m===void 0&&(m=a.xScale()(a.x()(r,j)));p.push({key:d.key,value:h,color:k(d,d.seriesIndex)})}});if(p.length>2){var B=a.yScale().invert(w.mouseY),o=0.03*Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]),B=c.nearestValueIndex(p.map(function(a){return a.value}),B,o);if(B!==null)p[B].highlight=true}B=e.tickFormat()(a.x()(f,j));h.tooltip.position({left:w.mouseX+d.left,top:w.mouseY+
d.top}).chartContainer(r.parentNode).valueFormatter(function(a){return a==null?"N/A":i.tickFormat()(a)}).data({value:B,index:j,series:p})();h.renderGuideLine(m)});h.dispatch.on("elementClick",function(d){var e,w=[];g.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(b){var r=c.interactiveBisect(b.values,d.pointXValue,a.x()),f=b.values[r];if(typeof f!=="undefined"){typeof e==="undefined"&&(e=a.xScale()(a.x()(f,r)));var j=a.yScale()(a.y()(f,r));w.push({point:f,pointIndex:r,pos:[e,
j],seriesIndex:b.seriesIndex,series:b})}});b.dispatch.elementClick(w)});h.dispatch.on("elementMouseout",function(){b.clearHighlights()});D.on("changeState",function(b){if(typeof b.disabled!=="undefined"&&g.length===b.disabled.length){g.forEach(function(a,c){a.disabled=b.disabled[c]});s.disabled=b.disabled}a.update()})});y.renderEnd("lineChart immediate");return a}var b=c.models.line(),e=c.models.axis(),i=c.models.axis(),f=c.models.legend(),h=c.interactiveGuideline(),g=c.models.tooltip(),d={top:30,
right:20,bottom:50,left:60},k=c.utils.defaultColor(),l=null,u=null,q=true,n=true,t=true,o=false,j=false,C,E,s=c.utils.state(),p=null,v=null,D=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),z=250;e.orient("bottom").tickPadding(7);i.orient(o?"right":"left");g.valueFormatter(function(a,b){return i.tickFormat()(a,b)}).headerFormatter(function(a,b){return e.tickFormat()(a,b)});var y=c.utils.renderWatch(D,z),H=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},
m=function(a){return function(b){b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};b.dispatch.on("elementMouseover.tooltip",function(a){g.data(a).position(a.pos).hidden(false)});b.dispatch.on("elementMouseout.tooltip",function(){g.hidden(true)});a.dispatch=D;a.lines=b;a.legend=f;a.xAxis=e;a.yAxis=i;a.interactiveLayer=h;a.tooltip=g;a.dispatch=D;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return u},
set:function(a){u=a}},showLegend:{get:function(){return q},set:function(a){q=a}},showXAxis:{get:function(){return n},set:function(a){n=a}},showYAxis:{get:function(){return t},set:function(a){t=a}},defaultState:{get:function(){return p},set:function(a){p=a}},noData:{get:function(){return v},set:function(a){v=a}},tooltips:{get:function(){return g.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");g.enabled(!!a)}},tooltipContent:{get:function(){return g.contentGenerator()},
set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");g.contentGenerator(a)}},margin:{get:function(){return d},set:function(a){d.top=a.top!==void 0?a.top:d.top;d.right=a.right!==void 0?a.right:d.right;d.bottom=a.bottom!==void 0?a.bottom:d.bottom;d.left=a.left!==void 0?a.left:d.left}},duration:{get:function(){return z},set:function(a){z=a;y.reset(z);b.duration(z);e.duration(z);i.duration(z)}},color:{get:function(){return k},set:function(a){k=c.utils.getColor(a);
f.color(k);b.color(k)}},rightAlignYAxis:{get:function(){return o},set:function(a){o=a;i.orient(o?"right":"left")}},useInteractiveGuideline:{get:function(){return j},set:function(a){if(j=a){b.interactive(false);b.useVoronoi(false)}}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.linePlusBarChart=function(){function a(B){B.each(function(B){function t(){n.empty()||n.extent(A);ga.data([n.empty()?r.domain():A]).each(function(a){var b=r(a[0])-r.range()[0],c=r.range()[1]-r(a[1]);
d3.select(this).select(".left").attr("width",b<0?0:b);d3.select(this).select(".right").attr("x",r(a[1])).attr("width",c<0?0:c)})}function R(){A=n.empty()?null:n.extent();x=n.empty()?r.domain():n.extent();K.brush({extent:x,brush:n});t();i.width(Q).height(T).color(B.map(function(a,b){return a.color||v(a,b)}).filter(function(a,b){return!B[b].disabled&&B[b].bar}));b.width(Q).height(T).color(B.map(function(a,b){return a.color||v(a,b)}).filter(function(a,b){return!B[b].disabled&&!B[b].bar}));var a=X.select(".nv-focus .nv-barsWrap").datum(!da.length?
[{values:[]}]:da.map(function(a){return{key:a.key,values:a.values.filter(function(a,b){return i.x()(a,b)>=x[0]&&i.x()(a,b)<=x[1]})}})),e=X.select(".nv-focus .nv-linesWrap").datum(V(fa)?[{values:[]}]:fa.filter(function(a){return!a.disabled}).map(function(a){return{area:a.area,fillOpacity:a.fillOpacity,key:a.key,values:a.values.filter(function(a,c){return b.x()(a,c)>=x[0]&&b.x()(a,c)<=x[1]})}}));F=da.length?i.xScale():b.xScale();h.scale(F)._ticks(c.utils.calcTicksX(Q/100,B)).tickSize(-T,0);h.domain([Math.ceil(x[0]),
Math.floor(x[1])]);X.select(".nv-x.nv-axis").transition().duration(G).call(h);a.transition().duration(G).call(i);e.transition().duration(G).call(b);X.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+J.range()[0]+")");d.scale(J)._ticks(c.utils.calcTicksY(T/36,B)).tickSize(-Q,0);k.scale(w)._ticks(c.utils.calcTicksY(T/36,B)).tickSize(da.length?0:-Q,0);X.select(".nv-focus .nv-y1.nv-axis").style("opacity",da.length?1:0);X.select(".nv-focus .nv-y2.nv-axis").style("opacity",fa.length&&!V(fa)?
1:0).attr("transform","translate("+F.range()[1]+",0)");X.select(".nv-focus .nv-y1.nv-axis").transition().duration(G).call(d);X.select(".nv-focus .nv-y2.nv-axis").transition().duration(G).call(k)}var $=d3.select(this);c.utils.initSVG($);var Q=c.utils.availableWidth(C,$,o),T=c.utils.availableHeight(E,$,o)-(z?m:0),ca=m-j.top-j.bottom;a.update=function(){$.transition().duration(G).call(a)};a.container=this;O.setter(P(B),a.update).getter(N(B)).update();O.disabled=B.map(function(a){return!!a.disabled});
if(!M){var Y;M={};for(Y in O)M[Y]=O[Y]instanceof Array?O[Y].slice(0):O[Y]}if(!B||!B.length||!B.filter(function(a){return a.values.length}).length){c.utils.noData(a,$);return a}$.selectAll(".nv-noData").remove();var da=B.filter(function(a){return!a.disabled&&a.bar}),fa=B.filter(function(a){return!a.bar});F=i.xScale();r=g.scale();J=i.yScale();w=b.yScale();I=f.yScale();L=e.yScale();Y=B.filter(function(a){return!a.disabled&&a.bar}).map(function(a){return a.values.map(function(a,b){return{x:s(a,b),y:p(a,
b)}})});var aa=B.filter(function(a){return!a.disabled&&!a.bar}).map(function(a){return a.values.map(function(a,b){return{x:s(a,b),y:p(a,b)}})});F.range([0,Q]);r.domain(d3.extent(d3.merge(Y.concat(aa)),function(a){return a.x})).range([0,Q]);Y=$.selectAll("g.nv-wrap.nv-linePlusBar").data([B]);var aa=Y.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),X=Y.select("g");aa.append("g").attr("class","nv-legendWrap");var ea=aa.append("g").attr("class","nv-focus");ea.append("g").attr("class",
"nv-x nv-axis");ea.append("g").attr("class","nv-y1 nv-axis");ea.append("g").attr("class","nv-y2 nv-axis");ea.append("g").attr("class","nv-barsWrap");ea.append("g").attr("class","nv-linesWrap");aa=aa.append("g").attr("class","nv-context");aa.append("g").attr("class","nv-x nv-axis");aa.append("g").attr("class","nv-y1 nv-axis");aa.append("g").attr("class","nv-y2 nv-axis");aa.append("g").attr("class","nv-barsWrap");aa.append("g").attr("class","nv-linesWrap");aa.append("g").attr("class","nv-brushBackground");
aa.append("g").attr("class","nv-x nv-brush");if(D){aa=q.align()?Q/2:Q;ea=q.align()?aa:0;q.width(aa);X.select(".nv-legendWrap").datum(B.map(function(a){a.originalKey=a.originalKey===void 0?a.key:a.originalKey;a.key=a.originalKey+(a.bar?S:ba);return a})).call(q);if(o.top!=q.height()){o.top=q.height();T=c.utils.availableHeight(E,$,o)-m}X.select(".nv-legendWrap").attr("transform","translate("+ea+","+-o.top+")")}Y.attr("transform","translate("+o.left+","+o.top+")");X.select(".nv-context").style("display",
z?"initial":"none");f.width(Q).height(ca).color(B.map(function(a,b){return a.color||v(a,b)}).filter(function(a,b){return!B[b].disabled&&B[b].bar}));e.width(Q).height(ca).color(B.map(function(a,b){return a.color||v(a,b)}).filter(function(a,b){return!B[b].disabled&&!B[b].bar}));Y=X.select(".nv-context .nv-barsWrap").datum(da.length?da:[{values:[]}]);aa=X.select(".nv-context .nv-linesWrap").datum(V(fa)?[{values:[]}]:fa.filter(function(a){return!a.disabled}));X.select(".nv-context").attr("transform",
"translate(0,"+(T+o.bottom+j.top)+")");Y.transition().call(f);aa.transition().call(e);if(H){g._ticks(c.utils.calcTicksX(Q/100,B)).tickSize(-ca,0);X.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+I.range()[0]+")");X.select(".nv-context .nv-x.nv-axis").transition().call(g)}if(y){l.scale(I)._ticks(ca/36).tickSize(-Q,0);u.scale(L)._ticks(ca/36).tickSize(da.length?0:-Q,0);X.select(".nv-context .nv-y3.nv-axis").style("opacity",da.length?1:0).attr("transform","translate(0,"+r.range()[0]+
")");X.select(".nv-context .nv-y2.nv-axis").style("opacity",fa.length?1:0).attr("transform","translate("+r.range()[1]+",0)");X.select(".nv-context .nv-y1.nv-axis").transition().call(l);X.select(".nv-context .nv-y2.nv-axis").transition().call(u)}n.x(r).on("brush",R);A&&n.extent(A);var ga=X.select(".nv-brushBackground").selectAll("g").data([A||n.extent()]);Y=ga.enter().append("g");Y.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",ca);Y.append("rect").attr("class","right").attr("x",
0).attr("y",0).attr("height",ca);Y=X.select(".nv-x.nv-brush").call(n);Y.selectAll("rect").attr("height",ca);Y.selectAll(".resize").append("path").attr("d",function(a){var b=(a=+(a=="e"))?1:-1,c=ca/3;return"M"+0.5*b+","+c+"A6,6 0 0 "+a+" "+6.5*b+","+(c+6)+"V"+(2*c-6)+"A6,6 0 0 "+a+" "+0.5*b+","+2*c+"ZM"+2.5*b+","+(c+8)+"V"+(2*c-8)+"M"+4.5*b+","+(c+8)+"V"+(2*c-8)});q.dispatch.on("stateChange",function(b){for(var c in b)O[c]=b[c];K.stateChange(O);a.update()});K.on("changeState",function(b){if(typeof b.disabled!==
"undefined"){B.forEach(function(a,c){a.disabled=b.disabled[c]});O.disabled=b.disabled}a.update()});R()});return a}var b=c.models.line(),e=c.models.line(),i=c.models.historicalBar(),f=c.models.historicalBar(),h=c.models.axis(),g=c.models.axis(),d=c.models.axis(),k=c.models.axis(),l=c.models.axis(),u=c.models.axis(),q=c.models.legend(),n=d3.svg.brush(),t=c.models.tooltip(),o={top:30,right:30,bottom:30,left:60},j={top:0,right:30,bottom:20,left:60},C=null,E=null,s=function(a){return a.x},p=function(a){return a.y},
v=c.utils.defaultColor(),D=true,z=true,y=false,H=true,m=50,x,A=null,F,r,J,w,I,L,B=null,K=d3.dispatch("brush","stateChange","changeState"),G=0,O=c.utils.state(),M=null,S=" (left axis)",ba=" (right axis)";b.clipEdge(true);e.interactive(false);e.pointActive(function(){return false});h.orient("bottom").tickPadding(5);d.orient("left");k.orient("right");g.orient("bottom").tickPadding(5);l.orient("left");u.orient("right");t.headerEnabled(true).headerFormatter(function(a,b){return h.tickFormat()(a,b)});var N=
function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},P=function(a){return function(b){b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},V=function(a){return a.every(function(a){return a.disabled})};b.dispatch.on("elementMouseover.tooltip",function(a){t.duration(100).valueFormatter(function(a,b){return k.tickFormat()(a,b)}).data(a).position(a.pos).hidden(false)});b.dispatch.on("elementMouseout.tooltip",function(){t.hidden(true)});i.dispatch.on("elementMouseover.tooltip",
function(b){b.value=a.x()(b.data);b.series={value:a.y()(b.data),color:b.color};t.duration(0).valueFormatter(function(a,b){return d.tickFormat()(a,b)}).data(b).hidden(false)});i.dispatch.on("elementMouseout.tooltip",function(){t.hidden(true)});i.dispatch.on("elementMousemove.tooltip",function(){t.position({top:d3.event.pageY,left:d3.event.pageX})()});a.dispatch=K;a.legend=q;a.lines=b;a.lines2=e;a.bars=i;a.bars2=f;a.xAxis=h;a.x2Axis=g;a.y1Axis=d;a.y2Axis=k;a.y3Axis=l;a.y4Axis=u;a.tooltip=t;a.options=
c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return C},set:function(a){C=a}},height:{get:function(){return E},set:function(a){E=a}},showLegend:{get:function(){return D},set:function(a){D=a}},brushExtent:{get:function(){return A},set:function(a){A=a}},noData:{get:function(){return B},set:function(a){B=a}},focusEnable:{get:function(){return z},set:function(a){z=a}},focusHeight:{get:function(){return m},set:function(a){m=a}},focusShowAxisX:{get:function(){return H},
set:function(a){H=a}},focusShowAxisY:{get:function(){return y},set:function(a){y=a}},legendLeftAxisHint:{get:function(){return S},set:function(a){S=a}},legendRightAxisHint:{get:function(){return ba},set:function(a){ba=a}},tooltips:{get:function(){return t.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");t.enabled(!!a)}},tooltipContent:{get:function(){return t.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");
t.contentGenerator(a)}},margin:{get:function(){return o},set:function(a){o.top=a.top!==void 0?a.top:o.top;o.right=a.right!==void 0?a.right:o.right;o.bottom=a.bottom!==void 0?a.bottom:o.bottom;o.left=a.left!==void 0?a.left:o.left}},focusMargin:{get:function(){return j},set:function(a){j.top=a.top!==void 0?a.top:j.top;j.right=a.right!==void 0?a.right:j.right;j.bottom=a.bottom!==void 0?a.bottom:j.bottom;j.left=a.left!==void 0?a.left:j.left}},duration:{get:function(){return G},set:function(a){G=a}},color:{get:function(){return v},
set:function(a){v=c.utils.getColor(a);q.color(v)}},x:{get:function(){return s},set:function(a){s=a;b.x(a);e.x(a);i.x(a);f.x(a)}},y:{get:function(){return p},set:function(a){p=a;b.y(a);e.y(a);i.y(a);f.y(a)}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.lineWithFocusChart=function(){function a(w){w.each(function(w){function l(){k.empty()||k.extent(y);R.data([k.empty()?v.domain():y]).each(function(a){var b=v(a[0])-s.range()[0],c=O-v(a[1]);d3.select(this).select(".left").attr("width",
b<0?0:b);d3.select(this).select(".right").attr("x",v(a[1])).attr("width",c<0?0:c)})}function B(){y=k.empty()?null:k.extent();var a=k.empty()?v.domain():k.extent();if(!(Math.abs(a[0]-a[1])<=1)){m.brush({extent:a,brush:k});l();P.select(".nv-focus .nv-linesWrap").datum(w.filter(function(a){return!a.disabled}).map(function(c){return{key:c.key,area:c.area,values:c.values.filter(function(c,d){return b.x()(c,d)>=a[0]&&b.x()(c,d)<=a[1]})}})).transition().duration(x).call(b);P.select(".nv-focus .nv-x.nv-axis").transition().duration(x).call(i);
P.select(".nv-focus .nv-y.nv-axis").transition().duration(x).call(f)}}var K=d3.select(this),G=this;c.utils.initSVG(K);var O=c.utils.availableWidth(o,K,q),M=c.utils.availableHeight(j,K,q)-C,S=C-n.top-n.bottom;a.update=function(){K.transition().duration(x).call(a)};a.container=this;A.setter(J(w),a.update).getter(r(w)).update();A.disabled=w.map(function(a){return!!a.disabled});if(!F){var H;F={};for(H in A)F[H]=A[H]instanceof Array?A[H].slice(0):A[H]}if(!w||!w.length||!w.filter(function(a){return a.values.length}).length){c.utils.noData(a,
K);return a}K.selectAll(".nv-noData").remove();s=b.xScale();p=b.yScale();v=e.xScale();D=e.yScale();H=K.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([w]);var N=H.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),P=H.select("g");N.append("g").attr("class","nv-legendWrap");var V=N.append("g").attr("class","nv-focus");V.append("g").attr("class","nv-x nv-axis");V.append("g").attr("class","nv-y nv-axis");V.append("g").attr("class","nv-linesWrap");V.append("g").attr("class",
"nv-interactive");N=N.append("g").attr("class","nv-context");N.append("g").attr("class","nv-x nv-axis");N.append("g").attr("class","nv-y nv-axis");N.append("g").attr("class","nv-linesWrap");N.append("g").attr("class","nv-brushBackground");N.append("g").attr("class","nv-x nv-brush");if(z){d.width(O);P.select(".nv-legendWrap").datum(w).call(d);if(q.top!=d.height()){q.top=d.height();M=c.utils.availableHeight(j,K,q)-C}P.select(".nv-legendWrap").attr("transform","translate(0,"+-q.top+")")}H.attr("transform",
"translate("+q.left+","+q.top+")");if(E){u.width(O).height(M).margin({left:q.left,top:q.top}).svgContainer(K).xScale(s);H.select(".nv-interactive").call(u)}b.width(O).height(M).color(w.map(function(a,b){return a.color||t(a,b)}).filter(function(a,b){return!w[b].disabled}));e.defined(b.defined()).width(O).height(S).color(w.map(function(a,b){return a.color||t(a,b)}).filter(function(a,b){return!w[b].disabled}));P.select(".nv-context").attr("transform","translate(0,"+(M+q.bottom+n.top)+")");H=P.select(".nv-context .nv-linesWrap").datum(w.filter(function(a){return!a.disabled}));
d3.transition(H).call(e);i.scale(s)._ticks(c.utils.calcTicksX(O/100,w)).tickSize(-M,0);f.scale(p)._ticks(c.utils.calcTicksY(M/36,w)).tickSize(-O,0);P.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+M+")");k.x(v).on("brush",function(){B()});y&&k.extent(y);var R=P.select(".nv-brushBackground").selectAll("g").data([y||k.extent()]),M=R.enter().append("g");M.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",S);M.append("rect").attr("class","right").attr("x",0).attr("y",
0).attr("height",S);M=P.select(".nv-x.nv-brush").call(k);M.selectAll("rect").attr("height",S);M.selectAll(".resize").append("path").attr("d",function(a){var b=(a=+(a=="e"))?1:-1,c=S/3;return"M"+0.5*b+","+c+"A6,6 0 0 "+a+" "+6.5*b+","+(c+6)+"V"+(2*c-6)+"A6,6 0 0 "+a+" "+0.5*b+","+2*c+"ZM"+2.5*b+","+(c+8)+"V"+(2*c-8)+"M"+4.5*b+","+(c+8)+"V"+(2*c-8)});B();h.scale(v)._ticks(c.utils.calcTicksX(O/100,w)).tickSize(-S,0);P.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+D.range()[0]+")");
d3.transition(P.select(".nv-context .nv-x.nv-axis")).call(h);g.scale(D)._ticks(c.utils.calcTicksY(S/36,w)).tickSize(-O,0);d3.transition(P.select(".nv-context .nv-y.nv-axis")).call(g);P.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+D.range()[0]+")");d.dispatch.on("stateChange",function(b){for(var c in b)A[c]=b[c];m.stateChange(A);a.update()});u.dispatch.on("elementMousemove",function(d){b.clearHighlights();var e,r,j,B=[];w.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(w,
f){var G=k.empty()?v.domain():k.extent(),m=w.values.filter(function(a,c){return b.x()(a,c)>=G[0]&&b.x()(a,c)<=G[1]});r=c.interactiveBisect(m,d.pointXValue,b.x());m=m[r];a.y()(m,r)!=null&&b.highlightPoint(f,r,true);if(m!==void 0){e===void 0&&(e=m);j===void 0&&(j=a.xScale()(a.x()(m,r)));B.push({key:w.key,value:a.y()(m,r),color:t(w,w.seriesIndex)})}});if(B.length>2){var m=a.yScale().invert(d.mouseY),h=0.03*Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]),m=c.nearestValueIndex(B.map(function(a){return a.value}),
m,h);if(m!==null)B[m].highlight=true}m=i.tickFormat()(a.x()(e,r));u.tooltip.position({left:d.mouseX+q.left,top:d.mouseY+q.top}).chartContainer(G.parentNode).valueFormatter(function(a){return a==null?"N/A":f.tickFormat()(a)}).data({value:m,index:r,series:B})();u.renderGuideLine(j)});u.dispatch.on("elementMouseout",function(){b.clearHighlights()});m.on("changeState",function(b){typeof b.disabled!=="undefined"&&w.forEach(function(a,c){a.disabled=b.disabled[c]});a.update()})});return a}var b=c.models.line(),
e=c.models.line(),i=c.models.axis(),f=c.models.axis(),h=c.models.axis(),g=c.models.axis(),d=c.models.legend(),k=d3.svg.brush(),l=c.models.tooltip(),u=c.interactiveGuideline(),q={top:30,right:30,bottom:30,left:60},n={top:0,right:30,bottom:20,left:60},t=c.utils.defaultColor(),o=null,j=null,C=50,E=false,s,p,v,D,z=true,y=null,H=null,m=d3.dispatch("brush","stateChange","changeState"),x=250,A=c.utils.state(),F=null;b.clipEdge(true).duration(0);e.interactive(false);e.pointActive(function(){return false});
i.orient("bottom").tickPadding(5);f.orient("left");h.orient("bottom").tickPadding(5);g.orient("left");l.valueFormatter(function(a,b){return f.tickFormat()(a,b)}).headerFormatter(function(a,b){return i.tickFormat()(a,b)});var r=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},J=function(a){return function(b){b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};b.dispatch.on("elementMouseover.tooltip",function(a){l.data(a).position(a.pos).hidden(false)});
b.dispatch.on("elementMouseout.tooltip",function(){l.hidden(true)});a.dispatch=m;a.legend=d;a.lines=b;a.lines2=e;a.xAxis=i;a.yAxis=f;a.x2Axis=h;a.y2Axis=g;a.interactiveLayer=u;a.tooltip=l;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return o},set:function(a){o=a}},height:{get:function(){return j},set:function(a){j=a}},focusHeight:{get:function(){return C},set:function(a){C=a}},showLegend:{get:function(){return z},set:function(a){z=a}},brushExtent:{get:function(){return y},
set:function(a){y=a}},defaultState:{get:function(){return F},set:function(a){F=a}},noData:{get:function(){return H},set:function(a){H=a}},tooltips:{get:function(){return l.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");l.enabled(!!a)}},tooltipContent:{get:function(){return l.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");l.contentGenerator(a)}},margin:{get:function(){return q},set:function(a){q.top=
a.top!==void 0?a.top:q.top;q.right=a.right!==void 0?a.right:q.right;q.bottom=a.bottom!==void 0?a.bottom:q.bottom;q.left=a.left!==void 0?a.left:q.left}},focusMargin:{get:function(){return n},set:function(a){n.top=a.top!==void 0?a.top:n.top;n.right=a.right!==void 0?a.right:n.right;n.bottom=a.bottom!==void 0?a.bottom:n.bottom;n.left=a.left!==void 0?a.left:n.left}},color:{get:function(){return t},set:function(a){t=c.utils.getColor(a);d.color(t)}},interpolate:{get:function(){return b.interpolate()},set:function(a){b.interpolate(a);
e.interpolate(a)}},xTickFormat:{get:function(){return i.tickFormat()},set:function(a){i.tickFormat(a);h.tickFormat(a)}},yTickFormat:{get:function(){return f.tickFormat()},set:function(a){f.tickFormat(a);g.tickFormat(a)}},duration:{get:function(){return x},set:function(a){x=a;f.duration(x);g.duration(x);i.duration(x);h.duration(x)}},x:{get:function(){return b.x()},set:function(a){b.x(a);e.x(a)}},y:{get:function(){return b.y()},set:function(a){b.y(a);e.y(a)}},useInteractiveGuideline:{get:function(){return E},
set:function(a){if(E=a){b.interactive(false);b.useVoronoi(false)}}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.multiBar=function(){function a(F){x.reset();F.each(function(a){var F=e-b.left-b.right,w=i-b.top-b.bottom;d=d3.select(this);c.utils.initSVG(d);var I=0;j&&a.length&&(j=[{values:a[0].values.map(function(a){return{x:a.x,y:0,series:a.series,size:0.01}})}]);if(n){var L=d3.layout.stack().offset(t).values(function(a){return a.values}).y(l)(!a.length&&j?j:a);L.forEach(function(b,
c){if(b.nonStackable){a[c].nonStackableSeries=I++;L[c]=a[c]}else c>0&&L[c-1].nonStackable&&L[c].values.map(function(a,b){a.y0=a.y0-L[c-1].values[b].y;a.y1=a.y0+a.y})});a=L}a.forEach(function(a,b){a.values.forEach(function(c){c.series=b;c.key=a.key})});n&&a[0].values.map(function(b,c){var d=0,e=0;a.map(function(b,w){if(!a[w].nonStackable){var f=b.values[c];f.size=Math.abs(f.y);if(f.y<0){f.y1=e;e=e-f.size}else{f.y1=f.size+d;d=d+f.size}}})});var B=p&&v?[]:a.map(function(a,b){return a.values.map(function(a,
c){return{x:k(a,c),y:l(a,c),y0:a.y0,y1:a.y1,idx:b}})});f.domain(p||d3.merge(B).map(function(a){return a.x})).rangeBands(D||[0,F],y);h.domain(v||d3.extent(d3.merge(B).map(function(b){var c=b.y;n&&!a[b.idx].nonStackable&&(c=b.y>0?b.y1:b.y1+b.y);return c}).concat(u))).range(z||[w,0]);f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]-f.domain()[0]*0.01,f.domain()[1]+f.domain()[1]*0.01]):f.domain([-1,1]));h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]+h.domain()[0]*
0.01,h.domain()[1]-h.domain()[1]*0.01]):h.domain([-1,1]));m=m||h;var B=d.selectAll("g.nv-wrap.nv-multibar").data([a]),K=B.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),G=K.append("defs"),K=K.append("g"),O=B.select("g");K.append("g").attr("class","nv-groups");B.attr("transform","translate("+b.left+","+b.top+")");G.append("clipPath").attr("id","nv-edge-clip-"+g).append("rect");B.select("#nv-edge-clip-"+g+" rect").attr("width",F).attr("height",w);O.attr("clip-path",q?"url(#nv-edge-clip-"+
g+")":"");F=B.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a,b){return b});F.enter().append("g").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6);w=x.transition(F.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,s)).attr("y",function(b){var c=m(0)||0;n&&a[b.series]&&!a[b.series].nonStackable&&(c=m(b.y0));return c}).attr("height",0).remove();w.delay&&w.delay(function(a,b){return b*(s/(A+1))-b});F.attr("class",function(a,b){return"nv-group nv-series-"+
b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return o(a,b)}).style("stroke",function(a,b){return o(a,b)});F.style("stroke-opacity",1).style("fill-opacity",0.75);F=F.selectAll("rect.nv-bar").data(function(b){return j&&!a.length?j.values:b.values});F.exit().remove();F.enter().append("rect").attr("class",function(a,b){return l(a,b)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(b,c,d){return n&&!a[d].nonStackable?0:d*f.rangeBand()/a.length}).attr("y",function(b,
c,d){return m(n&&!a[d].nonStackable?b.y0:0)||0}).attr("height",0).attr("width",function(b,c,d){return f.rangeBand()/(n&&!a[d].nonStackable?1:a.length)}).attr("transform",function(a,b){return"translate("+f(k(a,b))+",0)"});F.style("fill",function(a,b,c){return o(a,c,b)}).style("stroke",function(a,b,c){return o(a,c,b)}).on("mouseover",function(a,b){d3.select(this).classed("hover",true);H.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){d3.select(this).classed("hover",
false);H.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mousemove",function(a,b){H.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){H.elementClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()}).on("dblclick",function(a,b){H.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()});F.attr("class",function(a,b){return l(a,b)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",
function(a,b){return"translate("+f(k(a,b))+",0)"});if(C){E||(E=a.map(function(){return true}));F.style("fill",function(a,b,c){return d3.rgb(C(a,b)).darker(E.map(function(a,b){return b}).filter(function(a,b){return!E[b]})[c]).toString()}).style("stroke",function(a,b,c){return d3.rgb(C(a,b)).darker(E.map(function(a,b){return b}).filter(function(a,b){return!E[b]})[c]).toString()})}F=F.watchTransition(x,"multibar",Math.min(250,s)).delay(function(b,c){return c*s/a[0].values.length});n?F.attr("y",function(b,
c,d){var e=0;return e=a[d].nonStackable?l(b,c)<0?h(0):h(0)-h(l(b,c))<-1?h(0)-1:h(l(b,c))||0:h(b.y1)}).attr("height",function(b,c,d){return a[d].nonStackable?Math.max(Math.abs(h(l(b,c))-h(0)),0)||0:Math.max(Math.abs(h(b.y+b.y0)-h(b.y0)),0)}).attr("x",function(b,c,d){c=0;if(a[d].nonStackable){c=b.series*f.rangeBand()/a.length;a.length!==I&&(c=a[d].nonStackableSeries*f.rangeBand()/(I*2))}return c}).attr("width",function(b,c,d){if(a[d].nonStackable){b=f.rangeBand()/I;a.length!==I&&(b=f.rangeBand()/(I*
2));return b}return f.rangeBand()}):F.attr("x",function(b){return b.series*f.rangeBand()/a.length}).attr("width",f.rangeBand()/a.length).attr("y",function(a,b){return l(a,b)<0?h(0):h(0)-h(l(a,b))<1?h(0)-1:h(l(a,b))||0}).attr("height",function(a,b){return Math.max(Math.abs(h(l(a,b))-h(0)),1)||0});f.copy();m=h.copy();if(a[0]&&a[0].values)A=a[0].values.length});x.renderEnd("multibar immediate");return a}var b={top:0,right:0,bottom:0,left:0},e=960,i=500,f=d3.scale.ordinal(),h=d3.scale.linear(),g=Math.floor(Math.random()*
1E4),d=null,k=function(a){return a.x},l=function(a){return a.y},u=[0],q=true,n=false,t="zero",o=c.utils.defaultColor(),j=false,C=null,E,s=500,p,v,D,z,y=0.1,H=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),m,x=c.utils.renderWatch(H,s),A=0;a.dispatch=H;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return i},set:function(a){i=
a}},x:{get:function(){return k},set:function(a){k=a}},y:{get:function(){return l},set:function(a){l=a}},xScale:{get:function(){return f},set:function(a){f=a}},yScale:{get:function(){return h},set:function(a){h=a}},xDomain:{get:function(){return p},set:function(a){p=a}},yDomain:{get:function(){return v},set:function(a){v=a}},xRange:{get:function(){return D},set:function(a){D=a}},yRange:{get:function(){return z},set:function(a){z=a}},forceY:{get:function(){return u},set:function(a){u=a}},stacked:{get:function(){return n},
set:function(a){n=a}},stackOffset:{get:function(){return t},set:function(a){t=a}},clipEdge:{get:function(){return q},set:function(a){q=a}},disabled:{get:function(){return E},set:function(a){E=a}},id:{get:function(){return g},set:function(a){g=a}},hideable:{get:function(){return j},set:function(a){j=a}},groupSpacing:{get:function(){return y},set:function(a){y=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==
void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},duration:{get:function(){return s},set:function(a){s=a;x.reset(s)}},color:{get:function(){return o},set:function(a){o=c.utils.getColor(a)}},barColor:{get:function(){return C},set:function(a){C=a?c.utils.getColor(a):null}}});c.utils.initOptions(a);return a};c.models.multiBarChart=function(){function a(w){A.reset();A.models(b);o&&A.models(e);j&&A.models(i);w.each(function(w){var g=d3.select(this);c.utils.initSVG(g);var B=c.utils.availableWidth(k,
g,d),K=c.utils.availableHeight(l,g,d);a.update=function(){x===0?g.call(a):g.transition().duration(x).call(a)};a.container=this;z.setter(J(w),a.update).getter(r(w)).update();z.disabled=w.map(function(a){return!!a.disabled});if(!y){var G;y={};for(G in z)y[G]=z[G]instanceof Array?z[G].slice(0):z[G]}if(!w||!w.length||!w.filter(function(a){return a.values.length}).length){c.utils.noData(a,g);return a}g.selectAll(".nv-noData").remove();v=b.xScale();D=b.yScale();var A=g.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([w]),
H=A.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g");G=A.select("g");H.append("g").attr("class","nv-x nv-axis");H.append("g").attr("class","nv-y nv-axis");H.append("g").attr("class","nv-barsWrap");H.append("g").attr("class","nv-legendWrap");H.append("g").attr("class","nv-controlsWrap");if(t){f.width(B-(q?180:0));G.select(".nv-legendWrap").datum(w).call(f);if(d.top!=f.height()){d.top=f.height();K=c.utils.availableHeight(l,g,d)}G.select(".nv-legendWrap").attr("transform",
"translate("+(q?180:0)+","+-d.top+")")}if(q){var S=[{key:n.grouped||"Grouped",disabled:b.stacked()},{key:n.stacked||"Stacked",disabled:!b.stacked()}];h.width(q?180:0).color(["#444","#444","#444"]);G.select(".nv-controlsWrap").datum(S).attr("transform","translate(0,"+-d.top+")").call(h)}A.attr("transform","translate("+d.left+","+d.top+")");C&&G.select(".nv-y.nv-axis").attr("transform","translate("+B+",0)");b.disabled(w.map(function(a){return a.disabled})).width(B).height(K).color(w.map(function(a,
b){return a.color||u(a,b)}).filter(function(a,b){return!w[b].disabled}));G.select(".nv-barsWrap").datum(w.filter(function(a){return!a.disabled})).call(b);if(o){e.scale(v)._ticks(c.utils.calcTicksX(B/100,w)).tickSize(-K,0);G.select(".nv-x.nv-axis").attr("transform","translate(0,"+D.range()[0]+")");G.select(".nv-x.nv-axis").call(e);A=G.select(".nv-x.nv-axis > g").selectAll("g");A.selectAll("line, text").style("opacity",1);if(s){A.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+
(c%2==0?5:17)+")"});var ba=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;G.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(a,b){return"translate(0,"+(b===0||ba%2!==0?17:5)+")"})}E&&A.filter(function(a,b){return b%Math.ceil(w[0].values.length/(B/100))!==0}).selectAll("text, line").style("opacity",0);p&&A.selectAll(".tick text").attr("transform","rotate("+p+" 0,0)").style("text-anchor",p>0?"start":"end");G.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",
1)}if(j){i.scale(D)._ticks(c.utils.calcTicksY(K/36,w)).tickSize(-B,0);G.select(".nv-y.nv-axis").call(i)}f.dispatch.on("stateChange",function(b){for(var c in b)z[c]=b[c];m.stateChange(z);a.update()});h.dispatch.on("legendClick",function(c){if(c.disabled){S=S.map(function(a){a.disabled=true;return a});c.disabled=false;switch(c.key){case "Grouped":case n.grouped:b.stacked(false);break;case "Stacked":case n.stacked:b.stacked(true)}z.stacked=b.stacked();m.stateChange(z);a.update()}});m.on("changeState",
function(c){if(typeof c.disabled!=="undefined"){w.forEach(function(a,b){a.disabled=c.disabled[b]});z.disabled=c.disabled}if(typeof c.stacked!=="undefined"){b.stacked(c.stacked);F=z.stacked=c.stacked}a.update()})});A.renderEnd("multibarchart immediate");return a}var b=c.models.multiBar(),e=c.models.axis(),i=c.models.axis(),f=c.models.legend(),h=c.models.legend(),g=c.models.tooltip(),d={top:30,right:20,bottom:50,left:60},k=null,l=null,u=c.utils.defaultColor(),q=true,n={},t=true,o=true,j=true,C=false,
E=true,s=false,p=0,v,D,z=c.utils.state(),y=null,H=null,m=d3.dispatch("stateChange","changeState","renderEnd"),x=250;z.stacked=false;b.stacked(false);e.orient("bottom").tickPadding(7).showMaxMin(false).tickFormat(function(a){return a});i.orient(C?"right":"left").tickFormat(d3.format(",.1f"));g.duration(0).valueFormatter(function(a,b){return i.tickFormat()(a,b)}).headerFormatter(function(a,b){return e.tickFormat()(a,b)});h.updateState(false);var A=c.utils.renderWatch(m),F=false,r=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),
stacked:F}}},J=function(a){return function(b){if(b.stacked!==void 0)F=b.stacked;b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};b.dispatch.on("elementMouseover.tooltip",function(b){b.value=a.x()(b.data);b.series={key:b.data.key,value:a.y()(b.data),color:b.color};g.data(b).hidden(false)});b.dispatch.on("elementMouseout.tooltip",function(){g.hidden(true)});b.dispatch.on("elementMousemove.tooltip",function(){g.position({top:d3.event.pageY,left:d3.event.pageX})()});a.dispatch=m;
a.multibar=b;a.legend=f;a.controls=h;a.xAxis=e;a.yAxis=i;a.state=z;a.tooltip=g;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return l},set:function(a){l=a}},showLegend:{get:function(){return t},set:function(a){t=a}},showControls:{get:function(){return q},set:function(a){q=a}},controlLabels:{get:function(){return n},set:function(a){n=a}},showXAxis:{get:function(){return o},set:function(a){o=a}},showYAxis:{get:function(){return j},
set:function(a){j=a}},defaultState:{get:function(){return y},set:function(a){y=a}},noData:{get:function(){return H},set:function(a){H=a}},reduceXTicks:{get:function(){return E},set:function(a){E=a}},rotateLabels:{get:function(){return p},set:function(a){p=a}},staggerLabels:{get:function(){return s},set:function(a){s=a}},tooltips:{get:function(){return g.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");g.enabled(!!a)}},tooltipContent:{get:function(){return g.contentGenerator()},
set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");g.contentGenerator(a)}},margin:{get:function(){return d},set:function(a){d.top=a.top!==void 0?a.top:d.top;d.right=a.right!==void 0?a.right:d.right;d.bottom=a.bottom!==void 0?a.bottom:d.bottom;d.left=a.left!==void 0?a.left:d.left}},duration:{get:function(){return x},set:function(a){x=a;b.duration(x);e.duration(x);i.duration(x);A.reset(x)}},color:{get:function(){return u},set:function(a){u=c.utils.getColor(a);
f.color(u)}},rightAlignYAxis:{get:function(){return C},set:function(a){C=a;i.orient(C?"right":"left")}},barColor:{get:function(){return b.barColor},set:function(a){b.barColor(a);f.color(function(a,b){return d3.rgb("#ccc").darker(b*1.5).toString()})}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.multiBarHorizontal=function(){function a(f){F.reset();f.each(function(a){var f=e-b.left-b.right,r=i-b.top-b.bottom;h=d3.select(this);c.utils.initSVG(h);j&&(a=d3.layout.stack().offset("zero").values(function(a){return a.values}).y(l)(a));
a.forEach(function(a,b){a.values.forEach(function(c){c.series=b;c.key=a.key})});j&&a[0].values.map(function(b,c){var d=0,e=0;a.map(function(a){a=a.values[c];a.size=Math.abs(a.y);if(a.y<0){a.y1=e-a.size;e=e-a.size}else{a.y1=d;d=d+a.size}})});var m=D&&z?[]:a.map(function(a){return a.values.map(function(a,b){return{x:k(a,b),y:l(a,b),y0:a.y0,y1:a.y1}})});g.domain(D||d3.merge(m).map(function(a){return a.x})).rangeBands(y||[0,r],p);d.domain(z||d3.extent(d3.merge(m).map(function(a){return j?a.y>0?a.y1+a.y:
a.y1:a.y}).concat(q)));C&&!j?d.range(H||[d.domain()[0]<0?s:0,f-(d.domain()[1]>0?s:0)]):d.range(H||[0,f]);A=A||d3.scale.linear().domain(d.domain()).range([d(0),d(0)]);f=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([a]);r=f.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal");r.append("defs");r=r.append("g");f.select("g");r.append("g").attr("class","nv-groups");f.attr("transform","translate("+b.left+","+b.top+")");f=f.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},
function(a,b){return b});f.enter().append("g").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6);f.exit().watchTransition(F,"multibarhorizontal: exit groups").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6).remove();f.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return n(a,b)}).style("stroke",function(a,b){return n(a,b)});f.watchTransition(F,"multibarhorizontal: groups").style("stroke-opacity",
1).style("fill-opacity",0.75);f=f.selectAll("g.nv-bar").data(function(a){return a.values});f.exit().remove();r=f.enter().append("g").attr("transform",function(b,c,d){return"translate("+A(j?b.y0:0)+","+(j?0:d*g.rangeBand()/a.length+g(k(b,c)))+")"});r.append("rect").attr("width",0).attr("height",g.rangeBand()/(j?1:a.length));f.on("mouseover",function(a,b){d3.select(this).classed("hover",true);x.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){d3.select(this).classed("hover",
false);x.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){x.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mousemove",function(a,b){x.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){x.elementClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()}).on("dblclick",function(a,b){x.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")});
d3.event.stopPropagation()});if(u(a[0],0)){r.append("polyline");f.select("polyline").attr("fill","none").attr("points",function(b,c){var e=u(b,c),f=0.8*g.rangeBand()/((j?1:a.length)*2),e=e.length?e:[-Math.abs(e),Math.abs(e)],e=e.map(function(a){return d(a)-d(0)});return[[e[0],-f],[e[0],f],[e[0],0],[e[1],0],[e[1],-f],[e[1],f]].map(function(a){return a.join(",")}).join(" ")}).attr("transform",function(b,c){var e=g.rangeBand()/((j?1:a.length)*2);return"translate("+(l(b,c)<0?0:d(l(b,c))-d(0))+", "+e+
")"})}r.append("text");if(C&&!j){f.select("text").attr("text-anchor",function(a,b){return l(a,b)<0?"end":"start"}).attr("y",g.rangeBand()/(a.length*2)).attr("dy",".32em").text(function(a,b){var c=v(l(a,b)),d=u(a,b);return d===void 0?c:!d.length?c+"\u00b1"+v(Math.abs(d)):c+"+"+v(Math.abs(d[1]))+"-"+v(Math.abs(d[0]))});f.watchTransition(F,"multibarhorizontal: bars").select("text").attr("x",function(a,b){return l(a,b)<0?-4:d(l(a,b))-d(0)+4})}else f.selectAll("text").text("");if(E&&!j){r.append("text").classed("nv-bar-label",
true);f.select("text.nv-bar-label").attr("text-anchor",function(a,b){return l(a,b)<0?"start":"end"}).attr("y",g.rangeBand()/(a.length*2)).attr("dy",".32em").text(function(a,b){return k(a,b)});f.watchTransition(F,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(a,b){return l(a,b)<0?d(0)-d(l(a,b))+4:-4})}else f.selectAll("text.nv-bar-label").text("");f.attr("class",function(a,b){return l(a,b)<0?"nv-bar negative":"nv-bar positive"});if(t){o||(o=a.map(function(){return true}));
f.style("fill",function(a,b,c){return d3.rgb(t(a,b)).darker(o.map(function(a,b){return b}).filter(function(a,b){return!o[b]})[c]).toString()}).style("stroke",function(a,b,c){return d3.rgb(t(a,b)).darker(o.map(function(a,b){return b}).filter(function(a,b){return!o[b]})[c]).toString()})}j?f.watchTransition(F,"multibarhorizontal: bars").attr("transform",function(a,b){return"translate("+d(a.y1)+","+g(k(a,b))+")"}).select("rect").attr("width",function(a,b){return Math.abs(d(l(a,b)+a.y0)-d(a.y0))}).attr("height",
g.rangeBand()):f.watchTransition(F,"multibarhorizontal: bars").attr("transform",function(b,c){return"translate("+(l(b,c)<0?d(l(b,c)):d(0))+","+(b.series*g.rangeBand()/a.length+g(k(b,c)))+")"}).select("rect").attr("height",g.rangeBand()/a.length).attr("width",function(a,b){return Math.max(Math.abs(d(l(a,b))-d(0)),1)});g.copy();A=d.copy()});F.renderEnd("multibarHorizontal immediate");return a}var b={top:0,right:0,bottom:0,left:0},e=960,i=500,f=Math.floor(Math.random()*1E4),h=null,g=d3.scale.ordinal(),
d=d3.scale.linear(),k=function(a){return a.x},l=function(a){return a.y},u=function(a){return a.yErr},q=[0],n=c.utils.defaultColor(),t=null,o,j=false,C=false,E=false,s=60,p=0.1,v=d3.format(",.2f"),D,z,y,H,m=250,x=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),A,F=c.utils.renderWatch(x,m);a.dispatch=x;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},
height:{get:function(){return i},set:function(a){i=a}},x:{get:function(){return k},set:function(a){k=a}},y:{get:function(){return l},set:function(a){l=a}},yErr:{get:function(){return u},set:function(a){u=a}},xScale:{get:function(){return g},set:function(a){g=a}},yScale:{get:function(){return d},set:function(a){d=a}},xDomain:{get:function(){return D},set:function(a){D=a}},yDomain:{get:function(){return z},set:function(a){z=a}},xRange:{get:function(){return y},set:function(a){y=a}},yRange:{get:function(){return H},
set:function(a){H=a}},forceY:{get:function(){return q},set:function(a){q=a}},stacked:{get:function(){return j},set:function(a){j=a}},showValues:{get:function(){return C},set:function(a){C=a}},disabled:{get:function(){return o},set:function(a){o=a}},id:{get:function(){return f},set:function(a){f=a}},valueFormat:{get:function(){return v},set:function(a){v=a}},valuePadding:{get:function(){return s},set:function(a){s=a}},groupSpacing:{get:function(){return p},set:function(a){p=a}},margin:{get:function(){return b},
set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},duration:{get:function(){return m},set:function(a){m=a;F.reset(m)}},color:{get:function(){return n},set:function(a){n=c.utils.getColor(a)}},barColor:{get:function(){return t},set:function(a){t=a?c.utils.getColor(a):null}}});c.utils.initOptions(a);return a};c.models.multiBarHorizontalChart=function(){function a(g){x.reset();x.models(b);
o&&x.models(e);j&&x.models(i);g.each(function(g){var r=d3.select(this);c.utils.initSVG(r);var A=c.utils.availableWidth(k,r,d),w=c.utils.availableHeight(l,r,d);a.update=function(){r.transition().duration(y).call(a)};a.container=this;C=b.stacked();p.setter(m(g),a.update).getter(H(g)).update();p.disabled=g.map(function(a){return!!a.disabled});if(!v){var x;v={};for(x in p)v[x]=p[x]instanceof Array?p[x].slice(0):p[x]}if(!g||!g.length||!g.filter(function(a){return a.values.length}).length){c.utils.noData(a,
r);return a}r.selectAll(".nv-noData").remove();E=b.xScale();s=b.yScale();x=r.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([g]);var D=x.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),B=x.select("g");D.append("g").attr("class","nv-x nv-axis");D.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");D.append("g").attr("class","nv-barsWrap");D.append("g").attr("class","nv-legendWrap");D.append("g").attr("class",
"nv-controlsWrap");if(t){f.width(A-(q?180:0));B.select(".nv-legendWrap").datum(g).call(f);if(d.top!=f.height()){d.top=f.height();w=c.utils.availableHeight(l,r,d)}B.select(".nv-legendWrap").attr("transform","translate("+(q?180:0)+","+-d.top+")")}if(q){var K=[{key:n.grouped||"Grouped",disabled:b.stacked()},{key:n.stacked||"Stacked",disabled:!b.stacked()}];h.width(q?180:0).color(["#444","#444","#444"]);B.select(".nv-controlsWrap").datum(K).attr("transform","translate(0,"+-d.top+")").call(h)}x.attr("transform",
"translate("+d.left+","+d.top+")");b.disabled(g.map(function(a){return a.disabled})).width(A).height(w).color(g.map(function(a,b){return a.color||u(a,b)}).filter(function(a,b){return!g[b].disabled}));B.select(".nv-barsWrap").datum(g.filter(function(a){return!a.disabled})).transition().call(b);if(o){e.scale(E)._ticks(c.utils.calcTicksY(w/24,g)).tickSize(-A,0);B.select(".nv-x.nv-axis").call(e);B.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text")}if(j){i.scale(s)._ticks(c.utils.calcTicksX(A/
100,g)).tickSize(-w,0);B.select(".nv-y.nv-axis").attr("transform","translate(0,"+w+")");B.select(".nv-y.nv-axis").call(i)}B.select(".nv-zeroLine line").attr("x1",s(0)).attr("x2",s(0)).attr("y1",0).attr("y2",-w);f.dispatch.on("stateChange",function(b){for(var c in b)p[c]=b[c];z.stateChange(p);a.update()});h.dispatch.on("legendClick",function(c){if(c.disabled){K=K.map(function(a){a.disabled=true;return a});c.disabled=false;switch(c.key){case "Grouped":b.stacked(false);break;case "Stacked":b.stacked(true)}p.stacked=
b.stacked();z.stateChange(p);C=b.stacked();a.update()}});z.on("changeState",function(c){if(typeof c.disabled!=="undefined"){g.forEach(function(a,b){a.disabled=c.disabled[b]});p.disabled=c.disabled}if(typeof c.stacked!=="undefined"){b.stacked(c.stacked);C=p.stacked=c.stacked}a.update()})});x.renderEnd("multibar horizontal chart immediate");return a}var b=c.models.multiBarHorizontal(),e=c.models.axis(),i=c.models.axis(),f=c.models.legend().height(30),h=c.models.legend().height(30),g=c.models.tooltip(),
d={top:30,right:20,bottom:50,left:60},k=null,l=null,u=c.utils.defaultColor(),q=true,n={},t=true,o=true,j=true,C=false,E,s,p=c.utils.state(),v=null,D=null,z=d3.dispatch("stateChange","changeState","renderEnd"),y=250;p.stacked=false;b.stacked(C);e.orient("left").tickPadding(5).showMaxMin(false).tickFormat(function(a){return a});i.orient("bottom").tickFormat(d3.format(",.1f"));g.duration(0).valueFormatter(function(a,b){return i.tickFormat()(a,b)}).headerFormatter(function(a,b){return e.tickFormat()(a,
b)});h.updateState(false);var H=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),stacked:C}}},m=function(a){return function(b){if(b.stacked!==void 0)C=b.stacked;b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},x=c.utils.renderWatch(z,y);b.dispatch.on("elementMouseover.tooltip",function(b){b.value=a.x()(b.data);b.series={key:b.data.key,value:a.y()(b.data),color:b.color};g.data(b).hidden(false)});b.dispatch.on("elementMouseout.tooltip",function(){g.hidden(true)});
b.dispatch.on("elementMousemove.tooltip",function(){g.position({top:d3.event.pageY,left:d3.event.pageX})()});a.dispatch=z;a.multibar=b;a.legend=f;a.controls=h;a.xAxis=e;a.yAxis=i;a.state=p;a.tooltip=g;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return l},set:function(a){l=a}},showLegend:{get:function(){return t},set:function(a){t=a}},showControls:{get:function(){return q},set:function(a){q=a}},controlLabels:{get:function(){return n},
set:function(a){n=a}},showXAxis:{get:function(){return o},set:function(a){o=a}},showYAxis:{get:function(){return j},set:function(a){j=a}},defaultState:{get:function(){return v},set:function(a){v=a}},noData:{get:function(){return D},set:function(a){D=a}},tooltips:{get:function(){return g.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");g.enabled(!!a)}},tooltipContent:{get:function(){return g.contentGenerator()},set:function(a){c.deprecated("tooltipContent",
"use chart.tooltip.contentGenerator() instead");g.contentGenerator(a)}},margin:{get:function(){return d},set:function(a){d.top=a.top!==void 0?a.top:d.top;d.right=a.right!==void 0?a.right:d.right;d.bottom=a.bottom!==void 0?a.bottom:d.bottom;d.left=a.left!==void 0?a.left:d.left}},duration:{get:function(){return y},set:function(a){y=a;x.reset(y);b.duration(y);e.duration(y);i.duration(y)}},color:{get:function(){return u},set:function(a){u=c.utils.getColor(a);f.color(u)}},barColor:{get:function(){return b.barColor},
set:function(a){b.barColor(a);f.color(function(a,b){return d3.rgb("#ccc").darker(b*1.5).toString()})}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.multiChart=function(){function a(g){g.each(function(g){function r(a){var b=g[a.seriesIndex].yAxis===2?x:m;a.value=a.point.x;a.series={value:a.point.y,color:a.point.color,key:a.series.key};F.duration(100).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).position(a.pos).hidden(false)}function n(a){var b=g[a.seriesIndex].yAxis===
2?x:m;a.value=a.point.x;a.series={value:a.point.y,color:a.point.color};F.duration(100).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).position(a.pos).hidden(false)}function B(a){var b=g[a.seriesIndex].yAxis===2?x:m;a.point.x=z.x()(a.point);a.point.y=z.y()(a.point);F.duration(100).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).position(a.pos).hidden(false)}function J(a){var b=g[a.data.series].yAxis===2?x:m;a.value=v.x()(a.data);a.series={value:v.y()(a.data),color:a.color};
F.duration(0).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).hidden(false)}var G=d3.select(this);c.utils.initSVG(G);a.update=function(){G.transition().call(a)};a.container=this;var O=c.utils.availableWidth(i,G,b),M=c.utils.availableHeight(f,G,b),S=g.filter(function(a){return a.type=="line"&&a.yAxis==1}),ba=g.filter(function(a){return a.type=="line"&&a.yAxis==2}),N=g.filter(function(a){return a.type=="scatter"&&a.yAxis==1}),P=g.filter(function(a){return a.type=="scatter"&&a.yAxis==
2}),V=g.filter(function(a){return a.type=="bar"&&a.yAxis==1}),R=g.filter(function(a){return a.type=="bar"&&a.yAxis==2}),U=g.filter(function(a){return a.type=="area"&&a.yAxis==1}),W=g.filter(function(a){return a.type=="area"&&a.yAxis==2});if(!g||!g.length||!g.filter(function(a){return a.values.length}).length){c.utils.noData(a,G);return a}G.selectAll(".nv-noData").remove();var Z=g.filter(function(a){return!a.disabled&&a.yAxis==1}).map(function(a){return a.values.map(function(a){return{x:l(a),y:u(a)}})}),
$=g.filter(function(a){return!a.disabled&&a.yAxis==2}).map(function(a){return a.values.map(function(a){return{x:l(a),y:u(a)}})});t.domain(d3.extent(d3.merge(Z.concat($)),function(a){return a.x})).range([0,O]);var Q=G.selectAll("g.wrap.multiChart").data([g]),T=Q.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");T.append("g").attr("class","nv-x nv-axis");T.append("g").attr("class","nv-y1 nv-axis");T.append("g").attr("class","nv-y2 nv-axis");T.append("g").attr("class","lines1Wrap");
T.append("g").attr("class","lines2Wrap");T.append("g").attr("class","scatters1Wrap");T.append("g").attr("class","scatters2Wrap");T.append("g").attr("class","bars1Wrap");T.append("g").attr("class","bars2Wrap");T.append("g").attr("class","stack1Wrap");T.append("g").attr("class","stack2Wrap");T.append("g").attr("class","legendWrap");Q=Q.select("g");T=g.map(function(a,b){return g[b].color||e(a,b)});if(h){var ca=A.align()?O/2:O,Y=A.align()?ca:0;A.width(ca);A.color(T);Q.select(".legendWrap").datum(g.map(function(a){a.originalKey=
a.originalKey===void 0?a.key:a.originalKey;a.key=a.originalKey+(a.yAxis==1?"":" (right axis)");return a})).call(A);if(b.top!=A.height()){b.top=A.height();M=c.utils.availableHeight(f,G,b)}Q.select(".legendWrap").attr("transform","translate("+Y+","+-b.top+")")}C.width(O).height(M).interpolate(q).color(T.filter(function(a,b){return!g[b].disabled&&g[b].yAxis==1&&g[b].type=="line"}));E.width(O).height(M).interpolate(q).color(T.filter(function(a,b){return!g[b].disabled&&g[b].yAxis==2&&g[b].type=="line"}));
s.width(O).height(M).color(T.filter(function(a,b){return!g[b].disabled&&g[b].yAxis==1&&g[b].type=="scatter"}));p.width(O).height(M).color(T.filter(function(a,b){return!g[b].disabled&&g[b].yAxis==2&&g[b].type=="scatter"}));v.width(O).height(M).color(T.filter(function(a,b){return!g[b].disabled&&g[b].yAxis==1&&g[b].type=="bar"}));D.width(O).height(M).color(T.filter(function(a,b){return!g[b].disabled&&g[b].yAxis==2&&g[b].type=="bar"}));z.width(O).height(M).color(T.filter(function(a,b){return!g[b].disabled&&
g[b].yAxis==1&&g[b].type=="area"}));y.width(O).height(M).color(T.filter(function(a,b){return!g[b].disabled&&g[b].yAxis==2&&g[b].type=="area"}));Q.attr("transform","translate("+b.left+","+b.top+")");var T=Q.select(".lines1Wrap").datum(S.filter(function(a){return!a.disabled})),ca=Q.select(".scatters1Wrap").datum(N.filter(function(a){return!a.disabled})),Y=Q.select(".bars1Wrap").datum(V.filter(function(a){return!a.disabled})),da=Q.select(".stack1Wrap").datum(U.filter(function(a){return!a.disabled})),
fa=Q.select(".lines2Wrap").datum(ba.filter(function(a){return!a.disabled})),aa=Q.select(".scatters2Wrap").datum(P.filter(function(a){return!a.disabled})),X=Q.select(".bars2Wrap").datum(R.filter(function(a){return!a.disabled})),ea=Q.select(".stack2Wrap").datum(W.filter(function(a){return!a.disabled})),ga=U.length?U.map(function(a){return a.values}).reduce(function(a,b){return a.map(function(a,c){return{x:a.x,y:a.y+b[c].y}})}).concat([{x:0,y:0}]):[],ha=W.length?W.map(function(a){return a.values}).reduce(function(a,
b){return a.map(function(a,c){return{x:a.x,y:a.y+b[c].y}})}).concat([{x:0,y:0}]):[];o.domain(d||d3.extent(d3.merge(Z).concat(ga),function(a){return a.y})).range([0,M]);j.domain(k||d3.extent(d3.merge($).concat(ha),function(a){return a.y})).range([0,M]);C.yDomain(o.domain());s.yDomain(o.domain());v.yDomain(o.domain());z.yDomain(o.domain());E.yDomain(j.domain());p.yDomain(j.domain());D.yDomain(j.domain());y.yDomain(j.domain());U.length&&d3.transition(da).call(z);W.length&&d3.transition(ea).call(y);V.length&&
d3.transition(Y).call(v);R.length&&d3.transition(X).call(D);S.length&&d3.transition(T).call(C);ba.length&&d3.transition(fa).call(E);N.length&&d3.transition(ca).call(s);P.length&&d3.transition(aa).call(p);H._ticks(c.utils.calcTicksX(O/100,g)).tickSize(-M,0);Q.select(".nv-x.nv-axis").attr("transform","translate(0,"+M+")");d3.transition(Q.select(".nv-x.nv-axis")).call(H);m._ticks(c.utils.calcTicksY(M/36,g)).tickSize(-O,0);d3.transition(Q.select(".nv-y1.nv-axis")).call(m);x._ticks(c.utils.calcTicksY(M/
36,g)).tickSize(-O,0);d3.transition(Q.select(".nv-y2.nv-axis")).call(x);Q.select(".nv-y1.nv-axis").classed("nv-disabled",Z.length?false:true).attr("transform","translate("+t.range()[0]+",0)");Q.select(".nv-y2.nv-axis").classed("nv-disabled",$.length?false:true).attr("transform","translate("+t.range()[1]+",0)");A.dispatch.on("stateChange",function(){a.update()});C.dispatch.on("elementMouseover.tooltip",r);E.dispatch.on("elementMouseover.tooltip",r);C.dispatch.on("elementMouseout.tooltip",function(){F.hidden(true)});
E.dispatch.on("elementMouseout.tooltip",function(){F.hidden(true)});s.dispatch.on("elementMouseover.tooltip",n);p.dispatch.on("elementMouseover.tooltip",n);s.dispatch.on("elementMouseout.tooltip",function(){F.hidden(true)});p.dispatch.on("elementMouseout.tooltip",function(){F.hidden(true)});z.dispatch.on("elementMouseover.tooltip",B);y.dispatch.on("elementMouseover.tooltip",B);z.dispatch.on("elementMouseout.tooltip",function(){F.hidden(true)});y.dispatch.on("elementMouseout.tooltip",function(){F.hidden(true)});
v.dispatch.on("elementMouseover.tooltip",J);D.dispatch.on("elementMouseover.tooltip",J);v.dispatch.on("elementMouseout.tooltip",function(){F.hidden(true)});D.dispatch.on("elementMouseout.tooltip",function(){F.hidden(true)});v.dispatch.on("elementMousemove.tooltip",function(){F.position({top:d3.event.pageY,left:d3.event.pageX})()});D.dispatch.on("elementMousemove.tooltip",function(){F.position({top:d3.event.pageY,left:d3.event.pageX})()})});return a}var b={top:30,right:20,bottom:50,left:60},e=c.utils.defaultColor(),
i=null,f=null,h=true,g=null,d,k,l=function(a){return a.x},u=function(a){return a.y},q="monotone",n=true,t=d3.scale.linear(),o=d3.scale.linear(),j=d3.scale.linear(),C=c.models.line().yScale(o),E=c.models.line().yScale(j),s=c.models.scatter().yScale(o),p=c.models.scatter().yScale(j),v=c.models.multiBar().stacked(false).yScale(o),D=c.models.multiBar().stacked(false).yScale(j),z=c.models.stackedArea().yScale(o),y=c.models.stackedArea().yScale(j),H=c.models.axis().scale(t).orient("bottom").tickPadding(5),
m=c.models.axis().scale(o).orient("left"),x=c.models.axis().scale(j).orient("right"),A=c.models.legend().height(30),F=c.models.tooltip(),r=d3.dispatch();a.dispatch=r;a.legend=A;a.lines1=C;a.lines2=E;a.scatters1=s;a.scatters2=p;a.bars1=v;a.bars2=D;a.stack1=z;a.stack2=y;a.xAxis=H;a.yAxis1=m;a.yAxis2=x;a.tooltip=F;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return i},set:function(a){i=a}},height:{get:function(){return f},set:function(a){f=a}},showLegend:{get:function(){return h},
set:function(a){h=a}},yDomain1:{get:function(){return d},set:function(a){d=a}},yDomain2:{get:function(){return k},set:function(a){k=a}},noData:{get:function(){return g},set:function(a){g=a}},interpolate:{get:function(){return q},set:function(a){q=a}},tooltips:{get:function(){return F.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");F.enabled(!!a)}},tooltipContent:{get:function(){return F.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");
F.contentGenerator(a)}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return e},set:function(a){e=c.utils.getColor(a)}},x:{get:function(){return l},set:function(a){l=a;C.x(a);E.x(a);s.x(a);p.x(a);v.x(a);D.x(a);z.x(a);y.x(a)}},y:{get:function(){return u},set:function(a){u=a;C.y(a);E.y(a);s.y(a);p.y(a);z.y(a);y.y(a);v.y(a);
D.y(a)}},useVoronoi:{get:function(){return n},set:function(a){n=a;C.useVoronoi(a);E.useVoronoi(a);z.useVoronoi(a);y.useVoronoi(a)}}});c.utils.initOptions(a);return a};c.models.ohlcBar=function(){function a(m){m.each(function(a){h=d3.select(this);var m=c.utils.availableWidth(e,h,b),p=c.utils.availableHeight(i,h,b);c.utils.initSVG(h);var r=m/a[0].values.length*0.9;g.domain(v||d3.extent(a[0].values.map(k).concat(o)));C?g.range(z||[m*0.5/a[0].values.length,m*(a[0].values.length-0.5)/a[0].values.length]):
g.range(z||[5+r/2,m-r/2-5]);d.domain(D||[d3.min(a[0].values.map(t).concat(j)),d3.max(a[0].values.map(n).concat(j))]).range(y||[p,0]);g.domain()[0]===g.domain()[1]&&(g.domain()[0]?g.domain([g.domain()[0]-g.domain()[0]*0.01,g.domain()[1]+g.domain()[1]*0.01]):g.domain([-1,1]));d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+d.domain()[0]*0.01,d.domain()[1]-d.domain()[1]*0.01]):d.domain([-1,1]));var J=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([a[0].values]),w=J.enter().append("g").attr("class",
"nvd3 nv-wrap nv-ohlcBar"),I=w.append("defs"),w=w.append("g"),L=J.select("g");w.append("g").attr("class","nv-ticks");J.attr("transform","translate("+b.left+","+b.top+")");h.on("click",function(a,b){H.chartClick({data:a,index:b,pos:d3.event,id:f})});I.append("clipPath").attr("id","nv-chart-clip-path-"+f).append("rect");J.select("#nv-chart-clip-path-"+f+" rect").attr("width",m).attr("height",p);L.attr("clip-path",E?"url(#nv-chart-clip-path-"+f+")":"");p=J.select(".nv-ticks").selectAll(".nv-tick").data(function(a){return a});
p.exit().remove();p.enter().append("path").attr("class",function(a,b,c){return(u(a,b)>q(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b}).attr("d",function(a,b){return"m0,0l0,"+(d(u(a,b))-d(n(a,b)))+"l"+-r/2+",0l"+r/2+",0l0,"+(d(t(a,b))-d(u(a,b)))+"l0,"+(d(q(a,b))-d(t(a,b)))+"l"+r/2+",0l"+-r/2+",0z"}).attr("transform",function(a,b){return"translate("+g(k(a,b))+","+d(n(a,b))+")"}).attr("fill",function(){return s[0]}).attr("stroke",function(){return s[0]}).attr("x",0).attr("y",function(a,
b){return d(Math.max(0,l(a,b)))}).attr("height",function(a,b){return Math.abs(d(l(a,b))-d(0))});p.attr("class",function(a,b,c){return(u(a,b)>q(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b});d3.transition(p).attr("transform",function(a,b){return"translate("+g(k(a,b))+","+d(n(a,b))+")"}).attr("d",function(b,c){var e=m/a[0].values.length*0.9;return"m0,0l0,"+(d(u(b,c))-d(n(b,c)))+"l"+-e/2+",0l"+e/2+",0l0,"+(d(t(b,c))-d(u(b,c)))+"l0,"+(d(q(b,c))-d(t(b,c)))+"l"+e/2+",0l"+-e/2+",0z"})});
return a}var b={top:0,right:0,bottom:0,left:0},e=null,i=null,f=Math.floor(Math.random()*1E4),h=null,g=d3.scale.linear(),d=d3.scale.linear(),k=function(a){return a.x},l=function(a){return a.y},u=function(a){return a.open},q=function(a){return a.close},n=function(a){return a.high},t=function(a){return a.low},o=[],j=[],C=false,E=true,s=c.utils.defaultColor(),p=false,v,D,z,y,H=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick",
"elementMouseover","elementMouseout","elementMousemove");a.highlightPoint=function(b,c){a.clearHighlights();h.select(".nv-ohlcBar .nv-tick-0-"+b).classed("hover",c)};a.clearHighlights=function(){h.select(".nv-ohlcBar .nv-tick.hover").classed("hover",false)};a.dispatch=H;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return i},set:function(a){i=a}},xScale:{get:function(){return g},set:function(a){g=a}},
yScale:{get:function(){return d},set:function(a){d=a}},xDomain:{get:function(){return v},set:function(a){v=a}},yDomain:{get:function(){return D},set:function(a){D=a}},xRange:{get:function(){return z},set:function(a){z=a}},yRange:{get:function(){return y},set:function(a){y=a}},forceX:{get:function(){return o},set:function(a){o=a}},forceY:{get:function(){return j},set:function(a){j=a}},padData:{get:function(){return C},set:function(a){C=a}},clipEdge:{get:function(){return E},set:function(a){E=a}},id:{get:function(){return f},
set:function(a){f=a}},interactive:{get:function(){return p},set:function(a){p=a}},x:{get:function(){return k},set:function(a){k=a}},y:{get:function(){return l},set:function(a){l=a}},open:{get:function(){return u()},set:function(a){u=a}},close:{get:function(){return q()},set:function(a){q=a}},high:{get:function(){return n},set:function(a){n=a}},low:{get:function(){return t},set:function(a){t=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!=void 0?a.top:b.top;b.right=a.right!=void 0?
a.right:b.right;b.bottom=a.bottom!=void 0?a.bottom:b.bottom;b.left=a.left!=void 0?a.left:b.left}},color:{get:function(){return s},set:function(a){s=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.parallelCoordinates=function(){function a(o){o.each(function(a){function o(a){return H(g.map(function(b){if(isNaN(a[b])||isNaN(parseFloat(a[b]))){var c=h[b].domain(),d=h[b].range(),e=c[0]-(c[1]-c[0])/9;if(r.indexOf(b)<0){c=d3.scale.linear().domain([e,c[1]]).range([D-12,d[1]]);h[b].brush.y(c);
r.push(b)}return[f(b),h[b](e)]}if(r.length>0){x.style("display","inline");A.style("display","inline")}else{x.style("display","none");A.style("display","none")}return[f(b),h[b](a[b])]}))}function E(){var a=g.filter(function(a){return!h[a].brush.empty()}),b=a.map(function(a){return h[a].brush.extent()});l=[];a.forEach(function(a,c){l[c]={dimension:a,extent:b[c]}});u=[];I.style("display",function(c){var d=a.every(function(a,d){return isNaN(c[a])&&b[d][0]==h[a].brush.y().domain()[0]?true:b[d][0]<=c[a]&&
c[a]<=b[d][1]});d&&u.push(c);return d?null:"none"});t.brush({filters:l,active:u})}function s(a){var b=q[a];return b==null?f(a):b}var p=d3.select(this),v=c.utils.availableWidth(e,p,b),D=c.utils.availableHeight(i,p,b);c.utils.initSVG(p);u=a;f.rangePoints([0,v],1).domain(g);g.forEach(function(b){var c=d3.extent(a,function(a){return+a[b]});if(c[0]===void 0){c[0]=0;c[1]=0}if(c[0]===c[1]){c[0]=c[0]-1;c[1]=c[1]+1}h[b]=d3.scale.linear().domain(c).range([(D-12)*0.9,0]);h[b].brush=d3.svg.brush().y(h[b]).on("brush",
E);return b!="name"});var p=p.selectAll("g.nv-wrap.nv-parallelCoordinates").data([a]),z=p.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates").append("g"),y=p.select("g");z.append("g").attr("class","nv-parallelCoordinates background");z.append("g").attr("class","nv-parallelCoordinates foreground");z.append("g").attr("class","nv-parallelCoordinates missingValuesline");p.attr("transform","translate("+b.left+","+b.top+")");var H=d3.svg.line().interpolate("cardinal").tension(n),m=d3.svg.axis().orient("left"),
z=d3.behavior.drag().on("dragstart",function(a){q[a]=this.parentNode.__origin__=f(a);w.attr("visibility","hidden")}).on("drag",function(a){q[a]=Math.min(v,Math.max(0,this.parentNode.__origin__=this.parentNode.__origin__+d3.event.x));I.attr("d",o);g.sort(function(a,b){return s(a)-s(b)});f.domain(g);L.attr("transform",function(a){return"translate("+s(a)+")"})}).on("dragend",function(a){delete this.parentNode.__origin__;delete q[a];d3.select(this.parentNode).attr("transform","translate("+f(a)+")");I.attr("d",
o);w.attr("d",o).attr("visibility",null)}),x,A,F=f.range()[1]-f.range()[0],r=[],J=[0+F/2,D-12,v-F/2,D-12];x=p.select(".missingValuesline").selectAll("line").data([J]);x.enter().append("line");x.exit().remove();x.attr("x1",function(a){return a[0]}).attr("y1",function(a){return a[1]}).attr("x2",function(a){return a[2]}).attr("y2",function(a){return a[3]});A=p.select(".missingValuesline").selectAll("text").data(["undefined values"]);A.append("text").data(["undefined values"]);A.enter().append("text");
A.exit().remove();A.attr("y",D).attr("x",v-92-F/2).text(function(a){return a});var w=p.select(".background").selectAll("path").data(a);w.enter().append("path");w.exit().remove();w.attr("d",o);var I=p.select(".foreground").selectAll("path").data(a);I.enter().append("path");I.exit().remove();I.attr("d",o).attr("stroke",k);I.on("mouseover",function(a,b){d3.select(this).classed("hover",true);t.elementMouseover({label:a.name,data:a.data,index:b,pos:[d3.mouse(this.parentNode)[0],d3.mouse(this.parentNode)[1]]})});
I.on("mouseout",function(a,b){d3.select(this).classed("hover",false);t.elementMouseout({label:a.name,data:a.data,index:b})});var L=y.selectAll(".dimension").data(g),p=L.enter().append("g").attr("class","nv-parallelCoordinates dimension");p.append("g").attr("class","nv-parallelCoordinates nv-axis");p.append("g").attr("class","nv-parallelCoordinates-brush");p.append("text").attr("class","nv-parallelCoordinates nv-label");L.attr("transform",function(a){return"translate("+f(a)+",0)"});L.exit().remove();
L.select(".nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").text(String).on("mouseover",function(a){t.elementMouseover({dim:a,pos:[d3.mouse(this.parentNode.parentNode)[0],d3.mouse(this.parentNode.parentNode)[1]]})}).on("mouseout",function(a){t.elementMouseout({dim:a})}).call(z);L.select(".nv-axis").each(function(a,b){d3.select(this).call(m.scale(h[a]).tickFormat(d3.format(d[b])))});L.select(".nv-parallelCoordinates-brush").each(function(a){d3.select(this).call(h[a].brush)}).selectAll("rect").attr("x",
-8).attr("width",16)});return a}var b={top:30,right:0,bottom:10,left:0},e=null,i=null,f=d3.scale.ordinal(),h={},g=[],d=[],k=c.utils.defaultColor(),l=[],u=[],q=[],n=1,t=d3.dispatch("brush","elementMouseover","elementMouseout");a.dispatch=t;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return i},set:function(a){i=a}},dimensionNames:{get:function(){return g},set:function(a){g=a}},dimensionFormats:{get:function(){return d},
set:function(a){d=a}},lineTension:{get:function(){return n},set:function(a){n=a}},dimensions:{get:function(){return g},set:function(a){c.deprecated("dimensions","use dimensionNames instead");g=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return k},set:function(a){k=c.utils.getColor(a)}}});c.utils.initOptions(a);
return a};c.models.pie=function(){function a(r){F.reset();r.each(function(a){var r=e-b.left-b.right,I=i-b.top-b.bottom,L=Math.min(r,I)/2,B=[],K=[];d=d3.select(this);if(H.length===0)for(var G=L-L/5,O=y*L,M=0;M<a[0].length;M++){B.push(G);K.push(O)}else{B=H.map(function(a){return(a.outer-a.outer/5)*L});K=H.map(function(a){return(a.inner-a.inner/5)*L});y=d3.min(H.map(function(a){return a.inner-a.inner/5}))}c.utils.initSVG(d);var G=d.selectAll(".nv-wrap.nv-pie").data(a),M=G.enter().append("g").attr("class",
"nvd3 nv-wrap nv-pie nv-chart-"+g).append("g"),S=G.select("g"),O=M.append("g").attr("class","nv-pie");M.append("g").attr("class","nv-pieLabels");G.attr("transform","translate("+b.left+","+b.top+")");S.select(".nv-pie").attr("transform","translate("+r/2+","+I/2+")");S.select(".nv-pieLabels").attr("transform","translate("+r/2+","+I/2+")");d.on("click",function(a,b){m.chartClick({data:a,index:b,pos:d3.event,id:g})});x=[];A=[];for(M=0;M<a[0].length;M++){var S=d3.svg.arc().outerRadius(B[M]),ba=d3.svg.arc().outerRadius(B[M]+
5);if(p!==false){S.startAngle(p);ba.startAngle(p)}if(D!==false){S.endAngle(D);ba.endAngle(D)}if(o){S.innerRadius(K[M]);ba.innerRadius(K[M])}if(S.cornerRadius&&z){S.cornerRadius(z);ba.cornerRadius(z)}x.push(S);A.push(ba)}K=d3.layout.pie().sort(null).value(function(a){return a.disabled?0:h(a)});K.padAngle&&v&&K.padAngle(v);if(o&&j){O.append("text").attr("class","nv-pie-title");G.select(".nv-pie-title").style("text-anchor","middle").text(function(){return j}).style("font-size",Math.min(r,I)*y*2/(j.length+
2)+"px").attr("dy","0.35em").attr("transform",function(){return"translate(0, "+E+")"})}r=G.select(".nv-pie").selectAll(".nv-slice").data(K);I=G.select(".nv-pieLabels").selectAll(".nv-label").data(K);r.exit().remove();I.exit().remove();K=r.enter().append("g");K.attr("class","nv-slice");K.on("mouseover",function(a,b){d3.select(this).classed("hover",true);C&&d3.select(this).select("path").transition().duration(70).attr("d",A[b]);m.elementMouseover({data:a.data,index:b,color:d3.select(this).style("fill")})});
K.on("mouseout",function(a,b){d3.select(this).classed("hover",false);C&&d3.select(this).select("path").transition().duration(50).attr("d",x[b]);m.elementMouseout({data:a.data,index:b})});K.on("mousemove",function(a,b){m.elementMousemove({data:a.data,index:b})});K.on("click",function(a,b){m.elementClick({data:a.data,index:b,color:d3.select(this).style("fill")})});K.on("dblclick",function(a,b){m.elementDblClick({data:a.data,index:b,color:d3.select(this).style("fill")})});r.attr("fill",function(a,b){return k(a.data,
b)});r.attr("stroke",function(a,b){return k(a.data,b)});K.append("path").each(function(a){this._current=a});r.select("path").transition().attr("d",function(a,b){return x[b](a)}).attrTween("d",function(a,b){a.endAngle=isNaN(a.endAngle)?0:a.endAngle;a.startAngle=isNaN(a.startAngle)?0:a.startAngle;if(!o)a.innerRadius=0;var c=d3.interpolate(this._current,a);this._current=c(0);return function(a){return x[b](c(a))}});if(u){for(var N=[],M=0;M<a[0].length;M++){N.push(x[M]);if(q){if(o){N[M]=d3.svg.arc().outerRadius(x[M].outerRadius());
p!==false&&N[M].startAngle(p);D!==false&&N[M].endAngle(D)}}else o||N[M].innerRadius(0)}I.enter().append("g").classed("nv-label",true).each(function(a){var b=d3.select(this);b.attr("transform",function(a,b){if(s){a.outerRadius=B[b]+10;a.innerRadius=B[b]+15;var c=(a.startAngle+a.endAngle)/2*(180/Math.PI),c=(a.startAngle+a.endAngle)/2<Math.PI?c-90:c+90;return"translate("+N[b].centroid(a)+") rotate("+c+")"}a.outerRadius=L+10;a.innerRadius=L+15;return"translate("+N[b].centroid(a)+")"});b.append("rect").style("stroke",
"#fff").style("fill","#fff").attr("rx",3).attr("ry",3);b.append("text").style("text-anchor",s?(a.startAngle+a.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var P={},V=function(a){return Math.floor(a[0]/140)*140+","+Math.floor(a[1]/14)*14};I.watchTransition(F,"pie labels").attr("transform",function(a,b){if(s){a.outerRadius=B[b]+10;a.innerRadius=B[b]+15;var c=(a.startAngle+a.endAngle)/2*(180/Math.PI),c=(a.startAngle+a.endAngle)/2<Math.PI?c-90:c+90;return"translate("+N[b].centroid(a)+
") rotate("+c+")"}a.outerRadius=L+10;a.innerRadius=L+15;c=N[b].centroid(a);if(a.value){var d=V(c);P[d]&&(c[1]=c[1]-14);P[V(c)]=true}return"translate("+c+")"});I.select(".nv-label text").style("text-anchor",function(a){return s?(a.startAngle+a.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(a,b){var c=(a.endAngle-a.startAngle)/(2*Math.PI),d="";if(!a.value||c<t)return"";if(typeof n==="function")d=n(a,b,{key:f(a.data),value:h(a.data),percent:l(c)});else switch(n){case "key":d=f(a.data);break;
case "value":d=l(h(a.data));break;case "percent":d=d3.format("%")(c)}return d})}});F.renderEnd("pie immediate");return a}var b={top:0,right:0,bottom:0,left:0},e=500,i=500,f=function(a){return a.x},h=function(a){return a.y},g=Math.floor(Math.random()*1E4),d=null,k=c.utils.defaultColor(),l=d3.format(",.2f"),u=true,q=false,n="key",t=0.02,o=false,j=false,C=true,E=0,s=false,p=false,v=false,D=false,z=0,y=0.5,H=[],m=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout",
"elementMousemove","renderEnd"),x=[],A=[],F=c.utils.renderWatch(m);a.dispatch=m;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{arcsRadius:{get:function(){return H},set:function(a){H=a}},width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return i},set:function(a){i=a}},showLabels:{get:function(){return u},set:function(a){u=a}},title:{get:function(){return j},set:function(a){j=a}},titleOffset:{get:function(){return E},set:function(a){E=a}},labelThreshold:{get:function(){return t},
set:function(a){t=a}},valueFormat:{get:function(){return l},set:function(a){l=a}},x:{get:function(){return f},set:function(a){f=a}},id:{get:function(){return g},set:function(a){g=a}},endAngle:{get:function(){return D},set:function(a){D=a}},startAngle:{get:function(){return p},set:function(a){p=a}},padAngle:{get:function(){return v},set:function(a){v=a}},cornerRadius:{get:function(){return z},set:function(a){z=a}},donutRatio:{get:function(){return y},set:function(a){y=a}},labelsOutside:{get:function(){return q},
set:function(a){q=a}},labelSunbeamLayout:{get:function(){return s},set:function(a){s=a}},donut:{get:function(){return o},set:function(a){o=a}},growOnHover:{get:function(){return C},set:function(a){C=a}},pieLabelsOutside:{get:function(){return q},set:function(a){q=a;c.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return q},set:function(a){q=a;c.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return l},set:function(a){l=
a;c.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return b},set:function(a){b.top=typeof a.top!="undefined"?a.top:b.top;b.right=typeof a.right!="undefined"?a.right:b.right;b.bottom=typeof a.bottom!="undefined"?a.bottom:b.bottom;b.left=typeof a.left!="undefined"?a.left:b.left}},y:{get:function(){return h},set:function(a){h=d3.functor(a)}},color:{get:function(){return k},set:function(a){k=c.utils.getColor(a)}},labelType:{get:function(){return n},set:function(a){n=a||"key"}}});
c.utils.initOptions(a);return a};c.models.pieChart=function(){function a(i){j.reset();j.models(b);i.each(function(j){var i=d3.select(this);c.utils.initSVG(i);var n=c.utils.availableWidth(h,i,f),l=c.utils.availableHeight(g,i,f);a.update=function(){i.transition().call(a)};a.container=this;u.setter(E(j),a.update).getter(C(j)).update();u.disabled=j.map(function(a){return!!a.disabled});if(!q){var s;q={};for(s in u)q[s]=u[s]instanceof Array?u[s].slice(0):u[s]}if(!j||!j.length){c.utils.noData(a,i);return a}i.selectAll(".nv-noData").remove();
s=i.selectAll("g.nv-wrap.nv-pieChart").data([j]);var t=s.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),m=s.select("g");t.append("g").attr("class","nv-pieWrap");t.append("g").attr("class","nv-legendWrap");if(d)if(k==="top"){e.width(n).key(b.x());s.select(".nv-legendWrap").datum(j).call(e);if(f.top!=e.height()){f.top=e.height();l=c.utils.availableHeight(g,i,f)}s.select(".nv-legendWrap").attr("transform","translate(0,"+-f.top+")")}else if(k==="right"){t=c.models.legend().width();
n/2<t&&(t=n/2);e.height(l).key(b.x());e.width(t);n=n-e.width();s.select(".nv-legendWrap").datum(j).call(e).attr("transform","translate("+n+",0)")}s.attr("transform","translate("+f.left+","+f.top+")");b.width(n).height(l);n=m.select(".nv-pieWrap").datum([j]);d3.transition(n).call(b);e.dispatch.on("stateChange",function(b){for(var c in b)u[c]=b[c];o.stateChange(u);a.update()});o.on("changeState",function(b){if(typeof b.disabled!=="undefined"){j.forEach(function(a,c){a.disabled=b.disabled[c]});u.disabled=
b.disabled}a.update()})});j.renderEnd("pieChart immediate");return a}var b=c.models.pie(),e=c.models.legend(),i=c.models.tooltip(),f={top:30,right:20,bottom:20,left:20},h=null,g=null,d=true,k="top",l=c.utils.defaultColor(),u=c.utils.state(),q=null,n=null,t=250,o=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd");i.headerEnabled(false).duration(0).valueFormatter(function(a,c){return b.valueFormat()(a,c)});var j=c.utils.renderWatch(o),C=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},
E=function(a){return function(b){b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};b.dispatch.on("elementMouseover.tooltip",function(b){b.series={key:a.x()(b.data),value:a.y()(b.data),color:b.color};i.data(b).hidden(false)});b.dispatch.on("elementMouseout.tooltip",function(){i.hidden(true)});b.dispatch.on("elementMousemove.tooltip",function(){i.position({top:d3.event.pageY,left:d3.event.pageX})()});a.legend=e;a.dispatch=o;a.pie=b;a.tooltip=i;a.options=c.utils.optionsFunc.bind(a);
a._options=Object.create({},{noData:{get:function(){return n},set:function(a){n=a}},showLegend:{get:function(){return d},set:function(a){d=a}},legendPosition:{get:function(){return k},set:function(a){k=a}},defaultState:{get:function(){return q},set:function(a){q=a}},tooltips:{get:function(){return i.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");i.enabled(!!a)}},tooltipContent:{get:function(){return i.contentGenerator()},set:function(a){c.deprecated("tooltipContent",
"use chart.tooltip.contentGenerator() instead");i.contentGenerator(a)}},color:{get:function(){return l},set:function(a){l=a;e.color(l);b.color(l)}},duration:{get:function(){return t},set:function(a){t=a;j.reset(t)}},margin:{get:function(){return f},set:function(a){f.top=a.top!==void 0?a.top:f.top;f.right=a.right!==void 0?a.right:f.right;f.bottom=a.bottom!==void 0?a.bottom:f.bottom;f.left=a.left!==void 0?a.left:f.left}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.scatter=
function(){function a(B){S.reset();B.each(function(a){g=d3.select(this);var B=c.utils.availableWidth(e,g,b),N=c.utils.availableHeight(i,g,b);c.utils.initSVG(g);a.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});var U=m&&x&&r?[]:d3.merge(a.map(function(a){return a.values.map(function(a,b){return{x:u(a,b),y:q(a,b),size:n(a,b)}})}));d.domain(m||d3.extent(U.map(function(a){return a.x}).concat(o)));p&&a[0]?d.range(A||[(B*v+B)/(2*a[0].values.length),B-B*(1+v)/(2*a[0].values.length)]):d.range(A||
[0,B]);k.domain(x||d3.extent(U.map(function(a){return a.y}).concat(j))).range(F||[N,0]);l.domain(r||d3.extent(U.map(function(a){return a.size}).concat(C))).range(J||ba);w=d.domain()[0]===d.domain()[1]||k.domain()[0]===k.domain()[1];d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-d.domain()[0]*0.01,d.domain()[1]+d.domain()[1]*0.01]):d.domain([-1,1]));k.domain()[0]===k.domain()[1]&&(k.domain()[0]?k.domain([k.domain()[0]-k.domain()[0]*0.01,k.domain()[1]+k.domain()[1]*0.01]):k.domain([-1,
1]));isNaN(d.domain()[0])&&d.domain([-1,1]);isNaN(k.domain()[0])&&k.domain([-1,1]);K=K||d;G=G||k;var W=g.selectAll("g.nv-wrap.nv-scatter").data([a]),U=W.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+h),Z=U.append("defs"),$=U.append("g"),Q=W.select("g");W.classed("nv-single-point",w);$.append("g").attr("class","nv-groups");$.append("g").attr("class","nv-point-paths");U.append("g").attr("class","nv-point-clips");W.attr("transform","translate("+b.left+","+b.top+")");Z.append("clipPath").attr("id",
"nv-edge-clip-"+h).append("rect");W.select("#nv-edge-clip-"+h+" rect").attr("width",B).attr("height",N>0?N:0);Q.attr("clip-path",D?"url(#nv-edge-clip-"+h+")":"");M=true;B=W.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});B.enter().append("g").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6);B.exit().remove();B.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover});B.watchTransition(S,"scatter: groups").style("fill",
function(a,b){return f(a,b)}).style("stroke",function(a,b){return f(a,b)}).style("stroke-opacity",1).style("fill-opacity",0.5);N=B.selectAll("path.nv-point").data(function(a){return a.values.map(function(a,b){return[a,b]}).filter(function(a,b){return s(a[0],b)})});N.enter().append("path").style("fill",function(a){return a.color}).style("stroke",function(a){return a.color}).attr("transform",function(a){return"translate("+K(u(a[0],a[1]))+","+G(q(a[0],a[1]))+")"}).attr("d",c.utils.symbol().type(function(a){return t(a[0])}).size(function(a){return l(n(a[0],
a[1]))}));N.exit().remove();B.exit().selectAll("path.nv-point").watchTransition(S,"scatter exit").attr("transform",function(a){return"translate("+d(u(a[0],a[1]))+","+k(q(a[0],a[1]))+")"}).remove();N.each(function(a){d3.select(this).classed("nv-point",true).classed("nv-point-"+a[1],true).classed("nv-noninteractive",!E).classed("hover",false)});N.watchTransition(S,"scatter points").attr("transform",function(a){return"translate("+d(u(a[0],a[1]))+","+k(q(a[0],a[1]))+")"}).attr("d",c.utils.symbol().type(function(a){return t(a[0])}).size(function(a){return l(n(a[0],
a[1]))}));clearTimeout(O);O=setTimeout(function(){M=false;if(!E)return false;if(L===true){var c=d3.merge(a.map(function(a,b){return a.values.map(function(a,c){var e=u(a,c),f=q(a,c);return[d(e)+Math.random()*1.0E-4,k(f)+Math.random()*1.0E-4,b,c,a]}).filter(function(a,b){return s(a[4],b)})}));if(c.length==0)return false;if(c.length<3){c.push([d.range()[0]-20,k.range()[0]-20,null,null]);c.push([d.range()[1]+20,k.range()[1]+20,null,null]);c.push([d.range()[0]-20,k.range()[0]+20,null,null]);c.push([d.range()[1]+
20,k.range()[1]-20,null,null])}var j=d3.geom.polygon([[-10,-10],[-10,i+10],[e+10,i+10],[e+10,-10]]),p=d3.geom.voronoi(c).map(function(a,b){return{data:j.clip(a),series:c[b][2],point:c[b][3]}});W.select(".nv-point-paths").selectAll("path").remove();var p=W.select(".nv-point-paths").selectAll("path").data(p),m=p.enter().append("svg:path").attr("d",function(a){return!a||!a.data||a.data.length===0?"M 0 0":"M"+a.data.join(",")+"Z"}).attr("id",function(a,b){return"nv-path-"+b}).attr("clip-path",function(a,
b){return"url(#nv-clip-"+h+"-"+b+")"});y&&m.style("fill",d3.rgb(230,230,230)).style("fill-opacity",0.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200));if(z){W.select(".nv-point-clips").selectAll("*").remove();W.select(".nv-point-clips").selectAll("clipPath").data(c).enter().append("svg:clipPath").attr("id",function(a,b){return"nv-clip-"+h+"-"+b}).append("svg:circle").attr("cx",function(a){return a[0]}).attr("cy",function(a){return a[1]}).attr("r",H)}var r=function(c,e){if(M)return 0;
var j=a[c.series];if(j!==void 0){var h=j.values[c.point];h.color=f(j,c.series);h.x=u(h);h.y=q(h);var i=g.node().getBoundingClientRect(),p=window.pageYOffset||document.documentElement.scrollTop,m=window.pageXOffset||document.documentElement.scrollLeft,i={left:d(u(h,c.point))+i.left+m+b.left+10,top:k(q(h,c.point))+i.top+p+b.top+10};e({point:h,series:j,pos:i,relativePos:[d(u(h,c.point))+b.left,k(q(h,c.point))+b.top],seriesIndex:c.series,pointIndex:c.point})}};p.on("click",function(a){r(a,I.elementClick)}).on("dblclick",
function(a){r(a,I.elementDblClick)}).on("mouseover",function(a){r(a,I.elementMouseover)}).on("mouseout",function(a){r(a,I.elementMouseout)})}else W.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(c,e){if(M||!a[c.series])return 0;var f=a[c.series],g=f.values[e];I.elementClick({point:g,series:f,pos:[d(u(g,e))+b.left,k(q(g,e))+b.top],relativePos:[d(u(g,e))+b.left,k(q(g,e))+b.top],seriesIndex:c.series,pointIndex:e})}).on("dblclick",function(c,e){if(M||!a[c.series])return 0;
var f=a[c.series],g=f.values[e];I.elementDblClick({point:g,series:f,pos:[d(u(g,e))+b.left,k(q(g,e))+b.top],relativePos:[d(u(g,e))+b.left,k(q(g,e))+b.top],seriesIndex:c.series,pointIndex:e})}).on("mouseover",function(c,e){if(M||!a[c.series])return 0;var g=a[c.series],j=g.values[e];I.elementMouseover({point:j,series:g,pos:[d(u(j,e))+b.left,k(q(j,e))+b.top],relativePos:[d(u(j,e))+b.left,k(q(j,e))+b.top],seriesIndex:c.series,pointIndex:e,color:f(c,e)})}).on("mouseout",function(c,e){if(M||!a[c.series])return 0;
var g=a[c.series],j=g.values[e];I.elementMouseout({point:j,series:g,pos:[d(u(j,e))+b.left,k(q(j,e))+b.top],relativePos:[d(u(j,e))+b.left,k(q(j,e))+b.top],seriesIndex:c.series,pointIndex:e,color:f(c,e)})})},300);K=d.copy();G=k.copy();l.copy()});S.renderEnd("scatter immediate");return a}var b={top:0,right:0,bottom:0,left:0},e=null,i=null,f=c.utils.defaultColor(),h=Math.floor(Math.random()*1E5),g=null,d=d3.scale.linear(),k=d3.scale.linear(),l=d3.scale.linear(),u=function(a){return a.x},q=function(a){return a.y},
n=function(a){return a.size||1},t=function(a){return a.shape||"circle"},o=[],j=[],C=[],E=true,s=function(a){return!a.notActive},p=false,v=0.1,D=false,z=true,y=false,H=function(){return 25},m=null,x=null,A=null,F=null,r=null,J=null,w=false,I=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),L=true,B=250,K,G,O,M=false,S=c.utils.renderWatch(I,B),ba=[16,256];a.dispatch=I;a.options=c.utils.optionsFunc.bind(a);a._calls=new function(){this.clearHighlights=function(){c.dom.write(function(){g.selectAll(".nv-point.hover").classed("hover",
false)});return null};this.highlightPoint=function(a,b,d){c.dom.write(function(){g.select(".nv-groups").selectAll(".nv-series-"+a).selectAll(".nv-point-"+b).classed("hover",d)})}};I.on("elementMouseover.point",function(b){E&&a._calls.highlightPoint(b.seriesIndex,b.pointIndex,true)});I.on("elementMouseout.point",function(b){E&&a._calls.highlightPoint(b.seriesIndex,b.pointIndex,false)});a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return i},
set:function(a){i=a}},xScale:{get:function(){return d},set:function(a){d=a}},yScale:{get:function(){return k},set:function(a){k=a}},pointScale:{get:function(){return l},set:function(a){l=a}},xDomain:{get:function(){return m},set:function(a){m=a}},yDomain:{get:function(){return x},set:function(a){x=a}},pointDomain:{get:function(){return r},set:function(a){r=a}},xRange:{get:function(){return A},set:function(a){A=a}},yRange:{get:function(){return F},set:function(a){F=a}},pointRange:{get:function(){return J},
set:function(a){J=a}},forceX:{get:function(){return o},set:function(a){o=a}},forceY:{get:function(){return j},set:function(a){j=a}},forcePoint:{get:function(){return C},set:function(a){C=a}},interactive:{get:function(){return E},set:function(a){E=a}},pointActive:{get:function(){return s},set:function(a){s=a}},padDataOuter:{get:function(){return v},set:function(a){v=a}},padData:{get:function(){return p},set:function(a){p=a}},clipEdge:{get:function(){return D},set:function(a){D=a}},clipVoronoi:{get:function(){return z},
set:function(a){z=a}},clipRadius:{get:function(){return H},set:function(a){H=a}},showVoronoi:{get:function(){return y},set:function(a){y=a}},id:{get:function(){return h},set:function(a){h=a}},x:{get:function(){return u},set:function(a){u=d3.functor(a)}},y:{get:function(){return q},set:function(a){q=d3.functor(a)}},pointSize:{get:function(){return n},set:function(a){n=d3.functor(a)}},pointShape:{get:function(){return t},set:function(a){t=d3.functor(a)}},margin:{get:function(){return b},set:function(a){b.top=
a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},duration:{get:function(){return B},set:function(a){B=a;S.reset(B)}},color:{get:function(){return f},set:function(a){f=c.utils.getColor(a)}},useVoronoi:{get:function(){return L},set:function(a){L=a;L===false&&(z=false)}}});c.utils.initOptions(a);return a};c.models.scatterChart=function(){function a(r){x.reset();x.models(b);s&&x.models(e);p&&x.models(i);
j&&x.models(h);C&&x.models(g);r.each(function(r){q=d3.select(this);c.utils.initSVG(q);var w=c.utils.availableWidth(l,q,k),H=c.utils.availableHeight(u,q,k);a.update=function(){m===0?q.call(a):q.transition().duration(m).call(a)};a.container=this;D.setter(F(r),a.update).getter(A(r)).update();D.disabled=r.map(function(a){return!!a.disabled});if(!z){var L;z={};for(L in D)z[L]=D[L]instanceof Array?D[L].slice(0):D[L]}if(!r||!r.length||!r.filter(function(a){return a.values.length}).length){c.utils.noData(a,
q);x.renderEnd("scatter immediate");return a}q.selectAll(".nv-noData").remove();t=b.xScale();o=b.yScale();var B=q.selectAll("g.nv-wrap.nv-scatterChart").data([r]);L=B.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+b.id()).append("g");var K=B.select("g");L.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none");L.append("g").attr("class","nv-x nv-axis");L.append("g").attr("class","nv-y nv-axis");L.append("g").attr("class","nv-scatterWrap");L.append("g").attr("class",
"nv-regressionLinesWrap");L.append("g").attr("class","nv-distWrap");L.append("g").attr("class","nv-legendWrap");v&&K.select(".nv-y.nv-axis").attr("transform","translate("+w+",0)");if(E){f.width(w);B.select(".nv-legendWrap").datum(r).call(f);if(k.top!=f.height()){k.top=f.height();H=c.utils.availableHeight(u,q,k)}B.select(".nv-legendWrap").attr("transform","translate(0,"+-k.top+")")}B.attr("transform","translate("+k.left+","+k.top+")");b.width(w).height(H).color(r.map(function(a,b){a.color=a.color||
n(a,b);return a.color}).filter(function(a,b){return!r[b].disabled}));B.select(".nv-scatterWrap").datum(r.filter(function(a){return!a.disabled})).call(b);B.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+b.id()+")");B=B.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(a){return a});B.enter().append("g").attr("class","nv-regLines");B=B.selectAll(".nv-regLine").data(function(a){return[a]});B.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",
0);B.filter(function(a){return a.intercept&&a.slope}).watchTransition(x,"scatterPlusLineChart: regline").attr("x1",t.range()[0]).attr("x2",t.range()[1]).attr("y1",function(a){return o(t.domain()[0]*a.slope+a.intercept)}).attr("y2",function(a){return o(t.domain()[1]*a.slope+a.intercept)}).style("stroke",function(a,b,c){return n(a,c)}).style("stroke-opacity",function(a){return a.disabled||typeof a.slope==="undefined"||typeof a.intercept==="undefined"?0:1});if(s){e.scale(t)._ticks(c.utils.calcTicksX(w/
100,r)).tickSize(-H,0);K.select(".nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")").call(e)}if(p){i.scale(o)._ticks(c.utils.calcTicksY(H/36,r)).tickSize(-w,0);K.select(".nv-y.nv-axis").call(i)}if(j){h.getData(b.x()).scale(t).width(w).color(r.map(function(a,b){return a.color||n(a,b)}).filter(function(a,b){return!r[b].disabled}));L.select(".nv-distWrap").append("g").attr("class","nv-distributionX");K.select(".nv-distributionX").attr("transform","translate(0,"+o.range()[0]+")").datum(r.filter(function(a){return!a.disabled})).call(h)}if(C){g.getData(b.y()).scale(o).width(H).color(r.map(function(a,
b){return a.color||n(a,b)}).filter(function(a,b){return!r[b].disabled}));L.select(".nv-distWrap").append("g").attr("class","nv-distributionY");K.select(".nv-distributionY").attr("transform","translate("+(v?w:-g.size())+",0)").datum(r.filter(function(a){return!a.disabled})).call(g)}f.dispatch.on("stateChange",function(b){for(var c in b)D[c]=b[c];y.stateChange(D);a.update()});y.on("changeState",function(b){if(typeof b.disabled!=="undefined"){r.forEach(function(a,c){a.disabled=b.disabled[c]});D.disabled=
b.disabled}a.update()});b.dispatch.on("elementMouseout.tooltip",function(a){d.hidden(true);q.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",0);q.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",g.size())});b.dispatch.on("elementMouseover.tooltip",function(a){q.select(".nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",a.relativePos[1]-H);q.select(".nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",
a.relativePos[0]+h.size());d.position(a.pos).data(a).hidden(false)});t.copy();o.copy()});x.renderEnd("scatter with line immediate");return a}var b=c.models.scatter(),e=c.models.axis(),i=c.models.axis(),f=c.models.legend(),h=c.models.distribution(),g=c.models.distribution(),d=c.models.tooltip(),k={top:30,right:20,bottom:50,left:75},l=null,u=null,q=null,n=c.utils.defaultColor(),t=b.xScale(),o=b.yScale(),j=false,C=false,E=true,s=true,p=true,v=false,D=c.utils.state(),z=null,y=d3.dispatch("stateChange",
"changeState","renderEnd"),H=null,m=250;b.xScale(t).yScale(o);e.orient("bottom").tickPadding(10);i.orient(v?"right":"left").tickPadding(10);h.axis("x");g.axis("y");d.headerFormatter(function(a,b){return e.tickFormat()(a,b)}).valueFormatter(function(a,b){return i.tickFormat()(a,b)});var x=c.utils.renderWatch(y,m),A=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},F=function(a){return function(b){b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};
a.dispatch=y;a.scatter=b;a.legend=f;a.xAxis=e;a.yAxis=i;a.distX=h;a.distY=g;a.tooltip=d;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return u},set:function(a){u=a}},container:{get:function(){return q},set:function(a){q=a}},showDistX:{get:function(){return j},set:function(a){j=a}},showDistY:{get:function(){return C},set:function(a){C=a}},showLegend:{get:function(){return E},set:function(a){E=a}},showXAxis:{get:function(){return s},
set:function(a){s=a}},showYAxis:{get:function(){return p},set:function(a){p=a}},defaultState:{get:function(){return z},set:function(a){z=a}},noData:{get:function(){return H},set:function(a){H=a}},duration:{get:function(){return m},set:function(a){m=a}},tooltips:{get:function(){return d.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");d.enabled(!!a)}},tooltipContent:{get:function(){return d.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");
d.contentGenerator(a)}},tooltipXContent:{get:function(){return d.contentGenerator()},set:function(){c.deprecated("tooltipContent","This option is removed, put values into main tooltip.")}},tooltipYContent:{get:function(){return d.contentGenerator()},set:function(){c.deprecated("tooltipContent","This option is removed, put values into main tooltip.")}},margin:{get:function(){return k},set:function(a){k.top=a.top!==void 0?a.top:k.top;k.right=a.right!==void 0?a.right:k.right;k.bottom=a.bottom!==void 0?
a.bottom:k.bottom;k.left=a.left!==void 0?a.left:k.left}},rightAlignYAxis:{get:function(){return v},set:function(a){v=a;i.orient(a?"right":"left")}},color:{get:function(){return n},set:function(a){n=c.utils.getColor(a);f.color(n);h.color(n);g.color(n)}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.sparkline=function(){function a(j){j.each(function(a){var j=e-b.left-b.right,h=i-b.top-b.bottom;f=d3.select(this);c.utils.initSVG(f);g.domain(q||d3.extent(a,k)).range(t||[0,j]);
d.domain(n||d3.extent(a,l)).range(o||[h,0]);a=f.selectAll("g.nv-wrap.nv-sparkline").data([a]);a.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline").append("g");a.select("g");a.attr("transform","translate("+b.left+","+b.top+")");j=a.selectAll("path").data(function(a){return[a]});j.enter().append("path");j.exit().remove();j.style("stroke",function(a,b){return a.color||u(a,b)}).attr("d",d3.svg.line().x(function(a,b){return g(k(a,b))}).y(function(a,b){return d(l(a,b))}));a=a.selectAll("circle.nv-point").data(function(a){function b(c){if(c!=
-1){var d=a[c];d.pointIndex=c;return d}return null}var c=a.map(function(a,b){return l(a,b)}),e=b(c.lastIndexOf(d.domain()[1])),f=b(c.indexOf(d.domain()[0])),c=b(c.length-1);return[f,e,c].filter(function(a){return a!=null})});a.enter().append("circle");a.exit().remove();a.attr("cx",function(a){return g(k(a,a.pointIndex))}).attr("cy",function(a){return d(l(a,a.pointIndex))}).attr("r",2).attr("class",function(a){return k(a,a.pointIndex)==g.domain()[1]?"nv-point nv-currentValue":l(a,a.pointIndex)==d.domain()[0]?
"nv-point nv-minValue":"nv-point nv-maxValue"})});return a}var b={top:2,right:0,bottom:2,left:0},e=400,i=32,f=null,h=true,g=d3.scale.linear(),d=d3.scale.linear(),k=function(a){return a.x},l=function(a){return a.y},u=c.utils.getColor(["#000"]),q,n,t,o;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return i},set:function(a){i=a}},xDomain:{get:function(){return q},set:function(a){q=a}},yDomain:{get:function(){return n},
set:function(a){n=a}},xRange:{get:function(){return t},set:function(a){t=a}},yRange:{get:function(){return o},set:function(a){o=a}},xScale:{get:function(){return g},set:function(a){g=a}},yScale:{get:function(){return d},set:function(a){d=a}},animate:{get:function(){return h},set:function(a){h=a}},x:{get:function(){return k},set:function(a){k=d3.functor(a)}},y:{get:function(){return l},set:function(a){l=d3.functor(a)}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;
b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return u},set:function(a){u=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.sparklinePlus=function(){function a(j){j.each(function(j){function o(){if(!k){var a=H.selectAll(".nv-hoverValue").data(d),c=a.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);a.exit().transition().duration(250).style("stroke-opacity",
0).style("fill-opacity",0).remove();a.attr("transform",function(a){return"translate("+h(b.x()(j[a],a))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1);if(d.length){c.append("line").attr("x1",0).attr("y1",-e.top).attr("x2",0).attr("y2",v);c.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-e.top).attr("text-anchor","end").attr("dy",".9em");H.select(".nv-hoverValue .nv-xValue").text(l(b.x()(j[d[0]],d[0])));c.append("text").attr("class","nv-yValue").attr("x",
6).attr("y",-e.top).attr("text-anchor","start").attr("dy",".9em");H.select(".nv-hoverValue .nv-yValue").text(u(b.y()(j[d[0]],d[0])))}}}var s=d3.select(this);c.utils.initSVG(s);var p=c.utils.availableWidth(i,s,e),v=c.utils.availableHeight(f,s,e);a.update=function(){s.call(a)};a.container=this;if(!j||!j.length){c.utils.noData(a,s);return a}s.selectAll(".nv-noData").remove();var D=b.y()(j[j.length-1],j.length-1);h=b.xScale();g=b.yScale();var z=s.selectAll("g.nv-wrap.nv-sparklineplus").data([j]),y=z.enter().append("g").attr("class",
"nvd3 nv-wrap nv-sparklineplus").append("g"),H=z.select("g");y.append("g").attr("class","nv-sparklineWrap");y.append("g").attr("class","nv-valueWrap");y.append("g").attr("class","nv-hoverArea");z.attr("transform","translate("+e.left+","+e.top+")");z=H.select(".nv-sparklineWrap");b.width(p).height(v);z.call(b);if(q){z=H.select(".nv-valueWrap").selectAll(".nv-currentValue").data([D]);z.enter().append("text").attr("class","nv-currentValue").attr("dx",t?-8:8).attr("dy",".9em").style("text-anchor",t?"end":
"start");z.attr("x",p+(t?e.right:0)).attr("y",n?function(a){return g(a)}:0).style("fill",b.color()(j[j.length-1],j.length-1)).text(u(D))}y.select(".nv-hoverArea").append("rect").on("mousemove",function(){if(!k){for(var a=d3.mouse(this)[0]-e.left,c=j,a=Math.round(h.invert(a)),f=Math.abs(b.x()(c[0],0)-a),g=0,i=0;i<c.length;i++)if(Math.abs(b.x()(c[i],i)-a)<f){f=Math.abs(b.x()(c[i],i)-a);g=i}d=[g];o()}}).on("click",function(){k=!k}).on("mouseout",function(){d=[];o()});H.select(".nv-hoverArea rect").attr("transform",
function(){return"translate("+-e.left+","+-e.top+")"}).attr("width",p+e.left+e.right).attr("height",v+e.top)});return a}var b=c.models.sparkline(),e={top:15,right:100,bottom:10,left:50},i=null,f=null,h,g,d=[],k=false,l=d3.format(",r"),u=d3.format(",.2f"),q=true,n=true,t=false,o=null;a.sparkline=b;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return i},set:function(a){i=a}},height:{get:function(){return f},set:function(a){f=a}},xTickFormat:{get:function(){return l},
set:function(a){l=a}},yTickFormat:{get:function(){return u},set:function(a){u=a}},showLastValue:{get:function(){return q},set:function(a){q=a}},alignValue:{get:function(){return n},set:function(a){n=a}},rightAlignValue:{get:function(){return t},set:function(a){t=a}},noData:{get:function(){return o},set:function(a){o=a}},margin:{get:function(){return e},set:function(a){e.top=a.top!==void 0?a.top:e.top;e.right=a.right!==void 0?a.right:e.right;e.bottom=a.bottom!==void 0?a.bottom:e.bottom;e.left=a.left!==
void 0?a.left:e.left}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.stackedArea=function(){function a(l){p.reset();p.models(C);l.each(function(l){var v=e-b.left-b.right,y=i-b.top-b.bottom;g=d3.select(this);c.utils.initSVG(g);o=C.xScale();j=C.yScale();var E=l;l.forEach(function(a,b){a.seriesIndex=b;a.values=a.values.map(function(a,c){a.index=c;a.seriesIndex=b;return a})});var l=l.filter(function(a){return!a.disabled}),l=d3.layout.stack().order(q).offset(u).values(function(a){return a.values}).x(d).y(k).out(function(a,
b,c){a.display={y:c,y0:b}})(l),m=g.selectAll("g.nv-wrap.nv-stackedarea").data([l]),x=m.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),A=x.append("defs"),x=x.append("g"),F=m.select("g");x.append("g").attr("class","nv-areaWrap");x.append("g").attr("class","nv-scatterWrap");m.attr("transform","translate("+b.left+","+b.top+")");C.forceY().length==0&&C.forceY().push(0);C.width(v).height(y).x(d).y(function(a){if(a.display!==void 0)return a.display.y+a.display.y0}).forceY([0]).color(l.map(function(a){return a.color||
f(a,a.seriesIndex)}));F.select(".nv-scatterWrap").datum(l).call(C);A.append("clipPath").attr("id","nv-edge-clip-"+h).append("rect");m.select("#nv-edge-clip-"+h+" rect").attr("width",v).attr("height",y);F.attr("clip-path",t?"url(#nv-edge-clip-"+h+")":"");var r=d3.svg.area().x(function(a,b){return o(d(a,b))}).y0(function(a){return j(a.display.y0)}).y1(function(a){return j(a.display.y+a.display.y0)}).interpolate(n),J=d3.svg.area().x(function(a,b){return o(d(a,b))}).y0(function(a){return j(a.display.y0)}).y1(function(a){return j(a.display.y0)}),
v=F.select(".nv-areaWrap").selectAll("path.nv-area").data(function(a){return a});v.enter().append("path").attr("class",function(a,b){return"nv-area nv-area-"+b}).attr("d",function(a){return J(a.values,a.seriesIndex)}).on("mouseover",function(a){d3.select(this).classed("hover",true);s.areaMouseover({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}).on("mouseout",function(a){d3.select(this).classed("hover",false);s.areaMouseout({point:a,series:a.key,pos:[d3.event.pageX,
d3.event.pageY],seriesIndex:a.seriesIndex})}).on("click",function(a){d3.select(this).classed("hover",false);s.areaClick({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})});v.exit().remove();v.style("fill",function(a){return a.color||f(a,a.seriesIndex)}).style("stroke",function(a){return a.color||f(a,a.seriesIndex)});v.watchTransition(p,"stackedArea path").attr("d",function(a,b){return r(a.values,b)});C.dispatch.on("elementMouseover.area",function(a){F.select(".nv-chart-"+
h+" .nv-area-"+a.seriesIndex).classed("hover",true)});C.dispatch.on("elementMouseout.area",function(a){F.select(".nv-chart-"+h+" .nv-area-"+a.seriesIndex).classed("hover",false)});a.d3_stackedOffset_stackPercent=function(a){var b=a.length,c=a[0].length,d,e,f,g=[];for(e=0;e<c;++e){for(f=d=0;d<E.length;d++)f=f+k(E[d].values[e]);if(f)for(d=0;d<b;d++)a[d][e][1]=a[d][e][1]/f;else for(d=0;d<b;d++)a[d][e][1]=0}for(e=0;e<c;++e)g[e]=0;return g}});p.renderEnd("stackedArea immediate");return a}var b={top:0,
right:0,bottom:0,left:0},e=960,i=500,f=c.utils.defaultColor(),h=Math.floor(Math.random()*1E5),g=null,d=function(a){return a.x},k=function(a){return a.y},l="stack",u="zero",q="default",n="linear",t=false,o,j,C=c.models.scatter(),E=250,s=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");C.pointSize(2.2).pointDomain([2.2,2.2]);var p=c.utils.renderWatch(s,E);a.dispatch=s;a.scatter=C;C.dispatch.on("elementClick",function(){s.elementClick.apply(this,
arguments)});C.dispatch.on("elementMouseover",function(){s.elementMouseover.apply(this,arguments)});C.dispatch.on("elementMouseout",function(){s.elementMouseout.apply(this,arguments)});a.interpolate=function(b){if(!arguments.length)return n;n=b;return a};a.duration=function(b){if(!arguments.length)return E;E=b;p.reset(E);C.duration(E);return a};a.dispatch=s;a.scatter=C;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return i},
set:function(a){i=a}},clipEdge:{get:function(){return t},set:function(a){t=a}},offset:{get:function(){return u},set:function(a){u=a}},order:{get:function(){return q},set:function(a){q=a}},interpolate:{get:function(){return n},set:function(a){n=a}},x:{get:function(){return d},set:function(a){d=d3.functor(a)}},y:{get:function(){return k},set:function(a){k=d3.functor(a)}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=
a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return f},set:function(a){f=c.utils.getColor(a)}},style:{get:function(){return l},set:function(b){l=b;switch(l){case "stack":a.offset("zero");a.order("default");break;case "stream":a.offset("wiggle");a.order("inside-out");break;case "stream-center":a.offset("silhouette");a.order("inside-out");break;case "expand":a.offset("expand");a.order("default");break;case "stack_percent":a.offset(a.d3_stackedOffset_stackPercent);
a.order("default")}}},duration:{get:function(){return E},set:function(a){E=a;p.reset(E);C.duration(E)}}});c.utils.inheritOptions(a,C);c.utils.initOptions(a);return a};c.models.stackedAreaChart=function(){function a(d){I.reset();I.models(b);o&&I.models(e);j&&I.models(i);d.each(function(d){var G=d3.select(this),H=this;c.utils.initSVG(G);var I=c.utils.availableWidth(l,G,k),N=c.utils.availableHeight(u,G,k);a.update=function(){G.transition().duration(r).call(a)};a.container=this;z.setter(B(d),a.update).getter(L(d)).update();
z.disabled=d.map(function(a){return!!a.disabled});if(!y){var P;y={};for(P in z)y[P]=z[P]instanceof Array?z[P].slice(0):z[P]}if(!d||!d.length||!d.filter(function(a){return a.values.length}).length){c.utils.noData(a,G);return a}G.selectAll(".nv-noData").remove();v=b.xScale();D=b.yScale();var V=G.selectAll("g.nv-wrap.nv-stackedAreaChart").data([d]),R=V.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g");P=V.select("g");R.append("rect").style("opacity",0);R.append("g").attr("class",
"nv-x nv-axis");R.append("g").attr("class","nv-y nv-axis");R.append("g").attr("class","nv-stackedWrap");R.append("g").attr("class","nv-legendWrap");R.append("g").attr("class","nv-controlsWrap");R.append("g").attr("class","nv-interactive");P.select("rect").attr("width",I).attr("height",N);if(t){R=n?I-x:I;f.width(R);P.select(".nv-legendWrap").datum(d).call(f);if(k.top!=f.height()){k.top=f.height();N=c.utils.availableHeight(u,G,k)}P.select(".nv-legendWrap").attr("transform","translate("+(I-R)+","+-k.top+
")")}if(n){var U=[{key:F.stacked||"Stacked",metaKey:"Stacked",disabled:b.style()!="stack",style:"stack"},{key:F.stream||"Stream",metaKey:"Stream",disabled:b.style()!="stream",style:"stream"},{key:F.expanded||"Expanded",metaKey:"Expanded",disabled:b.style()!="expand",style:"expand"},{key:F.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:b.style()!="stack_percent",style:"stack_percent"}];x=A.length/3*260;U=U.filter(function(a){return A.indexOf(a.metaKey)!==-1});h.width(x).color(["#444","#444",
"#444"]);P.select(".nv-controlsWrap").datum(U).call(h);if(k.top!=Math.max(h.height(),f.height())){k.top=Math.max(h.height(),f.height());N=c.utils.availableHeight(u,G,k)}P.select(".nv-controlsWrap").attr("transform","translate(0,"+-k.top+")")}V.attr("transform","translate("+k.left+","+k.top+")");C&&P.select(".nv-y.nv-axis").attr("transform","translate("+I+",0)");if(E){g.width(I).height(N).margin({left:k.left,top:k.top}).svgContainer(G).xScale(v);V.select(".nv-interactive").call(g)}b.width(I).height(N);
P.select(".nv-stackedWrap").datum(d).transition().call(b);if(o){e.scale(v)._ticks(c.utils.calcTicksX(I/100,d)).tickSize(-N,0);P.select(".nv-x.nv-axis").attr("transform","translate(0,"+N+")");P.select(".nv-x.nv-axis").transition().duration(0).call(e)}if(j){N=b.offset()==="wiggle"?0:c.utils.calcTicksY(N/36,d);i.scale(D)._ticks(N).tickSize(-I,0);if(b.style()==="expand"||b.style()==="stack_percent"){I=i.tickFormat();if(!J||I!==K)J=I;i.tickFormat(K)}else if(J){i.tickFormat(J);J=null}P.select(".nv-y.nv-axis").transition().duration(0).call(i)}b.dispatch.on("areaClick.toggle",
function(b){d.filter(function(a){return!a.disabled}).length===1?d.forEach(function(a){a.disabled=false}):d.forEach(function(a,c){a.disabled=c!=b.seriesIndex});z.disabled=d.map(function(a){return!!a.disabled});m.stateChange(z);a.update()});f.dispatch.on("stateChange",function(b){for(var c in b)z[c]=b[c];m.stateChange(z);a.update()});h.dispatch.on("legendClick",function(c){if(c.disabled){U=U.map(function(a){a.disabled=true;return a});c.disabled=false;b.style(c.style);z.style=b.style();m.stateChange(z);
a.update()}});g.dispatch.on("elementMousemove",function(f){b.clearHighlights();var h,i,j,l=[],m=0;d.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(d,e){i=c.interactiveBisect(d.values,f.pointXValue,a.x());var g=d.values[i];a.y()(g,i)!=null&&b.highlightPoint(e,i,true);if(typeof g!=="undefined"){typeof h==="undefined"&&(h=g);typeof j==="undefined"&&(j=a.xScale()(a.x()(g,i)));var k=b.style()=="expand"?g.display.y:a.y()(g,i);l.push({key:d.key,value:k,color:q(d,d.seriesIndex),
stackedValue:g.display});s&&b.style()!="expand"&&(m=m+k)}});l.reverse();if(l.length>2){var n=a.yScale().invert(f.mouseY),o=null;l.forEach(function(a,b){n=Math.abs(n);var c=Math.abs(a.stackedValue.y0),d=Math.abs(a.stackedValue.y);n>=c&&n<=d+c&&(o=b)});if(o!=null)l[o].highlight=true}s&&(b.style()!="expand"&&l.length>=2)&&l.push({key:p,value:m,total:true});var r=e.tickFormat()(a.x()(h,i)),t=g.tooltip.valueFormatter();if(b.style()==="expand"||b.style()==="stack_percent"){w||(w=t);t=d3.format(".1%")}else if(w){t=
w;w=null}g.tooltip.position({left:j+k.left,top:f.mouseY+k.top}).chartContainer(H.parentNode).valueFormatter(t).data({value:r,series:l})();g.renderGuideLine(j)});g.dispatch.on("elementMouseout",function(){b.clearHighlights()});m.on("changeState",function(c){if(typeof c.disabled!=="undefined"&&d.length===c.disabled.length){d.forEach(function(a,b){a.disabled=c.disabled[b]});z.disabled=c.disabled}typeof c.style!=="undefined"&&b.style(c.style);a.update()})});I.renderEnd("stacked Area chart immediate");
return a}var b=c.models.stackedArea(),e=c.models.axis(),i=c.models.axis(),f=c.models.legend(),h=c.models.legend(),g=c.interactiveGuideline(),d=c.models.tooltip(),k={top:30,right:25,bottom:50,left:60},l=null,u=null,q=c.utils.defaultColor(),n=true,t=true,o=true,j=true,C=false,E=false,s=true,p="TOTAL",v,D,z=c.utils.state(),y=null,H=null,m=d3.dispatch("stateChange","changeState","renderEnd"),x=250,A=["Stacked","Stream","Expanded"],F={},r=250;z.style=b.style();e.orient("bottom").tickPadding(7);i.orient(C?
"right":"left");d.headerFormatter(function(a,b){return e.tickFormat()(a,b)}).valueFormatter(function(a,b){return i.tickFormat()(a,b)});g.tooltip.headerFormatter(function(a,b){return e.tickFormat()(a,b)}).valueFormatter(function(a,b){return i.tickFormat()(a,b)});var J=null,w=null;h.updateState(false);var I=c.utils.renderWatch(m);b.style();var L=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),style:b.style()}}},B=function(a){return function(b){b.active!==void 0&&a.forEach(function(a,
c){a.disabled=!b.active[c]})}},K=d3.format("%");b.dispatch.on("elementMouseover.tooltip",function(a){a.point.x=b.x()(a.point);a.point.y=b.y()(a.point);d.data(a).position(a.pos).hidden(false)});b.dispatch.on("elementMouseout.tooltip",function(){d.hidden(true)});a.dispatch=m;a.stacked=b;a.legend=f;a.controls=h;a.xAxis=e;a.yAxis=i;a.interactiveLayer=g;a.tooltip=d;a.dispatch=m;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return u},
set:function(a){u=a}},showLegend:{get:function(){return t},set:function(a){t=a}},showXAxis:{get:function(){return o},set:function(a){o=a}},showYAxis:{get:function(){return j},set:function(a){j=a}},defaultState:{get:function(){return y},set:function(a){y=a}},noData:{get:function(){return H},set:function(a){H=a}},showControls:{get:function(){return n},set:function(a){n=a}},controlLabels:{get:function(){return F},set:function(a){F=a}},controlOptions:{get:function(){return A},set:function(a){A=a}},showTotalInTooltip:{get:function(){return s},
set:function(a){s=a}},totalLabel:{get:function(){return p},set:function(a){p=a}},tooltips:{get:function(){return d.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");d.enabled(!!a)}},tooltipContent:{get:function(){return d.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");d.contentGenerator(a)}},margin:{get:function(){return k},set:function(a){k.top=a.top!==void 0?a.top:k.top;k.right=a.right!==void 0?
a.right:k.right;k.bottom=a.bottom!==void 0?a.bottom:k.bottom;k.left=a.left!==void 0?a.left:k.left}},duration:{get:function(){return r},set:function(a){r=a;I.reset(r);b.duration(r);e.duration(r);i.duration(r)}},color:{get:function(){return q},set:function(a){q=c.utils.getColor(a);f.color(q);b.color(q)}},rightAlignYAxis:{get:function(){return C},set:function(a){C=a;i.orient(C?"right":"left")}},useInteractiveGuideline:{get:function(){return E},set:function(c){E=!!c;a.interactive(!c);a.useVoronoi(!c);
b.scatter.interactive(!c)}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.sunburst=function(){function a(p){s.reset();p.each(function(a){function p(a){a.x0=a.x;a.dx0=a.dx}function s(a){var b=d3.interpolate(q.domain(),[a.x,a.x+a.dx]),c=d3.interpolate(n.domain(),[a.y,1]),d=d3.interpolate(n.range(),[a.y?20:0,m]);return function(a,e){return e?function(){return o(a)}:function(e){q.domain(b(e));n.domain(c(e)).range(d(e));return o(a)}}}d=d3.select(this);var y=c.utils.availableWidth(e,
d,b),H=c.utils.availableHeight(i,d,b),m=Math.min(y,H)/2,x;c.utils.initSVG(d);var A=d.selectAll(".nv-wrap.nv-sunburst").data(a),F=A.enter().append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+g).selectAll("nv-sunburst");A.attr("transform","translate("+y/2+","+H/2+")");d.on("click",function(a,b){u.chartClick({data:a,index:b,pos:d3.event,id:g})});n.range([0,m]);j=j||a;E=a[0];t.value(h[f]||h.count);x=F.data(t.nodes).enter().append("path").attr("d",o).style("fill",function(a){return k((a.children?
a:a.parent).name)}).style("stroke","#FFF").on("click",function(a){C!==j&&j!==a&&(C=j);j=a;x.transition().duration(l).attrTween("d",s(a))}).each(p).on("dblclick",function(a){C.parent==a&&x.transition().duration(l).attrTween("d",s(E))}).each(p).on("mouseover",function(a){d3.select(this).classed("hover",true).style("opacity",0.8);u.elementMouseover({data:a,color:d3.select(this).style("fill")})}).on("mouseout",function(a){d3.select(this).classed("hover",false).style("opacity",1);u.elementMouseout({data:a})}).on("mousemove",
function(a){u.elementMousemove({data:a})})});s.renderEnd("sunburst immediate");return a}var b={top:0,right:0,bottom:0,left:0},e=null,i=null,f="count",h={count:function(){return 1},size:function(a){return a.size}},g=Math.floor(Math.random()*1E4),d=null,k=c.utils.defaultColor(),l=500,u=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),q=d3.scale.linear().range([0,2*Math.PI]),n=d3.scale.sqrt(),t=d3.layout.partition().sort(null).value(function(){return 1}),
o=d3.svg.arc().startAngle(function(a){return Math.max(0,Math.min(2*Math.PI,q(a.x)))}).endAngle(function(a){return Math.max(0,Math.min(2*Math.PI,q(a.x+a.dx)))}).innerRadius(function(a){return Math.max(0,n(a.y))}).outerRadius(function(a){return Math.max(0,n(a.y+a.dy))}),j,C,E,s=c.utils.renderWatch(u);a.dispatch=u;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return i},set:function(a){i=a}},mode:{get:function(){return f},
set:function(a){f=a}},id:{get:function(){return g},set:function(a){g=a}},duration:{get:function(){return l},set:function(a){l=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!=void 0?a.top:b.top;b.right=a.right!=void 0?a.right:b.right;b.bottom=a.bottom!=void 0?a.bottom:b.bottom;b.left=a.left!=void 0?a.left:b.left}},color:{get:function(){return k},set:function(a){k=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.sunburstChart=function(){function a(d){q.reset();q.models(b);
d.each(function(d){var e=d3.select(this);c.utils.initSVG(e);var g=c.utils.availableWidth(f,e,i),k=c.utils.availableHeight(h,e,i);a.update=function(){l===0?e.call(a):e.transition().duration(l).call(a)};a.container=this;if(!d||!d.length){c.utils.noData(a,e);return a}e.selectAll(".nv-noData").remove();var n=e.selectAll("g.nv-wrap.nv-sunburstChart").data(d),q=n.enter().append("g").attr("class","nvd3 nv-wrap nv-sunburstChart").append("g"),p=n.select("g");q.append("g").attr("class","nv-sunburstWrap");n.attr("transform",
"translate("+i.left+","+i.top+")");b.width(g).height(k);d=p.select(".nv-sunburstWrap").datum(d);d3.transition(d).call(b)});q.renderEnd("sunburstChart immediate");return a}var b=c.models.sunburst(),e=c.models.tooltip(),i={top:30,right:20,bottom:20,left:20},f=null,h=null,g=c.utils.defaultColor();Math.round(Math.random()*1E5);var d=null,k=null,l=250,u=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),q=c.utils.renderWatch(u);e.headerEnabled(false).duration(0).valueFormatter(function(a){return a});
b.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:a.data.name,value:a.data.size,color:a.color};e.data(a).hidden(false)});b.dispatch.on("elementMouseout.tooltip",function(){e.hidden(true)});b.dispatch.on("elementMousemove.tooltip",function(){e.position({top:d3.event.pageY,left:d3.event.pageX})()});a.dispatch=u;a.sunburst=b;a.tooltip=e;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{noData:{get:function(){return k},set:function(a){k=a}},defaultState:{get:function(){return d},
set:function(a){d=a}},color:{get:function(){return g},set:function(a){g=a;b.color(g)}},duration:{get:function(){return l},set:function(a){l=a;q.reset(l);b.duration(l)}},margin:{get:function(){return i},set:function(a){i.top=a.top!==void 0?a.top:i.top;i.right=a.right!==void 0?a.right:i.right;i.bottom=a.bottom!==void 0?a.bottom:i.bottom;i.left=a.left!==void 0?a.left:i.left}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.version="1.8.1-dev"})();
