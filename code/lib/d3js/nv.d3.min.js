(function(){var c={dev:!1};c.tooltip=c.tooltip||{};c.utils=c.utils||{};c.models=c.models||{};c.charts={};c.logs={};c.dom={};c.dispatch=d3.dispatch("render_start","render_end");Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,k=function(){},f=function(){return c.apply(this instanceof k&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};
k.prototype=this.prototype;f.prototype=new k;return f});c.dev&&(c.dispatch.on("render_start",function(){c.logs.startTime=+new Date}),c.dispatch.on("render_end",function(){c.logs.endTime=+new Date;c.logs.totalTime=c.logs.endTime-c.logs.startTime;c.log("total",c.logs.totalTime)}));c.log=function(){c.dev&&window.console&&console.log&&console.log.apply?console.log.apply(console,arguments):c.dev&&(window.console&&typeof console.log=="function"&&Function.prototype.bind)&&Function.prototype.bind.call(console.log,
console).apply(console,arguments);return arguments[arguments.length-1]};c.deprecated=function(a,b){console&&console.warn&&console.warn("nvd3 warning: `"+a+"` has been deprecated. ",b||"")};c.render=function(a){a=a||1;c.render.active=true;c.dispatch.render_start();var b=function(){for(var e,k,f=0;f<a&&(k=c.render.queue[f]);f++){e=k.generate();typeof k.callback==typeof Function&&k.callback(e)}c.render.queue.splice(0,f);if(c.render.queue.length)setTimeout(b);else{c.dispatch.render_end();c.render.active=
false}};setTimeout(b)};c.render.active=!1;c.render.queue=[];c.addGraph=function(a,b){typeof a===typeof Function&&(a={generate:a,callback:b});c.render.queue.push(a);c.render.active||c.render()};"undefined"!==typeof module&&"undefined"!==typeof exports&&(module.exports=c);"undefined"!==typeof window&&(window.nv=c);c.dom.write=function(a){return window.fastdom!==void 0?fastdom.write(a):a()};c.dom.read=function(a){return window.fastdom!==void 0?fastdom.read(a):a()};c.interactiveGuideline=function(){function a(r){r.each(function(o){function p(){var c=
d3.mouse(this),e=c[0],c=c[1],d=true,w=false;if(l){e=d3.event.offsetX;c=d3.event.offsetY;d3.event.target.tagName!=="svg"&&(d=false);d3.event.target.className.baseVal.match("nv-legend")&&(w=true)}if(d){e=e-f.left;c=c-f.top}if(e<0||c<0||e>m||c>u||d3.event.relatedTarget&&d3.event.relatedTarget.ownerSVGElement===void 0||w){if(!l||!d3.event.relatedTarget||!(d3.event.relatedTarget.ownerSVGElement===void 0&&(d3.event.relatedTarget.className===void 0||d3.event.relatedTarget.className.match(b.nvPointerEventsClass)))){g.elementMouseout({mouseX:e,
mouseY:c});a.renderGuideLine(null);b.hidden(true)}}else{b.hidden(false);d=h.invert(e);g.elementMousemove({mouseX:e,mouseY:c,pointXValue:d});d3.event.type==="dblclick"&&g.elementDblclick({mouseX:e,mouseY:c,pointXValue:d});d3.event.type==="click"&&g.elementClick({mouseX:e,mouseY:c,pointXValue:d})}}var q=d3.select(this),m=e||960,u=k||400,y=q.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([o]);y.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine");
if(j){j.on("touchmove",p).on("mousemove",p,true).on("mouseout",p,true).on("dblclick",p).on("click",p);a.guideLine=null;a.renderGuideLine=function(b){d&&(a.guideLine&&a.guideLine.attr("x1")===b||c.dom.write(function(){var a=y.select(".nv-interactiveGuideLine").selectAll("line").data(b!=null?[c.utils.NaNtoZero(b)]:[],String);a.enter().append("line").attr("class","nv-guideline").attr("x1",function(a){return a}).attr("x2",function(a){return a}).attr("y1",u).attr("y2",0);a.exit().remove()}))}}})}var b=
c.models.tooltip();b.duration(0).hideDelay(0)._isInteractiveLayer(true).hidden(false);var e=null,k=null,f={left:0,top:0},h=d3.scale.linear(),g=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick"),d=true,j=null,l="ActiveXObject"in window;a.dispatch=g;a.tooltip=b;a.margin=function(b){if(!arguments.length)return f;f.top=typeof b.top!="undefined"?b.top:f.top;f.left=typeof b.left!="undefined"?b.left:f.left;return a};a.width=function(b){if(!arguments.length)return e;e=b;return a};
a.height=function(b){if(!arguments.length)return k;k=b;return a};a.xScale=function(b){if(!arguments.length)return h;h=b;return a};a.showGuideLine=function(b){if(!arguments.length)return d;d=b;return a};a.svgContainer=function(b){if(!arguments.length)return j;j=b;return a};return a};c.interactiveBisect=function(a,b,c){if(!(a instanceof Array))return null;var k;k=typeof c!=="function"?function(a){return a.x}:c;var c=d3.bisector(function(a,b){return k(a)-b}).left,c=d3.max([0,c(a,b)-1]),f=k(a[c]);typeof f===
"undefined"&&(f=c);if(f===b)return c;var h=d3.min([c+1,a.length-1]),a=k(a[h]);typeof a==="undefined"&&(a=h);return Math.abs(a-b)>=Math.abs(f-b)?c:h};c.nearestValueIndex=function(a,b,c){var k=Infinity,f=null;a.forEach(function(a,g){var d=Math.abs(b-a);if(a!=null&&d<=k&&d<c){k=d;f=g}});return f};(function(){c.models.tooltip=function(){function a(){if(j){var a=d3.select(j);a.node().tagName!=="svg"&&(a=a.select("svg"));var b=a.node()?a.attr("viewBox"):null;if(b){b=b.split(" ");a=parseInt(a.style("width"),
10)/b[2];q.left=q.left*a;q.top=q.top*a}}}function b(){if(u){var x;a:{if(e&&e.series){if(e.series instanceof Array){x=!!e.series.length;break a}if(e.series instanceof Object){e.series=[e.series];x=true;break a}}x=false}if(x){a();var f=q.left,m=g!==null?g:q.top;c.dom.write(function(){if(!o){o=d3.select(j?j:document.body).append("div").attr("class","nvtooltip "+(d?d:"xy-tooltip")).attr("id",i);o.style("top",0).style("left",0);o.style("opacity",0);o.selectAll("div, table, td, tr").classed(w,true);o.classed(w,
true);p=o.node()}var a=F(e);if(a)p.innerHTML=a;j&&t?c.dom.read(function(){var a=j.getElementsByTagName("svg")[0],b=0,c=0;if(a){a=a.getBoundingClientRect();b=j.getBoundingClientRect();c=a.top;if(c<0)var e=j.getBoundingClientRect(),c=Math.abs(c)>e.height?0:c;c=Math.abs(c-b.top);b=Math.abs(a.left-b.left)}f=f+(j.offsetLeft+b-2*j.scrollLeft);m=m+(j.offsetTop+c-2*j.scrollTop);h&&h>0&&(m=Math.floor(m/h)*h);n([f,m])}):n([f,m])});return b}}}var e=null,k="w",f=25,h=0,g=null,d=null,j=null,l=true,r=400,o=null,
p=null,q={left:null,top:null},m={left:0,top:0},u=true,y=100,E=true,t=false,i="nvtooltip-"+Math.floor(Math.random()*1E5),w="nv-pointer-events-none",H=function(a){return a},B=function(a){return a},v=function(a){return a},F=function(a){if(a===null)return"";var b=d3.select(document.createElement("table"));E&&b.selectAll("thead").data([a]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",true).html(B(a.value));var c=b.selectAll("tbody").data([a]).enter().append("tbody").selectAll("tr").data(function(a){return a.series}).enter().append("tr").classed("highlight",
function(a){return a.highlight});c.append("td").classed("legend-color-guide",true).append("div").style("background-color",function(a){return a.color});c.append("td").classed("key",true).html(function(a,b){return v(a.key,b)});c.append("td").classed("value",true).html(function(a,b){return H(a.value,b)});c.selectAll("td").each(function(a){if(a.highlight){a=d3.scale.linear().domain([0,1]).range(["#fff",a.color]);d3.select(this).style("border-bottom-color",a(0.6)).style("border-top-color",a(0.6))}});b=
b.node().outerHTML;a.footer!==void 0&&(b=b+("<div class='footer'>"+a.footer+"</div>"));return b},n=function(a){p&&c.dom.read(function(){var b=parseInt(p.offsetHeight,10),e=parseInt(p.offsetWidth,10),d=c.utils.windowSize().width,A=c.utils.windowSize().height,s=window.pageYOffset,i=window.pageXOffset,n,C,A=window.innerWidth>=document.body.scrollWidth?A:A-16,d=window.innerHeight>=document.body.scrollHeight?d:d-16,J=function(a){var b=C;do{isNaN(a.offsetTop)||(b=b+a.offsetTop);a=a.offsetParent}while(a);
return b},I=function(a){var b=n;do{isNaN(a.offsetLeft)||(b=b+a.offsetLeft);a=a.offsetParent}while(a);return b};switch(k){case "e":n=a[0]-e-f;C=a[1]-b/2;I=I(p);J=J(p);I<i&&(n=a[0]+f>i?a[0]+f:i-I+n);J<s&&(C=s-J+C);J+b>s+A&&(C=s+A-J+C-b);break;case "w":n=a[0]+f;C=a[1]-b/2;I=I(p);J=J(p);I+e>d&&(n=a[0]-e-f);J<s&&(C=s+5);J+b>s+A&&(C=s+A-J+C-b);break;case "n":n=a[0]-e/2-5;C=a[1]+f;I=I(p);J=J(p);I<i&&(n=i+5);I+e>d&&(n=n-e/2+5);J+b>s+A&&(C=s+A-J+C-b);break;case "s":n=a[0]-e/2;C=a[1]-b-f;I=I(p);J=J(p);I<i&&
(n=i+5);I+e>d&&(n=n-e/2+5);s>J&&(C=s);break;case "none":n=a[0];C=a[1]-f;I=I(p);J=J(p)}n=n-m.left;C=C-m.top;var e=p.getBoundingClientRect(),s=window.pageYOffset||document.documentElement.scrollTop,i=window.pageXOffset||document.documentElement.scrollLeft,b="translate("+n+"px, "+C+"px)",h=d3.interpolateString("translate("+(e.left+i)+"px, "+(e.top+s)+"px)",b),s=o.style("opacity")<0.1;l?o.transition().delay(r).duration(0).style("opacity",0):o.interrupt().transition().duration(s?0:y).styleTween("transform",
function(){return h},"important").style("-webkit-transform",b).style("opacity",1)})};b.nvPointerEventsClass=w;b.options=c.utils.optionsFunc.bind(b);b._options=Object.create({},{duration:{get:function(){return y},set:function(a){y=a}},gravity:{get:function(){return k},set:function(a){k=a}},distance:{get:function(){return f},set:function(a){f=a}},snapDistance:{get:function(){return h},set:function(a){h=a}},classes:{get:function(){return d},set:function(a){d=a}},chartContainer:{get:function(){return j},
set:function(a){j=a}},fixedTop:{get:function(){return g},set:function(a){g=a}},enabled:{get:function(){return u},set:function(a){u=a}},hideDelay:{get:function(){return r},set:function(a){r=a}},contentGenerator:{get:function(){return F},set:function(a){F=a}},valueFormatter:{get:function(){return H},set:function(a){H=a}},headerFormatter:{get:function(){return B},set:function(a){B=a}},keyFormatter:{get:function(){return v},set:function(a){v=a}},headerEnabled:{get:function(){return E},set:function(a){E=
a}},_isInteractiveLayer:{get:function(){return t},set:function(a){t=!!a}},position:{get:function(){return q},set:function(a){q.left=a.left!==void 0?a.left:q.left;q.top=a.top!==void 0?a.top:q.top}},offset:{get:function(){return m},set:function(a){m.left=a.left!==void 0?a.left:m.left;m.top=a.top!==void 0?a.top:m.top}},hidden:{get:function(){return l},set:function(a){if(l!=a){l=!!a;b()}}},data:{get:function(){return e},set:function(a){if(a.point){a.value=a.point.x;a.series=a.series||{};a.series.value=
a.point.y;a.series.color=a.point.color||a.series.color}e=a}},tooltipElem:{get:function(){return p},set:function(){}},id:{get:function(){return i},set:function(){}}});c.utils.initOptions(b);return b}})();c.utils.windowSize=function(){var a={width:640,height:480};if(window.innerWidth&&window.innerHeight){a.width=window.innerWidth;a.height=window.innerHeight;return a}if(document.compatMode=="CSS1Compat"&&document.documentElement&&document.documentElement.offsetWidth){a.width=document.documentElement.offsetWidth;
a.height=document.documentElement.offsetHeight;return a}if(document.body&&document.body.offsetWidth){a.width=document.body.offsetWidth;a.height=document.body.offsetHeight}return a};c.utils.windowResize=function(a){window.addEventListener?window.addEventListener("resize",a):c.log("ERROR: Failed to bind to window.resize with: ",a);return{callback:a,clear:function(){window.removeEventListener("resize",a)}}};c.utils.getColor=function(a){if(a===void 0)return c.utils.defaultColor();if(Array.isArray(a)){var b=
d3.scale.ordinal().range(a);return function(a,c){return a.color||b(c===void 0?a:c)}}return a};c.utils.defaultColor=function(){return c.utils.getColor(d3.scale.category20().range())};c.utils.customTheme=function(a,b,c){var b=b||function(a){return a.key},c=c||d3.scale.category20().range(),k=c.length;return function(f){f=b(f);if(typeof a[f]==="function")return a[f]();if(a[f]!==void 0)return a[f];if(!k)k=c.length;k=k-1;return c[k]}};c.utils.pjax=function(a,b){var e=function(e){d3.html(e,function(e){var h=
d3.select(b).node();h.parentNode.replaceChild(d3.select(e).select(b).node(),h);c.utils.pjax(a,b)})};d3.selectAll(a).on("click",function(){history.pushState(this.href,this.textContent,this.href);e(this.href);d3.event.preventDefault()});d3.select(window).on("popstate",function(){d3.event.state&&e(d3.event.state)})};c.utils.calcApproxTextWidth=function(a){if(typeof a.style==="function"&&typeof a.text==="function"){var b=parseInt(a.style("font-size").replace("px",""),10);return a.text().length*b*0.5}return 0};
c.utils.NaNtoZero=function(a){return typeof a!=="number"||isNaN(a)||a===null||a===Infinity||a===-Infinity?0:a};d3.selection.prototype.watchTransition=function(a){var b=[this].concat([].slice.call(arguments,1));return a.transition.apply(a,b)};c.utils.renderWatch=function(a,b){if(!(this instanceof c.utils.renderWatch))return new c.utils.renderWatch(a,b);var e=b!==void 0?b:250,k=[],f=this;this.models=function(a){a=[].slice.call(arguments,0);a.forEach(function(a){a.__rendered=false;(function(a){a.dispatch.on("renderEnd",
function(){a.__rendered=true;f.renderEnd("model")})})(a);k.indexOf(a)<0&&k.push(a)});return this};this.reset=function(a){a!==void 0&&(e=a);k=[]};this.transition=function(a,b,c){b=arguments.length>1?[].slice.call(arguments,1):[];c=b.length>1?b.pop():e!==void 0?e:250;a.__rendered=false;k.indexOf(a)<0&&k.push(a);if(c===0){a.__rendered=true;a.delay=function(){return this};a.duration=function(){return this};return a}a.__rendered=a.length===0?true:a.every(function(a){return!a.length})?true:false;var j=
0;return a.transition().duration(c).each(function(){++j}).each("end",function(){if(--j===0){a.__rendered=true;f.renderEnd.apply(this,b)}})};this.renderEnd=function(){if(k.every(function(a){return a.__rendered})){k.forEach(function(a){a.__rendered=false});a.renderEnd.apply(this,arguments)}}};c.utils.deepExtend=function(a){(arguments.length>1?[].slice.call(arguments,1):[]).forEach(function(b){for(var e in b){var k=a[e]instanceof Array,f=typeof b[e]==="object";typeof a[e]==="object"&&!k&&f?c.utils.deepExtend(a[e],
b[e]):a[e]=b[e]}})};c.utils.state=function(){if(!(this instanceof c.utils.state))return new c.utils.state;var a={},b=function(){},e=function(){return{}},k=null;this.dispatch=d3.dispatch("change","set");this.dispatch.on("set",function(a){b(a,true)});this.getter=function(a){e=a;return this};this.setter=function(a,c){c||(c=function(){});b=function(b,e){a(b);e&&c()};return this};this.init=function(a){k=k||{};c.utils.deepExtend(k,a)};this.update=function(){if(k){b(k,false);k=null}var c;c=e();if(JSON.stringify(c)===
JSON.stringify(a))c=false;else{for(var h in c){a[h]===void 0&&(a[h]={});a[h]=c[h]}c=true}c&&this.dispatch.change(a)}};c.utils.optionsFunc=function(a){a&&d3.map(a).forEach(function(a,c){if(typeof this[a]==="function")this[a](c)}.bind(this));return this};c.utils.calcTicksX=function(a,b){var e=1,k=0;for(k;k<b.length;k=k+1)var f=b[k]&&b[k].values?b[k].values.length:0,e=f>e?f:e;c.log("Requested number of ticks: ",a);c.log("Calculated max values to be: ",e);a=a>e?a=e-1:a;a=Math.floor(a<1?1:a);c.log("Calculating tick count as: ",
a);return a};c.utils.calcTicksY=function(a,b){return c.utils.calcTicksX(a,b)};c.utils.initOption=function(a,b){if(a._calls&&a._calls[b])a[b]=a._calls[b];else{a[b]=function(c){if(!arguments.length)return a._options[b];a._overrides[b]=true;a._options[b]=c;return a};a["_"+b]=function(c){if(!arguments.length)return a._options[b];a._overrides[b]||(a._options[b]=c);return a}}};c.utils.initOptions=function(a){a._overrides=a._overrides||{};var b=Object.getOwnPropertyNames(a._options||{}),e=Object.getOwnPropertyNames(a._calls||
{}),b=b.concat(e),k;for(k in b)c.utils.initOption(a,b[k])};c.utils.inheritOptionsD3=function(a,b,c){a._d3options=c.concat(a._d3options||[]);c.unshift(b);c.unshift(a);d3.rebind.apply(this,c)};c.utils.arrayUnique=function(a){return a.sort().filter(function(b,c){return!c||b!=a[c-1]})};c.utils.symbolMap=d3.map();c.utils.symbol=function(){function a(a,f){var h=b.call(this,a,f),g=e.call(this,a,f);return d3.svg.symbolTypes.indexOf(h)!==-1?d3.svg.symbol().type(h).size(g)():c.utils.symbolMap.get(h)(g)}var b,
e=64;a.type=function(c){if(!arguments.length)return b;b=d3.functor(c);return a};a.size=function(b){if(!arguments.length)return e;e=d3.functor(b);return a};return a};c.utils.inheritOptions=function(a,b){var e=Object.getOwnPropertyNames(b._options||{}),k=Object.getOwnPropertyNames(b._calls||{}),f=b._inherited||[],h=b._d3options||[],g=e.concat(k).concat(f).concat(h);g.unshift(b);g.unshift(a);d3.rebind.apply(this,g);a._inherited=c.utils.arrayUnique(e.concat(k).concat(f).concat(e).concat(a._inherited||
[]));a._d3options=c.utils.arrayUnique(h.concat(a._d3options||[]))};c.utils.initSVG=function(a){a.classed({"nvd3-svg":true})};c.utils.sanitizeHeight=function(a,b){return a||parseInt(b.style("height"),10)||400};c.utils.sanitizeWidth=function(a,b){return a||parseInt(b.style("width"),10)||960};c.utils.availableHeight=function(a,b,e){return c.utils.sanitizeHeight(a,b)-e.top-e.bottom};c.utils.availableWidth=function(a,b,e){return c.utils.sanitizeWidth(a,b)-e.left-e.right};c.utils.noData=function(a,b){var e=
a.options(),k=e.margin(),f=e.noData(),f=f==null?["No Data Available."]:[f],h=c.utils.availableHeight(e.height(),b,k),e=c.utils.availableWidth(e.width(),b,k),e=k.left+e/2,k=k.top+h/2;b.selectAll("g").remove();f=b.selectAll(".nv-noData").data(f);f.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");f.attr("x",e).attr("y",k).text(function(a){return a})};c.models.axis=function(){function a(m){E.reset();m.each(function(a){var m=d3.select(this);c.utils.initSVG(m);
a=m.selectAll("g.nv-wrap.nv-axis").data([a]);a.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g");m=a.select("g");p!==null?b.ticks(p):(b.orient()=="top"||b.orient()=="bottom")&&b.ticks(Math.abs(e.range()[1]-e.range()[0])/100);m.watchTransition(E,"axis").call(b);y=y||b.scale();var h=b.tickFormat();h==null&&(h=y.tickFormat());var u=m.selectAll("text.nv-axislabel").data([g||null]);u.exit().remove();var v,t;switch(b.orient()){case "top":u.enter().append("text").attr("class","nv-axislabel");
t=e.range().length<2?0:e.range().length===2?e.range()[1]:e.range()[e.range().length-1]+(e.range()[1]-e.range()[0]);u.attr("text-anchor","middle").attr("y",0).attr("x",t/2);if(d){v=a.selectAll("g.nv-axisMaxMin").data(e.domain());v.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin nv-axisMaxMin-x",b==0?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text");v.exit().remove();v.attr("transform",function(a){return"translate("+c.utils.NaNtoZero(e(a))+",0)"}).select("text").attr("dy",
"-0.5em").attr("y",-b.tickPadding()).attr("text-anchor","middle").text(function(a){a=h(a);return(""+a).match("NaN")?"":a});v.watchTransition(E,"min-max top").attr("transform",function(a,b){return"translate("+c.utils.NaNtoZero(e.range()[b])+",0)"})}break;case "bottom":v=q+36;var n=30,x=0,z=m.selectAll("g").select("text"),G="";if(j%360){z.each(function(){var a=this.getBoundingClientRect(),b=a.width;x=a.height;b>n&&(n=b)});G="rotate("+j+" 0,"+(x/2+b.tickPadding())+")";v=Math.abs(Math.sin(j*Math.PI/180));
v=(v?v*n:n)+30;z.attr("transform",G).style("text-anchor",j%360>0?"start":"end")}u.enter().append("text").attr("class","nv-axislabel");t=e.range().length<2?0:e.range().length===2?e.range()[1]:e.range()[e.range().length-1]+(e.range()[1]-e.range()[0]);u.attr("text-anchor","middle").attr("y",v).attr("x",t/2);if(d){v=a.selectAll("g.nv-axisMaxMin").data([e.domain()[0],e.domain()[e.domain().length-1]]);v.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin nv-axisMaxMin-x",b==0?"nv-axisMin-x":
"nv-axisMax-x"].join(" ")}).append("text");v.exit().remove();v.attr("transform",function(a){return"translate("+c.utils.NaNtoZero(e(a)+(o?e.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",b.tickPadding()).attr("transform",G).style("text-anchor",j?j%360>0?"start":"end":"middle").text(function(a){a=h(a);return(""+a).match("NaN")?"":a});v.watchTransition(E,"min-max bottom").attr("transform",function(a){return"translate("+c.utils.NaNtoZero(e(a)+(o?e.rangeBand()/2:0))+",0)"})}r&&z.attr("transform",
function(a,b){return"translate(0,"+(b%2==0?"0":"12")+")"});break;case "right":u.enter().append("text").attr("class","nv-axislabel");u.style("text-anchor",l?"middle":"begin").attr("transform",l?"rotate(90)":"").attr("y",l?-Math.max(k.right,f)+12:-10).attr("x",l?d3.max(e.range())/2:b.tickPadding());if(d){v=a.selectAll("g.nv-axisMaxMin").data(e.domain());v.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin nv-axisMaxMin-y",b==0?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",
0);v.exit().remove();v.attr("transform",function(a){return"translate(0,"+c.utils.NaNtoZero(e(a))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",b.tickPadding()).style("text-anchor","start").text(function(a){a=h(a);return(""+a).match("NaN")?"":a});v.watchTransition(E,"min-max right").attr("transform",function(a,b){return"translate(0,"+c.utils.NaNtoZero(e.range()[b])+")"}).select("text").style("opacity",1)}break;case "left":u.enter().append("text").attr("class","nv-axislabel");u.style("text-anchor",
l?"middle":"end").attr("transform",l?"rotate(-90)":"").attr("y",l?-Math.max(k.left,f)+25-(q||0):-10).attr("x",l?-d3.max(e.range())/2:-b.tickPadding());if(d){v=a.selectAll("g.nv-axisMaxMin").data(e.domain());v.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin nv-axisMaxMin-y",b==0?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0);v.exit().remove();v.attr("transform",function(a){return"translate(0,"+c.utils.NaNtoZero(y(a))+")"}).select("text").attr("dy",
".32em").attr("y",0).attr("x",-b.tickPadding()).attr("text-anchor","end").text(function(a){a=h(a);return(""+a).match("NaN")?"":a});v.watchTransition(E,"min-max right").attr("transform",function(a,b){return"translate(0,"+c.utils.NaNtoZero(e.range()[b])+")"}).select("text").style("opacity",1)}}u.text(function(a){return a});if(d&&(b.orient()==="left"||b.orient()==="right")){m.selectAll("g").each(function(a){d3.select(this).select("text").attr("opacity",1);if(e(a)<e.range()[1]+10||e(a)>e.range()[0]-10){(a>
1.0E-10||a<-1.0E-10)&&d3.select(this).attr("opacity",0);d3.select(this).select("text").attr("opacity",0)}});e.domain()[0]==e.domain()[1]&&e.domain()[0]==0&&a.selectAll("g.nv-axisMaxMin").style("opacity",function(a,b){return!b?1:0})}if(d&&(b.orient()==="top"||b.orient()==="bottom")){var D=[];a.selectAll("g.nv-axisMaxMin").each(function(a,b){try{b?D.push(e(a)-this.getBoundingClientRect().width-4):D.push(e(a)+this.getBoundingClientRect().width+4)}catch(c){b?D.push(e(a)-4):D.push(e(a)+4)}});m.selectAll("g").each(function(a){if(e(a)<
D[0]||e(a)>D[1])a>1.0E-10||a<-1.0E-10?d3.select(this).remove():d3.select(this).select("text").remove()})}m.selectAll(".tick").filter(function(a){return!parseFloat(Math.round(a*1E5)/1E6)&&a!==void 0}).classed("zero",true);y=e.copy()});E.renderEnd("axis immediate");return a}var b=d3.svg.axis(),e=d3.scale.linear(),k={top:0,right:0,bottom:0,left:0},f=75,h=60,g=null,d=true,j=0,l=true,r=false,o=false,p=null,q=0,m=250,u=d3.dispatch("renderEnd");b.scale(e).orient("bottom").tickFormat(function(a){return a});
var y,E=c.utils.renderWatch(u,m);a.axis=b;a.dispatch=u;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{axisLabelDistance:{get:function(){return q},set:function(a){q=a}},staggerLabels:{get:function(){return r},set:function(a){r=a}},rotateLabels:{get:function(){return j},set:function(a){j=a}},rotateYLabel:{get:function(){return l},set:function(a){l=a}},showMaxMin:{get:function(){return d},set:function(a){d=a}},axisLabel:{get:function(){return g},set:function(a){g=a}},height:{get:function(){return h},
set:function(a){h=a}},ticks:{get:function(){return p},set:function(a){p=a}},width:{get:function(){return f},set:function(a){f=a}},margin:{get:function(){return k},set:function(a){k.top=a.top!==void 0?a.top:k.top;k.right=a.right!==void 0?a.right:k.right;k.bottom=a.bottom!==void 0?a.bottom:k.bottom;k.left=a.left!==void 0?a.left:k.left}},duration:{get:function(){return m},set:function(a){m=a;E.reset(m)}},scale:{get:function(){return e},set:function(d){e=d;b.scale(e);o=typeof e.rangeBands==="function";
c.utils.inheritOptionsD3(a,e,["domain","range","rangeBand","rangeBands"])}}});c.utils.initOptions(a);c.utils.inheritOptionsD3(a,b,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]);c.utils.inheritOptionsD3(a,e,["domain","range","rangeBand","rangeBands"]);return a};c.models.boxPlot=function(){function a(f){i.reset();f.each(function(a){var f=e-b.left-b.right,w=k-b.top-b.bottom;r=d3.select(this);c.utils.initSVG(r);h.domain(o||a.map(function(a,b){return d(a,b)})).rangeBands(q||
[0,f],0.1);f=[];if(!p)var f=d3.min(a.map(function(a){var b=[];b.push(a.values.Q1);a.values.hasOwnProperty("whisker_low")&&a.values.whisker_low!==null&&b.push(a.values.whisker_low);a.values.hasOwnProperty("outliers")&&a.values.outliers!==null&&(b=b.concat(a.values.outliers));return d3.min(b)})),j=d3.max(a.map(function(a){var b=[];b.push(a.values.Q3);a.values.hasOwnProperty("whisker_high")&&a.values.whisker_high!==null&&b.push(a.values.whisker_high);a.values.hasOwnProperty("outliers")&&a.values.outliers!==
null&&(b=b.concat(a.values.outliers));return d3.max(b)})),f=[f,j];g.domain(p||f);g.range(m||[w,0]);t=t||g.copy().range([g(0),g(0)]);w=r.selectAll("g.nv-wrap").data([a]);w.enter().append("g").attr("class","nvd3 nv-wrap");w.attr("transform","translate("+b.left+","+b.top+")");var n=w.selectAll(".nv-boxplot").data(function(a){return a}),x=n.enter().append("g").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6);n.attr("class","nv-boxplot").attr("transform",function(a,b){return"translate("+(h(d(a,
b))+h.rangeBand()*0.05)+", 0)"}).classed("hover",function(a){return a.hover});n.watchTransition(i,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",0.75).delay(function(b,c){return c*y/a.length}).attr("transform",function(a,b){return"translate("+(h(d(a,b))+h.rangeBand()*0.05)+", 0)"});n.exit().remove();x.each(function(a,b){var c=d3.select(this);["low","high"].forEach(function(e){if(a.values.hasOwnProperty("whisker_"+e)&&a.values["whisker_"+e]!==null){c.append("line").style("stroke",
a.color?a.color:l(a,b)).attr("class","nv-boxplot-whisker nv-boxplot-"+e);c.append("line").style("stroke",a.color?a.color:l(a,b)).attr("class","nv-boxplot-tick nv-boxplot-"+e)}})});w=n.selectAll(".nv-boxplot-outlier").data(function(a){return a.values.hasOwnProperty("outliers")&&a.values.outliers!==null?a.values.outliers:[]});w.enter().append("circle").style("fill",function(a,b,c){return l(a,c)}).style("stroke",function(a,b,c){return l(a,c)}).on("mouseover",function(a,b,c){d3.select(this).classed("hover",
true);u.elementMouseover({series:{key:a,color:l(a,c)},e:d3.event})}).on("mouseout",function(a,b,c){d3.select(this).classed("hover",false);u.elementMouseout({series:{key:a,color:l(a,c)},e:d3.event})}).on("mousemove",function(){u.elementMousemove({e:d3.event})});w.attr("class","nv-boxplot-outlier");w.watchTransition(i,"nv-boxplot: nv-boxplot-outlier").attr("cx",h.rangeBand()*0.45).attr("cy",function(a){return g(a)}).attr("r","3");w.exit().remove();var z=function(){return E===null?h.rangeBand()*0.9:
Math.min(75,h.rangeBand()*0.9)},G=function(){return h.rangeBand()*0.45-z()/2},D=function(){return h.rangeBand()*0.45+z()/2};["low","high"].forEach(function(a){var b=a==="low"?"Q1":"Q3";n.select("line.nv-boxplot-whisker.nv-boxplot-"+a).watchTransition(i,"nv-boxplot: boxplots").attr("x1",h.rangeBand()*0.45).attr("y1",function(b){return g(b.values["whisker_"+a])}).attr("x2",h.rangeBand()*0.45).attr("y2",function(a){return g(a.values[b])});n.select("line.nv-boxplot-tick.nv-boxplot-"+a).watchTransition(i,
"nv-boxplot: boxplots").attr("x1",G).attr("y1",function(b){return g(b.values["whisker_"+a])}).attr("x2",D).attr("y2",function(b){return g(b.values["whisker_"+a])})});["low","high"].forEach(function(a){x.selectAll(".nv-boxplot-"+a).on("mouseover",function(b,c,e){d3.select(this).classed("hover",true);u.elementMouseover({series:{key:b.values["whisker_"+a],color:l(b,e)},e:d3.event})}).on("mouseout",function(b,c,e){d3.select(this).classed("hover",false);u.elementMouseout({series:{key:b.values["whisker_"+
a],color:l(b,e)},e:d3.event})}).on("mousemove",function(){u.elementMousemove({e:d3.event})})});x.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(a,b){d3.select(this).classed("hover",true);u.elementMouseover({key:a.label,value:a.label,series:[{key:"Q3",value:a.values.Q3,color:a.color||l(a,b)},{key:"Q2",value:a.values.Q2,color:a.color||l(a,b)},{key:"Q1",value:a.values.Q1,color:a.color||l(a,b)}],data:a,index:b,e:d3.event})}).on("mouseout",function(a,b){d3.select(this).classed("hover",
false);u.elementMouseout({key:a.label,value:a.label,series:[{key:"Q3",value:a.values.Q3,color:a.color||l(a,b)},{key:"Q2",value:a.values.Q2,color:a.color||l(a,b)},{key:"Q1",value:a.values.Q1,color:a.color||l(a,b)}],data:a,index:b,e:d3.event})}).on("mousemove",function(){u.elementMousemove({e:d3.event})});n.select("rect.nv-boxplot-box").watchTransition(i,"nv-boxplot: boxes").attr("y",function(a){return g(a.values.Q3)}).attr("width",z).attr("x",G).attr("height",function(a){return Math.abs(g(a.values.Q3)-
g(a.values.Q1))||1}).style("fill",function(a,b){return a.color||l(a,b)}).style("stroke",function(a,b){return a.color||l(a,b)});x.append("line").attr("class","nv-boxplot-median");n.select("line.nv-boxplot-median").watchTransition(i,"nv-boxplot: boxplots line").attr("x1",G).attr("y1",function(a){return g(a.values.Q2)}).attr("x2",D).attr("y2",function(a){return g(a.values.Q2)});h.copy();t=g.copy()});i.renderEnd("nv-boxplot immediate");return a}var b={top:0,right:0,bottom:0,left:0},e=960,k=500,f=Math.floor(Math.random()*
1E4),h=d3.scale.ordinal(),g=d3.scale.linear(),d=function(a){return a.x},j=function(a){return a.y},l=c.utils.defaultColor(),r=null,o,p,q,m,u=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),y=250,E=null,t,i=c.utils.renderWatch(u,y);a.dispatch=u;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return k},set:function(a){k=a}},maxBoxWidth:{get:function(){return E},set:function(a){E=
a}},x:{get:function(){return d},set:function(a){d=a}},y:{get:function(){return j},set:function(a){j=a}},xScale:{get:function(){return h},set:function(a){h=a}},yScale:{get:function(){return g},set:function(a){g=a}},xDomain:{get:function(){return o},set:function(a){o=a}},yDomain:{get:function(){return p},set:function(a){p=a}},xRange:{get:function(){return q},set:function(a){q=a}},yRange:{get:function(){return m},set:function(a){m=a}},id:{get:function(){return f},set:function(a){f=a}},margin:{get:function(){return b},
set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return l},set:function(a){l=c.utils.getColor(a)}},duration:{get:function(){return y},set:function(a){y=a;i.reset(y)}}});c.utils.initOptions(a);return a};c.models.boxPlotChart=function(){function a(d){t.reset();t.models(b);j&&t.models(e);l&&t.models(k);d.each(function(d){var i=d3.select(this);c.utils.initSVG(i);
var p=(h||parseInt(i.style("width"))||960)-f.left-f.right,v=(g||parseInt(i.style("height"))||400)-f.top-f.bottom;a.update=function(){y.beforeUpdate();i.transition().duration(E).call(a)};a.container=this;if(!d||!d.length||!d.filter(function(a){return a.values.hasOwnProperty("Q1")&&a.values.hasOwnProperty("Q2")&&a.values.hasOwnProperty("Q3")}).length){d=i.selectAll(".nv-noData").data([u]);d.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");d.attr("x",
f.left+p/2).attr("y",f.top+v/2).text(function(a){return a});return a}i.selectAll(".nv-noData").remove();q=b.xScale();m=b.yScale().clamp(true);var t=i.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([d]),n=t.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),x=n.append("defs"),t=t.select("g");n.append("g").attr("class","nv-x nv-axis");n.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");n.append("g").attr("class","nv-barsWrap");
t.attr("transform","translate("+f.left+","+f.top+")");r&&t.select(".nv-y.nv-axis").attr("transform","translate("+p+",0)");b.width(p).height(v);t.select(".nv-barsWrap").datum(d.filter(function(a){return!a.disabled})).transition().call(b);x.append("clipPath").attr("id","nv-x-label-clip-"+b.id()).append("rect");t.select("#nv-x-label-clip-"+b.id()+" rect").attr("width",q.rangeBand()*(o?2:1)).attr("height",16).attr("x",-q.rangeBand()/(o?1:2));if(j){e.scale(q).ticks(c.utils.calcTicksX(p/100,d)).tickSize(-v,
0);t.select(".nv-x.nv-axis").attr("transform","translate(0,"+m.range()[0]+")");t.select(".nv-x.nv-axis").call(e);d=t.select(".nv-x.nv-axis").selectAll("g");o&&d.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(c%2==0?"5":"17")+")"})}if(l){k.scale(m).ticks(Math.floor(v/36)).tickSize(-p,0);t.select(".nv-y.nv-axis").call(k)}t.select(".nv-zeroLine line").attr("x1",0).attr("x2",p).attr("y1",m(0)).attr("y2",m(0))});t.renderEnd("nv-boxplot chart immediate");return a}var b=c.models.boxPlot(),
e=c.models.axis(),k=c.models.axis(),f={top:15,right:10,bottom:50,left:60},h=null,g=null,d=c.utils.getColor(),j=true,l=true,r=false,o=false,p=c.models.tooltip(),q,m,u="No Data Available.",y=d3.dispatch("tooltipShow","tooltipHide","beforeUpdate","renderEnd"),E=250;e.orient("bottom").showMaxMin(false).tickFormat(function(a){return a});k.orient(r?"right":"left").tickFormat(d3.format(",.1f"));p.duration(0);var t=c.utils.renderWatch(y,E);b.dispatch.on("elementMouseover.tooltip",function(a){p.data(a).hidden(false)});
b.dispatch.on("elementMouseout.tooltip",function(a){p.data(a).hidden(true)});b.dispatch.on("elementMousemove.tooltip",function(){p.position({top:d3.event.pageY,left:d3.event.pageX})()});a.dispatch=y;a.boxplot=b;a.xAxis=e;a.yAxis=k;a.tooltip=p;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return h},set:function(a){h=a}},height:{get:function(){return g},set:function(a){g=a}},staggerLabels:{get:function(){return o},set:function(a){o=a}},showXAxis:{get:function(){return j},
set:function(a){j=a}},showYAxis:{get:function(){return l},set:function(a){l=a}},tooltips:{get:function(){return tooltips},set:function(a){tooltips=a}},tooltipContent:{get:function(){return p},set:function(a){p=a}},noData:{get:function(){return u},set:function(a){u=a}},margin:{get:function(){return f},set:function(a){f.top=a.top!==void 0?a.top:f.top;f.right=a.right!==void 0?a.right:f.right;f.bottom=a.bottom!==void 0?a.bottom:f.bottom;f.left=a.left!==void 0?a.left:f.left}},duration:{get:function(){return E},
set:function(a){E=a;t.reset(E);b.duration(E);e.duration(E);k.duration(E)}},color:{get:function(){return d},set:function(a){d=c.utils.getColor(a);b.color(d)}},rightAlignYAxis:{get:function(){return r},set:function(a){r=a;k.orient(a?"right":"left")}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.bullet=function(){function a(e){e.each(function(a,e){var m=j-b.left-b.right,t=l-b.top-b.bottom;r=d3.select(this);c.utils.initSVG(r);var i=f.call(this,a,e).slice().sort(d3.descending),
w=h.call(this,a,e).slice().sort(d3.descending),o=g.call(this,a,e).slice().sort(d3.descending),B=(a.rangeLabels?a.rangeLabels:[]).slice(),v=(a.markerLabels?a.markerLabels:[]).slice(),F=(a.measureLabels?a.measureLabels:[]).slice(),n=d3.scale.linear().domain(d3.extent(d3.merge([d,i]))).range(k?[m,0]:[0,m]);this.__chart__||d3.scale.linear().domain([0,Infinity]).range(n.range());this.__chart__=n;var x=d3.min(i),z=d3.max(i),G=i[1],i=r.selectAll("g.nv-wrap.nv-bullet").data([a]),m=i.enter().append("g").attr("class",
"nvd3 nv-wrap nv-bullet").append("g"),D=i.select("g");m.append("rect").attr("class","nv-range nv-rangeMax");m.append("rect").attr("class","nv-range nv-rangeAvg");m.append("rect").attr("class","nv-range nv-rangeMin");m.append("rect").attr("class","nv-measure");i.attr("transform","translate("+b.left+","+b.top+")");var A=function(a){return Math.abs(n(a)-n(0))},s=function(a){return a<0?n(a):n(0)};D.select("rect.nv-rangeMax").attr("height",t).attr("width",A(z>0?z:x)).attr("x",s(z>0?z:x)).datum(z>0?z:x);
D.select("rect.nv-rangeAvg").attr("height",t).attr("width",A(G)).attr("x",s(G)).datum(G);D.select("rect.nv-rangeMin").attr("height",t).attr("width",A(z)).attr("x",s(z)).attr("width",A(z>0?x:z)).attr("x",s(z>0?x:z)).datum(z>0?x:z);D.select("rect.nv-measure").style("fill",p).attr("height",t/3).attr("y",t/3).attr("width",o<0?n(0)-n(o[0]):n(o[0])-n(0)).attr("x",s(o)).on("mouseover",function(){q.elementMouseover({value:o[0],label:F[0]||"Current",color:d3.select(this).style("fill")})}).on("mousemove",function(){q.elementMousemove({value:o[0],
label:F[0]||"Current",color:d3.select(this).style("fill")})}).on("mouseout",function(){q.elementMouseout({value:o[0],label:F[0]||"Current",color:d3.select(this).style("fill")})});x=t/6;w=w.map(function(a,b){return{value:a,label:v[b]}});m.selectAll("path.nv-markerTriangle").data(w).enter().append("path").attr("class","nv-markerTriangle").attr("transform",function(a){return"translate("+n(a.value)+","+t/2+")"}).attr("d","M0,"+x+"L"+x+","+-x+" "+-x+","+-x+"Z").on("mouseover",function(a){q.elementMouseover({value:a.value,
label:a.label||"Previous",color:d3.select(this).style("fill"),pos:[n(a.value),t/2]})}).on("mousemove",function(a){q.elementMousemove({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(a){q.elementMouseout({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill")})});i.selectAll(".nv-range").on("mouseover",function(a,b){q.elementMouseover({value:a,label:B[b]||(!b?"Maximum":b==1?"Mean":"Minimum"),color:d3.select(this).style("fill")})}).on("mousemove",
function(){q.elementMousemove({value:o[0],label:F[0]||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){q.elementMouseout({value:a,label:B[b]||(!b?"Maximum":b==1?"Mean":"Minimum"),color:d3.select(this).style("fill")})})});return a}var b={top:0,right:0,bottom:0,left:0},e="left",k=false,f=function(a){return a.ranges},h=function(a){return a.markers?a.markers:[0]},g=function(a){return a.measures},d=[0],j=380,l=30,r=null,o=null,p=c.utils.getColor(["#1f77b4"]),q=d3.dispatch("elementMouseover",
"elementMouseout","elementMousemove");a.dispatch=q;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{ranges:{get:function(){return f},set:function(a){f=a}},markers:{get:function(){return h},set:function(a){h=a}},measures:{get:function(){return g},set:function(a){g=a}},forceX:{get:function(){return d},set:function(a){d=a}},width:{get:function(){return j},set:function(a){j=a}},height:{get:function(){return l},set:function(a){l=a}},tickFormat:{get:function(){return o},set:function(a){o=
a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},orient:{get:function(){return e},set:function(a){e=a;k=e=="right"||e=="bottom"}},color:{get:function(){return p},set:function(a){p=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.bulletChart=function(){function a(e){e.each(function(m,k){var t=d3.select(this);c.utils.initSVG(t);
var i=c.utils.availableWidth(l,t,h),w=r-h.top-h.bottom;a.update=function(){a(e)};a.container=this;if(!m||!g.call(this,m,k)){c.utils.noData(a,t);return a}t.selectAll(".nv-noData").remove();var q=g.call(this,m,k).slice().sort(d3.descending),B=d.call(this,m,k).slice().sort(d3.descending),v=j.call(this,m,k).slice().sort(d3.descending),F=t.selectAll("g.nv-wrap.nv-bulletChart").data([m]),n=F.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),t=F.select("g");n.append("g").attr("class",
"nv-bulletWrap");n.append("g").attr("class","nv-titles");F.attr("transform","translate("+h.left+","+h.top+")");var x=d3.scale.linear().domain([0,Math.max(q[0],B[0],v[0])]).range(f?[i,0]:[0,i]),z=this.__chart__||d3.scale.linear().domain([0,Infinity]).range(x.range());this.__chart__=x;q=n.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(r-h.top-h.bottom)/2+")");q.append("text").attr("class","nv-title").text(function(a){return a.title});q.append("text").attr("class",
"nv-subtitle").attr("dy","1em").text(function(a){return a.subtitle});b.width(i).height(w);q=t.select(".nv-bulletWrap");d3.transition(q).call(b);var G=o||x.tickFormat(i/100),i=t.selectAll("g.nv-tick").data(x.ticks(p?p:i/50),function(a){return this.textContent||G(a)}),t=i.enter().append("g").attr("class","nv-tick").attr("transform",function(a){return"translate("+z(a)+",0)"}).style("opacity",1.0E-6);t.append("line").attr("y1",w).attr("y2",w*7/6);t.append("text").attr("text-anchor","middle").attr("dy",
"1em").attr("y",w*7/6).text(G);t=d3.transition(i).attr("transform",function(a){return"translate("+x(a)+",0)"}).style("opacity",1);t.select("line").attr("y1",w).attr("y2",w*7/6);t.select("text").attr("y",w*7/6);d3.transition(i.exit()).attr("transform",function(a){return"translate("+x(a)+",0)"}).style("opacity",1.0E-6).remove()});d3.timer.flush();return a}var b=c.models.bullet(),e=c.models.tooltip(),k="left",f=false,h={top:5,right:40,bottom:20,left:120},g=function(a){return a.ranges},d=function(a){return a.markers?
a.markers:[0]},j=function(a){return a.measures},l=null,r=55,o=null,p=null,q=null,m=d3.dispatch("tooltipShow","tooltipHide");e.duration(0).headerEnabled(false);b.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:a.label,value:a.value,color:a.color};e.data(a).hidden(false)});b.dispatch.on("elementMouseout.tooltip",function(){e.hidden(true)});b.dispatch.on("elementMousemove.tooltip",function(){e.position({top:d3.event.pageY,left:d3.event.pageX})()});a.bullet=b;a.dispatch=m;a.tooltip=e;
a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{ranges:{get:function(){return g},set:function(a){g=a}},markers:{get:function(){return d},set:function(a){d=a}},measures:{get:function(){return j},set:function(a){j=a}},width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return r},set:function(a){r=a}},tickFormat:{get:function(){return o},set:function(a){o=a}},ticks:{get:function(){return p},set:function(a){p=a}},noData:{get:function(){return q},set:function(a){q=
a}},tooltips:{get:function(){return e.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");e.enabled(!!a)}},tooltipContent:{get:function(){return e.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");e.contentGenerator(a)}},margin:{get:function(){return h},set:function(a){h.top=a.top!==void 0?a.top:h.top;h.right=a.right!==void 0?a.right:h.right;h.bottom=a.bottom!==void 0?a.bottom:h.bottom;h.left=a.left!==
void 0?a.left:h.left}},orient:{get:function(){return k},set:function(a){k=a;f=k=="right"||k=="bottom"}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.candlestickBar=function(){function a(n){n.each(function(a){h=d3.select(this);var n=c.utils.availableWidth(e,h,b),i=c.utils.availableHeight(k,h,b);c.utils.initSVG(h);var D=n/a[0].values.length*0.45;g.domain(w||d3.extent(a[0].values.map(j).concat(m)));y?g.range(B||[n*0.5/a[0].values.length,n*(a[0].values.length-0.5)/a[0].values.length]):
g.range(B||[5+D/2,n-D/2-5]);d.domain(H||[d3.min(a[0].values.map(q).concat(u)),d3.max(a[0].values.map(p).concat(u))]).range(v||[i,0]);g.domain()[0]===g.domain()[1]&&(g.domain()[0]?g.domain([g.domain()[0]-g.domain()[0]*0.01,g.domain()[1]+g.domain()[1]*0.01]):g.domain([-1,1]));d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+d.domain()[0]*0.01,d.domain()[1]-d.domain()[1]*0.01]):d.domain([-1,1]));var a=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([a[0].values]),A=
a.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),s=A.append("defs"),A=A.append("g"),t=a.select("g");A.append("g").attr("class","nv-ticks");a.attr("transform","translate("+b.left+","+b.top+")");h.on("click",function(a,b){F.chartClick({data:a,index:b,pos:d3.event,id:f})});s.append("clipPath").attr("id","nv-chart-clip-path-"+f).append("rect");a.select("#nv-chart-clip-path-"+f+" rect").attr("width",n).attr("height",i);t.attr("clip-path",E?"url(#nv-chart-clip-path-"+f+")":"");n=a.select(".nv-ticks").selectAll(".nv-tick").data(function(a){return a});
n.exit().remove();n=n.enter().append("g").attr("class",function(a,b,c){return(r(a,b)>o(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b});n.append("line").attr("class","nv-candlestick-lines").attr("transform",function(a,b){return"translate("+g(j(a,b))+",0)"}).attr("x1",0).attr("y1",function(a,b){return d(p(a,b))}).attr("x2",0).attr("y2",function(a,b){return d(q(a,b))});n.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(a,b){return"translate("+(g(j(a,
b))-D/2)+","+(d(l(a,b))-(r(a,b)>o(a,b)?d(o(a,b))-d(r(a,b)):0))+")"}).attr("x",0).attr("y",0).attr("width",D).attr("height",function(a,b){var c=r(a,b),s=o(a,b);return c>s?d(s)-d(c):d(c)-d(s)});h.selectAll(".nv-candlestick-lines").transition().attr("transform",function(a,b){return"translate("+g(j(a,b))+",0)"}).attr("x1",0).attr("y1",function(a,b){return d(p(a,b))}).attr("x2",0).attr("y2",function(a,b){return d(q(a,b))});h.selectAll(".nv-candlestick-rects").transition().attr("transform",function(a,b){return"translate("+
(g(j(a,b))-D/2)+","+(d(l(a,b))-(r(a,b)>o(a,b)?d(o(a,b))-d(r(a,b)):0))+")"}).attr("x",0).attr("y",0).attr("width",D).attr("height",function(a,b){var c=r(a,b),s=o(a,b);return c>s?d(s)-d(c):d(c)-d(s)})});return a}var b={top:0,right:0,bottom:0,left:0},e=null,k=null,f=Math.floor(Math.random()*1E4),h,g=d3.scale.linear(),d=d3.scale.linear(),j=function(a){return a.x},l=function(a){return a.y},r=function(a){return a.open},o=function(a){return a.close},p=function(a){return a.high},q=function(a){return a.low},
m=[],u=[],y=false,E=true,t=c.utils.defaultColor(),i=false,w,H,B,v,F=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");a.highlightPoint=function(b,c){a.clearHighlights();h.select(".nv-candlestickBar .nv-tick-0-"+b).classed("hover",c)};a.clearHighlights=function(){h.select(".nv-candlestickBar .nv-tick.hover").classed("hover",false)};a.dispatch=F;a.options=c.utils.optionsFunc.bind(a);
a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return k},set:function(a){k=a}},xScale:{get:function(){return g},set:function(a){g=a}},yScale:{get:function(){return d},set:function(a){d=a}},xDomain:{get:function(){return w},set:function(a){w=a}},yDomain:{get:function(){return H},set:function(a){H=a}},xRange:{get:function(){return B},set:function(a){B=a}},yRange:{get:function(){return v},set:function(a){v=a}},forceX:{get:function(){return m},
set:function(a){m=a}},forceY:{get:function(){return u},set:function(a){u=a}},padData:{get:function(){return y},set:function(a){y=a}},clipEdge:{get:function(){return E},set:function(a){E=a}},id:{get:function(){return f},set:function(a){f=a}},interactive:{get:function(){return i},set:function(a){i=a}},x:{get:function(){return j},set:function(a){j=a}},y:{get:function(){return l},set:function(a){l=a}},open:{get:function(){return r()},set:function(a){r=a}},close:{get:function(){return o()},set:function(a){o=
a}},high:{get:function(){return p},set:function(a){p=a}},low:{get:function(){return q},set:function(a){q=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!=void 0?a.top:b.top;b.right=a.right!=void 0?a.right:b.right;b.bottom=a.bottom!=void 0?a.bottom:b.bottom;b.left=a.left!=void 0?a.left:b.left}},color:{get:function(){return t},set:function(a){t=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.cumulativeLineChart=function(){function a(I){K.reset();K.models(e);m&&K.models(k);
u&&K.models(f);I.each(function(I){function J(){W.data([s]);var b=a.duration();a.duration(0);a.update();a.duration(b)}var n=d3.select(this);c.utils.initSVG(n);n.classed("nv-chart-"+B,true);var D=this,j=c.utils.availableWidth(o,n,l),K=c.utils.availableHeight(p,n,l);a.update=function(){G===0?n.call(a):n.transition().duration(G).call(a)};a.container=this;v.setter(C(I),a.update).getter(L(I)).update();v.disabled=I.map(function(a){return!!a.disabled});if(!F){var V;F={};for(V in v)F[V]=v[V]instanceof Array?
v[V].slice(0):v[V]}V=d3.behavior.drag().on("dragstart",function(){d3.select(a.container).style("cursor","ew-resize")}).on("drag",function(){s.x=d3.event.x;s.i=Math.round(A.invert(s.x));J()}).on("dragend",function(){d3.select(a.container).style("cursor","auto");v.index=s.i;z.stateChange(v)});if(!I||!I.length||!I.filter(function(a){return a.values.length}).length){c.utils.noData(a,n);return a}n.selectAll(".nv-noData").remove();w=e.xScale();H=e.yScale();if(i)e.yDomain(null);else{var aa=I.filter(function(a){return!a.disabled}).map(function(a){a=
d3.extent(a.values,e.y());a[0]<-0.95&&(a[0]=-0.95);return[(a[0]-a[1])/(1+a[1]),(a[1]-a[0])/(1+a[0])]}),aa=[d3.min(aa,function(a){return a[0]}),d3.max(aa,function(a){return a[1]})];e.yDomain(aa)}A.domain([0,I[0].values.length-1]).range([0,j]).clamp(true);var I=b(s.i,I),Y=t?"none":"all",X=n.selectAll("g.nv-wrap.nv-cumulativeLine").data([I]),U=X.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),aa=X.select("g");U.append("g").attr("class","nv-interactive");U.append("g").attr("class",
"nv-x nv-axis").style("pointer-events","none");U.append("g").attr("class","nv-y nv-axis");U.append("g").attr("class","nv-background");U.append("g").attr("class","nv-linesWrap").style("pointer-events",Y);U.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none");U.append("g").attr("class","nv-legendWrap");U.append("g").attr("class","nv-controlsWrap");if(q){h.width(j);aa.select(".nv-legendWrap").datum(I).call(h);if(l.top!=h.height()){l.top=h.height();K=c.utils.availableHeight(p,n,
l)}aa.select(".nv-legendWrap").attr("transform","translate(0,"+-l.top+")")}if(E){Y=[{key:"Re-scale y-axis",disabled:!i}];g.width(140).color(["#444","#444","#444"]).rightAlign(false).margin({top:5,right:0,bottom:5,left:20});aa.select(".nv-controlsWrap").datum(Y).attr("transform","translate(0,"+-l.top+")").call(g)}X.attr("transform","translate("+l.left+","+l.top+")");y&&aa.select(".nv-y.nv-axis").attr("transform","translate("+j+",0)");Y=I.filter(function(a){return a.tempDisabled});X.select(".tempDisabled").remove();
Y.length&&X.append("text").attr("class","tempDisabled").attr("x",j/2).attr("y","-.71em").style("text-anchor","end").text(Y.map(function(a){return a.key}).join(", ")+" values cannot be calculated for this time period.");if(t){d.width(j).height(K).margin({left:l.left,top:l.top}).svgContainer(n).xScale(w);X.select(".nv-interactive").call(d)}U.select(".nv-background").append("rect");aa.select(".nv-background rect").attr("width",j).attr("height",K);e.y(function(a){return a.display.y}).width(j).height(K).color(I.map(function(a,
b){return a.color||r(a,b)}).filter(function(a,b){return!I[b].disabled&&!I[b].tempDisabled}));X=aa.select(".nv-linesWrap").datum(I.filter(function(a){return!a.disabled&&!a.tempDisabled}));X.call(e);I.forEach(function(a,b){a.seriesIndex=b});U=I.filter(function(a){return!a.disabled&&!!x(a)});U=aa.select(".nv-avgLinesWrap").selectAll("line").data(U,function(a){return a.key});Y=function(a){a=H(x(a));return a<0?0:a>K?K:a};U.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",
function(a){return e.color()(a,a.seriesIndex)}).attr("x1",0).attr("x2",j).attr("y1",Y).attr("y2",Y);U.style("stroke-opacity",function(a){a=H(x(a));return a<0||a>K?0:1}).attr("x1",0).attr("x2",j).attr("y1",Y).attr("y2",Y);U.exit().remove();var W=X.selectAll(".nv-indexLine").data([s]);W.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",0.5).style("pointer-events","all").call(V);W.attr("transform",function(a){return"translate("+A(a.i)+
",0)"}).attr("height",K);if(m){k.scale(w)._ticks(c.utils.calcTicksX(j/70,I)).tickSize(-K,0);aa.select(".nv-x.nv-axis").attr("transform","translate(0,"+H.range()[0]+")");aa.select(".nv-x.nv-axis").call(k)}if(u){f.scale(H)._ticks(c.utils.calcTicksY(K/36,I)).tickSize(-j,0);aa.select(".nv-y.nv-axis").call(f)}aa.select(".nv-background rect").on("click",function(){s.x=d3.mouse(this)[0];s.i=Math.round(A.invert(s.x));v.index=s.i;z.stateChange(v);J()});e.dispatch.on("elementClick",function(a){s.i=a.pointIndex;
s.x=A(s.i);v.index=s.i;z.stateChange(v);J()});g.dispatch.on("legendClick",function(b){b.disabled=!b.disabled;i=!b.disabled;v.rescaleY=i;z.stateChange(v);a.update()});h.dispatch.on("stateChange",function(b){for(var c in b)v[c]=b[c];z.stateChange(v);a.update()});d.dispatch.on("elementMousemove",function(b){e.clearHighlights();var s,J,A,i=[];I.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(I,d){J=c.interactiveBisect(I.values,b.pointXValue,a.x());e.highlightPoint(d,J,true);
var n=I.values[J];if(typeof n!=="undefined"){typeof s==="undefined"&&(s=n);typeof A==="undefined"&&(A=a.xScale()(a.x()(n,J)));i.push({key:I.key,value:a.y()(n,J),color:r(I,I.seriesIndex)})}});if(i.length>2){var n=a.yScale().invert(b.mouseY),m=0.03*Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]),n=c.nearestValueIndex(i.map(function(a){return a.value}),n,m);if(n!==null)i[n].highlight=true}n=k.tickFormat()(a.x()(s,J),J);d.tooltip.position({left:A+l.left,top:b.mouseY+l.top}).chartContainer(D.parentNode).valueFormatter(function(a){return f.tickFormat()(a)}).data({value:n,
series:i})();d.renderGuideLine(A)});d.dispatch.on("elementMouseout",function(){e.clearHighlights()});z.on("changeState",function(b){if(typeof b.disabled!=="undefined"){I.forEach(function(a,c){a.disabled=b.disabled[c]});v.disabled=b.disabled}if(typeof b.index!=="undefined"){s.i=b.index;s.x=A(s.i);v.index=b.index;W.data([s])}if(typeof b.rescaleY!=="undefined")i=b.rescaleY;a.update()})});K.renderEnd("cumulativeLineChart immediate");return a}function b(a,b){J||(J=e.y());return b.map(function(b){if(!b.values)return b;
var c=b.values[a];if(c==null)return b;var s=J(c,a);if(s<-0.95&&!D){b.tempDisabled=true;return b}b.tempDisabled=false;b.values=b.values.map(function(a,b){a.display={y:(J(a,b)-s)/(1+s)};return a});return b})}var e=c.models.line(),k=c.models.axis(),f=c.models.axis(),h=c.models.legend(),g=c.models.legend(),d=c.interactiveGuideline(),j=c.models.tooltip(),l={top:30,right:30,bottom:50,left:60},r=c.utils.defaultColor(),o=null,p=null,q=true,m=true,u=true,y=false,E=true,t=false,i=true,w,H,B=e.id(),v=c.utils.state(),
F=null,n=null,x=function(a){return a.average},z=d3.dispatch("stateChange","changeState","renderEnd"),G=250,D=false;v.index=0;v.rescaleY=i;k.orient("bottom").tickPadding(7);f.orient(y?"right":"left");j.valueFormatter(function(a,b){return f.tickFormat()(a,b)}).headerFormatter(function(a,b){return k.tickFormat()(a,b)});g.updateState(false);var A=d3.scale.linear(),s={i:0,x:0},K=c.utils.renderWatch(z,G),L=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),index:s.i,rescaleY:i}}},
C=function(a){return function(b){if(b.index!==void 0)s.i=b.index;if(b.rescaleY!==void 0)i=b.rescaleY;b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};e.dispatch.on("elementMouseover.tooltip",function(b){var c={x:a.x()(b.point),y:a.y()(b.point),color:b.point.color};b.point=c;j.data(b).position(b.pos).hidden(false)});e.dispatch.on("elementMouseout.tooltip",function(){j.hidden(true)});var J=null;a.dispatch=z;a.lines=e;a.legend=h;a.controls=g;a.xAxis=k;a.yAxis=f;a.interactiveLayer=
d;a.state=v;a.tooltip=j;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return o},set:function(a){o=a}},height:{get:function(){return p},set:function(a){p=a}},rescaleY:{get:function(){return i},set:function(a){i=a}},showControls:{get:function(){return E},set:function(a){E=a}},showLegend:{get:function(){return q},set:function(a){q=a}},average:{get:function(){return x},set:function(a){x=a}},defaultState:{get:function(){return F},set:function(a){F=a}},noData:{get:function(){return n},
set:function(a){n=a}},showXAxis:{get:function(){return m},set:function(a){m=a}},showYAxis:{get:function(){return u},set:function(a){u=a}},noErrorCheck:{get:function(){return D},set:function(a){D=a}},tooltips:{get:function(){return j.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");j.enabled(!!a)}},tooltipContent:{get:function(){return j.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");j.contentGenerator(a)}},
margin:{get:function(){return l},set:function(a){l.top=a.top!==void 0?a.top:l.top;l.right=a.right!==void 0?a.right:l.right;l.bottom=a.bottom!==void 0?a.bottom:l.bottom;l.left=a.left!==void 0?a.left:l.left}},color:{get:function(){return r},set:function(a){r=c.utils.getColor(a);h.color(r)}},useInteractiveGuideline:{get:function(){return t},set:function(b){t=b;if(b===true){a.interactive(false);a.useVoronoi(false)}}},rightAlignYAxis:{get:function(){return y},set:function(a){y=a;f.orient(a?"right":"left")}},
duration:{get:function(){return G},set:function(a){G=a;e.duration(G);k.duration(G);f.duration(G);K.reset(G)}}});c.utils.inheritOptions(a,e);c.utils.initOptions(a);return a};c.models.discreteBar=function(){function a(f){B.reset();f.each(function(a){var n=e-b.left-b.right,f=k-b.top-b.bottom;h=d3.select(this);c.utils.initSVG(h);a.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});var v=m&&u?[]:a.map(function(a){return a.values.map(function(a,b){return{x:j(a,b),y:l(a,b),y0:a.y0}})});g.domain(m||
d3.merge(v).map(function(a){return a.x})).rangeBands(y||[0,n],0.1);d.domain(u||d3.extent(d3.merge(v).map(function(a){return a.y}).concat(r)));p?d.range(E||[f-(d.domain()[0]<0?12:0),d.domain()[1]>0?12:0]):d.range(E||[f,0]);H=H||d.copy().range([d(0),d(0)]);n=h.selectAll("g.nv-wrap.nv-discretebar").data([a]);f=n.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar").append("g");n.select("g");f.append("g").attr("class","nv-groups");n.attr("transform","translate("+b.left+","+b.top+")");n=n.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},
function(a){return a.key});n.enter().append("g").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6);n.exit().watchTransition(B,"discreteBar: exit groups").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6).remove();n.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover});n.watchTransition(B,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",0.75);n=n.selectAll("g.nv-bar").data(function(a){return a.values});n.exit().remove();
f=n.enter().append("g").attr("transform",function(a,b){return"translate("+(g(j(a,b))+g.rangeBand()*0.05)+", "+d(0)+")"}).on("mouseover",function(a,b){d3.select(this).classed("hover",true);t.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){d3.select(this).classed("hover",false);t.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mousemove",function(a,b){t.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",
function(a,b){t.elementClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()}).on("dblclick",function(a,b){t.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()});f.append("rect").attr("height",0).attr("width",g.rangeBand()*0.9/a.length);if(p){f.append("text").attr("text-anchor","middle");n.select("text").text(function(a,b){return q(l(a,b))}).watchTransition(B,"discreteBar: bars text").attr("x",g.rangeBand()*0.9/2).attr("y",
function(a,b){return l(a,b)<0?d(l(a,b))-d(0)+12:-4})}else n.selectAll("text").remove();n.attr("class",function(a,b){return l(a,b)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(a,b){return a.color||o(a,b)}).style("stroke",function(a,b){return a.color||o(a,b)}).select("rect").attr("class",i).watchTransition(B,"discreteBar: bars rect").attr("width",g.rangeBand()*0.9/a.length);n.watchTransition(B,"discreteBar: bars").attr("transform",function(a,b){var c=g(j(a,b))+g.rangeBand()*0.05,s=
l(a,b)<0?d(0):d(0)-d(l(a,b))<1?d(0)-1:d(l(a,b));return"translate("+c+", "+s+")"}).select("rect").attr("height",function(a,b){return Math.max(Math.abs(d(l(a,b))-d(u&&u[0]||0))||1)});g.copy();H=d.copy()});B.renderEnd("discreteBar immediate");return a}var b={top:0,right:0,bottom:0,left:0},e=960,k=500,f=Math.floor(Math.random()*1E4),h,g=d3.scale.ordinal(),d=d3.scale.linear(),j=function(a){return a.x},l=function(a){return a.y},r=[0],o=c.utils.defaultColor(),p=false,q=d3.format(",.2f"),m,u,y,E,t=d3.dispatch("chartClick",
"elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),i="discreteBar",w=250,H,B=c.utils.renderWatch(t,w);a.dispatch=t;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return k},set:function(a){k=a}},forceY:{get:function(){return r},set:function(a){r=a}},showValues:{get:function(){return p},set:function(a){p=a}},x:{get:function(){return j},set:function(a){j=
a}},y:{get:function(){return l},set:function(a){l=a}},xScale:{get:function(){return g},set:function(a){g=a}},yScale:{get:function(){return d},set:function(a){d=a}},xDomain:{get:function(){return m},set:function(a){m=a}},yDomain:{get:function(){return u},set:function(a){u=a}},xRange:{get:function(){return y},set:function(a){y=a}},yRange:{get:function(){return E},set:function(a){E=a}},valueFormat:{get:function(){return q},set:function(a){q=a}},id:{get:function(){return f},set:function(a){f=a}},rectClass:{get:function(){return i},
set:function(a){i=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return o},set:function(a){o=c.utils.getColor(a)}},duration:{get:function(){return w},set:function(a){w=a;B.reset(w)}}});c.utils.initOptions(a);return a};c.models.discreteBarChart=function(){function a(i){t.reset();t.models(b);l&&t.models(e);r&&t.models(k);
i.each(function(i){var f=d3.select(this);c.utils.initSVG(f);var j=c.utils.availableWidth(g,f,h),t=c.utils.availableHeight(d,f,h);a.update=function(){y.beforeUpdate();f.transition().duration(E).call(a)};a.container=this;if(!i||!i.length||!i.filter(function(a){return a.values.length}).length){c.utils.noData(a,f);return a}f.selectAll(".nv-noData").remove();q=b.xScale();m=b.yScale().clamp(true);var u=f.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([i]),n=u.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),
x=n.append("defs"),u=u.select("g");n.append("g").attr("class","nv-x nv-axis");n.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");n.append("g").attr("class","nv-barsWrap");u.attr("transform","translate("+h.left+","+h.top+")");o&&u.select(".nv-y.nv-axis").attr("transform","translate("+j+",0)");b.width(j).height(t);u.select(".nv-barsWrap").datum(i.filter(function(a){return!a.disabled})).transition().call(b);x.append("clipPath").attr("id","nv-x-label-clip-"+
b.id()).append("rect");u.select("#nv-x-label-clip-"+b.id()+" rect").attr("width",q.rangeBand()*(p?2:1)).attr("height",16).attr("x",-q.rangeBand()/(p?1:2));if(l){e.scale(q)._ticks(c.utils.calcTicksX(j/100,i)).tickSize(-t,0);u.select(".nv-x.nv-axis").attr("transform","translate(0,"+(m.range()[0]+(b.showValues()&&m.domain()[0]<0?16:0))+")");u.select(".nv-x.nv-axis").call(e);n=u.select(".nv-x.nv-axis").selectAll("g");p&&n.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(c%2==0?
"5":"17")+")"})}if(r){k.scale(m)._ticks(c.utils.calcTicksY(t/36,i)).tickSize(-j,0);u.select(".nv-y.nv-axis").call(k)}u.select(".nv-zeroLine line").attr("x1",0).attr("x2",j).attr("y1",m(0)).attr("y2",m(0))});t.renderEnd("discreteBar chart immediate");return a}var b=c.models.discreteBar(),e=c.models.axis(),k=c.models.axis(),f=c.models.tooltip(),h={top:15,right:10,bottom:50,left:60},g=null,d=null,j=c.utils.getColor(),l=true,r=true,o=false,p=false,q,m,u=null,y=d3.dispatch("beforeUpdate","renderEnd"),
E=250;e.orient("bottom").showMaxMin(false).tickFormat(function(a){return a});k.orient(o?"right":"left").tickFormat(d3.format(",.1f"));f.duration(0).headerEnabled(false).valueFormatter(function(a,b){return k.tickFormat()(a,b)}).keyFormatter(function(a,b){return e.tickFormat()(a,b)});var t=c.utils.renderWatch(y,E);b.dispatch.on("elementMouseover.tooltip",function(b){b.series={key:a.x()(b.data),value:a.y()(b.data),color:b.color};f.data(b).hidden(false)});b.dispatch.on("elementMouseout.tooltip",function(){f.hidden(true)});
b.dispatch.on("elementMousemove.tooltip",function(){f.position({top:d3.event.pageY,left:d3.event.pageX})()});a.dispatch=y;a.discretebar=b;a.xAxis=e;a.yAxis=k;a.tooltip=f;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return g},set:function(a){g=a}},height:{get:function(){return d},set:function(a){d=a}},staggerLabels:{get:function(){return p},set:function(a){p=a}},showXAxis:{get:function(){return l},set:function(a){l=a}},showYAxis:{get:function(){return r},
set:function(a){r=a}},noData:{get:function(){return u},set:function(a){u=a}},tooltips:{get:function(){return f.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");f.enabled(!!a)}},tooltipContent:{get:function(){return f.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");f.contentGenerator(a)}},margin:{get:function(){return h},set:function(a){h.top=a.top!==void 0?a.top:h.top;h.right=a.right!==void 0?
a.right:h.right;h.bottom=a.bottom!==void 0?a.bottom:h.bottom;h.left=a.left!==void 0?a.left:h.left}},duration:{get:function(){return E},set:function(a){E=a;t.reset(E);b.duration(E);e.duration(E);k.duration(E)}},color:{get:function(){return j},set:function(a){j=c.utils.getColor(a);b.color(j)}},rightAlignYAxis:{get:function(){return o},set:function(a){o=a;k.orient(a?"right":"left")}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.distribution=function(){function a(e){o.reset();
e.each(function(a){var e=f=="x"?"y":"x",j=d3.select(this);c.utils.initSVG(j);r=r||d;a=j.selectAll("g.nv-distribution").data([a]);a.enter().append("g").attr("class","nvd3 nv-distribution").append("g");j=a.select("g");a.attr("transform","translate("+b.left+","+b.top+")");a=j.selectAll("g.nv-dist").data(function(a){return a},function(a){return a.key});a.enter().append("g");a.attr("class",function(a,b){return"nv-dist nv-series-"+b}).style("stroke",function(a,b){return g(a,b)});j=a.selectAll("line.nv-dist"+
f).data(function(a){return a.values});j.enter().append("line").attr(f+"1",function(a,b){return r(h(a,b))}).attr(f+"2",function(a,b){return r(h(a,b))});o.transition(a.exit().selectAll("line.nv-dist"+f),"dist exit").attr(f+"1",function(a,b){return d(h(a,b))}).attr(f+"2",function(a,b){return d(h(a,b))}).style("stroke-opacity",0).remove();j.attr("class",function(a,b){return"nv-dist"+f+" nv-dist"+f+"-"+b}).attr(e+"1",0).attr(e+"2",k);o.transition(j,"dist").attr(f+"1",function(a,b){return d(h(a,b))}).attr(f+
"2",function(a,b){return d(h(a,b))});r=d.copy()});o.renderEnd("distribution immediate");return a}var b={top:0,right:0,bottom:0,left:0},e=400,k=8,f="x",h=function(a){return a[f]},g=c.utils.defaultColor(),d=d3.scale.linear(),j=250,l=d3.dispatch("renderEnd"),r,o=c.utils.renderWatch(l,j);a.options=c.utils.optionsFunc.bind(a);a.dispatch=l;a.margin=function(c){if(!arguments.length)return b;b.top=typeof c.top!="undefined"?c.top:b.top;b.right=typeof c.right!="undefined"?c.right:b.right;b.bottom=typeof c.bottom!=
"undefined"?c.bottom:b.bottom;b.left=typeof c.left!="undefined"?c.left:b.left;return a};a.width=function(b){if(!arguments.length)return e;e=b;return a};a.axis=function(b){if(!arguments.length)return f;f=b;return a};a.size=function(b){if(!arguments.length)return k;k=b;return a};a.getData=function(b){if(!arguments.length)return h;h=d3.functor(b);return a};a.scale=function(b){if(!arguments.length)return d;d=b;return a};a.color=function(b){if(!arguments.length)return g;g=c.utils.getColor(b);return a};
a.duration=function(b){if(!arguments.length)return j;j=b;o.reset(j);return a};return a};c.models.furiousLegend=function(){function a(m){function u(a,b){if(q!="furious")return"#000";if(o)return a.disengaged?h(a,b):"#fff";if(!o)return a.disabled?h(a,b):"#fff"}function y(a,b){return o&&q=="furious"?a.disengaged?"#fff":h(a,b):a.disabled?"#fff":h(a,b)}m.each(function(a){var m=e-b.left-b.right,i=d3.select(this);c.utils.initSVG(i);i=i.selectAll("g.nv-legend").data([a]);i.enter().append("g").attr("class",
"nvd3 nv-legend").append("g");a=i.select("g");i.attr("transform","translate("+b.left+","+b.top+")");var w=a.selectAll(".nv-series").data(function(a){return q!="furious"?a:a.filter(function(a){return o?true:!a.disengaged})}),i=w.enter().append("g").attr("class","nv-series"),H;if(q=="classic"){i.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5);H=w.select("circle")}else if(q=="furious"){i.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",
3).attr("ry",3);H=w.select("rect");i.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)");w.select(".nv-check-box").each(function(a,b){d3.select(this).selectAll("path").attr("stroke",u(a,b))})}i.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",
".32em").attr("dx","8");var B=w.select("text.nv-legend-text");w.on("mouseover",function(a,b){p.legendMouseover(a,b)}).on("mouseout",function(a,b){p.legendMouseout(a,b)}).on("click",function(a,b){p.legendClick(a,b);var c=w.data();if(l){if(q=="classic")if(r){c.forEach(function(a){a.disabled=true});a.disabled=false}else{a.disabled=!a.disabled;c.every(function(a){return a.disabled})&&c.forEach(function(a){a.disabled=false})}else if(q=="furious")if(o){a.disengaged=!a.disengaged;a.userDisabled=a.userDisabled==
void 0?!!a.disabled:a.userDisabled;a.disabled=a.disengaged||a.userDisabled}else if(!o){a.disabled=!a.disabled;a.userDisabled=a.disabled;c.filter(function(a){return!a.disengaged}).every(function(a){return a.userDisabled})&&c.forEach(function(a){a.disabled=a.userDisabled=false})}p.stateChange({disabled:c.map(function(a){return!!a.disabled}),disengaged:c.map(function(a){return!!a.disengaged})})}}).on("dblclick",function(a,b){if(!(q=="furious"&&o)){p.legendDblclick(a,b);if(l){var c=w.data();c.forEach(function(a){a.disabled=
true;if(q=="furious")a.userDisabled=a.disabled});a.disabled=false;if(q=="furious")a.userDisabled=a.disabled;p.stateChange({disabled:c.map(function(a){return!!a.disabled})})}}});w.classed("nv-disabled",function(a){return a.userDisabled});w.exit().remove();B.attr("fill",u).text(f);var v;switch(q){case "furious":v=23;break;case "classic":v=20}if(g){var F=[];w.each(function(){var a=d3.select(this).select("text"),b;try{b=a.node().getComputedTextLength();if(b<=0)throw Error();}catch(s){b=c.utils.calcApproxTextWidth(a)}F.push(b+
d)});for(var n=0,x=0,i=[];x<m&&n<F.length;){i[n]=F[n];x=x+F[n++]}for(n===0&&(n=1);x>m&&n>1;){i=[];n--;for(x=0;x<F.length;x++)if(F[x]>(i[x%n]||0))i[x%n]=F[x];x=i.reduce(function(a,b){return a+b})}for(var z=[],G=m=0;m<n;m++){z[m]=G;G=G+i[m]}w.attr("transform",function(a,b){return"translate("+z[b%n]+","+(5+Math.floor(b/n)*v)+")"});j?a.attr("transform","translate("+(e-b.right-x)+","+b.top+")"):a.attr("transform","translate(0,"+b.top+")");k=b.top+b.bottom+Math.ceil(F.length/n)*v}else{var D=5,A=5,s=0,K;
w.attr("transform",function(){var a=d3.select(this).select("text").node().getComputedTextLength()+d;K=A;if(e<b.left+b.right+K+a){A=K=5;D=D+v}A=A+a;A>s&&(s=A);return"translate("+K+","+D+")"});a.attr("transform","translate("+(e-b.right-s)+","+b.top+")");k=b.top+b.bottom+D+15}q=="furious"&&H.attr("width",function(a,b){return B[0][b].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15);H.style("fill",y).style("stroke",function(a,b){return a.color||h(a,b)})});return a}var b={top:5,
right:0,bottom:5,left:0},e=400,k=20,f=function(a){return a.key},h=c.utils.getColor(),g=true,d=28,j=true,l=true,r=false,o=false,p=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),q="classic";a.dispatch=p;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return k},set:function(a){k=a}},key:{get:function(){return f},set:function(a){f=a}},align:{get:function(){return g},
set:function(a){g=a}},rightAlign:{get:function(){return j},set:function(a){j=a}},padding:{get:function(){return d},set:function(a){d=a}},updateState:{get:function(){return l},set:function(a){l=a}},radioButtonMode:{get:function(){return r},set:function(a){r=a}},expanded:{get:function(){return o},set:function(a){o=a}},vers:{get:function(){return q},set:function(a){q=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=
a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return h},set:function(a){h=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.historicalBar=function(){function a(B){B.each(function(a){H.reset();h=d3.select(this);var B=c.utils.availableWidth(e,h,b),n=c.utils.availableHeight(k,h,b);c.utils.initSVG(h);g.domain(u||d3.extent(a[0].values.map(j).concat(r)));p?g.range(E||[B*0.5/a[0].values.length,B*(a[0].values.length-0.5)/a[0].values.length]):
g.range(E||[0,B]);d.domain(y||d3.extent(a[0].values.map(l).concat(o))).range(t||[n,0]);g.domain()[0]===g.domain()[1]&&(g.domain()[0]?g.domain([g.domain()[0]-g.domain()[0]*0.01,g.domain()[1]+g.domain()[1]*0.01]):g.domain([-1,1]));d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+d.domain()[0]*0.01,d.domain()[1]-d.domain()[1]*0.01]):d.domain([-1,1]));var x=h.selectAll("g.nv-wrap.nv-historicalBar-"+f).data([a[0].values]),z=x.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+
f),G=z.append("defs"),z=z.append("g"),D=x.select("g");z.append("g").attr("class","nv-bars");x.attr("transform","translate("+b.left+","+b.top+")");h.on("click",function(a,b){i.chartClick({data:a,index:b,pos:d3.event,id:f})});G.append("clipPath").attr("id","nv-chart-clip-path-"+f).append("rect");x.select("#nv-chart-clip-path-"+f+" rect").attr("width",B).attr("height",n);D.attr("clip-path",q?"url(#nv-chart-clip-path-"+f+")":"");n=x.select(".nv-bars").selectAll(".nv-bar").data(function(a){return a},function(a,
b){return j(a,b)});n.exit().remove();n.enter().append("rect").attr("x",0).attr("y",function(a,b){return c.utils.NaNtoZero(d(Math.max(0,l(a,b))))}).attr("height",function(a,b){return c.utils.NaNtoZero(Math.abs(d(l(a,b))-d(0)))}).attr("transform",function(b,c){return"translate("+(g(j(b,c))-B/a[0].values.length*0.45)+",0)"}).on("mouseover",function(a,b){if(w){d3.select(this).classed("hover",true);i.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")})}}).on("mouseout",function(a,b){if(w){d3.select(this).classed("hover",
false);i.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}}).on("mousemove",function(a,b){w&&i.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){if(w){i.elementClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()}}).on("dblclick",function(a,b){if(w){i.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()}});n.attr("fill",function(a,b){return m(a,b)}).attr("class",
function(a,b,c){return(l(a,b)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+c+"-"+b}).watchTransition(H,"bars").attr("transform",function(b,c){return"translate("+(g(j(b,c))-B/a[0].values.length*0.45)+",0)"}).attr("width",B/a[0].values.length*0.9);n.watchTransition(H,"bars").attr("y",function(a,b){var e=l(a,b)<0?d(0):d(0)-d(l(a,b))<1?d(0)-1:d(l(a,b));return c.utils.NaNtoZero(e)}).attr("height",function(a,b){return c.utils.NaNtoZero(Math.max(Math.abs(d(l(a,b))-d(0)),1))})});H.renderEnd("historicalBar immediate");
return a}var b={top:0,right:0,bottom:0,left:0},e=null,k=null,f=Math.floor(Math.random()*1E4),h=null,g=d3.scale.linear(),d=d3.scale.linear(),j=function(a){return a.x},l=function(a){return a.y},r=[],o=[0],p=false,q=true,m=c.utils.defaultColor(),u,y,E,t,i=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),w=true,H=c.utils.renderWatch(i,0);a.highlightPoint=function(a,b){h.select(".nv-bars .nv-bar-0-"+a).classed("hover",b)};a.clearHighlights=
function(){h.select(".nv-bars .nv-bar.hover").classed("hover",false)};a.dispatch=i;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return k},set:function(a){k=a}},forceX:{get:function(){return r},set:function(a){r=a}},forceY:{get:function(){return o},set:function(a){o=a}},padData:{get:function(){return p},set:function(a){p=a}},x:{get:function(){return j},set:function(a){j=a}},y:{get:function(){return l},
set:function(a){l=a}},xScale:{get:function(){return g},set:function(a){g=a}},yScale:{get:function(){return d},set:function(a){d=a}},xDomain:{get:function(){return u},set:function(a){u=a}},yDomain:{get:function(){return y},set:function(a){y=a}},xRange:{get:function(){return E},set:function(a){E=a}},yRange:{get:function(){return t},set:function(a){t=a}},clipEdge:{get:function(){return q},set:function(a){q=a}},id:{get:function(){return f},set:function(a){f=a}},interactive:{get:function(){return w},set:function(a){w=
a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return m},set:function(a){m=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.historicalBarChart=function(a){function b(a){a.each(function(d){F.reset();F.models(e);q&&F.models(k);m&&F.models(f);var z=d3.select(this),G=this;c.utils.initSVG(z);var D=c.utils.availableWidth(r,
z,j),A=c.utils.availableHeight(o,z,j);b.update=function(){z.transition().duration(v).call(b)};b.container=this;i.disabled=d.map(function(a){return!!a.disabled});if(!w){var s;w={};for(s in i)w[s]=i[s]instanceof Array?i[s].slice(0):i[s]}if(!d||!d.length||!d.filter(function(a){return a.values.length}).length){c.utils.noData(b,z);return b}z.selectAll(".nv-noData").remove();E=e.xScale();t=e.yScale();var K=z.selectAll("g.nv-wrap.nv-historicalBarChart").data([d]);s=K.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g");
var H=K.select("g");s.append("g").attr("class","nv-x nv-axis");s.append("g").attr("class","nv-y nv-axis");s.append("g").attr("class","nv-barsWrap");s.append("g").attr("class","nv-legendWrap");s.append("g").attr("class","nv-interactive");if(p){h.width(D);H.select(".nv-legendWrap").datum(d).call(h);if(j.top!=h.height()){j.top=h.height();A=c.utils.availableHeight(o,z,j)}K.select(".nv-legendWrap").attr("transform","translate(0,"+-j.top+")")}K.attr("transform","translate("+j.left+","+j.top+")");u&&H.select(".nv-y.nv-axis").attr("transform",
"translate("+D+",0)");if(y){g.width(D).height(A).margin({left:j.left,top:j.top}).svgContainer(z).xScale(E);K.select(".nv-interactive").call(g)}e.width(D).height(A).color(d.map(function(a,b){return a.color||l(a,b)}).filter(function(a,b){return!d[b].disabled}));H.select(".nv-barsWrap").datum(d.filter(function(a){return!a.disabled})).transition().call(e);if(q){k.scale(E)._ticks(c.utils.calcTicksX(D/100,d)).tickSize(-A,0);H.select(".nv-x.nv-axis").attr("transform","translate(0,"+t.range()[0]+")");H.select(".nv-x.nv-axis").transition().call(k)}if(m){f.scale(t)._ticks(c.utils.calcTicksY(A/
36,d)).tickSize(-D,0);H.select(".nv-y.nv-axis").transition().call(f)}g.dispatch.on("elementMousemove",function(a){e.clearHighlights();var s,I,n,i=[];d.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(d){I=c.interactiveBisect(d.values,a.pointXValue,b.x());e.highlightPoint(I,true);var f=d.values[I];if(f!==void 0){s===void 0&&(s=f);n===void 0&&(n=b.xScale()(b.x()(f,I)));i.push({key:d.key,value:b.y()(f,I),color:l(d,d.seriesIndex),data:d.values[I]})}});var A=k.tickFormat()(b.x()(s,
I));g.tooltip.position({left:n+j.left,top:a.mouseY+j.top}).chartContainer(G.parentNode).valueFormatter(function(a){return f.tickFormat()(a)}).data({value:A,index:I,series:i})();g.renderGuideLine(n)});g.dispatch.on("elementMouseout",function(){B.tooltipHide();e.clearHighlights()});h.dispatch.on("legendClick",function(c){c.disabled=!c.disabled;d.filter(function(a){return!a.disabled}).length||d.map(function(a){a.disabled=false;K.selectAll(".nv-series").classed("disabled",false);return a});i.disabled=
d.map(function(a){return!!a.disabled});B.stateChange(i);a.transition().call(b)});h.dispatch.on("legendDblclick",function(a){d.forEach(function(a){a.disabled=true});a.disabled=false;i.disabled=d.map(function(a){return!!a.disabled});B.stateChange(i);b.update()});B.on("changeState",function(a){if(typeof a.disabled!=="undefined"){d.forEach(function(b,c){b.disabled=a.disabled[c]});i.disabled=a.disabled}b.update()})});F.renderEnd("historicalBarChart immediate");return b}var e=a||c.models.historicalBar(),
k=c.models.axis(),f=c.models.axis(),h=c.models.legend(),g=c.interactiveGuideline(),d=c.models.tooltip(),j={top:30,right:90,bottom:50,left:90},l=c.utils.defaultColor(),r=null,o=null,p=false,q=true,m=true,u=false,y=false,E,t,i={},w=null,H=null,B=d3.dispatch("tooltipHide","stateChange","changeState","renderEnd"),v=250;k.orient("bottom").tickPadding(7);f.orient(u?"right":"left");d.duration(0).headerEnabled(false).valueFormatter(function(a,b){return f.tickFormat()(a,b)}).headerFormatter(function(a,b){return k.tickFormat()(a,
b)});var F=c.utils.renderWatch(B,0);e.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:b.x()(a.data),value:b.y()(a.data),color:a.color};d.data(a).hidden(false)});e.dispatch.on("elementMouseout.tooltip",function(){d.hidden(true)});e.dispatch.on("elementMousemove.tooltip",function(){d.position({top:d3.event.pageY,left:d3.event.pageX})()});b.dispatch=B;b.bars=e;b.legend=h;b.xAxis=k;b.yAxis=f;b.interactiveLayer=g;b.tooltip=d;b.options=c.utils.optionsFunc.bind(b);b._options=Object.create({},
{width:{get:function(){return r},set:function(a){r=a}},height:{get:function(){return o},set:function(a){o=a}},showLegend:{get:function(){return p},set:function(a){p=a}},showXAxis:{get:function(){return q},set:function(a){q=a}},showYAxis:{get:function(){return m},set:function(a){m=a}},defaultState:{get:function(){return w},set:function(a){w=a}},noData:{get:function(){return H},set:function(a){H=a}},tooltips:{get:function(){return d.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");
d.enabled(!!a)}},tooltipContent:{get:function(){return d.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");d.contentGenerator(a)}},margin:{get:function(){return j},set:function(a){j.top=a.top!==void 0?a.top:j.top;j.right=a.right!==void 0?a.right:j.right;j.bottom=a.bottom!==void 0?a.bottom:j.bottom;j.left=a.left!==void 0?a.left:j.left}},color:{get:function(){return l},set:function(a){l=c.utils.getColor(a);h.color(l);e.color(l)}},duration:{get:function(){return v},
set:function(a){v=a;F.reset(v);f.duration(v);k.duration(v)}},rightAlignYAxis:{get:function(){return u},set:function(a){u=a;f.orient(a?"right":"left")}},useInteractiveGuideline:{get:function(){return y},set:function(a){y=a;a===true&&b.interactive(false)}}});c.utils.inheritOptions(b,e);c.utils.initOptions(b);return b};c.models.ohlcBarChart=function(){var a=c.models.historicalBarChart(c.models.ohlcBar());a.useInteractiveGuideline(true);a.interactiveLayer.tooltip.contentGenerator(function(b){var c=b.series[0].data;
return'<h3 style="color: #'+(c.open<c.close?"2ca02c":"d62728")+'">'+b.value+"</h3><table><tr><td>open:</td><td>"+a.yAxis.tickFormat()(c.open)+"</td></tr><tr><td>close:</td><td>"+a.yAxis.tickFormat()(c.close)+"</td></tr><tr><td>high</td><td>"+a.yAxis.tickFormat()(c.high)+"</td></tr><tr><td>low:</td><td>"+a.yAxis.tickFormat()(c.low)+"</td></tr></table>"});return a};c.models.candlestickBarChart=function(){var a=c.models.historicalBarChart(c.models.candlestickBar());a.useInteractiveGuideline(true);a.interactiveLayer.tooltip.contentGenerator(function(b){var c=
b.series[0].data;return'<h3 style="color: #'+(c.open<c.close?"2ca02c":"d62728")+'">'+b.value+"</h3><table><tr><td>open:</td><td>"+a.yAxis.tickFormat()(c.open)+"</td></tr><tr><td>close:</td><td>"+a.yAxis.tickFormat()(c.close)+"</td></tr><tr><td>high</td><td>"+a.yAxis.tickFormat()(c.high)+"</td></tr><tr><td>low:</td><td>"+a.yAxis.tickFormat()(c.low)+"</td></tr></table>"});return a};c.models.legend=function(){function a(m){function u(a,b){if(q!="furious")return"#000";if(o)return a.disengaged?"#000":
"#fff";if(!o){if(!a.color)a.color=h(a,b);return a.disabled?a.color:"#fff"}}function y(a,b){return o&&q=="furious"?a.disengaged?"#eee":a.color||h(a,b):a.color||h(a,b)}function E(a){return o&&q=="furious"?1:a.disabled?0:1}m.each(function(a){var i=e-b.left-b.right,h=d3.select(this);c.utils.initSVG(h);var m=h.selectAll("g.nv-legend").data([a]),a=m.enter().append("g").attr("class","nvd3 nv-legend").append("g"),h=m.select("g");m.attr("transform","translate("+b.left+","+b.top+")");var B=h.selectAll(".nv-series").data(function(a){return q!=
"furious"?a:a.filter(function(a){return o?true:!a.disengaged})}),m=B.enter().append("g").attr("class","nv-series"),v,F;switch(q){case "furious":F=23;break;case "classic":F=20}if(q=="classic"){m.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5);v=B.select("circle")}else if(q=="furious"){m.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3);v=B.select(".nv-legend-symbol");m.append("g").attr("class","nv-check-box").property("innerHTML",
'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)");B.select(".nv-check-box").each(function(a,b){d3.select(this).selectAll("path").attr("stroke",u(a,b))})}m.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var n=B.select("text.nv-legend-text");B.on("mouseover",function(a,b){p.legendMouseover(a,
b)}).on("mouseout",function(a,b){p.legendMouseout(a,b)}).on("click",function(a,b){p.legendClick(a,b);var c=B.data();if(l){if(q=="classic")if(r){c.forEach(function(a){a.disabled=true});a.disabled=false}else{a.disabled=!a.disabled;c.every(function(a){return a.disabled})&&c.forEach(function(a){a.disabled=false})}else if(q=="furious")if(o){a.disengaged=!a.disengaged;a.userDisabled=a.userDisabled==void 0?!!a.disabled:a.userDisabled;a.disabled=a.disengaged||a.userDisabled}else if(!o){a.disabled=!a.disabled;
a.userDisabled=a.disabled;c.filter(function(a){return!a.disengaged}).every(function(a){return a.userDisabled})&&c.forEach(function(a){a.disabled=a.userDisabled=false})}p.stateChange({disabled:c.map(function(a){return!!a.disabled}),disengaged:c.map(function(a){return!!a.disengaged})})}}).on("dblclick",function(a,b){if(!(q=="furious"&&o)){p.legendDblclick(a,b);if(l){var c=B.data();c.forEach(function(a){a.disabled=true;if(q=="furious")a.userDisabled=a.disabled});a.disabled=false;if(q=="furious")a.userDisabled=
a.disabled;p.stateChange({disabled:c.map(function(a){return!!a.disabled})})}}});B.classed("nv-disabled",function(a){return a.userDisabled});B.exit().remove();n.attr("fill",u).text(f);var x=0;if(g){var z=[];B.each(function(){var a=d3.select(this).select("text"),b;try{b=a.node().getComputedTextLength();if(b<=0)throw Error();}catch(s){b=c.utils.calcApproxTextWidth(a)}z.push(b+d)});for(var G=0,m=[],x=0;x<i&&G<z.length;){m[G]=z[G];x=x+z[G++]}for(G===0&&(G=1);x>i&&G>1;){m=[];G--;for(var D=0;D<z.length;D++)if(z[D]>
(m[D%G]||0))m[D%G]=z[D];x=m.reduce(function(a,b){return a+b})}for(var A=[],D=i=0;i<G;i++){A[i]=D;D=D+m[i]}B.attr("transform",function(a,b){return"translate("+A[b%G]+","+(5+Math.floor(b/G)*F)+")"});j?h.attr("transform","translate("+(e-b.right-x)+","+b.top+")"):h.attr("transform","translate(0,"+b.top+")");k=b.top+b.bottom+Math.ceil(z.length/G)*F}else{var s=5,K=5,L=0,C;B.attr("transform",function(){var a=d3.select(this).select("text").node().getComputedTextLength()+d;C=K;if(e<b.left+b.right+C+a){K=C=
5;s=s+F}K=K+a;K>L&&(L=K);x<C+L&&(x=C+L);return"translate("+C+","+s+")"});h.attr("transform","translate("+(e-b.right-L)+","+b.top+")");k=b.top+b.bottom+s+15}if(q=="furious"){v.attr("width",function(a,b){return n[0][b].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15);a.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0);h.select(".nv-legend-bg").transition().duration(300).attr("x",-F).attr("width",x+F-12).attr("height",k+10).attr("y",
-b.top-10).attr("opacity",o?1:0)}v.style("fill",y).style("fill-opacity",E).style("stroke",y)});return a}var b={top:5,right:0,bottom:5,left:0},e=400,k=20,f=function(a){return a.key},h=c.utils.getColor(),g=true,d=32,j=true,l=true,r=false,o=false,p=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),q="classic";a.dispatch=p;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return k},
set:function(a){k=a}},key:{get:function(){return f},set:function(a){f=a}},align:{get:function(){return g},set:function(a){g=a}},rightAlign:{get:function(){return j},set:function(a){j=a}},padding:{get:function(){return d},set:function(a){d=a}},updateState:{get:function(){return l},set:function(a){l=a}},radioButtonMode:{get:function(){return r},set:function(a){r=a}},expanded:{get:function(){return o},set:function(a){o=a}},vers:{get:function(){return q},set:function(a){q=a}},margin:{get:function(){return b},
set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return h},set:function(a){h=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.line=function(){function a(y){w.reset();w.models(b);y.each(function(a){h=d3.select(this);var v=c.utils.availableWidth(k,h,e),y=c.utils.availableHeight(f,h,e);c.utils.initSVG(h);q=b.xScale();m=b.yScale();t=t||q;i=
i||m;var a=h.selectAll("g.nv-wrap.nv-line").data([a]),n=a.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),x=n.append("defs"),z=n.append("g"),n=a.select("g");z.append("g").attr("class","nv-groups");z.append("g").attr("class","nv-scatterWrap");a.attr("transform","translate("+e.left+","+e.top+")");b.width(v).height(y);z=a.select(".nv-scatterWrap");z.call(b);x.append("clipPath").attr("id","nv-edge-clip-"+b.id()).append("rect");a.select("#nv-edge-clip-"+b.id()+" rect").attr("width",v).attr("height",
y>0?y:0);n.attr("clip-path",p?"url(#nv-edge-clip-"+b.id()+")":"");z.attr("clip-path",p?"url(#nv-edge-clip-"+b.id()+")":"");v=a.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});v.enter().append("g").style("stroke-opacity",1.0E-6).style("stroke-width",function(a){return a.strokeWidth||g}).style("fill-opacity",1.0E-6);v.exit().remove();v.attr("class",function(a,b){return(a.classed||"")+" nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",
function(a,b){return d(a,b)}).style("stroke",function(a,b){return d(a,b)});v.watchTransition(w,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(a){return a.fillOpacity||0.5});y=v.selectAll("path.nv-area").data(function(a){return o(a)?[a]:[]});y.enter().append("path").attr("class","nv-area").attr("d",function(a){return d3.svg.area().interpolate(u).defined(r).x(function(a,b){return c.utils.NaNtoZero(t(j(a,b)))}).y0(function(a,b){return c.utils.NaNtoZero(i(l(a,b)))}).y1(function(){return i(m.domain()[0]<=
0?m.domain()[1]>=0?0:m.domain()[1]:m.domain()[0])}).apply(this,[a.values])});v.exit().selectAll("path.nv-area").remove();y.watchTransition(w,"line: areaPaths").attr("d",function(a){return d3.svg.area().interpolate(u).defined(r).x(function(a,b){return c.utils.NaNtoZero(q(j(a,b)))}).y0(function(a,b){return c.utils.NaNtoZero(m(l(a,b)))}).y1(function(){return m(m.domain()[0]<=0?m.domain()[1]>=0?0:m.domain()[1]:m.domain()[0])}).apply(this,[a.values])});v=v.selectAll("path.nv-line").data(function(a){return[a.values]});
v.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(u).defined(r).x(function(a,b){return c.utils.NaNtoZero(t(j(a,b)))}).y(function(a,b){return c.utils.NaNtoZero(i(l(a,b)))}));v.watchTransition(w,"line: linePaths").attr("d",d3.svg.line().interpolate(u).defined(r).x(function(a,b){return c.utils.NaNtoZero(q(j(a,b)))}).y(function(a,b){return c.utils.NaNtoZero(m(l(a,b)))}));t=q.copy();i=m.copy()});w.renderEnd("line immediate");return a}var b=c.models.scatter(),e={top:0,
right:0,bottom:0,left:0},k=960,f=500,h=null,g=1.5,d=c.utils.defaultColor(),j=function(a){return a.x},l=function(a){return a.y},r=function(a,b){return!isNaN(l(a,b))&&l(a,b)!==null},o=function(a){return a.area},p=false,q,m,u="linear",y=250,E=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");b.pointSize(16).pointDomain([16,256]);var t,i,w=c.utils.renderWatch(E,y);a.dispatch=E;a.scatter=b;b.dispatch.on("elementClick",function(){E.elementClick.apply(this,arguments)});b.dispatch.on("elementMouseover",
function(){E.elementMouseover.apply(this,arguments)});b.dispatch.on("elementMouseout",function(){E.elementMouseout.apply(this,arguments)});a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return f},set:function(a){f=a}},defined:{get:function(){return r},set:function(a){r=a}},interpolate:{get:function(){return u},set:function(a){u=a}},clipEdge:{get:function(){return p},set:function(a){p=a}},margin:{get:function(){return e},
set:function(a){e.top=a.top!==void 0?a.top:e.top;e.right=a.right!==void 0?a.right:e.right;e.bottom=a.bottom!==void 0?a.bottom:e.bottom;e.left=a.left!==void 0?a.left:e.left}},duration:{get:function(){return y},set:function(a){y=a;w.reset(y);b.duration(y)}},isArea:{get:function(){return o},set:function(a){o=d3.functor(a)}},x:{get:function(){return j},set:function(a){j=a;b.x(a)}},y:{get:function(){return l},set:function(a){l=a;b.y(a)}},color:{get:function(){return d},set:function(a){d=c.utils.getColor(a);
b.color(d)}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.lineChart=function(){function a(g){v.reset();v.models(b);p&&v.models(e);q&&v.models(k);g.each(function(g){var x=d3.select(this),D=this;c.utils.initSVG(x);var A=c.utils.availableWidth(l,x,d),s=c.utils.availableHeight(r,x,d);a.update=function(){B===0?x.call(a):x.transition().duration(B).call(a)};a.container=this;t.setter(n(g),a.update).getter(F(g)).update();t.disabled=g.map(function(a){return!!a.disabled});if(!i){var w;
i={};for(w in t)i[w]=t[w]instanceof Array?t[w].slice(0):t[w]}if(!g||!g.length||!g.filter(function(a){return a.values.length}).length){c.utils.noData(a,x);return a}x.selectAll(".nv-noData").remove();y=b.xScale();E=b.yScale();w=x.selectAll("g.nv-wrap.nv-lineChart").data([g]);var v=w.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),C=w.select("g");v.append("rect").style("opacity",0);v.append("g").attr("class","nv-x nv-axis");v.append("g").attr("class","nv-y nv-axis");v.append("g").attr("class",
"nv-linesWrap");v.append("g").attr("class","nv-legendWrap");v.append("g").attr("class","nv-interactive");C.select("rect").attr("width",A).attr("height",s>0?s:0);if(o){f.width(A);C.select(".nv-legendWrap").datum(g).call(f);if(d.top!=f.height()){d.top=f.height();s=c.utils.availableHeight(r,x,d)}w.select(".nv-legendWrap").attr("transform","translate(0,"+-d.top+")")}w.attr("transform","translate("+d.left+","+d.top+")");m&&C.select(".nv-y.nv-axis").attr("transform","translate("+A+",0)");if(u){h.width(A).height(s).margin({left:d.left,
top:d.top}).svgContainer(x).xScale(y);w.select(".nv-interactive").call(h)}b.width(A).height(s).color(g.map(function(a,b){return a.color||j(a,b)}).filter(function(a,b){return!g[b].disabled}));C.select(".nv-linesWrap").datum(g.filter(function(a){return!a.disabled})).call(b);if(p){e.scale(y)._ticks(c.utils.calcTicksX(A/100,g)).tickSize(-s,0);C.select(".nv-x.nv-axis").attr("transform","translate(0,"+E.range()[0]+")");C.select(".nv-x.nv-axis").call(e)}if(q){k.scale(E)._ticks(c.utils.calcTicksY(s/36,g)).tickSize(-A,
0);C.select(".nv-y.nv-axis").call(k)}f.dispatch.on("stateChange",function(b){for(var c in b)t[c]=b[c];H.stateChange(t);a.update()});h.dispatch.on("elementMousemove",function(s){b.clearHighlights();var f,i,A,n=[];g.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(d,e){i=c.interactiveBisect(d.values,s.pointXValue,a.x());var h=d.values[i],g=a.y()(h,i);g!=null&&b.highlightPoint(e,i,true);if(h!==void 0){f===void 0&&(f=h);A===void 0&&(A=a.xScale()(a.x()(h,i)));n.push({key:d.key,
value:g,color:j(d,d.seriesIndex)})}});if(n.length>2){var m=a.yScale().invert(s.mouseY),C=0.03*Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]),m=c.nearestValueIndex(n.map(function(a){return a.value}),m,C);if(m!==null)n[m].highlight=true}m=e.tickFormat()(a.x()(f,i));h.tooltip.position({left:s.mouseX+d.left,top:s.mouseY+d.top}).chartContainer(D.parentNode).valueFormatter(function(a){return a==null?"N/A":k.tickFormat()(a)}).data({value:m,index:i,series:n})();h.renderGuideLine(A)});h.dispatch.on("elementClick",
function(d){var s,e=[];g.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(b){var f=c.interactiveBisect(b.values,d.pointXValue,a.x()),i=b.values[f];if(typeof i!=="undefined"){typeof s==="undefined"&&(s=a.xScale()(a.x()(i,f)));var h=a.yScale()(a.y()(i,f));e.push({point:i,pointIndex:f,pos:[s,h],seriesIndex:b.seriesIndex,series:b})}});b.dispatch.elementClick(e)});h.dispatch.on("elementMouseout",function(){b.clearHighlights()});H.on("changeState",function(b){if(typeof b.disabled!==
"undefined"&&g.length===b.disabled.length){g.forEach(function(a,c){a.disabled=b.disabled[c]});t.disabled=b.disabled}a.update()})});v.renderEnd("lineChart immediate");return a}var b=c.models.line(),e=c.models.axis(),k=c.models.axis(),f=c.models.legend(),h=c.interactiveGuideline(),g=c.models.tooltip(),d={top:30,right:20,bottom:50,left:60},j=c.utils.defaultColor(),l=null,r=null,o=true,p=true,q=true,m=false,u=false,y,E,t=c.utils.state(),i=null,w=null,H=d3.dispatch("tooltipShow","tooltipHide","stateChange",
"changeState","renderEnd"),B=250;e.orient("bottom").tickPadding(7);k.orient(m?"right":"left");g.valueFormatter(function(a,b){return k.tickFormat()(a,b)}).headerFormatter(function(a,b){return e.tickFormat()(a,b)});var v=c.utils.renderWatch(H,B),F=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},n=function(a){return function(b){b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};b.dispatch.on("elementMouseover.tooltip",function(a){g.data(a).position(a.pos).hidden(false)});
b.dispatch.on("elementMouseout.tooltip",function(){g.hidden(true)});a.dispatch=H;a.lines=b;a.legend=f;a.xAxis=e;a.yAxis=k;a.interactiveLayer=h;a.tooltip=g;a.dispatch=H;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return r},set:function(a){r=a}},showLegend:{get:function(){return o},set:function(a){o=a}},showXAxis:{get:function(){return p},set:function(a){p=a}},showYAxis:{get:function(){return q},set:function(a){q=
a}},defaultState:{get:function(){return i},set:function(a){i=a}},noData:{get:function(){return w},set:function(a){w=a}},tooltips:{get:function(){return g.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");g.enabled(!!a)}},tooltipContent:{get:function(){return g.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");g.contentGenerator(a)}},margin:{get:function(){return d},set:function(a){d.top=a.top!==
void 0?a.top:d.top;d.right=a.right!==void 0?a.right:d.right;d.bottom=a.bottom!==void 0?a.bottom:d.bottom;d.left=a.left!==void 0?a.left:d.left}},duration:{get:function(){return B},set:function(a){B=a;v.reset(B);b.duration(B);e.duration(B);k.duration(B)}},color:{get:function(){return j},set:function(a){j=c.utils.getColor(a);f.color(j);b.color(j)}},rightAlignYAxis:{get:function(){return m},set:function(a){m=a;k.orient(m?"right":"left")}},useInteractiveGuideline:{get:function(){return u},set:function(a){if(u=
a){b.interactive(false);b.useVoronoi(false)}}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.linePlusBarChart=function(){function a(C){C.each(function(C){function q(){p.empty()||p.extent(z);fa.data([p.empty()?D.domain():z]).each(function(a){var b=D(a[0])-D.range()[0],c=D.range()[1]-D(a[1]);d3.select(this).select(".left").attr("width",b<0?0:b);d3.select(this).select(".right").attr("x",D(a[1])).attr("width",c<0?0:c)})}function V(){z=p.empty()?null:p.extent();x=p.empty()?D.domain():
p.extent();J.brush({extent:x,brush:p});q();k.width(W).height(T).color(C.map(function(a,b){return a.color||w(a,b)}).filter(function(a,b){return!C[b].disabled&&C[b].bar}));b.width(W).height(T).color(C.map(function(a,b){return a.color||w(a,b)}).filter(function(a,b){return!C[b].disabled&&!C[b].bar}));var a=$.select(".nv-focus .nv-barsWrap").datum(!ca.length?[{values:[]}]:ca.map(function(a){return{key:a.key,values:a.values.filter(function(a,b){return k.x()(a,b)>=x[0]&&k.x()(a,b)<=x[1]})}})),e=$.select(".nv-focus .nv-linesWrap").datum(da[0].disabled?
[{values:[]}]:da.map(function(a){return{area:a.area,fillOpacity:a.fillOpacity,key:a.key,values:a.values.filter(function(a,c){return b.x()(a,c)>=x[0]&&b.x()(a,c)<=x[1]})}}));G=ca.length?k.xScale():b.xScale();h.scale(G)._ticks(c.utils.calcTicksX(W/100,C)).tickSize(-T,0);h.domain([Math.ceil(x[0]),Math.floor(x[1])]);$.select(".nv-x.nv-axis").transition().duration(I).call(h);a.transition().duration(I).call(k);e.transition().duration(I).call(b);$.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+
A.range()[0]+")");d.scale(A)._ticks(c.utils.calcTicksY(T/36,C)).tickSize(-W,0);j.scale(s)._ticks(c.utils.calcTicksY(T/36,C)).tickSize(ca.length?0:-W,0);$.select(".nv-focus .nv-y1.nv-axis").style("opacity",ca.length?1:0);$.select(".nv-focus .nv-y2.nv-axis").style("opacity",da.length&&!da[0].disabled?1:0).attr("transform","translate("+G.range()[1]+",0)");$.select(".nv-focus .nv-y1.nv-axis").transition().duration(I).call(d);$.select(".nv-focus .nv-y2.nv-axis").transition().duration(I).call(j)}var U=
d3.select(this);c.utils.initSVG(U);var W=c.utils.availableWidth(y,U,m),T=c.utils.availableHeight(E,U,m)-(B?n:0),Q=n-u.top-u.bottom;a.update=function(){U.transition().duration(I).call(a)};a.container=this;S.setter(R(C),a.update).getter(O(C)).update();S.disabled=C.map(function(a){return!!a.disabled});if(!P){var Z;P={};for(Z in S)P[Z]=S[Z]instanceof Array?S[Z].slice(0):S[Z]}if(!C||!C.length||!C.filter(function(a){return a.values.length}).length){c.utils.noData(a,U);return a}U.selectAll(".nv-noData").remove();
var ca=C.filter(function(a){return!a.disabled&&a.bar}),da=C.filter(function(a){return!a.bar});G=k.xScale();D=g.scale();A=k.yScale();s=b.yScale();K=f.yScale();L=e.yScale();Z=C.filter(function(a){return!a.disabled&&a.bar}).map(function(a){return a.values.map(function(a,b){return{x:t(a,b),y:i(a,b)}})});var ba=C.filter(function(a){return!a.disabled&&!a.bar}).map(function(a){return a.values.map(function(a,b){return{x:t(a,b),y:i(a,b)}})});G.range([0,W]);D.domain(d3.extent(d3.merge(Z.concat(ba)),function(a){return a.x})).range([0,
W]);Z=U.selectAll("g.nv-wrap.nv-linePlusBar").data([C]);var ba=Z.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),$=Z.select("g");ba.append("g").attr("class","nv-legendWrap");var ea=ba.append("g").attr("class","nv-focus");ea.append("g").attr("class","nv-x nv-axis");ea.append("g").attr("class","nv-y1 nv-axis");ea.append("g").attr("class","nv-y2 nv-axis");ea.append("g").attr("class","nv-barsWrap");ea.append("g").attr("class","nv-linesWrap");ba=ba.append("g").attr("class",
"nv-context");ba.append("g").attr("class","nv-x nv-axis");ba.append("g").attr("class","nv-y1 nv-axis");ba.append("g").attr("class","nv-y2 nv-axis");ba.append("g").attr("class","nv-barsWrap");ba.append("g").attr("class","nv-linesWrap");ba.append("g").attr("class","nv-brushBackground");ba.append("g").attr("class","nv-x nv-brush");if(H){ba=o.align()?W/2:W;ea=o.align()?ba:0;o.width(ba);$.select(".nv-legendWrap").datum(C.map(function(a){a.originalKey=a.originalKey===void 0?a.key:a.originalKey;a.key=a.originalKey+
(a.bar?M:N);return a})).call(o);if(m.top!=o.height()){m.top=o.height();T=c.utils.availableHeight(E,U,m)-n}$.select(".nv-legendWrap").attr("transform","translate("+ea+","+-m.top+")")}Z.attr("transform","translate("+m.left+","+m.top+")");$.select(".nv-context").style("display",B?"initial":"none");f.width(W).height(Q).color(C.map(function(a,b){return a.color||w(a,b)}).filter(function(a,b){return!C[b].disabled&&C[b].bar}));e.width(W).height(Q).color(C.map(function(a,b){return a.color||w(a,b)}).filter(function(a,
b){return!C[b].disabled&&!C[b].bar}));Z=$.select(".nv-context .nv-barsWrap").datum(ca.length?ca:[{values:[]}]);ba=$.select(".nv-context .nv-linesWrap").datum(!da[0].disabled?da:[{values:[]}]);$.select(".nv-context").attr("transform","translate(0,"+(T+m.bottom+u.top)+")");Z.transition().call(f);ba.transition().call(e);if(F){g._ticks(c.utils.calcTicksX(W/100,C)).tickSize(-Q,0);$.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+K.range()[0]+")");$.select(".nv-context .nv-x.nv-axis").transition().call(g)}if(v){l.scale(K)._ticks(Q/
36).tickSize(-W,0);r.scale(L)._ticks(Q/36).tickSize(ca.length?0:-W,0);$.select(".nv-context .nv-y3.nv-axis").style("opacity",ca.length?1:0).attr("transform","translate(0,"+D.range()[0]+")");$.select(".nv-context .nv-y2.nv-axis").style("opacity",da.length?1:0).attr("transform","translate("+D.range()[1]+",0)");$.select(".nv-context .nv-y1.nv-axis").transition().call(l);$.select(".nv-context .nv-y2.nv-axis").transition().call(r)}p.x(D).on("brush",V);z&&p.extent(z);var fa=$.select(".nv-brushBackground").selectAll("g").data([z||
p.extent()]);Z=fa.enter().append("g");Z.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",Q);Z.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",Q);Z=$.select(".nv-x.nv-brush").call(p);Z.selectAll("rect").attr("height",Q);Z.selectAll(".resize").append("path").attr("d",function(a){var b=(a=+(a=="e"))?1:-1,c=Q/3;return"M"+0.5*b+","+c+"A6,6 0 0 "+a+" "+6.5*b+","+(c+6)+"V"+(2*c-6)+"A6,6 0 0 "+a+" "+0.5*b+","+2*c+"ZM"+2.5*b+","+(c+8)+"V"+(2*c-8)+"M"+4.5*
b+","+(c+8)+"V"+(2*c-8)});o.dispatch.on("stateChange",function(b){for(var c in b)S[c]=b[c];J.stateChange(S);a.update()});J.on("changeState",function(b){if(typeof b.disabled!=="undefined"){C.forEach(function(a,c){a.disabled=b.disabled[c]});S.disabled=b.disabled}a.update()});V()});return a}var b=c.models.line(),e=c.models.line(),k=c.models.historicalBar(),f=c.models.historicalBar(),h=c.models.axis(),g=c.models.axis(),d=c.models.axis(),j=c.models.axis(),l=c.models.axis(),r=c.models.axis(),o=c.models.legend(),
p=d3.svg.brush(),q=c.models.tooltip(),m={top:30,right:30,bottom:30,left:60},u={top:0,right:30,bottom:20,left:60},y=null,E=null,t=function(a){return a.x},i=function(a){return a.y},w=c.utils.defaultColor(),H=true,B=true,v=false,F=true,n=50,x,z=null,G,D,A,s,K,L,C=null,J=d3.dispatch("brush","stateChange","changeState"),I=0,S=c.utils.state(),P=null,M=" (left axis)",N=" (right axis)";b.clipEdge(true);e.interactive(false);e.pointActive(function(){return false});h.orient("bottom").tickPadding(5);d.orient("left");
j.orient("right");g.orient("bottom").tickPadding(5);l.orient("left");r.orient("right");q.headerEnabled(true).headerFormatter(function(a,b){return h.tickFormat()(a,b)});var O=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},R=function(a){return function(b){b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};b.dispatch.on("elementMouseover.tooltip",function(a){q.duration(100).valueFormatter(function(a,b){return j.tickFormat()(a,b)}).data(a).position(a.pos).hidden(false)});
b.dispatch.on("elementMouseout.tooltip",function(){q.hidden(true)});k.dispatch.on("elementMouseover.tooltip",function(b){b.value=a.x()(b.data);b.series={value:a.y()(b.data),color:b.color};q.duration(0).valueFormatter(function(a,b){return d.tickFormat()(a,b)}).data(b).hidden(false)});k.dispatch.on("elementMouseout.tooltip",function(){q.hidden(true)});k.dispatch.on("elementMousemove.tooltip",function(){q.position({top:d3.event.pageY,left:d3.event.pageX})()});a.dispatch=J;a.legend=o;a.lines=b;a.lines2=
e;a.bars=k;a.bars2=f;a.xAxis=h;a.x2Axis=g;a.y1Axis=d;a.y2Axis=j;a.y3Axis=l;a.y4Axis=r;a.tooltip=q;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return y},set:function(a){y=a}},height:{get:function(){return E},set:function(a){E=a}},showLegend:{get:function(){return H},set:function(a){H=a}},brushExtent:{get:function(){return z},set:function(a){z=a}},noData:{get:function(){return C},set:function(a){C=a}},focusEnable:{get:function(){return B},set:function(a){B=
a}},focusHeight:{get:function(){return n},set:function(a){n=a}},focusShowAxisX:{get:function(){return F},set:function(a){F=a}},focusShowAxisY:{get:function(){return v},set:function(a){v=a}},legendLeftAxisHint:{get:function(){return M},set:function(a){M=a}},legendRightAxisHint:{get:function(){return N},set:function(a){N=a}},tooltips:{get:function(){return q.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");q.enabled(!!a)}},tooltipContent:{get:function(){return q.contentGenerator()},
set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");q.contentGenerator(a)}},margin:{get:function(){return m},set:function(a){m.top=a.top!==void 0?a.top:m.top;m.right=a.right!==void 0?a.right:m.right;m.bottom=a.bottom!==void 0?a.bottom:m.bottom;m.left=a.left!==void 0?a.left:m.left}},focusMargin:{get:function(){return u},set:function(a){u.top=a.top!==void 0?a.top:u.top;u.right=a.right!==void 0?a.right:u.right;u.bottom=a.bottom!==void 0?a.bottom:u.bottom;u.left=
a.left!==void 0?a.left:u.left}},duration:{get:function(){return I},set:function(a){I=a}},color:{get:function(){return w},set:function(a){w=c.utils.getColor(a);o.color(w)}},x:{get:function(){return t},set:function(a){t=a;b.x(a);e.x(a);k.x(a);f.x(a)}},y:{get:function(){return i},set:function(a){i=a;b.y(a);e.y(a);k.y(a);f.y(a)}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.lineWithFocusChart=function(){function a(s){s.each(function(s){function l(){j.empty()||j.extent(v);aa.data([j.empty()?
w.domain():v]).each(function(a){var b=w(a[0])-t.range()[0],c=S-w(a[1]);d3.select(this).select(".left").attr("width",b<0?0:b);d3.select(this).select(".right").attr("x",w(a[1])).attr("width",c<0?0:c)})}function C(){v=j.empty()?null:j.extent();var a=j.empty()?w.domain():j.extent();if(!(Math.abs(a[0]-a[1])<=1)){n.brush({extent:a,brush:j});l();R.select(".nv-focus .nv-linesWrap").datum(s.filter(function(a){return!a.disabled}).map(function(c){return{key:c.key,area:c.area,values:c.values.filter(function(c,
s){return b.x()(c,s)>=a[0]&&b.x()(c,s)<=a[1]})}})).transition().duration(x).call(b);R.select(".nv-focus .nv-x.nv-axis").transition().duration(x).call(k);R.select(".nv-focus .nv-y.nv-axis").transition().duration(x).call(f)}}var J=d3.select(this),I=this;c.utils.initSVG(J);var S=c.utils.availableWidth(m,J,o),F=c.utils.availableHeight(u,J,o)-y,M=y-p.top-p.bottom;a.update=function(){J.transition().duration(x).call(a)};a.container=this;z.setter(A(s),a.update).getter(D(s)).update();z.disabled=s.map(function(a){return!!a.disabled});
if(!G){var N;G={};for(N in z)G[N]=z[N]instanceof Array?z[N].slice(0):z[N]}if(!s||!s.length||!s.filter(function(a){return a.values.length}).length){c.utils.noData(a,J);return a}J.selectAll(".nv-noData").remove();t=b.xScale();i=b.yScale();w=e.xScale();H=e.yScale();N=J.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([s]);var O=N.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),R=N.select("g");O.append("g").attr("class","nv-legendWrap");var V=O.append("g").attr("class",
"nv-focus");V.append("g").attr("class","nv-x nv-axis");V.append("g").attr("class","nv-y nv-axis");V.append("g").attr("class","nv-linesWrap");V.append("g").attr("class","nv-interactive");O=O.append("g").attr("class","nv-context");O.append("g").attr("class","nv-x nv-axis");O.append("g").attr("class","nv-y nv-axis");O.append("g").attr("class","nv-linesWrap");O.append("g").attr("class","nv-brushBackground");O.append("g").attr("class","nv-x nv-brush");if(B){d.width(S);R.select(".nv-legendWrap").datum(s).call(d);
if(o.top!=d.height()){o.top=d.height();F=c.utils.availableHeight(u,J,o)-y}R.select(".nv-legendWrap").attr("transform","translate(0,"+-o.top+")")}N.attr("transform","translate("+o.left+","+o.top+")");if(E){r.width(S).height(F).margin({left:o.left,top:o.top}).svgContainer(J).xScale(t);N.select(".nv-interactive").call(r)}b.width(S).height(F).color(s.map(function(a,b){return a.color||q(a,b)}).filter(function(a,b){return!s[b].disabled}));e.defined(b.defined()).width(S).height(M).color(s.map(function(a,
b){return a.color||q(a,b)}).filter(function(a,b){return!s[b].disabled}));R.select(".nv-context").attr("transform","translate(0,"+(F+o.bottom+p.top)+")");N=R.select(".nv-context .nv-linesWrap").datum(s.filter(function(a){return!a.disabled}));d3.transition(N).call(e);k.scale(t)._ticks(c.utils.calcTicksX(S/100,s)).tickSize(-F,0);f.scale(i)._ticks(c.utils.calcTicksY(F/36,s)).tickSize(-S,0);R.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+F+")");j.x(w).on("brush",function(){C()});v&&
j.extent(v);var aa=R.select(".nv-brushBackground").selectAll("g").data([v||j.extent()]),F=aa.enter().append("g");F.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",M);F.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",M);F=R.select(".nv-x.nv-brush").call(j);F.selectAll("rect").attr("height",M);F.selectAll(".resize").append("path").attr("d",function(a){var b=(a=+(a=="e"))?1:-1,c=M/3;return"M"+0.5*b+","+c+"A6,6 0 0 "+a+" "+6.5*b+","+(c+6)+"V"+(2*c-
6)+"A6,6 0 0 "+a+" "+0.5*b+","+2*c+"ZM"+2.5*b+","+(c+8)+"V"+(2*c-8)+"M"+4.5*b+","+(c+8)+"V"+(2*c-8)});C();h.scale(w)._ticks(c.utils.calcTicksX(S/100,s)).tickSize(-M,0);R.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+H.range()[0]+")");d3.transition(R.select(".nv-context .nv-x.nv-axis")).call(h);g.scale(H)._ticks(c.utils.calcTicksY(M/36,s)).tickSize(-S,0);d3.transition(R.select(".nv-context .nv-y.nv-axis")).call(g);R.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+
H.range()[0]+")");d.dispatch.on("stateChange",function(b){for(var c in b)z[c]=b[c];n.stateChange(z);a.update()});r.dispatch.on("elementMousemove",function(d){b.clearHighlights();var e,i,h,A=[];s.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(s,f){var I=j.empty()?w.domain():j.extent(),n=s.values.filter(function(a,c){return b.x()(a,c)>=I[0]&&b.x()(a,c)<=I[1]});i=c.interactiveBisect(n,d.pointXValue,b.x());n=n[i];a.y()(n,i)!=null&&b.highlightPoint(f,i,true);if(n!==void 0){e===
void 0&&(e=n);h===void 0&&(h=a.xScale()(a.x()(n,i)));A.push({key:s.key,value:a.y()(n,i),color:q(s,s.seriesIndex)})}});if(A.length>2){var n=a.yScale().invert(d.mouseY),J=0.03*Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]),n=c.nearestValueIndex(A.map(function(a){return a.value}),n,J);if(n!==null)A[n].highlight=true}n=k.tickFormat()(a.x()(e,i));r.tooltip.position({left:d.mouseX+o.left,top:d.mouseY+o.top}).chartContainer(I.parentNode).valueFormatter(function(a){return a==null?"N/A":f.tickFormat()(a)}).data({value:n,
index:i,series:A})();r.renderGuideLine(h)});r.dispatch.on("elementMouseout",function(){b.clearHighlights()});n.on("changeState",function(b){typeof b.disabled!=="undefined"&&s.forEach(function(a,c){a.disabled=b.disabled[c]});a.update()})});return a}var b=c.models.line(),e=c.models.line(),k=c.models.axis(),f=c.models.axis(),h=c.models.axis(),g=c.models.axis(),d=c.models.legend(),j=d3.svg.brush(),l=c.models.tooltip(),r=c.interactiveGuideline(),o={top:30,right:30,bottom:30,left:60},p={top:0,right:30,
bottom:20,left:60},q=c.utils.defaultColor(),m=null,u=null,y=50,E=false,t,i,w,H,B=true,v=null,F=null,n=d3.dispatch("brush","stateChange","changeState"),x=250,z=c.utils.state(),G=null;b.clipEdge(true).duration(0);e.interactive(false);e.pointActive(function(){return false});k.orient("bottom").tickPadding(5);f.orient("left");h.orient("bottom").tickPadding(5);g.orient("left");l.valueFormatter(function(a,b){return f.tickFormat()(a,b)}).headerFormatter(function(a,b){return k.tickFormat()(a,b)});var D=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},
A=function(a){return function(b){b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};b.dispatch.on("elementMouseover.tooltip",function(a){l.data(a).position(a.pos).hidden(false)});b.dispatch.on("elementMouseout.tooltip",function(){l.hidden(true)});a.dispatch=n;a.legend=d;a.lines=b;a.lines2=e;a.xAxis=k;a.yAxis=f;a.x2Axis=h;a.y2Axis=g;a.interactiveLayer=r;a.tooltip=l;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return m},set:function(a){m=
a}},height:{get:function(){return u},set:function(a){u=a}},focusHeight:{get:function(){return y},set:function(a){y=a}},showLegend:{get:function(){return B},set:function(a){B=a}},brushExtent:{get:function(){return v},set:function(a){v=a}},defaultState:{get:function(){return G},set:function(a){G=a}},noData:{get:function(){return F},set:function(a){F=a}},tooltips:{get:function(){return l.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");l.enabled(!!a)}},tooltipContent:{get:function(){return l.contentGenerator()},
set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");l.contentGenerator(a)}},margin:{get:function(){return o},set:function(a){o.top=a.top!==void 0?a.top:o.top;o.right=a.right!==void 0?a.right:o.right;o.bottom=a.bottom!==void 0?a.bottom:o.bottom;o.left=a.left!==void 0?a.left:o.left}},focusMargin:{get:function(){return p},set:function(a){p.top=a.top!==void 0?a.top:p.top;p.right=a.right!==void 0?a.right:p.right;p.bottom=a.bottom!==void 0?a.bottom:p.bottom;p.left=
a.left!==void 0?a.left:p.left}},color:{get:function(){return q},set:function(a){q=c.utils.getColor(a);d.color(q)}},interpolate:{get:function(){return b.interpolate()},set:function(a){b.interpolate(a);e.interpolate(a)}},xTickFormat:{get:function(){return k.tickFormat()},set:function(a){k.tickFormat(a);h.tickFormat(a)}},yTickFormat:{get:function(){return f.tickFormat()},set:function(a){f.tickFormat(a);g.tickFormat(a)}},duration:{get:function(){return x},set:function(a){x=a;f.duration(x);g.duration(x);
k.duration(x);h.duration(x)}},x:{get:function(){return b.x()},set:function(a){b.x(a);e.x(a)}},y:{get:function(){return b.y()},set:function(a){b.y(a);e.y(a)}},useInteractiveGuideline:{get:function(){return E},set:function(a){if(E=a){b.interactive(false);b.useVoronoi(false)}}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.multiBar=function(){function a(A){G.reset();A.each(function(a){var A=e-b.left-b.right,L=k-b.top-b.bottom;d=d3.select(this);c.utils.initSVG(d);var C=0;E&&
a.length&&(E=[{values:a[0].values.map(function(a){return{x:a.x,y:0,series:a.series,size:0.01}})}]);if(q){var J=d3.layout.stack().offset(m).values(function(a){return a.values}).y(l)(!a.length&&E?E:a);J.forEach(function(b,c){if(b.nonStackable){a[c].nonStackableSeries=C++;J[c]=a[c]}else c>0&&J[c-1].nonStackable&&J[c].values.map(function(a,b){a.y0=a.y0-J[c-1].values[b].y;a.y1=a.y0+a.y})});a=J}a.forEach(function(a,b){a.values.forEach(function(c){c.series=b;c.key=a.key})});q&&a[0].values.map(function(b,
c){var d=0,e=0;a.map(function(b,f){if(!a[f].nonStackable){var i=b.values[c];i.size=Math.abs(i.y);if(i.y<0){i.y1=e;e=e-i.size}else{i.y1=i.size+d;d=d+i.size}}})});var I=H&&B?[]:a.map(function(a,b){return a.values.map(function(a,c){return{x:j(a,c),y:l(a,c),y0:a.y0,y1:a.y1,idx:b,yErr:r(a,c)}})});f.domain(H||d3.merge(I).map(function(a){return a.x})).rangeBands(v||[0,A],n);h.domain(B||d3.extent(d3.merge(d3.merge(I).map(function(b){var c=b.y;q&&!a[b.idx].nonStackable&&(c=b.y>0?b.y1:b.y1+b.y);if(b=b.yErr){if(b.length)return[c+
b[0],c+b[1]];b=Math.abs(b);return[c-b,c+b]}return[c]})).concat(o))).range(F||[L,0]);f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]-f.domain()[0]*0.01,f.domain()[1]+f.domain()[1]*0.01]):f.domain([-1,1]));h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]+h.domain()[0]*0.01,h.domain()[1]-h.domain()[1]*0.01]):h.domain([-1,1]));z=z||h;var I=d.selectAll("g.nv-wrap.nv-multibar").data([a]),S=I.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),P=S.append("defs"),
S=S.append("g"),M=I.select("g");S.append("g").attr("class","nv-groups");I.attr("transform","translate("+b.left+","+b.top+")");P.append("clipPath").attr("id","nv-edge-clip-"+g).append("rect");I.select("#nv-edge-clip-"+g+" rect").attr("width",A).attr("height",L);M.attr("clip-path",p?"url(#nv-edge-clip-"+g+")":"");A=I.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a,b){return b});A.enter().append("g").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6);L=G.transition(A.exit().selectAll("g.nv-bar"),
"multibarExit",Math.min(100,w)).attr("y",function(b){var c=z(0)||0;q&&a[b.series]&&!a[b.series].nonStackable&&(c=z(b.y0));return c}).attr("height",0).remove();L.delay&&L.delay(function(a,b){return b*(w/(D+1))-b});A.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return u(a,b)}).style("stroke",function(a,b){return u(a,b)});A.style("stroke-opacity",1).style("fill-opacity",0.75);A=A.selectAll("g.nv-bar").data(function(b){return E&&
!a.length?E.values:b.values});A.exit().remove();L=A.enter().append("g").attr("class",function(a,b){return l(a,b)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(b,c,d){c=q&&!a[d].nonStackable?0:d*f.rangeBand()/a.length;b=z(q&&!a[d].nonStackable?b.y0:0)||0;return"translate("+c+","+b+")"});L.append("rect").attr("height",0).attr("width",function(b,c,d){return f.rangeBand()/(q&&!a[d].nonStackable?1:a.length)}).style("fill",function(a,b,c){return u(a,c,b)}).style("stroke",function(a,
b,c){return u(a,c,b)});A.on("mouseover",function(a,b){d3.select(this).classed("hover",true);x.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){d3.select(this).classed("hover",false);x.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mousemove",function(a,b){x.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){x.elementClick({data:a,index:b,color:d3.select(this).style("fill")});
d3.event.stopPropagation()}).on("dblclick",function(a,b){x.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()});if(r(a[0].values[0],0)){L.append("polyline");A.select("polyline").attr("fill","none").attr("stroke",function(a,b,c){return y(a,c,b)}).attr("points",function(b,c){var d=r(b,c),e=0.8*f.rangeBand()/((q?1:a.length)*2),d=d.length?d:[-Math.abs(d),Math.abs(d)],d=d.map(function(a){return h(a)-h(0)});return[[-e,d[0]],[e,d[0]],[0,d[0]],[0,d[1]],[-e,d[1]],
[e,d[1]]].map(function(a){return a.join(",")}).join(" ")}).attr("transform",function(b,c){var d=f.rangeBand()/((q?1:a.length)*2),e=l(b,c)<0?h(l(b,c))-h(0):0;return"translate("+d+", "+e+")"})}A.attr("class",function(a,b){return l(a,b)<0?"nv-bar negative":"nv-bar positive"});if(t){i||(i=a.map(function(){return true}));A.select("rect").style("fill",function(a,b,c){return d3.rgb(t(a,b)).darker(i.map(function(a,b){return b}).filter(function(a,b){return!i[b]})[c]).toString()}).style("stroke",function(a,
b,c){return d3.rgb(t(a,b)).darker(i.map(function(a,b){return b}).filter(function(a,b){return!i[b]})[c]).toString()})}A=A.watchTransition(G,"multibar",Math.min(250,w)).delay(function(b,c){return c*w/a[0].values.length});q?A.attr("transform",function(b,c,d){var e=0,e=a[d].nonStackable?l(b,c)<0?h(0):h(0)-h(l(b,c))<-1?h(0)-1:h(l(b,c))||0:h(b.y1),i=0;if(a[d].nonStackable){i=b.series*f.rangeBand()/a.length;a.length!==C&&(i=a[d].nonStackableSeries*f.rangeBand()/(C*2))}return"translate("+(i+f(j(b,c)))+","+
e+")"}).select("rect").attr("height",function(b,c,d){return a[d].nonStackable?Math.max(Math.abs(h(l(b,c))-h(0)),1)||0:Math.max(Math.abs(h(b.y+b.y0)-h(b.y0)),1)}).attr("width",function(b,c,d){if(a[d].nonStackable){b=f.rangeBand()/C;a.length!==C&&(b=f.rangeBand()/(C*2));return b}return f.rangeBand()}):A.attr("transform",function(b,c){var d=b.series*f.rangeBand()/a.length+f(j(b,c)),e=l(b,c)<0?h(0):h(0)-h(l(b,c))<1?h(0)-1:h(l(b,c))||0;return"translate("+d+","+e+")"}).select("rect").attr("width",f.rangeBand()/
a.length).attr("height",function(a,b){return Math.max(Math.abs(h(l(a,b))-h(0)),1)||0});f.copy();z=h.copy();if(a[0]&&a[0].values)D=a[0].values.length});G.renderEnd("multibar immediate");return a}var b={top:0,right:0,bottom:0,left:0},e=960,k=500,f=d3.scale.ordinal(),h=d3.scale.linear(),g=Math.floor(Math.random()*1E4),d=null,j=function(a){return a.x},l=function(a){return a.y},r=function(a){return a.yErr},o=[0],p=true,q=false,m="zero",u=c.utils.defaultColor(),y=c.utils.defaultColor(),E=false,t=null,i,
w=500,H,B,v,F,n=0.1,x=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),z,G=c.utils.renderWatch(x,w),D=0;a.dispatch=x;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return k},set:function(a){k=a}},x:{get:function(){return j},set:function(a){j=a}},y:{get:function(){return l},set:function(a){l=a}},yErr:{get:function(){return r},
set:function(a){r=a}},xScale:{get:function(){return f},set:function(a){f=a}},yScale:{get:function(){return h},set:function(a){h=a}},xDomain:{get:function(){return H},set:function(a){H=a}},yDomain:{get:function(){return B},set:function(a){B=a}},xRange:{get:function(){return v},set:function(a){v=a}},yRange:{get:function(){return F},set:function(a){F=a}},forceY:{get:function(){return o},set:function(a){o=a}},stacked:{get:function(){return q},set:function(a){q=a}},stackOffset:{get:function(){return m},
set:function(a){m=a}},clipEdge:{get:function(){return p},set:function(a){p=a}},disabled:{get:function(){return i},set:function(a){i=a}},id:{get:function(){return g},set:function(a){g=a}},hideable:{get:function(){return E},set:function(a){E=a}},groupSpacing:{get:function(){return n},set:function(a){n=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:
b.left}},duration:{get:function(){return w},set:function(a){w=a;G.reset(w)}},color:{get:function(){return u},set:function(a){u=c.utils.getColor(a)}},barColor:{get:function(){return t},set:function(a){t=a?c.utils.getColor(a):null}},errorBarColor:{get:function(){return y},set:function(a){y=a?c.utils.getColor(a):null}}});c.utils.initOptions(a);return a};c.models.multiBarChart=function(){function a(s){z.reset();z.models(b);m&&z.models(e);u&&z.models(k);s.each(function(s){var g=d3.select(this);c.utils.initSVG(g);
var C=c.utils.availableWidth(j,g,d),J=c.utils.availableHeight(l,g,d);a.update=function(){x===0?g.call(a):g.transition().duration(x).call(a)};a.container=this;B.setter(A(s),a.update).getter(D(s)).update();B.disabled=s.map(function(a){return!!a.disabled});if(!v){var I;v={};for(I in B)v[I]=B[I]instanceof Array?B[I].slice(0):B[I]}if(!s||!s.length||!s.filter(function(a){return a.values.length}).length){c.utils.noData(a,g);return a}g.selectAll(".nv-noData").remove();w=b.xScale();H=b.yScale();var z=g.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([s]),
F=z.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g");I=z.select("g");F.append("g").attr("class","nv-x nv-axis");F.append("g").attr("class","nv-y nv-axis");F.append("g").attr("class","nv-barsWrap");F.append("g").attr("class","nv-legendWrap");F.append("g").attr("class","nv-controlsWrap");if(q){f.width(C-(o?180:0));I.select(".nv-legendWrap").datum(s).call(f);if(d.top!=f.height()){d.top=f.height();J=c.utils.availableHeight(l,g,d)}I.select(".nv-legendWrap").attr("transform",
"translate("+(o?180:0)+","+-d.top+")")}if(o){var M=[{key:p.grouped||"Grouped",disabled:b.stacked()},{key:p.stacked||"Stacked",disabled:!b.stacked()}];h.width(o?180:0).color(["#444","#444","#444"]);I.select(".nv-controlsWrap").datum(M).attr("transform","translate(0,"+-d.top+")").call(h)}z.attr("transform","translate("+d.left+","+d.top+")");y&&I.select(".nv-y.nv-axis").attr("transform","translate("+C+",0)");b.disabled(s.map(function(a){return a.disabled})).width(C).height(J).color(s.map(function(a,
b){return a.color||r(a,b)}).filter(function(a,b){return!s[b].disabled}));I.select(".nv-barsWrap").datum(s.filter(function(a){return!a.disabled})).call(b);if(m){e.scale(w)._ticks(c.utils.calcTicksX(C/100,s)).tickSize(-J,0);I.select(".nv-x.nv-axis").attr("transform","translate(0,"+H.range()[0]+")");I.select(".nv-x.nv-axis").call(e);z=I.select(".nv-x.nv-axis > g").selectAll("g");z.selectAll("line, text").style("opacity",1);if(t){z.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+
(c%2==0?5:17)+")"});var N=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;I.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(a,b){return"translate(0,"+(b===0||N%2!==0?17:5)+")"})}E&&z.filter(function(a,b){return b%Math.ceil(s[0].values.length/(C/100))!==0}).selectAll("text, line").style("opacity",0);i&&z.selectAll(".tick text").attr("transform","rotate("+i+" 0,0)").style("text-anchor",i>0?"start":"end");I.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",
1)}if(u){k.scale(H)._ticks(c.utils.calcTicksY(J/36,s)).tickSize(-C,0);I.select(".nv-y.nv-axis").call(k)}f.dispatch.on("stateChange",function(b){for(var c in b)B[c]=b[c];n.stateChange(B);a.update()});h.dispatch.on("legendClick",function(c){if(c.disabled){M=M.map(function(a){a.disabled=true;return a});c.disabled=false;switch(c.key){case "Grouped":case p.grouped:b.stacked(false);break;case "Stacked":case p.stacked:b.stacked(true)}B.stacked=b.stacked();n.stateChange(B);a.update()}});n.on("changeState",
function(c){if(typeof c.disabled!=="undefined"){s.forEach(function(a,b){a.disabled=c.disabled[b]});B.disabled=c.disabled}if(typeof c.stacked!=="undefined"){b.stacked(c.stacked);G=B.stacked=c.stacked}a.update()})});z.renderEnd("multibarchart immediate");return a}var b=c.models.multiBar(),e=c.models.axis(),k=c.models.axis(),f=c.models.legend(),h=c.models.legend(),g=c.models.tooltip(),d={top:30,right:20,bottom:50,left:60},j=null,l=null,r=c.utils.defaultColor(),o=true,p={},q=true,m=true,u=true,y=false,
E=true,t=false,i=0,w,H,B=c.utils.state(),v=null,F=null,n=d3.dispatch("stateChange","changeState","renderEnd"),x=250;B.stacked=false;b.stacked(false);e.orient("bottom").tickPadding(7).showMaxMin(false).tickFormat(function(a){return a});k.orient(y?"right":"left").tickFormat(d3.format(",.1f"));g.duration(0).valueFormatter(function(a,b){return k.tickFormat()(a,b)}).headerFormatter(function(a,b){return e.tickFormat()(a,b)});h.updateState(false);var z=c.utils.renderWatch(n),G=false,D=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),
stacked:G}}},A=function(a){return function(b){if(b.stacked!==void 0)G=b.stacked;b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};b.dispatch.on("elementMouseover.tooltip",function(b){b.value=a.x()(b.data);b.series={key:b.data.key,value:a.y()(b.data),color:b.color};g.data(b).hidden(false)});b.dispatch.on("elementMouseout.tooltip",function(){g.hidden(true)});b.dispatch.on("elementMousemove.tooltip",function(){g.position({top:d3.event.pageY,left:d3.event.pageX})()});a.dispatch=n;
a.multibar=b;a.legend=f;a.controls=h;a.xAxis=e;a.yAxis=k;a.state=B;a.tooltip=g;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return j},set:function(a){j=a}},height:{get:function(){return l},set:function(a){l=a}},showLegend:{get:function(){return q},set:function(a){q=a}},showControls:{get:function(){return o},set:function(a){o=a}},controlLabels:{get:function(){return p},set:function(a){p=a}},showXAxis:{get:function(){return m},set:function(a){m=a}},showYAxis:{get:function(){return u},
set:function(a){u=a}},defaultState:{get:function(){return v},set:function(a){v=a}},noData:{get:function(){return F},set:function(a){F=a}},reduceXTicks:{get:function(){return E},set:function(a){E=a}},rotateLabels:{get:function(){return i},set:function(a){i=a}},staggerLabels:{get:function(){return t},set:function(a){t=a}},tooltips:{get:function(){return g.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");g.enabled(!!a)}},tooltipContent:{get:function(){return g.contentGenerator()},
set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");g.contentGenerator(a)}},margin:{get:function(){return d},set:function(a){d.top=a.top!==void 0?a.top:d.top;d.right=a.right!==void 0?a.right:d.right;d.bottom=a.bottom!==void 0?a.bottom:d.bottom;d.left=a.left!==void 0?a.left:d.left}},duration:{get:function(){return x},set:function(a){x=a;b.duration(x);e.duration(x);k.duration(x);z.reset(x)}},color:{get:function(){return r},set:function(a){r=c.utils.getColor(a);
f.color(r)}},rightAlignYAxis:{get:function(){return y},set:function(a){y=a;k.orient(y?"right":"left")}},barColor:{get:function(){return b.barColor},set:function(a){b.barColor(a);f.color(function(a,b){return d3.rgb("#ccc").darker(b*1.5).toString()})}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.multiBarHorizontal=function(){function a(f){D.reset();f.each(function(a){var f=e-b.left-b.right,A=k-b.top-b.bottom;h=d3.select(this);c.utils.initSVG(h);y&&(a=d3.layout.stack().offset("zero").values(function(a){return a.values}).y(l)(a));
a.forEach(function(a,b){a.values.forEach(function(c){c.series=b;c.key=a.key})});y&&a[0].values.map(function(b,c){var d=0,e=0;a.map(function(a){a=a.values[c];a.size=Math.abs(a.y);if(a.y<0){a.y1=e-a.size;e=e-a.size}else{a.y1=d;d=d+a.size}})});var C=B&&v?[]:a.map(function(a){return a.values.map(function(a,b){return{x:j(a,b),y:l(a,b),y0:a.y0,y1:a.y1,yErr:r(a,b)}})});g.domain(B||d3.merge(C).map(function(a){return a.x})).rangeBands(F||[0,A],w);d.domain(v||d3.extent(d3.merge(d3.merge(C).map(function(a){var b=
a.y;y&&(b=a.y>0?a.y1+a.y:a.y1);if(a=a.yErr){if(a.length)return[b+a[0],b+a[1]];a=Math.abs(a);return[b-a,b+a]}return[b]})).concat(o)));E&&!y?d.range(n||[d.domain()[0]<0?i:0,f-(d.domain()[1]>0?i:0)]):d.range(n||[0,f]);G=G||d3.scale.linear().domain(d.domain()).range([d(0),d(0)]);f=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([a]);A=f.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal");A.append("defs");A=A.append("g");f.select("g");A.append("g").attr("class","nv-groups");
f.attr("transform","translate("+b.left+","+b.top+")");f=f.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a,b){return b});f.enter().append("g").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6);f.exit().watchTransition(D,"multibarhorizontal: exit groups").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6).remove();f.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return p(a,
b)}).style("stroke",function(a,b){return p(a,b)});f.watchTransition(D,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",0.75);f=f.selectAll("g.nv-bar").data(function(a){return a.values});f.exit().remove();A=f.enter().append("g").attr("transform",function(b,c,d){return"translate("+G(y?b.y0:0)+","+(y?0:d*g.rangeBand()/a.length+g(j(b,c)))+")"});A.append("rect").attr("width",0).attr("height",g.rangeBand()/(y?1:a.length));f.on("mouseover",function(a,b){d3.select(this).classed("hover",
true);z.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){d3.select(this).classed("hover",false);z.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){z.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mousemove",function(a,b){z.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){z.elementClick({data:a,index:b,color:d3.select(this).style("fill")});
d3.event.stopPropagation()}).on("dblclick",function(a,b){z.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()});if(r(a[0].values[0],0)){A.append("polyline");f.select("polyline").attr("fill","none").attr("stroke",function(a,b,c){return m(a,c,b)}).attr("points",function(b,c){var e=r(b,c),f=0.8*g.rangeBand()/((y?1:a.length)*2),e=e.length?e:[-Math.abs(e),Math.abs(e)],e=e.map(function(a){return d(a)-d(0)});return[[e[0],-f],[e[0],f],[e[0],0],[e[1],0],[e[1],
-f],[e[1],f]].map(function(a){return a.join(",")}).join(" ")}).attr("transform",function(b,c){var e=g.rangeBand()/((y?1:a.length)*2);return"translate("+(l(b,c)<0?0:d(l(b,c))-d(0))+", "+e+")"})}A.append("text");if(E&&!y){f.select("text").attr("text-anchor",function(a,b){return l(a,b)<0?"end":"start"}).attr("y",g.rangeBand()/(a.length*2)).attr("dy",".32em").text(function(a,b){var c=H(l(a,b)),d=r(a,b);return d===void 0?c:!d.length?c+"\u00b1"+H(Math.abs(d)):c+"+"+H(Math.abs(d[1]))+"-"+H(Math.abs(d[0]))});
f.watchTransition(D,"multibarhorizontal: bars").select("text").attr("x",function(a,b){return l(a,b)<0?-4:d(l(a,b))-d(0)+4})}else f.selectAll("text").text("");if(t&&!y){A.append("text").classed("nv-bar-label",true);f.select("text.nv-bar-label").attr("text-anchor",function(a,b){return l(a,b)<0?"start":"end"}).attr("y",g.rangeBand()/(a.length*2)).attr("dy",".32em").text(function(a,b){return j(a,b)});f.watchTransition(D,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(a,b){return l(a,
b)<0?d(0)-d(l(a,b))+4:-4})}else f.selectAll("text.nv-bar-label").text("");f.attr("class",function(a,b){return l(a,b)<0?"nv-bar negative":"nv-bar positive"});if(q){u||(u=a.map(function(){return true}));f.style("fill",function(a,b,c){return d3.rgb(q(a,b)).darker(u.map(function(a,b){return b}).filter(function(a,b){return!u[b]})[c]).toString()}).style("stroke",function(a,b,c){return d3.rgb(q(a,b)).darker(u.map(function(a,b){return b}).filter(function(a,b){return!u[b]})[c]).toString()})}y?f.watchTransition(D,
"multibarhorizontal: bars").attr("transform",function(a,b){return"translate("+d(a.y1)+","+g(j(a,b))+")"}).select("rect").attr("width",function(a,b){return Math.abs(d(l(a,b)+a.y0)-d(a.y0))}).attr("height",g.rangeBand()):f.watchTransition(D,"multibarhorizontal: bars").attr("transform",function(b,c){return"translate("+(l(b,c)<0?d(l(b,c)):d(0))+","+(b.series*g.rangeBand()/a.length+g(j(b,c)))+")"}).select("rect").attr("height",g.rangeBand()/a.length).attr("width",function(a,b){return Math.max(Math.abs(d(l(a,
b))-d(0)),1)});g.copy();G=d.copy()});D.renderEnd("multibarHorizontal immediate");return a}var b={top:0,right:0,bottom:0,left:0},e=960,k=500,f=Math.floor(Math.random()*1E4),h=null,g=d3.scale.ordinal(),d=d3.scale.linear(),j=function(a){return a.x},l=function(a){return a.y},r=function(a){return a.yErr},o=[0],p=c.utils.defaultColor(),q=null,m=c.utils.defaultColor(),u,y=false,E=false,t=false,i=60,w=0.1,H=d3.format(",.2f"),B,v,F,n,x=250,z=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover",
"elementMouseout","elementMousemove","renderEnd"),G,D=c.utils.renderWatch(z,x);a.dispatch=z;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return k},set:function(a){k=a}},x:{get:function(){return j},set:function(a){j=a}},y:{get:function(){return l},set:function(a){l=a}},yErr:{get:function(){return r},set:function(a){r=a}},xScale:{get:function(){return g},set:function(a){g=a}},yScale:{get:function(){return d},
set:function(a){d=a}},xDomain:{get:function(){return B},set:function(a){B=a}},yDomain:{get:function(){return v},set:function(a){v=a}},xRange:{get:function(){return F},set:function(a){F=a}},yRange:{get:function(){return n},set:function(a){n=a}},forceY:{get:function(){return o},set:function(a){o=a}},stacked:{get:function(){return y},set:function(a){y=a}},showValues:{get:function(){return E},set:function(a){E=a}},disabled:{get:function(){return u},set:function(a){u=a}},id:{get:function(){return f},set:function(a){f=
a}},valueFormat:{get:function(){return H},set:function(a){H=a}},valuePadding:{get:function(){return i},set:function(a){i=a}},groupSpacing:{get:function(){return w},set:function(a){w=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},duration:{get:function(){return x},set:function(a){x=a;D.reset(x)}},color:{get:function(){return p},set:function(a){p=
c.utils.getColor(a)}},barColor:{get:function(){return q},set:function(a){q=a?c.utils.getColor(a):null}},errorBarColor:{get:function(){return m},set:function(a){m=a?c.utils.getColor(a):null}}});c.utils.initOptions(a);return a};c.models.multiBarHorizontalChart=function(){function a(g){x.reset();x.models(b);m&&x.models(e);u&&x.models(k);g.each(function(g){var D=d3.select(this);c.utils.initSVG(D);var A=c.utils.availableWidth(j,D,d),s=c.utils.availableHeight(l,D,d);a.update=function(){D.transition().duration(v).call(a)};
a.container=this;y=b.stacked();i.setter(n(g),a.update).getter(F(g)).update();i.disabled=g.map(function(a){return!!a.disabled});if(!w){var z;w={};for(z in i)w[z]=i[z]instanceof Array?i[z].slice(0):i[z]}if(!g||!g.length||!g.filter(function(a){return a.values.length}).length){c.utils.noData(a,D);return a}D.selectAll(".nv-noData").remove();E=b.xScale();t=b.yScale();z=D.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([g]);var x=z.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),
C=z.select("g");x.append("g").attr("class","nv-x nv-axis");x.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");x.append("g").attr("class","nv-barsWrap");x.append("g").attr("class","nv-legendWrap");x.append("g").attr("class","nv-controlsWrap");if(q){f.width(A-(o?180:0));C.select(".nv-legendWrap").datum(g).call(f);if(d.top!=f.height()){d.top=f.height();s=c.utils.availableHeight(l,D,d)}C.select(".nv-legendWrap").attr("transform","translate("+(o?180:0)+","+
-d.top+")")}if(o){var J=[{key:p.grouped||"Grouped",disabled:b.stacked()},{key:p.stacked||"Stacked",disabled:!b.stacked()}];h.width(o?180:0).color(["#444","#444","#444"]);C.select(".nv-controlsWrap").datum(J).attr("transform","translate(0,"+-d.top+")").call(h)}z.attr("transform","translate("+d.left+","+d.top+")");b.disabled(g.map(function(a){return a.disabled})).width(A).height(s).color(g.map(function(a,b){return a.color||r(a,b)}).filter(function(a,b){return!g[b].disabled}));C.select(".nv-barsWrap").datum(g.filter(function(a){return!a.disabled})).transition().call(b);
if(m){e.scale(E)._ticks(c.utils.calcTicksY(s/24,g)).tickSize(-A,0);C.select(".nv-x.nv-axis").call(e);C.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text")}if(u){k.scale(t)._ticks(c.utils.calcTicksX(A/100,g)).tickSize(-s,0);C.select(".nv-y.nv-axis").attr("transform","translate(0,"+s+")");C.select(".nv-y.nv-axis").call(k)}C.select(".nv-zeroLine line").attr("x1",t(0)).attr("x2",t(0)).attr("y1",0).attr("y2",-s);f.dispatch.on("stateChange",function(b){for(var c in b)i[c]=b[c];B.stateChange(i);
a.update()});h.dispatch.on("legendClick",function(c){if(c.disabled){J=J.map(function(a){a.disabled=true;return a});c.disabled=false;switch(c.key){case "Grouped":b.stacked(false);break;case "Stacked":b.stacked(true)}i.stacked=b.stacked();B.stateChange(i);y=b.stacked();a.update()}});B.on("changeState",function(c){if(typeof c.disabled!=="undefined"){g.forEach(function(a,b){a.disabled=c.disabled[b]});i.disabled=c.disabled}if(typeof c.stacked!=="undefined"){b.stacked(c.stacked);y=i.stacked=c.stacked}a.update()})});
x.renderEnd("multibar horizontal chart immediate");return a}var b=c.models.multiBarHorizontal(),e=c.models.axis(),k=c.models.axis(),f=c.models.legend().height(30),h=c.models.legend().height(30),g=c.models.tooltip(),d={top:30,right:20,bottom:50,left:60},j=null,l=null,r=c.utils.defaultColor(),o=true,p={},q=true,m=true,u=true,y=false,E,t,i=c.utils.state(),w=null,H=null,B=d3.dispatch("stateChange","changeState","renderEnd"),v=250;i.stacked=false;b.stacked(y);e.orient("left").tickPadding(5).showMaxMin(false).tickFormat(function(a){return a});
k.orient("bottom").tickFormat(d3.format(",.1f"));g.duration(0).valueFormatter(function(a,b){return k.tickFormat()(a,b)}).headerFormatter(function(a,b){return e.tickFormat()(a,b)});h.updateState(false);var F=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),stacked:y}}},n=function(a){return function(b){if(b.stacked!==void 0)y=b.stacked;b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},x=c.utils.renderWatch(B,v);b.dispatch.on("elementMouseover.tooltip",
function(b){b.value=a.x()(b.data);b.series={key:b.data.key,value:a.y()(b.data),color:b.color};g.data(b).hidden(false)});b.dispatch.on("elementMouseout.tooltip",function(){g.hidden(true)});b.dispatch.on("elementMousemove.tooltip",function(){g.position({top:d3.event.pageY,left:d3.event.pageX})()});a.dispatch=B;a.multibar=b;a.legend=f;a.controls=h;a.xAxis=e;a.yAxis=k;a.state=i;a.tooltip=g;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return j},set:function(a){j=
a}},height:{get:function(){return l},set:function(a){l=a}},showLegend:{get:function(){return q},set:function(a){q=a}},showControls:{get:function(){return o},set:function(a){o=a}},controlLabels:{get:function(){return p},set:function(a){p=a}},showXAxis:{get:function(){return m},set:function(a){m=a}},showYAxis:{get:function(){return u},set:function(a){u=a}},defaultState:{get:function(){return w},set:function(a){w=a}},noData:{get:function(){return H},set:function(a){H=a}},tooltips:{get:function(){return g.enabled()},
set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");g.enabled(!!a)}},tooltipContent:{get:function(){return g.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");g.contentGenerator(a)}},margin:{get:function(){return d},set:function(a){d.top=a.top!==void 0?a.top:d.top;d.right=a.right!==void 0?a.right:d.right;d.bottom=a.bottom!==void 0?a.bottom:d.bottom;d.left=a.left!==void 0?a.left:d.left}},duration:{get:function(){return v},
set:function(a){v=a;x.reset(v);b.duration(v);e.duration(v);k.duration(v)}},color:{get:function(){return r},set:function(a){r=c.utils.getColor(a);f.color(r)}},barColor:{get:function(){return b.barColor},set:function(a){b.barColor(a);f.color(function(a,b){return d3.rgb("#ccc").darker(b*1.5).toString()})}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.multiChart=function(){function a(g){g.each(function(g){function D(a){var b=g[a.seriesIndex].yAxis===2?x:n;a.value=a.point.x;
a.series={value:a.point.y,color:a.point.color};G.duration(100).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).position(a.pos).hidden(false)}function l(a){var b=g[a.seriesIndex].yAxis===2?x:n;a.value=a.point.x;a.series={value:a.point.y,color:a.point.color};G.duration(100).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).position(a.pos).hidden(false)}function C(a){var b=g[a.seriesIndex].yAxis===2?x:n;a.point.x=B.x()(a.point);a.point.y=B.y()(a.point);G.duration(100).valueFormatter(function(a,
c){return b.tickFormat()(a,c)}).data(a).position(a.pos).hidden(false)}function p(a){var b=g[a.data.series].yAxis===2?x:n;a.value=w.x()(a.data);a.series={value:w.y()(a.data),color:a.color};G.duration(0).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).hidden(false)}var I=d3.select(this);c.utils.initSVG(I);a.update=function(){I.transition().call(a)};a.container=this;var A=c.utils.availableWidth(k,I,b),r=c.utils.availableHeight(f,I,b),M=g.filter(function(a){return a.type=="line"&&a.yAxis==
1}),N=g.filter(function(a){return a.type=="line"&&a.yAxis==2}),O=g.filter(function(a){return a.type=="scatter"&&a.yAxis==1}),R=g.filter(function(a){return a.type=="scatter"&&a.yAxis==2}),V=g.filter(function(a){return a.type=="bar"&&a.yAxis==1}),aa=g.filter(function(a){return a.type=="bar"&&a.yAxis==2}),Y=g.filter(function(a){return a.type=="area"&&a.yAxis==1}),X=g.filter(function(a){return a.type=="area"&&a.yAxis==2});if(!g||!g.length||!g.filter(function(a){return a.values.length}).length){c.utils.noData(a,
I);return a}I.selectAll(".nv-noData").remove();var U=g.filter(function(a){return!a.disabled&&a.yAxis==1}).map(function(a){return a.values.map(function(a){return{x:a.x,y:a.y}})}),W=g.filter(function(a){return!a.disabled&&a.yAxis==2}).map(function(a){return a.values.map(function(a){return{x:a.x,y:a.y}})});q.domain(d3.extent(d3.merge(U.concat(W)),function(a){return a.x})).range([0,A]);var T=I.selectAll("g.wrap.multiChart").data([g]),Q=T.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");
Q.append("g").attr("class","nv-x nv-axis");Q.append("g").attr("class","nv-y1 nv-axis");Q.append("g").attr("class","nv-y2 nv-axis");Q.append("g").attr("class","lines1Wrap");Q.append("g").attr("class","lines2Wrap");Q.append("g").attr("class","scatters1Wrap");Q.append("g").attr("class","scatters2Wrap");Q.append("g").attr("class","bars1Wrap");Q.append("g").attr("class","bars2Wrap");Q.append("g").attr("class","stack1Wrap");Q.append("g").attr("class","stack2Wrap");Q.append("g").attr("class","legendWrap");
T=T.select("g");Q=g.map(function(a,b){return g[b].color||e(a,b)});if(h){var Z=z.align()?A/2:A,ca=z.align()?Z:0;z.width(Z);z.color(Q);T.select(".legendWrap").datum(g.map(function(a){a.originalKey=a.originalKey===void 0?a.key:a.originalKey;a.key=a.originalKey+(a.yAxis==1?"":" (right axis)");return a})).call(z);if(b.top!=z.height()){b.top=z.height();r=c.utils.availableHeight(f,I,b)}T.select(".legendWrap").attr("transform","translate("+ca+","+-b.top+")")}y.width(A).height(r).interpolate(o).color(Q.filter(function(a,
b){return!g[b].disabled&&g[b].yAxis==1&&g[b].type=="line"}));E.width(A).height(r).interpolate(o).color(Q.filter(function(a,b){return!g[b].disabled&&g[b].yAxis==2&&g[b].type=="line"}));t.width(A).height(r).color(Q.filter(function(a,b){return!g[b].disabled&&g[b].yAxis==1&&g[b].type=="scatter"}));i.width(A).height(r).color(Q.filter(function(a,b){return!g[b].disabled&&g[b].yAxis==2&&g[b].type=="scatter"}));w.width(A).height(r).color(Q.filter(function(a,b){return!g[b].disabled&&g[b].yAxis==1&&g[b].type==
"bar"}));H.width(A).height(r).color(Q.filter(function(a,b){return!g[b].disabled&&g[b].yAxis==2&&g[b].type=="bar"}));B.width(A).height(r).color(Q.filter(function(a,b){return!g[b].disabled&&g[b].yAxis==1&&g[b].type=="area"}));v.width(A).height(r).color(Q.filter(function(a,b){return!g[b].disabled&&g[b].yAxis==2&&g[b].type=="area"}));T.attr("transform","translate("+b.left+","+b.top+")");var Q=T.select(".lines1Wrap").datum(M.filter(function(a){return!a.disabled})),Z=T.select(".scatters1Wrap").datum(O.filter(function(a){return!a.disabled})),
ca=T.select(".bars1Wrap").datum(V.filter(function(a){return!a.disabled})),da=T.select(".stack1Wrap").datum(Y.filter(function(a){return!a.disabled})),ba=T.select(".lines2Wrap").datum(N.filter(function(a){return!a.disabled})),$=T.select(".scatters2Wrap").datum(R.filter(function(a){return!a.disabled})),ea=T.select(".bars2Wrap").datum(aa.filter(function(a){return!a.disabled})),fa=T.select(".stack2Wrap").datum(X.filter(function(a){return!a.disabled})),ga=Y.length?Y.map(function(a){return a.values}).reduce(function(a,
b){return a.map(function(a,c){return{x:a.x,y:a.y+b[c].y}})}).concat([{x:0,y:0}]):[],ha=X.length?X.map(function(a){return a.values}).reduce(function(a,b){return a.map(function(a,c){return{x:a.x,y:a.y+b[c].y}})}).concat([{x:0,y:0}]):[];m.domain(d||d3.extent(d3.merge(U).concat(ga),function(a){return a.y})).range([0,r]);u.domain(j||d3.extent(d3.merge(W).concat(ha),function(a){return a.y})).range([0,r]);y.yDomain(m.domain());t.yDomain(m.domain());w.yDomain(m.domain());B.yDomain(m.domain());E.yDomain(u.domain());
i.yDomain(u.domain());H.yDomain(u.domain());v.yDomain(u.domain());Y.length&&d3.transition(da).call(B);X.length&&d3.transition(fa).call(v);V.length&&d3.transition(ca).call(w);aa.length&&d3.transition(ea).call(H);M.length&&d3.transition(Q).call(y);N.length&&d3.transition(ba).call(E);O.length&&d3.transition(Z).call(t);R.length&&d3.transition($).call(i);F._ticks(c.utils.calcTicksX(A/100,g)).tickSize(-r,0);T.select(".nv-x.nv-axis").attr("transform","translate(0,"+r+")");d3.transition(T.select(".nv-x.nv-axis")).call(F);
n._ticks(c.utils.calcTicksY(r/36,g)).tickSize(-A,0);d3.transition(T.select(".nv-y1.nv-axis")).call(n);x._ticks(c.utils.calcTicksY(r/36,g)).tickSize(-A,0);d3.transition(T.select(".nv-y2.nv-axis")).call(x);T.select(".nv-y1.nv-axis").classed("nv-disabled",U.length?false:true).attr("transform","translate("+q.range()[0]+",0)");T.select(".nv-y2.nv-axis").classed("nv-disabled",W.length?false:true).attr("transform","translate("+q.range()[1]+",0)");z.dispatch.on("stateChange",function(){a.update()});y.dispatch.on("elementMouseover.tooltip",
D);E.dispatch.on("elementMouseover.tooltip",D);y.dispatch.on("elementMouseout.tooltip",function(){G.hidden(true)});E.dispatch.on("elementMouseout.tooltip",function(){G.hidden(true)});t.dispatch.on("elementMouseover.tooltip",l);i.dispatch.on("elementMouseover.tooltip",l);t.dispatch.on("elementMouseout.tooltip",function(){G.hidden(true)});i.dispatch.on("elementMouseout.tooltip",function(){G.hidden(true)});B.dispatch.on("elementMouseover.tooltip",C);v.dispatch.on("elementMouseover.tooltip",C);B.dispatch.on("elementMouseout.tooltip",
function(){G.hidden(true)});v.dispatch.on("elementMouseout.tooltip",function(){G.hidden(true)});w.dispatch.on("elementMouseover.tooltip",p);H.dispatch.on("elementMouseover.tooltip",p);w.dispatch.on("elementMouseout.tooltip",function(){G.hidden(true)});H.dispatch.on("elementMouseout.tooltip",function(){G.hidden(true)});w.dispatch.on("elementMousemove.tooltip",function(){G.position({top:d3.event.pageY,left:d3.event.pageX})()});H.dispatch.on("elementMousemove.tooltip",function(){G.position({top:d3.event.pageY,
left:d3.event.pageX})()})});return a}var b={top:30,right:20,bottom:50,left:60},e=c.utils.defaultColor(),k=null,f=null,h=true,g=null,d,j,l=function(a){return a.x},r=function(a){return a.y},o="monotone",p=true,q=d3.scale.linear(),m=d3.scale.linear(),u=d3.scale.linear(),y=c.models.line().yScale(m),E=c.models.line().yScale(u),t=c.models.scatter().yScale(m),i=c.models.scatter().yScale(u),w=c.models.multiBar().stacked(false).yScale(m),H=c.models.multiBar().stacked(false).yScale(u),B=c.models.stackedArea().yScale(m),
v=c.models.stackedArea().yScale(u),F=c.models.axis().scale(q).orient("bottom").tickPadding(5),n=c.models.axis().scale(m).orient("left"),x=c.models.axis().scale(u).orient("right"),z=c.models.legend().height(30),G=c.models.tooltip(),D=d3.dispatch();a.dispatch=D;a.lines1=y;a.lines2=E;a.scatters1=t;a.scatters2=i;a.bars1=w;a.bars2=H;a.stack1=B;a.stack2=v;a.xAxis=F;a.yAxis1=n;a.yAxis2=x;a.tooltip=G;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return k},set:function(a){k=
a}},height:{get:function(){return f},set:function(a){f=a}},showLegend:{get:function(){return h},set:function(a){h=a}},yDomain1:{get:function(){return d},set:function(a){d=a}},yDomain2:{get:function(){return j},set:function(a){j=a}},noData:{get:function(){return g},set:function(a){g=a}},interpolate:{get:function(){return o},set:function(a){o=a}},tooltips:{get:function(){return G.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");G.enabled(!!a)}},tooltipContent:{get:function(){return G.contentGenerator()},
set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");G.contentGenerator(a)}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return e},set:function(a){e=c.utils.getColor(a)}},x:{get:function(){return l},set:function(a){l=a;y.x(a);E.x(a);t.x(a);i.x(a);w.x(a);H.x(a);B.x(a);v.x(a)}},
y:{get:function(){return r},set:function(a){r=a;y.y(a);E.y(a);t.y(a);i.y(a);B.y(a);v.y(a);w.y(a);H.y(a)}},useVoronoi:{get:function(){return p},set:function(a){p=a;y.useVoronoi(a);E.useVoronoi(a);B.useVoronoi(a);v.useVoronoi(a)}}});c.utils.initOptions(a);return a};c.models.ohlcBar=function(){function a(i){i.each(function(a){h=d3.select(this);var i=c.utils.availableWidth(e,h,b),n=c.utils.availableHeight(k,h,b);c.utils.initSVG(h);var D=i/a[0].values.length*0.9;g.domain(w||d3.extent(a[0].values.map(j).concat(m)));
y?g.range(B||[i*0.5/a[0].values.length,i*(a[0].values.length-0.5)/a[0].values.length]):g.range(B||[5+D/2,i-D/2-5]);d.domain(H||[d3.min(a[0].values.map(q).concat(u)),d3.max(a[0].values.map(p).concat(u))]).range(v||[n,0]);g.domain()[0]===g.domain()[1]&&(g.domain()[0]?g.domain([g.domain()[0]-g.domain()[0]*0.01,g.domain()[1]+g.domain()[1]*0.01]):g.domain([-1,1]));d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+d.domain()[0]*0.01,d.domain()[1]-d.domain()[1]*0.01]):d.domain([-1,1]));
var A=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([a[0].values]),s=A.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),K=s.append("defs"),s=s.append("g"),L=A.select("g");s.append("g").attr("class","nv-ticks");A.attr("transform","translate("+b.left+","+b.top+")");h.on("click",function(a,b){F.chartClick({data:a,index:b,pos:d3.event,id:f})});K.append("clipPath").attr("id","nv-chart-clip-path-"+f).append("rect");A.select("#nv-chart-clip-path-"+f+" rect").attr("width",i).attr("height",
n);L.attr("clip-path",E?"url(#nv-chart-clip-path-"+f+")":"");n=A.select(".nv-ticks").selectAll(".nv-tick").data(function(a){return a});n.exit().remove();n.enter().append("path").attr("class",function(a,b,c){return(r(a,b)>o(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b}).attr("d",function(a,b){return"m0,0l0,"+(d(r(a,b))-d(p(a,b)))+"l"+-D/2+",0l"+D/2+",0l0,"+(d(q(a,b))-d(r(a,b)))+"l0,"+(d(o(a,b))-d(q(a,b)))+"l"+D/2+",0l"+-D/2+",0z"}).attr("transform",function(a,b){return"translate("+
g(j(a,b))+","+d(p(a,b))+")"}).attr("fill",function(){return t[0]}).attr("stroke",function(){return t[0]}).attr("x",0).attr("y",function(a,b){return d(Math.max(0,l(a,b)))}).attr("height",function(a,b){return Math.abs(d(l(a,b))-d(0))});n.attr("class",function(a,b,c){return(r(a,b)>o(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b});d3.transition(n).attr("transform",function(a,b){return"translate("+g(j(a,b))+","+d(p(a,b))+")"}).attr("d",function(b,c){var e=i/a[0].values.length*0.9;return"m0,0l0,"+
(d(r(b,c))-d(p(b,c)))+"l"+-e/2+",0l"+e/2+",0l0,"+(d(q(b,c))-d(r(b,c)))+"l0,"+(d(o(b,c))-d(q(b,c)))+"l"+e/2+",0l"+-e/2+",0z"})});return a}var b={top:0,right:0,bottom:0,left:0},e=null,k=null,f=Math.floor(Math.random()*1E4),h=null,g=d3.scale.linear(),d=d3.scale.linear(),j=function(a){return a.x},l=function(a){return a.y},r=function(a){return a.open},o=function(a){return a.close},p=function(a){return a.high},q=function(a){return a.low},m=[],u=[],y=false,E=true,t=c.utils.defaultColor(),i=false,w,H,B,v,
F=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");a.highlightPoint=function(b,c){a.clearHighlights();h.select(".nv-ohlcBar .nv-tick-0-"+b).classed("hover",c)};a.clearHighlights=function(){h.select(".nv-ohlcBar .nv-tick.hover").classed("hover",false)};a.dispatch=F;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=
a}},height:{get:function(){return k},set:function(a){k=a}},xScale:{get:function(){return g},set:function(a){g=a}},yScale:{get:function(){return d},set:function(a){d=a}},xDomain:{get:function(){return w},set:function(a){w=a}},yDomain:{get:function(){return H},set:function(a){H=a}},xRange:{get:function(){return B},set:function(a){B=a}},yRange:{get:function(){return v},set:function(a){v=a}},forceX:{get:function(){return m},set:function(a){m=a}},forceY:{get:function(){return u},set:function(a){u=a}},
padData:{get:function(){return y},set:function(a){y=a}},clipEdge:{get:function(){return E},set:function(a){E=a}},id:{get:function(){return f},set:function(a){f=a}},interactive:{get:function(){return i},set:function(a){i=a}},x:{get:function(){return j},set:function(a){j=a}},y:{get:function(){return l},set:function(a){l=a}},open:{get:function(){return r()},set:function(a){r=a}},close:{get:function(){return o()},set:function(a){o=a}},high:{get:function(){return p},set:function(a){p=a}},low:{get:function(){return q},
set:function(a){q=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!=void 0?a.top:b.top;b.right=a.right!=void 0?a.right:b.right;b.bottom=a.bottom!=void 0?a.bottom:b.bottom;b.left=a.left!=void 0?a.left:b.left}},color:{get:function(){return t},set:function(a){t=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.parallelCoordinates=function(){function a(m){m.each(function(a){function m(a){return F(g.map(function(b){if(isNaN(a[b])||isNaN(parseFloat(a[b]))){var c=h[b].domain(),
d=h[b].range(),e=c[0]-(c[1]-c[0])/9;if(D.indexOf(b)<0){c=d3.scale.linear().domain([e,c[1]]).range([H-12,d[1]]);h[b].brush.y(c);D.push(b)}return[f(b),h[b](e)]}if(D.length>0){x.style("display","inline");z.style("display","inline")}else{x.style("display","none");z.style("display","none")}return[f(b),h[b](a[b])]}))}function E(){var a=g.filter(function(a){return!h[a].brush.empty()}),b=a.map(function(a){return h[a].brush.extent()});l=[];a.forEach(function(a,c){l[c]={dimension:a,extent:b[c]}});r=[];K.style("display",
function(c){var d=a.every(function(a,d){return isNaN(c[a])&&b[d][0]==h[a].brush.y().domain()[0]?true:b[d][0]<=c[a]&&c[a]<=b[d][1]});d&&r.push(c);return d?null:"none"});q.brush({filters:l,active:r})}function t(a){var b=o[a];return b==null?f(a):b}var i=d3.select(this),w=c.utils.availableWidth(e,i,b),H=c.utils.availableHeight(k,i,b);c.utils.initSVG(i);r=a;f.rangePoints([0,w],1).domain(g);g.forEach(function(b){var c=d3.extent(a,function(a){return+a[b]});if(c[0]===void 0){c[0]=0;c[1]=0}if(c[0]===c[1]){c[0]=
c[0]-1;c[1]=c[1]+1}h[b]=d3.scale.linear().domain(c).range([(H-12)*0.9,0]);h[b].brush=d3.svg.brush().y(h[b]).on("brush",E);return b!="name"});var i=i.selectAll("g.nv-wrap.nv-parallelCoordinates").data([a]),B=i.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates").append("g"),v=i.select("g");B.append("g").attr("class","nv-parallelCoordinates background");B.append("g").attr("class","nv-parallelCoordinates foreground");B.append("g").attr("class","nv-parallelCoordinates missingValuesline");
i.attr("transform","translate("+b.left+","+b.top+")");var F=d3.svg.line().interpolate("cardinal").tension(p),n=d3.svg.axis().orient("left"),B=d3.behavior.drag().on("dragstart",function(a){o[a]=this.parentNode.__origin__=f(a);s.attr("visibility","hidden")}).on("drag",function(a){o[a]=Math.min(w,Math.max(0,this.parentNode.__origin__=this.parentNode.__origin__+d3.event.x));K.attr("d",m);g.sort(function(a,b){return t(a)-t(b)});f.domain(g);L.attr("transform",function(a){return"translate("+t(a)+")"})}).on("dragend",
function(a){delete this.parentNode.__origin__;delete o[a];d3.select(this.parentNode).attr("transform","translate("+f(a)+")");K.attr("d",m);s.attr("d",m).attr("visibility",null)}),x,z,G=f.range()[1]-f.range()[0],D=[],A=[0+G/2,H-12,w-G/2,H-12];x=i.select(".missingValuesline").selectAll("line").data([A]);x.enter().append("line");x.exit().remove();x.attr("x1",function(a){return a[0]}).attr("y1",function(a){return a[1]}).attr("x2",function(a){return a[2]}).attr("y2",function(a){return a[3]});z=i.select(".missingValuesline").selectAll("text").data(["undefined values"]);
z.append("text").data(["undefined values"]);z.enter().append("text");z.exit().remove();z.attr("y",H).attr("x",w-92-G/2).text(function(a){return a});var s=i.select(".background").selectAll("path").data(a);s.enter().append("path");s.exit().remove();s.attr("d",m);var K=i.select(".foreground").selectAll("path").data(a);K.enter().append("path");K.exit().remove();K.attr("d",m).attr("stroke",j);K.on("mouseover",function(a,b){d3.select(this).classed("hover",true);q.elementMouseover({label:a.name,data:a.data,
index:b,pos:[d3.mouse(this.parentNode)[0],d3.mouse(this.parentNode)[1]]})});K.on("mouseout",function(a,b){d3.select(this).classed("hover",false);q.elementMouseout({label:a.name,data:a.data,index:b})});var L=v.selectAll(".dimension").data(g),i=L.enter().append("g").attr("class","nv-parallelCoordinates dimension");i.append("g").attr("class","nv-parallelCoordinates nv-axis");i.append("g").attr("class","nv-parallelCoordinates-brush");i.append("text").attr("class","nv-parallelCoordinates nv-label");L.attr("transform",
function(a){return"translate("+f(a)+",0)"});L.exit().remove();L.select(".nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").text(String).on("mouseover",function(a){q.elementMouseover({dim:a,pos:[d3.mouse(this.parentNode.parentNode)[0],d3.mouse(this.parentNode.parentNode)[1]]})}).on("mouseout",function(a){q.elementMouseout({dim:a})}).call(B);L.select(".nv-axis").each(function(a,b){d3.select(this).call(n.scale(h[a]).tickFormat(d3.format(d[b])))});L.select(".nv-parallelCoordinates-brush").each(function(a){d3.select(this).call(h[a].brush)}).selectAll("rect").attr("x",
-8).attr("width",16)});return a}var b={top:30,right:0,bottom:10,left:0},e=null,k=null,f=d3.scale.ordinal(),h={},g=[],d=[],j=c.utils.defaultColor(),l=[],r=[],o=[],p=1,q=d3.dispatch("brush","elementMouseover","elementMouseout");a.dispatch=q;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return k},set:function(a){k=a}},dimensionNames:{get:function(){return g},set:function(a){g=a}},dimensionFormats:{get:function(){return d},
set:function(a){d=a}},lineTension:{get:function(){return p},set:function(a){p=a}},dimensions:{get:function(){return g},set:function(a){c.deprecated("dimensions","use dimensionNames instead");g=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return j},set:function(a){j=c.utils.getColor(a)}}});c.utils.initOptions(a);
return a};c.models.pie=function(){function a(D){G.reset();D.each(function(a){var s=e-b.left-b.right,D=k-b.top-b.bottom,L=Math.min(s,D)/2,C=[],J=[];d=d3.select(this);if(F.length===0)for(var I=L-L/5,S=v*L,P=0;P<a[0].length;P++){C.push(I);J.push(S)}else{C=F.map(function(a){return(a.outer-a.outer/5)*L});J=F.map(function(a){return(a.inner-a.inner/5)*L});v=d3.min(F.map(function(a){return a.inner-a.inner/5}))}c.utils.initSVG(d);var I=d.selectAll(".nv-wrap.nv-pie").data(a),P=I.enter().append("g").attr("class",
"nvd3 nv-wrap nv-pie nv-chart-"+g).append("g"),M=I.select("g"),S=P.append("g").attr("class","nv-pie");P.append("g").attr("class","nv-pieLabels");I.attr("transform","translate("+b.left+","+b.top+")");M.select(".nv-pie").attr("transform","translate("+s/2+","+D/2+")");M.select(".nv-pieLabels").attr("transform","translate("+s/2+","+D/2+")");d.on("click",function(a,b){n.chartClick({data:a,index:b,pos:d3.event,id:g})});x=[];z=[];for(P=0;P<a[0].length;P++){var M=d3.svg.arc().outerRadius(C[P]),N=d3.svg.arc().outerRadius(C[P]+
5);if(i!==false){M.startAngle(i);N.startAngle(i)}if(H!==false){M.endAngle(H);N.endAngle(H)}if(m){M.innerRadius(J[P]);N.innerRadius(J[P])}if(M.cornerRadius&&B){M.cornerRadius(B);N.cornerRadius(B)}x.push(M);z.push(N)}J=d3.layout.pie().sort(null).value(function(a){return a.disabled?0:h(a)});J.padAngle&&w&&J.padAngle(w);if(m&&u){S.append("text").attr("class","nv-pie-title");I.select(".nv-pie-title").style("text-anchor","middle").text(function(){return u}).style("font-size",Math.min(s,D)*v*2/(u.length+
2)+"px").attr("dy","0.35em").attr("transform",function(){return"translate(0, "+E+")"})}s=I.select(".nv-pie").selectAll(".nv-slice").data(J);D=I.select(".nv-pieLabels").selectAll(".nv-label").data(J);s.exit().remove();D.exit().remove();J=s.enter().append("g");J.attr("class","nv-slice");J.on("mouseover",function(a,b){d3.select(this).classed("hover",true);y&&d3.select(this).select("path").transition().duration(70).attr("d",z[b]);n.elementMouseover({data:a.data,index:b,color:d3.select(this).style("fill")})});
J.on("mouseout",function(a,b){d3.select(this).classed("hover",false);y&&d3.select(this).select("path").transition().duration(50).attr("d",x[b]);n.elementMouseout({data:a.data,index:b})});J.on("mousemove",function(a,b){n.elementMousemove({data:a.data,index:b})});J.on("click",function(a,b){n.elementClick({data:a.data,index:b,color:d3.select(this).style("fill")})});J.on("dblclick",function(a,b){n.elementDblClick({data:a.data,index:b,color:d3.select(this).style("fill")})});s.attr("fill",function(a,b){return j(a.data,
b)});s.attr("stroke",function(a,b){return j(a.data,b)});J.append("path").each(function(a){this._current=a});s.select("path").transition().attr("d",function(a,b){return x[b](a)}).attrTween("d",function(a,b){a.endAngle=isNaN(a.endAngle)?0:a.endAngle;a.startAngle=isNaN(a.startAngle)?0:a.startAngle;if(!m)a.innerRadius=0;var c=d3.interpolate(this._current,a);this._current=c(0);return function(a){return x[b](c(a))}});if(r){for(var O=[],P=0;P<a[0].length;P++){O.push(x[P]);if(o){if(m){O[P]=d3.svg.arc().outerRadius(x[P].outerRadius());
i!==false&&O[P].startAngle(i);H!==false&&O[P].endAngle(H)}}else m||O[P].innerRadius(0)}D.enter().append("g").classed("nv-label",true).each(function(a){var b=d3.select(this);b.attr("transform",function(a,b){if(t){a.outerRadius=C[b]+10;a.innerRadius=C[b]+15;var c=(a.startAngle+a.endAngle)/2*(180/Math.PI),c=(a.startAngle+a.endAngle)/2<Math.PI?c-90:c+90;return"translate("+O[b].centroid(a)+") rotate("+c+")"}a.outerRadius=L+10;a.innerRadius=L+15;return"translate("+O[b].centroid(a)+")"});b.append("rect").style("stroke",
"#fff").style("fill","#fff").attr("rx",3).attr("ry",3);b.append("text").style("text-anchor",t?(a.startAngle+a.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var R={},V=function(a){return Math.floor(a[0]/140)*140+","+Math.floor(a[1]/14)*14};D.watchTransition(G,"pie labels").attr("transform",function(a,b){if(t){a.outerRadius=C[b]+10;a.innerRadius=C[b]+15;var c=(a.startAngle+a.endAngle)/2*(180/Math.PI),c=(a.startAngle+a.endAngle)/2<Math.PI?c-90:c+90;return"translate("+O[b].centroid(a)+
") rotate("+c+")"}a.outerRadius=L+10;a.innerRadius=L+15;c=O[b].centroid(a);if(a.value){var d=V(c);R[d]&&(c[1]=c[1]-14);R[V(c)]=true}return"translate("+c+")"});D.select(".nv-label text").style("text-anchor",function(a){return t?(a.startAngle+a.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(a,b){var c=(a.endAngle-a.startAngle)/(2*Math.PI),d="";if(!a.value||c<q)return"";if(typeof p==="function")d=p(a,b,{key:f(a.data),value:h(a.data),percent:l(c)});else switch(p){case "key":d=f(a.data);break;
case "value":d=l(h(a.data));break;case "percent":d=d3.format("%")(c)}return d})}});G.renderEnd("pie immediate");return a}var b={top:0,right:0,bottom:0,left:0},e=500,k=500,f=function(a){return a.x},h=function(a){return a.y},g=Math.floor(Math.random()*1E4),d=null,j=c.utils.defaultColor(),l=d3.format(",.2f"),r=true,o=false,p="key",q=0.02,m=false,u=false,y=true,E=0,t=false,i=false,w=false,H=false,B=0,v=0.5,F=[],n=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout",
"elementMousemove","renderEnd"),x=[],z=[],G=c.utils.renderWatch(n);a.dispatch=n;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{arcsRadius:{get:function(){return F},set:function(a){F=a}},width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return k},set:function(a){k=a}},showLabels:{get:function(){return r},set:function(a){r=a}},title:{get:function(){return u},set:function(a){u=a}},titleOffset:{get:function(){return E},set:function(a){E=a}},labelThreshold:{get:function(){return q},
set:function(a){q=a}},valueFormat:{get:function(){return l},set:function(a){l=a}},x:{get:function(){return f},set:function(a){f=a}},id:{get:function(){return g},set:function(a){g=a}},endAngle:{get:function(){return H},set:function(a){H=a}},startAngle:{get:function(){return i},set:function(a){i=a}},padAngle:{get:function(){return w},set:function(a){w=a}},cornerRadius:{get:function(){return B},set:function(a){B=a}},donutRatio:{get:function(){return v},set:function(a){v=a}},labelsOutside:{get:function(){return o},
set:function(a){o=a}},labelSunbeamLayout:{get:function(){return t},set:function(a){t=a}},donut:{get:function(){return m},set:function(a){m=a}},growOnHover:{get:function(){return y},set:function(a){y=a}},pieLabelsOutside:{get:function(){return o},set:function(a){o=a;c.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return o},set:function(a){o=a;c.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return l},set:function(a){l=
a;c.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return b},set:function(a){b.top=typeof a.top!="undefined"?a.top:b.top;b.right=typeof a.right!="undefined"?a.right:b.right;b.bottom=typeof a.bottom!="undefined"?a.bottom:b.bottom;b.left=typeof a.left!="undefined"?a.left:b.left}},y:{get:function(){return h},set:function(a){h=d3.functor(a)}},color:{get:function(){return j},set:function(a){j=c.utils.getColor(a)}},labelType:{get:function(){return p},set:function(a){p=a||"key"}}});
c.utils.initOptions(a);return a};c.models.pieChart=function(){function a(k){u.reset();u.models(b);k.each(function(i){var k=d3.select(this);c.utils.initSVG(k);var l=c.utils.availableWidth(h,k,f),u=c.utils.availableHeight(g,k,f);a.update=function(){k.transition().call(a)};a.container=this;r.setter(E(i),a.update).getter(y(i)).update();r.disabled=i.map(function(a){return!!a.disabled});if(!o){var p;o={};for(p in r)o[p]=r[p]instanceof Array?r[p].slice(0):r[p]}if(!i||!i.length){c.utils.noData(a,k);return a}k.selectAll(".nv-noData").remove();
p=k.selectAll("g.nv-wrap.nv-pieChart").data([i]);var t=p.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),n=p.select("g");t.append("g").attr("class","nv-pieWrap");t.append("g").attr("class","nv-legendWrap");if(d)if(j==="top"){e.width(l).key(b.x());p.select(".nv-legendWrap").datum(i).call(e);if(f.top!=e.height()){f.top=e.height();u=c.utils.availableHeight(g,k,f)}p.select(".nv-legendWrap").attr("transform","translate(0,"+-f.top+")")}else if(j==="right"){t=c.models.legend().width();
l/2<t&&(t=l/2);e.height(u).key(b.x());e.width(t);l=l-e.width();p.select(".nv-legendWrap").datum(i).call(e).attr("transform","translate("+l+",0)")}p.attr("transform","translate("+f.left+","+f.top+")");b.width(l).height(u);l=n.select(".nv-pieWrap").datum([i]);d3.transition(l).call(b);e.dispatch.on("stateChange",function(b){for(var c in b)r[c]=b[c];m.stateChange(r);a.update()});m.on("changeState",function(b){if(typeof b.disabled!=="undefined"){i.forEach(function(a,c){a.disabled=b.disabled[c]});r.disabled=
b.disabled}a.update()})});u.renderEnd("pieChart immediate");return a}var b=c.models.pie(),e=c.models.legend(),k=c.models.tooltip(),f={top:30,right:20,bottom:20,left:20},h=null,g=null,d=true,j="top",l=c.utils.defaultColor(),r=c.utils.state(),o=null,p=null,q=250,m=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd");k.headerEnabled(false).duration(0).valueFormatter(function(a,c){return b.valueFormat()(a,c)});var u=c.utils.renderWatch(m),y=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},
E=function(a){return function(b){b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};b.dispatch.on("elementMouseover.tooltip",function(b){b.series={key:a.x()(b.data),value:a.y()(b.data),color:b.color};k.data(b).hidden(false)});b.dispatch.on("elementMouseout.tooltip",function(){k.hidden(true)});b.dispatch.on("elementMousemove.tooltip",function(){k.position({top:d3.event.pageY,left:d3.event.pageX})()});a.legend=e;a.dispatch=m;a.pie=b;a.tooltip=k;a.options=c.utils.optionsFunc.bind(a);
a._options=Object.create({},{noData:{get:function(){return p},set:function(a){p=a}},showLegend:{get:function(){return d},set:function(a){d=a}},legendPosition:{get:function(){return j},set:function(a){j=a}},defaultState:{get:function(){return o},set:function(a){o=a}},tooltips:{get:function(){return k.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");k.enabled(!!a)}},tooltipContent:{get:function(){return k.contentGenerator()},set:function(a){c.deprecated("tooltipContent",
"use chart.tooltip.contentGenerator() instead");k.contentGenerator(a)}},color:{get:function(){return l},set:function(a){l=a;e.color(l);b.color(l)}},duration:{get:function(){return q},set:function(a){q=a;u.reset(q)}},margin:{get:function(){return f},set:function(a){f.top=a.top!==void 0?a.top:f.top;f.right=a.right!==void 0?a.right:f.right;f.bottom=a.bottom!==void 0?a.bottom:f.bottom;f.left=a.left!==void 0?a.left:f.left}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.scatter=
function(){function a(C){M.reset();C.each(function(a){g=d3.select(this);var C=c.utils.availableWidth(e,g,b),O=c.utils.availableHeight(k,g,b);c.utils.initSVG(g);a.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});var Y=n&&x&&D?[]:d3.merge(a.map(function(a){return a.values.map(function(a,b){return{x:r(a,b),y:o(a,b),size:p(a,b)}})}));d.domain(n||d3.extent(Y.map(function(a){return a.x}).concat(m)));i&&a[0]?d.range(z||[(C*w+C)/(2*a[0].values.length),C-C*(1+w)/(2*a[0].values.length)]):d.range(z||
[0,C]);j.domain(x||d3.extent(Y.map(function(a){return a.y}).concat(u))).range(G||[O,0]);l.domain(D||d3.extent(Y.map(function(a){return a.size}).concat(y))).range(A||N);s=d.domain()[0]===d.domain()[1]||j.domain()[0]===j.domain()[1];d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-d.domain()[0]*0.01,d.domain()[1]+d.domain()[1]*0.01]):d.domain([-1,1]));j.domain()[0]===j.domain()[1]&&(j.domain()[0]?j.domain([j.domain()[0]-j.domain()[0]*0.01,j.domain()[1]+j.domain()[1]*0.01]):j.domain([-1,
1]));isNaN(d.domain()[0])&&d.domain([-1,1]);isNaN(j.domain()[0])&&j.domain([-1,1]);J=J||d;I=I||j;var X=g.selectAll("g.nv-wrap.nv-scatter").data([a]),Y=X.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+h),U=Y.append("defs"),W=Y.append("g"),T=X.select("g");X.classed("nv-single-point",s);W.append("g").attr("class","nv-groups");W.append("g").attr("class","nv-point-paths");Y.append("g").attr("class","nv-point-clips");X.attr("transform","translate("+b.left+","+b.top+")");U.append("clipPath").attr("id",
"nv-edge-clip-"+h).append("rect");X.select("#nv-edge-clip-"+h+" rect").attr("width",C).attr("height",O>0?O:0);T.attr("clip-path",H?"url(#nv-edge-clip-"+h+")":"");P=true;C=X.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});C.enter().append("g").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6);C.exit().remove();C.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover});C.watchTransition(M,"scatter: groups").style("fill",
function(a,b){return f(a,b)}).style("stroke",function(a,b){return f(a,b)}).style("stroke-opacity",1).style("fill-opacity",0.5);O=C.selectAll("path.nv-point").data(function(a){return a.values.map(function(a,b){return[a,b]}).filter(function(a,b){return t(a[0],b)})});O.enter().append("path").style("fill",function(a){return a.color}).style("stroke",function(a){return a.color}).attr("transform",function(a){return"translate("+J(r(a[0],a[1]))+","+I(o(a[0],a[1]))+")"}).attr("d",c.utils.symbol().type(function(a){return q(a[0])}).size(function(a){return l(p(a[0],
a[1]))}));O.exit().remove();C.exit().selectAll("path.nv-point").watchTransition(M,"scatter exit").attr("transform",function(a){return"translate("+d(r(a[0],a[1]))+","+j(o(a[0],a[1]))+")"}).remove();O.each(function(a){d3.select(this).classed("nv-point",true).classed("nv-point-"+a[1],true).classed("nv-noninteractive",!E).classed("hover",false)});O.watchTransition(M,"scatter points").attr("transform",function(a){return"translate("+d(r(a[0],a[1]))+","+j(o(a[0],a[1]))+")"}).attr("d",c.utils.symbol().type(function(a){return q(a[0])}).size(function(a){return l(p(a[0],
a[1]))}));clearTimeout(S);S=setTimeout(function(){P=false;if(!E)return false;if(L===true){var c=d3.merge(a.map(function(a,b){return a.values.map(function(a,c){var e=r(a,c),f=o(a,c);return[d(e)+Math.random()*1.0E-4,j(f)+Math.random()*1.0E-4,b,c,a]}).filter(function(a,b){return t(a[4],b)})}));if(c.length==0)return false;if(c.length<3){c.push([d.range()[0]-20,j.range()[0]-20,null,null]);c.push([d.range()[1]+20,j.range()[1]+20,null,null]);c.push([d.range()[0]-20,j.range()[0]+20,null,null]);c.push([d.range()[1]+
20,j.range()[1]-20,null,null])}var i=d3.geom.polygon([[-10,-10],[-10,k+10],[e+10,k+10],[e+10,-10]]),n=d3.geom.voronoi(c).map(function(a,b){return{data:i.clip(a),series:c[b][2],point:c[b][3]}});X.select(".nv-point-paths").selectAll("path").remove();var n=X.select(".nv-point-paths").selectAll("path").data(n),l=n.enter().append("svg:path").attr("d",function(a){return!a||!a.data||a.data.length===0?"M 0 0":"M"+a.data.join(",")+"Z"}).attr("id",function(a,b){return"nv-path-"+b}).attr("clip-path",function(a,
b){return"url(#nv-clip-"+h+"-"+b+")"});v&&l.style("fill",d3.rgb(230,230,230)).style("fill-opacity",0.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200));if(B){X.select(".nv-point-clips").selectAll("clipPath").remove();X.select(".nv-point-clips").selectAll("clipPath").data(c).enter().append("svg:clipPath").attr("id",function(a,b){return"nv-clip-"+h+"-"+b}).append("svg:circle").attr("cx",function(a){return a[0]}).attr("cy",function(a){return a[1]}).attr("r",F)}var s=function(c,e){if(P)return 0;
var i=a[c.series];if(i!==void 0){var h=i.values[c.point];h.color=f(i,c.series);h.x=r(h);h.y=o(h);var k=g.node().getBoundingClientRect(),n=window.pageYOffset||document.documentElement.scrollTop,l=window.pageXOffset||document.documentElement.scrollLeft,k={left:d(r(h,c.point))+k.left+l+b.left+10,top:j(o(h,c.point))+k.top+n+b.top+10};e({point:h,series:i,pos:k,seriesIndex:c.series,pointIndex:c.point})}};n.on("click",function(a){s(a,K.elementClick)}).on("dblclick",function(a){s(a,K.elementDblClick)}).on("mouseover",
function(a){s(a,K.elementMouseover)}).on("mouseout",function(a){s(a,K.elementMouseout)})}else X.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(c,e){if(P||!a[c.series])return 0;var f=a[c.series],g=f.values[e];K.elementClick({point:g,series:f,pos:[d(r(g,e))+b.left,j(o(g,e))+b.top],seriesIndex:c.series,pointIndex:e})}).on("dblclick",function(c,e){if(P||!a[c.series])return 0;var f=a[c.series],g=f.values[e];K.elementDblClick({point:g,series:f,pos:[d(r(g,e))+b.left,
j(o(g,e))+b.top],seriesIndex:c.series,pointIndex:e})}).on("mouseover",function(c,e){if(P||!a[c.series])return 0;var g=a[c.series],i=g.values[e];K.elementMouseover({point:i,series:g,pos:[d(r(i,e))+b.left,j(o(i,e))+b.top],seriesIndex:c.series,pointIndex:e,color:f(c,e)})}).on("mouseout",function(b,c){if(P||!a[b.series])return 0;var d=a[b.series];K.elementMouseout({point:d.values[c],series:d,seriesIndex:b.series,pointIndex:c,color:f(b,c)})})},300);J=d.copy();I=j.copy();l.copy()});M.renderEnd("scatter immediate");
return a}var b={top:0,right:0,bottom:0,left:0},e=null,k=null,f=c.utils.defaultColor(),h=Math.floor(Math.random()*1E5),g=null,d=d3.scale.linear(),j=d3.scale.linear(),l=d3.scale.linear(),r=function(a){return a.x},o=function(a){return a.y},p=function(a){return a.size||1},q=function(a){return a.shape||"circle"},m=[],u=[],y=[],E=true,t=function(a){return!a.notActive},i=false,w=0.1,H=false,B=true,v=false,F=function(){return 25},n=null,x=null,z=null,G=null,D=null,A=null,s=false,K=d3.dispatch("elementClick",
"elementDblClick","elementMouseover","elementMouseout","renderEnd"),L=true,C=250,J,I,S,P=false,M=c.utils.renderWatch(K,C),N=[16,256];a.dispatch=K;a.options=c.utils.optionsFunc.bind(a);a._calls=new function(){this.clearHighlights=function(){c.dom.write(function(){g.selectAll(".nv-point.hover").classed("hover",false)});return null};this.highlightPoint=function(a,b,d){c.dom.write(function(){g.select(" .nv-series-"+a+" .nv-point-"+b).classed("hover",d)})}};K.on("elementMouseover.point",function(b){E&&
a._calls.highlightPoint(b.seriesIndex,b.pointIndex,true)});K.on("elementMouseout.point",function(b){E&&a._calls.highlightPoint(b.seriesIndex,b.pointIndex,false)});a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return k},set:function(a){k=a}},xScale:{get:function(){return d},set:function(a){d=a}},yScale:{get:function(){return j},set:function(a){j=a}},pointScale:{get:function(){return l},set:function(a){l=a}},xDomain:{get:function(){return n},
set:function(a){n=a}},yDomain:{get:function(){return x},set:function(a){x=a}},pointDomain:{get:function(){return D},set:function(a){D=a}},xRange:{get:function(){return z},set:function(a){z=a}},yRange:{get:function(){return G},set:function(a){G=a}},pointRange:{get:function(){return A},set:function(a){A=a}},forceX:{get:function(){return m},set:function(a){m=a}},forceY:{get:function(){return u},set:function(a){u=a}},forcePoint:{get:function(){return y},set:function(a){y=a}},interactive:{get:function(){return E},
set:function(a){E=a}},pointActive:{get:function(){return t},set:function(a){t=a}},padDataOuter:{get:function(){return w},set:function(a){w=a}},padData:{get:function(){return i},set:function(a){i=a}},clipEdge:{get:function(){return H},set:function(a){H=a}},clipVoronoi:{get:function(){return B},set:function(a){B=a}},clipRadius:{get:function(){return F},set:function(a){F=a}},showVoronoi:{get:function(){return v},set:function(a){v=a}},id:{get:function(){return h},set:function(a){h=a}},x:{get:function(){return r},
set:function(a){r=d3.functor(a)}},y:{get:function(){return o},set:function(a){o=d3.functor(a)}},pointSize:{get:function(){return p},set:function(a){p=d3.functor(a)}},pointShape:{get:function(){return q},set:function(a){q=d3.functor(a)}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},duration:{get:function(){return C},set:function(a){C=a;M.reset(C)}},
color:{get:function(){return f},set:function(a){f=c.utils.getColor(a)}},useVoronoi:{get:function(){return L},set:function(a){L=a;L===false&&(B=false)}}});c.utils.initOptions(a);return a};c.models.scatterChart=function(){function a(D){x.reset();x.models(b);t&&x.models(e);i&&x.models(k);u&&x.models(h);y&&x.models(g);D.each(function(D){o=d3.select(this);c.utils.initSVG(o);var s=c.utils.availableWidth(l,o,j),F=c.utils.availableHeight(r,o,j);a.update=function(){n===0?o.call(a):o.transition().duration(n).call(a)};
a.container=this;H.setter(G(D),a.update).getter(z(D)).update();H.disabled=D.map(function(a){return!!a.disabled});if(!B){var L;B={};for(L in H)B[L]=H[L]instanceof Array?H[L].slice(0):H[L]}if(!D||!D.length||!D.filter(function(a){return a.values.length}).length){c.utils.noData(a,o);x.renderEnd("scatter immediate");return a}o.selectAll(".nv-noData").remove();q=b.xScale();m=b.yScale();var C=o.selectAll("g.nv-wrap.nv-scatterChart").data([D]);L=C.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+
b.id()).append("g");var J=C.select("g");L.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none");L.append("g").attr("class","nv-x nv-axis");L.append("g").attr("class","nv-y nv-axis");L.append("g").attr("class","nv-scatterWrap");L.append("g").attr("class","nv-regressionLinesWrap");L.append("g").attr("class","nv-distWrap");L.append("g").attr("class","nv-legendWrap");w&&J.select(".nv-y.nv-axis").attr("transform","translate("+s+",0)");if(E){f.width(s);C.select(".nv-legendWrap").datum(D).call(f);
if(j.top!=f.height()){j.top=f.height();F=c.utils.availableHeight(r,o,j)}C.select(".nv-legendWrap").attr("transform","translate(0,"+-j.top+")")}C.attr("transform","translate("+j.left+","+j.top+")");b.width(s).height(F).color(D.map(function(a,b){a.color=a.color||p(a,b);return a.color}).filter(function(a,b){return!D[b].disabled}));C.select(".nv-scatterWrap").datum(D.filter(function(a){return!a.disabled})).call(b);C.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+b.id()+")");C=
C.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(a){return a});C.enter().append("g").attr("class","nv-regLines");C=C.selectAll(".nv-regLine").data(function(a){return[a]});C.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0);C.filter(function(a){return a.intercept&&a.slope}).watchTransition(x,"scatterPlusLineChart: regline").attr("x1",q.range()[0]).attr("x2",q.range()[1]).attr("y1",function(a){return m(q.domain()[0]*a.slope+a.intercept)}).attr("y2",
function(a){return m(q.domain()[1]*a.slope+a.intercept)}).style("stroke",function(a,b,c){return p(a,c)}).style("stroke-opacity",function(a){return a.disabled||typeof a.slope==="undefined"||typeof a.intercept==="undefined"?0:1});if(t){e.scale(q)._ticks(c.utils.calcTicksX(s/100,D)).tickSize(-F,0);J.select(".nv-x.nv-axis").attr("transform","translate(0,"+m.range()[0]+")").call(e)}if(i){k.scale(m)._ticks(c.utils.calcTicksY(F/36,D)).tickSize(-s,0);J.select(".nv-y.nv-axis").call(k)}if(u){h.getData(b.x()).scale(q).width(s).color(D.map(function(a,
b){return a.color||p(a,b)}).filter(function(a,b){return!D[b].disabled}));L.select(".nv-distWrap").append("g").attr("class","nv-distributionX");J.select(".nv-distributionX").attr("transform","translate(0,"+m.range()[0]+")").datum(D.filter(function(a){return!a.disabled})).call(h)}if(y){g.getData(b.y()).scale(m).width(F).color(D.map(function(a,b){return a.color||p(a,b)}).filter(function(a,b){return!D[b].disabled}));L.select(".nv-distWrap").append("g").attr("class","nv-distributionY");J.select(".nv-distributionY").attr("transform",
"translate("+(w?s:-g.size())+",0)").datum(D.filter(function(a){return!a.disabled})).call(g)}f.dispatch.on("stateChange",function(b){for(var c in b)H[c]=b[c];v.stateChange(H);a.update()});v.on("changeState",function(b){if(typeof b.disabled!=="undefined"){D.forEach(function(a,c){a.disabled=b.disabled[c]});H.disabled=b.disabled}a.update()});b.dispatch.on("elementMouseout.tooltip",function(a){d.hidden(true);o.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",
0);o.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",g.size())});b.dispatch.on("elementMouseover.tooltip",function(a){o.select(".nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",a.pos.top-F-j.top);o.select(".nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",a.pos.left+h.size()-j.left);d.position(a.pos).data(a).hidden(false)});q.copy();m.copy()});x.renderEnd("scatter with line immediate");return a}var b=c.models.scatter(),e=
c.models.axis(),k=c.models.axis(),f=c.models.legend(),h=c.models.distribution(),g=c.models.distribution(),d=c.models.tooltip(),j={top:30,right:20,bottom:50,left:75},l=null,r=null,o=null,p=c.utils.defaultColor(),q=b.xScale(),m=b.yScale(),u=false,y=false,E=true,t=true,i=true,w=false,H=c.utils.state(),B=null,v=d3.dispatch("stateChange","changeState","renderEnd"),F=null,n=250;b.xScale(q).yScale(m);e.orient("bottom").tickPadding(10);k.orient(w?"right":"left").tickPadding(10);h.axis("x");g.axis("y");d.headerFormatter(function(a,
b){return e.tickFormat()(a,b)}).valueFormatter(function(a,b){return k.tickFormat()(a,b)});var x=c.utils.renderWatch(v,n),z=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},G=function(a){return function(b){b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};a.dispatch=v;a.scatter=b;a.legend=f;a.xAxis=e;a.yAxis=k;a.distX=h;a.distY=g;a.tooltip=d;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return l},set:function(a){l=
a}},height:{get:function(){return r},set:function(a){r=a}},container:{get:function(){return o},set:function(a){o=a}},showDistX:{get:function(){return u},set:function(a){u=a}},showDistY:{get:function(){return y},set:function(a){y=a}},showLegend:{get:function(){return E},set:function(a){E=a}},showXAxis:{get:function(){return t},set:function(a){t=a}},showYAxis:{get:function(){return i},set:function(a){i=a}},defaultState:{get:function(){return B},set:function(a){B=a}},noData:{get:function(){return F},
set:function(a){F=a}},duration:{get:function(){return n},set:function(a){n=a}},tooltips:{get:function(){return d.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");d.enabled(!!a)}},tooltipContent:{get:function(){return d.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");d.contentGenerator(a)}},tooltipXContent:{get:function(){return d.contentGenerator()},set:function(){c.deprecated("tooltipContent",
"This option is removed, put values into main tooltip.")}},tooltipYContent:{get:function(){return d.contentGenerator()},set:function(){c.deprecated("tooltipContent","This option is removed, put values into main tooltip.")}},margin:{get:function(){return j},set:function(a){j.top=a.top!==void 0?a.top:j.top;j.right=a.right!==void 0?a.right:j.right;j.bottom=a.bottom!==void 0?a.bottom:j.bottom;j.left=a.left!==void 0?a.left:j.left}},rightAlignYAxis:{get:function(){return w},set:function(a){w=a;k.orient(a?
"right":"left")}},color:{get:function(){return p},set:function(a){p=c.utils.getColor(a);f.color(p);h.color(p);g.color(p)}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.sparkline=function(){function a(h){h.each(function(a){var h=e-b.left-b.right,u=k-b.top-b.bottom;f=d3.select(this);c.utils.initSVG(f);g.domain(o||d3.extent(a,j)).range(q||[0,h]);d.domain(p||d3.extent(a,l)).range(m||[u,0]);a=f.selectAll("g.nv-wrap.nv-sparkline").data([a]);a.enter().append("g").attr("class",
"nvd3 nv-wrap nv-sparkline").append("g");a.select("g");a.attr("transform","translate("+b.left+","+b.top+")");h=a.selectAll("path").data(function(a){return[a]});h.enter().append("path");h.exit().remove();h.style("stroke",function(a,b){return a.color||r(a,b)}).attr("d",d3.svg.line().x(function(a,b){return g(j(a,b))}).y(function(a,b){return d(l(a,b))}));a=a.selectAll("circle.nv-point").data(function(a){function b(c){if(c!=-1){var d=a[c];d.pointIndex=c;return d}return null}var c=a.map(function(a,b){return l(a,
b)}),e=b(c.lastIndexOf(d.domain()[1])),f=b(c.indexOf(d.domain()[0])),c=b(c.length-1);return[f,e,c].filter(function(a){return a!=null})});a.enter().append("circle");a.exit().remove();a.attr("cx",function(a){return g(j(a,a.pointIndex))}).attr("cy",function(a){return d(l(a,a.pointIndex))}).attr("r",2).attr("class",function(a){return j(a,a.pointIndex)==g.domain()[1]?"nv-point nv-currentValue":l(a,a.pointIndex)==d.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})});return a}var b={top:2,right:0,
bottom:2,left:0},e=400,k=32,f=null,h=true,g=d3.scale.linear(),d=d3.scale.linear(),j=function(a){return a.x},l=function(a){return a.y},r=c.utils.getColor(["#000"]),o,p,q,m;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return k},set:function(a){k=a}},xDomain:{get:function(){return o},set:function(a){o=a}},yDomain:{get:function(){return p},set:function(a){p=a}},xRange:{get:function(){return q},set:function(a){q=
a}},yRange:{get:function(){return m},set:function(a){m=a}},xScale:{get:function(){return g},set:function(a){g=a}},yScale:{get:function(){return d},set:function(a){d=a}},animate:{get:function(){return h},set:function(a){h=a}},x:{get:function(){return j},set:function(a){j=d3.functor(a)}},y:{get:function(){return l},set:function(a){l=d3.functor(a)}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:
b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return r},set:function(a){r=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.sparklinePlus=function(){function a(m){m.each(function(m){function u(){if(!j){var a=F.selectAll(".nv-hoverValue").data(d),c=a.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);a.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove();a.attr("transform",
function(a){return"translate("+h(b.x()(m[a],a))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1);if(d.length){c.append("line").attr("x1",0).attr("y1",-e.top).attr("x2",0).attr("y2",w);c.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-e.top).attr("text-anchor","end").attr("dy",".9em");F.select(".nv-hoverValue .nv-xValue").text(l(b.x()(m[d[0]],d[0])));c.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-e.top).attr("text-anchor","start").attr("dy",
".9em");F.select(".nv-hoverValue .nv-yValue").text(r(b.y()(m[d[0]],d[0])))}}}var t=d3.select(this);c.utils.initSVG(t);var i=c.utils.availableWidth(k,t,e),w=c.utils.availableHeight(f,t,e);a.update=function(){t.call(a)};a.container=this;if(!m||!m.length){c.utils.noData(a,t);return a}t.selectAll(".nv-noData").remove();var H=b.y()(m[m.length-1],m.length-1);h=b.xScale();g=b.yScale();var B=t.selectAll("g.nv-wrap.nv-sparklineplus").data([m]),v=B.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),
F=B.select("g");v.append("g").attr("class","nv-sparklineWrap");v.append("g").attr("class","nv-valueWrap");v.append("g").attr("class","nv-hoverArea");B.attr("transform","translate("+e.left+","+e.top+")");B=F.select(".nv-sparklineWrap");b.width(i).height(w);B.call(b);if(o){B=F.select(".nv-valueWrap").selectAll(".nv-currentValue").data([H]);B.enter().append("text").attr("class","nv-currentValue").attr("dx",q?-8:8).attr("dy",".9em").style("text-anchor",q?"end":"start");B.attr("x",i+(q?e.right:0)).attr("y",
p?function(a){return g(a)}:0).style("fill",b.color()(m[m.length-1],m.length-1)).text(r(H))}v.select(".nv-hoverArea").append("rect").on("mousemove",function(){if(!j){for(var a=d3.mouse(this)[0]-e.left,c=m,a=Math.round(h.invert(a)),f=Math.abs(b.x()(c[0],0)-a),g=0,i=0;i<c.length;i++)if(Math.abs(b.x()(c[i],i)-a)<f){f=Math.abs(b.x()(c[i],i)-a);g=i}d=[g];u()}}).on("click",function(){j=!j}).on("mouseout",function(){d=[];u()});F.select(".nv-hoverArea rect").attr("transform",function(){return"translate("+
-e.left+","+-e.top+")"}).attr("width",i+e.left+e.right).attr("height",w+e.top)});return a}var b=c.models.sparkline(),e={top:15,right:100,bottom:10,left:50},k=null,f=null,h,g,d=[],j=false,l=d3.format(",r"),r=d3.format(",.2f"),o=true,p=true,q=false,m=null;a.sparkline=b;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return f},set:function(a){f=a}},xTickFormat:{get:function(){return l},set:function(a){l=a}},
yTickFormat:{get:function(){return r},set:function(a){r=a}},showLastValue:{get:function(){return o},set:function(a){o=a}},alignValue:{get:function(){return p},set:function(a){p=a}},rightAlignValue:{get:function(){return q},set:function(a){q=a}},noData:{get:function(){return m},set:function(a){m=a}},margin:{get:function(){return e},set:function(a){e.top=a.top!==void 0?a.top:e.top;e.right=a.right!==void 0?a.right:e.right;e.bottom=a.bottom!==void 0?a.bottom:e.bottom;e.left=a.left!==void 0?a.left:e.left}}});
c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.stackedArea=function(){function a(l){i.reset();i.models(y);l.each(function(l){var w=e-b.left-b.right,v=k-b.top-b.bottom;g=d3.select(this);c.utils.initSVG(g);m=y.xScale();u=y.yScale();var E=l;l.forEach(function(a,b){a.seriesIndex=b;a.values=a.values.map(function(a,c){a.index=c;a.seriesIndex=b;return a})});var l=l.filter(function(a){return!a.disabled}),l=d3.layout.stack().order(o).offset(r).values(function(a){return a.values}).x(d).y(j).out(function(a,
b,c){a.display={y:c,y0:b}})(l),n=g.selectAll("g.nv-wrap.nv-stackedarea").data([l]),x=n.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),z=x.append("defs"),x=x.append("g"),G=n.select("g");x.append("g").attr("class","nv-areaWrap");x.append("g").attr("class","nv-scatterWrap");n.attr("transform","translate("+b.left+","+b.top+")");y.forceY().length==0&&y.forceY().push(0);y.width(w).height(v).x(d).y(function(a){return a.display.y+a.display.y0}).forceY([0]).color(l.map(function(a){return a.color||
f(a,a.seriesIndex)}));G.select(".nv-scatterWrap").datum(l).call(y);z.append("clipPath").attr("id","nv-edge-clip-"+h).append("rect");n.select("#nv-edge-clip-"+h+" rect").attr("width",w).attr("height",v);G.attr("clip-path",q?"url(#nv-edge-clip-"+h+")":"");var D=d3.svg.area().x(function(a,b){return m(d(a,b))}).y0(function(a){return u(a.display.y0)}).y1(function(a){return u(a.display.y+a.display.y0)}).interpolate(p),A=d3.svg.area().x(function(a,b){return m(d(a,b))}).y0(function(a){return u(a.display.y0)}).y1(function(a){return u(a.display.y0)}),
w=G.select(".nv-areaWrap").selectAll("path.nv-area").data(function(a){return a});w.enter().append("path").attr("class",function(a,b){return"nv-area nv-area-"+b}).attr("d",function(a){return A(a.values,a.seriesIndex)}).on("mouseover",function(a){d3.select(this).classed("hover",true);t.areaMouseover({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}).on("mouseout",function(a){d3.select(this).classed("hover",false);t.areaMouseout({point:a,series:a.key,pos:[d3.event.pageX,
d3.event.pageY],seriesIndex:a.seriesIndex})}).on("click",function(a){d3.select(this).classed("hover",false);t.areaClick({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})});w.exit().remove();w.style("fill",function(a){return a.color||f(a,a.seriesIndex)}).style("stroke",function(a){return a.color||f(a,a.seriesIndex)});w.watchTransition(i,"stackedArea path").attr("d",function(a,b){return D(a.values,b)});y.dispatch.on("elementMouseover.area",function(a){G.select(".nv-chart-"+
h+" .nv-area-"+a.seriesIndex).classed("hover",true)});y.dispatch.on("elementMouseout.area",function(a){G.select(".nv-chart-"+h+" .nv-area-"+a.seriesIndex).classed("hover",false)});a.d3_stackedOffset_stackPercent=function(a){var b=a.length,c=a[0].length,d,e,f,g=[];for(e=0;e<c;++e){for(f=d=0;d<E.length;d++)f=f+j(E[d].values[e]);if(f)for(d=0;d<b;d++)a[d][e][1]=a[d][e][1]/f;else for(d=0;d<b;d++)a[d][e][1]=0}for(e=0;e<c;++e)g[e]=0;return g}});i.renderEnd("stackedArea immediate");return a}var b={top:0,
right:0,bottom:0,left:0},e=960,k=500,f=c.utils.defaultColor(),h=Math.floor(Math.random()*1E5),g=null,d=function(a){return a.x},j=function(a){return a.y},l="stack",r="zero",o="default",p="linear",q=false,m,u,y=c.models.scatter(),E=250,t=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");y.pointSize(2.2).pointDomain([2.2,2.2]);var i=c.utils.renderWatch(t,E);a.dispatch=t;a.scatter=y;y.dispatch.on("elementClick",function(){t.elementClick.apply(this,
arguments)});y.dispatch.on("elementMouseover",function(){t.elementMouseover.apply(this,arguments)});y.dispatch.on("elementMouseout",function(){t.elementMouseout.apply(this,arguments)});a.interpolate=function(b){if(!arguments.length)return p;p=b;return a};a.duration=function(b){if(!arguments.length)return E;E=b;i.reset(E);y.duration(E);return a};a.dispatch=t;a.scatter=y;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return k},
set:function(a){k=a}},clipEdge:{get:function(){return q},set:function(a){q=a}},offset:{get:function(){return r},set:function(a){r=a}},order:{get:function(){return o},set:function(a){o=a}},interpolate:{get:function(){return p},set:function(a){p=a}},x:{get:function(){return d},set:function(a){d=d3.functor(a)}},y:{get:function(){return j},set:function(a){j=d3.functor(a)}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=
a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return f},set:function(a){f=c.utils.getColor(a)}},style:{get:function(){return l},set:function(b){l=b;switch(l){case "stack":a.offset("zero");a.order("default");break;case "stream":a.offset("wiggle");a.order("inside-out");break;case "stream-center":a.offset("silhouette");a.order("inside-out");break;case "expand":a.offset("expand");a.order("default");break;case "stack_percent":a.offset(a.d3_stackedOffset_stackPercent);
a.order("default")}}},duration:{get:function(){return E},set:function(a){E=a;i.reset(E);y.duration(E)}}});c.utils.inheritOptions(a,y);c.utils.initOptions(a);return a};c.models.stackedAreaChart=function(){function a(d){A.reset();A.models(b);m&&A.models(e);u&&A.models(k);d.each(function(d){var C=d3.select(this),B=this;c.utils.initSVG(C);var A=c.utils.availableWidth(l,C,j),M=c.utils.availableHeight(r,C,j);a.update=function(){C.transition().duration(z).call(a)};a.container=this;w.setter(K(d),a.update).getter(s(d)).update();
w.disabled=d.map(function(a){return!!a.disabled});if(!H){var N;H={};for(N in w)H[N]=w[N]instanceof Array?w[N].slice(0):w[N]}if(!d||!d.length||!d.filter(function(a){return a.values.length}).length){c.utils.noData(a,C);return a}C.selectAll(".nv-noData").remove();t=b.xScale();i=b.yScale();var O=C.selectAll("g.nv-wrap.nv-stackedAreaChart").data([d]),R=O.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g");N=O.select("g");R.append("rect").style("opacity",0);R.append("g").attr("class",
"nv-x nv-axis");R.append("g").attr("class","nv-y nv-axis");R.append("g").attr("class","nv-stackedWrap");R.append("g").attr("class","nv-legendWrap");R.append("g").attr("class","nv-controlsWrap");R.append("g").attr("class","nv-interactive");N.select("rect").attr("width",A).attr("height",M);if(q){R=p?A-F:A;f.width(R);N.select(".nv-legendWrap").datum(d).call(f);if(j.top!=f.height()){j.top=f.height();M=c.utils.availableHeight(r,C,j)}N.select(".nv-legendWrap").attr("transform","translate("+(A-R)+","+-j.top+
")")}if(p){var V=[{key:x.stacked||"Stacked",metaKey:"Stacked",disabled:b.style()!="stack",style:"stack"},{key:x.stream||"Stream",metaKey:"Stream",disabled:b.style()!="stream",style:"stream"},{key:x.expanded||"Expanded",metaKey:"Expanded",disabled:b.style()!="expand",style:"expand"},{key:x.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:b.style()!="stack_percent",style:"stack_percent"}];F=n.length/3*260;V=V.filter(function(a){return n.indexOf(a.metaKey)!==-1});h.width(F).color(["#444","#444",
"#444"]);N.select(".nv-controlsWrap").datum(V).call(h);if(j.top!=Math.max(h.height(),f.height())){j.top=Math.max(h.height(),f.height());M=c.utils.availableHeight(r,C,j)}N.select(".nv-controlsWrap").attr("transform","translate(0,"+-j.top+")")}O.attr("transform","translate("+j.left+","+j.top+")");y&&N.select(".nv-y.nv-axis").attr("transform","translate("+A+",0)");if(E){g.width(A).height(M).margin({left:j.left,top:j.top}).svgContainer(C).xScale(t);O.select(".nv-interactive").call(g)}b.width(A).height(M);
N.select(".nv-stackedWrap").datum(d).transition().call(b);if(m){e.scale(t)._ticks(c.utils.calcTicksX(A/100,d)).tickSize(-M,0);N.select(".nv-x.nv-axis").attr("transform","translate(0,"+M+")");N.select(".nv-x.nv-axis").transition().duration(0).call(e)}if(u){M=b.offset()==="wiggle"?0:c.utils.calcTicksY(M/36,d);k.scale(i)._ticks(M).tickSize(-A,0);if(b.style()==="expand"||b.style()==="stack_percent"){A=k.tickFormat();if(!G||A!==L)G=A;k.tickFormat(L)}else if(G){k.tickFormat(G);G=null}N.select(".nv-y.nv-axis").transition().duration(0).call(k)}b.dispatch.on("areaClick.toggle",
function(b){d.filter(function(a){return!a.disabled}).length===1?d.forEach(function(a){a.disabled=false}):d.forEach(function(a,c){a.disabled=c!=b.seriesIndex});w.disabled=d.map(function(a){return!!a.disabled});v.stateChange(w);a.update()});f.dispatch.on("stateChange",function(b){for(var c in b)w[c]=b[c];v.stateChange(w);a.update()});h.dispatch.on("legendClick",function(c){if(c.disabled){V=V.map(function(a){a.disabled=true;return a});c.disabled=false;b.style(c.style);w.style=b.style();v.stateChange(w);
a.update()}});g.dispatch.on("elementMousemove",function(f){b.clearHighlights();var i,h,k,l=[];d.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(d,e){h=c.interactiveBisect(d.values,f.pointXValue,a.x());var g=d.values[h];a.y()(g,h)!=null&&b.highlightPoint(e,h,true);if(typeof g!=="undefined"){typeof i==="undefined"&&(i=g);typeof k==="undefined"&&(k=a.xScale()(a.x()(g,h)));var j=b.style()=="expand"?g.display.y:a.y()(g,h);l.push({key:d.key,value:j,color:o(d,d.seriesIndex),stackedValue:g.display})}});
l.reverse();if(l.length>2){var m=a.yScale().invert(f.mouseY),n=null;l.forEach(function(a,b){m=Math.abs(m);var c=Math.abs(a.stackedValue.y0),d=Math.abs(a.stackedValue.y);m>=c&&m<=d+c&&(n=b)});if(n!=null)l[n].highlight=true}var p=e.tickFormat()(a.x()(i,h)),q=g.tooltip.valueFormatter();if(b.style()==="expand"||b.style()==="stack_percent"){D||(D=q);q=d3.format(".1%")}else if(D){q=D;D=null}g.tooltip.position({left:k+j.left,top:f.mouseY+j.top}).chartContainer(B.parentNode).valueFormatter(q).data({value:p,
series:l})();g.renderGuideLine(k)});g.dispatch.on("elementMouseout",function(){b.clearHighlights()});v.on("changeState",function(c){if(typeof c.disabled!=="undefined"&&d.length===c.disabled.length){d.forEach(function(a,b){a.disabled=c.disabled[b]});w.disabled=c.disabled}typeof c.style!=="undefined"&&b.style(c.style);a.update()})});A.renderEnd("stacked Area chart immediate");return a}var b=c.models.stackedArea(),e=c.models.axis(),k=c.models.axis(),f=c.models.legend(),h=c.models.legend(),g=c.interactiveGuideline(),
d=c.models.tooltip(),j={top:30,right:25,bottom:50,left:60},l=null,r=null,o=c.utils.defaultColor(),p=true,q=true,m=true,u=true,y=false,E=false,t,i,w=c.utils.state(),H=null,B=null,v=d3.dispatch("stateChange","changeState","renderEnd"),F=250,n=["Stacked","Stream","Expanded"],x={},z=250;w.style=b.style();e.orient("bottom").tickPadding(7);k.orient(y?"right":"left");d.headerFormatter(function(a,b){return e.tickFormat()(a,b)}).valueFormatter(function(a,b){return k.tickFormat()(a,b)});g.tooltip.headerFormatter(function(a,
b){return e.tickFormat()(a,b)}).valueFormatter(function(a,b){return k.tickFormat()(a,b)});var G=null,D=null;h.updateState(false);var A=c.utils.renderWatch(v);b.style();var s=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),style:b.style()}}},K=function(a){return function(b){b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},L=d3.format("%");b.dispatch.on("elementMouseover.tooltip",function(a){a.point.x=b.x()(a.point);a.point.y=b.y()(a.point);d.data(a).position(a.pos).hidden(false)});
b.dispatch.on("elementMouseout.tooltip",function(){d.hidden(true)});a.dispatch=v;a.stacked=b;a.legend=f;a.controls=h;a.xAxis=e;a.yAxis=k;a.interactiveLayer=g;a.tooltip=d;a.dispatch=v;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return r},set:function(a){r=a}},showLegend:{get:function(){return q},set:function(a){q=a}},showXAxis:{get:function(){return m},set:function(a){m=a}},showYAxis:{get:function(){return u},
set:function(a){u=a}},defaultState:{get:function(){return H},set:function(a){H=a}},noData:{get:function(){return B},set:function(a){B=a}},showControls:{get:function(){return p},set:function(a){p=a}},controlLabels:{get:function(){return x},set:function(a){x=a}},controlOptions:{get:function(){return n},set:function(a){n=a}},tooltips:{get:function(){return d.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");d.enabled(!!a)}},tooltipContent:{get:function(){return d.contentGenerator()},
set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");d.contentGenerator(a)}},margin:{get:function(){return j},set:function(a){j.top=a.top!==void 0?a.top:j.top;j.right=a.right!==void 0?a.right:j.right;j.bottom=a.bottom!==void 0?a.bottom:j.bottom;j.left=a.left!==void 0?a.left:j.left}},duration:{get:function(){return z},set:function(a){z=a;A.reset(z);b.duration(z);e.duration(z);k.duration(z)}},color:{get:function(){return o},set:function(a){o=c.utils.getColor(a);
f.color(o);b.color(o)}},rightAlignYAxis:{get:function(){return y},set:function(a){y=a;k.orient(y?"right":"left")}},useInteractiveGuideline:{get:function(){return E},set:function(c){E=!!c;a.interactive(!c);a.useVoronoi(!c);b.scatter.interactive(!c)}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.sunburst=function(){function a(i){t.reset();i.each(function(a){function i(a){a.x0=a.x;a.dx0=a.dx}function t(a){var b=d3.interpolate(o.domain(),[a.x,a.x+a.dx]),c=d3.interpolate(p.domain(),
[a.y,1]),d=d3.interpolate(p.range(),[a.y?20:0,n]);return function(a,e){return e?function(){return m(a)}:function(e){o.domain(b(e));p.domain(c(e)).range(d(e));return m(a)}}}d=d3.select(this);var v=c.utils.availableWidth(e,d,b),F=c.utils.availableHeight(k,d,b),n=Math.min(v,F)/2,x;c.utils.initSVG(d);var z=d.selectAll(".nv-wrap.nv-sunburst").data(a),G=z.enter().append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+g).selectAll("nv-sunburst");z.attr("transform","translate("+v/2+","+F/2+")");d.on("click",
function(a,b){r.chartClick({data:a,index:b,pos:d3.event,id:g})});p.range([0,n]);u=u||a;E=a[0];q.value(h[f]||h.count);x=G.data(q.nodes).enter().append("path").attr("d",m).style("fill",function(a){return j((a.children?a:a.parent).name)}).style("stroke","#FFF").on("click",function(a){y!==u&&u!==a&&(y=u);u=a;x.transition().duration(l).attrTween("d",t(a))}).each(i).on("dblclick",function(a){y.parent==a&&x.transition().duration(l).attrTween("d",t(E))}).each(i).on("mouseover",function(a){d3.select(this).classed("hover",
true).style("opacity",0.8);r.elementMouseover({data:a,color:d3.select(this).style("fill")})}).on("mouseout",function(a){d3.select(this).classed("hover",false).style("opacity",1);r.elementMouseout({data:a})}).on("mousemove",function(a){r.elementMousemove({data:a})})});t.renderEnd("sunburst immediate");return a}var b={top:0,right:0,bottom:0,left:0},e=null,k=null,f="count",h={count:function(){return 1},size:function(a){return a.size}},g=Math.floor(Math.random()*1E4),d=null,j=c.utils.defaultColor(),l=
500,r=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),o=d3.scale.linear().range([0,2*Math.PI]),p=d3.scale.sqrt(),q=d3.layout.partition().sort(null).value(function(){return 1}),m=d3.svg.arc().startAngle(function(a){return Math.max(0,Math.min(2*Math.PI,o(a.x)))}).endAngle(function(a){return Math.max(0,Math.min(2*Math.PI,o(a.x+a.dx)))}).innerRadius(function(a){return Math.max(0,p(a.y))}).outerRadius(function(a){return Math.max(0,
p(a.y+a.dy))}),u,y,E,t=c.utils.renderWatch(r);a.dispatch=r;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return k},set:function(a){k=a}},mode:{get:function(){return f},set:function(a){f=a}},id:{get:function(){return g},set:function(a){g=a}},duration:{get:function(){return l},set:function(a){l=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!=void 0?a.top:b.top;b.right=a.right!=void 0?
a.right:b.right;b.bottom=a.bottom!=void 0?a.bottom:b.bottom;b.left=a.left!=void 0?a.left:b.left}},color:{get:function(){return j},set:function(a){j=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.sunburstChart=function(){function a(d){o.reset();o.models(b);d.each(function(d){var e=d3.select(this);c.utils.initSVG(e);var g=c.utils.availableWidth(f,e,k),j=c.utils.availableHeight(h,e,k);a.update=function(){l===0?e.call(a):e.transition().duration(l).call(a)};a.container=this;if(!d||!d.length){c.utils.noData(a,
e);return a}e.selectAll(".nv-noData").remove();var p=e.selectAll("g.nv-wrap.nv-sunburstChart").data(d),o=p.enter().append("g").attr("class","nvd3 nv-wrap nv-sunburstChart").append("g"),i=p.select("g");o.append("g").attr("class","nv-sunburstWrap");p.attr("transform","translate("+k.left+","+k.top+")");b.width(g).height(j);d=i.select(".nv-sunburstWrap").datum(d);d3.transition(d).call(b)});o.renderEnd("sunburstChart immediate");return a}var b=c.models.sunburst(),e=c.models.tooltip(),k={top:30,right:20,
bottom:20,left:20},f=null,h=null,g=c.utils.defaultColor();Math.round(Math.random()*1E5);var d=null,j=null,l=250,r=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),o=c.utils.renderWatch(r);e.headerEnabled(false).duration(0).valueFormatter(function(a){return a});b.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:a.data.name,value:a.data.size,color:a.color};e.data(a).hidden(false)});b.dispatch.on("elementMouseout.tooltip",function(){e.hidden(true)});b.dispatch.on("elementMousemove.tooltip",
function(){e.position({top:d3.event.pageY,left:d3.event.pageX})()});a.dispatch=r;a.sunburst=b;a.tooltip=e;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{noData:{get:function(){return j},set:function(a){j=a}},defaultState:{get:function(){return d},set:function(a){d=a}},color:{get:function(){return g},set:function(a){g=a;b.color(g)}},duration:{get:function(){return l},set:function(a){l=a;o.reset(l);b.duration(l)}},margin:{get:function(){return k},set:function(a){k.top=a.top!==void 0?
a.top:k.top;k.right=a.right!==void 0?a.right:k.right;k.bottom=a.bottom!==void 0?a.bottom:k.bottom;k.left=a.left!==void 0?a.left:k.left}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.version="1.8.1"})();
