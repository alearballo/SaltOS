(function(){var c={dev:!1};c.tooltip=c.tooltip||{};c.utils=c.utils||{};c.models=c.models||{};c.charts={};c.logs={};c.dom={};c.dispatch=d3.dispatch("render_start","render_end");Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,j=function(){},f=function(){return c.apply(this instanceof j&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};
j.prototype=this.prototype;f.prototype=new j;return f});c.dev&&(c.dispatch.on("render_start",function(){c.logs.startTime=+new Date}),c.dispatch.on("render_end",function(){c.logs.endTime=+new Date;c.logs.totalTime=c.logs.endTime-c.logs.startTime;c.log("total",c.logs.totalTime)}));c.log=function(){c.dev&&window.console&&console.log&&console.log.apply?console.log.apply(console,arguments):c.dev&&(window.console&&typeof console.log=="function"&&Function.prototype.bind)&&Function.prototype.bind.call(console.log,
console).apply(console,arguments);return arguments[arguments.length-1]};c.deprecated=function(a,b){console&&console.warn&&console.warn("nvd3 warning: `"+a+"` has been deprecated. ",b||"")};c.render=function(a){a=a||1;c.render.active=true;c.dispatch.render_start();var b=function(){for(var e,j,f=0;f<a&&(j=c.render.queue[f]);f++){e=j.generate();typeof j.callback==typeof Function&&j.callback(e)}c.render.queue.splice(0,f);if(c.render.queue.length)setTimeout(b);else{c.dispatch.render_end();c.render.active=
false}};setTimeout(b)};c.render.active=!1;c.render.queue=[];c.addGraph=function(a,b){typeof a===typeof Function&&(a={generate:a,callback:b});c.render.queue.push(a);c.render.active||c.render()};"undefined"!==typeof module&&"undefined"!==typeof exports&&(module.exports=c);"undefined"!==typeof window&&(window.nv=c);c.dom.write=function(a){return window.fastdom!==void 0?fastdom.write(a):a()};c.dom.read=function(a){return window.fastdom!==void 0?fastdom.read(a):a()};c.interactiveGuideline=function(){function a(t){t.each(function(o){function p(){var c=
d3.mouse(this),e=c[0],c=c[1],d=true,j=false;if(l){e=d3.event.offsetX;c=d3.event.offsetY;d3.event.target.tagName!=="svg"&&(d=false);d3.event.target.className.baseVal.match("nv-legend")&&(j=true)}if(d){e=e-f.left;c=c-f.top}if(e<0||c<0||e>m||c>u||d3.event.relatedTarget&&d3.event.relatedTarget.ownerSVGElement===void 0||j){if(!l||!d3.event.relatedTarget||!(d3.event.relatedTarget.ownerSVGElement===void 0&&(d3.event.relatedTarget.className===void 0||d3.event.relatedTarget.className.match(b.nvPointerEventsClass)))){g.elementMouseout({mouseX:e,
mouseY:c});a.renderGuideLine(null);b.hidden(true)}}else{b.hidden(false);d=h.invert(e);g.elementMousemove({mouseX:e,mouseY:c,pointXValue:d});d3.event.type==="dblclick"&&g.elementDblclick({mouseX:e,mouseY:c,pointXValue:d});d3.event.type==="click"&&g.elementClick({mouseX:e,mouseY:c,pointXValue:d})}}var r=d3.select(this),m=e||960,u=j||400,z=r.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([o]);z.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine");
if(i){i.on("touchmove",p).on("mousemove",p,true).on("mouseout",p,true).on("dblclick",p).on("click",p);a.guideLine=null;a.renderGuideLine=function(b){d&&(a.guideLine&&a.guideLine.attr("x1")===b||c.dom.write(function(){var a=z.select(".nv-interactiveGuideLine").selectAll("line").data(b!=null?[c.utils.NaNtoZero(b)]:[],String);a.enter().append("line").attr("class","nv-guideline").attr("x1",function(a){return a}).attr("x2",function(a){return a}).attr("y1",u).attr("y2",0);a.exit().remove()}))}}})}var b=
c.models.tooltip();b.duration(0).hideDelay(0)._isInteractiveLayer(true).hidden(false);var e=null,j=null,f={left:0,top:0},h=d3.scale.linear(),g=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick"),d=true,i=null,l="ActiveXObject"in window;a.dispatch=g;a.tooltip=b;a.margin=function(b){if(!arguments.length)return f;f.top=typeof b.top!="undefined"?b.top:f.top;f.left=typeof b.left!="undefined"?b.left:f.left;return a};a.width=function(b){if(!arguments.length)return e;e=b;return a};
a.height=function(b){if(!arguments.length)return j;j=b;return a};a.xScale=function(b){if(!arguments.length)return h;h=b;return a};a.showGuideLine=function(b){if(!arguments.length)return d;d=b;return a};a.svgContainer=function(b){if(!arguments.length)return i;i=b;return a};return a};c.interactiveBisect=function(a,b,c){if(!(a instanceof Array))return null;var j;j=typeof c!=="function"?function(a){return a.x}:c;var c=d3.bisector(function(a,b){return j(a)-b}).left,c=d3.max([0,c(a,b)-1]),f=j(a[c]);typeof f===
"undefined"&&(f=c);if(f===b)return c;var h=d3.min([c+1,a.length-1]),a=j(a[h]);typeof a==="undefined"&&(a=h);return Math.abs(a-b)>=Math.abs(f-b)?c:h};c.nearestValueIndex=function(a,b,c){var j=Infinity,f=null;a.forEach(function(a,g){var d=Math.abs(b-a);if(a!=null&&d<=j&&d<c){j=d;f=g}});return f};(function(){c.models.tooltip=function(){function a(){if(i){var a=d3.select(i);a.node().tagName!=="svg"&&(a=a.select("svg"));var b=a.node()?a.attr("viewBox"):null;if(b){b=b.split(" ");a=parseInt(a.style("width"),
10)/b[2];r.left=r.left*a;r.top=r.top*a}}}function b(){if(u){var v;a:{if(e&&e.series){if(e.series instanceof Array){v=!!e.series.length;break a}if(e.series instanceof Object){e.series=[e.series];v=true;break a}}v=false}if(v){a();var f=r.left,B=g!==null?g:r.top;c.dom.write(function(){if(!o){o=d3.select(i?i:document.body).append("div").attr("class","nvtooltip "+(d?d:"xy-tooltip")).attr("id",k);o.style("top",0).style("left",0);o.style("opacity",0);o.selectAll("div, table, td, tr").classed(y,true);o.classed(y,
true);p=o.node()}var a=A(e);if(a)p.innerHTML=a;i&&q?c.dom.read(function(){var a=i.getElementsByTagName("svg")[0],b=0,c=0;if(a){a=a.getBoundingClientRect();b=i.getBoundingClientRect();c=a.top;if(c<0)var s=i.getBoundingClientRect(),c=Math.abs(c)>s.height?0:c;c=Math.abs(c-b.top);b=Math.abs(a.left-b.left)}f=f+(i.offsetLeft+b-2*i.scrollLeft);B=B+(i.offsetTop+c-2*i.scrollTop);h&&h>0&&(B=Math.floor(B/h)*h);n([f,B])}):n([f,B])});return b}}}var e=null,j="w",f=25,h=0,g=null,d=null,i=null,l=true,t=400,o=null,
p=null,r={left:null,top:null},m={left:0,top:0},u=true,z=100,D=true,q=false,k="nvtooltip-"+Math.floor(Math.random()*1E5),y="nv-pointer-events-none",E=function(a){return a},x=function(a){return a},F=function(a){return a},A=function(a){if(a===null)return"";var b=d3.select(document.createElement("table"));D&&b.selectAll("thead").data([a]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",true).html(x(a.value));var c=b.selectAll("tbody").data([a]).enter().append("tbody").selectAll("tr").data(function(a){return a.series}).enter().append("tr").classed("highlight",
function(a){return a.highlight});c.append("td").classed("legend-color-guide",true).append("div").style("background-color",function(a){return a.color});c.append("td").classed("key",true).classed("total",function(a){return!!a.total}).html(function(a,b){return F(a.key,b)});c.append("td").classed("value",true).html(function(a,b){return E(a.value,b)});c.selectAll("td").each(function(a){if(a.highlight){a=d3.scale.linear().domain([0,1]).range(["#fff",a.color]);d3.select(this).style("border-bottom-color",
a(0.6)).style("border-top-color",a(0.6))}});b=b.node().outerHTML;a.footer!==void 0&&(b=b+("<div class='footer'>"+a.footer+"</div>"));return b},n=function(a){p&&c.dom.read(function(){var b=parseInt(p.offsetHeight,10),e=parseInt(p.offsetWidth,10),s=c.utils.windowSize().width,K=c.utils.windowSize().height,w=window.pageYOffset,d=window.pageXOffset,k,n,K=window.innerWidth>=document.body.scrollWidth?K:K-16,s=window.innerHeight>=document.body.scrollHeight?s:s-16,I=function(a){var b=n;do{isNaN(a.offsetTop)||
(b=b+a.offsetTop);a=a.offsetParent}while(a);return b},H=function(a){var b=k;do{isNaN(a.offsetLeft)||(b=b+a.offsetLeft);a=a.offsetParent}while(a);return b};switch(j){case "e":k=a[0]-e-f;n=a[1]-b/2;H=H(p);I=I(p);H<d&&(k=a[0]+f>d?a[0]+f:d-H+k);I<w&&(n=w-I+n);I+b>w+K&&(n=w+K-I+n-b);break;case "w":k=a[0]+f;n=a[1]-b/2;H=H(p);I=I(p);H+e>s&&(k=a[0]-e-f);I<w&&(n=w+5);I+b>w+K&&(n=w+K-I+n-b);break;case "n":k=a[0]-e/2-5;n=a[1]+f;H=H(p);I=I(p);H<d&&(k=d+5);H+e>s&&(k=k-e/2+5);I+b>w+K&&(n=w+K-I+n-b);break;case "s":k=
a[0]-e/2;n=a[1]-b-f;H=H(p);I=I(p);H<d&&(k=d+5);H+e>s&&(k=k-e/2+5);w>I&&(n=w);break;case "none":k=a[0];n=a[1]-f;H=H(p);I=I(p)}k=k-m.left;n=n-m.top;var e=p.getBoundingClientRect(),w=window.pageYOffset||document.documentElement.scrollTop,d=window.pageXOffset||document.documentElement.scrollLeft,b="translate("+k+"px, "+n+"px)",h=d3.interpolateString("translate("+(e.left+d)+"px, "+(e.top+w)+"px)",b),w=o.style("opacity")<0.1;l?o.transition().delay(t).duration(0).style("opacity",0):o.interrupt().transition().duration(w?
0:z).styleTween("transform",function(){return h},"important").style("-webkit-transform",b).style("-ms-transform",b).style("opacity",1)})};b.nvPointerEventsClass=y;b.options=c.utils.optionsFunc.bind(b);b._options=Object.create({},{duration:{get:function(){return z},set:function(a){z=a}},gravity:{get:function(){return j},set:function(a){j=a}},distance:{get:function(){return f},set:function(a){f=a}},snapDistance:{get:function(){return h},set:function(a){h=a}},classes:{get:function(){return d},set:function(a){d=
a}},chartContainer:{get:function(){return i},set:function(a){i=a}},fixedTop:{get:function(){return g},set:function(a){g=a}},enabled:{get:function(){return u},set:function(a){u=a}},hideDelay:{get:function(){return t},set:function(a){t=a}},contentGenerator:{get:function(){return A},set:function(a){A=a}},valueFormatter:{get:function(){return E},set:function(a){E=a}},headerFormatter:{get:function(){return x},set:function(a){x=a}},keyFormatter:{get:function(){return F},set:function(a){F=a}},headerEnabled:{get:function(){return D},
set:function(a){D=a}},_isInteractiveLayer:{get:function(){return q},set:function(a){q=!!a}},position:{get:function(){return r},set:function(a){r.left=a.left!==void 0?a.left:r.left;r.top=a.top!==void 0?a.top:r.top}},offset:{get:function(){return m},set:function(a){m.left=a.left!==void 0?a.left:m.left;m.top=a.top!==void 0?a.top:m.top}},hidden:{get:function(){return l},set:function(a){if(l!=a){l=!!a;b()}}},data:{get:function(){return e},set:function(a){if(a.point){a.value=a.point.x;a.series=a.series||
{};a.series.value=a.point.y;a.series.color=a.point.color||a.series.color}e=a}},tooltipElem:{get:function(){return p},set:function(){}},id:{get:function(){return k},set:function(){}}});c.utils.initOptions(b);return b}})();c.utils.windowSize=function(){var a={width:640,height:480};if(window.innerWidth&&window.innerHeight){a.width=window.innerWidth;a.height=window.innerHeight;return a}if(document.compatMode=="CSS1Compat"&&document.documentElement&&document.documentElement.offsetWidth){a.width=document.documentElement.offsetWidth;
a.height=document.documentElement.offsetHeight;return a}if(document.body&&document.body.offsetWidth){a.width=document.body.offsetWidth;a.height=document.body.offsetHeight}return a};c.utils.windowResize=function(a){window.addEventListener?window.addEventListener("resize",a):c.log("ERROR: Failed to bind to window.resize with: ",a);return{callback:a,clear:function(){window.removeEventListener("resize",a)}}};c.utils.getColor=function(a){if(a===void 0)return c.utils.defaultColor();if(Array.isArray(a)){var b=
d3.scale.ordinal().range(a);return function(a,c){return a.color||b(c===void 0?a:c)}}return a};c.utils.defaultColor=function(){return c.utils.getColor(d3.scale.category20().range())};c.utils.customTheme=function(a,b,c){var b=b||function(a){return a.key},c=c||d3.scale.category20().range(),j=c.length;return function(f){f=b(f);if(typeof a[f]==="function")return a[f]();if(a[f]!==void 0)return a[f];if(!j)j=c.length;j=j-1;return c[j]}};c.utils.pjax=function(a,b){var e=function(e){d3.html(e,function(e){var h=
d3.select(b).node();h.parentNode.replaceChild(d3.select(e).select(b).node(),h);c.utils.pjax(a,b)})};d3.selectAll(a).on("click",function(){history.pushState(this.href,this.textContent,this.href);e(this.href);d3.event.preventDefault()});d3.select(window).on("popstate",function(){d3.event.state&&e(d3.event.state)})};c.utils.calcApproxTextWidth=function(a){if(typeof a.style==="function"&&typeof a.text==="function"){var b=parseInt(a.style("font-size").replace("px",""),10);return a.text().length*b*0.5}return 0};
c.utils.NaNtoZero=function(a){return typeof a!=="number"||isNaN(a)||a===null||a===Infinity||a===-Infinity?0:a};d3.selection.prototype.watchTransition=function(a){var b=[this].concat([].slice.call(arguments,1));return a.transition.apply(a,b)};c.utils.renderWatch=function(a,b){if(!(this instanceof c.utils.renderWatch))return new c.utils.renderWatch(a,b);var e=b!==void 0?b:250,j=[],f=this;this.models=function(a){a=[].slice.call(arguments,0);a.forEach(function(a){a.__rendered=false;(function(a){a.dispatch.on("renderEnd",
function(){a.__rendered=true;f.renderEnd("model")})})(a);j.indexOf(a)<0&&j.push(a)});return this};this.reset=function(a){a!==void 0&&(e=a);j=[]};this.transition=function(a,b,c){b=arguments.length>1?[].slice.call(arguments,1):[];c=b.length>1?b.pop():e!==void 0?e:250;a.__rendered=false;j.indexOf(a)<0&&j.push(a);if(c===0){a.__rendered=true;a.delay=function(){return this};a.duration=function(){return this};return a}a.__rendered=a.length===0?true:a.every(function(a){return!a.length})?true:false;var i=
0;return a.transition().duration(c).each(function(){++i}).each("end",function(){if(--i===0){a.__rendered=true;f.renderEnd.apply(this,b)}})};this.renderEnd=function(){if(j.every(function(a){return a.__rendered})){j.forEach(function(a){a.__rendered=false});a.renderEnd.apply(this,arguments)}}};c.utils.deepExtend=function(a){(arguments.length>1?[].slice.call(arguments,1):[]).forEach(function(b){for(var e in b){var j=a[e]instanceof Array,f=typeof b[e]==="object";typeof a[e]==="object"&&!j&&f?c.utils.deepExtend(a[e],
b[e]):a[e]=b[e]}})};c.utils.state=function(){if(!(this instanceof c.utils.state))return new c.utils.state;var a={},b=function(){},e=function(){return{}},j=null;this.dispatch=d3.dispatch("change","set");this.dispatch.on("set",function(a){b(a,true)});this.getter=function(a){e=a;return this};this.setter=function(a,c){c||(c=function(){});b=function(b,e){a(b);e&&c()};return this};this.init=function(a){j=j||{};c.utils.deepExtend(j,a)};this.update=function(){if(j){b(j,false);j=null}var c;c=e();if(JSON.stringify(c)===
JSON.stringify(a))c=false;else{for(var h in c){a[h]===void 0&&(a[h]={});a[h]=c[h]}c=true}c&&this.dispatch.change(a)}};c.utils.optionsFunc=function(a){a&&d3.map(a).forEach(function(a,c){if(typeof this[a]==="function")this[a](c)}.bind(this));return this};c.utils.calcTicksX=function(a,b){var e=1,j=0;for(j;j<b.length;j=j+1)var f=b[j]&&b[j].values?b[j].values.length:0,e=f>e?f:e;c.log("Requested number of ticks: ",a);c.log("Calculated max values to be: ",e);a=a>e?a=e-1:a;a=Math.floor(a<1?1:a);c.log("Calculating tick count as: ",
a);return a};c.utils.calcTicksY=function(a,b){return c.utils.calcTicksX(a,b)};c.utils.initOption=function(a,b){if(a._calls&&a._calls[b])a[b]=a._calls[b];else{a[b]=function(c){if(!arguments.length)return a._options[b];a._overrides[b]=true;a._options[b]=c;return a};a["_"+b]=function(c){if(!arguments.length)return a._options[b];a._overrides[b]||(a._options[b]=c);return a}}};c.utils.initOptions=function(a){a._overrides=a._overrides||{};var b=Object.getOwnPropertyNames(a._options||{}),e=Object.getOwnPropertyNames(a._calls||
{}),b=b.concat(e),j;for(j in b)c.utils.initOption(a,b[j])};c.utils.inheritOptionsD3=function(a,b,c){a._d3options=c.concat(a._d3options||[]);c.unshift(b);c.unshift(a);d3.rebind.apply(this,c)};c.utils.arrayUnique=function(a){return a.sort().filter(function(b,c){return!c||b!=a[c-1]})};c.utils.symbolMap=d3.map();c.utils.symbol=function(){function a(a,f){var h=b.call(this,a,f),g=e.call(this,a,f);return d3.svg.symbolTypes.indexOf(h)!==-1?d3.svg.symbol().type(h).size(g)():c.utils.symbolMap.get(h)(g)}var b,
e=64;a.type=function(c){if(!arguments.length)return b;b=d3.functor(c);return a};a.size=function(b){if(!arguments.length)return e;e=d3.functor(b);return a};return a};c.utils.inheritOptions=function(a,b){var e=Object.getOwnPropertyNames(b._options||{}),j=Object.getOwnPropertyNames(b._calls||{}),f=b._inherited||[],h=b._d3options||[],g=e.concat(j).concat(f).concat(h);g.unshift(b);g.unshift(a);d3.rebind.apply(this,g);a._inherited=c.utils.arrayUnique(e.concat(j).concat(f).concat(e).concat(a._inherited||
[]));a._d3options=c.utils.arrayUnique(h.concat(a._d3options||[]))};c.utils.initSVG=function(a){a.classed({"nvd3-svg":true})};c.utils.sanitizeHeight=function(a,b){return a||parseInt(b.style("height"),10)||400};c.utils.sanitizeWidth=function(a,b){return a||parseInt(b.style("width"),10)||960};c.utils.availableHeight=function(a,b,e){return c.utils.sanitizeHeight(a,b)-e.top-e.bottom};c.utils.availableWidth=function(a,b,e){return c.utils.sanitizeWidth(a,b)-e.left-e.right};c.utils.noData=function(a,b){var e=
a.options(),j=e.margin(),e=e.noData(),e=e==null?["No Data Available."]:[e],f=c.utils.availableHeight(null,b,j),h=c.utils.availableWidth(null,b,j),h=j.left+h/2,j=j.top+f/2;b.selectAll("g").remove();e=b.selectAll(".nv-noData").data(e);e.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");e.attr("x",h).attr("y",j).text(function(a){return a})};c.models.axis=function(){function a(m){D.reset();m.each(function(a){var m=d3.select(this);c.utils.initSVG(m);
a=m.selectAll("g.nv-wrap.nv-axis").data([a]);a.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g");m=a.select("g");p!==null?b.ticks(p):(b.orient()=="top"||b.orient()=="bottom")&&b.ticks(Math.abs(e.range()[1]-e.range()[0])/100);m.watchTransition(D,"axis").call(b);z=z||b.scale();var u=b.tickFormat();u==null&&(u=z.tickFormat());var h=m.selectAll("text.nv-axislabel").data([g||null]);h.exit().remove();var q,A;switch(b.orient()){case "top":h.enter().append("text").attr("class","nv-axislabel");
A=0;e.range().length===1?A=o?e.range()[0]*2+e.rangeBand():0:e.range().length===2?A=o?e.range()[0]+e.range()[1]+e.rangeBand():e.range()[1]:e.range().length>2&&(A=e.range()[e.range().length-1]+(e.range()[1]-e.range()[0]));h.attr("text-anchor","middle").attr("y",0).attr("x",A/2);if(d){q=a.selectAll("g.nv-axisMaxMin").data(e.domain());q.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin nv-axisMaxMin-x",b==0?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text");q.exit().remove();
q.attr("transform",function(a){return"translate("+c.utils.NaNtoZero(e(a))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-b.tickPadding()).attr("text-anchor","middle").text(function(a){a=u(a);return(""+a).match("NaN")?"":a});q.watchTransition(D,"min-max top").attr("transform",function(a,b){return"translate("+c.utils.NaNtoZero(e.range()[b])+",0)"})}break;case "bottom":q=r+36;var n=30,v=0,C=m.selectAll("g").select("text"),B="";if(i%360){C.each(function(){var a=this.getBoundingClientRect(),b=a.width;
v=a.height;b>n&&(n=b)});B="rotate("+i+" 0,"+(v/2+b.tickPadding())+")";q=Math.abs(Math.sin(i*Math.PI/180));q=(q?q*n:n)+30;C.attr("transform",B).style("text-anchor",i%360>0?"start":"end")}h.enter().append("text").attr("class","nv-axislabel");A=0;e.range().length===1?A=o?e.range()[0]*2+e.rangeBand():0:e.range().length===2?A=o?e.range()[0]+e.range()[1]+e.rangeBand():e.range()[1]:e.range().length>2&&(A=e.range()[e.range().length-1]+(e.range()[1]-e.range()[0]));h.attr("text-anchor","middle").attr("y",q).attr("x",
A/2);if(d){q=a.selectAll("g.nv-axisMaxMin").data([e.domain()[0],e.domain()[e.domain().length-1]]);q.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin nv-axisMaxMin-x",b==0?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text");q.exit().remove();q.attr("transform",function(a){return"translate("+c.utils.NaNtoZero(e(a)+(o?e.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",b.tickPadding()).attr("transform",B).style("text-anchor",i?i%360>0?"start":"end":"middle").text(function(a){a=
u(a);return(""+a).match("NaN")?"":a});q.watchTransition(D,"min-max bottom").attr("transform",function(a){return"translate("+c.utils.NaNtoZero(e(a)+(o?e.rangeBand()/2:0))+",0)"})}t&&C.attr("transform",function(a,b){return"translate(0,"+(b%2==0?"0":"12")+")"});break;case "right":h.enter().append("text").attr("class","nv-axislabel");h.style("text-anchor",l?"middle":"begin").attr("transform",l?"rotate(90)":"").attr("y",l?-Math.max(j.right,f)+12:-10).attr("x",l?d3.max(e.range())/2:b.tickPadding());if(d){q=
a.selectAll("g.nv-axisMaxMin").data(e.domain());q.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin nv-axisMaxMin-y",b==0?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0);q.exit().remove();q.attr("transform",function(a){return"translate(0,"+c.utils.NaNtoZero(e(a))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",b.tickPadding()).style("text-anchor","start").text(function(a){a=u(a);return(""+a).match("NaN")?"":a});q.watchTransition(D,"min-max right").attr("transform",
function(a,b){return"translate(0,"+c.utils.NaNtoZero(e.range()[b])+")"}).select("text").style("opacity",1)}break;case "left":h.enter().append("text").attr("class","nv-axislabel");h.style("text-anchor",l?"middle":"end").attr("transform",l?"rotate(-90)":"").attr("y",l?-Math.max(j.left,f)+25-(r||0):-10).attr("x",l?-d3.max(e.range())/2:-b.tickPadding());if(d){q=a.selectAll("g.nv-axisMaxMin").data(e.domain());q.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin nv-axisMaxMin-y",b==0?
"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0);q.exit().remove();q.attr("transform",function(a){return"translate(0,"+c.utils.NaNtoZero(z(a))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-b.tickPadding()).attr("text-anchor","end").text(function(a){a=u(a);return(""+a).match("NaN")?"":a});q.watchTransition(D,"min-max right").attr("transform",function(a,b){return"translate(0,"+c.utils.NaNtoZero(e.range()[b])+")"}).select("text").style("opacity",1)}}h.text(function(a){return a});
if(d&&(b.orient()==="left"||b.orient()==="right")){m.selectAll("g").each(function(a){d3.select(this).select("text").attr("opacity",1);if(e(a)<e.range()[1]+10||e(a)>e.range()[0]-10){(a>1.0E-10||a<-1.0E-10)&&d3.select(this).attr("opacity",0);d3.select(this).select("text").attr("opacity",0)}});e.domain()[0]==e.domain()[1]&&e.domain()[0]==0&&a.selectAll("g.nv-axisMaxMin").style("opacity",function(a,b){return!b?1:0})}if(d&&(b.orient()==="top"||b.orient()==="bottom")){var s=[];a.selectAll("g.nv-axisMaxMin").each(function(a,
b){try{b?s.push(e(a)-this.getBoundingClientRect().width-4):s.push(e(a)+this.getBoundingClientRect().width+4)}catch(c){b?s.push(e(a)-4):s.push(e(a)+4)}});m.selectAll("g").each(function(a){if(e(a)<s[0]||e(a)>s[1])a>1.0E-10||a<-1.0E-10?d3.select(this).remove():d3.select(this).select("text").remove()})}m.selectAll(".tick").filter(function(a){return!parseFloat(Math.round(a*1E5)/1E6)&&a!==void 0}).classed("zero",true);z=e.copy()});D.renderEnd("axis immediate");return a}var b=d3.svg.axis(),e=d3.scale.linear(),
j={top:0,right:0,bottom:0,left:0},f=75,h=60,g=null,d=true,i=0,l=true,t=false,o=false,p=null,r=0,m=250,u=d3.dispatch("renderEnd");b.scale(e).orient("bottom").tickFormat(function(a){return a});var z,D=c.utils.renderWatch(u,m);a.axis=b;a.dispatch=u;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{axisLabelDistance:{get:function(){return r},set:function(a){r=a}},staggerLabels:{get:function(){return t},set:function(a){t=a}},rotateLabels:{get:function(){return i},set:function(a){i=a}},
rotateYLabel:{get:function(){return l},set:function(a){l=a}},showMaxMin:{get:function(){return d},set:function(a){d=a}},axisLabel:{get:function(){return g},set:function(a){g=a}},height:{get:function(){return h},set:function(a){h=a}},ticks:{get:function(){return p},set:function(a){p=a}},width:{get:function(){return f},set:function(a){f=a}},margin:{get:function(){return j},set:function(a){j.top=a.top!==void 0?a.top:j.top;j.right=a.right!==void 0?a.right:j.right;j.bottom=a.bottom!==void 0?a.bottom:j.bottom;
j.left=a.left!==void 0?a.left:j.left}},duration:{get:function(){return m},set:function(a){m=a;D.reset(m)}},scale:{get:function(){return e},set:function(d){e=d;b.scale(e);o=typeof e.rangeBands==="function";c.utils.inheritOptionsD3(a,e,["domain","range","rangeBand","rangeBands"])}}});c.utils.initOptions(a);c.utils.inheritOptionsD3(a,b,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]);c.utils.inheritOptionsD3(a,e,["domain","range","rangeBand","rangeBands"]);return a};c.models.boxPlot=
function(){function a(f){k.reset();f.each(function(a){var f=e-b.left-b.right,i=j-b.top-b.bottom;t=d3.select(this);c.utils.initSVG(t);h.domain(o||a.map(function(a,b){return d(a,b)})).rangeBands(r||[0,f],0.1);f=[];if(!p)var f=d3.min(a.map(function(a){var b=[];b.push(a.values.Q1);a.values.hasOwnProperty("whisker_low")&&a.values.whisker_low!==null&&b.push(a.values.whisker_low);a.values.hasOwnProperty("outliers")&&a.values.outliers!==null&&(b=b.concat(a.values.outliers));return d3.min(b)})),y=d3.max(a.map(function(a){var b=
[];b.push(a.values.Q3);a.values.hasOwnProperty("whisker_high")&&a.values.whisker_high!==null&&b.push(a.values.whisker_high);a.values.hasOwnProperty("outliers")&&a.values.outliers!==null&&(b=b.concat(a.values.outliers));return d3.max(b)})),f=[f,y];g.domain(p||f);g.range(m||[i,0]);q=q||g.copy().range([g(0),g(0)]);i=t.selectAll("g.nv-wrap").data([a]);i.enter().append("g").attr("class","nvd3 nv-wrap");i.attr("transform","translate("+b.left+","+b.top+")");var n=i.selectAll(".nv-boxplot").data(function(a){return a}),
v=n.enter().append("g").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6);n.attr("class","nv-boxplot").attr("transform",function(a,b){return"translate("+(h(d(a,b))+h.rangeBand()*0.05)+", 0)"}).classed("hover",function(a){return a.hover});n.watchTransition(k,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",0.75).delay(function(b,c){return c*z/a.length}).attr("transform",function(a,b){return"translate("+(h(d(a,b))+h.rangeBand()*0.05)+", 0)"});n.exit().remove();v.each(function(a,
b){var c=d3.select(this);["low","high"].forEach(function(s){if(a.values.hasOwnProperty("whisker_"+s)&&a.values["whisker_"+s]!==null){c.append("line").style("stroke",a.color?a.color:l(a,b)).attr("class","nv-boxplot-whisker nv-boxplot-"+s);c.append("line").style("stroke",a.color?a.color:l(a,b)).attr("class","nv-boxplot-tick nv-boxplot-"+s)}})});i=n.selectAll(".nv-boxplot-outlier").data(function(a){return a.values.hasOwnProperty("outliers")&&a.values.outliers!==null?a.values.outliers:[]});i.enter().append("circle").style("fill",
function(a,b,c){return l(a,c)}).style("stroke",function(a,b,c){return l(a,c)}).on("mouseover",function(a,b,c){d3.select(this).classed("hover",true);u.elementMouseover({series:{key:a,color:l(a,c)},e:d3.event})}).on("mouseout",function(a,b,c){d3.select(this).classed("hover",false);u.elementMouseout({series:{key:a,color:l(a,c)},e:d3.event})}).on("mousemove",function(){u.elementMousemove({e:d3.event})});i.attr("class","nv-boxplot-outlier");i.watchTransition(k,"nv-boxplot: nv-boxplot-outlier").attr("cx",
h.rangeBand()*0.45).attr("cy",function(a){return g(a)}).attr("r","3");i.exit().remove();var C=function(){return D===null?h.rangeBand()*0.9:Math.min(75,h.rangeBand()*0.9)},B=function(){return h.rangeBand()*0.45-C()/2},s=function(){return h.rangeBand()*0.45+C()/2};["low","high"].forEach(function(a){var b=a==="low"?"Q1":"Q3";n.select("line.nv-boxplot-whisker.nv-boxplot-"+a).watchTransition(k,"nv-boxplot: boxplots").attr("x1",h.rangeBand()*0.45).attr("y1",function(b){return g(b.values["whisker_"+a])}).attr("x2",
h.rangeBand()*0.45).attr("y2",function(a){return g(a.values[b])});n.select("line.nv-boxplot-tick.nv-boxplot-"+a).watchTransition(k,"nv-boxplot: boxplots").attr("x1",B).attr("y1",function(b){return g(b.values["whisker_"+a])}).attr("x2",s).attr("y2",function(b){return g(b.values["whisker_"+a])})});["low","high"].forEach(function(a){v.selectAll(".nv-boxplot-"+a).on("mouseover",function(b,c,s){d3.select(this).classed("hover",true);u.elementMouseover({series:{key:b.values["whisker_"+a],color:l(b,s)},e:d3.event})}).on("mouseout",
function(b,c,s){d3.select(this).classed("hover",false);u.elementMouseout({series:{key:b.values["whisker_"+a],color:l(b,s)},e:d3.event})}).on("mousemove",function(){u.elementMousemove({e:d3.event})})});v.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(a,b){d3.select(this).classed("hover",true);u.elementMouseover({key:a.label,value:a.label,series:[{key:"Q3",value:a.values.Q3,color:a.color||l(a,b)},{key:"Q2",value:a.values.Q2,color:a.color||l(a,b)},{key:"Q1",value:a.values.Q1,color:a.color||
l(a,b)}],data:a,index:b,e:d3.event})}).on("mouseout",function(a,b){d3.select(this).classed("hover",false);u.elementMouseout({key:a.label,value:a.label,series:[{key:"Q3",value:a.values.Q3,color:a.color||l(a,b)},{key:"Q2",value:a.values.Q2,color:a.color||l(a,b)},{key:"Q1",value:a.values.Q1,color:a.color||l(a,b)}],data:a,index:b,e:d3.event})}).on("mousemove",function(){u.elementMousemove({e:d3.event})});n.select("rect.nv-boxplot-box").watchTransition(k,"nv-boxplot: boxes").attr("y",function(a){return g(a.values.Q3)}).attr("width",
C).attr("x",B).attr("height",function(a){return Math.abs(g(a.values.Q3)-g(a.values.Q1))||1}).style("fill",function(a,b){return a.color||l(a,b)}).style("stroke",function(a,b){return a.color||l(a,b)});v.append("line").attr("class","nv-boxplot-median");n.select("line.nv-boxplot-median").watchTransition(k,"nv-boxplot: boxplots line").attr("x1",B).attr("y1",function(a){return g(a.values.Q2)}).attr("x2",s).attr("y2",function(a){return g(a.values.Q2)});h.copy();q=g.copy()});k.renderEnd("nv-boxplot immediate");
return a}var b={top:0,right:0,bottom:0,left:0},e=960,j=500,f=Math.floor(Math.random()*1E4),h=d3.scale.ordinal(),g=d3.scale.linear(),d=function(a){return a.x},i=function(a){return a.y},l=c.utils.defaultColor(),t=null,o,p,r,m,u=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),z=250,D=null,q,k=c.utils.renderWatch(u,z);a.dispatch=u;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return j},
set:function(a){j=a}},maxBoxWidth:{get:function(){return D},set:function(a){D=a}},x:{get:function(){return d},set:function(a){d=a}},y:{get:function(){return i},set:function(a){i=a}},xScale:{get:function(){return h},set:function(a){h=a}},yScale:{get:function(){return g},set:function(a){g=a}},xDomain:{get:function(){return o},set:function(a){o=a}},yDomain:{get:function(){return p},set:function(a){p=a}},xRange:{get:function(){return r},set:function(a){r=a}},yRange:{get:function(){return m},set:function(a){m=
a}},id:{get:function(){return f},set:function(a){f=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return l},set:function(a){l=c.utils.getColor(a)}},duration:{get:function(){return z},set:function(a){z=a;k.reset(z)}}});c.utils.initOptions(a);return a};c.models.boxPlotChart=function(){function a(d){q.reset();q.models(b);
i&&q.models(e);l&&q.models(j);d.each(function(d){var k=d3.select(this);c.utils.initSVG(k);var q=(h||parseInt(k.style("width"))||960)-f.left-f.right,p=(g||parseInt(k.style("height"))||400)-f.top-f.bottom;a.update=function(){z.beforeUpdate();k.transition().duration(D).call(a)};a.container=this;if(!d||!d.length||!d.filter(function(a){return a.values.hasOwnProperty("Q1")&&a.values.hasOwnProperty("Q2")&&a.values.hasOwnProperty("Q3")}).length){d=k.selectAll(".nv-noData").data([u]);d.enter().append("text").attr("class",
"nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");d.attr("x",f.left+q/2).attr("y",f.top+p/2).text(function(a){return a});return a}k.selectAll(".nv-noData").remove();r=b.xScale();m=b.yScale().clamp(true);var A=k.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([d]),n=A.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),v=n.append("defs"),A=A.select("g");n.append("g").attr("class","nv-x nv-axis");n.append("g").attr("class","nv-y nv-axis").append("g").attr("class",
"nv-zeroLine").append("line");n.append("g").attr("class","nv-barsWrap");A.attr("transform","translate("+f.left+","+f.top+")");t&&A.select(".nv-y.nv-axis").attr("transform","translate("+q+",0)");b.width(q).height(p);A.select(".nv-barsWrap").datum(d.filter(function(a){return!a.disabled})).transition().call(b);v.append("clipPath").attr("id","nv-x-label-clip-"+b.id()).append("rect");A.select("#nv-x-label-clip-"+b.id()+" rect").attr("width",r.rangeBand()*(o?2:1)).attr("height",16).attr("x",-r.rangeBand()/
(o?1:2));if(i){e.scale(r).ticks(c.utils.calcTicksX(q/100,d)).tickSize(-p,0);A.select(".nv-x.nv-axis").attr("transform","translate(0,"+m.range()[0]+")");A.select(".nv-x.nv-axis").call(e);d=A.select(".nv-x.nv-axis").selectAll("g");o&&d.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(c%2==0?"5":"17")+")"})}if(l){j.scale(m).ticks(Math.floor(p/36)).tickSize(-q,0);A.select(".nv-y.nv-axis").call(j)}A.select(".nv-zeroLine line").attr("x1",0).attr("x2",q).attr("y1",m(0)).attr("y2",
m(0))});q.renderEnd("nv-boxplot chart immediate");return a}var b=c.models.boxPlot(),e=c.models.axis(),j=c.models.axis(),f={top:15,right:10,bottom:50,left:60},h=null,g=null,d=c.utils.getColor(),i=true,l=true,t=false,o=false,p=c.models.tooltip(),r,m,u="No Data Available.",z=d3.dispatch("tooltipShow","tooltipHide","beforeUpdate","renderEnd"),D=250;e.orient("bottom").showMaxMin(false).tickFormat(function(a){return a});j.orient(t?"right":"left").tickFormat(d3.format(",.1f"));p.duration(0);var q=c.utils.renderWatch(z,
D);b.dispatch.on("elementMouseover.tooltip",function(a){p.data(a).hidden(false)});b.dispatch.on("elementMouseout.tooltip",function(a){p.data(a).hidden(true)});b.dispatch.on("elementMousemove.tooltip",function(){p.position({top:d3.event.pageY,left:d3.event.pageX})()});a.dispatch=z;a.boxplot=b;a.xAxis=e;a.yAxis=j;a.tooltip=p;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return h},set:function(a){h=a}},height:{get:function(){return g},set:function(a){g=a}},
staggerLabels:{get:function(){return o},set:function(a){o=a}},showXAxis:{get:function(){return i},set:function(a){i=a}},showYAxis:{get:function(){return l},set:function(a){l=a}},tooltips:{get:function(){return tooltips},set:function(a){tooltips=a}},tooltipContent:{get:function(){return p},set:function(a){p=a}},noData:{get:function(){return u},set:function(a){u=a}},margin:{get:function(){return f},set:function(a){f.top=a.top!==void 0?a.top:f.top;f.right=a.right!==void 0?a.right:f.right;f.bottom=a.bottom!==
void 0?a.bottom:f.bottom;f.left=a.left!==void 0?a.left:f.left}},duration:{get:function(){return D},set:function(a){D=a;q.reset(D);b.duration(D);e.duration(D);j.duration(D)}},color:{get:function(){return d},set:function(a){d=c.utils.getColor(a);b.color(d)}},rightAlignYAxis:{get:function(){return t},set:function(a){t=a;j.orient(a?"right":"left")}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.bullet=function(){function a(e){e.each(function(a,e){var m=i-b.left-b.right,q=l-b.top-
b.bottom;t=d3.select(this);c.utils.initSVG(t);var k=f.call(this,a,e).slice().sort(d3.descending),o=h.call(this,a,e).slice().sort(d3.descending),E=g.call(this,a,e).slice().sort(d3.descending),x=(a.rangeLabels?a.rangeLabels:[]).slice(),F=(a.markerLabels?a.markerLabels:[]).slice(),A=(a.measureLabels?a.measureLabels:[]).slice(),n=d3.scale.linear().domain(d3.extent(d3.merge([d,k]))).range(j?[m,0]:[0,m]);this.__chart__||d3.scale.linear().domain([0,Infinity]).range(n.range());this.__chart__=n;var v=d3.min(k),
C=d3.max(k),B=k[1],k=t.selectAll("g.nv-wrap.nv-bullet").data([a]),m=k.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),s=k.select("g");m.append("rect").attr("class","nv-range nv-rangeMax");m.append("rect").attr("class","nv-range nv-rangeAvg");m.append("rect").attr("class","nv-range nv-rangeMin");m.append("rect").attr("class","nv-measure");k.attr("transform","translate("+b.left+","+b.top+")");var K=function(a){return Math.abs(n(a)-n(0))},w=function(a){return a<0?n(a):n(0)};s.select("rect.nv-rangeMax").attr("height",
q).attr("width",K(C>0?C:v)).attr("x",w(C>0?C:v)).datum(C>0?C:v);s.select("rect.nv-rangeAvg").attr("height",q).attr("width",K(B)).attr("x",w(B)).datum(B);s.select("rect.nv-rangeMin").attr("height",q).attr("width",K(C)).attr("x",w(C)).attr("width",K(C>0?v:C)).attr("x",w(C>0?v:C)).datum(C>0?v:C);s.select("rect.nv-measure").style("fill",p).attr("height",q/3).attr("y",q/3).attr("width",E<0?n(0)-n(E[0]):n(E[0])-n(0)).attr("x",w(E)).on("mouseover",function(){r.elementMouseover({value:E[0],label:A[0]||"Current",
color:d3.select(this).style("fill")})}).on("mousemove",function(){r.elementMousemove({value:E[0],label:A[0]||"Current",color:d3.select(this).style("fill")})}).on("mouseout",function(){r.elementMouseout({value:E[0],label:A[0]||"Current",color:d3.select(this).style("fill")})});v=q/6;o=o.map(function(a,b){return{value:a,label:F[b]}});m.selectAll("path.nv-markerTriangle").data(o).enter().append("path").attr("class","nv-markerTriangle").attr("transform",function(a){return"translate("+n(a.value)+","+q/
2+")"}).attr("d","M0,"+v+"L"+v+","+-v+" "+-v+","+-v+"Z").on("mouseover",function(a){r.elementMouseover({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill"),pos:[n(a.value),q/2]})}).on("mousemove",function(a){r.elementMousemove({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(a){r.elementMouseout({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill")})});k.selectAll(".nv-range").on("mouseover",function(a,
b){r.elementMouseover({value:a,label:x[b]||(!b?"Maximum":b==1?"Mean":"Minimum"),color:d3.select(this).style("fill")})}).on("mousemove",function(){r.elementMousemove({value:E[0],label:A[0]||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){r.elementMouseout({value:a,label:x[b]||(!b?"Maximum":b==1?"Mean":"Minimum"),color:d3.select(this).style("fill")})})});return a}var b={top:0,right:0,bottom:0,left:0},e="left",j=false,f=function(a){return a.ranges},h=function(a){return a.markers?
a.markers:[0]},g=function(a){return a.measures},d=[0],i=380,l=30,t=null,o=null,p=c.utils.getColor(["#1f77b4"]),r=d3.dispatch("elementMouseover","elementMouseout","elementMousemove");a.dispatch=r;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{ranges:{get:function(){return f},set:function(a){f=a}},markers:{get:function(){return h},set:function(a){h=a}},measures:{get:function(){return g},set:function(a){g=a}},forceX:{get:function(){return d},set:function(a){d=a}},width:{get:function(){return i},
set:function(a){i=a}},height:{get:function(){return l},set:function(a){l=a}},tickFormat:{get:function(){return o},set:function(a){o=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},orient:{get:function(){return e},set:function(a){e=a;j=e=="right"||e=="bottom"}},color:{get:function(){return p},set:function(a){p=c.utils.getColor(a)}}});c.utils.initOptions(a);
return a};c.models.bulletChart=function(){function a(e){e.each(function(m,j){var q=d3.select(this);c.utils.initSVG(q);var k=c.utils.availableWidth(l,q,h),y=t-h.top-h.bottom;a.update=function(){a(e)};a.container=this;if(!m||!g.call(this,m,j)){c.utils.noData(a,q);return a}q.selectAll(".nv-noData").remove();var r=g.call(this,m,j).slice().sort(d3.descending),x=d.call(this,m,j).slice().sort(d3.descending),F=i.call(this,m,j).slice().sort(d3.descending),A=q.selectAll("g.nv-wrap.nv-bulletChart").data([m]),
n=A.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),q=A.select("g");n.append("g").attr("class","nv-bulletWrap");n.append("g").attr("class","nv-titles");A.attr("transform","translate("+h.left+","+h.top+")");var v=d3.scale.linear().domain([0,Math.max(r[0],x[0],F[0])]).range(f?[k,0]:[0,k]),C=this.__chart__||d3.scale.linear().domain([0,Infinity]).range(v.range());this.__chart__=v;r=n.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+
(t-h.top-h.bottom)/2+")");r.append("text").attr("class","nv-title").text(function(a){return a.title});r.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(a){return a.subtitle});b.width(k).height(y);r=q.select(".nv-bulletWrap");d3.transition(r).call(b);var B=o||v.tickFormat(k/100),k=q.selectAll("g.nv-tick").data(v.ticks(p?p:k/50),function(a){return this.textContent||B(a)}),q=k.enter().append("g").attr("class","nv-tick").attr("transform",function(a){return"translate("+C(a)+",0)"}).style("opacity",
1.0E-6);q.append("line").attr("y1",y).attr("y2",y*7/6);q.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",y*7/6).text(B);q=d3.transition(k).attr("transform",function(a){return"translate("+v(a)+",0)"}).style("opacity",1);q.select("line").attr("y1",y).attr("y2",y*7/6);q.select("text").attr("y",y*7/6);d3.transition(k.exit()).attr("transform",function(a){return"translate("+v(a)+",0)"}).style("opacity",1.0E-6).remove()});d3.timer.flush();return a}var b=c.models.bullet(),e=c.models.tooltip(),
j="left",f=false,h={top:5,right:40,bottom:20,left:120},g=function(a){return a.ranges},d=function(a){return a.markers?a.markers:[0]},i=function(a){return a.measures},l=null,t=55,o=null,p=null,r=null,m=d3.dispatch("tooltipShow","tooltipHide");e.duration(0).headerEnabled(false);b.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:a.label,value:a.value,color:a.color};e.data(a).hidden(false)});b.dispatch.on("elementMouseout.tooltip",function(){e.hidden(true)});b.dispatch.on("elementMousemove.tooltip",
function(){e.position({top:d3.event.pageY,left:d3.event.pageX})()});a.bullet=b;a.dispatch=m;a.tooltip=e;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{ranges:{get:function(){return g},set:function(a){g=a}},markers:{get:function(){return d},set:function(a){d=a}},measures:{get:function(){return i},set:function(a){i=a}},width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return t},set:function(a){t=a}},tickFormat:{get:function(){return o},set:function(a){o=
a}},ticks:{get:function(){return p},set:function(a){p=a}},noData:{get:function(){return r},set:function(a){r=a}},tooltips:{get:function(){return e.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");e.enabled(!!a)}},tooltipContent:{get:function(){return e.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");e.contentGenerator(a)}},margin:{get:function(){return h},set:function(a){h.top=a.top!==void 0?
a.top:h.top;h.right=a.right!==void 0?a.right:h.right;h.bottom=a.bottom!==void 0?a.bottom:h.bottom;h.left=a.left!==void 0?a.left:h.left}},orient:{get:function(){return j},set:function(a){j=a;f=j=="right"||j=="bottom"}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.candlestickBar=function(){function a(n){n.each(function(a){h=d3.select(this);var n=c.utils.availableWidth(e,h,b),k=c.utils.availableHeight(j,h,b);c.utils.initSVG(h);var s=n/a[0].values.length*0.45;g.domain(y||d3.extent(a[0].values.map(i).concat(m)));
z?g.range(x||[n*0.5/a[0].values.length,n*(a[0].values.length-0.5)/a[0].values.length]):g.range(x||[5+s/2,n-s/2-5]);d.domain(E||[d3.min(a[0].values.map(r).concat(u)),d3.max(a[0].values.map(p).concat(u))]).range(F||[k,0]);g.domain()[0]===g.domain()[1]&&(g.domain()[0]?g.domain([g.domain()[0]-g.domain()[0]*0.01,g.domain()[1]+g.domain()[1]*0.01]):g.domain([-1,1]));d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+d.domain()[0]*0.01,d.domain()[1]-d.domain()[1]*0.01]):d.domain([-1,1]));
var a=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([a[0].values]),q=a.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),w=q.append("defs"),q=q.append("g"),J=a.select("g");q.append("g").attr("class","nv-ticks");a.attr("transform","translate("+b.left+","+b.top+")");h.on("click",function(a,b){A.chartClick({data:a,index:b,pos:d3.event,id:f})});w.append("clipPath").attr("id","nv-chart-clip-path-"+f).append("rect");a.select("#nv-chart-clip-path-"+f+" rect").attr("width",
n).attr("height",k);J.attr("clip-path",D?"url(#nv-chart-clip-path-"+f+")":"");n=a.select(".nv-ticks").selectAll(".nv-tick").data(function(a){return a});n.exit().remove();n=n.enter().append("g").attr("class",function(a,b,c){return(t(a,b)>o(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b});n.append("line").attr("class","nv-candlestick-lines").attr("transform",function(a,b){return"translate("+g(i(a,b))+",0)"}).attr("x1",0).attr("y1",function(a,b){return d(p(a,b))}).attr("x2",0).attr("y2",
function(a,b){return d(r(a,b))});n.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(a,b){return"translate("+(g(i(a,b))-s/2)+","+(d(l(a,b))-(t(a,b)>o(a,b)?d(o(a,b))-d(t(a,b)):0))+")"}).attr("x",0).attr("y",0).attr("width",s).attr("height",function(a,b){var c=t(a,b),H=o(a,b);return c>H?d(H)-d(c):d(c)-d(H)});h.selectAll(".nv-candlestick-lines").transition().attr("transform",function(a,b){return"translate("+g(i(a,b))+",0)"}).attr("x1",0).attr("y1",function(a,b){return d(p(a,
b))}).attr("x2",0).attr("y2",function(a,b){return d(r(a,b))});h.selectAll(".nv-candlestick-rects").transition().attr("transform",function(a,b){return"translate("+(g(i(a,b))-s/2)+","+(d(l(a,b))-(t(a,b)>o(a,b)?d(o(a,b))-d(t(a,b)):0))+")"}).attr("x",0).attr("y",0).attr("width",s).attr("height",function(a,b){var c=t(a,b),H=o(a,b);return c>H?d(H)-d(c):d(c)-d(H)})});return a}var b={top:0,right:0,bottom:0,left:0},e=null,j=null,f=Math.floor(Math.random()*1E4),h,g=d3.scale.linear(),d=d3.scale.linear(),i=function(a){return a.x},
l=function(a){return a.y},t=function(a){return a.open},o=function(a){return a.close},p=function(a){return a.high},r=function(a){return a.low},m=[],u=[],z=false,D=true,q=c.utils.defaultColor(),k=false,y,E,x,F,A=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");a.highlightPoint=function(b,c){a.clearHighlights();h.select(".nv-candlestickBar .nv-tick-0-"+b).classed("hover",
c)};a.clearHighlights=function(){h.select(".nv-candlestickBar .nv-tick.hover").classed("hover",false)};a.dispatch=A;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return j},set:function(a){j=a}},xScale:{get:function(){return g},set:function(a){g=a}},yScale:{get:function(){return d},set:function(a){d=a}},xDomain:{get:function(){return y},set:function(a){y=a}},yDomain:{get:function(){return E},set:function(a){E=
a}},xRange:{get:function(){return x},set:function(a){x=a}},yRange:{get:function(){return F},set:function(a){F=a}},forceX:{get:function(){return m},set:function(a){m=a}},forceY:{get:function(){return u},set:function(a){u=a}},padData:{get:function(){return z},set:function(a){z=a}},clipEdge:{get:function(){return D},set:function(a){D=a}},id:{get:function(){return f},set:function(a){f=a}},interactive:{get:function(){return k},set:function(a){k=a}},x:{get:function(){return i},set:function(a){i=a}},y:{get:function(){return l},
set:function(a){l=a}},open:{get:function(){return t()},set:function(a){t=a}},close:{get:function(){return o()},set:function(a){o=a}},high:{get:function(){return p},set:function(a){p=a}},low:{get:function(){return r},set:function(a){r=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!=void 0?a.top:b.top;b.right=a.right!=void 0?a.right:b.right;b.bottom=a.bottom!=void 0?a.bottom:b.bottom;b.left=a.left!=void 0?a.left:b.left}},color:{get:function(){return q},set:function(a){q=c.utils.getColor(a)}}});
c.utils.initOptions(a);return a};c.models.cumulativeLineChart=function(){function a(H){J.reset();J.models(e);m&&J.models(j);u&&J.models(f);H.each(function(H){function s(){$.data([w]);var b=a.duration();a.duration(0);a.update();a.duration(b)}var I=d3.select(this);c.utils.initSVG(I);I.classed("nv-chart-"+x,true);var n=this,i=c.utils.availableWidth(o,I,l),J=c.utils.availableHeight(p,I,l);a.update=function(){B===0?I.call(a):I.transition().duration(B).call(a)};a.container=this;F.setter(G(H),a.update).getter(L(H)).update();
F.disabled=H.map(function(a){return!!a.disabled});if(!A){var V;A={};for(V in F)A[V]=F[V]instanceof Array?F[V].slice(0):F[V]}V=d3.behavior.drag().on("dragstart",function(){d3.select(a.container).style("cursor","ew-resize")}).on("drag",function(){w.x=d3.event.x;w.i=Math.round(K.invert(w.x));s()}).on("dragend",function(){d3.select(a.container).style("cursor","auto");F.index=w.i;C.stateChange(F)});if(!H||!H.length||!H.filter(function(a){return a.values.length}).length){c.utils.noData(a,I);return a}I.selectAll(".nv-noData").remove();
y=e.xScale();E=e.yScale();if(k)e.yDomain(null);else{var Q=H.filter(function(a){return!a.disabled}).map(function(a){a=d3.extent(a.values,e.y());a[0]<-0.95&&(a[0]=-0.95);return[(a[0]-a[1])/(1+a[1]),(a[1]-a[0])/(1+a[0])]}),Q=[d3.min(Q,function(a){return a[0]}),d3.max(Q,function(a){return a[1]})];e.yDomain(Q)}K.domain([0,H[0].values.length-1]).range([0,i]).clamp(true);var H=b(w.i,H),T=q?"none":"all",W=I.selectAll("g.nv-wrap.nv-cumulativeLine").data([H]),Z=W.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),
Q=W.select("g");Z.append("g").attr("class","nv-interactive");Z.append("g").attr("class","nv-x nv-axis").style("pointer-events","none");Z.append("g").attr("class","nv-y nv-axis");Z.append("g").attr("class","nv-background");Z.append("g").attr("class","nv-linesWrap").style("pointer-events",T);Z.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none");Z.append("g").attr("class","nv-legendWrap");Z.append("g").attr("class","nv-controlsWrap");if(r){h.width(i);Q.select(".nv-legendWrap").datum(H).call(h);
if(l.top!=h.height()){l.top=h.height();J=c.utils.availableHeight(p,I,l)}Q.select(".nv-legendWrap").attr("transform","translate(0,"+-l.top+")")}if(D){T=[{key:"Re-scale y-axis",disabled:!k}];g.width(140).color(["#444","#444","#444"]).rightAlign(false).margin({top:5,right:0,bottom:5,left:20});Q.select(".nv-controlsWrap").datum(T).attr("transform","translate(0,"+-l.top+")").call(g)}W.attr("transform","translate("+l.left+","+l.top+")");z&&Q.select(".nv-y.nv-axis").attr("transform","translate("+i+",0)");
T=H.filter(function(a){return a.tempDisabled});W.select(".tempDisabled").remove();T.length&&W.append("text").attr("class","tempDisabled").attr("x",i/2).attr("y","-.71em").style("text-anchor","end").text(T.map(function(a){return a.key}).join(", ")+" values cannot be calculated for this time period.");if(q){d.width(i).height(J).margin({left:l.left,top:l.top}).svgContainer(I).xScale(y);W.select(".nv-interactive").call(d)}Z.select(".nv-background").append("rect");Q.select(".nv-background rect").attr("width",
i).attr("height",J);e.y(function(a){return a.display.y}).width(i).height(J).color(H.map(function(a,b){return a.color||t(a,b)}).filter(function(a,b){return!H[b].disabled&&!H[b].tempDisabled}));W=Q.select(".nv-linesWrap").datum(H.filter(function(a){return!a.disabled&&!a.tempDisabled}));W.call(e);H.forEach(function(a,b){a.seriesIndex=b});Z=H.filter(function(a){return!a.disabled&&!!v(a)});Z=Q.select(".nv-avgLinesWrap").selectAll("line").data(Z,function(a){return a.key});T=function(a){a=E(v(a));return a<
0?0:a>J?J:a};Z.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(a){return e.color()(a,a.seriesIndex)}).attr("x1",0).attr("x2",i).attr("y1",T).attr("y2",T);Z.style("stroke-opacity",function(a){a=E(v(a));return a<0||a>J?0:1}).attr("x1",0).attr("x2",i).attr("y1",T).attr("y2",T);Z.exit().remove();var $=W.selectAll(".nv-indexLine").data([w]);$.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",
0.5).style("pointer-events","all").call(V);$.attr("transform",function(a){return"translate("+K(a.i)+",0)"}).attr("height",J);if(m){j.scale(y)._ticks(c.utils.calcTicksX(i/70,H)).tickSize(-J,0);Q.select(".nv-x.nv-axis").attr("transform","translate(0,"+E.range()[0]+")");Q.select(".nv-x.nv-axis").call(j)}if(u){f.scale(E)._ticks(c.utils.calcTicksY(J/36,H)).tickSize(-i,0);Q.select(".nv-y.nv-axis").call(f)}Q.select(".nv-background rect").on("click",function(){w.x=d3.mouse(this)[0];w.i=Math.round(K.invert(w.x));
F.index=w.i;C.stateChange(F);s()});e.dispatch.on("elementClick",function(a){w.i=a.pointIndex;w.x=K(w.i);F.index=w.i;C.stateChange(F);s()});g.dispatch.on("legendClick",function(b){b.disabled=!b.disabled;k=!b.disabled;F.rescaleY=k;C.stateChange(F);a.update()});h.dispatch.on("stateChange",function(b){for(var c in b)F[c]=b[c];C.stateChange(F);a.update()});d.dispatch.on("elementMousemove",function(b){e.clearHighlights();var w,s,k,I=[];H.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(H,
d){s=c.interactiveBisect(H.values,b.pointXValue,a.x());e.highlightPoint(d,s,true);var n=H.values[s];if(typeof n!=="undefined"){typeof w==="undefined"&&(w=n);typeof k==="undefined"&&(k=a.xScale()(a.x()(n,s)));I.push({key:H.key,value:a.y()(n,s),color:t(H,H.seriesIndex)})}});if(I.length>2){var B=a.yScale().invert(b.mouseY),m=0.03*Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]),B=c.nearestValueIndex(I.map(function(a){return a.value}),B,m);if(B!==null)I[B].highlight=true}B=j.tickFormat()(a.x()(w,
s),s);d.tooltip.position({left:k+l.left,top:b.mouseY+l.top}).chartContainer(n.parentNode).valueFormatter(function(a){return f.tickFormat()(a)}).data({value:B,series:I})();d.renderGuideLine(k)});d.dispatch.on("elementMouseout",function(){e.clearHighlights()});C.on("changeState",function(b){if(typeof b.disabled!=="undefined"){H.forEach(function(a,c){a.disabled=b.disabled[c]});F.disabled=b.disabled}if(typeof b.index!=="undefined"){w.i=b.index;w.x=K(w.i);F.index=b.index;$.data([w])}if(typeof b.rescaleY!==
"undefined")k=b.rescaleY;a.update()})});J.renderEnd("cumulativeLineChart immediate");return a}function b(a,b){I||(I=e.y());return b.map(function(b){if(!b.values)return b;var c=b.values[a];if(c==null)return b;var w=I(c,a);if(w<-0.95&&!s){b.tempDisabled=true;return b}b.tempDisabled=false;b.values=b.values.map(function(a,b){a.display={y:(I(a,b)-w)/(1+w)};return a});return b})}var e=c.models.line(),j=c.models.axis(),f=c.models.axis(),h=c.models.legend(),g=c.models.legend(),d=c.interactiveGuideline(),
i=c.models.tooltip(),l={top:30,right:30,bottom:50,left:60},t=c.utils.defaultColor(),o=null,p=null,r=true,m=true,u=true,z=false,D=true,q=false,k=true,y,E,x=e.id(),F=c.utils.state(),A=null,n=null,v=function(a){return a.average},C=d3.dispatch("stateChange","changeState","renderEnd"),B=250,s=false;F.index=0;F.rescaleY=k;j.orient("bottom").tickPadding(7);f.orient(z?"right":"left");i.valueFormatter(function(a,b){return f.tickFormat()(a,b)}).headerFormatter(function(a,b){return j.tickFormat()(a,b)});g.updateState(false);
var K=d3.scale.linear(),w={i:0,x:0},J=c.utils.renderWatch(C,B),L=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),index:w.i,rescaleY:k}}},G=function(a){return function(b){if(b.index!==void 0)w.i=b.index;if(b.rescaleY!==void 0)k=b.rescaleY;b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};e.dispatch.on("elementMouseover.tooltip",function(b){var c={x:a.x()(b.point),y:a.y()(b.point),color:b.point.color};b.point=c;i.data(b).position(b.pos).hidden(false)});
e.dispatch.on("elementMouseout.tooltip",function(){i.hidden(true)});var I=null;a.dispatch=C;a.lines=e;a.legend=h;a.controls=g;a.xAxis=j;a.yAxis=f;a.interactiveLayer=d;a.state=F;a.tooltip=i;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return o},set:function(a){o=a}},height:{get:function(){return p},set:function(a){p=a}},rescaleY:{get:function(){return k},set:function(a){k=a}},showControls:{get:function(){return D},set:function(a){D=a}},showLegend:{get:function(){return r},
set:function(a){r=a}},average:{get:function(){return v},set:function(a){v=a}},defaultState:{get:function(){return A},set:function(a){A=a}},noData:{get:function(){return n},set:function(a){n=a}},showXAxis:{get:function(){return m},set:function(a){m=a}},showYAxis:{get:function(){return u},set:function(a){u=a}},noErrorCheck:{get:function(){return s},set:function(a){s=a}},tooltips:{get:function(){return i.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");i.enabled(!!a)}},
tooltipContent:{get:function(){return i.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");i.contentGenerator(a)}},margin:{get:function(){return l},set:function(a){l.top=a.top!==void 0?a.top:l.top;l.right=a.right!==void 0?a.right:l.right;l.bottom=a.bottom!==void 0?a.bottom:l.bottom;l.left=a.left!==void 0?a.left:l.left}},color:{get:function(){return t},set:function(a){t=c.utils.getColor(a);h.color(t)}},useInteractiveGuideline:{get:function(){return q},
set:function(b){q=b;if(b===true){a.interactive(false);a.useVoronoi(false)}}},rightAlignYAxis:{get:function(){return z},set:function(a){z=a;f.orient(a?"right":"left")}},duration:{get:function(){return B},set:function(a){B=a;e.duration(B);j.duration(B);f.duration(B);J.reset(B)}}});c.utils.inheritOptions(a,e);c.utils.initOptions(a);return a};c.models.discreteBar=function(){function a(f){x.reset();f.each(function(a){var n=e-b.left-b.right,f=j-b.top-b.bottom;h=d3.select(this);c.utils.initSVG(h);a.forEach(function(a,
b){a.values.forEach(function(a){a.series=b})});var C=m&&u?[]:a.map(function(a){return a.values.map(function(a,b){return{x:i(a,b),y:l(a,b),y0:a.y0}})});g.domain(m||d3.merge(C).map(function(a){return a.x})).rangeBands(z||[0,n],0.1);d.domain(u||d3.extent(d3.merge(C).map(function(a){return a.y}).concat(t)));p?d.range(D||[f-(d.domain()[0]<0?12:0),d.domain()[1]>0?12:0]):d.range(D||[f,0]);E=E||d.copy().range([d(0),d(0)]);n=h.selectAll("g.nv-wrap.nv-discretebar").data([a]);f=n.enter().append("g").attr("class",
"nvd3 nv-wrap nv-discretebar").append("g");n.select("g");f.append("g").attr("class","nv-groups");n.attr("transform","translate("+b.left+","+b.top+")");n=n.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});n.enter().append("g").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6);n.exit().watchTransition(x,"discreteBar: exit groups").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6).remove();n.attr("class",function(a,b){return"nv-group nv-series-"+
b}).classed("hover",function(a){return a.hover});n.watchTransition(x,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",0.75);n=n.selectAll("g.nv-bar").data(function(a){return a.values});n.exit().remove();f=n.enter().append("g").attr("transform",function(a,b){return"translate("+(g(i(a,b))+g.rangeBand()*0.05)+", "+d(0)+")"}).on("mouseover",function(a,b){d3.select(this).classed("hover",true);q.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",
function(a,b){d3.select(this).classed("hover",false);q.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mousemove",function(a,b){q.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){q.elementClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()}).on("dblclick",function(a,b){q.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()});f.append("rect").attr("height",
0).attr("width",g.rangeBand()*0.9/a.length);if(p){f.append("text").attr("text-anchor","middle");n.select("text").text(function(a,b){return r(l(a,b))}).watchTransition(x,"discreteBar: bars text").attr("x",g.rangeBand()*0.9/2).attr("y",function(a,b){return l(a,b)<0?d(l(a,b))-d(0)+12:-4})}else n.selectAll("text").remove();n.attr("class",function(a,b){return l(a,b)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(a,b){return a.color||o(a,b)}).style("stroke",function(a,b){return a.color||
o(a,b)}).select("rect").attr("class",k).watchTransition(x,"discreteBar: bars rect").attr("width",g.rangeBand()*0.9/a.length);n.watchTransition(x,"discreteBar: bars").attr("transform",function(a,b){var c=g(i(a,b))+g.rangeBand()*0.05,w=l(a,b)<0?d(0):d(0)-d(l(a,b))<1?d(0)-1:d(l(a,b));return"translate("+c+", "+w+")"}).select("rect").attr("height",function(a,b){return Math.max(Math.abs(d(l(a,b))-d(u&&u[0]||0))||1)});g.copy();E=d.copy()});x.renderEnd("discreteBar immediate");return a}var b={top:0,right:0,
bottom:0,left:0},e=960,j=500,f=Math.floor(Math.random()*1E4),h,g=d3.scale.ordinal(),d=d3.scale.linear(),i=function(a){return a.x},l=function(a){return a.y},t=[0],o=c.utils.defaultColor(),p=false,r=d3.format(",.2f"),m,u,z,D,q=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),k="discreteBar",y=250,E,x=c.utils.renderWatch(q,y);a.dispatch=q;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},
set:function(a){e=a}},height:{get:function(){return j},set:function(a){j=a}},forceY:{get:function(){return t},set:function(a){t=a}},showValues:{get:function(){return p},set:function(a){p=a}},x:{get:function(){return i},set:function(a){i=a}},y:{get:function(){return l},set:function(a){l=a}},xScale:{get:function(){return g},set:function(a){g=a}},yScale:{get:function(){return d},set:function(a){d=a}},xDomain:{get:function(){return m},set:function(a){m=a}},yDomain:{get:function(){return u},set:function(a){u=
a}},xRange:{get:function(){return z},set:function(a){z=a}},yRange:{get:function(){return D},set:function(a){D=a}},valueFormat:{get:function(){return r},set:function(a){r=a}},id:{get:function(){return f},set:function(a){f=a}},rectClass:{get:function(){return k},set:function(a){k=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return o},
set:function(a){o=c.utils.getColor(a)}},duration:{get:function(){return y},set:function(a){y=a;x.reset(y)}}});c.utils.initOptions(a);return a};c.models.discreteBarChart=function(){function a(k){q.reset();q.models(b);l&&q.models(e);t&&q.models(j);k.each(function(k){var f=d3.select(this);c.utils.initSVG(f);var i=c.utils.availableWidth(g,f,h),q=c.utils.availableHeight(d,f,h);a.update=function(){z.beforeUpdate();f.transition().duration(D).call(a)};a.container=this;if(!k||!k.length||!k.filter(function(a){return a.values.length}).length){c.utils.noData(a,
f);return a}f.selectAll(".nv-noData").remove();r=b.xScale();m=b.yScale().clamp(true);var u=f.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([k]),n=u.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),v=n.append("defs"),u=u.select("g");n.append("g").attr("class","nv-x nv-axis");n.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");n.append("g").attr("class","nv-barsWrap");u.attr("transform","translate("+h.left+","+h.top+
")");o&&u.select(".nv-y.nv-axis").attr("transform","translate("+i+",0)");b.width(i).height(q);u.select(".nv-barsWrap").datum(k.filter(function(a){return!a.disabled})).transition().call(b);v.append("clipPath").attr("id","nv-x-label-clip-"+b.id()).append("rect");u.select("#nv-x-label-clip-"+b.id()+" rect").attr("width",r.rangeBand()*(p?2:1)).attr("height",16).attr("x",-r.rangeBand()/(p?1:2));if(l){e.scale(r)._ticks(c.utils.calcTicksX(i/100,k)).tickSize(-q,0);u.select(".nv-x.nv-axis").attr("transform",
"translate(0,"+(m.range()[0]+(b.showValues()&&m.domain()[0]<0?16:0))+")");u.select(".nv-x.nv-axis").call(e);n=u.select(".nv-x.nv-axis").selectAll("g");p&&n.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(c%2==0?"5":"17")+")"})}if(t){j.scale(m)._ticks(c.utils.calcTicksY(q/36,k)).tickSize(-i,0);u.select(".nv-y.nv-axis").call(j)}u.select(".nv-zeroLine line").attr("x1",0).attr("x2",i).attr("y1",m(0)).attr("y2",m(0))});q.renderEnd("discreteBar chart immediate");return a}var b=
c.models.discreteBar(),e=c.models.axis(),j=c.models.axis(),f=c.models.tooltip(),h={top:15,right:10,bottom:50,left:60},g=null,d=null,i=c.utils.getColor(),l=true,t=true,o=false,p=false,r,m,u=null,z=d3.dispatch("beforeUpdate","renderEnd"),D=250;e.orient("bottom").showMaxMin(false).tickFormat(function(a){return a});j.orient(o?"right":"left").tickFormat(d3.format(",.1f"));f.duration(0).headerEnabled(false).valueFormatter(function(a,b){return j.tickFormat()(a,b)}).keyFormatter(function(a,b){return e.tickFormat()(a,
b)});var q=c.utils.renderWatch(z,D);b.dispatch.on("elementMouseover.tooltip",function(b){b.series={key:a.x()(b.data),value:a.y()(b.data),color:b.color};f.data(b).hidden(false)});b.dispatch.on("elementMouseout.tooltip",function(){f.hidden(true)});b.dispatch.on("elementMousemove.tooltip",function(){f.position({top:d3.event.pageY,left:d3.event.pageX})()});a.dispatch=z;a.discretebar=b;a.xAxis=e;a.yAxis=j;a.tooltip=f;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return g},
set:function(a){g=a}},height:{get:function(){return d},set:function(a){d=a}},staggerLabels:{get:function(){return p},set:function(a){p=a}},showXAxis:{get:function(){return l},set:function(a){l=a}},showYAxis:{get:function(){return t},set:function(a){t=a}},noData:{get:function(){return u},set:function(a){u=a}},tooltips:{get:function(){return f.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");f.enabled(!!a)}},tooltipContent:{get:function(){return f.contentGenerator()},
set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");f.contentGenerator(a)}},margin:{get:function(){return h},set:function(a){h.top=a.top!==void 0?a.top:h.top;h.right=a.right!==void 0?a.right:h.right;h.bottom=a.bottom!==void 0?a.bottom:h.bottom;h.left=a.left!==void 0?a.left:h.left}},duration:{get:function(){return D},set:function(a){D=a;q.reset(D);b.duration(D);e.duration(D);j.duration(D)}},color:{get:function(){return i},set:function(a){i=c.utils.getColor(a);
b.color(i)}},rightAlignYAxis:{get:function(){return o},set:function(a){o=a;j.orient(a?"right":"left")}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.distribution=function(){function a(e){o.reset();e.each(function(a){var e=f=="x"?"y":"x",i=d3.select(this);c.utils.initSVG(i);t=t||d;a=i.selectAll("g.nv-distribution").data([a]);a.enter().append("g").attr("class","nvd3 nv-distribution").append("g");i=a.select("g");a.attr("transform","translate("+b.left+","+b.top+")");a=i.selectAll("g.nv-dist").data(function(a){return a},
function(a){return a.key});a.enter().append("g");a.attr("class",function(a,b){return"nv-dist nv-series-"+b}).style("stroke",function(a,b){return g(a,b)});i=a.selectAll("line.nv-dist"+f).data(function(a){return a.values});i.enter().append("line").attr(f+"1",function(a,b){return t(h(a,b))}).attr(f+"2",function(a,b){return t(h(a,b))});o.transition(a.exit().selectAll("line.nv-dist"+f),"dist exit").attr(f+"1",function(a,b){return d(h(a,b))}).attr(f+"2",function(a,b){return d(h(a,b))}).style("stroke-opacity",
0).remove();i.attr("class",function(a,b){return"nv-dist"+f+" nv-dist"+f+"-"+b}).attr(e+"1",0).attr(e+"2",j);o.transition(i,"dist").attr(f+"1",function(a,b){return d(h(a,b))}).attr(f+"2",function(a,b){return d(h(a,b))});t=d.copy()});o.renderEnd("distribution immediate");return a}var b={top:0,right:0,bottom:0,left:0},e=400,j=8,f="x",h=function(a){return a[f]},g=c.utils.defaultColor(),d=d3.scale.linear(),i=250,l=d3.dispatch("renderEnd"),t,o=c.utils.renderWatch(l,i);a.options=c.utils.optionsFunc.bind(a);
a.dispatch=l;a.margin=function(c){if(!arguments.length)return b;b.top=typeof c.top!="undefined"?c.top:b.top;b.right=typeof c.right!="undefined"?c.right:b.right;b.bottom=typeof c.bottom!="undefined"?c.bottom:b.bottom;b.left=typeof c.left!="undefined"?c.left:b.left;return a};a.width=function(b){if(!arguments.length)return e;e=b;return a};a.axis=function(b){if(!arguments.length)return f;f=b;return a};a.size=function(b){if(!arguments.length)return j;j=b;return a};a.getData=function(b){if(!arguments.length)return h;
h=d3.functor(b);return a};a.scale=function(b){if(!arguments.length)return d;d=b;return a};a.color=function(b){if(!arguments.length)return g;g=c.utils.getColor(b);return a};a.duration=function(b){if(!arguments.length)return i;i=b;o.reset(i);return a};return a};c.models.furiousLegend=function(){function a(m){function u(a,b){if(r!="furious")return"#000";if(o)return a.disengaged?h(a,b):"#fff";if(!o)return a.disabled?h(a,b):"#fff"}function z(a,b){return o&&r=="furious"?a.disengaged?"#fff":h(a,b):a.disabled?
"#fff":h(a,b)}m.each(function(a){var m=e-b.left-b.right,k=d3.select(this);c.utils.initSVG(k);k=k.selectAll("g.nv-legend").data([a]);k.enter().append("g").attr("class","nvd3 nv-legend").append("g");a=k.select("g");k.attr("transform","translate("+b.left+","+b.top+")");var y=a.selectAll(".nv-series").data(function(a){return r!="furious"?a:a.filter(function(a){return o?true:!a.disengaged})}),k=y.enter().append("g").attr("class","nv-series"),E;if(r=="classic"){k.append("circle").style("stroke-width",2).attr("class",
"nv-legend-symbol").attr("r",5);E=y.select("circle")}else if(r=="furious"){k.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3);E=y.select("rect");k.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)");y.select(".nv-check-box").each(function(a,
b){d3.select(this).selectAll("path").attr("stroke",u(a,b))})}k.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var x=y.select("text.nv-legend-text");y.on("mouseover",function(a,b){p.legendMouseover(a,b)}).on("mouseout",function(a,b){p.legendMouseout(a,b)}).on("click",function(a,b){p.legendClick(a,b);var c=y.data();if(l){if(r=="classic")if(t){c.forEach(function(a){a.disabled=true});a.disabled=false}else{a.disabled=!a.disabled;c.every(function(a){return a.disabled})&&
c.forEach(function(a){a.disabled=false})}else if(r=="furious")if(o){a.disengaged=!a.disengaged;a.userDisabled=a.userDisabled==void 0?!!a.disabled:a.userDisabled;a.disabled=a.disengaged||a.userDisabled}else if(!o){a.disabled=!a.disabled;a.userDisabled=a.disabled;c.filter(function(a){return!a.disengaged}).every(function(a){return a.userDisabled})&&c.forEach(function(a){a.disabled=a.userDisabled=false})}p.stateChange({disabled:c.map(function(a){return!!a.disabled}),disengaged:c.map(function(a){return!!a.disengaged})})}}).on("dblclick",
function(a,b){if(!(r=="furious"&&o)){p.legendDblclick(a,b);if(l){var c=y.data();c.forEach(function(a){a.disabled=true;if(r=="furious")a.userDisabled=a.disabled});a.disabled=false;if(r=="furious")a.userDisabled=a.disabled;p.stateChange({disabled:c.map(function(a){return!!a.disabled})})}}});y.classed("nv-disabled",function(a){return a.userDisabled});y.exit().remove();x.attr("fill",u).text(f);var F;switch(r){case "furious":F=23;break;case "classic":F=20}if(g){var A=[];y.each(function(){var a=d3.select(this).select("text"),
b;try{b=a.node().getComputedTextLength();if(b<=0)throw Error();}catch(w){b=c.utils.calcApproxTextWidth(a)}A.push(b+d)});for(var n=0,v=0,k=[];v<m&&n<A.length;){k[n]=A[n];v=v+A[n++]}for(n===0&&(n=1);v>m&&n>1;){k=[];n--;for(v=0;v<A.length;v++)if(A[v]>(k[v%n]||0))k[v%n]=A[v];v=k.reduce(function(a,b){return a+b})}for(var C=[],B=m=0;m<n;m++){C[m]=B;B=B+k[m]}y.attr("transform",function(a,b){return"translate("+C[b%n]+","+(5+Math.floor(b/n)*F)+")"});i?a.attr("transform","translate("+(e-b.right-v)+","+b.top+
")"):a.attr("transform","translate(0,"+b.top+")");j=b.top+b.bottom+Math.ceil(A.length/n)*F}else{var s=5,K=5,w=0,J;y.attr("transform",function(){var a=d3.select(this).select("text").node().getComputedTextLength()+d;J=K;if(e<b.left+b.right+J+a){K=J=5;s=s+F}K=K+a;K>w&&(w=K);return"translate("+J+","+s+")"});a.attr("transform","translate("+(e-b.right-w)+","+b.top+")");j=b.top+b.bottom+s+15}r=="furious"&&E.attr("width",function(a,b){return x[0][b].getComputedTextLength()+27}).attr("height",18).attr("y",
-9).attr("x",-15);E.style("fill",z).style("stroke",function(a,b){return a.color||h(a,b)})});return a}var b={top:5,right:0,bottom:5,left:0},e=400,j=20,f=function(a){return a.key},h=c.utils.getColor(),g=true,d=28,i=true,l=true,t=false,o=false,p=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),r="classic";a.dispatch=p;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return j},
set:function(a){j=a}},key:{get:function(){return f},set:function(a){f=a}},align:{get:function(){return g},set:function(a){g=a}},rightAlign:{get:function(){return i},set:function(a){i=a}},padding:{get:function(){return d},set:function(a){d=a}},updateState:{get:function(){return l},set:function(a){l=a}},radioButtonMode:{get:function(){return t},set:function(a){t=a}},expanded:{get:function(){return o},set:function(a){o=a}},vers:{get:function(){return r},set:function(a){r=a}},margin:{get:function(){return b},
set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return h},set:function(a){h=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.historicalBar=function(){function a(x){x.each(function(a){E.reset();h=d3.select(this);var x=c.utils.availableWidth(e,h,b),n=c.utils.availableHeight(j,h,b);c.utils.initSVG(h);g.domain(u||d3.extent(a[0].values.map(i).concat(t)));
p?g.range(D||[x*0.5/a[0].values.length,x*(a[0].values.length-0.5)/a[0].values.length]):g.range(D||[0,x]);d.domain(z||d3.extent(a[0].values.map(l).concat(o))).range(q||[n,0]);g.domain()[0]===g.domain()[1]&&(g.domain()[0]?g.domain([g.domain()[0]-g.domain()[0]*0.01,g.domain()[1]+g.domain()[1]*0.01]):g.domain([-1,1]));d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+d.domain()[0]*0.01,d.domain()[1]-d.domain()[1]*0.01]):d.domain([-1,1]));var v=h.selectAll("g.nv-wrap.nv-historicalBar-"+
f).data([a[0].values]),C=v.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+f),B=C.append("defs"),C=C.append("g"),s=v.select("g");C.append("g").attr("class","nv-bars");v.attr("transform","translate("+b.left+","+b.top+")");h.on("click",function(a,b){k.chartClick({data:a,index:b,pos:d3.event,id:f})});B.append("clipPath").attr("id","nv-chart-clip-path-"+f).append("rect");v.select("#nv-chart-clip-path-"+f+" rect").attr("width",x).attr("height",n);s.attr("clip-path",r?"url(#nv-chart-clip-path-"+
f+")":"");n=v.select(".nv-bars").selectAll(".nv-bar").data(function(a){return a},function(a,b){return i(a,b)});n.exit().remove();n.enter().append("rect").attr("x",0).attr("y",function(a,b){return c.utils.NaNtoZero(d(Math.max(0,l(a,b))))}).attr("height",function(a,b){return c.utils.NaNtoZero(Math.abs(d(l(a,b))-d(0)))}).attr("transform",function(b,c){return"translate("+(g(i(b,c))-x/a[0].values.length*0.45)+",0)"}).on("mouseover",function(a,b){if(y){d3.select(this).classed("hover",true);k.elementMouseover({data:a,
index:b,color:d3.select(this).style("fill")})}}).on("mouseout",function(a,b){if(y){d3.select(this).classed("hover",false);k.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}}).on("mousemove",function(a,b){y&&k.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){if(y){k.elementClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()}}).on("dblclick",function(a,b){if(y){k.elementDblClick({data:a,index:b,
color:d3.select(this).style("fill")});d3.event.stopPropagation()}});n.attr("fill",function(a,b){return m(a,b)}).attr("class",function(a,b,c){return(l(a,b)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+c+"-"+b}).watchTransition(E,"bars").attr("transform",function(b,c){return"translate("+(g(i(b,c))-x/a[0].values.length*0.45)+",0)"}).attr("width",x/a[0].values.length*0.9);n.watchTransition(E,"bars").attr("y",function(a,b){var e=l(a,b)<0?d(0):d(0)-d(l(a,b))<1?d(0)-1:d(l(a,b));return c.utils.NaNtoZero(e)}).attr("height",
function(a,b){return c.utils.NaNtoZero(Math.max(Math.abs(d(l(a,b))-d(0)),1))})});E.renderEnd("historicalBar immediate");return a}var b={top:0,right:0,bottom:0,left:0},e=null,j=null,f=Math.floor(Math.random()*1E4),h=null,g=d3.scale.linear(),d=d3.scale.linear(),i=function(a){return a.x},l=function(a){return a.y},t=[],o=[0],p=false,r=true,m=c.utils.defaultColor(),u,z,D,q,k=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),y=
true,E=c.utils.renderWatch(k,0);a.highlightPoint=function(a,b){h.select(".nv-bars .nv-bar-0-"+a).classed("hover",b)};a.clearHighlights=function(){h.select(".nv-bars .nv-bar.hover").classed("hover",false)};a.dispatch=k;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return j},set:function(a){j=a}},forceX:{get:function(){return t},set:function(a){t=a}},forceY:{get:function(){return o},set:function(a){o=a}},
padData:{get:function(){return p},set:function(a){p=a}},x:{get:function(){return i},set:function(a){i=a}},y:{get:function(){return l},set:function(a){l=a}},xScale:{get:function(){return g},set:function(a){g=a}},yScale:{get:function(){return d},set:function(a){d=a}},xDomain:{get:function(){return u},set:function(a){u=a}},yDomain:{get:function(){return z},set:function(a){z=a}},xRange:{get:function(){return D},set:function(a){D=a}},yRange:{get:function(){return q},set:function(a){q=a}},clipEdge:{get:function(){return r},
set:function(a){r=a}},id:{get:function(){return f},set:function(a){f=a}},interactive:{get:function(){return y},set:function(a){y=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return m},set:function(a){m=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.historicalBarChart=function(a){function b(a){a.each(function(d){A.reset();
A.models(e);r&&A.models(j);m&&A.models(f);var C=d3.select(this),B=this;c.utils.initSVG(C);var s=c.utils.availableWidth(t,C,i),K=c.utils.availableHeight(o,C,i);b.update=function(){C.transition().duration(F).call(b)};b.container=this;k.disabled=d.map(function(a){return!!a.disabled});if(!y){var w;y={};for(w in k)y[w]=k[w]instanceof Array?k[w].slice(0):k[w]}if(!d||!d.length||!d.filter(function(a){return a.values.length}).length){c.utils.noData(b,C);return b}C.selectAll(".nv-noData").remove();D=e.xScale();
q=e.yScale();var J=C.selectAll("g.nv-wrap.nv-historicalBarChart").data([d]);w=J.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g");var E=J.select("g");w.append("g").attr("class","nv-x nv-axis");w.append("g").attr("class","nv-y nv-axis");w.append("g").attr("class","nv-barsWrap");w.append("g").attr("class","nv-legendWrap");w.append("g").attr("class","nv-interactive");if(p){h.width(s);E.select(".nv-legendWrap").datum(d).call(h);if(i.top!=h.height()){i.top=h.height();K=
c.utils.availableHeight(o,C,i)}J.select(".nv-legendWrap").attr("transform","translate(0,"+-i.top+")")}J.attr("transform","translate("+i.left+","+i.top+")");u&&E.select(".nv-y.nv-axis").attr("transform","translate("+s+",0)");if(z){g.width(s).height(K).margin({left:i.left,top:i.top}).svgContainer(C).xScale(D);J.select(".nv-interactive").call(g)}e.width(s).height(K).color(d.map(function(a,b){return a.color||l(a,b)}).filter(function(a,b){return!d[b].disabled}));E.select(".nv-barsWrap").datum(d.filter(function(a){return!a.disabled})).transition().call(e);
if(r){j.scale(D)._ticks(c.utils.calcTicksX(s/100,d)).tickSize(-K,0);E.select(".nv-x.nv-axis").attr("transform","translate(0,"+q.range()[0]+")");E.select(".nv-x.nv-axis").transition().call(j)}if(m){f.scale(q)._ticks(c.utils.calcTicksY(K/36,d)).tickSize(-s,0);E.select(".nv-y.nv-axis").transition().call(f)}g.dispatch.on("elementMousemove",function(a){e.clearHighlights();var w,s,n,k=[];d.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(d){s=c.interactiveBisect(d.values,a.pointXValue,
b.x());e.highlightPoint(s,true);var f=d.values[s];if(f!==void 0){w===void 0&&(w=f);n===void 0&&(n=b.xScale()(b.x()(f,s)));k.push({key:d.key,value:b.y()(f,s),color:l(d,d.seriesIndex),data:d.values[s]})}});var h=j.tickFormat()(b.x()(w,s));g.tooltip.position({left:n+i.left,top:a.mouseY+i.top}).chartContainer(B.parentNode).valueFormatter(function(a){return f.tickFormat()(a)}).data({value:h,index:s,series:k})();g.renderGuideLine(n)});g.dispatch.on("elementMouseout",function(){x.tooltipHide();e.clearHighlights()});
h.dispatch.on("legendClick",function(c){c.disabled=!c.disabled;d.filter(function(a){return!a.disabled}).length||d.map(function(a){a.disabled=false;J.selectAll(".nv-series").classed("disabled",false);return a});k.disabled=d.map(function(a){return!!a.disabled});x.stateChange(k);a.transition().call(b)});h.dispatch.on("legendDblclick",function(a){d.forEach(function(a){a.disabled=true});a.disabled=false;k.disabled=d.map(function(a){return!!a.disabled});x.stateChange(k);b.update()});x.on("changeState",
function(a){if(typeof a.disabled!=="undefined"){d.forEach(function(b,c){b.disabled=a.disabled[c]});k.disabled=a.disabled}b.update()})});A.renderEnd("historicalBarChart immediate");return b}var e=a||c.models.historicalBar(),j=c.models.axis(),f=c.models.axis(),h=c.models.legend(),g=c.interactiveGuideline(),d=c.models.tooltip(),i={top:30,right:90,bottom:50,left:90},l=c.utils.defaultColor(),t=null,o=null,p=false,r=true,m=true,u=false,z=false,D,q,k={},y=null,E=null,x=d3.dispatch("tooltipHide","stateChange",
"changeState","renderEnd"),F=250;j.orient("bottom").tickPadding(7);f.orient(u?"right":"left");d.duration(0).headerEnabled(false).valueFormatter(function(a,b){return f.tickFormat()(a,b)}).headerFormatter(function(a,b){return j.tickFormat()(a,b)});var A=c.utils.renderWatch(x,0);e.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:b.x()(a.data),value:b.y()(a.data),color:a.color};d.data(a).hidden(false)});e.dispatch.on("elementMouseout.tooltip",function(){d.hidden(true)});e.dispatch.on("elementMousemove.tooltip",
function(){d.position({top:d3.event.pageY,left:d3.event.pageX})()});b.dispatch=x;b.bars=e;b.legend=h;b.xAxis=j;b.yAxis=f;b.interactiveLayer=g;b.tooltip=d;b.options=c.utils.optionsFunc.bind(b);b._options=Object.create({},{width:{get:function(){return t},set:function(a){t=a}},height:{get:function(){return o},set:function(a){o=a}},showLegend:{get:function(){return p},set:function(a){p=a}},showXAxis:{get:function(){return r},set:function(a){r=a}},showYAxis:{get:function(){return m},set:function(a){m=
a}},defaultState:{get:function(){return y},set:function(a){y=a}},noData:{get:function(){return E},set:function(a){E=a}},tooltips:{get:function(){return d.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");d.enabled(!!a)}},tooltipContent:{get:function(){return d.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");d.contentGenerator(a)}},margin:{get:function(){return i},set:function(a){i.top=a.top!==
void 0?a.top:i.top;i.right=a.right!==void 0?a.right:i.right;i.bottom=a.bottom!==void 0?a.bottom:i.bottom;i.left=a.left!==void 0?a.left:i.left}},color:{get:function(){return l},set:function(a){l=c.utils.getColor(a);h.color(l);e.color(l)}},duration:{get:function(){return F},set:function(a){F=a;A.reset(F);f.duration(F);j.duration(F)}},rightAlignYAxis:{get:function(){return u},set:function(a){u=a;f.orient(a?"right":"left")}},useInteractiveGuideline:{get:function(){return z},set:function(a){z=a;a===true&&
b.interactive(false)}}});c.utils.inheritOptions(b,e);c.utils.initOptions(b);return b};c.models.ohlcBarChart=function(){var a=c.models.historicalBarChart(c.models.ohlcBar());a.useInteractiveGuideline(true);a.interactiveLayer.tooltip.contentGenerator(function(b){var c=b.series[0].data;return'<h3 style="color: #'+(c.open<c.close?"2ca02c":"d62728")+'">'+b.value+"</h3><table><tr><td>open:</td><td>"+a.yAxis.tickFormat()(c.open)+"</td></tr><tr><td>close:</td><td>"+a.yAxis.tickFormat()(c.close)+"</td></tr><tr><td>high</td><td>"+
a.yAxis.tickFormat()(c.high)+"</td></tr><tr><td>low:</td><td>"+a.yAxis.tickFormat()(c.low)+"</td></tr></table>"});return a};c.models.candlestickBarChart=function(){var a=c.models.historicalBarChart(c.models.candlestickBar());a.useInteractiveGuideline(true);a.interactiveLayer.tooltip.contentGenerator(function(b){var c=b.series[0].data;return'<h3 style="color: #'+(c.open<c.close?"2ca02c":"d62728")+'">'+b.value+"</h3><table><tr><td>open:</td><td>"+a.yAxis.tickFormat()(c.open)+"</td></tr><tr><td>close:</td><td>"+
a.yAxis.tickFormat()(c.close)+"</td></tr><tr><td>high</td><td>"+a.yAxis.tickFormat()(c.high)+"</td></tr><tr><td>low:</td><td>"+a.yAxis.tickFormat()(c.low)+"</td></tr></table>"});return a};c.models.legend=function(){function a(m){function u(a,b){if(r!="furious")return"#000";if(o)return a.disengaged?"#000":"#fff";if(!o){if(!a.color)a.color=h(a,b);return a.disabled?a.color:"#fff"}}function z(a,b){return o&&r=="furious"?a.disengaged?"#eee":a.color||h(a,b):a.color||h(a,b)}function D(a){return o&&r=="furious"?
1:a.disabled?0:1}m.each(function(a){var k=e-b.left-b.right,h=d3.select(this);c.utils.initSVG(h);var m=h.selectAll("g.nv-legend").data([a]),a=m.enter().append("g").attr("class","nvd3 nv-legend").append("g"),h=m.select("g");m.attr("transform","translate("+b.left+","+b.top+")");var x=h.selectAll(".nv-series").data(function(a){return r!="furious"?a:a.filter(function(a){return o?true:!a.disengaged})}),m=x.enter().append("g").attr("class","nv-series"),F,A;switch(r){case "furious":A=23;break;case "classic":A=
20}if(r=="classic"){m.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5);F=x.select("circle")}else if(r=="furious"){m.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3);F=x.select(".nv-legend-symbol");m.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform",
"translate(-10,-8)scale(0.5)");x.select(".nv-check-box").each(function(a,b){d3.select(this).selectAll("path").attr("stroke",u(a,b))})}m.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var n=x.select("text.nv-legend-text");x.on("mouseover",function(a,b){p.legendMouseover(a,b)}).on("mouseout",function(a,b){p.legendMouseout(a,b)}).on("click",function(a,b){p.legendClick(a,b);var c=x.data();if(l){if(r=="classic")if(t){c.forEach(function(a){a.disabled=
true});a.disabled=false}else{a.disabled=!a.disabled;c.every(function(a){return a.disabled})&&c.forEach(function(a){a.disabled=false})}else if(r=="furious")if(o){a.disengaged=!a.disengaged;a.userDisabled=a.userDisabled==void 0?!!a.disabled:a.userDisabled;a.disabled=a.disengaged||a.userDisabled}else if(!o){a.disabled=!a.disabled;a.userDisabled=a.disabled;c.filter(function(a){return!a.disengaged}).every(function(a){return a.userDisabled})&&c.forEach(function(a){a.disabled=a.userDisabled=false})}p.stateChange({disabled:c.map(function(a){return!!a.disabled}),
disengaged:c.map(function(a){return!!a.disengaged})})}}).on("dblclick",function(a,b){if(!(r=="furious"&&o)){p.legendDblclick(a,b);if(l){var c=x.data();c.forEach(function(a){a.disabled=true;if(r=="furious")a.userDisabled=a.disabled});a.disabled=false;if(r=="furious")a.userDisabled=a.disabled;p.stateChange({disabled:c.map(function(a){return!!a.disabled})})}}});x.classed("nv-disabled",function(a){return a.userDisabled});x.exit().remove();n.attr("fill",u).text(f);var v=0;if(g){var C=[];x.each(function(){var a=
d3.select(this).select("text"),b;try{b=a.node().getComputedTextLength();if(b<=0)throw Error();}catch(e){b=c.utils.calcApproxTextWidth(a)}C.push(b+d)});for(var B=0,m=[],v=0;v<k&&B<C.length;){m[B]=C[B];v=v+C[B++]}for(B===0&&(B=1);v>k&&B>1;){m=[];B--;for(var s=0;s<C.length;s++)if(C[s]>(m[s%B]||0))m[s%B]=C[s];v=m.reduce(function(a,b){return a+b})}for(var K=[],s=k=0;k<B;k++){K[k]=s;s=s+m[k]}x.attr("transform",function(a,b){return"translate("+K[b%B]+","+(5+Math.floor(b/B)*A)+")"});i?h.attr("transform",
"translate("+(e-b.right-v)+","+b.top+")"):h.attr("transform","translate(0,"+b.top+")");j=b.top+b.bottom+Math.ceil(C.length/B)*A}else{var w=5,J=5,L=0,G;x.attr("transform",function(){var a=d3.select(this).select("text").node().getComputedTextLength()+d;G=J;if(e<b.left+b.right+G+a){J=G=5;w=w+A}J=J+a;J>L&&(L=J);v<G+L&&(v=G+L);return"translate("+G+","+w+")"});h.attr("transform","translate("+(e-b.right-L)+","+b.top+")");j=b.top+b.bottom+w+15}if(r=="furious"){F.attr("width",function(a,b){return n[0][b].getComputedTextLength()+
27}).attr("height",18).attr("y",-9).attr("x",-15);a.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0);h.select(".nv-legend-bg").transition().duration(300).attr("x",-A).attr("width",v+A-12).attr("height",j+10).attr("y",-b.top-10).attr("opacity",o?1:0)}F.style("fill",z).style("fill-opacity",D).style("stroke",z)});return a}var b={top:5,right:0,bottom:5,left:0},e=400,j=20,f=function(a){return a.key},h=c.utils.getColor(),g=true,d=32,i=true,l=true,t=false,
o=false,p=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),r="classic";a.dispatch=p;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return j},set:function(a){j=a}},key:{get:function(){return f},set:function(a){f=a}},align:{get:function(){return g},set:function(a){g=a}},rightAlign:{get:function(){return i},set:function(a){i=a}},padding:{get:function(){return d},
set:function(a){d=a}},updateState:{get:function(){return l},set:function(a){l=a}},radioButtonMode:{get:function(){return t},set:function(a){t=a}},expanded:{get:function(){return o},set:function(a){o=a}},vers:{get:function(){return r},set:function(a){r=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return h},set:function(a){h=
c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.line=function(){function a(E){y.reset();y.models(b);E.each(function(a){h=d3.select(this);var E=c.utils.availableWidth(j,h,e),z=c.utils.availableHeight(f,h,e);c.utils.initSVG(h);r=b.xScale();m=b.yScale();q=q||r;k=k||m;var a=h.selectAll("g.nv-wrap.nv-line").data([a]),n=a.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),v=n.append("defs"),C=n.append("g"),n=a.select("g");C.append("g").attr("class","nv-groups");C.append("g").attr("class",
"nv-scatterWrap");a.attr("transform","translate("+e.left+","+e.top+")");b.width(E).height(z);C=a.select(".nv-scatterWrap");C.call(b);v.append("clipPath").attr("id","nv-edge-clip-"+b.id()).append("rect");a.select("#nv-edge-clip-"+b.id()+" rect").attr("width",E).attr("height",z>0?z:0);n.attr("clip-path",p?"url(#nv-edge-clip-"+b.id()+")":"");C.attr("clip-path",p?"url(#nv-edge-clip-"+b.id()+")":"");E=a.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});E.enter().append("g").style("stroke-opacity",
1.0E-6).style("stroke-width",function(a){return a.strokeWidth||g}).style("fill-opacity",1.0E-6);E.exit().remove();E.attr("class",function(a,b){return(a.classed||"")+" nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return d(a,b)}).style("stroke",function(a,b){return d(a,b)});E.watchTransition(y,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(a){return a.fillOpacity||0.5});z=E.selectAll("path.nv-area").data(function(a){return o(a)?
[a]:[]});z.enter().append("path").attr("class","nv-area").attr("d",function(a){return d3.svg.area().interpolate(u).defined(t).x(function(a,b){return c.utils.NaNtoZero(q(i(a,b)))}).y0(function(a,b){return c.utils.NaNtoZero(k(l(a,b)))}).y1(function(){return k(m.domain()[0]<=0?m.domain()[1]>=0?0:m.domain()[1]:m.domain()[0])}).apply(this,[a.values])});E.exit().selectAll("path.nv-area").remove();z.watchTransition(y,"line: areaPaths").attr("d",function(a){return d3.svg.area().interpolate(u).defined(t).x(function(a,
b){return c.utils.NaNtoZero(r(i(a,b)))}).y0(function(a,b){return c.utils.NaNtoZero(m(l(a,b)))}).y1(function(){return m(m.domain()[0]<=0?m.domain()[1]>=0?0:m.domain()[1]:m.domain()[0])}).apply(this,[a.values])});E=E.selectAll("path.nv-line").data(function(a){return[a.values]});E.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(u).defined(t).x(function(a,b){return c.utils.NaNtoZero(q(i(a,b)))}).y(function(a,b){return c.utils.NaNtoZero(k(l(a,b)))}));E.watchTransition(y,
"line: linePaths").attr("d",d3.svg.line().interpolate(u).defined(t).x(function(a,b){return c.utils.NaNtoZero(r(i(a,b)))}).y(function(a,b){return c.utils.NaNtoZero(m(l(a,b)))}));q=r.copy();k=m.copy()});y.renderEnd("line immediate");return a}var b=c.models.scatter(),e={top:0,right:0,bottom:0,left:0},j=960,f=500,h=null,g=1.5,d=c.utils.defaultColor(),i=function(a){return a.x},l=function(a){return a.y},t=function(a,b){return!isNaN(l(a,b))&&l(a,b)!==null},o=function(a){return a.area},p=false,r,m,u="linear",
z=250,D=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");b.pointSize(16).pointDomain([16,256]);var q,k,y=c.utils.renderWatch(D,z);a.dispatch=D;a.scatter=b;b.dispatch.on("elementClick",function(){D.elementClick.apply(this,arguments)});b.dispatch.on("elementMouseover",function(){D.elementMouseover.apply(this,arguments)});b.dispatch.on("elementMouseout",function(){D.elementMouseout.apply(this,arguments)});a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return j},
set:function(a){j=a}},height:{get:function(){return f},set:function(a){f=a}},defined:{get:function(){return t},set:function(a){t=a}},interpolate:{get:function(){return u},set:function(a){u=a}},clipEdge:{get:function(){return p},set:function(a){p=a}},margin:{get:function(){return e},set:function(a){e.top=a.top!==void 0?a.top:e.top;e.right=a.right!==void 0?a.right:e.right;e.bottom=a.bottom!==void 0?a.bottom:e.bottom;e.left=a.left!==void 0?a.left:e.left}},duration:{get:function(){return z},set:function(a){z=
a;y.reset(z);b.duration(z)}},isArea:{get:function(){return o},set:function(a){o=d3.functor(a)}},x:{get:function(){return i},set:function(a){i=a;b.x(a)}},y:{get:function(){return l},set:function(a){l=a;b.y(a)}},color:{get:function(){return d},set:function(a){d=c.utils.getColor(a);b.color(d)}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.lineChart=function(){function a(g){F.reset();F.models(b);p&&F.models(e);r&&F.models(j);g.each(function(g){var v=d3.select(this),s=this;c.utils.initSVG(v);
var K=c.utils.availableWidth(l,v,d),w=c.utils.availableHeight(t,v,d);a.update=function(){x===0?v.call(a):v.transition().duration(x).call(a)};a.container=this;q.setter(n(g),a.update).getter(A(g)).update();q.disabled=g.map(function(a){return!!a.disabled});if(!k){var y;k={};for(y in q)k[y]=q[y]instanceof Array?q[y].slice(0):q[y]}if(!g||!g.length||!g.filter(function(a){return a.values.length}).length){c.utils.noData(a,v);return a}v.selectAll(".nv-noData").remove();z=b.xScale();D=b.yScale();y=v.selectAll("g.nv-wrap.nv-lineChart").data([g]);
var F=y.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),G=y.select("g");F.append("rect").style("opacity",0);F.append("g").attr("class","nv-x nv-axis");F.append("g").attr("class","nv-y nv-axis");F.append("g").attr("class","nv-linesWrap");F.append("g").attr("class","nv-legendWrap");F.append("g").attr("class","nv-interactive");G.select("rect").attr("width",K).attr("height",w>0?w:0);if(o){f.width(K);G.select(".nv-legendWrap").datum(g).call(f);if(d.top!=f.height()){d.top=f.height();
w=c.utils.availableHeight(t,v,d)}y.select(".nv-legendWrap").attr("transform","translate(0,"+-d.top+")")}y.attr("transform","translate("+d.left+","+d.top+")");m&&G.select(".nv-y.nv-axis").attr("transform","translate("+K+",0)");if(u){h.width(K).height(w).margin({left:d.left,top:d.top}).svgContainer(v).xScale(z);y.select(".nv-interactive").call(h)}b.width(K).height(w).color(g.map(function(a,b){return a.color||i(a,b)}).filter(function(a,b){return!g[b].disabled}));G.select(".nv-linesWrap").datum(g.filter(function(a){return!a.disabled})).call(b);
if(p){e.scale(z)._ticks(c.utils.calcTicksX(K/100,g)).tickSize(-w,0);G.select(".nv-x.nv-axis").attr("transform","translate(0,"+D.range()[0]+")");G.select(".nv-x.nv-axis").call(e)}if(r){j.scale(D)._ticks(c.utils.calcTicksY(w/36,g)).tickSize(-K,0);G.select(".nv-y.nv-axis").call(j)}f.dispatch.on("stateChange",function(b){for(var c in b)q[c]=b[c];E.stateChange(q);a.update()});h.dispatch.on("elementMousemove",function(w){b.clearHighlights();var f,k,n,m=[];g.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(d,
e){k=c.interactiveBisect(d.values,w.pointXValue,a.x());var s=d.values[k],h=a.y()(s,k);h!=null&&b.highlightPoint(e,k,true);if(s!==void 0){f===void 0&&(f=s);n===void 0&&(n=a.xScale()(a.x()(s,k)));m.push({key:d.key,value:h,color:i(d,d.seriesIndex)})}});if(m.length>2){var G=a.yScale().invert(w.mouseY),u=0.03*Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]),G=c.nearestValueIndex(m.map(function(a){return a.value}),G,u);if(G!==null)m[G].highlight=true}G=e.tickFormat()(a.x()(f,k));h.tooltip.position({left:w.mouseX+
d.left,top:w.mouseY+d.top}).chartContainer(s.parentNode).valueFormatter(function(a){return a==null?"N/A":j.tickFormat()(a)}).data({value:G,index:k,series:m})();h.renderGuideLine(n)});h.dispatch.on("elementClick",function(d){var e,w=[];g.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(b){var s=c.interactiveBisect(b.values,d.pointXValue,a.x()),f=b.values[s];if(typeof f!=="undefined"){typeof e==="undefined"&&(e=a.xScale()(a.x()(f,s)));var k=a.yScale()(a.y()(f,s));w.push({point:f,
pointIndex:s,pos:[e,k],seriesIndex:b.seriesIndex,series:b})}});b.dispatch.elementClick(w)});h.dispatch.on("elementMouseout",function(){b.clearHighlights()});E.on("changeState",function(b){if(typeof b.disabled!=="undefined"&&g.length===b.disabled.length){g.forEach(function(a,c){a.disabled=b.disabled[c]});q.disabled=b.disabled}a.update()})});F.renderEnd("lineChart immediate");return a}var b=c.models.line(),e=c.models.axis(),j=c.models.axis(),f=c.models.legend(),h=c.interactiveGuideline(),g=c.models.tooltip(),
d={top:30,right:20,bottom:50,left:60},i=c.utils.defaultColor(),l=null,t=null,o=true,p=true,r=true,m=false,u=false,z,D,q=c.utils.state(),k=null,y=null,E=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),x=250;e.orient("bottom").tickPadding(7);j.orient(m?"right":"left");g.valueFormatter(function(a,b){return j.tickFormat()(a,b)}).headerFormatter(function(a,b){return e.tickFormat()(a,b)});var F=c.utils.renderWatch(E,x),A=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},
n=function(a){return function(b){b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};b.dispatch.on("elementMouseover.tooltip",function(a){g.data(a).position(a.pos).hidden(false)});b.dispatch.on("elementMouseout.tooltip",function(){g.hidden(true)});a.dispatch=E;a.lines=b;a.legend=f;a.xAxis=e;a.yAxis=j;a.interactiveLayer=h;a.tooltip=g;a.dispatch=E;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return t},
set:function(a){t=a}},showLegend:{get:function(){return o},set:function(a){o=a}},showXAxis:{get:function(){return p},set:function(a){p=a}},showYAxis:{get:function(){return r},set:function(a){r=a}},defaultState:{get:function(){return k},set:function(a){k=a}},noData:{get:function(){return y},set:function(a){y=a}},tooltips:{get:function(){return g.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");g.enabled(!!a)}},tooltipContent:{get:function(){return g.contentGenerator()},
set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");g.contentGenerator(a)}},margin:{get:function(){return d},set:function(a){d.top=a.top!==void 0?a.top:d.top;d.right=a.right!==void 0?a.right:d.right;d.bottom=a.bottom!==void 0?a.bottom:d.bottom;d.left=a.left!==void 0?a.left:d.left}},duration:{get:function(){return x},set:function(a){x=a;F.reset(x);b.duration(x);e.duration(x);j.duration(x)}},color:{get:function(){return i},set:function(a){i=c.utils.getColor(a);
f.color(i);b.color(i)}},rightAlignYAxis:{get:function(){return m},set:function(a){m=a;j.orient(m?"right":"left")}},useInteractiveGuideline:{get:function(){return u},set:function(a){if(u=a){b.interactive(false);b.useVoronoi(false)}}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.linePlusBarChart=function(){function a(G){G.each(function(G){function r(){p.empty()||p.extent(C);ga.data([p.empty()?s.domain():C]).each(function(a){var b=s(a[0])-s.range()[0],c=s.range()[1]-s(a[1]);
d3.select(this).select(".left").attr("width",b<0?0:b);d3.select(this).select(".right").attr("x",s(a[1])).attr("width",c<0?0:c)})}function Q(){C=p.empty()?null:p.extent();v=p.empty()?s.domain():p.extent();I.brush({extent:v,brush:p});r();j.width(P).height(S).color(G.map(function(a,b){return a.color||y(a,b)}).filter(function(a,b){return!G[b].disabled&&G[b].bar}));b.width(P).height(S).color(G.map(function(a,b){return a.color||y(a,b)}).filter(function(a,b){return!G[b].disabled&&!G[b].bar}));var a=X.select(".nv-focus .nv-barsWrap").datum(!da.length?
[{values:[]}]:da.map(function(a){return{key:a.key,values:a.values.filter(function(a,b){return j.x()(a,b)>=v[0]&&j.x()(a,b)<=v[1]})}})),e=X.select(".nv-focus .nv-linesWrap").datum(V(fa)?[{values:[]}]:fa.filter(function(a){return!a.disabled}).map(function(a){return{area:a.area,fillOpacity:a.fillOpacity,key:a.key,values:a.values.filter(function(a,c){return b.x()(a,c)>=v[0]&&b.x()(a,c)<=v[1]})}}));B=da.length?j.xScale():b.xScale();h.scale(B)._ticks(c.utils.calcTicksX(P/100,G)).tickSize(-S,0);h.domain([Math.ceil(v[0]),
Math.floor(v[1])]);X.select(".nv-x.nv-axis").transition().duration(H).call(h);a.transition().duration(H).call(j);e.transition().duration(H).call(b);X.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+K.range()[0]+")");d.scale(K)._ticks(c.utils.calcTicksY(S/36,G)).tickSize(-P,0);i.scale(w)._ticks(c.utils.calcTicksY(S/36,G)).tickSize(da.length?0:-P,0);X.select(".nv-focus .nv-y1.nv-axis").style("opacity",da.length?1:0);X.select(".nv-focus .nv-y2.nv-axis").style("opacity",fa.length&&!V(fa)?
1:0).attr("transform","translate("+B.range()[1]+",0)");X.select(".nv-focus .nv-y1.nv-axis").transition().duration(H).call(d);X.select(".nv-focus .nv-y2.nv-axis").transition().duration(H).call(i)}var $=d3.select(this);c.utils.initSVG($);var P=c.utils.availableWidth(z,$,m),S=c.utils.availableHeight(D,$,m)-(x?n:0),ca=n-u.top-u.bottom;a.update=function(){$.transition().duration(H).call(a)};a.container=this;ba.setter(O(G),a.update).getter(N(G)).update();ba.disabled=G.map(function(a){return!!a.disabled});
if(!M){var Y;M={};for(Y in ba)M[Y]=ba[Y]instanceof Array?ba[Y].slice(0):ba[Y]}if(!G||!G.length||!G.filter(function(a){return a.values.length}).length){c.utils.noData(a,$);return a}$.selectAll(".nv-noData").remove();var da=G.filter(function(a){return!a.disabled&&a.bar}),fa=G.filter(function(a){return!a.bar});B=j.xScale();s=g.scale();K=j.yScale();w=b.yScale();J=f.yScale();L=e.yScale();Y=G.filter(function(a){return!a.disabled&&a.bar}).map(function(a){return a.values.map(function(a,b){return{x:q(a,b),
y:k(a,b)}})});var aa=G.filter(function(a){return!a.disabled&&!a.bar}).map(function(a){return a.values.map(function(a,b){return{x:q(a,b),y:k(a,b)}})});B.range([0,P]);s.domain(d3.extent(d3.merge(Y.concat(aa)),function(a){return a.x})).range([0,P]);Y=$.selectAll("g.nv-wrap.nv-linePlusBar").data([G]);var aa=Y.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),X=Y.select("g");aa.append("g").attr("class","nv-legendWrap");var ea=aa.append("g").attr("class","nv-focus");ea.append("g").attr("class",
"nv-x nv-axis");ea.append("g").attr("class","nv-y1 nv-axis");ea.append("g").attr("class","nv-y2 nv-axis");ea.append("g").attr("class","nv-barsWrap");ea.append("g").attr("class","nv-linesWrap");aa=aa.append("g").attr("class","nv-context");aa.append("g").attr("class","nv-x nv-axis");aa.append("g").attr("class","nv-y1 nv-axis");aa.append("g").attr("class","nv-y2 nv-axis");aa.append("g").attr("class","nv-barsWrap");aa.append("g").attr("class","nv-linesWrap");aa.append("g").attr("class","nv-brushBackground");
aa.append("g").attr("class","nv-x nv-brush");if(E){aa=o.align()?P/2:P;ea=o.align()?aa:0;o.width(aa);X.select(".nv-legendWrap").datum(G.map(function(a){a.originalKey=a.originalKey===void 0?a.key:a.originalKey;a.key=a.originalKey+(a.bar?R:U);return a})).call(o);if(m.top!=o.height()){m.top=o.height();S=c.utils.availableHeight(D,$,m)-n}X.select(".nv-legendWrap").attr("transform","translate("+ea+","+-m.top+")")}Y.attr("transform","translate("+m.left+","+m.top+")");X.select(".nv-context").style("display",
x?"initial":"none");f.width(P).height(ca).color(G.map(function(a,b){return a.color||y(a,b)}).filter(function(a,b){return!G[b].disabled&&G[b].bar}));e.width(P).height(ca).color(G.map(function(a,b){return a.color||y(a,b)}).filter(function(a,b){return!G[b].disabled&&!G[b].bar}));Y=X.select(".nv-context .nv-barsWrap").datum(da.length?da:[{values:[]}]);aa=X.select(".nv-context .nv-linesWrap").datum(V(fa)?[{values:[]}]:fa.filter(function(a){return!a.disabled}));X.select(".nv-context").attr("transform",
"translate(0,"+(S+m.bottom+u.top)+")");Y.transition().call(f);aa.transition().call(e);if(A){g._ticks(c.utils.calcTicksX(P/100,G)).tickSize(-ca,0);X.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+J.range()[0]+")");X.select(".nv-context .nv-x.nv-axis").transition().call(g)}if(F){l.scale(J)._ticks(ca/36).tickSize(-P,0);t.scale(L)._ticks(ca/36).tickSize(da.length?0:-P,0);X.select(".nv-context .nv-y3.nv-axis").style("opacity",da.length?1:0).attr("transform","translate(0,"+s.range()[0]+
")");X.select(".nv-context .nv-y2.nv-axis").style("opacity",fa.length?1:0).attr("transform","translate("+s.range()[1]+",0)");X.select(".nv-context .nv-y1.nv-axis").transition().call(l);X.select(".nv-context .nv-y2.nv-axis").transition().call(t)}p.x(s).on("brush",Q);C&&p.extent(C);var ga=X.select(".nv-brushBackground").selectAll("g").data([C||p.extent()]);Y=ga.enter().append("g");Y.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",ca);Y.append("rect").attr("class","right").attr("x",
0).attr("y",0).attr("height",ca);Y=X.select(".nv-x.nv-brush").call(p);Y.selectAll("rect").attr("height",ca);Y.selectAll(".resize").append("path").attr("d",function(a){var b=(a=+(a=="e"))?1:-1,c=ca/3;return"M"+0.5*b+","+c+"A6,6 0 0 "+a+" "+6.5*b+","+(c+6)+"V"+(2*c-6)+"A6,6 0 0 "+a+" "+0.5*b+","+2*c+"ZM"+2.5*b+","+(c+8)+"V"+(2*c-8)+"M"+4.5*b+","+(c+8)+"V"+(2*c-8)});o.dispatch.on("stateChange",function(b){for(var c in b)ba[c]=b[c];I.stateChange(ba);a.update()});I.on("changeState",function(b){if(typeof b.disabled!==
"undefined"){G.forEach(function(a,c){a.disabled=b.disabled[c]});ba.disabled=b.disabled}a.update()});Q()});return a}var b=c.models.line(),e=c.models.line(),j=c.models.historicalBar(),f=c.models.historicalBar(),h=c.models.axis(),g=c.models.axis(),d=c.models.axis(),i=c.models.axis(),l=c.models.axis(),t=c.models.axis(),o=c.models.legend(),p=d3.svg.brush(),r=c.models.tooltip(),m={top:30,right:30,bottom:30,left:60},u={top:0,right:30,bottom:20,left:60},z=null,D=null,q=function(a){return a.x},k=function(a){return a.y},
y=c.utils.defaultColor(),E=true,x=true,F=false,A=true,n=50,v,C=null,B,s,K,w,J,L,G=null,I=d3.dispatch("brush","stateChange","changeState"),H=0,ba=c.utils.state(),M=null,R=" (left axis)",U=" (right axis)";b.clipEdge(true);e.interactive(false);e.pointActive(function(){return false});h.orient("bottom").tickPadding(5);d.orient("left");i.orient("right");g.orient("bottom").tickPadding(5);l.orient("left");t.orient("right");r.headerEnabled(true).headerFormatter(function(a,b){return h.tickFormat()(a,b)});var N=
function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},O=function(a){return function(b){b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},V=function(a){return a.every(function(a){return a.disabled})};b.dispatch.on("elementMouseover.tooltip",function(a){r.duration(100).valueFormatter(function(a,b){return i.tickFormat()(a,b)}).data(a).position(a.pos).hidden(false)});b.dispatch.on("elementMouseout.tooltip",function(){r.hidden(true)});j.dispatch.on("elementMouseover.tooltip",
function(b){b.value=a.x()(b.data);b.series={value:a.y()(b.data),color:b.color};r.duration(0).valueFormatter(function(a,b){return d.tickFormat()(a,b)}).data(b).hidden(false)});j.dispatch.on("elementMouseout.tooltip",function(){r.hidden(true)});j.dispatch.on("elementMousemove.tooltip",function(){r.position({top:d3.event.pageY,left:d3.event.pageX})()});a.dispatch=I;a.legend=o;a.lines=b;a.lines2=e;a.bars=j;a.bars2=f;a.xAxis=h;a.x2Axis=g;a.y1Axis=d;a.y2Axis=i;a.y3Axis=l;a.y4Axis=t;a.tooltip=r;a.options=
c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return z},set:function(a){z=a}},height:{get:function(){return D},set:function(a){D=a}},showLegend:{get:function(){return E},set:function(a){E=a}},brushExtent:{get:function(){return C},set:function(a){C=a}},noData:{get:function(){return G},set:function(a){G=a}},focusEnable:{get:function(){return x},set:function(a){x=a}},focusHeight:{get:function(){return n},set:function(a){n=a}},focusShowAxisX:{get:function(){return A},
set:function(a){A=a}},focusShowAxisY:{get:function(){return F},set:function(a){F=a}},legendLeftAxisHint:{get:function(){return R},set:function(a){R=a}},legendRightAxisHint:{get:function(){return U},set:function(a){U=a}},tooltips:{get:function(){return r.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");r.enabled(!!a)}},tooltipContent:{get:function(){return r.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");
r.contentGenerator(a)}},margin:{get:function(){return m},set:function(a){m.top=a.top!==void 0?a.top:m.top;m.right=a.right!==void 0?a.right:m.right;m.bottom=a.bottom!==void 0?a.bottom:m.bottom;m.left=a.left!==void 0?a.left:m.left}},focusMargin:{get:function(){return u},set:function(a){u.top=a.top!==void 0?a.top:u.top;u.right=a.right!==void 0?a.right:u.right;u.bottom=a.bottom!==void 0?a.bottom:u.bottom;u.left=a.left!==void 0?a.left:u.left}},duration:{get:function(){return H},set:function(a){H=a}},color:{get:function(){return y},
set:function(a){y=c.utils.getColor(a);o.color(y)}},x:{get:function(){return q},set:function(a){q=a;b.x(a);e.x(a);j.x(a);f.x(a)}},y:{get:function(){return k},set:function(a){k=a;b.y(a);e.y(a);j.y(a);f.y(a)}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.lineWithFocusChart=function(){function a(w){w.each(function(w){function l(){i.empty()||i.extent(F);Q.data([i.empty()?y.domain():F]).each(function(a){var b=y(a[0])-q.range()[0],c=A-y(a[1]);d3.select(this).select(".left").attr("width",
b<0?0:b);d3.select(this).select(".right").attr("x",y(a[1])).attr("width",c<0?0:c)})}function G(){F=i.empty()?null:i.extent();var a=i.empty()?y.domain():i.extent();if(!(Math.abs(a[0]-a[1])<=1)){n.brush({extent:a,brush:i});l();O.select(".nv-focus .nv-linesWrap").datum(w.filter(function(a){return!a.disabled}).map(function(c){return{key:c.key,area:c.area,values:c.values.filter(function(c,d){return b.x()(c,d)>=a[0]&&b.x()(c,d)<=a[1]})}})).transition().duration(v).call(b);O.select(".nv-focus .nv-x.nv-axis").transition().duration(v).call(j);
O.select(".nv-focus .nv-y.nv-axis").transition().duration(v).call(f)}}var I=d3.select(this),H=this;c.utils.initSVG(I);var A=c.utils.availableWidth(m,I,o),M=c.utils.availableHeight(u,I,o)-z,R=z-p.top-p.bottom;a.update=function(){I.transition().duration(v).call(a)};a.container=this;C.setter(K(w),a.update).getter(s(w)).update();C.disabled=w.map(function(a){return!!a.disabled});if(!B){var U;B={};for(U in C)B[U]=C[U]instanceof Array?C[U].slice(0):C[U]}if(!w||!w.length||!w.filter(function(a){return a.values.length}).length){c.utils.noData(a,
I);return a}I.selectAll(".nv-noData").remove();q=b.xScale();k=b.yScale();y=e.xScale();E=e.yScale();U=I.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([w]);var N=U.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),O=U.select("g");N.append("g").attr("class","nv-legendWrap");var V=N.append("g").attr("class","nv-focus");V.append("g").attr("class","nv-x nv-axis");V.append("g").attr("class","nv-y nv-axis");V.append("g").attr("class","nv-linesWrap");V.append("g").attr("class",
"nv-interactive");N=N.append("g").attr("class","nv-context");N.append("g").attr("class","nv-x nv-axis");N.append("g").attr("class","nv-y nv-axis");N.append("g").attr("class","nv-linesWrap");N.append("g").attr("class","nv-brushBackground");N.append("g").attr("class","nv-x nv-brush");if(x){d.width(A);O.select(".nv-legendWrap").datum(w).call(d);if(o.top!=d.height()){o.top=d.height();M=c.utils.availableHeight(u,I,o)-z}O.select(".nv-legendWrap").attr("transform","translate(0,"+-o.top+")")}U.attr("transform",
"translate("+o.left+","+o.top+")");if(D){t.width(A).height(M).margin({left:o.left,top:o.top}).svgContainer(I).xScale(q);U.select(".nv-interactive").call(t)}b.width(A).height(M).color(w.map(function(a,b){return a.color||r(a,b)}).filter(function(a,b){return!w[b].disabled}));e.defined(b.defined()).width(A).height(R).color(w.map(function(a,b){return a.color||r(a,b)}).filter(function(a,b){return!w[b].disabled}));O.select(".nv-context").attr("transform","translate(0,"+(M+o.bottom+p.top)+")");U=O.select(".nv-context .nv-linesWrap").datum(w.filter(function(a){return!a.disabled}));
d3.transition(U).call(e);j.scale(q)._ticks(c.utils.calcTicksX(A/100,w)).tickSize(-M,0);f.scale(k)._ticks(c.utils.calcTicksY(M/36,w)).tickSize(-A,0);O.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+M+")");i.x(y).on("brush",function(){G()});F&&i.extent(F);var Q=O.select(".nv-brushBackground").selectAll("g").data([F||i.extent()]),M=Q.enter().append("g");M.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",R);M.append("rect").attr("class","right").attr("x",0).attr("y",
0).attr("height",R);M=O.select(".nv-x.nv-brush").call(i);M.selectAll("rect").attr("height",R);M.selectAll(".resize").append("path").attr("d",function(a){var b=(a=+(a=="e"))?1:-1,c=R/3;return"M"+0.5*b+","+c+"A6,6 0 0 "+a+" "+6.5*b+","+(c+6)+"V"+(2*c-6)+"A6,6 0 0 "+a+" "+0.5*b+","+2*c+"ZM"+2.5*b+","+(c+8)+"V"+(2*c-8)+"M"+4.5*b+","+(c+8)+"V"+(2*c-8)});G();h.scale(y)._ticks(c.utils.calcTicksX(A/100,w)).tickSize(-R,0);O.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+E.range()[0]+")");
d3.transition(O.select(".nv-context .nv-x.nv-axis")).call(h);g.scale(E)._ticks(c.utils.calcTicksY(R/36,w)).tickSize(-A,0);d3.transition(O.select(".nv-context .nv-y.nv-axis")).call(g);O.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+E.range()[0]+")");d.dispatch.on("stateChange",function(b){for(var c in b)C[c]=b[c];n.stateChange(C);a.update()});t.dispatch.on("elementMousemove",function(d){b.clearHighlights();var e,s,k,h=[];w.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(w,
f){var H=i.empty()?y.domain():i.extent(),n=w.values.filter(function(a,c){return b.x()(a,c)>=H[0]&&b.x()(a,c)<=H[1]});s=c.interactiveBisect(n,d.pointXValue,b.x());n=n[s];a.y()(n,s)!=null&&b.highlightPoint(f,s,true);if(n!==void 0){e===void 0&&(e=n);k===void 0&&(k=a.xScale()(a.x()(n,s)));h.push({key:w.key,value:a.y()(n,s),color:r(w,w.seriesIndex)})}});if(h.length>2){var n=a.yScale().invert(d.mouseY),g=0.03*Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]),n=c.nearestValueIndex(h.map(function(a){return a.value}),
n,g);if(n!==null)h[n].highlight=true}n=j.tickFormat()(a.x()(e,s));t.tooltip.position({left:d.mouseX+o.left,top:d.mouseY+o.top}).chartContainer(H.parentNode).valueFormatter(function(a){return a==null?"N/A":f.tickFormat()(a)}).data({value:n,index:s,series:h})();t.renderGuideLine(k)});t.dispatch.on("elementMouseout",function(){b.clearHighlights()});n.on("changeState",function(b){typeof b.disabled!=="undefined"&&w.forEach(function(a,c){a.disabled=b.disabled[c]});a.update()})});return a}var b=c.models.line(),
e=c.models.line(),j=c.models.axis(),f=c.models.axis(),h=c.models.axis(),g=c.models.axis(),d=c.models.legend(),i=d3.svg.brush(),l=c.models.tooltip(),t=c.interactiveGuideline(),o={top:30,right:30,bottom:30,left:60},p={top:0,right:30,bottom:20,left:60},r=c.utils.defaultColor(),m=null,u=null,z=50,D=false,q,k,y,E,x=true,F=null,A=null,n=d3.dispatch("brush","stateChange","changeState"),v=250,C=c.utils.state(),B=null;b.clipEdge(true).duration(0);e.interactive(false);e.pointActive(function(){return false});
j.orient("bottom").tickPadding(5);f.orient("left");h.orient("bottom").tickPadding(5);g.orient("left");l.valueFormatter(function(a,b){return f.tickFormat()(a,b)}).headerFormatter(function(a,b){return j.tickFormat()(a,b)});var s=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},K=function(a){return function(b){b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};b.dispatch.on("elementMouseover.tooltip",function(a){l.data(a).position(a.pos).hidden(false)});
b.dispatch.on("elementMouseout.tooltip",function(){l.hidden(true)});a.dispatch=n;a.legend=d;a.lines=b;a.lines2=e;a.xAxis=j;a.yAxis=f;a.x2Axis=h;a.y2Axis=g;a.interactiveLayer=t;a.tooltip=l;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return m},set:function(a){m=a}},height:{get:function(){return u},set:function(a){u=a}},focusHeight:{get:function(){return z},set:function(a){z=a}},showLegend:{get:function(){return x},set:function(a){x=a}},brushExtent:{get:function(){return F},
set:function(a){F=a}},defaultState:{get:function(){return B},set:function(a){B=a}},noData:{get:function(){return A},set:function(a){A=a}},tooltips:{get:function(){return l.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");l.enabled(!!a)}},tooltipContent:{get:function(){return l.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");l.contentGenerator(a)}},margin:{get:function(){return o},set:function(a){o.top=
a.top!==void 0?a.top:o.top;o.right=a.right!==void 0?a.right:o.right;o.bottom=a.bottom!==void 0?a.bottom:o.bottom;o.left=a.left!==void 0?a.left:o.left}},focusMargin:{get:function(){return p},set:function(a){p.top=a.top!==void 0?a.top:p.top;p.right=a.right!==void 0?a.right:p.right;p.bottom=a.bottom!==void 0?a.bottom:p.bottom;p.left=a.left!==void 0?a.left:p.left}},color:{get:function(){return r},set:function(a){r=c.utils.getColor(a);d.color(r)}},interpolate:{get:function(){return b.interpolate()},set:function(a){b.interpolate(a);
e.interpolate(a)}},xTickFormat:{get:function(){return j.tickFormat()},set:function(a){j.tickFormat(a);h.tickFormat(a)}},yTickFormat:{get:function(){return f.tickFormat()},set:function(a){f.tickFormat(a);g.tickFormat(a)}},duration:{get:function(){return v},set:function(a){v=a;f.duration(v);g.duration(v);j.duration(v);h.duration(v)}},x:{get:function(){return b.x()},set:function(a){b.x(a);e.x(a)}},y:{get:function(){return b.y()},set:function(a){b.y(a);e.y(a)}},useInteractiveGuideline:{get:function(){return D},
set:function(a){if(D=a){b.interactive(false);b.useVoronoi(false)}}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.multiBar=function(){function a(B){v.reset();B.each(function(a){var B=e-b.left-b.right,w=j-b.top-b.bottom;d=d3.select(this);c.utils.initSVG(d);var J=0;u&&a.length&&(u=[{values:a[0].values.map(function(a){return{x:a.x,y:0,series:a.series,size:0.01}})}]);if(p){var L=d3.layout.stack().offset(r).values(function(a){return a.values}).y(l)(!a.length&&u?u:a);L.forEach(function(b,
c){if(b.nonStackable){a[c].nonStackableSeries=J++;L[c]=a[c]}else c>0&&L[c-1].nonStackable&&L[c].values.map(function(a,b){a.y0=a.y0-L[c-1].values[b].y;a.y1=a.y0+a.y})});a=L}a.forEach(function(a,b){a.values.forEach(function(c){c.series=b;c.key=a.key})});p&&a[0].values.map(function(b,c){var d=0,e=0;a.map(function(b,w){if(!a[w].nonStackable){var f=b.values[c];f.size=Math.abs(f.y);if(f.y<0){f.y1=e;e=e-f.size}else{f.y1=f.size+d;d=d+f.size}}})});var G=k&&y?[]:a.map(function(a,b){return a.values.map(function(a,
c){return{x:i(a,c),y:l(a,c),y0:a.y0,y1:a.y1,idx:b}})});f.domain(k||d3.merge(G).map(function(a){return a.x})).rangeBands(E||[0,B],F);h.domain(y||d3.extent(d3.merge(G).map(function(b){var c=b.y;p&&!a[b.idx].nonStackable&&(c=b.y>0?b.y1:b.y1+b.y);return c}).concat(t))).range(x||[w,0]);f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]-f.domain()[0]*0.01,f.domain()[1]+f.domain()[1]*0.01]):f.domain([-1,1]));h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]+h.domain()[0]*
0.01,h.domain()[1]-h.domain()[1]*0.01]):h.domain([-1,1]));n=n||h;var G=d.selectAll("g.nv-wrap.nv-multibar").data([a]),I=G.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),H=I.append("defs"),I=I.append("g"),ba=G.select("g");I.append("g").attr("class","nv-groups");G.attr("transform","translate("+b.left+","+b.top+")");H.append("clipPath").attr("id","nv-edge-clip-"+g).append("rect");G.select("#nv-edge-clip-"+g+" rect").attr("width",B).attr("height",w);ba.attr("clip-path",o?"url(#nv-edge-clip-"+
g+")":"");B=G.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a,b){return b});B.enter().append("g").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6);w=v.transition(B.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,q)).attr("y",function(b){var c=n(0)||0;p&&a[b.series]&&!a[b.series].nonStackable&&(c=n(b.y0));return c}).attr("height",0).remove();w.delay&&w.delay(function(a,b){return b*(q/(C+1))-b});B.attr("class",function(a,b){return"nv-group nv-series-"+
b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return m(a,b)}).style("stroke",function(a,b){return m(a,b)});B.style("stroke-opacity",1).style("fill-opacity",0.75);B=B.selectAll("rect.nv-bar").data(function(b){return u&&!a.length?u.values:b.values});B.exit().remove();B.enter().append("rect").attr("class",function(a,b){return l(a,b)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(b,c,d){return p&&!a[d].nonStackable?0:d*f.rangeBand()/a.length}).attr("y",function(b,
c,d){return n(p&&!a[d].nonStackable?b.y0:0)||0}).attr("height",0).attr("width",function(b,c,d){return f.rangeBand()/(p&&!a[d].nonStackable?1:a.length)}).attr("transform",function(a,b){return"translate("+f(i(a,b))+",0)"});B.style("fill",function(a,b,c){return m(a,c,b)}).style("stroke",function(a,b,c){return m(a,c,b)}).on("mouseover",function(a,b){d3.select(this).classed("hover",true);A.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){d3.select(this).classed("hover",
false);A.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mousemove",function(a,b){A.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){A.elementClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()}).on("dblclick",function(a,b){A.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()});B.attr("class",function(a,b){return l(a,b)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",
function(a,b){return"translate("+f(i(a,b))+",0)"});if(z){D||(D=a.map(function(){return true}));B.style("fill",function(a,b,c){return d3.rgb(z(a,b)).darker(D.map(function(a,b){return b}).filter(function(a,b){return!D[b]})[c]).toString()}).style("stroke",function(a,b,c){return d3.rgb(z(a,b)).darker(D.map(function(a,b){return b}).filter(function(a,b){return!D[b]})[c]).toString()})}B=B.watchTransition(v,"multibar",Math.min(250,q)).delay(function(b,c){return c*q/a[0].values.length});p?B.attr("y",function(b,
c,d){var e=0;return e=a[d].nonStackable?l(b,c)<0?h(0):h(0)-h(l(b,c))<-1?h(0)-1:h(l(b,c))||0:h(b.y1)}).attr("height",function(b,c,d){return a[d].nonStackable?Math.max(Math.abs(h(l(b,c))-h(0)),1)||0:Math.max(Math.abs(h(b.y+b.y0)-h(b.y0)),1)}).attr("x",function(b,c,d){c=0;if(a[d].nonStackable){c=b.series*f.rangeBand()/a.length;a.length!==J&&(c=a[d].nonStackableSeries*f.rangeBand()/(J*2))}return c}).attr("width",function(b,c,d){if(a[d].nonStackable){b=f.rangeBand()/J;a.length!==J&&(b=f.rangeBand()/(J*
2));return b}return f.rangeBand()}):B.attr("x",function(b){return b.series*f.rangeBand()/a.length}).attr("width",f.rangeBand()/a.length).attr("y",function(a,b){return l(a,b)<0?h(0):h(0)-h(l(a,b))<1?h(0)-1:h(l(a,b))||0}).attr("height",function(a,b){return Math.max(Math.abs(h(l(a,b))-h(0)),1)||0});f.copy();n=h.copy();if(a[0]&&a[0].values)C=a[0].values.length});v.renderEnd("multibar immediate");return a}var b={top:0,right:0,bottom:0,left:0},e=960,j=500,f=d3.scale.ordinal(),h=d3.scale.linear(),g=Math.floor(Math.random()*
1E4),d=null,i=function(a){return a.x},l=function(a){return a.y},t=[0],o=true,p=false,r="zero",m=c.utils.defaultColor(),u=false,z=null,D,q=500,k,y,E,x,F=0.1,A=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),n,v=c.utils.renderWatch(A,q),C=0;a.dispatch=A;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return j},set:function(a){j=
a}},x:{get:function(){return i},set:function(a){i=a}},y:{get:function(){return l},set:function(a){l=a}},xScale:{get:function(){return f},set:function(a){f=a}},yScale:{get:function(){return h},set:function(a){h=a}},xDomain:{get:function(){return k},set:function(a){k=a}},yDomain:{get:function(){return y},set:function(a){y=a}},xRange:{get:function(){return E},set:function(a){E=a}},yRange:{get:function(){return x},set:function(a){x=a}},forceY:{get:function(){return t},set:function(a){t=a}},stacked:{get:function(){return p},
set:function(a){p=a}},stackOffset:{get:function(){return r},set:function(a){r=a}},clipEdge:{get:function(){return o},set:function(a){o=a}},disabled:{get:function(){return D},set:function(a){D=a}},id:{get:function(){return g},set:function(a){g=a}},hideable:{get:function(){return u},set:function(a){u=a}},groupSpacing:{get:function(){return F},set:function(a){F=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==
void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},duration:{get:function(){return q},set:function(a){q=a;v.reset(q)}},color:{get:function(){return m},set:function(a){m=c.utils.getColor(a)}},barColor:{get:function(){return z},set:function(a){z=a?c.utils.getColor(a):null}}});c.utils.initOptions(a);return a};c.models.multiBarChart=function(){function a(w){C.reset();C.models(b);m&&C.models(e);u&&C.models(j);w.each(function(w){var g=d3.select(this);c.utils.initSVG(g);var G=c.utils.availableWidth(i,
g,d),I=c.utils.availableHeight(l,g,d);a.update=function(){v===0?g.call(a):g.transition().duration(v).call(a)};a.container=this;x.setter(K(w),a.update).getter(s(w)).update();x.disabled=w.map(function(a){return!!a.disabled});if(!F){var H;F={};for(H in x)F[H]=x[H]instanceof Array?x[H].slice(0):x[H]}if(!w||!w.length||!w.filter(function(a){return a.values.length}).length){c.utils.noData(a,g);return a}g.selectAll(".nv-noData").remove();y=b.xScale();E=b.yScale();var C=g.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([w]),
A=C.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g");H=C.select("g");A.append("g").attr("class","nv-x nv-axis");A.append("g").attr("class","nv-y nv-axis");A.append("g").attr("class","nv-barsWrap");A.append("g").attr("class","nv-legendWrap");A.append("g").attr("class","nv-controlsWrap");if(r){f.width(G-(o?180:0));H.select(".nv-legendWrap").datum(w).call(f);if(d.top!=f.height()){d.top=f.height();I=c.utils.availableHeight(l,g,d)}H.select(".nv-legendWrap").attr("transform",
"translate("+(o?180:0)+","+-d.top+")")}if(o){var R=[{key:p.grouped||"Grouped",disabled:b.stacked()},{key:p.stacked||"Stacked",disabled:!b.stacked()}];h.width(o?180:0).color(["#444","#444","#444"]);H.select(".nv-controlsWrap").datum(R).attr("transform","translate(0,"+-d.top+")").call(h)}C.attr("transform","translate("+d.left+","+d.top+")");z&&H.select(".nv-y.nv-axis").attr("transform","translate("+G+",0)");b.disabled(w.map(function(a){return a.disabled})).width(G).height(I).color(w.map(function(a,
b){return a.color||t(a,b)}).filter(function(a,b){return!w[b].disabled}));H.select(".nv-barsWrap").datum(w.filter(function(a){return!a.disabled})).call(b);if(m){e.scale(y)._ticks(c.utils.calcTicksX(G/100,w)).tickSize(-I,0);H.select(".nv-x.nv-axis").attr("transform","translate(0,"+E.range()[0]+")");H.select(".nv-x.nv-axis").call(e);C=H.select(".nv-x.nv-axis > g").selectAll("g");C.selectAll("line, text").style("opacity",1);if(q){C.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+
(c%2==0?5:17)+")"});var U=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;H.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(a,b){return"translate(0,"+(b===0||U%2!==0?17:5)+")"})}D&&C.filter(function(a,b){return b%Math.ceil(w[0].values.length/(G/100))!==0}).selectAll("text, line").style("opacity",0);k&&C.selectAll(".tick text").attr("transform","rotate("+k+" 0,0)").style("text-anchor",k>0?"start":"end");H.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",
1)}if(u){j.scale(E)._ticks(c.utils.calcTicksY(I/36,w)).tickSize(-G,0);H.select(".nv-y.nv-axis").call(j)}f.dispatch.on("stateChange",function(b){for(var c in b)x[c]=b[c];n.stateChange(x);a.update()});h.dispatch.on("legendClick",function(c){if(c.disabled){R=R.map(function(a){a.disabled=true;return a});c.disabled=false;switch(c.key){case "Grouped":case p.grouped:b.stacked(false);break;case "Stacked":case p.stacked:b.stacked(true)}x.stacked=b.stacked();n.stateChange(x);a.update()}});n.on("changeState",
function(c){if(typeof c.disabled!=="undefined"){w.forEach(function(a,b){a.disabled=c.disabled[b]});x.disabled=c.disabled}if(typeof c.stacked!=="undefined"){b.stacked(c.stacked);B=x.stacked=c.stacked}a.update()})});C.renderEnd("multibarchart immediate");return a}var b=c.models.multiBar(),e=c.models.axis(),j=c.models.axis(),f=c.models.legend(),h=c.models.legend(),g=c.models.tooltip(),d={top:30,right:20,bottom:50,left:60},i=null,l=null,t=c.utils.defaultColor(),o=true,p={},r=true,m=true,u=true,z=false,
D=true,q=false,k=0,y,E,x=c.utils.state(),F=null,A=null,n=d3.dispatch("stateChange","changeState","renderEnd"),v=250;x.stacked=false;b.stacked(false);e.orient("bottom").tickPadding(7).showMaxMin(false).tickFormat(function(a){return a});j.orient(z?"right":"left").tickFormat(d3.format(",.1f"));g.duration(0).valueFormatter(function(a,b){return j.tickFormat()(a,b)}).headerFormatter(function(a,b){return e.tickFormat()(a,b)});h.updateState(false);var C=c.utils.renderWatch(n),B=false,s=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),
stacked:B}}},K=function(a){return function(b){if(b.stacked!==void 0)B=b.stacked;b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};b.dispatch.on("elementMouseover.tooltip",function(b){b.value=a.x()(b.data);b.series={key:b.data.key,value:a.y()(b.data),color:b.color};g.data(b).hidden(false)});b.dispatch.on("elementMouseout.tooltip",function(){g.hidden(true)});b.dispatch.on("elementMousemove.tooltip",function(){g.position({top:d3.event.pageY,left:d3.event.pageX})()});a.dispatch=n;
a.multibar=b;a.legend=f;a.controls=h;a.xAxis=e;a.yAxis=j;a.state=x;a.tooltip=g;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return i},set:function(a){i=a}},height:{get:function(){return l},set:function(a){l=a}},showLegend:{get:function(){return r},set:function(a){r=a}},showControls:{get:function(){return o},set:function(a){o=a}},controlLabels:{get:function(){return p},set:function(a){p=a}},showXAxis:{get:function(){return m},set:function(a){m=a}},showYAxis:{get:function(){return u},
set:function(a){u=a}},defaultState:{get:function(){return F},set:function(a){F=a}},noData:{get:function(){return A},set:function(a){A=a}},reduceXTicks:{get:function(){return D},set:function(a){D=a}},rotateLabels:{get:function(){return k},set:function(a){k=a}},staggerLabels:{get:function(){return q},set:function(a){q=a}},tooltips:{get:function(){return g.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");g.enabled(!!a)}},tooltipContent:{get:function(){return g.contentGenerator()},
set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");g.contentGenerator(a)}},margin:{get:function(){return d},set:function(a){d.top=a.top!==void 0?a.top:d.top;d.right=a.right!==void 0?a.right:d.right;d.bottom=a.bottom!==void 0?a.bottom:d.bottom;d.left=a.left!==void 0?a.left:d.left}},duration:{get:function(){return v},set:function(a){v=a;b.duration(v);e.duration(v);j.duration(v);C.reset(v)}},color:{get:function(){return t},set:function(a){t=c.utils.getColor(a);
f.color(t)}},rightAlignYAxis:{get:function(){return z},set:function(a){z=a;j.orient(z?"right":"left")}},barColor:{get:function(){return b.barColor},set:function(a){b.barColor(a);f.color(function(a,b){return d3.rgb("#ccc").darker(b*1.5).toString()})}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.multiBarHorizontal=function(){function a(f){B.reset();f.each(function(a){var f=e-b.left-b.right,s=j-b.top-b.bottom;h=d3.select(this);c.utils.initSVG(h);u&&(a=d3.layout.stack().offset("zero").values(function(a){return a.values}).y(l)(a));
a.forEach(function(a,b){a.values.forEach(function(c){c.series=b;c.key=a.key})});u&&a[0].values.map(function(b,c){var d=0,e=0;a.map(function(a){a=a.values[c];a.size=Math.abs(a.y);if(a.y<0){a.y1=e-a.size;e=e-a.size}else{a.y1=d;d=d+a.size}})});var n=E&&x?[]:a.map(function(a){return a.values.map(function(a,b){return{x:i(a,b),y:l(a,b),y0:a.y0,y1:a.y1}})});g.domain(E||d3.merge(n).map(function(a){return a.x})).rangeBands(F||[0,s],k);d.domain(x||d3.extent(d3.merge(n).map(function(a){return u?a.y>0?a.y1+a.y:
a.y1:a.y}).concat(o)));z&&!u?d.range(A||[d.domain()[0]<0?q:0,f-(d.domain()[1]>0?q:0)]):d.range(A||[0,f]);C=C||d3.scale.linear().domain(d.domain()).range([d(0),d(0)]);f=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([a]);s=f.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal");s.append("defs");s=s.append("g");f.select("g");s.append("g").attr("class","nv-groups");f.attr("transform","translate("+b.left+","+b.top+")");f=f.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},
function(a,b){return b});f.enter().append("g").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6);f.exit().watchTransition(B,"multibarhorizontal: exit groups").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6).remove();f.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return p(a,b)}).style("stroke",function(a,b){return p(a,b)});f.watchTransition(B,"multibarhorizontal: groups").style("stroke-opacity",
1).style("fill-opacity",0.75);f=f.selectAll("g.nv-bar").data(function(a){return a.values});f.exit().remove();s=f.enter().append("g").attr("transform",function(b,c,d){return"translate("+C(u?b.y0:0)+","+(u?0:d*g.rangeBand()/a.length+g(i(b,c)))+")"});s.append("rect").attr("width",0).attr("height",g.rangeBand()/(u?1:a.length));f.on("mouseover",function(a,b){d3.select(this).classed("hover",true);v.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){d3.select(this).classed("hover",
false);v.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){v.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mousemove",function(a,b){v.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){v.elementClick({data:a,index:b,color:d3.select(this).style("fill")});d3.event.stopPropagation()}).on("dblclick",function(a,b){v.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")});
d3.event.stopPropagation()});if(t(a[0],0)){s.append("polyline");f.select("polyline").attr("fill","none").attr("points",function(b,c){var e=t(b,c),f=0.8*g.rangeBand()/((u?1:a.length)*2),e=e.length?e:[-Math.abs(e),Math.abs(e)],e=e.map(function(a){return d(a)-d(0)});return[[e[0],-f],[e[0],f],[e[0],0],[e[1],0],[e[1],-f],[e[1],f]].map(function(a){return a.join(",")}).join(" ")}).attr("transform",function(b,c){var e=g.rangeBand()/((u?1:a.length)*2);return"translate("+(l(b,c)<0?0:d(l(b,c))-d(0))+", "+e+
")"})}s.append("text");if(z&&!u){f.select("text").attr("text-anchor",function(a,b){return l(a,b)<0?"end":"start"}).attr("y",g.rangeBand()/(a.length*2)).attr("dy",".32em").text(function(a,b){var c=y(l(a,b)),d=t(a,b);return d===void 0?c:!d.length?c+"\u00b1"+y(Math.abs(d)):c+"+"+y(Math.abs(d[1]))+"-"+y(Math.abs(d[0]))});f.watchTransition(B,"multibarhorizontal: bars").select("text").attr("x",function(a,b){return l(a,b)<0?-4:d(l(a,b))-d(0)+4})}else f.selectAll("text").text("");if(D&&!u){s.append("text").classed("nv-bar-label",
true);f.select("text.nv-bar-label").attr("text-anchor",function(a,b){return l(a,b)<0?"start":"end"}).attr("y",g.rangeBand()/(a.length*2)).attr("dy",".32em").text(function(a,b){return i(a,b)});f.watchTransition(B,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(a,b){return l(a,b)<0?d(0)-d(l(a,b))+4:-4})}else f.selectAll("text.nv-bar-label").text("");f.attr("class",function(a,b){return l(a,b)<0?"nv-bar negative":"nv-bar positive"});if(r){m||(m=a.map(function(){return true}));
f.style("fill",function(a,b,c){return d3.rgb(r(a,b)).darker(m.map(function(a,b){return b}).filter(function(a,b){return!m[b]})[c]).toString()}).style("stroke",function(a,b,c){return d3.rgb(r(a,b)).darker(m.map(function(a,b){return b}).filter(function(a,b){return!m[b]})[c]).toString()})}u?f.watchTransition(B,"multibarhorizontal: bars").attr("transform",function(a,b){return"translate("+d(a.y1)+","+g(i(a,b))+")"}).select("rect").attr("width",function(a,b){return Math.abs(d(l(a,b)+a.y0)-d(a.y0))}).attr("height",
g.rangeBand()):f.watchTransition(B,"multibarhorizontal: bars").attr("transform",function(b,c){return"translate("+(l(b,c)<0?d(l(b,c)):d(0))+","+(b.series*g.rangeBand()/a.length+g(i(b,c)))+")"}).select("rect").attr("height",g.rangeBand()/a.length).attr("width",function(a,b){return Math.max(Math.abs(d(l(a,b))-d(0)),1)});g.copy();C=d.copy()});B.renderEnd("multibarHorizontal immediate");return a}var b={top:0,right:0,bottom:0,left:0},e=960,j=500,f=Math.floor(Math.random()*1E4),h=null,g=d3.scale.ordinal(),
d=d3.scale.linear(),i=function(a){return a.x},l=function(a){return a.y},t=function(a){return a.yErr},o=[0],p=c.utils.defaultColor(),r=null,m,u=false,z=false,D=false,q=60,k=0.1,y=d3.format(",.2f"),E,x,F,A,n=250,v=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),C,B=c.utils.renderWatch(v,n);a.dispatch=v;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},
height:{get:function(){return j},set:function(a){j=a}},x:{get:function(){return i},set:function(a){i=a}},y:{get:function(){return l},set:function(a){l=a}},yErr:{get:function(){return t},set:function(a){t=a}},xScale:{get:function(){return g},set:function(a){g=a}},yScale:{get:function(){return d},set:function(a){d=a}},xDomain:{get:function(){return E},set:function(a){E=a}},yDomain:{get:function(){return x},set:function(a){x=a}},xRange:{get:function(){return F},set:function(a){F=a}},yRange:{get:function(){return A},
set:function(a){A=a}},forceY:{get:function(){return o},set:function(a){o=a}},stacked:{get:function(){return u},set:function(a){u=a}},showValues:{get:function(){return z},set:function(a){z=a}},disabled:{get:function(){return m},set:function(a){m=a}},id:{get:function(){return f},set:function(a){f=a}},valueFormat:{get:function(){return y},set:function(a){y=a}},valuePadding:{get:function(){return q},set:function(a){q=a}},groupSpacing:{get:function(){return k},set:function(a){k=a}},margin:{get:function(){return b},
set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},duration:{get:function(){return n},set:function(a){n=a;B.reset(n)}},color:{get:function(){return p},set:function(a){p=c.utils.getColor(a)}},barColor:{get:function(){return r},set:function(a){r=a?c.utils.getColor(a):null}}});c.utils.initOptions(a);return a};c.models.multiBarHorizontalChart=function(){function a(g){v.reset();v.models(b);
m&&v.models(e);u&&v.models(j);g.each(function(g){var s=d3.select(this);c.utils.initSVG(s);var C=c.utils.availableWidth(i,s,d),w=c.utils.availableHeight(l,s,d);a.update=function(){s.transition().duration(F).call(a)};a.container=this;z=b.stacked();k.setter(n(g),a.update).getter(A(g)).update();k.disabled=g.map(function(a){return!!a.disabled});if(!y){var v;y={};for(v in k)y[v]=k[v]instanceof Array?k[v].slice(0):k[v]}if(!g||!g.length||!g.filter(function(a){return a.values.length}).length){c.utils.noData(a,
s);return a}s.selectAll(".nv-noData").remove();D=b.xScale();q=b.yScale();v=s.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([g]);var E=v.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),G=v.select("g");E.append("g").attr("class","nv-x nv-axis");E.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");E.append("g").attr("class","nv-barsWrap");E.append("g").attr("class","nv-legendWrap");E.append("g").attr("class",
"nv-controlsWrap");if(r){f.width(C-(o?180:0));G.select(".nv-legendWrap").datum(g).call(f);if(d.top!=f.height()){d.top=f.height();w=c.utils.availableHeight(l,s,d)}G.select(".nv-legendWrap").attr("transform","translate("+(o?180:0)+","+-d.top+")")}if(o){var I=[{key:p.grouped||"Grouped",disabled:b.stacked()},{key:p.stacked||"Stacked",disabled:!b.stacked()}];h.width(o?180:0).color(["#444","#444","#444"]);G.select(".nv-controlsWrap").datum(I).attr("transform","translate(0,"+-d.top+")").call(h)}v.attr("transform",
"translate("+d.left+","+d.top+")");b.disabled(g.map(function(a){return a.disabled})).width(C).height(w).color(g.map(function(a,b){return a.color||t(a,b)}).filter(function(a,b){return!g[b].disabled}));G.select(".nv-barsWrap").datum(g.filter(function(a){return!a.disabled})).transition().call(b);if(m){e.scale(D)._ticks(c.utils.calcTicksY(w/24,g)).tickSize(-C,0);G.select(".nv-x.nv-axis").call(e);G.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text")}if(u){j.scale(q)._ticks(c.utils.calcTicksX(C/
100,g)).tickSize(-w,0);G.select(".nv-y.nv-axis").attr("transform","translate(0,"+w+")");G.select(".nv-y.nv-axis").call(j)}G.select(".nv-zeroLine line").attr("x1",q(0)).attr("x2",q(0)).attr("y1",0).attr("y2",-w);f.dispatch.on("stateChange",function(b){for(var c in b)k[c]=b[c];x.stateChange(k);a.update()});h.dispatch.on("legendClick",function(c){if(c.disabled){I=I.map(function(a){a.disabled=true;return a});c.disabled=false;switch(c.key){case "Grouped":b.stacked(false);break;case "Stacked":b.stacked(true)}k.stacked=
b.stacked();x.stateChange(k);z=b.stacked();a.update()}});x.on("changeState",function(c){if(typeof c.disabled!=="undefined"){g.forEach(function(a,b){a.disabled=c.disabled[b]});k.disabled=c.disabled}if(typeof c.stacked!=="undefined"){b.stacked(c.stacked);z=k.stacked=c.stacked}a.update()})});v.renderEnd("multibar horizontal chart immediate");return a}var b=c.models.multiBarHorizontal(),e=c.models.axis(),j=c.models.axis(),f=c.models.legend().height(30),h=c.models.legend().height(30),g=c.models.tooltip(),
d={top:30,right:20,bottom:50,left:60},i=null,l=null,t=c.utils.defaultColor(),o=true,p={},r=true,m=true,u=true,z=false,D,q,k=c.utils.state(),y=null,E=null,x=d3.dispatch("stateChange","changeState","renderEnd"),F=250;k.stacked=false;b.stacked(z);e.orient("left").tickPadding(5).showMaxMin(false).tickFormat(function(a){return a});j.orient("bottom").tickFormat(d3.format(",.1f"));g.duration(0).valueFormatter(function(a,b){return j.tickFormat()(a,b)}).headerFormatter(function(a,b){return e.tickFormat()(a,
b)});h.updateState(false);var A=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),stacked:z}}},n=function(a){return function(b){if(b.stacked!==void 0)z=b.stacked;b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},v=c.utils.renderWatch(x,F);b.dispatch.on("elementMouseover.tooltip",function(b){b.value=a.x()(b.data);b.series={key:b.data.key,value:a.y()(b.data),color:b.color};g.data(b).hidden(false)});b.dispatch.on("elementMouseout.tooltip",function(){g.hidden(true)});
b.dispatch.on("elementMousemove.tooltip",function(){g.position({top:d3.event.pageY,left:d3.event.pageX})()});a.dispatch=x;a.multibar=b;a.legend=f;a.controls=h;a.xAxis=e;a.yAxis=j;a.state=k;a.tooltip=g;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return i},set:function(a){i=a}},height:{get:function(){return l},set:function(a){l=a}},showLegend:{get:function(){return r},set:function(a){r=a}},showControls:{get:function(){return o},set:function(a){o=a}},controlLabels:{get:function(){return p},
set:function(a){p=a}},showXAxis:{get:function(){return m},set:function(a){m=a}},showYAxis:{get:function(){return u},set:function(a){u=a}},defaultState:{get:function(){return y},set:function(a){y=a}},noData:{get:function(){return E},set:function(a){E=a}},tooltips:{get:function(){return g.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");g.enabled(!!a)}},tooltipContent:{get:function(){return g.contentGenerator()},set:function(a){c.deprecated("tooltipContent",
"use chart.tooltip.contentGenerator() instead");g.contentGenerator(a)}},margin:{get:function(){return d},set:function(a){d.top=a.top!==void 0?a.top:d.top;d.right=a.right!==void 0?a.right:d.right;d.bottom=a.bottom!==void 0?a.bottom:d.bottom;d.left=a.left!==void 0?a.left:d.left}},duration:{get:function(){return F},set:function(a){F=a;v.reset(F);b.duration(F);e.duration(F);j.duration(F)}},color:{get:function(){return t},set:function(a){t=c.utils.getColor(a);f.color(t)}},barColor:{get:function(){return b.barColor},
set:function(a){b.barColor(a);f.color(function(a,b){return d3.rgb("#ccc").darker(b*1.5).toString()})}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.multiChart=function(){function a(g){g.each(function(g){function s(a){var b=g[a.seriesIndex].yAxis===2?v:n;a.value=a.point.x;a.series={value:a.point.y,color:a.point.color};B.duration(100).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).position(a.pos).hidden(false)}function l(a){var b=g[a.seriesIndex].yAxis===
2?v:n;a.value=a.point.x;a.series={value:a.point.y,color:a.point.color};B.duration(100).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).position(a.pos).hidden(false)}function p(a){var b=g[a.seriesIndex].yAxis===2?v:n;a.point.x=x.x()(a.point);a.point.y=x.y()(a.point);B.duration(100).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).position(a.pos).hidden(false)}function I(a){var b=g[a.data.series].yAxis===2?v:n;a.value=y.x()(a.data);a.series={value:y.y()(a.data),color:a.color};
B.duration(0).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).hidden(false)}var H=d3.select(this);c.utils.initSVG(H);a.update=function(){H.transition().call(a)};a.container=this;var t=c.utils.availableWidth(j,H,b),K=c.utils.availableHeight(f,H,b),R=g.filter(function(a){return a.type=="line"&&a.yAxis==1}),U=g.filter(function(a){return a.type=="line"&&a.yAxis==2}),N=g.filter(function(a){return a.type=="scatter"&&a.yAxis==1}),O=g.filter(function(a){return a.type=="scatter"&&a.yAxis==
2}),V=g.filter(function(a){return a.type=="bar"&&a.yAxis==1}),Q=g.filter(function(a){return a.type=="bar"&&a.yAxis==2}),T=g.filter(function(a){return a.type=="area"&&a.yAxis==1}),W=g.filter(function(a){return a.type=="area"&&a.yAxis==2});if(!g||!g.length||!g.filter(function(a){return a.values.length}).length){c.utils.noData(a,H);return a}H.selectAll(".nv-noData").remove();var Z=g.filter(function(a){return!a.disabled&&a.yAxis==1}).map(function(a){return a.values.map(function(a){return{x:a.x,y:a.y}})}),
$=g.filter(function(a){return!a.disabled&&a.yAxis==2}).map(function(a){return a.values.map(function(a){return{x:a.x,y:a.y}})});r.domain(d3.extent(d3.merge(Z.concat($)),function(a){return a.x})).range([0,t]);var P=H.selectAll("g.wrap.multiChart").data([g]),S=P.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");S.append("g").attr("class","nv-x nv-axis");S.append("g").attr("class","nv-y1 nv-axis");S.append("g").attr("class","nv-y2 nv-axis");S.append("g").attr("class","lines1Wrap");
S.append("g").attr("class","lines2Wrap");S.append("g").attr("class","scatters1Wrap");S.append("g").attr("class","scatters2Wrap");S.append("g").attr("class","bars1Wrap");S.append("g").attr("class","bars2Wrap");S.append("g").attr("class","stack1Wrap");S.append("g").attr("class","stack2Wrap");S.append("g").attr("class","legendWrap");P=P.select("g");S=g.map(function(a,b){return g[b].color||e(a,b)});if(h){var ca=C.align()?t/2:t,Y=C.align()?ca:0;C.width(ca);C.color(S);P.select(".legendWrap").datum(g.map(function(a){a.originalKey=
a.originalKey===void 0?a.key:a.originalKey;a.key=a.originalKey+(a.yAxis==1?"":" (right axis)");return a})).call(C);if(b.top!=C.height()){b.top=C.height();K=c.utils.availableHeight(f,H,b)}P.select(".legendWrap").attr("transform","translate("+Y+","+-b.top+")")}z.width(t).height(K).interpolate(o).color(S.filter(function(a,b){return!g[b].disabled&&g[b].yAxis==1&&g[b].type=="line"}));D.width(t).height(K).interpolate(o).color(S.filter(function(a,b){return!g[b].disabled&&g[b].yAxis==2&&g[b].type=="line"}));
q.width(t).height(K).color(S.filter(function(a,b){return!g[b].disabled&&g[b].yAxis==1&&g[b].type=="scatter"}));k.width(t).height(K).color(S.filter(function(a,b){return!g[b].disabled&&g[b].yAxis==2&&g[b].type=="scatter"}));y.width(t).height(K).color(S.filter(function(a,b){return!g[b].disabled&&g[b].yAxis==1&&g[b].type=="bar"}));E.width(t).height(K).color(S.filter(function(a,b){return!g[b].disabled&&g[b].yAxis==2&&g[b].type=="bar"}));x.width(t).height(K).color(S.filter(function(a,b){return!g[b].disabled&&
g[b].yAxis==1&&g[b].type=="area"}));F.width(t).height(K).color(S.filter(function(a,b){return!g[b].disabled&&g[b].yAxis==2&&g[b].type=="area"}));P.attr("transform","translate("+b.left+","+b.top+")");var S=P.select(".lines1Wrap").datum(R.filter(function(a){return!a.disabled})),ca=P.select(".scatters1Wrap").datum(N.filter(function(a){return!a.disabled})),Y=P.select(".bars1Wrap").datum(V.filter(function(a){return!a.disabled})),da=P.select(".stack1Wrap").datum(T.filter(function(a){return!a.disabled})),
fa=P.select(".lines2Wrap").datum(U.filter(function(a){return!a.disabled})),aa=P.select(".scatters2Wrap").datum(O.filter(function(a){return!a.disabled})),X=P.select(".bars2Wrap").datum(Q.filter(function(a){return!a.disabled})),ea=P.select(".stack2Wrap").datum(W.filter(function(a){return!a.disabled})),ga=T.length?T.map(function(a){return a.values}).reduce(function(a,b){return a.map(function(a,c){return{x:a.x,y:a.y+b[c].y}})}).concat([{x:0,y:0}]):[],ha=W.length?W.map(function(a){return a.values}).reduce(function(a,
b){return a.map(function(a,c){return{x:a.x,y:a.y+b[c].y}})}).concat([{x:0,y:0}]):[];m.domain(d||d3.extent(d3.merge(Z).concat(ga),function(a){return a.y})).range([0,K]);u.domain(i||d3.extent(d3.merge($).concat(ha),function(a){return a.y})).range([0,K]);z.yDomain(m.domain());q.yDomain(m.domain());y.yDomain(m.domain());x.yDomain(m.domain());D.yDomain(u.domain());k.yDomain(u.domain());E.yDomain(u.domain());F.yDomain(u.domain());T.length&&d3.transition(da).call(x);W.length&&d3.transition(ea).call(F);V.length&&
d3.transition(Y).call(y);Q.length&&d3.transition(X).call(E);R.length&&d3.transition(S).call(z);U.length&&d3.transition(fa).call(D);N.length&&d3.transition(ca).call(q);O.length&&d3.transition(aa).call(k);A._ticks(c.utils.calcTicksX(t/100,g)).tickSize(-K,0);P.select(".nv-x.nv-axis").attr("transform","translate(0,"+K+")");d3.transition(P.select(".nv-x.nv-axis")).call(A);n._ticks(c.utils.calcTicksY(K/36,g)).tickSize(-t,0);d3.transition(P.select(".nv-y1.nv-axis")).call(n);v._ticks(c.utils.calcTicksY(K/
36,g)).tickSize(-t,0);d3.transition(P.select(".nv-y2.nv-axis")).call(v);P.select(".nv-y1.nv-axis").classed("nv-disabled",Z.length?false:true).attr("transform","translate("+r.range()[0]+",0)");P.select(".nv-y2.nv-axis").classed("nv-disabled",$.length?false:true).attr("transform","translate("+r.range()[1]+",0)");C.dispatch.on("stateChange",function(){a.update()});z.dispatch.on("elementMouseover.tooltip",s);D.dispatch.on("elementMouseover.tooltip",s);z.dispatch.on("elementMouseout.tooltip",function(){B.hidden(true)});
D.dispatch.on("elementMouseout.tooltip",function(){B.hidden(true)});q.dispatch.on("elementMouseover.tooltip",l);k.dispatch.on("elementMouseover.tooltip",l);q.dispatch.on("elementMouseout.tooltip",function(){B.hidden(true)});k.dispatch.on("elementMouseout.tooltip",function(){B.hidden(true)});x.dispatch.on("elementMouseover.tooltip",p);F.dispatch.on("elementMouseover.tooltip",p);x.dispatch.on("elementMouseout.tooltip",function(){B.hidden(true)});F.dispatch.on("elementMouseout.tooltip",function(){B.hidden(true)});
y.dispatch.on("elementMouseover.tooltip",I);E.dispatch.on("elementMouseover.tooltip",I);y.dispatch.on("elementMouseout.tooltip",function(){B.hidden(true)});E.dispatch.on("elementMouseout.tooltip",function(){B.hidden(true)});y.dispatch.on("elementMousemove.tooltip",function(){B.position({top:d3.event.pageY,left:d3.event.pageX})()});E.dispatch.on("elementMousemove.tooltip",function(){B.position({top:d3.event.pageY,left:d3.event.pageX})()})});return a}var b={top:30,right:20,bottom:50,left:60},e=c.utils.defaultColor(),
j=null,f=null,h=true,g=null,d,i,l=function(a){return a.x},t=function(a){return a.y},o="monotone",p=true,r=d3.scale.linear(),m=d3.scale.linear(),u=d3.scale.linear(),z=c.models.line().yScale(m),D=c.models.line().yScale(u),q=c.models.scatter().yScale(m),k=c.models.scatter().yScale(u),y=c.models.multiBar().stacked(false).yScale(m),E=c.models.multiBar().stacked(false).yScale(u),x=c.models.stackedArea().yScale(m),F=c.models.stackedArea().yScale(u),A=c.models.axis().scale(r).orient("bottom").tickPadding(5),
n=c.models.axis().scale(m).orient("left"),v=c.models.axis().scale(u).orient("right"),C=c.models.legend().height(30),B=c.models.tooltip(),s=d3.dispatch();a.dispatch=s;a.legend=C;a.lines1=z;a.lines2=D;a.scatters1=q;a.scatters2=k;a.bars1=y;a.bars2=E;a.stack1=x;a.stack2=F;a.xAxis=A;a.yAxis1=n;a.yAxis2=v;a.tooltip=B;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return j},set:function(a){j=a}},height:{get:function(){return f},set:function(a){f=a}},showLegend:{get:function(){return h},
set:function(a){h=a}},yDomain1:{get:function(){return d},set:function(a){d=a}},yDomain2:{get:function(){return i},set:function(a){i=a}},noData:{get:function(){return g},set:function(a){g=a}},interpolate:{get:function(){return o},set:function(a){o=a}},tooltips:{get:function(){return B.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");B.enabled(!!a)}},tooltipContent:{get:function(){return B.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");
B.contentGenerator(a)}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return e},set:function(a){e=c.utils.getColor(a)}},x:{get:function(){return l},set:function(a){l=a;z.x(a);D.x(a);q.x(a);k.x(a);y.x(a);E.x(a);x.x(a);F.x(a)}},y:{get:function(){return t},set:function(a){t=a;z.y(a);D.y(a);q.y(a);k.y(a);x.y(a);F.y(a);y.y(a);
E.y(a)}},useVoronoi:{get:function(){return p},set:function(a){p=a;z.useVoronoi(a);D.useVoronoi(a);x.useVoronoi(a);F.useVoronoi(a)}}});c.utils.initOptions(a);return a};c.models.ohlcBar=function(){function a(k){k.each(function(a){h=d3.select(this);var k=c.utils.availableWidth(e,h,b),n=c.utils.availableHeight(j,h,b);c.utils.initSVG(h);var s=k/a[0].values.length*0.9;g.domain(y||d3.extent(a[0].values.map(i).concat(m)));z?g.range(x||[k*0.5/a[0].values.length,k*(a[0].values.length-0.5)/a[0].values.length]):
g.range(x||[5+s/2,k-s/2-5]);d.domain(E||[d3.min(a[0].values.map(r).concat(u)),d3.max(a[0].values.map(p).concat(u))]).range(F||[n,0]);g.domain()[0]===g.domain()[1]&&(g.domain()[0]?g.domain([g.domain()[0]-g.domain()[0]*0.01,g.domain()[1]+g.domain()[1]*0.01]):g.domain([-1,1]));d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+d.domain()[0]*0.01,d.domain()[1]-d.domain()[1]*0.01]):d.domain([-1,1]));var K=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([a[0].values]),w=K.enter().append("g").attr("class",
"nvd3 nv-wrap nv-ohlcBar"),J=w.append("defs"),w=w.append("g"),L=K.select("g");w.append("g").attr("class","nv-ticks");K.attr("transform","translate("+b.left+","+b.top+")");h.on("click",function(a,b){A.chartClick({data:a,index:b,pos:d3.event,id:f})});J.append("clipPath").attr("id","nv-chart-clip-path-"+f).append("rect");K.select("#nv-chart-clip-path-"+f+" rect").attr("width",k).attr("height",n);L.attr("clip-path",D?"url(#nv-chart-clip-path-"+f+")":"");n=K.select(".nv-ticks").selectAll(".nv-tick").data(function(a){return a});
n.exit().remove();n.enter().append("path").attr("class",function(a,b,c){return(t(a,b)>o(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b}).attr("d",function(a,b){return"m0,0l0,"+(d(t(a,b))-d(p(a,b)))+"l"+-s/2+",0l"+s/2+",0l0,"+(d(r(a,b))-d(t(a,b)))+"l0,"+(d(o(a,b))-d(r(a,b)))+"l"+s/2+",0l"+-s/2+",0z"}).attr("transform",function(a,b){return"translate("+g(i(a,b))+","+d(p(a,b))+")"}).attr("fill",function(){return q[0]}).attr("stroke",function(){return q[0]}).attr("x",0).attr("y",function(a,
b){return d(Math.max(0,l(a,b)))}).attr("height",function(a,b){return Math.abs(d(l(a,b))-d(0))});n.attr("class",function(a,b,c){return(t(a,b)>o(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b});d3.transition(n).attr("transform",function(a,b){return"translate("+g(i(a,b))+","+d(p(a,b))+")"}).attr("d",function(b,c){var e=k/a[0].values.length*0.9;return"m0,0l0,"+(d(t(b,c))-d(p(b,c)))+"l"+-e/2+",0l"+e/2+",0l0,"+(d(r(b,c))-d(t(b,c)))+"l0,"+(d(o(b,c))-d(r(b,c)))+"l"+e/2+",0l"+-e/2+",0z"})});
return a}var b={top:0,right:0,bottom:0,left:0},e=null,j=null,f=Math.floor(Math.random()*1E4),h=null,g=d3.scale.linear(),d=d3.scale.linear(),i=function(a){return a.x},l=function(a){return a.y},t=function(a){return a.open},o=function(a){return a.close},p=function(a){return a.high},r=function(a){return a.low},m=[],u=[],z=false,D=true,q=c.utils.defaultColor(),k=false,y,E,x,F,A=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick",
"elementMouseover","elementMouseout","elementMousemove");a.highlightPoint=function(b,c){a.clearHighlights();h.select(".nv-ohlcBar .nv-tick-0-"+b).classed("hover",c)};a.clearHighlights=function(){h.select(".nv-ohlcBar .nv-tick.hover").classed("hover",false)};a.dispatch=A;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return j},set:function(a){j=a}},xScale:{get:function(){return g},set:function(a){g=a}},
yScale:{get:function(){return d},set:function(a){d=a}},xDomain:{get:function(){return y},set:function(a){y=a}},yDomain:{get:function(){return E},set:function(a){E=a}},xRange:{get:function(){return x},set:function(a){x=a}},yRange:{get:function(){return F},set:function(a){F=a}},forceX:{get:function(){return m},set:function(a){m=a}},forceY:{get:function(){return u},set:function(a){u=a}},padData:{get:function(){return z},set:function(a){z=a}},clipEdge:{get:function(){return D},set:function(a){D=a}},id:{get:function(){return f},
set:function(a){f=a}},interactive:{get:function(){return k},set:function(a){k=a}},x:{get:function(){return i},set:function(a){i=a}},y:{get:function(){return l},set:function(a){l=a}},open:{get:function(){return t()},set:function(a){t=a}},close:{get:function(){return o()},set:function(a){o=a}},high:{get:function(){return p},set:function(a){p=a}},low:{get:function(){return r},set:function(a){r=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!=void 0?a.top:b.top;b.right=a.right!=void 0?
a.right:b.right;b.bottom=a.bottom!=void 0?a.bottom:b.bottom;b.left=a.left!=void 0?a.left:b.left}},color:{get:function(){return q},set:function(a){q=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.parallelCoordinates=function(){function a(m){m.each(function(a){function m(a){return A(g.map(function(b){if(isNaN(a[b])||isNaN(parseFloat(a[b]))){var c=h[b].domain(),d=h[b].range(),e=c[0]-(c[1]-c[0])/9;if(s.indexOf(b)<0){c=d3.scale.linear().domain([e,c[1]]).range([E-12,d[1]]);h[b].brush.y(c);
s.push(b)}return[f(b),h[b](e)]}if(s.length>0){v.style("display","inline");C.style("display","inline")}else{v.style("display","none");C.style("display","none")}return[f(b),h[b](a[b])]}))}function D(){var a=g.filter(function(a){return!h[a].brush.empty()}),b=a.map(function(a){return h[a].brush.extent()});l=[];a.forEach(function(a,c){l[c]={dimension:a,extent:b[c]}});t=[];J.style("display",function(c){var d=a.every(function(a,d){return isNaN(c[a])&&b[d][0]==h[a].brush.y().domain()[0]?true:b[d][0]<=c[a]&&
c[a]<=b[d][1]});d&&t.push(c);return d?null:"none"});r.brush({filters:l,active:t})}function q(a){var b=o[a];return b==null?f(a):b}var k=d3.select(this),y=c.utils.availableWidth(e,k,b),E=c.utils.availableHeight(j,k,b);c.utils.initSVG(k);t=a;f.rangePoints([0,y],1).domain(g);g.forEach(function(b){var c=d3.extent(a,function(a){return+a[b]});if(c[0]===void 0){c[0]=0;c[1]=0}if(c[0]===c[1]){c[0]=c[0]-1;c[1]=c[1]+1}h[b]=d3.scale.linear().domain(c).range([(E-12)*0.9,0]);h[b].brush=d3.svg.brush().y(h[b]).on("brush",
D);return b!="name"});var k=k.selectAll("g.nv-wrap.nv-parallelCoordinates").data([a]),x=k.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates").append("g"),F=k.select("g");x.append("g").attr("class","nv-parallelCoordinates background");x.append("g").attr("class","nv-parallelCoordinates foreground");x.append("g").attr("class","nv-parallelCoordinates missingValuesline");k.attr("transform","translate("+b.left+","+b.top+")");var A=d3.svg.line().interpolate("cardinal").tension(p),n=d3.svg.axis().orient("left"),
x=d3.behavior.drag().on("dragstart",function(a){o[a]=this.parentNode.__origin__=f(a);w.attr("visibility","hidden")}).on("drag",function(a){o[a]=Math.min(y,Math.max(0,this.parentNode.__origin__=this.parentNode.__origin__+d3.event.x));J.attr("d",m);g.sort(function(a,b){return q(a)-q(b)});f.domain(g);L.attr("transform",function(a){return"translate("+q(a)+")"})}).on("dragend",function(a){delete this.parentNode.__origin__;delete o[a];d3.select(this.parentNode).attr("transform","translate("+f(a)+")");J.attr("d",
m);w.attr("d",m).attr("visibility",null)}),v,C,B=f.range()[1]-f.range()[0],s=[],K=[0+B/2,E-12,y-B/2,E-12];v=k.select(".missingValuesline").selectAll("line").data([K]);v.enter().append("line");v.exit().remove();v.attr("x1",function(a){return a[0]}).attr("y1",function(a){return a[1]}).attr("x2",function(a){return a[2]}).attr("y2",function(a){return a[3]});C=k.select(".missingValuesline").selectAll("text").data(["undefined values"]);C.append("text").data(["undefined values"]);C.enter().append("text");
C.exit().remove();C.attr("y",E).attr("x",y-92-B/2).text(function(a){return a});var w=k.select(".background").selectAll("path").data(a);w.enter().append("path");w.exit().remove();w.attr("d",m);var J=k.select(".foreground").selectAll("path").data(a);J.enter().append("path");J.exit().remove();J.attr("d",m).attr("stroke",i);J.on("mouseover",function(a,b){d3.select(this).classed("hover",true);r.elementMouseover({label:a.name,data:a.data,index:b,pos:[d3.mouse(this.parentNode)[0],d3.mouse(this.parentNode)[1]]})});
J.on("mouseout",function(a,b){d3.select(this).classed("hover",false);r.elementMouseout({label:a.name,data:a.data,index:b})});var L=F.selectAll(".dimension").data(g),k=L.enter().append("g").attr("class","nv-parallelCoordinates dimension");k.append("g").attr("class","nv-parallelCoordinates nv-axis");k.append("g").attr("class","nv-parallelCoordinates-brush");k.append("text").attr("class","nv-parallelCoordinates nv-label");L.attr("transform",function(a){return"translate("+f(a)+",0)"});L.exit().remove();
L.select(".nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").text(String).on("mouseover",function(a){r.elementMouseover({dim:a,pos:[d3.mouse(this.parentNode.parentNode)[0],d3.mouse(this.parentNode.parentNode)[1]]})}).on("mouseout",function(a){r.elementMouseout({dim:a})}).call(x);L.select(".nv-axis").each(function(a,b){d3.select(this).call(n.scale(h[a]).tickFormat(d3.format(d[b])))});L.select(".nv-parallelCoordinates-brush").each(function(a){d3.select(this).call(h[a].brush)}).selectAll("rect").attr("x",
-8).attr("width",16)});return a}var b={top:30,right:0,bottom:10,left:0},e=null,j=null,f=d3.scale.ordinal(),h={},g=[],d=[],i=c.utils.defaultColor(),l=[],t=[],o=[],p=1,r=d3.dispatch("brush","elementMouseover","elementMouseout");a.dispatch=r;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return j},set:function(a){j=a}},dimensionNames:{get:function(){return g},set:function(a){g=a}},dimensionFormats:{get:function(){return d},
set:function(a){d=a}},lineTension:{get:function(){return p},set:function(a){p=a}},dimensions:{get:function(){return g},set:function(a){c.deprecated("dimensions","use dimensionNames instead");g=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return i},set:function(a){i=c.utils.getColor(a)}}});c.utils.initOptions(a);
return a};c.models.pie=function(){function a(s){B.reset();s.each(function(a){var s=e-b.left-b.right,J=j-b.top-b.bottom,L=Math.min(s,J)/2,G=[],I=[];d=d3.select(this);if(A.length===0)for(var H=L-L/5,ba=F*L,M=0;M<a[0].length;M++){G.push(H);I.push(ba)}else{G=A.map(function(a){return(a.outer-a.outer/5)*L});I=A.map(function(a){return(a.inner-a.inner/5)*L});F=d3.min(A.map(function(a){return a.inner-a.inner/5}))}c.utils.initSVG(d);var H=d.selectAll(".nv-wrap.nv-pie").data(a),M=H.enter().append("g").attr("class",
"nvd3 nv-wrap nv-pie nv-chart-"+g).append("g"),R=H.select("g"),ba=M.append("g").attr("class","nv-pie");M.append("g").attr("class","nv-pieLabels");H.attr("transform","translate("+b.left+","+b.top+")");R.select(".nv-pie").attr("transform","translate("+s/2+","+J/2+")");R.select(".nv-pieLabels").attr("transform","translate("+s/2+","+J/2+")");d.on("click",function(a,b){n.chartClick({data:a,index:b,pos:d3.event,id:g})});v=[];C=[];for(M=0;M<a[0].length;M++){var R=d3.svg.arc().outerRadius(G[M]),U=d3.svg.arc().outerRadius(G[M]+
5);if(k!==false){R.startAngle(k);U.startAngle(k)}if(E!==false){R.endAngle(E);U.endAngle(E)}if(m){R.innerRadius(I[M]);U.innerRadius(I[M])}if(R.cornerRadius&&x){R.cornerRadius(x);U.cornerRadius(x)}v.push(R);C.push(U)}I=d3.layout.pie().sort(null).value(function(a){return a.disabled?0:h(a)});I.padAngle&&y&&I.padAngle(y);if(m&&u){ba.append("text").attr("class","nv-pie-title");H.select(".nv-pie-title").style("text-anchor","middle").text(function(){return u}).style("font-size",Math.min(s,J)*F*2/(u.length+
2)+"px").attr("dy","0.35em").attr("transform",function(){return"translate(0, "+D+")"})}s=H.select(".nv-pie").selectAll(".nv-slice").data(I);J=H.select(".nv-pieLabels").selectAll(".nv-label").data(I);s.exit().remove();J.exit().remove();I=s.enter().append("g");I.attr("class","nv-slice");I.on("mouseover",function(a,b){d3.select(this).classed("hover",true);z&&d3.select(this).select("path").transition().duration(70).attr("d",C[b]);n.elementMouseover({data:a.data,index:b,color:d3.select(this).style("fill")})});
I.on("mouseout",function(a,b){d3.select(this).classed("hover",false);z&&d3.select(this).select("path").transition().duration(50).attr("d",v[b]);n.elementMouseout({data:a.data,index:b})});I.on("mousemove",function(a,b){n.elementMousemove({data:a.data,index:b})});I.on("click",function(a,b){n.elementClick({data:a.data,index:b,color:d3.select(this).style("fill")})});I.on("dblclick",function(a,b){n.elementDblClick({data:a.data,index:b,color:d3.select(this).style("fill")})});s.attr("fill",function(a,b){return i(a.data,
b)});s.attr("stroke",function(a,b){return i(a.data,b)});I.append("path").each(function(a){this._current=a});s.select("path").transition().attr("d",function(a,b){return v[b](a)}).attrTween("d",function(a,b){a.endAngle=isNaN(a.endAngle)?0:a.endAngle;a.startAngle=isNaN(a.startAngle)?0:a.startAngle;if(!m)a.innerRadius=0;var c=d3.interpolate(this._current,a);this._current=c(0);return function(a){return v[b](c(a))}});if(t){for(var N=[],M=0;M<a[0].length;M++){N.push(v[M]);if(o){if(m){N[M]=d3.svg.arc().outerRadius(v[M].outerRadius());
k!==false&&N[M].startAngle(k);E!==false&&N[M].endAngle(E)}}else m||N[M].innerRadius(0)}J.enter().append("g").classed("nv-label",true).each(function(a){var b=d3.select(this);b.attr("transform",function(a,b){if(q){a.outerRadius=G[b]+10;a.innerRadius=G[b]+15;var c=(a.startAngle+a.endAngle)/2*(180/Math.PI),c=(a.startAngle+a.endAngle)/2<Math.PI?c-90:c+90;return"translate("+N[b].centroid(a)+") rotate("+c+")"}a.outerRadius=L+10;a.innerRadius=L+15;return"translate("+N[b].centroid(a)+")"});b.append("rect").style("stroke",
"#fff").style("fill","#fff").attr("rx",3).attr("ry",3);b.append("text").style("text-anchor",q?(a.startAngle+a.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var O={},V=function(a){return Math.floor(a[0]/140)*140+","+Math.floor(a[1]/14)*14};J.watchTransition(B,"pie labels").attr("transform",function(a,b){if(q){a.outerRadius=G[b]+10;a.innerRadius=G[b]+15;var c=(a.startAngle+a.endAngle)/2*(180/Math.PI),c=(a.startAngle+a.endAngle)/2<Math.PI?c-90:c+90;return"translate("+N[b].centroid(a)+
") rotate("+c+")"}a.outerRadius=L+10;a.innerRadius=L+15;c=N[b].centroid(a);if(a.value){var d=V(c);O[d]&&(c[1]=c[1]-14);O[V(c)]=true}return"translate("+c+")"});J.select(".nv-label text").style("text-anchor",function(a){return q?(a.startAngle+a.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(a,b){var c=(a.endAngle-a.startAngle)/(2*Math.PI),d="";if(!a.value||c<r)return"";if(typeof p==="function")d=p(a,b,{key:f(a.data),value:h(a.data),percent:l(c)});else switch(p){case "key":d=f(a.data);break;
case "value":d=l(h(a.data));break;case "percent":d=d3.format("%")(c)}return d})}});B.renderEnd("pie immediate");return a}var b={top:0,right:0,bottom:0,left:0},e=500,j=500,f=function(a){return a.x},h=function(a){return a.y},g=Math.floor(Math.random()*1E4),d=null,i=c.utils.defaultColor(),l=d3.format(",.2f"),t=true,o=false,p="key",r=0.02,m=false,u=false,z=true,D=0,q=false,k=false,y=false,E=false,x=0,F=0.5,A=[],n=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout",
"elementMousemove","renderEnd"),v=[],C=[],B=c.utils.renderWatch(n);a.dispatch=n;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{arcsRadius:{get:function(){return A},set:function(a){A=a}},width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return j},set:function(a){j=a}},showLabels:{get:function(){return t},set:function(a){t=a}},title:{get:function(){return u},set:function(a){u=a}},titleOffset:{get:function(){return D},set:function(a){D=a}},labelThreshold:{get:function(){return r},
set:function(a){r=a}},valueFormat:{get:function(){return l},set:function(a){l=a}},x:{get:function(){return f},set:function(a){f=a}},id:{get:function(){return g},set:function(a){g=a}},endAngle:{get:function(){return E},set:function(a){E=a}},startAngle:{get:function(){return k},set:function(a){k=a}},padAngle:{get:function(){return y},set:function(a){y=a}},cornerRadius:{get:function(){return x},set:function(a){x=a}},donutRatio:{get:function(){return F},set:function(a){F=a}},labelsOutside:{get:function(){return o},
set:function(a){o=a}},labelSunbeamLayout:{get:function(){return q},set:function(a){q=a}},donut:{get:function(){return m},set:function(a){m=a}},growOnHover:{get:function(){return z},set:function(a){z=a}},pieLabelsOutside:{get:function(){return o},set:function(a){o=a;c.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return o},set:function(a){o=a;c.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return l},set:function(a){l=
a;c.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return b},set:function(a){b.top=typeof a.top!="undefined"?a.top:b.top;b.right=typeof a.right!="undefined"?a.right:b.right;b.bottom=typeof a.bottom!="undefined"?a.bottom:b.bottom;b.left=typeof a.left!="undefined"?a.left:b.left}},y:{get:function(){return h},set:function(a){h=d3.functor(a)}},color:{get:function(){return i},set:function(a){i=c.utils.getColor(a)}},labelType:{get:function(){return p},set:function(a){p=a||"key"}}});
c.utils.initOptions(a);return a};c.models.pieChart=function(){function a(j){u.reset();u.models(b);j.each(function(k){var j=d3.select(this);c.utils.initSVG(j);var l=c.utils.availableWidth(h,j,f),u=c.utils.availableHeight(g,j,f);a.update=function(){j.transition().call(a)};a.container=this;t.setter(D(k),a.update).getter(z(k)).update();t.disabled=k.map(function(a){return!!a.disabled});if(!o){var q;o={};for(q in t)o[q]=t[q]instanceof Array?t[q].slice(0):t[q]}if(!k||!k.length){c.utils.noData(a,j);return a}j.selectAll(".nv-noData").remove();
q=j.selectAll("g.nv-wrap.nv-pieChart").data([k]);var p=q.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),n=q.select("g");p.append("g").attr("class","nv-pieWrap");p.append("g").attr("class","nv-legendWrap");if(d)if(i==="top"){e.width(l).key(b.x());q.select(".nv-legendWrap").datum(k).call(e);if(f.top!=e.height()){f.top=e.height();u=c.utils.availableHeight(g,j,f)}q.select(".nv-legendWrap").attr("transform","translate(0,"+-f.top+")")}else if(i==="right"){p=c.models.legend().width();
l/2<p&&(p=l/2);e.height(u).key(b.x());e.width(p);l=l-e.width();q.select(".nv-legendWrap").datum(k).call(e).attr("transform","translate("+l+",0)")}q.attr("transform","translate("+f.left+","+f.top+")");b.width(l).height(u);l=n.select(".nv-pieWrap").datum([k]);d3.transition(l).call(b);e.dispatch.on("stateChange",function(b){for(var c in b)t[c]=b[c];m.stateChange(t);a.update()});m.on("changeState",function(b){if(typeof b.disabled!=="undefined"){k.forEach(function(a,c){a.disabled=b.disabled[c]});t.disabled=
b.disabled}a.update()})});u.renderEnd("pieChart immediate");return a}var b=c.models.pie(),e=c.models.legend(),j=c.models.tooltip(),f={top:30,right:20,bottom:20,left:20},h=null,g=null,d=true,i="top",l=c.utils.defaultColor(),t=c.utils.state(),o=null,p=null,r=250,m=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd");j.headerEnabled(false).duration(0).valueFormatter(function(a,c){return b.valueFormat()(a,c)});var u=c.utils.renderWatch(m),z=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},
D=function(a){return function(b){b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};b.dispatch.on("elementMouseover.tooltip",function(b){b.series={key:a.x()(b.data),value:a.y()(b.data),color:b.color};j.data(b).hidden(false)});b.dispatch.on("elementMouseout.tooltip",function(){j.hidden(true)});b.dispatch.on("elementMousemove.tooltip",function(){j.position({top:d3.event.pageY,left:d3.event.pageX})()});a.legend=e;a.dispatch=m;a.pie=b;a.tooltip=j;a.options=c.utils.optionsFunc.bind(a);
a._options=Object.create({},{noData:{get:function(){return p},set:function(a){p=a}},showLegend:{get:function(){return d},set:function(a){d=a}},legendPosition:{get:function(){return i},set:function(a){i=a}},defaultState:{get:function(){return o},set:function(a){o=a}},tooltips:{get:function(){return j.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");j.enabled(!!a)}},tooltipContent:{get:function(){return j.contentGenerator()},set:function(a){c.deprecated("tooltipContent",
"use chart.tooltip.contentGenerator() instead");j.contentGenerator(a)}},color:{get:function(){return l},set:function(a){l=a;e.color(l);b.color(l)}},duration:{get:function(){return r},set:function(a){r=a;u.reset(r)}},margin:{get:function(){return f},set:function(a){f.top=a.top!==void 0?a.top:f.top;f.right=a.right!==void 0?a.right:f.right;f.bottom=a.bottom!==void 0?a.bottom:f.bottom;f.left=a.left!==void 0?a.left:f.left}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.scatter=
function(){function a(G){R.reset();G.each(function(a){g=d3.select(this);var G=c.utils.availableWidth(e,g,b),N=c.utils.availableHeight(j,g,b);c.utils.initSVG(g);a.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});var T=n&&v&&s?[]:d3.merge(a.map(function(a){return a.values.map(function(a,b){return{x:t(a,b),y:o(a,b),size:p(a,b)}})}));d.domain(n||d3.extent(T.map(function(a){return a.x}).concat(m)));k&&a[0]?d.range(C||[(G*y+G)/(2*a[0].values.length),G-G*(1+y)/(2*a[0].values.length)]):d.range(C||
[0,G]);i.domain(v||d3.extent(T.map(function(a){return a.y}).concat(u))).range(B||[N,0]);l.domain(s||d3.extent(T.map(function(a){return a.size}).concat(z))).range(K||U);w=d.domain()[0]===d.domain()[1]||i.domain()[0]===i.domain()[1];d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-d.domain()[0]*0.01,d.domain()[1]+d.domain()[1]*0.01]):d.domain([-1,1]));i.domain()[0]===i.domain()[1]&&(i.domain()[0]?i.domain([i.domain()[0]-i.domain()[0]*0.01,i.domain()[1]+i.domain()[1]*0.01]):i.domain([-1,
1]));isNaN(d.domain()[0])&&d.domain([-1,1]);isNaN(i.domain()[0])&&i.domain([-1,1]);I=I||d;H=H||i;var W=g.selectAll("g.nv-wrap.nv-scatter").data([a]),T=W.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+h),Z=T.append("defs"),$=T.append("g"),P=W.select("g");W.classed("nv-single-point",w);$.append("g").attr("class","nv-groups");$.append("g").attr("class","nv-point-paths");T.append("g").attr("class","nv-point-clips");W.attr("transform","translate("+b.left+","+b.top+")");Z.append("clipPath").attr("id",
"nv-edge-clip-"+h).append("rect");W.select("#nv-edge-clip-"+h+" rect").attr("width",G).attr("height",N>0?N:0);P.attr("clip-path",E?"url(#nv-edge-clip-"+h+")":"");M=true;G=W.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});G.enter().append("g").style("stroke-opacity",1.0E-6).style("fill-opacity",1.0E-6);G.exit().remove();G.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover});G.watchTransition(R,"scatter: groups").style("fill",
function(a,b){return f(a,b)}).style("stroke",function(a,b){return f(a,b)}).style("stroke-opacity",1).style("fill-opacity",0.5);N=G.selectAll("path.nv-point").data(function(a){return a.values.map(function(a,b){return[a,b]}).filter(function(a,b){return q(a[0],b)})});N.enter().append("path").style("fill",function(a){return a.color}).style("stroke",function(a){return a.color}).attr("transform",function(a){return"translate("+I(t(a[0],a[1]))+","+H(o(a[0],a[1]))+")"}).attr("d",c.utils.symbol().type(function(a){return r(a[0])}).size(function(a){return l(p(a[0],
a[1]))}));N.exit().remove();G.exit().selectAll("path.nv-point").watchTransition(R,"scatter exit").attr("transform",function(a){return"translate("+d(t(a[0],a[1]))+","+i(o(a[0],a[1]))+")"}).remove();N.each(function(a){d3.select(this).classed("nv-point",true).classed("nv-point-"+a[1],true).classed("nv-noninteractive",!D).classed("hover",false)});N.watchTransition(R,"scatter points").attr("transform",function(a){return"translate("+d(t(a[0],a[1]))+","+i(o(a[0],a[1]))+")"}).attr("d",c.utils.symbol().type(function(a){return r(a[0])}).size(function(a){return l(p(a[0],
a[1]))}));clearTimeout(ba);ba=setTimeout(function(){M=false;if(!D)return false;if(L===true){var c=d3.merge(a.map(function(a,b){return a.values.map(function(a,c){var e=t(a,c),f=o(a,c);return[d(e)+Math.random()*1.0E-4,i(f)+Math.random()*1.0E-4,b,c,a]}).filter(function(a,b){return q(a[4],b)})}));if(c.length==0)return false;if(c.length<3){c.push([d.range()[0]-20,i.range()[0]-20,null,null]);c.push([d.range()[1]+20,i.range()[1]+20,null,null]);c.push([d.range()[0]-20,i.range()[0]+20,null,null]);c.push([d.range()[1]+
20,i.range()[1]-20,null,null])}var k=d3.geom.polygon([[-10,-10],[-10,j+10],[e+10,j+10],[e+10,-10]]),l=d3.geom.voronoi(c).map(function(a,b){return{data:k.clip(a),series:c[b][2],point:c[b][3]}});W.select(".nv-point-paths").selectAll("path").remove();var l=W.select(".nv-point-paths").selectAll("path").data(l),s=l.enter().append("svg:path").attr("d",function(a){return!a||!a.data||a.data.length===0?"M 0 0":"M"+a.data.join(",")+"Z"}).attr("id",function(a,b){return"nv-path-"+b}).attr("clip-path",function(a,
b){return"url(#nv-clip-"+h+"-"+b+")"});F&&s.style("fill",d3.rgb(230,230,230)).style("fill-opacity",0.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200));if(x){W.select(".nv-point-clips").selectAll("*").remove();W.select(".nv-point-clips").selectAll("clipPath").data(c).enter().append("svg:clipPath").attr("id",function(a,b){return"nv-clip-"+h+"-"+b}).append("svg:circle").attr("cx",function(a){return a[0]}).attr("cy",function(a){return a[1]}).attr("r",A)}var n=function(c,e){if(M)return 0;
var k=a[c.series];if(k!==void 0){var h=k.values[c.point];h.color=f(k,c.series);h.x=t(h);h.y=o(h);var j=g.node().getBoundingClientRect(),l=window.pageYOffset||document.documentElement.scrollTop,s=window.pageXOffset||document.documentElement.scrollLeft,j={left:d(t(h,c.point))+j.left+s+b.left+10,top:i(o(h,c.point))+j.top+l+b.top+10};e({point:h,series:k,pos:j,seriesIndex:c.series,pointIndex:c.point})}};l.on("click",function(a){n(a,J.elementClick)}).on("dblclick",function(a){n(a,J.elementDblClick)}).on("mouseover",
function(a){n(a,J.elementMouseover)}).on("mouseout",function(a){n(a,J.elementMouseout)})}else W.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(c,e){if(M||!a[c.series])return 0;var f=a[c.series],g=f.values[e];J.elementClick({point:g,series:f,pos:[d(t(g,e))+b.left,i(o(g,e))+b.top],seriesIndex:c.series,pointIndex:e})}).on("dblclick",function(c,e){if(M||!a[c.series])return 0;var f=a[c.series],g=f.values[e];J.elementDblClick({point:g,series:f,pos:[d(t(g,e))+b.left,
i(o(g,e))+b.top],seriesIndex:c.series,pointIndex:e})}).on("mouseover",function(c,e){if(M||!a[c.series])return 0;var g=a[c.series],k=g.values[e];J.elementMouseover({point:k,series:g,pos:[d(t(k,e))+b.left,i(o(k,e))+b.top],seriesIndex:c.series,pointIndex:e,color:f(c,e)})}).on("mouseout",function(b,c){if(M||!a[b.series])return 0;var d=a[b.series];J.elementMouseout({point:d.values[c],series:d,seriesIndex:b.series,pointIndex:c,color:f(b,c)})})},300);I=d.copy();H=i.copy();l.copy()});R.renderEnd("scatter immediate");
return a}var b={top:0,right:0,bottom:0,left:0},e=null,j=null,f=c.utils.defaultColor(),h=Math.floor(Math.random()*1E5),g=null,d=d3.scale.linear(),i=d3.scale.linear(),l=d3.scale.linear(),t=function(a){return a.x},o=function(a){return a.y},p=function(a){return a.size||1},r=function(a){return a.shape||"circle"},m=[],u=[],z=[],D=true,q=function(a){return!a.notActive},k=false,y=0.1,E=false,x=true,F=false,A=function(){return 25},n=null,v=null,C=null,B=null,s=null,K=null,w=false,J=d3.dispatch("elementClick",
"elementDblClick","elementMouseover","elementMouseout","renderEnd"),L=true,G=250,I,H,ba,M=false,R=c.utils.renderWatch(J,G),U=[16,256];a.dispatch=J;a.options=c.utils.optionsFunc.bind(a);a._calls=new function(){this.clearHighlights=function(){c.dom.write(function(){g.selectAll(".nv-point.hover").classed("hover",false)});return null};this.highlightPoint=function(a,b,d){c.dom.write(function(){g.select(" .nv-series-"+a+" .nv-point-"+b).classed("hover",d)})}};J.on("elementMouseover.point",function(b){D&&
a._calls.highlightPoint(b.seriesIndex,b.pointIndex,true)});J.on("elementMouseout.point",function(b){D&&a._calls.highlightPoint(b.seriesIndex,b.pointIndex,false)});a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return j},set:function(a){j=a}},xScale:{get:function(){return d},set:function(a){d=a}},yScale:{get:function(){return i},set:function(a){i=a}},pointScale:{get:function(){return l},set:function(a){l=a}},xDomain:{get:function(){return n},
set:function(a){n=a}},yDomain:{get:function(){return v},set:function(a){v=a}},pointDomain:{get:function(){return s},set:function(a){s=a}},xRange:{get:function(){return C},set:function(a){C=a}},yRange:{get:function(){return B},set:function(a){B=a}},pointRange:{get:function(){return K},set:function(a){K=a}},forceX:{get:function(){return m},set:function(a){m=a}},forceY:{get:function(){return u},set:function(a){u=a}},forcePoint:{get:function(){return z},set:function(a){z=a}},interactive:{get:function(){return D},
set:function(a){D=a}},pointActive:{get:function(){return q},set:function(a){q=a}},padDataOuter:{get:function(){return y},set:function(a){y=a}},padData:{get:function(){return k},set:function(a){k=a}},clipEdge:{get:function(){return E},set:function(a){E=a}},clipVoronoi:{get:function(){return x},set:function(a){x=a}},clipRadius:{get:function(){return A},set:function(a){A=a}},showVoronoi:{get:function(){return F},set:function(a){F=a}},id:{get:function(){return h},set:function(a){h=a}},x:{get:function(){return t},
set:function(a){t=d3.functor(a)}},y:{get:function(){return o},set:function(a){o=d3.functor(a)}},pointSize:{get:function(){return p},set:function(a){p=d3.functor(a)}},pointShape:{get:function(){return r},set:function(a){r=d3.functor(a)}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},duration:{get:function(){return G},set:function(a){G=a;R.reset(G)}},
color:{get:function(){return f},set:function(a){f=c.utils.getColor(a)}},useVoronoi:{get:function(){return L},set:function(a){L=a;L===false&&(x=false)}}});c.utils.initOptions(a);return a};c.models.scatterChart=function(){function a(s){v.reset();v.models(b);q&&v.models(e);k&&v.models(j);u&&v.models(h);z&&v.models(g);s.each(function(s){o=d3.select(this);c.utils.initSVG(o);var w=c.utils.availableWidth(l,o,i),A=c.utils.availableHeight(t,o,i);a.update=function(){n===0?o.call(a):o.transition().duration(n).call(a)};
a.container=this;E.setter(B(s),a.update).getter(C(s)).update();E.disabled=s.map(function(a){return!!a.disabled});if(!x){var L;x={};for(L in E)x[L]=E[L]instanceof Array?E[L].slice(0):E[L]}if(!s||!s.length||!s.filter(function(a){return a.values.length}).length){c.utils.noData(a,o);v.renderEnd("scatter immediate");return a}o.selectAll(".nv-noData").remove();r=b.xScale();m=b.yScale();var G=o.selectAll("g.nv-wrap.nv-scatterChart").data([s]);L=G.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+
b.id()).append("g");var I=G.select("g");L.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none");L.append("g").attr("class","nv-x nv-axis");L.append("g").attr("class","nv-y nv-axis");L.append("g").attr("class","nv-scatterWrap");L.append("g").attr("class","nv-regressionLinesWrap");L.append("g").attr("class","nv-distWrap");L.append("g").attr("class","nv-legendWrap");y&&I.select(".nv-y.nv-axis").attr("transform","translate("+w+",0)");if(D){f.width(w);G.select(".nv-legendWrap").datum(s).call(f);
if(i.top!=f.height()){i.top=f.height();A=c.utils.availableHeight(t,o,i)}G.select(".nv-legendWrap").attr("transform","translate(0,"+-i.top+")")}G.attr("transform","translate("+i.left+","+i.top+")");b.width(w).height(A).color(s.map(function(a,b){a.color=a.color||p(a,b);return a.color}).filter(function(a,b){return!s[b].disabled}));G.select(".nv-scatterWrap").datum(s.filter(function(a){return!a.disabled})).call(b);G.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+b.id()+")");G=
G.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(a){return a});G.enter().append("g").attr("class","nv-regLines");G=G.selectAll(".nv-regLine").data(function(a){return[a]});G.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0);G.filter(function(a){return a.intercept&&a.slope}).watchTransition(v,"scatterPlusLineChart: regline").attr("x1",r.range()[0]).attr("x2",r.range()[1]).attr("y1",function(a){return m(r.domain()[0]*a.slope+a.intercept)}).attr("y2",
function(a){return m(r.domain()[1]*a.slope+a.intercept)}).style("stroke",function(a,b,c){return p(a,c)}).style("stroke-opacity",function(a){return a.disabled||typeof a.slope==="undefined"||typeof a.intercept==="undefined"?0:1});if(q){e.scale(r)._ticks(c.utils.calcTicksX(w/100,s)).tickSize(-A,0);I.select(".nv-x.nv-axis").attr("transform","translate(0,"+m.range()[0]+")").call(e)}if(k){j.scale(m)._ticks(c.utils.calcTicksY(A/36,s)).tickSize(-w,0);I.select(".nv-y.nv-axis").call(j)}if(u){h.getData(b.x()).scale(r).width(w).color(s.map(function(a,
b){return a.color||p(a,b)}).filter(function(a,b){return!s[b].disabled}));L.select(".nv-distWrap").append("g").attr("class","nv-distributionX");I.select(".nv-distributionX").attr("transform","translate(0,"+m.range()[0]+")").datum(s.filter(function(a){return!a.disabled})).call(h)}if(z){g.getData(b.y()).scale(m).width(A).color(s.map(function(a,b){return a.color||p(a,b)}).filter(function(a,b){return!s[b].disabled}));L.select(".nv-distWrap").append("g").attr("class","nv-distributionY");I.select(".nv-distributionY").attr("transform",
"translate("+(y?w:-g.size())+",0)").datum(s.filter(function(a){return!a.disabled})).call(g)}f.dispatch.on("stateChange",function(b){for(var c in b)E[c]=b[c];F.stateChange(E);a.update()});F.on("changeState",function(b){if(typeof b.disabled!=="undefined"){s.forEach(function(a,c){a.disabled=b.disabled[c]});E.disabled=b.disabled}a.update()});b.dispatch.on("elementMouseout.tooltip",function(a){d.hidden(true);o.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",
0);o.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",g.size())});b.dispatch.on("elementMouseover.tooltip",function(a){o.select(".nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",a.pos.top-A-i.top);o.select(".nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",a.pos.left+h.size()-i.left);d.position(a.pos).data(a).hidden(false)});r.copy();m.copy()});v.renderEnd("scatter with line immediate");return a}var b=c.models.scatter(),e=
c.models.axis(),j=c.models.axis(),f=c.models.legend(),h=c.models.distribution(),g=c.models.distribution(),d=c.models.tooltip(),i={top:30,right:20,bottom:50,left:75},l=null,t=null,o=null,p=c.utils.defaultColor(),r=b.xScale(),m=b.yScale(),u=false,z=false,D=true,q=true,k=true,y=false,E=c.utils.state(),x=null,F=d3.dispatch("stateChange","changeState","renderEnd"),A=null,n=250;b.xScale(r).yScale(m);e.orient("bottom").tickPadding(10);j.orient(y?"right":"left").tickPadding(10);h.axis("x");g.axis("y");d.headerFormatter(function(a,
b){return e.tickFormat()(a,b)}).valueFormatter(function(a,b){return j.tickFormat()(a,b)});var v=c.utils.renderWatch(F,n),C=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},B=function(a){return function(b){b.active!==void 0&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};a.dispatch=F;a.scatter=b;a.legend=f;a.xAxis=e;a.yAxis=j;a.distX=h;a.distY=g;a.tooltip=d;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return l},set:function(a){l=
a}},height:{get:function(){return t},set:function(a){t=a}},container:{get:function(){return o},set:function(a){o=a}},showDistX:{get:function(){return u},set:function(a){u=a}},showDistY:{get:function(){return z},set:function(a){z=a}},showLegend:{get:function(){return D},set:function(a){D=a}},showXAxis:{get:function(){return q},set:function(a){q=a}},showYAxis:{get:function(){return k},set:function(a){k=a}},defaultState:{get:function(){return x},set:function(a){x=a}},noData:{get:function(){return A},
set:function(a){A=a}},duration:{get:function(){return n},set:function(a){n=a}},tooltips:{get:function(){return d.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");d.enabled(!!a)}},tooltipContent:{get:function(){return d.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");d.contentGenerator(a)}},tooltipXContent:{get:function(){return d.contentGenerator()},set:function(){c.deprecated("tooltipContent",
"This option is removed, put values into main tooltip.")}},tooltipYContent:{get:function(){return d.contentGenerator()},set:function(){c.deprecated("tooltipContent","This option is removed, put values into main tooltip.")}},margin:{get:function(){return i},set:function(a){i.top=a.top!==void 0?a.top:i.top;i.right=a.right!==void 0?a.right:i.right;i.bottom=a.bottom!==void 0?a.bottom:i.bottom;i.left=a.left!==void 0?a.left:i.left}},rightAlignYAxis:{get:function(){return y},set:function(a){y=a;j.orient(a?
"right":"left")}},color:{get:function(){return p},set:function(a){p=c.utils.getColor(a);f.color(p);h.color(p);g.color(p)}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.sparkline=function(){function a(h){h.each(function(a){var h=e-b.left-b.right,u=j-b.top-b.bottom;f=d3.select(this);c.utils.initSVG(f);g.domain(o||d3.extent(a,i)).range(r||[0,h]);d.domain(p||d3.extent(a,l)).range(m||[u,0]);a=f.selectAll("g.nv-wrap.nv-sparkline").data([a]);a.enter().append("g").attr("class",
"nvd3 nv-wrap nv-sparkline").append("g");a.select("g");a.attr("transform","translate("+b.left+","+b.top+")");h=a.selectAll("path").data(function(a){return[a]});h.enter().append("path");h.exit().remove();h.style("stroke",function(a,b){return a.color||t(a,b)}).attr("d",d3.svg.line().x(function(a,b){return g(i(a,b))}).y(function(a,b){return d(l(a,b))}));a=a.selectAll("circle.nv-point").data(function(a){function b(c){if(c!=-1){var d=a[c];d.pointIndex=c;return d}return null}var c=a.map(function(a,b){return l(a,
b)}),e=b(c.lastIndexOf(d.domain()[1])),f=b(c.indexOf(d.domain()[0])),c=b(c.length-1);return[f,e,c].filter(function(a){return a!=null})});a.enter().append("circle");a.exit().remove();a.attr("cx",function(a){return g(i(a,a.pointIndex))}).attr("cy",function(a){return d(l(a,a.pointIndex))}).attr("r",2).attr("class",function(a){return i(a,a.pointIndex)==g.domain()[1]?"nv-point nv-currentValue":l(a,a.pointIndex)==d.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})});return a}var b={top:2,right:0,
bottom:2,left:0},e=400,j=32,f=null,h=true,g=d3.scale.linear(),d=d3.scale.linear(),i=function(a){return a.x},l=function(a){return a.y},t=c.utils.getColor(["#000"]),o,p,r,m;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return j},set:function(a){j=a}},xDomain:{get:function(){return o},set:function(a){o=a}},yDomain:{get:function(){return p},set:function(a){p=a}},xRange:{get:function(){return r},set:function(a){r=
a}},yRange:{get:function(){return m},set:function(a){m=a}},xScale:{get:function(){return g},set:function(a){g=a}},yScale:{get:function(){return d},set:function(a){d=a}},animate:{get:function(){return h},set:function(a){h=a}},x:{get:function(){return i},set:function(a){i=d3.functor(a)}},y:{get:function(){return l},set:function(a){l=d3.functor(a)}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=a.bottom!==void 0?a.bottom:
b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return t},set:function(a){t=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.sparklinePlus=function(){function a(m){m.each(function(m){function u(){if(!i){var a=A.selectAll(".nv-hoverValue").data(d),c=a.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);a.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove();a.attr("transform",
function(a){return"translate("+h(b.x()(m[a],a))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1);if(d.length){c.append("line").attr("x1",0).attr("y1",-e.top).attr("x2",0).attr("y2",y);c.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-e.top).attr("text-anchor","end").attr("dy",".9em");A.select(".nv-hoverValue .nv-xValue").text(l(b.x()(m[d[0]],d[0])));c.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-e.top).attr("text-anchor","start").attr("dy",
".9em");A.select(".nv-hoverValue .nv-yValue").text(t(b.y()(m[d[0]],d[0])))}}}var q=d3.select(this);c.utils.initSVG(q);var k=c.utils.availableWidth(j,q,e),y=c.utils.availableHeight(f,q,e);a.update=function(){q.call(a)};a.container=this;if(!m||!m.length){c.utils.noData(a,q);return a}q.selectAll(".nv-noData").remove();var E=b.y()(m[m.length-1],m.length-1);h=b.xScale();g=b.yScale();var x=q.selectAll("g.nv-wrap.nv-sparklineplus").data([m]),F=x.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),
A=x.select("g");F.append("g").attr("class","nv-sparklineWrap");F.append("g").attr("class","nv-valueWrap");F.append("g").attr("class","nv-hoverArea");x.attr("transform","translate("+e.left+","+e.top+")");x=A.select(".nv-sparklineWrap");b.width(k).height(y);x.call(b);if(o){x=A.select(".nv-valueWrap").selectAll(".nv-currentValue").data([E]);x.enter().append("text").attr("class","nv-currentValue").attr("dx",r?-8:8).attr("dy",".9em").style("text-anchor",r?"end":"start");x.attr("x",k+(r?e.right:0)).attr("y",
p?function(a){return g(a)}:0).style("fill",b.color()(m[m.length-1],m.length-1)).text(t(E))}F.select(".nv-hoverArea").append("rect").on("mousemove",function(){if(!i){for(var a=d3.mouse(this)[0]-e.left,c=m,a=Math.round(h.invert(a)),f=Math.abs(b.x()(c[0],0)-a),g=0,k=0;k<c.length;k++)if(Math.abs(b.x()(c[k],k)-a)<f){f=Math.abs(b.x()(c[k],k)-a);g=k}d=[g];u()}}).on("click",function(){i=!i}).on("mouseout",function(){d=[];u()});A.select(".nv-hoverArea rect").attr("transform",function(){return"translate("+
-e.left+","+-e.top+")"}).attr("width",k+e.left+e.right).attr("height",y+e.top)});return a}var b=c.models.sparkline(),e={top:15,right:100,bottom:10,left:50},j=null,f=null,h,g,d=[],i=false,l=d3.format(",r"),t=d3.format(",.2f"),o=true,p=true,r=false,m=null;a.sparkline=b;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return j},set:function(a){j=a}},height:{get:function(){return f},set:function(a){f=a}},xTickFormat:{get:function(){return l},set:function(a){l=a}},
yTickFormat:{get:function(){return t},set:function(a){t=a}},showLastValue:{get:function(){return o},set:function(a){o=a}},alignValue:{get:function(){return p},set:function(a){p=a}},rightAlignValue:{get:function(){return r},set:function(a){r=a}},noData:{get:function(){return m},set:function(a){m=a}},margin:{get:function(){return e},set:function(a){e.top=a.top!==void 0?a.top:e.top;e.right=a.right!==void 0?a.right:e.right;e.bottom=a.bottom!==void 0?a.bottom:e.bottom;e.left=a.left!==void 0?a.left:e.left}}});
c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.stackedArea=function(){function a(l){k.reset();k.models(z);l.each(function(l){var y=e-b.left-b.right,D=j-b.top-b.bottom;g=d3.select(this);c.utils.initSVG(g);m=z.xScale();u=z.yScale();var A=l;l.forEach(function(a,b){a.seriesIndex=b;a.values=a.values.map(function(a,c){a.index=c;a.seriesIndex=b;return a})});var l=l.filter(function(a){return!a.disabled}),l=d3.layout.stack().order(o).offset(t).values(function(a){return a.values}).x(d).y(i).out(function(a,
b,c){a.display={y:c,y0:b}})(l),n=g.selectAll("g.nv-wrap.nv-stackedarea").data([l]),v=n.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),C=v.append("defs"),v=v.append("g"),B=n.select("g");v.append("g").attr("class","nv-areaWrap");v.append("g").attr("class","nv-scatterWrap");n.attr("transform","translate("+b.left+","+b.top+")");z.forceY().length==0&&z.forceY().push(0);z.width(y).height(D).x(d).y(function(a){if(a.display!==void 0)return a.display.y+a.display.y0}).forceY([0]).color(l.map(function(a){return a.color||
f(a,a.seriesIndex)}));B.select(".nv-scatterWrap").datum(l).call(z);C.append("clipPath").attr("id","nv-edge-clip-"+h).append("rect");n.select("#nv-edge-clip-"+h+" rect").attr("width",y).attr("height",D);B.attr("clip-path",r?"url(#nv-edge-clip-"+h+")":"");var s=d3.svg.area().x(function(a,b){return m(d(a,b))}).y0(function(a){return u(a.display.y0)}).y1(function(a){return u(a.display.y+a.display.y0)}).interpolate(p),K=d3.svg.area().x(function(a,b){return m(d(a,b))}).y0(function(a){return u(a.display.y0)}).y1(function(a){return u(a.display.y0)}),
y=B.select(".nv-areaWrap").selectAll("path.nv-area").data(function(a){return a});y.enter().append("path").attr("class",function(a,b){return"nv-area nv-area-"+b}).attr("d",function(a){return K(a.values,a.seriesIndex)}).on("mouseover",function(a){d3.select(this).classed("hover",true);q.areaMouseover({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}).on("mouseout",function(a){d3.select(this).classed("hover",false);q.areaMouseout({point:a,series:a.key,pos:[d3.event.pageX,
d3.event.pageY],seriesIndex:a.seriesIndex})}).on("click",function(a){d3.select(this).classed("hover",false);q.areaClick({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})});y.exit().remove();y.style("fill",function(a){return a.color||f(a,a.seriesIndex)}).style("stroke",function(a){return a.color||f(a,a.seriesIndex)});y.watchTransition(k,"stackedArea path").attr("d",function(a,b){return s(a.values,b)});z.dispatch.on("elementMouseover.area",function(a){B.select(".nv-chart-"+
h+" .nv-area-"+a.seriesIndex).classed("hover",true)});z.dispatch.on("elementMouseout.area",function(a){B.select(".nv-chart-"+h+" .nv-area-"+a.seriesIndex).classed("hover",false)});a.d3_stackedOffset_stackPercent=function(a){var b=a.length,c=a[0].length,d,e,f,g=[];for(e=0;e<c;++e){for(f=d=0;d<A.length;d++)f=f+i(A[d].values[e]);if(f)for(d=0;d<b;d++)a[d][e][1]=a[d][e][1]/f;else for(d=0;d<b;d++)a[d][e][1]=0}for(e=0;e<c;++e)g[e]=0;return g}});k.renderEnd("stackedArea immediate");return a}var b={top:0,
right:0,bottom:0,left:0},e=960,j=500,f=c.utils.defaultColor(),h=Math.floor(Math.random()*1E5),g=null,d=function(a){return a.x},i=function(a){return a.y},l="stack",t="zero",o="default",p="linear",r=false,m,u,z=c.models.scatter(),D=250,q=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");z.pointSize(2.2).pointDomain([2.2,2.2]);var k=c.utils.renderWatch(q,D);a.dispatch=q;a.scatter=z;z.dispatch.on("elementClick",function(){q.elementClick.apply(this,
arguments)});z.dispatch.on("elementMouseover",function(){q.elementMouseover.apply(this,arguments)});z.dispatch.on("elementMouseout",function(){q.elementMouseout.apply(this,arguments)});a.interpolate=function(b){if(!arguments.length)return p;p=b;return a};a.duration=function(b){if(!arguments.length)return D;D=b;k.reset(D);z.duration(D);return a};a.dispatch=q;a.scatter=z;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return j},
set:function(a){j=a}},clipEdge:{get:function(){return r},set:function(a){r=a}},offset:{get:function(){return t},set:function(a){t=a}},order:{get:function(){return o},set:function(a){o=a}},interpolate:{get:function(){return p},set:function(a){p=a}},x:{get:function(){return d},set:function(a){d=d3.functor(a)}},y:{get:function(){return i},set:function(a){i=d3.functor(a)}},margin:{get:function(){return b},set:function(a){b.top=a.top!==void 0?a.top:b.top;b.right=a.right!==void 0?a.right:b.right;b.bottom=
a.bottom!==void 0?a.bottom:b.bottom;b.left=a.left!==void 0?a.left:b.left}},color:{get:function(){return f},set:function(a){f=c.utils.getColor(a)}},style:{get:function(){return l},set:function(b){l=b;switch(l){case "stack":a.offset("zero");a.order("default");break;case "stream":a.offset("wiggle");a.order("inside-out");break;case "stream-center":a.offset("silhouette");a.order("inside-out");break;case "expand":a.offset("expand");a.order("default");break;case "stack_percent":a.offset(a.d3_stackedOffset_stackPercent);
a.order("default")}}},duration:{get:function(){return D},set:function(a){D=a;k.reset(D);z.duration(D)}}});c.utils.inheritOptions(a,z);c.utils.initOptions(a);return a};c.models.stackedAreaChart=function(){function a(d){J.reset();J.models(b);m&&J.models(e);u&&J.models(j);d.each(function(d){var H=d3.select(this),A=this;c.utils.initSVG(H);var J=c.utils.availableWidth(l,H,i),N=c.utils.availableHeight(t,H,i);a.update=function(){H.transition().duration(s).call(a)};a.container=this;x.setter(G(d),a.update).getter(L(d)).update();
x.disabled=d.map(function(a){return!!a.disabled});if(!F){var O;F={};for(O in x)F[O]=x[O]instanceof Array?x[O].slice(0):x[O]}if(!d||!d.length||!d.filter(function(a){return a.values.length}).length){c.utils.noData(a,H);return a}H.selectAll(".nv-noData").remove();y=b.xScale();E=b.yScale();var V=H.selectAll("g.nv-wrap.nv-stackedAreaChart").data([d]),Q=V.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g");O=V.select("g");Q.append("rect").style("opacity",0);Q.append("g").attr("class",
"nv-x nv-axis");Q.append("g").attr("class","nv-y nv-axis");Q.append("g").attr("class","nv-stackedWrap");Q.append("g").attr("class","nv-legendWrap");Q.append("g").attr("class","nv-controlsWrap");Q.append("g").attr("class","nv-interactive");O.select("rect").attr("width",J).attr("height",N);if(r){Q=p?J-v:J;f.width(Q);O.select(".nv-legendWrap").datum(d).call(f);if(i.top!=f.height()){i.top=f.height();N=c.utils.availableHeight(t,H,i)}O.select(".nv-legendWrap").attr("transform","translate("+(J-Q)+","+-i.top+
")")}if(p){var T=[{key:B.stacked||"Stacked",metaKey:"Stacked",disabled:b.style()!="stack",style:"stack"},{key:B.stream||"Stream",metaKey:"Stream",disabled:b.style()!="stream",style:"stream"},{key:B.expanded||"Expanded",metaKey:"Expanded",disabled:b.style()!="expand",style:"expand"},{key:B.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:b.style()!="stack_percent",style:"stack_percent"}];v=C.length/3*260;T=T.filter(function(a){return C.indexOf(a.metaKey)!==-1});h.width(v).color(["#444","#444",
"#444"]);O.select(".nv-controlsWrap").datum(T).call(h);if(i.top!=Math.max(h.height(),f.height())){i.top=Math.max(h.height(),f.height());N=c.utils.availableHeight(t,H,i)}O.select(".nv-controlsWrap").attr("transform","translate(0,"+-i.top+")")}V.attr("transform","translate("+i.left+","+i.top+")");z&&O.select(".nv-y.nv-axis").attr("transform","translate("+J+",0)");if(D){g.width(J).height(N).margin({left:i.left,top:i.top}).svgContainer(H).xScale(y);V.select(".nv-interactive").call(g)}b.width(J).height(N);
O.select(".nv-stackedWrap").datum(d).transition().call(b);if(m){e.scale(y)._ticks(c.utils.calcTicksX(J/100,d)).tickSize(-N,0);O.select(".nv-x.nv-axis").attr("transform","translate(0,"+N+")");O.select(".nv-x.nv-axis").transition().duration(0).call(e)}if(u){N=b.offset()==="wiggle"?0:c.utils.calcTicksY(N/36,d);j.scale(E)._ticks(N).tickSize(-J,0);if(b.style()==="expand"||b.style()==="stack_percent"){J=j.tickFormat();if(!K||J!==I)K=J;j.tickFormat(I)}else if(K){j.tickFormat(K);K=null}O.select(".nv-y.nv-axis").transition().duration(0).call(j)}b.dispatch.on("areaClick.toggle",
function(b){d.filter(function(a){return!a.disabled}).length===1?d.forEach(function(a){a.disabled=false}):d.forEach(function(a,c){a.disabled=c!=b.seriesIndex});x.disabled=d.map(function(a){return!!a.disabled});n.stateChange(x);a.update()});f.dispatch.on("stateChange",function(b){for(var c in b)x[c]=b[c];n.stateChange(x);a.update()});h.dispatch.on("legendClick",function(c){if(c.disabled){T=T.map(function(a){a.disabled=true;return a});c.disabled=false;b.style(c.style);x.style=b.style();n.stateChange(x);
a.update()}});g.dispatch.on("elementMousemove",function(f){b.clearHighlights();var h,j,l,m=[],p=0;d.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(d,e){j=c.interactiveBisect(d.values,f.pointXValue,a.x());var g=d.values[j];a.y()(g,j)!=null&&b.highlightPoint(e,j,true);if(typeof g!=="undefined"){typeof h==="undefined"&&(h=g);typeof l==="undefined"&&(l=a.xScale()(a.x()(g,j)));var k=b.style()=="expand"?g.display.y:a.y()(g,j);m.push({key:d.key,value:k,color:o(d,d.seriesIndex),
stackedValue:g.display});q&&b.style()!="expand"&&(p=p+k)}});m.reverse();if(m.length>2){var n=a.yScale().invert(f.mouseY),s=null;m.forEach(function(a,b){n=Math.abs(n);var c=Math.abs(a.stackedValue.y0),d=Math.abs(a.stackedValue.y);n>=c&&n<=d+c&&(s=b)});if(s!=null)m[s].highlight=true}q&&(b.style()!="expand"&&m.length>=2)&&m.push({key:k,value:p,total:true});var r=e.tickFormat()(a.x()(h,j)),t=g.tooltip.valueFormatter();if(b.style()==="expand"||b.style()==="stack_percent"){w||(w=t);t=d3.format(".1%")}else if(w){t=
w;w=null}g.tooltip.position({left:l+i.left,top:f.mouseY+i.top}).chartContainer(A.parentNode).valueFormatter(t).data({value:r,series:m})();g.renderGuideLine(l)});g.dispatch.on("elementMouseout",function(){b.clearHighlights()});n.on("changeState",function(c){if(typeof c.disabled!=="undefined"&&d.length===c.disabled.length){d.forEach(function(a,b){a.disabled=c.disabled[b]});x.disabled=c.disabled}typeof c.style!=="undefined"&&b.style(c.style);a.update()})});J.renderEnd("stacked Area chart immediate");
return a}var b=c.models.stackedArea(),e=c.models.axis(),j=c.models.axis(),f=c.models.legend(),h=c.models.legend(),g=c.interactiveGuideline(),d=c.models.tooltip(),i={top:30,right:25,bottom:50,left:60},l=null,t=null,o=c.utils.defaultColor(),p=true,r=true,m=true,u=true,z=false,D=false,q=true,k="TOTAL",y,E,x=c.utils.state(),F=null,A=null,n=d3.dispatch("stateChange","changeState","renderEnd"),v=250,C=["Stacked","Stream","Expanded"],B={},s=250;x.style=b.style();e.orient("bottom").tickPadding(7);j.orient(z?
"right":"left");d.headerFormatter(function(a,b){return e.tickFormat()(a,b)}).valueFormatter(function(a,b){return j.tickFormat()(a,b)});g.tooltip.headerFormatter(function(a,b){return e.tickFormat()(a,b)}).valueFormatter(function(a,b){return j.tickFormat()(a,b)});var K=null,w=null;h.updateState(false);var J=c.utils.renderWatch(n);b.style();var L=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),style:b.style()}}},G=function(a){return function(b){b.active!==void 0&&a.forEach(function(a,
c){a.disabled=!b.active[c]})}},I=d3.format("%");b.dispatch.on("elementMouseover.tooltip",function(a){a.point.x=b.x()(a.point);a.point.y=b.y()(a.point);d.data(a).position(a.pos).hidden(false)});b.dispatch.on("elementMouseout.tooltip",function(){d.hidden(true)});a.dispatch=n;a.stacked=b;a.legend=f;a.controls=h;a.xAxis=e;a.yAxis=j;a.interactiveLayer=g;a.tooltip=d;a.dispatch=n;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return t},
set:function(a){t=a}},showLegend:{get:function(){return r},set:function(a){r=a}},showXAxis:{get:function(){return m},set:function(a){m=a}},showYAxis:{get:function(){return u},set:function(a){u=a}},defaultState:{get:function(){return F},set:function(a){F=a}},noData:{get:function(){return A},set:function(a){A=a}},showControls:{get:function(){return p},set:function(a){p=a}},controlLabels:{get:function(){return B},set:function(a){B=a}},controlOptions:{get:function(){return C},set:function(a){C=a}},showTotalInTooltip:{get:function(){return q},
set:function(a){q=a}},totalLabel:{get:function(){return k},set:function(a){k=a}},tooltips:{get:function(){return d.enabled()},set:function(a){c.deprecated("tooltips","use chart.tooltip.enabled() instead");d.enabled(!!a)}},tooltipContent:{get:function(){return d.contentGenerator()},set:function(a){c.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead");d.contentGenerator(a)}},margin:{get:function(){return i},set:function(a){i.top=a.top!==void 0?a.top:i.top;i.right=a.right!==void 0?
a.right:i.right;i.bottom=a.bottom!==void 0?a.bottom:i.bottom;i.left=a.left!==void 0?a.left:i.left}},duration:{get:function(){return s},set:function(a){s=a;J.reset(s);b.duration(s);e.duration(s);j.duration(s)}},color:{get:function(){return o},set:function(a){o=c.utils.getColor(a);f.color(o);b.color(o)}},rightAlignYAxis:{get:function(){return z},set:function(a){z=a;j.orient(z?"right":"left")}},useInteractiveGuideline:{get:function(){return D},set:function(c){D=!!c;a.interactive(!c);a.useVoronoi(!c);
b.scatter.interactive(!c)}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.models.sunburst=function(){function a(k){q.reset();k.each(function(a){function k(a){a.x0=a.x;a.dx0=a.dx}function q(a){var b=d3.interpolate(o.domain(),[a.x,a.x+a.dx]),c=d3.interpolate(p.domain(),[a.y,1]),d=d3.interpolate(p.range(),[a.y?20:0,n]);return function(a,e){return e?function(){return m(a)}:function(e){o.domain(b(e));p.domain(c(e)).range(d(e));return m(a)}}}d=d3.select(this);var F=c.utils.availableWidth(e,
d,b),A=c.utils.availableHeight(j,d,b),n=Math.min(F,A)/2,v;c.utils.initSVG(d);var C=d.selectAll(".nv-wrap.nv-sunburst").data(a),B=C.enter().append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+g).selectAll("nv-sunburst");C.attr("transform","translate("+F/2+","+A/2+")");d.on("click",function(a,b){t.chartClick({data:a,index:b,pos:d3.event,id:g})});p.range([0,n]);u=u||a;D=a[0];r.value(h[f]||h.count);v=B.data(r.nodes).enter().append("path").attr("d",m).style("fill",function(a){return i((a.children?
a:a.parent).name)}).style("stroke","#FFF").on("click",function(a){z!==u&&u!==a&&(z=u);u=a;v.transition().duration(l).attrTween("d",q(a))}).each(k).on("dblclick",function(a){z.parent==a&&v.transition().duration(l).attrTween("d",q(D))}).each(k).on("mouseover",function(a){d3.select(this).classed("hover",true).style("opacity",0.8);t.elementMouseover({data:a,color:d3.select(this).style("fill")})}).on("mouseout",function(a){d3.select(this).classed("hover",false).style("opacity",1);t.elementMouseout({data:a})}).on("mousemove",
function(a){t.elementMousemove({data:a})})});q.renderEnd("sunburst immediate");return a}var b={top:0,right:0,bottom:0,left:0},e=null,j=null,f="count",h={count:function(){return 1},size:function(a){return a.size}},g=Math.floor(Math.random()*1E4),d=null,i=c.utils.defaultColor(),l=500,t=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),o=d3.scale.linear().range([0,2*Math.PI]),p=d3.scale.sqrt(),r=d3.layout.partition().sort(null).value(function(){return 1}),
m=d3.svg.arc().startAngle(function(a){return Math.max(0,Math.min(2*Math.PI,o(a.x)))}).endAngle(function(a){return Math.max(0,Math.min(2*Math.PI,o(a.x+a.dx)))}).innerRadius(function(a){return Math.max(0,p(a.y))}).outerRadius(function(a){return Math.max(0,p(a.y+a.dy))}),u,z,D,q=c.utils.renderWatch(t);a.dispatch=t;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return j},set:function(a){j=a}},mode:{get:function(){return f},
set:function(a){f=a}},id:{get:function(){return g},set:function(a){g=a}},duration:{get:function(){return l},set:function(a){l=a}},margin:{get:function(){return b},set:function(a){b.top=a.top!=void 0?a.top:b.top;b.right=a.right!=void 0?a.right:b.right;b.bottom=a.bottom!=void 0?a.bottom:b.bottom;b.left=a.left!=void 0?a.left:b.left}},color:{get:function(){return i},set:function(a){i=c.utils.getColor(a)}}});c.utils.initOptions(a);return a};c.models.sunburstChart=function(){function a(d){o.reset();o.models(b);
d.each(function(d){var e=d3.select(this);c.utils.initSVG(e);var g=c.utils.availableWidth(f,e,j),i=c.utils.availableHeight(h,e,j);a.update=function(){l===0?e.call(a):e.transition().duration(l).call(a)};a.container=this;if(!d||!d.length){c.utils.noData(a,e);return a}e.selectAll(".nv-noData").remove();var p=e.selectAll("g.nv-wrap.nv-sunburstChart").data(d),o=p.enter().append("g").attr("class","nvd3 nv-wrap nv-sunburstChart").append("g"),k=p.select("g");o.append("g").attr("class","nv-sunburstWrap");p.attr("transform",
"translate("+j.left+","+j.top+")");b.width(g).height(i);d=k.select(".nv-sunburstWrap").datum(d);d3.transition(d).call(b)});o.renderEnd("sunburstChart immediate");return a}var b=c.models.sunburst(),e=c.models.tooltip(),j={top:30,right:20,bottom:20,left:20},f=null,h=null,g=c.utils.defaultColor();Math.round(Math.random()*1E5);var d=null,i=null,l=250,t=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),o=c.utils.renderWatch(t);e.headerEnabled(false).duration(0).valueFormatter(function(a){return a});
b.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:a.data.name,value:a.data.size,color:a.color};e.data(a).hidden(false)});b.dispatch.on("elementMouseout.tooltip",function(){e.hidden(true)});b.dispatch.on("elementMousemove.tooltip",function(){e.position({top:d3.event.pageY,left:d3.event.pageX})()});a.dispatch=t;a.sunburst=b;a.tooltip=e;a.options=c.utils.optionsFunc.bind(a);a._options=Object.create({},{noData:{get:function(){return i},set:function(a){i=a}},defaultState:{get:function(){return d},
set:function(a){d=a}},color:{get:function(){return g},set:function(a){g=a;b.color(g)}},duration:{get:function(){return l},set:function(a){l=a;o.reset(l);b.duration(l)}},margin:{get:function(){return j},set:function(a){j.top=a.top!==void 0?a.top:j.top;j.right=a.right!==void 0?a.right:j.right;j.bottom=a.bottom!==void 0?a.bottom:j.bottom;j.left=a.left!==void 0?a.left:j.left}}});c.utils.inheritOptions(a,b);c.utils.initOptions(a);return a};c.version="1.8.1-dev"})();
