(function(c){c.fn.autogrow=function(j){return this.filter("textarea").each(function(){var g=this,a=c(g),h=a.height(),i=a.hasClass("autogrow-short")?0:parseInt(a.css("lineHeight"))||0,d=c.extend({preGrowCallback:null,postGrowCallback:null},j),e=c("<div></div>").css({position:"absolute",top:-1E4,left:-1E4,width:a.width(),fontSize:a.css("fontSize"),fontFamily:a.css("fontFamily"),fontWeight:a.css("fontWeight"),lineHeight:a.css("lineHeight"),resize:"none","word-wrap":"break-word"}).appendTo(".ui-layout-center"),
f=function(b){var c=g.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n$/,"<br/>&#xa0;").replace(/\n/g,"<br/>").replace(/ {2,}/g,function(a){for(var c=0,b="";c<a.length-1;c++)b+="&#xa0;";return b+" "});b&&(b.data&&"keydown"===b.data.event&&13===b.keyCode)&&(c+="<br />");e.css("width",a.width());e.html(c+(0===i?"...":""));b=Math.max(e.height()+i,h);null!=d.preGrowCallback&&(b=d.preGrowCallback(a,e,b,h));a.height(b);null!=d.postGrowCallback&&d.postGrowCallback(a)};a.change(f).keyup(f).keydown({event:"keydown"},
f);f()})}})(jQuery);
